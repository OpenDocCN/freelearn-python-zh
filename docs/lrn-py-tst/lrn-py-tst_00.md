# 前言

在这本书中，您将了解 Python 3 语言中自动化测试的主要工具、技术和技能。您将了解 Python 标准库中包含的工具，如 doctest、unittest 和 unittest.mock。您还将了解如 Nose 和 coverage.py 等有用的非标准工具。在我们讨论这些工具时，我们还将讨论测试的哲学和最佳实践，因此您完成学习后，将准备好在现实世界项目中应用所学知识。

这本书是早期书籍《Python 测试：入门指南》，作者丹尼尔·阿巴克勒，出版社 Packt Publishing 的后续作品，该书仅涵盖 Python 2.6 版本之前的 Python。Python 3 及其相关工具与本书略有不同，不足以将其称为第二版。如果您已经阅读了早期书籍，并且这本书的某些部分看起来很熟悉，那是因为两本书实际上是相似的。

# 这本书涵盖的内容

第一章, *Python 与测试*，介绍了 Python 中的形式化和自动化测试。

第二章, *使用 doctest*，教您如何使用 doctest，这是一个将测试和文档集成的工具。

第三章, *使用 doctest 进行单元测试*，帮助您理解如何将 doctest 应用于单元测试领域。

第四章, *使用 unittest.mock 解耦单元*，教您如何创建和使用模拟对象。

第五章, *使用 unittest 进行结构化测试*，帮助您使用 unittest 构建更结构化的测试套件。

第六章, *使用 Nose 运行测试*，帮助您通过一条命令运行 doctests、unittests 等。

第七章, *测试驱动开发实践*，逐步引导您通过测试驱动开发过程。

第八章, *集成与系统测试*，教您如何测试代码单元之间的交互。

第九章, *其他工具和技术*，帮助您了解持续集成、版本控制钩子以及其他与测试相关的有用事物。

# 您需要这本书的什么

您需要 Python 3.4 或更高版本、文本编辑器和互联网访问才能充分利用这本书。

# 这本书面向谁

本书主要面向那些对 Python 语言有扎实掌握，并希望提高自动化测试能力的人群。如果您对 Python 一无所知，本书仍可作为自动化测试哲学和实践的入门指南。然而，由于 Python 的可执行伪代码特性，您可能会在某些时候发现道路有些崎岖。

# 惯例

在本书中，您将找到多种文本样式，用于区分不同类型的信息。以下是一些这些样式的示例，以及它们的意义解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 用户名应如下显示：“Mock 对象由标准库中的`unittest.mock`模块提供。”

代码块应如下设置：

```py
class ClassOne:
    def __init__(self, arg1, arg2):
        self.arg1 = int(arg1)
        self.arg2 = arg2

    def method1(self, x):
        return x * self.arg1
```

当我们希望您注意代码块中的特定部分时，相关的行或项目将以粗体显示：

```py
class ClassOne:
    def __init__(self, arg1, arg2):
        self.arg1 = int(arg1)
        self.arg2 = arg2

    def method1(self, x):
        return x * self.arg1
```

任何命令行输入或输出都应如下编写：

```py
$ python -m nose
```

**新术语**和**重要词汇**以粗体显示。

### 注意

警告或重要注意事项以如下框的形式出现。

### 小贴士

小技巧和技巧如下所示。

# 读者反馈

我们始终欢迎读者的反馈。请告诉我们您对这本书的看法——您喜欢什么或可能不喜欢什么。读者反馈对我们开发您真正能从中获得最大收益的标题非常重要。

要向我们发送一般反馈，只需发送一封电子邮件到`<feedback@packtpub.com>`，并在邮件主题中提及书名。

如果您在某个主题上具有专业知识，并且您对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您已经是 Packt 图书的骄傲拥有者，我们有许多事情可以帮助您充分利用您的购买。

## 下载示例代码

您可以从您在[`www.packtpub.com`](http://www.packtpub.com)的账户下载您购买的所有 Packt 图书的示例代码文件。如果您在其他地方购买了这本书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

## 错误

尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在我们的某本书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以避免其他读者感到沮丧，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来报告它们。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站或添加到该标题的勘误部分下的现有勘误列表中。

要查看之前提交的勘误，请访问[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将出现在**勘误**部分下。

## 盗版

互联网上版权材料的盗版是所有媒体中持续存在的问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在网上发现我们作品的任何非法副本，无论形式如何，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

如果您发现涉嫌盗版的内容，请通过发送链接到`<copyright@packtpub.com>`与我们联系。

我们感谢您在保护我们作者和我们为您提供有价值内容的能力方面的帮助。

## 问题

如果您在本书的任何方面遇到问题，可以通过`<questions@packtpub.com>`与我们联系，我们将尽力解决。
