# 第七章。亚历克斯·马尔蒂

![亚历克斯·马尔蒂](img/B08180_01_01.jpg)

亚历克斯·马尔蒂是一位意大利计算机工程师。他是《Python 精粹》第一版和第二版的作者，也是《Python 烹饪秘籍》第一版和第二版以及《Python 精粹》第三版的合著者。亚历克斯是 Python 软件基金会（PSF）的会员，也是 2002 年激活者选择奖和 2006 年弗兰克·威利森纪念奖的获得者，这些奖项是为了表彰他对 Python 社区的贡献。自 2005 年以来，他一直在谷歌工作，如今他是为谷歌云平台提供社区支持的团队的高级工程师和技术负责人。亚历克斯是 Stack Overflow 的活跃贡献者，也是技术会议上的常客演讲者。

> **讨论主题：Python 书籍、v2.7/v3.x、谷歌的 Python**。
> 
> **与亚历克斯·马尔蒂保持联系：@aleaxi**

**迈克·德里斯科尔**：你能给我们提供一些关于你自己的背景信息吗？

**亚历克斯·马尔蒂**：我在我的祖国意大利获得了电气工程学位。然后我开始寻找可以设计集成电路的工作。设计其他类型的系统听起来很酷，但集成电路才是当时的热门。

当时，大多数真正有趣的设计都是由美国公司完成的，所以我最终在美国找到了我的第一份工作，具体是在德州仪器（TI），这家公司至今仍在运营。

德州仪器（TI）非常突出，既有消费产品，也有很多非常有趣的芯片。但我们显然并不兼容，因为 TI 的工作风格包括开始很多项目，然后非常突然地终止它们。我发现自己一次又一次地陷入被终止的项目团队中。

> **亚历克斯·马尔蒂**：“我发现自己一次又一次地陷入被终止的项目团队中。”

我不能责怪德州仪器（TI）这样做。他们试图最小化对工程师生活的影响，作为最年轻的人，以及一个移民，我在任何特定的地方显然都没有根基。不到一年，我就结束了在达拉斯、奥斯汀、休斯顿和拉伯克的工作。不到一年就在四个不同的实验室工作了！

这有点压力，所以我重新开始与 IBM 研究所的谈判，当时我拒绝了 TI 的有趣提议。这并不广为人知，但 IBM 曾经制造过一些商业中最具创新性的集成电路，尤其是在研究层面，那里不会大规模生产，而是作为概念验证。IBM 在该领域仍然拥有令人难以置信的技术。

我记得大约在那个时候，IBM 因为用单个原子拼写出 IBM 这个词而获得了诺贝尔奖，这是一种非常新颖的电子显微镜使用方法，用来放置原子而不是观察它们。这仍然让我觉得像是一场科幻事件。

在某个时候，IBM 决定它想在意大利建立一个研究实验室，具体是在罗马，并征求志愿者。当然，我自愿参加了。这将给我一个有趣的视角，并让我回到我的祖国，更好的卡布奇诺和意大利面是主要的吸引力！所以我在 80 年代又回到了意大利，我的职业生涯也从那里开始发展。

**德里斯科尔**：你是如何成为计算机程序员的？

**马尔蒂**：所以这是在 IBM 的时候。我们刚刚完成开发这个原型图像处理机，在当时，这真是令人难以置信。它有专用芯片，一个大型的帧缓冲器，以及当时价格不菲的显示器（尽管现在它可能被认为没什么特别）。

> **亚历克斯·马尔蒂：'我们刚刚完成开发这个原型图像处理机，在当时，这真是令人难以置信。'**

在我们原型机成功发射的庆祝会上，一位总监走过来对我说：“恭喜你和所有团队成员。遗憾的是，这个原型机现在将要在角落里闲置了。”我回答说：“为什么它要在角落里闲置呢？在 IBM 研究部，我们有来自各个学科的许多科学家，天文学家到地质学家都有需求。”

“是啊，对吧，”他说，“但你的设备不支持科学家使用的编程语言，比如 Fortran 和 APL。要使用这个设备，你需要编写一个通道程序。”地质学家和天文学家根本不做这些。这需要一个大型的软件开发项目来构建他们需要的所有接口和库。

我接着说：“嗯，我们能不能组建一个小团队来开发那个软件？”于是他挑战我说：“你认为需要多少人？”

我非常渴望“我的”机器能够被使用，而不是闲置，所以我提出了一个非常低的数字。“也许三个？”

他回答道：“好的，我可以安排人员。那么你就去组建团队。六个月内给我展示一些可以工作成果。”

我想这就是你成为 IBM 总监的方式吧。并不是通过设定低标准。所以我不得不临时担任一个低级别管理者（我认为技术负责人这个术语更准确）。我需要自学足够的软件知识来开始编写通道程序，将它们集成到库中，并找出他们希望在库中使用的算法，特别是那些可以通过这个非常强大的外围设备加速的算法。

**德里斯科尔**：那么你成功了吗？

**马尔蒂**：六个月后，我们有一个勉强可以工作的概念验证，但我们被允许继续进行。最终，这花了几年时间，但我们确实按照预期交付了 APL 和 Fortran 的工作库。这实际上是非常有意义的。

> **亚历克斯·马尔蒂：'我们确实按照预期交付了 APL 和 Fortran 的工作库。这实际上是非常有意义的。'**

它使这块美丽的硬件变得有意义。实际上，它可以为科学家和其他程序员提供强大的图像处理和可视化。没有中间软件，他们不会自学汇编编程和通道编程来完成这项工作。

从我的观点来看，问题是我已经两年多没有进行任何硬件设计了。我甚至没有关注该领域的发展。当时，硬件设计，尤其是在集成电路层面，每年大约有一次革命。所以如果你不是非常了解游戏，那么你就会失去方向。

**Driscoll**：这就是你转向软件的原因吗？

**Martelli**：嗯，我必须意识到，尽管我有多年的经验，但我可能被任何刚从大学毕业、掌握最新技术和工具的聪明人绕圈子。

另一方面，我也必须意识到，即使是 simplest 的管理软件，对于我真正想做的事情来说，也是一种巨大的增值，那就是用专用集成电路制作酷炫的系统。

因此，在几年后的滑坡上，我不得不承认，我实际上已经无法再设计出体面的现代硬件了。一切越来越趋向于软件和管理。我认为有很多类似情况的人，他们最初从硬件方面开始，然后逐渐意识到他们的硬件并没有真正解决问题。

> **Alex Martelli**：'很多人...最初从硬件方面开始，然后逐渐意识到他们的硬件并没有真正解决问题。’

我女儿现在也处于类似的情况。她拥有电信工程（高级无线电系统）的博士学位，并且非常热衷于专注于硬件。如今，她的工作日大约有四分之三是在做软件。这是因为本质上，所有网络，越来越多地深入到低层，都是由软件驱动的。

你不会设计一个单独的、没有智能和软件的专用天线。如今，你的设备必须拥有令人眼花缭乱的众多天线，以及足够的智能来找出在某个时刻应该激活哪些天线，基于信号质量。这远远超出了我毕业时对无线电的理解，但它确实是当今的软件网络。

**Driscoll**：那么你是如何最终接触到 Python 本身的？

**Martelli**：哦，那是一个不同有趣的故事。在我第一次接触到迷人的软件世界多年之后，我利用自己的时间和设备，独自开发了一套关于桥牌的想法的实验系统。

桥牌是在 20 世纪 20 年代由哈罗德·范德比尔特发明的。直到我开始涉猎这项游戏的时候，关于桥牌的数学理论很少。有一个主要的例外：伟大的数学家埃米尔·波雷尔，他写了一本关于桥牌数学理论的书。

到我出现的时候，计算机已经变得足够强大、强大和便宜，可以用于娱乐用途，而不一定需要大的回报。所以我复活了一个在 20 世纪 30 年代首次作为思想实验提出的主意，并在我的新个人电脑上付诸实践。

> **亚历克斯·马尔蒂：'我复活了一个在 20 世纪 30 年代首次作为思想实验提出的主意。'**

也许我表现得像一位典型的硬件专家转向软件，因为我的解决方案并没有组织成一个漂亮的编程系统；它是由许多编程语言组成的糟糕混合体。我从 Modula-3 到 Perl，再到 Visual Basic 和 Scheme，已经数不清了，但整个系统确实运行起来了！

**德里斯科尔：程序玩了很多游戏并成功了吗？**

**马尔蒂：程序实际上玩了一百万次每一手牌，并记录了结果。它证实了 Ely Culbertson 的非凡直觉，他是 20 世纪 20 年代和 30 年代桥牌界最杰出的人物。**

因此，我将所有内容写成了一篇研究论文，并提交给了该领域最负盛名的杂志：《世界桥牌》。编辑非常热情，并和我一起大幅改进了这篇论文。我的研究在 2000 年 1 月和 2 月发表在《世界桥牌》杂志上。

之后，我开始收到桥牌选手的来信，包括冠军选手，他们问我：“嘿，你能将你的理论和你的方法应用到我在这个特定问题上遇到的困难吗？”

我很乐意满足他们的要求，但整个事情非常脆弱，每次我改变这里的逗号，那里就会出问题。真是一团糟！所以我决定，尽管这通常被认为是一个陷阱，但整个系统需要重写。我希望它尽可能使用单一的语言，但到底哪种单一语言确实是个问题！

**德里斯科尔：那么，你找到了你正在寻找的语言吗？**

**马尔蒂：唯一有足够力量的语言将是 Lisp。我确实一直对 Scheme 有强烈的偏好，但也许这与 Scheme 本身的硬件背景有关。**

问题是我能得到的免费版本，根本不够我完成所有辅助任务所需的库。这是一个个人项目，我已经投入了很多小时，但我不想再花钱了。一位同事说：“嘿，你应该试试即将推出的这种全新的语言。它非常流行，被称为 Python。”

> **亚历克斯·马尔蒂：'一位同事说：“嘿，你应该试试即将推出的这种全新的语言。它非常流行，被称为 Python。”'**

我说：“哦，得了吧！我至少知道十种语言。我最不需要的就是再学一种！”他一直坚持，我对这个人非常尊重，所以我最终屈服了，并试了试。我给自己设定了一个小任务，用这种全新的语言来解决，看看我能走多远。

> **亚历克斯·马尔蒂利：'我说，'哦，得了吧！我至少知道十种语言。我最不需要的就是再学一种新语言！'**

另一件事是在 20 世纪 90 年代末，我对“网络”这个新事物所知甚少。它看起来很有趣，所以我决定开发一个网站。我在一个周末内自学了网络技术，以及 Python 编程语言！正如我所说，如果你想在这一领域有所作为，你必须多少有些雄心壮志！

我是在周五晚上开始编程的，并且一直在查看手册。在某个时候，我开始越来越少地查看手册，因为如果我只是通过类比其他地方的工作方式来猜测 Python 的工作方式，那么我 90%以上的时间都是正确的。这个语言似乎是为我的大脑设计的，并且完全按照我的大脑的方式工作。

> **亚历克斯·马尔蒂利：'那个语言似乎是为我的大脑设计的，并且完全按照我的大脑的方式工作。'**

到了周六下午早些时候，我已经完成了。我开发了一个可以计算桥牌游戏中花色分配条件的条件概率的 CGI 和 Web 应用程序！现在，我可以用剩下的周末时间做些什么呢？

我说：“我知道，它很好，但它只有意大利语，这可能对其他语言的读者也很有趣。让我也制作一个多语言版本，包括英语或法语，这两种语言我都说得很好。”

我意识到我需要一个模板系统。所以我四处寻找 Python 的模板系统，但并没有太多成功。我尝试使用 Gofer 和其他当时的工具。

最后，我决定自己编写一个模板系统！我把它命名为“另一个 Python 模板工具”（YAPTU）。到了周日，它运行得很好。所以我把它打包起来，发送到当时分发免费软件的一个地方，我就有了我的工作网站。

**德里斯科尔：你有没有引起任何兴趣？**

**马尔蒂利：** YAPTU 实际上吸引了一个当时恰好负责加州大学伯克利分校计算机科学网站的人的注意。他认为 YAPTU 是最好的模板工具。他之前已经决定使用 Python，因此他做了一些改进，然后发给我一个补丁文件。我们开始讨论事情，然后成为了朋友。

> **亚历克斯·马尔蒂利：'我们开始讨论事情，然后成为了朋友。那个人是彼得·诺维格，他现在是谷歌的研究总监...'**

那个人是彼得·诺维格，他现在是谷歌的研究总监，也是畅销书《人工智能：现代方法》的作者。所以 Python 在那个时期已经开始给我带来有趣的联系了。

我试图在工作中推广 Python，但不幸的是没有取得多大成功。决策权掌握在专业管理层手中，他们知道未来是 Windows。我们的程序虽然主要是为 Unix 工作站设计的，但其他什么都不会存活。确实，如今你几乎在任何地方都买不到 Unix 工作站；到处都是装有 Linux 或 Windows 的 PC。从这个意义上说，他们的愿景是正确的。

我并不喜欢我们的编程语言被限制在微软真正想要支持的范围之内。我永远无法从高层管理获得官方批准。我不得不偷偷地将 Python 引入高层管理不会注意到的地方，比如我们所有的测试框架，这是一个对 shell 脚本`haha.bat`文件的修改。

那是在 Windows 的.cmd 时代之前。它们都变成了非常有用且易于维护的 Python 脚本，但有一点不尽如人意。我整天都在调试 Microsoft Fortran 编译器的问题，然后在能偷到的时间碎片里做 Python。

**Driscoll**：稍微换个话题，你是如何成为 Python 书籍作者的？

**Martelli**：我非常喜欢 Python，所以我想回报。我想回报 Guido van Rossum 和 Python 社区中的每一个人给予我的巨大礼物，他们通过开发这种语言为我们所有人做出了贡献。

我能做什么呢？嗯，有一个名为 comp.lang.python 的 Usenet 群组，人们在那里提问和回答问题。我总是擅长帮助人们解决技术问题。所以，尽管我对这种语言是个新手，我还是开始关注。每当我发现一个我认为可以富有成效和建设性地回答的问题，我都会这样做，而且显然取得了很大的成功！

> **Alex Martelli**：“我总是擅长帮助人们解决技术问题。”

仅仅几个月后，Python 社区的一位资深人士给我起了个昵称叫 Martelli Bot。显然，我是 Python 社区中的第三个“机器人”。这个昵称的意思是，大量的总是正确的答案使你被认定为机器人。顺便说一句，给我起这个有趣昵称的人是 Steve Holden，我很荣幸地说，他是我的合著者之一，我的最新书籍《Python in a Nutshell》的第三版。

所以无论如何，这让我在 Python 社区赢得了街头信誉，并给了我勇气去接触 O'Reilly，注意到那里没有*Python in a Nutshell*。我说：“嘿，也许我，或许和一个更有经验的合著者，可以在这方面做些什么？”

他们说：“你为什么需要一个合著者？给我们发一个样章和章节计划。”事情就这样发展起来。

> **Alex Martelli**：“我说，‘嘿，也许我，或许和一个更有经验的合著者，可以在这方面做些什么？’”

**Driscoll**：你是如何找到写*Python Cookbook*的机会的？

**Martelli**：我不得不稍微绕一下弯路，共同编写《Python Cookbook》，因为在早期规划中途失去了一位作者。这很有趣，因为那些是来自社区的食谱，但经过重新表述和调整，实际上可以有效地解决那些愚蠢的问题。

我还在 ActiveState 网站上贡献了很多食谱。那总是很有趣！那相当于现在的 Stack Overflow。关于特定主题的技术问题的问题和答案在 Stack Overflow 上得到了很好的服务。我在那里非常活跃：我是 Python 标签的第二大帖主，在声誉排名中位于首页前 0.001%。

顺便提一下，Stack Overflow 的首席数据科学家刚刚发表了一项关于编程语言流行度及其如何随时间变化的研究，这是基于 Stack Overflow 上的标签和问题。最受欢迎且增长最快的编程语言是 Python。

> **Alex Martelli**：“预测是 Python 将成为最受欢迎的编程语言，并且到 2019 年初将成为开发者最活跃的语言。”

预测是 Python 将成为最受欢迎的编程语言，并且到 2019 年初将成为开发者最活跃的语言。目前，它仅低于 Java 和 JavaScript，但它已经超过了其他所有语言。Perl 已经消失，Ruby 已经消失，C#正在急剧下降。只有 Java 和 JavaScript 还在，但它们非常平稳，而 Python 则增长迅猛。

> **Alex Martelli**：“只有 Java 和 JavaScript 还在，但它们非常平稳，而 Python 则增长迅猛。”

从一个大的基数来看，年增长率达到了 27%。我发现这证实了今年早些时候 Spectrum 杂志发表的一篇文章，该文章宣称 Python 是今年最受欢迎的编程语言。

这是基于一种主观的混合，包括非常不同的指示，如工作机会、课程和研讨会。而 Stack Overflow 的研究则是完全定量、完全客观的，并且仅基于一个极其庞大的数据量。他们得出了完全相同的结论，只不过 Stack Overflow 当然能够更精确地量化这些事情。

**Driscoll**：那么，你能描述一下作为书籍作者你学到的东西吗？

**Martelli**：首先，无论你认为你对一种语言了解得多好，直到你用那种语言写了几本书，你很可能都是错的。

理想情况下，你应该与一个耐心而坚定的编辑合作写作，其角色是了解语言、它在印刷页上的外观以及读者如何吸收它。

当然，英语是我的第三语言，所以我从未认为我有特别强的掌握它的能力。但写书提高了我对至少在书面英语中问题的理解。

> **Alex Martelli**：“我们会继续使用编程语言，因为自然语言的固有歧义、强大和难度。”

自然语言是多么强大、丰富和困难的一个工具，这真是令人惊讶。这就是为什么我们会继续使用编程语言：因为自然语言固有的歧义性、强大性和困难性。在那里用绝对精确的方式表达事物是不可能的。

**德里斯科尔问：“你能举一个例子吗？”**

**马尔蒂利说：“我在邮件列表中读过一个轶事，关于自动化和计算的风险。它是一个在大城市区域正式定义的系统，用于调度救护车。显然，这是一个生死攸关的任务。”**

在最初用自然语言写下的内容以及约束条件之一是，当接到紧急电话，并且症状被识别为中风时，救护车将在不超过 15 分钟的时间内到达（这仍然是给你留下良好机会的最大时间）。

当系统从自然语言翻译成经过验证的正确编程时，许多事情都得到了改善，除了有少数但令人担忧的情况，救护车已经被安排，但从未出现。所以发生的事情是自然语言根本无法映射到形式逻辑。

> **亚历克斯·马尔蒂利说：“自然语言根本无法映射到形式逻辑。”**

记住，这是一个城市地区，有交通。尽管救护车可能一直在鸣响警报，但它可能仍然被阻塞了数分钟。如果发生这种情况，当 15 分钟和 0.01 秒过去后，系统推断救护车已经到达，因为其中一个假设是救护车总是会在 15 分钟内到达。所以如果救护车已经到达，再派另一辆去那里就没有用了。这意味着它被重新调度了。

在自然语言中，当我们说救护车必须在 15 分钟内到达时，这不是一个公理，因为它是一个愿望。我们真正意思是这绝对重要，无论如何，请尽快让救护车到达那里。这不意味着如果你没有做到，就放弃它，因为 15 分钟和 1 秒是无用的。这是不理想的，但总比没有好！

> **亚历克斯·马尔蒂利说：“当你处于编程语言中时，你的断言要简单得多：你说会发生什么。”**

这就是自然语言如何让你不断陷入困境的一个小例子。当你处于编程语言中时，你的断言要简单得多：你说会发生什么。如果这不是真的，那么你抛出一个异常。在自然语言中，有太多的背景知识你不可避免地认为是理所当然的。这包括所有常识以及在这个文化中成为一个人意味着什么。

**德里斯科尔问：“所以你能描述一下你与你的书读者的最有趣的互动吗？”**

**马尔蒂利**：有几个！我可能认为其中一些最有趣的是在工作中，一位同事会走过来对我说，“所以，我注意到...”他们刚刚编写的一些程序或函数的奇怪行为。

我会看看并找出问题，并帮助他们修复它。这并不是因为我比其他人更了解 Python，而是因为我有所谓的*调试器眼睛*。如果你给我一页文本，其中有一个打字错误，出于某种原因，我会在看到其他任何内容的上下文之前看到这个打字错误。这实际上在编程中非常有帮助，就像在电路设计中一样。

人们过去常说，“所以，我总是想问你，你是写那本书的 Alex Martelli 吗？”说“是的，那是我，在我那充裕的业余时间！”还挺有趣的！

> **亚历克斯·马尔蒂利：“你也需要认可，而不仅仅是硬核的结果。”**

这让我的一天变得很愉快。这种情况现在很少发生了，因为我已经在现在的雇主那里工作了 12 年半，人们已经足够了解我了。我的意思是，这并不是客观上有生产力的，但嘿！你也需要认可，而不仅仅是硬核的结果。

**德里斯科尔**：你认为 Python 2.7 已经死去了吗？

**马尔蒂利**：*Python in a Nutshell*的第三版有一个问题。我认为我们是对的，Python 2.7 远未死去。

可能，目前部署在生产中的大多数 Python 代码行都是 Python 2.7，或其他 Python 2 版本，但它们几乎可以不费吹灰之力迁移到 2.7。所以显然 Python 2.7 不会消失。实际上，它可能会在 2020 年消失，那时 Python 软件基金会（PSF）将正式停止支持它（尽管我打赌一些企业家会以商业为基础提供持续支持）。因此，涵盖 Python 3、3.5 和 3.6 也很关键，它们是我们计划和撰写本书时的最新发布和即将发布的版本。

> **亚历克斯·马尔蒂利：“Python 2.7 远未死去。”**

现在放弃 2.7 还为时过早。所以我们有一本书涵盖了两者，如果你只关心其中一个，这就会变得多余。这是下一个版本将解决的问题。当然，我们只会是 Python 3 某个版本，不再需要 2.7。

许多东西将保留在 2.7 中，可能是因为它只是一个庞大的代码库。例如，YouTube 本质上是一个 Python 系统。有数百万行超级优化的 2.7 代码，坦白说，从商业角度来看，很难证明将所有这些代码都迁移过来是合理的。考虑到 YouTube 过去 10 多年投入的优化量，我们不能说重写 X 百万行代码。

如果重写能让 YouTube 的速度慢 10%，你能量化这种成本吗？不仅仅是对于谷歌，对于每个人，考虑到 YouTube 流量占据了互联网带宽的很大一部分？10%的性能影响将严重恶化每个人的生活。我们负担不起！所以这会通过其他途径进行。

**德里斯科尔**：那么，Python 作为一门语言目前有哪些问题？

**马尔泰利**：那么，如果我有魔法棒，可以回到 Python 第一版发布之前，并且只能做出一个改变，我会让它不区分大小写。

> **亚历克斯·马尔泰利**：“许多最好的语言都是不区分大小写的。对我来说，这将是最伟大的改进。”

我知道自从 C 语言出现并主导了场景以来，人们认为不区分大小写很奇怪。但从 Fortran 到 Pascal 再到 Ada，许多最好的语言都是不区分大小写的。对我来说，这将是最伟大的改进。

你可能不会在西方文化中注意到这一点，但小写和大写的概念完全是人为的。它们在很大程度上是我们文化和我们偶然发展起来的写作方式的产物。

我非常喜欢 Macintosh 文件系统，因为当你创建一个文件大写 F-O-O（`FOO`）时，它会保留那个大小写。但如果你查找小写`foo`，它仍然会给你那个文件。这对于人类来说更有可能符合你的需求。

> **亚历克斯·马尔泰利**：“语音输入突然成为了一种绝对主要的输入方式。”

想想语音识别系统。语音输入突然成为了一种绝对主要的输入方式，因为手机使得与它们说话比使用它们的小键盘要容易得多。在这种情况下，必须保持大小写区分是一个杀手锏，这也显示了它是多么地完全人为！指定大写或小写根本不是自然的发音。

我发现自己属于一个极少数的人，希望 Python 不区分大小写。确实，几乎与 Python 竞争的每一种语言都是大小写敏感的，所以我想这几乎是今天所有流行语言的缺陷。

Python 与其他语言不同的地方之一，如果它以同样的方式做，它将是一个更好的语言，那就是 Python 的关键词之一。最受欢迎的关键词之一是 `def`，它用于定义一个函数。问题是它既不是一个关键词，也不是一个单词。它没有任何意义！你知道哪个语言做得对吗？JavaScript。

**德里斯科尔**：JavaScript 有什么不同？

**马尔泰利**：等效的关键词是 `function`。我无法想象 Python 为什么一开始不用 `function`。这显然是显而易见的！`function` 要多打四个字符，但那又怎样！任何编辑器都会自动完成，对吧？

我知道从技术角度讲，说 `def foo` 或 `function foo` 完全没有区别。但我关注的是那些微小的可用性和可理解性缺陷。

> **亚历克斯·马尔泰利**：“Python 可能是历史上最易用和最易理解的编程语言。”

Python 可能是历史上最易用和最易理解的编程语言。所以，它不那么友好的那些地方就更加突出。

Python 只有一种范围类型，而且总是不包括上界，因此它更加一致和清晰。那些使用完全任意的单词，如`def`的地方，语言本可以设计成使用像`function`这样的可读性单词。

如果人们完全被长单词`function`吓到，我会允许使用`fun`。这有点像是个玩笑。毕竟，这种语言是以蒙提·派森命名的，所以你可以把`fun`看作是`function`的缩写，或者简单地选择它，因为使用 Python 很有趣。这总比`def`要好。

**Driscoll**：你认为 Python 最大的优势是什么？

**Martelli**：我实际上是在处理故障时回答这个问题的。Python 的优势在于其清晰性和一致性，以及语言所追求的目标，即只有一种自然且明显的方式来做事。

当然，我们无法完全达到那里，因为例如，加法是交换的，所以`a + b`和`b + a`是表达和的两种方式，Python 无法改变这一点。但这是一个追求的目标，并且它确实有助于使别人的代码在你第一次阅读时更加易于理解。

如果他们至少是一个好的 Pythonista，或者甚至是一个初学者，他们大多数情况下会选择那种明显的方式，因为它确实倾向于明显。在他们没有选择，而你向他们展示它本可以是怎样的情况下，说服他们要容易得多。所以这种追求给出一种明显表达方式的尝试是使语言如此清晰、有用和易用的原因之一。

> **Alex Martelli**：“这种追求给出一种明显表达方式的尝试是使语言如此清晰、有用和易用的原因之一。”

Python 扩展到几乎可以用于你所能想到的每一个应用领域，我认为这源于这种清晰性和概念上的简单性。它确实使得人们很容易上手。

并不是每个人的大脑都会像我的那样完美匹配 Python。我并不是说每个有经验的程序员都能在周末内自学 Python，但 Python 是一种可以实现这种情况的语言。尽管我喜欢其他语言中的很多事物，比如 Rust，但我无法想象有人在周末内用 Rust 做到同样的事情。

**Driscoll**：那么你认为 Python 的未来在哪里？

**Martelli**：到处都是！你知道，过去几年最伟大的科学成果之一就是引力波的发现。

我们在 PyCon Italia 会议上举办了几场关键演讲。Python 代码作为通用语言，控制着所有负责收集数据的仪器，最终显示了两颗黑洞正在相互碰撞并发出那些波。

> **Alex Martelli**：“Python 在那里指导数据处理。”

顺便说一句，如果我记得正确的话，仅仅由那个事件产生的波浪在几秒钟内产生的能量比整个宇宙一起发送的能量还要多。这是一个相当的现象，Python 在那里指导数据处理。也就是说，监督所有这些测量数据的清理、分析和相关性，以将它们解释为一种极其强大、持续时间极短的远程事件。那个冲突发生在数十亿年前，而现在正是那些波浪到达这里。这是一个例子。

当然，科学之所以迷人，正是因为如此。我越来越多地与大型互联网公司聊天，这些公司仍然倾向于，对于它们的核心应用，使用其他编程语言。他们这样做是因为创始人知道这一点，他们不得不适应 Python，仅仅是因为他们收购了其他公司。

高科技领域正在进行大量的收购。很多时候，那些其他公司都在使用 Python，因为这是他们成功的一部分。他们的生产力是使用较少语言的人的两倍或三倍。

**Driscoll**：你认为更多的公司会开始使用 Python 吗？

**Martelli**：是的，任何大型公司都需要在其生产系统中采用 Python 作为被接受的事物之一。TensorFlow 的发布向我表明，Python 肯定会在机器学习和人工智能的前沿。

即使内部使用超级优化的 C++和汇编语言，在应用层面，业务逻辑将使用 Python，因为花费精力重新制作它没有意义。所以 TensorFlow 的核心是 Python。

> **Alex Martelli**：“TensorFlow 的发布向我表明，Python 肯定会在机器学习和人工智能的前沿。”

我想象不出 Python 永远不会被使用的细分市场。但让我们讨论一个例外：嵌入式系统。Python 的传统实现并不是内存使用非常节省的用户。在嵌入式系统中，你需要有这一点。然而，如果不是 Python 本身，某些方言可以解决这个问题。

具体来说，针对嵌入式语言设备编程物联网世界的 Python 方言被称为 MicroPython。我听说，BBC 正在分发，或者已经分发了大约一百万台运行 MicroPython 的设备给学童。

**Driscoll**：那么这是 Python 吗？

**Martelli**：这不是完整的 Python，因为它必须对内存使用施加一些限制。

你不能在两美元的设备上仅仅动态分配内存。它必须要有 64K，或者一定量的固定内存。但即使在这种动态分配的限制下，你仍然可以做很多编程工作。

过去有一些实现上的特殊性阻碍了 Python 在某些应用中使用，但现在它们正在被攻击。我知道拉里·黑斯蒂斯正在努力移除全局解释器锁（GIL）。尽管人们认为 GIL 对 90% 的应用来说无关紧要，但它对那 10% 需要使用芯片制造商塞入的越来越多的核心的应用来说是一个杀手。 

如果你有一个优化以使用所有 32 或 64 个核心的算法，那么移除 GIL 将对那个小利基产生巨大的影响。逐渐，限制将消失。

> **亚历克斯·马尔泰利：'在操作系统的核心，我不相信我们会看到比现在更多的 Python。'**

在操作系统的核心，我不相信我们会看到比现在更多的 Python。Python 可以在动态分配是可接受的地方存在，但这只是内核的一小部分。也许一些非时间敏感的设备驱动程序可以做到这一点。但大多数情况下，我看到 Python 是在用户空间运行，而不是在内核空间。

**德里斯科尔：**为什么？

**马尔泰利：**内核将需要更低级别的语言，顺便说一句，它们迫切需要比 C 更好的语言，这就是我为什么在研究 Rust 的原因。

我真的很想看到一个用 Rust 编写的实验性和简单的操作系统内核。无论如何，它确实有这个潜力。Python 并没有，因为内存分配的问题。此外，MicroPython 的技巧并不真正有效，因为你确实需要一些动态性。在那里控制分页真的很困难。但除了那个超级困难、超级核心级别之外，我看不出有任何限制。我甚至不能说天高任鸟飞，因为引力波确实在天空中，但我们已经征服了它们。

> **亚历克斯·马尔泰利：'我甚至不能说天高任鸟飞，因为引力波确实在天空中，但我们已经征服了它们。'**

我唯一能想到的是，我们在 Python 移动开发方面还有很长的路要走。我听到一些好消息，但我没有与 Kivy 的个人经验。

这真的很遗憾，因为我记得吉多在谷歌时和安迪·鲁宾聊天，试图说服安迪，除了 Java 之外，Android 还需要一个更容易使用的应用级编程语言。安迪坚持他的观点，认为添加更多语言会让程序员更难。这不是真的！不幸的是，安迪是项目负责人，所以吉多无法取得任何进展。但如果我们能以某种方式更有说服力，那将是一个不同的世界。

**德里斯科尔：**在谷歌工作是什么样的体验？

**马尔泰利：**我在那里面试时找到的正是我所希望的，可能还有更多！

当然，对我来说，这已经是我漫长而多样化的职业生涯的巅峰。所以我的期望并不是像刚从大学出来的那些人那样充满憧憬。它们是通过观察在市场上运营的公司中发生的事情而变得成熟的。尽管如此，它很容易就被超越了，我甚至不确定这更多是关于公司，因为这是关于人。好吧，一个公司是由其人组成的。人们绝对出色是这个地方绝对出色的原因。

最终，秘诀就是拥有一群出色的人！现在，当谷歌有 7000 名员工时，这可能比有 70000 名员工时更容易。我的意思是，我不是说找到 70 个优秀的人很容易，但找到 70000 个肯定更难！我想，它不必是 100%，但应该接近 100%的出色人。

> **亚历克斯·马尔蒂：'最终，秘诀就是拥有一群出色的人！'**

通过出色的人，我并不一定是指仅仅聪明。我确信找到聪明人比找到正确类型的人更容易，这些人从人类层面上关心最终用户、同事和合作伙伴。我的意思是，聪明很重要，但一个聪明的混蛋可能比一个笨拙的人造成的损害更大，对吧？所以你首先想要的是关心的人：那些在情感上投入团队、供应商和用户成功的人。

**德里斯科尔**：找到这样的秘诀有魔法吗？

**马尔蒂**：我不这么认为！你可以读遍所有出版的书籍，但我真的不这么认为！因为在面试中假装关心和做其他事情比真正年复一年地这样做要容易得多。所以你可能会出错。

> **亚历克斯·马尔蒂：'你做的任何事情都可能被放大，并产生完全不成比例的影响。'**

在技术层面上，整个公司的规模当然会带来问题和挑战。但这也是你可以从工作中获得最大满足感的地方。你做的任何事情都可能被放大，并产生完全不成比例的影响。

只举一个例子：我确实说过我在 Stack Overflow 上很活跃。这其中的部分原因是我在今天的工作，那就是为谷歌云平台提供技术支持，而这大部分是通过 Stack Overflow 完成的。好吧，Stack Overflow 本身告诉我我已经帮助了超过 5000 万人。现在，我不知道他们是怎么猜测的，但我确实希望这是真的！我达到了回报所有别人给我的帮助，甚至更多的目标。

我知道我还没有达到我的书所达到的那个数量级。如果我有幸，我的书可能帮助了包括每本书的多个读者在内的一百万人。但它并没有达到 5000 万。这就是在谷歌工作的意义。

**德里斯科尔**：这有什么缺点吗？

**马尔泰利**：当然，要小心！一个错误会被放大同样多！一个小小的失误，你可能会让某个系统瘫痪一个小时。哎呀！现在至少让 5000 万人感到不便。但我喜欢玩这种超现实场景。

> **亚历克斯·马尔泰利**：“教授某事，帮助有问题的某人，可能是了解该问题的最佳方式。”

教授某事，帮助有问题的某人，可能是了解该问题的最佳方式。你从外部看这个问题，但随后深入其中，参与其中，并投入其中。你可以带着对该主题的更深入理解退出这个经历。

**德里斯科尔**：谷歌是如何使用 Python 的？

**马尔泰利**：好吧，这是一个很长的故事，但让我们从谷歌存在之前开始。我强烈推荐的一本书是史蒂文·列维的《在 plex 中》。他被赋予了前所未有的访问权限，以便为谷歌和谷歌人写这本书。

从那本书中，我学到的就是，在谷歌还不是一个名字之前，拉里·佩奇在他斯坦福大学的宿舍里，正在尝试编写一个蜘蛛程序，将网络内容复制到本地机器上，以便进行处理和实验。他想要使用这种新的语言，Java 1.0 beta，但整个系统一直崩溃。所以拉里转向他的宿舍室友问道：“嘿，你能帮我一下吗？我就是无法让这个程序运行！”

室友看了一眼然后说：“当然不是！是那个垃圾 Java！来吧！让我们使用真正的编程语言！”

拉里得到了 Python，100 行 Python 代码后，第一个蜘蛛程序诞生了，网络内容开始在这个宿舍房间里找到其路径。所以从某种意义上说，如果没有 Python 来帮助编写第一个蜘蛛程序，谷歌可能永远都不会诞生！

> **亚历克斯·马尔泰利**：“如果没有 Python 来帮助编写第一个蜘蛛程序，谷歌可能永远都不会诞生！”

这个蜘蛛程序如此关键，它肯定已经被重写了一百万次，我相当确信现在它是最优化的 C++代码之一。我已经很多年没有看过它了，但它的创作历史仍然有效。Python 和谷歌的下一个重大角色是作为所有深层基础设施任务的统一语言。

**德里斯科尔**：当时你在谷歌扮演什么角色？

**马尔泰利**：这就是我作为基础设施的超级技术领导者的介入之处。而不是使用 Bash、Perl 和其他强大但难以阅读的语言，所有东西都必须重新用 Python 编写。

那是我的第一份工作，基本上我和我的团队四处走动，与可靠性工程师、系统管理员等等合作，他们已经在 Bash 或 Perl 中编写了非常有用的工具。我们完全理解发生了什么，然后用 Python 重新编写它们，并在 Python 中实现它们。它是一百倍的可读性。

下一个重大突破是谷歌试图解决流媒体视频市场的需求。如果你听说过一个名为 Google Video 的项目，那里就是谷歌存放所有视频，展示给你，并让你搜索它们的地方。在当时，它背后有非常实质性的投资：数百名杰出的工程师和像明天就没有了那样的硬件资源。

Google Video 一直在与几英里外的一个小公司争夺功能战。每次这个小小的初创公司推出一个客户非常喜欢的新功能，我们的工程师就会急忙推出类似的东西，需要一个月或两个月。每次我们推出新的创新产品，那个小公司在一周内就完成了！

**Driscoll**: 你发现那个初创公司是如何快速发展的吗？

**Martelli**: 最后，我们收购了那个小公司，我们发现 20 个开发者如何绕过我们数百名优秀的开发者。解决方案非常简单！那 20 个人都在使用 Python。我们当时使用 C++。所以，那是 YouTube，现在仍然是。

> **lex Martelli**: “我们发现 20 个开发者如何绕过我们数百名优秀的开发者。解决方案非常简单！那 20 个人都在使用 Python。”

当然，YouTube 的完全开发和特别是盈利需要很多年，因为它所使用的资源量巨大！它的受欢迎程度逐渐增长，这是 Python 的一个伟大成功故事。

用户界面代码的其他领域各不相同。有时 Python 是最前沿的，例如 Google App Engine（我们第一次涉足云，至今仍是一个非常创新的产品）最初支持的语言是 Python。多年来，Python 是那里唯一可以使用的语言。然后添加了 Java，然后又添加了其他语言。但 Python 仍然是 App Engine 上客户使用最流行的语言。

在 Google Cloud Platform 的其他领域，我们出于技术原因，必须限制客户可以使用的编程语言。Python 通常总是排名第一或第二。TensorFlow 可能是另一个很好的例子。我之前提到过，但重点是 TensorFlow 已经很长时间是 GitHub 上最受欢迎的下载。

App Engine 的存在已经影响了大量内部工具。那些可以部署在面向内部版本的 App Engine 上的工具更倾向于使用 Python，而且配置足够通用，你可以用这种方式做几乎所有的事情。所以实际上，从我 12 年半前加入谷歌以来，我不得不做一点 C++，尤其是在我修复现有系统的时候。但对我来说，基本上一直都是 Python。

**Driscoll**: 你还有其他什么想讨论的吗？

**马特利**：我想讨论 Python 在教育中的作用。在某个时候，可能是在 10 年前，甚至有一个由 Guido 负责的资助项目，旨在将 Python 定位为教育领域的核心角色。但这从未真正完成。虽然从中产生了许多优秀的东西，但 Python 在教育领域的普及并没有发生。

现在，Python 是大学入门课程中使用的第一大编程语言。它早已超越了 Java 和其他语言。但在高中，情况并非如此。随着计算机重要性的增长，对于大多数高中生来说，仅仅具备基本理解就足够了。他们使用的是各种语言的混合体。

那么，我们能为使 Python 更适合这个角色做些什么呢？我考虑的是，如果 Python 可以在线运行并通过浏览器访问，那将是个好事。有几个网站提供了这样的功能，但它们并不是以可扩展和统一的方式提供的。

我认为 Python 软件基金会（PSF）可以在它上面投入一些努力。为什么这么说呢？因为 Chromebook 现在是教育领域的领先设备。到目前为止，卖往学校的 Chromebook 数量超过了所有其他类型设备的总和。为什么？因为它们便宜，性能足够强大，安全性高，并且从管理员的角度来看，它们非常容易控制。

> **亚历克斯·马特利**：“我认为 Python 不需要改变，但需要基础设施工作，以建立一个对学校高度可用的网站。”

无论你能在 Chromebook 上做什么，也就是说，基本上在网络上一个好的浏览器上，都比在任意操作系统上安装的东西更容易融入课程。

我认为 Python 不需要改变，但需要基础设施工作，以建立一个对学校高度可用的网站，提供学校所需的功能，例如管理员控制。这将真正改变数百万学生的生活。所以，这是我向那些正在思考他们可以用 Python 启动什么酷炫项目的人的呼吁。

**德里斯科尔**：感谢你，亚历克斯·马特利。
