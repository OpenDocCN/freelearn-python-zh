# 前言

构建您自己的 Python Web 应用为您提供了无限制地拥有强大功能的机会。然而，使用 Python 创建 Web 应用并不简单。结合学习开发 Web 应用的新技能，您通常还必须学习如何与框架一起工作。

《Python 3 Web 开发入门指南》向您展示如何独立构建自己的 Web 应用，该应用易于使用、性能流畅，且符合您的口味，而无需学习另一个 Web 框架。

Web 开发可能需要时间，并且往往很难正确完成。本书将向您展示如何从头到尾设计和实现一个复杂的程序。每一章都探讨不同类型的 Web 应用，这意味着您将了解广泛的功能以及如何将它们添加到您定制的 Web 应用中。您还将学习如何在 Web 应用中实现 jQuery，以提供额外的功能。通过使用一系列广泛的工具的正确组合，您可以在短时间内拥有一个功能齐全、复杂的 Web 应用。

一本构建和定制您自己的 Python Web 应用的实用指南，无需受预定义框架的限制。

# 本书涵盖内容

第一章，*选择您的工具*，探讨了设计 Web 应用的多个方面。目的是为您提供一份概述，这可能有助于您在后续章节中识别组件，并让您对决定使用哪个工具或库的论点有所了解。我们还展示了在设计不直接涉及编码的应用程序时相关的一些问题，例如安全性和可用性。

第二章，*创建简单的电子表格*，开发了一个简单的电子表格应用程序。电子表格功能将完全使用 JavaScript 和 jQuery UI 实现，但在服务器端，我们将首次遇到应用服务器 CherryPy，并使用 Python 代码对其进行扩展，以动态提供包含电子表格应用的页面。

第三章，*任务列表 I：持久性*，一个完整的 Web 应用需要服务器上存储信息的功能以及识别不同用户的方式。在本章中，我们将解决这两个问题，同时开发一个简单的应用程序来维护任务列表。

第四章，*任务列表 II：数据库和 AJAX*，重构了上一章中开发的任务列表应用程序。我们将使用 SQLite 数据库引擎在服务器上存储项目，并使用 jQuery 的 AJAX 功能动态更新 Web 应用的内容。在展示方面，我们将遇到 jQuery UI 的事件系统，并学习如何对鼠标点击做出反应。

第五章, *实体和关系*，大多数现实生活中的应用程序都包含多个实体，其中许多实体之间都有关系。在关系数据库中，建模这些关系是它的一个强项。在本章中，我们将开发一个简单的框架来管理这些实体，并使用这个框架来构建一个应用程序，以维护多个用户的书籍列表。

第六章, *构建 Wiki*，开发了一个 Wiki 应用程序，在这个过程中，我们关注了构建 Web 应用的两个重要概念。第一个是数据层的设计。Wiki 应用程序相当复杂，在本章中，我们试图了解我们简单框架的局限性在哪里。第二个是输入验证。任何接受来自整个互联网输入的应用程序都应该检查它接收到的数据，在本章中，我们探讨了客户端和服务器端输入验证。

第七章, *重构代码以复用*，在做了大量工作之后，退一步批判性地审视自己的工作，看看是否可以做得更好，通常是一个好主意。在本章中，我们探讨了使实体框架更通用的方法，并将其用于第二次实现书籍应用程序。

第八章, *管理客户关系*，实体框架和 CherryPy 应用程序代码不仅仅是浏览列表。用户必须能够添加新实例并编辑现有实例。本章是 CRM 应用程序开发的起点，将在后面的章节中扩展和细化。

第九章, *创建全功能 Web 应用：实现实例*，专注于用户界面组件的设计和实现，以独立于实体类型的方式添加和维护实体及其关系。这种功能立即在我们的 CRM 应用程序中得到了应用。在探索基于角色的访问控制概念时，管理用户权限是我们遇到的其他问题之一。

第十章, *定制 CRM 应用程序*，是最后一章，它通过查看浏览、过滤和排序大量实体来扩展我们的框架和 CRM 应用程序。我们还探讨了允许最终用户定制应用程序外观和功能所需的内容。

附录 A, *资源引用*，是 Web 和纸质资源的便捷概述。

# 您需要这本书的内容

除了需要一个运行 Windows 或 Linux 的计算机来开发和测试你的应用程序外，你还需要以下这些开源软件组件：

+   Python 3.2

+   CherryPy 3.2.0

+   jQuery 1.4.4

+   jQuery UI 1.8.6

如何获取和安装这些包的详细说明在*第二章*中。我们还使用了一些额外的 jQuery 插件，并在适当的地方提供了安装说明。

你还需要一个网络浏览器来与你的应用程序进行交互。这些应用程序在 Firefox 3 和 Internet Explorer 8 上进行了测试，但任何相对较新的这些浏览器的版本可能也会同样有效，Chrome 也是如此。然而，Firefox 的 Firebug 扩展是一个用于调试 Web 应用程序客户端的更优越的工具，所以如果你还没有尝试过，你可能想试试看。附录 A 提供了必要的资源链接。

最后，你还需要一个文本编辑器，最好是具有 Python、JavaScript 和 HTML 语法高亮功能的编辑器。作者在 Windows 上使用 Notepad++（http://notepad-plus-plus.org/），在 Linux 上使用 JOE（http://joe-editor.sourceforge.net/），但选择完全取决于你。

# 本书面向对象

对于有一定经验的 Python 程序员来说，他们想学习如何创建相对复杂、数据库驱动、跨浏览器兼容且易于维护且外观良好的 Web 应用程序，会发现这本书非常有用。书中所有应用程序都是用 Python 3 开发的，但具备 Python 2.x 的经验就足以理解所有示例。JavaScript 在许多示例应用程序中扮演着重要的辅助角色，并且对 JavaScript 的一些入门级知识可能有用，但并非绝对必要，因为重点是主要在 Python 开发上，JavaScript 代码要么作为构建块使用，要么被详细解释，以至于任何熟悉 Python 的人应该都能理解它。

# 习惯用法

在这本书中，你将发现几个经常出现的标题。

为了清楚地说明如何完成一个程序或任务，我们使用：

# 动作时间标题

1.  动作 1

1.  动作 2

1.  动作 3

指令通常需要一些额外的解释，以便它们有意义，因此它们后面跟着：

## 刚才发生了什么？

这个标题解释了你刚刚完成的任务或指令的工作原理。

你还会在书中找到一些其他的学习辅助工具，包括：

## 快速问答标题

这些是简短的多项选择题，旨在帮助你测试自己的理解。

## 勇敢的尝试者标题

这些设置实际挑战，并为你提供了对所学内容进行实验的想法。

你还会发现许多不同风格的文本，用于区分不同类型的信息。以下是一些这些风格的示例及其含义的解释。

文本中的代码词如下所示：“运行 CherryPy 的`setup.py`脚本在 Python 的`Lib\site-packages`目录中安装了多个模块。”

代码块设置如下：

```py
<div id="main">
<ul>
<li>one</li>
<li class="highlight">two</li>
<li>three</li>
</ul>
</div>
<div id="footer">footer text</div>

```

当我们希望您注意代码块中的特定部分时，相关的行或项目将以粗体显示：

```py
t=t+'<thead class="ui-widget-header">
	<tr class="ui-helper-reset"><th></th>';
		for(i=0;i<opts.cols;i=i+1){ t=t+'<th class="ui-helper-reset">' +
String.fromCharCode(65+i)+"</th>";
	}

```

任何命令行输入或输出都应如下编写：

```py
 python -c "import cherrypy"

```

**新术语**和**重要词汇**将以粗体显示。你在屏幕上看到的，例如在菜单或对话框中的文字，将以如下方式显示：“通过点击**添加新**按钮，可以添加新书籍或作者。”

### 注意

警告或重要注意事项将以如下框中的方式显示。

### 注意

小贴士和技巧看起来像这样。

# 读者反馈

我们欢迎读者的反馈。请告诉我们您对这本书的看法，您喜欢什么或可能不喜欢什么。读者反馈对我们开发您真正能从中获得最大收益的标题非常重要。

要发送给我们一般反馈，只需发送电子邮件到`< feedback@packtpub.com>`，并在邮件主题中提及书籍标题。

如果您需要一本书并且希望我们看到它出版，请通过[www.packtpub.com](http://www.packtpub.com)上的**建议标题**表单发送给我们，或者发送电子邮件到`< suggest@packtpub.com>`。

如果您在某个主题上具有专业知识，并且您有兴趣撰写或为书籍做出贡献，请参阅我们的作者指南，网址为[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在，您已经是 Packt 书籍的骄傲拥有者，我们有一些事情可以帮助您从购买中获得最大收益。

## 下载本书的示例代码

您可以从您在[`www.PacktPub.com`](http://www.PacktPub.com)的账户下载您购买的所有 Packt 书籍的示例代码文件。如果您在其他地方购买了这本书，您可以访问[`www.PacktPub.com/support`](http://www.PacktPub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

## 勘误

尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在我们的书中发现错误（可能是文本或代码中的错误），如果您能向我们报告，我们将不胜感激。这样做可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/support`](http://www.packtpub.com/support)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来报告它们。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站，或添加到该标题的勘误部分下的现有勘误列表中。任何现有勘误都可以通过从[`www.packtpub.com/support`](http://www.packtpub.com/support)选择您的标题来查看。

## 侵权

在互联网上对版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现任何形式的我们作品的非法副本，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过`< copyright@packtpub.com>`与我们联系，并提供疑似盗版材料的链接。

我们感谢您在保护我们作者以及为我们提供有价值内容方面的帮助。

## 问题

如果您在本书的任何方面遇到问题，可以通过`< questions@packtpub.com>`联系我们，我们将尽力解决。
