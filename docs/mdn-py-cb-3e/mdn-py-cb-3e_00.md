## 前言

Python 是开发者、工程师、数据科学家和爱好者首选的语言。它是一种强大的脚本语言，可以为您的应用程序提供速度、安全性和可扩展性。通过将 Python 作为一系列简单的菜谱展示，这本书可以帮助您在具体上下文中深入了解特定的语言特性。理念是避免对语言特性的抽象讨论，而专注于将语言应用于具体的数据和处理问题。

# 你需要这本书什么

要跟随本书中的示例，你只需要一台运行任何 Python（版本 3.12 或更高）的计算机。许多示例可以修改以适应 Python 3.12 之前的版本。第十章的材料描述了 Python 3.10 中引入的匹配语句。

我们强烈建议安装一个新的 Python 版本，避免使用预安装的操作系统 Python。语言运行时可以从 [`www.python.org/downloads/`](https://www.python.org/downloads/) 下载。另一种选择是使用 Miniconda 工具（[`docs.conda.io/en/latest/miniconda.html`](https://docs.conda.io/en/latest/miniconda.html)）并使用 conda 创建一个 Python 3.12（或更高版本）的环境。

Python 2 已无法使用。自 2020 年起，Python 2 已不再是替代品。

# 这本书面向谁

本书面向网络开发者、程序员、企业程序员、工程师和大数据科学家。如果您是初学者，这本书可以帮助您入门。如果您有经验，它将扩展您的知识库。基本编程知识将有所帮助；虽然涵盖了一些基础主题，但这不是编程或 Python 的教程。

# 这本书涵盖的内容

本书包含超过 130 个菜谱。我们可以将它们分解为四个一般领域：

+   Python 基础知识

    第一章，数字、字符串和元组，将探讨不同类型的数字，如何处理字符串，如何使用元组，以及如何使用 Python 中的基本内置类型。我们还将展示如何利用 Unicode 字符集的全部功能。

    第二章，语句和语法，将介绍创建脚本文件的一些基础知识。然后我们将转向查看一些复杂语句，包括 if、while、for、break、try、raise 和 with。

    第三章，函数定义，将探讨多种函数定义技术。我们将用几个菜谱来介绍各种类型的类型提示。我们还将通过使用函数和主导入切换来讨论设计可测试脚本的一个要素。

    第四章, 内置数据结构第一部分：列表和集合, 开始概述可用的内置数据结构及其解决的问题。这包括一系列展示列表和集合操作的食谱，包括列表和集合推导式。

    第五章, 内置数据结构第二部分：字典, 继续探讨内置数据结构，详细考察字典。本章还将探讨一些与 Python 处理对象引用相关的更高级主题。它还展示了如何将可变对象作为函数参数的默认值处理。

    第六章, 用户输入和输出，解释了如何使用 print()函数的不同功能。我们还将探讨用于提供用户输入的不同函数。f-string 用于调试以及 argparse 模块用于命令行输入的特点被介绍。

+   面向对象和函数式设计方法

    第七章, 类和对象的基础，开始介绍面向对象编程。它展示了如何创建类以及与类定义相关的类型提示。本节从之前的版本扩展而来，以涵盖 dataclasses。它展示了如何扩展内置类，以及如何创建上下文管理器来管理资源。

    第八章, 更高级的类设计，继续探索面向对象设计和编程。这包括对组合与继承问题的探讨，并展示了如何管理 Python 的“鸭子类型”原则。

    第九章, 函数式编程特性，探讨了 Python 的函数式编程特性。这种编程风格强调函数定义和无状态、不可变对象。食谱探讨了生成器表达式，使用 map()、filter()和 reduce()函数。我们还探讨了创建部分函数的方法以及用不可变对象集合构建的数据结构替换有状态对象的一些示例。

+   更复杂的设计

    第十章, 使用类型匹配和注解，更深入地探讨了类型提示和 match 语句。这包括使用 Pydantic 创建具有更严格运行时类型检查的类。它还探讨了注解类型的内省。

    第十一章，输入/输出、物理格式和逻辑布局，将处理一般路径和文件。它将探讨在多种文件格式中读取和写入数据，包括 CSV、JSON（和 YAML）、XML 和 HTML。HTML 部分将强调使用 Beautiful Soup 提取数据。

    第十二章，使用 Jupyter Lab 进行图形和可视化，将使用 Jupyter Lab 创建使用 Python 进行数据分析和可视化的笔记本。这将展示如何将数据导入笔记本以创建图表，以及如何使用 Markdown 从笔记本创建有用的文档和报告。

    第十三章，应用程序集成：配置，将开始探讨我们可以设计更大应用程序的方法。本章的食谱将解决处理配置文件的不同方式以及如何管理日志。

    第十四章，应用程序集成：组合，将继续探讨从更小的组件创建组合应用程序的方法。这将探讨面向对象的设计模式和命令行界面（CLI）应用程序。它还将探讨使用子进程模块在 Python 的控制下运行现有应用程序。

+   完成项目：完善和完成

    第十五章，测试，提供了使用 Python 内置的 doctest 和 unittest 测试框架的食谱。此外，食谱还将涵盖 pytest 工具。

    第十六章，依赖和虚拟环境，涵盖了用于管理虚拟环境的工具。内置的 venv、conda 和 poetry 都将被介绍。管理虚拟环境有众多解决方案，我们无法涵盖所有。

    第十七章，文档和风格，涵盖了可以帮助创建高质量软件的额外工具。这特别关注 sphinx 创建全面、易读的文档。我们还将探讨 tox 来自动运行测试。

# 为了充分利用这本书

为了充分利用这本书，你可以按照以下说明下载示例代码文件和彩色图像。

## 下载示例代码文件

本书的相关代码包也托管在 GitHub 上，网址为[`github.com/PacktPublishing/Modern-Python-Cookbook-Third-Edition`](https://github.com/PacktPublishing/Modern-Python-Cookbook-Third-Edition)。这个仓库也是开始讨论书中特定主题的最佳地方。如果您想与作者或其他读者交流，请随意提出问题。我们还有其他来自我们丰富图书和视频目录的代码包，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。查看它们吧！

## 下载彩色图像

我们还提供了一个包含本书中使用的截图/图表的彩色图像的 PDF 文件。您可以从这里下载：[`packt.link/gbp/9781835466384`](https://packt.link/gbp/9781835466384)。

## 使用的约定

在这本书中，您会发现许多文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称如下所示：“我们可以通过使用 include 指令来包含其他上下文。”

代码块设置如下：

```py
if distance is None: 

    distance = rate * time 

elif rate is None: 

    rate = distance / time 

elif time is None: 

    time = distance / rate
```

任何命令行输入或输出都如下所示：

```py
 >>> import math 

>>> math.factorial(52) 

80658175170943878571660636856403766975289505440883277824000000000000
```

新术语和重要词汇以粗体显示。

警告或重要注意事项如下所示。

技巧和窍门如下所示。

# 联系我们

我们始终欢迎读者的反馈。

一般反馈：请将反馈发送至 feedback@packtpub.com，并在邮件主题中提及书籍标题。如果您对本书的任何方面有疑问，请通过 questions@packtpub.com 与我们联系。

错误清单：尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在这本书中发现了错误，我们将不胜感激，如果您能向我们报告，请访问[`packtpub.com/support/errata`](http://packtpub.com/support/errata)，选择您的书籍，点击错误提交表单链接，并输入详细信息。

侵权：如果您在互联网上以任何形式发现我们作品的非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。请通过版权@packtpub.com 与我们联系，并提供材料的链接。

如果您有兴趣成为作者：如果您在某个领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[`authors.packtpub.com`](http://authors.packtpub.com)。

# 分享您的想法

一旦您阅读了《现代 Python 食谱》第三版，我们很乐意听听您的想法！扫描下面的二维码直接进入此书的亚马逊评论页面，分享您的反馈或在该购买网站上留下评论。

![PIC](img/file3.png)

[`packt.link/r/1835466389`](https://packt.link/r/1835466389)

您的评论对我们和科技社区非常重要，并将帮助我们确保我们提供高质量的内容。

# 下载此书的免费 PDF 副本

感谢您购买此书！

您喜欢在路上阅读，但无法携带您的印刷书籍到处走？您的电子书购买是否与您选择的设备不兼容？

别担心，现在，每购买一本 Packt 书籍，您都可以免费获得该书的 DRM 免费 PDF 版本。

在任何地方、任何设备上阅读。直接从您喜欢的技术书籍中搜索、复制和粘贴代码到您的应用程序中。

优惠远不止于此，您还可以获得独家折扣、时事通讯和丰富的免费内容，每天直接发送到您的邮箱。

按照以下简单步骤获取优惠：

1.  扫描下面的二维码或访问以下链接

    ![PIC](img/file2.png)

    [`packt.link/free-ebook/9781835466384`](https://packt.link/free-ebook/9781835466384)

1.  提交您的购买证明

1.  就这样！我们将直接将您的免费 PDF 和其他优惠发送到您的邮箱
