# 第一章：Flask 中的 Flask，我的意思是，书

Flask 是什么？这是一个人类几千年来一直在思考的问题……嗯，实际上是自 2010 年 Armin Ronacher 首次承诺该项目以来。Flask 是一个 Web 框架，与大多数人习惯使用的方式非常不同。它对你的应用程序应该是什么样子或者你应该使用什么来使其可用并不那么自以为是。这个 BSD 许可的软件包就是这样！

# Flask 及其特性简介

Flask 框架实际上是一个非常好的胶水，它将令人惊叹的 Werkzeug 和 Jinja2 框架粘合在一起，负责响应请求和呈现输出（HTML，也许）。在 MVC 架构中，也被称为模型-视图-控制器，Flask 涵盖了 C 和 V。但 M 在哪里？Flask 并没有为你提供集成的模型层，因为对于 Web 应用程序实际上并不需要。如果你确实需要使用数据库，只需从众多可用的数据库解决方案中选择一个并创建自己的模型层，这并不难，而且会让你很开心！微框架的概念，怀着良好的意图，专门为 Flask 而设计，就是要给你提供你所需要的最小（但也是最有用的）功能集，而且不会妨碍你。

框架中必须具备哪些特性？

+   开发服务器和调试器（健全友好）

+   Unicode 支持（拉丁语言友好）

+   WSGI 兼容（uWsgi 友好）

+   单元测试客户端（质量代码）

+   URL 路由（它让我感动得流泪，它太美了！）

+   请求分发

+   安全的 cookies

+   会话

+   Jinja2 模板（标签、过滤器、宏等）

有了这些，你可以处理 Ajax 请求、浏览器请求和请求之间的用户会话；将 HTTP 请求路由到你的控制器；评估表单数据；响应 HTML 和 JSON 等等。

这很好，但 Flask 不是一个 MVC 框架吗？嗯，这是值得讨论的。如果一个 Web 框架不实现 MVC 反模式，比如在视图中处理请求或混合模型和控制器，它可能有助于实现 MVC，这在我看来是最好的，因为它不会强制你的应用程序结构。

### 注意

Flask 不是一个 MVC 框架，因为它没有实现模型层，尽管如果你希望创建自己的模型层，它不会限制你。

如果你需要一个简单的、单文件的 Web 应用程序，接收一个表单并返回一个答案，无论是 HTML 还是其他，Flask 都可以帮助你轻松实现。如果你需要一个多层、高深度模块化的 Facebook 克隆，Flask 也可以为你提供帮助。

那么，我们到目前为止学到了什么？

+   Flask 诞生于 2010 年

+   Flask 是一个基于 Jinja2 和 Werkzeug 的极简主义 Web 框架

+   Flask 不强制执行特定的项目架构

### 注意

请参考 Flask 许可证的详细信息[`flask.pocoo.org/docs/0.10/license/`](http://flask.pocoo.org/docs/0.10/license/)。

现在，你可能想知道你的哪些好点子可以用 Flask 来实现。这就对了！我们一起来想想这个问题吧？

Flask 在数据库集成、表单库、管理界面或迁移工具方面没有捆绑功能。你可以通过扩展来实现这些功能，这些扩展很快就会讨论到，但它们都是外部的 Flask。如果你需要这些扩展，而且不想在项目开始时设置它们（或者没有时间），你可能更适合使用一个功能齐全的 MVC 一体化、低内聚、高耦合的框架，比如 Django。

现在，想象一下你需要建立一个网站，只有一个表单，比如[`cashcash.cc/`](http://cashcash.cc/)的克隆，它接收一个表单并返回当前的货币交易价值；Flask 可以帮助你快速完成项目。

让我们再深入思考一下。如果你需要一组特定的库在你的项目中一起工作，而你又不希望 Web 框架妨碍你；这对于 Flask 来说是另一个非常好的场景，因为它给你提供了最基本的东西，让你自己组合其他你可能需要的一切。一些框架对它们自己的组件有如此高的耦合（读作**依赖性**），以至于如果你想使用特定的替代方案，你可能会遇到严重的问题。

例如，你可能想在项目中使用 NoSQL 数据库；然而，如果这样做，你的项目的一些组件可能会停止工作（例如：管理组件）。

基本上，如果你有时间可以抽出来，如果你正在做一些简单的事情，如果你想要实现自己的架构解决方案，或者如果你需要对项目中使用的组件进行细粒度控制，Flask 就是适合你的 Web 框架。

# 总结

现在，让我们谈谈令人敬畏的事情，在读完这本书后，你将能够处理 HTTP 和 Ajax 请求；创建具有数据库集成（SQL 和 NoSQL）和 REST 服务的完整功能的 Web 应用程序；使用 Flask 扩展（表单、缓存、日志、调试、认证、权限等）；以及模块化和对应用程序进行单元和功能测试。

希望你喜欢这本书，并能用所学的知识做出很棒的东西
