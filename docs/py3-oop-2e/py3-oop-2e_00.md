# 前言

这本书介绍了面向对象范式的术语。它专注于逐步示例的面向对象设计。它将引导我们从简单的继承，作为面向对象程序员工具箱中最有用的工具之一，通过异常处理到设计模式，这是一种以面向对象方式看待面向对象概念的方法。

在学习的过程中，我们将学会整合 Python 编程语言中面向对象和非面向对象的方面。我们将学习字符串和文件操作的复杂性，强调（正如 Python 3 所做的那样）二进制和文本数据之间的区别。

然后，我们将涵盖单元测试的乐趣，使用不止一个，而是两个单元测试框架。最后，我们将通过 Python 的各种并发范例，探讨如何使对象在同一时间内良好地协同工作。

# 本书涵盖的内容

这本书大致分为四个主要部分。在前四章中，我们将深入了解面向对象编程的正式原则以及 Python 如何利用它们。在第五章到第八章，我们将覆盖 Python 对这些原则的一些特殊应用，学习它们如何应用于各种 Python 内置函数。第九章到第十一章涵盖了设计模式，最后两章讨论了与 Python 编程相关的两个额外主题，可能会引起兴趣。

第一章，“面向对象设计”，涵盖了重要的面向对象概念。它主要涉及术语，如抽象、类、封装和继承。我们还简要地看一下 UML 来模拟我们的类和对象。

第二章，“Python 中的对象”，讨论了类和对象以及它们在 Python 中的使用。我们将了解 Python 对象的属性和行为，以及类如何组织成包和模块。最后，我们将看到如何保护我们的数据。

第三章，“当对象相似时”，让我们更深入地了解继承。它涵盖了多重继承，并向我们展示如何扩展内置功能。本章还涵盖了多态性和鸭子类型在 Python 中的工作原理。

第四章，“预料之外”，探讨了异常和异常处理。我们将学习如何创建自己的异常以及如何使用异常来控制程序流程。

第五章，“何时使用面向对象编程”，涉及创建和使用对象。我们将看到如何使用属性包装数据并限制数据访问。本章还讨论了 DRY 原则以及如何避免重复代码。

第六章，“Python 数据结构”，涵盖了 Python 内置类的面向对象特性。我们将涵盖元组、字典、列表和集合，以及一些更高级的集合。我们还将看到如何扩展这些标准对象。

第七章，“Python 面向对象的快捷方式”，顾名思义，涉及 Python 中的时间节省技巧。我们将看到许多有用的内置函数，如使用默认参数进行方法重载。我们还将看到函数本身也是对象，以及这如何有用。

第八章，“字符串和序列化”，讨论了字符串、文件和格式化。我们将讨论字符串、字节和字节数组之间的区别，以及将文本、对象和二进制数据序列化为几种规范表示的各种方法。

第九章，*迭代器模式*，向我们介绍了设计模式的概念，并涵盖了 Python 标志性的迭代器模式实现。我们将学习列表、集合和字典推导式。我们还将揭开生成器和协程的神秘面纱。

第十章，*Python 设计模式 I*，涵盖了几种设计模式，包括装饰器、观察者、策略、状态、单例和模板模式。每个模式都将通过适当的例子和 Python 中实现的程序进行讨论。

第十一章，*Python 设计模式 II*，总结了我们对设计模式的讨论，涵盖了适配器、外观、享元、命令、抽象和组合模式。提供了更多关于惯用 Python 代码与规范实现的例子。

第十二章，*测试面向对象程序*，首先介绍了为什么测试在 Python 应用程序中如此重要。它强调了测试驱动开发，并介绍了两种不同的测试套件：unittest 和 py.test。最后，它讨论了模拟测试对象和代码覆盖率。

第十三章，*并发*，是对 Python 对并发模式的支持（或不支持）的快速概述。它讨论了线程、多进程、futures 和新的 AsyncIO 库。

每一章都包括相关的例子和一个案例研究，将章节内容整合成一个可运行（尽管不完整）的程序。

# 本书需要什么

本书中的所有例子都依赖于 Python 3 解释器。请确保您没有使用 Python 2.7 或更早的版本。在撰写本文时，Python 3.4 是最新版本。大多数例子将在较早版本的 Python 3 上运行，但建议您使用最新版本以减少挫折感。

本书中的所有例子都应该在 Python 支持的任何操作系统上运行。如果不是这种情况，请将其报告为错误。

一些例子需要一个可用的互联网连接。您可能会希望进行课外研究和调试！

此外，本书中的一些例子依赖于不随 Python 一起提供的第三方库。它们在使用时会在书中介绍，因此您无需提前安装它们。但是，为了完整起见，这里是一个列表：

+   pip

+   requests

+   pillow

+   bitarray

# 本书适合人群

本书专门针对新手面向对象编程的人群。它假设您具有基本的 Python 技能。您将深入学习面向对象的原则。对于将 Python 用作“粘合”语言并希望提高编程技能的系统管理员类型来说，这是特别有用的。

如果您熟悉其他语言中的面向对象编程，那么本书将帮助您了解在 Python 生态系统中应用您的知识的惯用方式。

# 约定

本书使用各种文本样式来区分不同类型的信息。以下是一些这些样式的示例，以及它们的含义解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 句柄显示如下：“我们在字典中查找类并将其存储在名为`PropertyClass`的变量中。”

一段代码设置如下：

```py
    def add_property(self):
        property_type = get_valid_input(
                "What type of property? ",
                ("house", "apartment")).lower()
        payment_type = get_valid_input(
                "What payment type? ",
                ("purchase", "rental")).lower()
```

当我们希望引起您对代码块的特定部分的注意时，相关行或项目将以粗体显示：

```py
    def add_property(self):
 **property_type = get_valid_input(
                "What type of property? ",
                ("house", "apartment")).lower()
 **payment_type = get_valid_input(
                "What payment type? ",
                ("purchase", "rental")).lower()
```

任何命令行输入或输出都写成如下形式：

```py
>>> c1 = Contact("John A", "johna@example.net")
>>> c2 = Contact("John B", "johnb@example.net")
>>> c3 = Contact("Jenna C", "jennac@example.net")
>>> [c.name for c in Contact.all_contacts.search('John')]
['John A', 'John B']

```

**新术语**和**重要单词**以粗体显示。您在屏幕上看到的单词，比如菜单或对话框中的单词，会以这样的方式出现在文本中：“它将失败，并显示一个**参数不足**的错误，类似于我们之前忘记了`self`参数时收到的错误。”

### 注

警告或重要说明会显示在这样的框中。

### 提示

提示和技巧会显示在这样的格式中。
