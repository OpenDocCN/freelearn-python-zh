# 前言

Blender 是一款免费、开源的 3D 建模和动画应用程序。多年来它不断发展，自 3.0 版本以来，在许多方面与最先进的软件并驾齐驱。

它提供了一个 Python **应用程序编程接口**（**API**）用于自动化任务，添加功能，并将 Blender 集成到大型制作中。

Python 是一种免费、开源的编程语言，用于快速而强大的脚本编写。它的语法类似于简化英语，自动内存管理以及易于集成，使其成为软件 API 和 3D 管道的标准。

本书通过 3D 流程的步骤进行讲解，从创建和操作对象开始，然后是动画和变形，最后以渲染作为结尾章节。尽管这个顺序是一个线性路径，但每个章节都可以独立存在，除了可能*第六章*和*第八章*，它们依赖于其直接前驱中引入的示例。

# 本书面向对象

本书面向希望扩展技能并学习编写脚本的 Blender 用户，希望自动化繁琐任务的导演，以及希望了解更多关于 Blender Python 架构的专业人士和爱好者。

# 本书涵盖内容

*第一章*, *Python 与 Blender 的集成*，教您如何在 Blender 中运行 Python 指令，以及使用外部编辑器和版本控制。

*第二章*, *Python 实体和 API*，教您如何为开发者设置选项，以及如何使用 Blender 模块和访问当前上下文和对象。

*第三章*, *创建您的插件*，教您如何使用 Python 编写 Blender 插件，如何编写操作符，以及如何将条目添加到 Blender 菜单中。

*第四章*, *探索对象变换*，教您在 Python 中如何处理位置、旋转和缩放，如何使用对象约束和变换矩阵，以及如何在操作符中使用输入属性。

*第五章*, *设计图形界面*，提供了关于 Blender 用户界面如何工作的信息，如何创建和排列您自己的面板，以及如何加载自定义图标并显示用于自定义功能的按钮。

*第六章*, *构建我们的代码和插件*，教您如何编写和分发模块化插件，如何显示插件首选项，以及如何更新模块中的更改。

*第七章*, *动画系统*，教您如何访问和创建动画数据，如何编写过程式动作脚本，以及如何外推旋转。

*第八章*，*动画修改器*，指导您如何向动画添加非破坏性修改器，以及如何使用它们创建动画的进程式效果。

*第九章*，*动画驱动器*，教您如何设置动画通道的输入，如何使用 Python 表达式驱动动画，以及如何将振荡公式转换为动画对象。

*第十章*，*高级和模式操作符*，教您如何自定义操作符执行流程以及如何在您的操作符中响应输入事件。

*第十一章*，*对象修改器*，提供有关对象修改器、骨架和晶格如何工作以及如何设置变形对象的动画控制的信息。

*第十二章*，*渲染和着色器*，教您颜色和材质信息是如何应用到对象上的，以及这个过程是如何自动化的。

# 要充分利用本书

本书中的示例使用 Blender 版本 3.3 编写和测试。3.3 是一个长期支持版本，可以在大多数应用平台上找到，此外，它可以在[Blender.org](https://Blender.org)免费获得。

建议使用程序员文本编辑器。本书使用 Microsoft Visual Studio Code 1.70，这是一个轻量级的免费编辑器，可在大多数操作系统上使用，但任何其他编辑器也可以使用。

更多有关如何安装软件的说明可在*第一章*中找到。

书中包含的脚本考虑到向前兼容性而编写。在线可用的代码将更新以适应未来版本的更改。

假设您对 Blender 有一些经验，并且至少对 Python 的工作原理有基本了解，但特别努力将要求保持较低，并为本书中使用的每个概念提供解释。

| **本书涵盖的软件/硬件** | **操作系统要求** |
| --- | --- |
| Blender 3.3 | Windows, macOS, 或 Linux |
| Visual Studio Code 1.70 或更高版本 |  |

**如果您正在使用本书的数字版，我们建议您亲自输入代码或从本书的 GitHub 仓库（下一节中提供链接）获取代码。这样做将有助于您避免与代码的复制和粘贴相关的任何潜在错误。**

# 下载示例代码文件

您可以从 GitHub 在[`github.com/PacktPublishing/Python-Scripting-in-Blender`](https://github.com/PacktPublishing/Python-Scripting-in-Blender)下载本书的示例代码文件。如果代码有更新，它将在 GitHub 仓库中更新。

我们还有其他来自我们丰富的书籍和视频目录的代码包，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。查看它们吧！

下载彩色图像

我们还提供包含本书中使用的截图和图表的颜色图像的 PDF 文件。您可以从这里下载：[`packt.link/G1mMt`](https://packt.link/G1mMt)。

# 使用的约定

本书中使用了多种文本约定。

`文本中的代码`: 表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“`fcurve.modifiers.new(type)` 方法根据提供的参数类型创建一个新的修改器。它返回新的修改器。”

代码块按以下方式设置：

```py
bl_info = {
    "name": "Object Shaker",    "author": "Packt Man",    "version": (1, 0),    "blender": (3, 00, 0),    "description": "Add Shaky motion to active object",    "location": "Object Right Click -> Add Object Shake",    "category": "Learning",
}
```

当我们希望将您的注意力引到代码块的一个特定部分时，相关的行或项目将以粗体显示：

```py
sin((frame / fps) * length/9.8)))
```

任何命令行输入或输出都按以下方式编写：

```py
'ASSETBROWSER_MT_context_menu',...['VIEW3D_MT_edit_metaball_context_menu', 'VIEW3D_MT_gpencil_edit_context_menu', 'VIEW3D_MT_object_context_menu', 'VIEW3D_MT_particle_context_menu',...
```

一些代码旨在作为交互式 Python 控制台输入使用。在这种情况下，用户输入以 `>>>` 提示符开头，与控制台输出不同：

```py
>>> print("Hello")
Hello
```

**粗体**: 表示新术语、重要单词或您在屏幕上看到的单词。例如，菜单或对话框中的单词以粗体显示。以下是一个示例：“在我们深入探讨如何编写 f-modifiers 脚本之前，我们将看看如何在**图形编辑器**中创建它们。”

小贴士或重要提示

它看起来像这样。

# 联系我们

我们读者的反馈总是受欢迎的。

**一般反馈**: 如果您对本书的任何方面有疑问，请通过电子邮件发送至 [customercare@packtpub.com，并在邮件主题中提及书名。

**勘误**: 尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在这本书中发现了错误，如果您能向我们报告，我们将不胜感激。请访问 [www.packtpub.com/support/errata](https://www.packtpub.com/support/errata) 并填写表格。

**盗版**: 如果您在互联网上以任何形式发现我们作品的非法副本，如果您能向我们提供位置地址或网站名称，我们将不胜感激。请通过电子邮件发送至 copyright@packt.com 并附上材料的链接。

**如果您有兴趣成为作者**: 如果您在某个主题上具有专业知识，并且您有兴趣撰写或为本书做出贡献，请访问 [authors.packtpub.com](https://authors.packtpub.com)。

# 分享您的想法

读完 *Python Scripting in Blender* 后，我们很乐意听到您的想法！请 [点击此处直接进入此书的亚马逊评论页面](https://packt.link/r/1803234229) 并分享您的反馈。

您的评论对我们和科技社区都至关重要，并将帮助我们确保我们提供高质量的内容。

# 下载本书的免费 PDF 副本

感谢您购买本书！

您喜欢在路上阅读，但又无法携带您的印刷书籍到处走吗？

您的电子书购买是否与您选择的设备不兼容？

不要担心，现在每本 Packt 书籍都附带一本无 DRM 的 PDF 版本，无需额外费用。

在任何地方、任何设备上阅读。直接从您最喜欢的技术书籍中搜索、复制和粘贴代码到您的应用程序中。

优惠不止于此，您还可以获得独家折扣、时事通讯和丰富的免费内容，每天直接发送到您的收件箱。

按照以下简单步骤获取福利：

1.  扫描二维码或访问以下链接

![](img/B18375_QR_Free_PDF.jpg)

https://packt.link/free-ebook/9781803234229

1.  提交您的购买证明

1.  就这样！我们将直接将您的免费 PDF 和其他福利发送到您的邮箱

# 第一部分：Python 简介

在这部分，我们将向您介绍 Blender 的 Python 接口。本部分将阐述脚本编写的基础知识，并提供如何为 Blender 编写工具的整体理解。

本节包括以下章节：

+   *第一章*，*Python 与 Blender 的集成*

+   *第二章*，*Python 实体和 API*

+   *第三章*，*创建您的插件*

+   *第四章*，*探索对象变换*

+   *第五章*，*设计图形界面*
