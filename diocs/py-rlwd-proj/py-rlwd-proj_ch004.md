# 前言

我们如何提高我们对 Python 的了解？也许一个更重要的问题是“我们如何向他人展示我们用 Python 编写软件的能力有多强？”

这两个问题的答案是一样的。我们通过完成项目来构建我们的技能并展示这些技能。更具体地说，我们需要完成一些符合专业发展广泛接受标准的项目。要被视为专业人士，我们需要超越学徒级练习，并展示我们无需大师工匠的指导也能工作的能力。

我把它想象成第一次独自驾船，船上没有更有经验的船长或教师。我想象成完成一双可以一直穿到袜子完全磨损、无法再修补的手织袜子。

完成项目包括实现一系列目标。其中最重要的之一是将它发布到公共仓库，如 SourceForge ([`sourceforge.net`](https://sourceforge.net)) 或 GitHub ([`github.com`](https://github.com))，以便潜在的雇主、资金来源或商业伙伴可以看到。

我们将区分一个完成项目针对的三个受众：

+   一个个人项目，可能适合工作小组或几个同伴。

+   一个适合在整个企业中使用的项目（例如，企业、组织或政府机构）

+   一个可以发布在 Python 包索引 PyPI ([`pypi.org`](https://pypi.org)) 上的项目。

我们在创建 PyPI 包和创建在企业内部可用的包之间划了一条细线。对于 PyPI，软件包必须可以通过**PIP**工具安装；这通常需要大量的测试来确认包将在最广泛的各种环境中工作。这可能是一个沉重的负担。

对于这本书，我们建议遵循常用于“企业”软件的实践。在企业环境中，创建不通过**PIP**安装的包通常是可接受的。相反，用户可以通过克隆仓库来安装包。当人们为一个共同的企业工作时，克隆包允许用户提交带有建议更改或错误修复的拉取请求。软件使用的不同环境数量可能非常少。这减少了全面测试的负担；企业软件的潜在用户群体比通过 PyPI 提供的包要小。

## 这本书面向的对象

这本书是为那些希望通过完成专业级别 Python 项目来提高技能的资深程序员而写的。它也适用于需要通过展示作品集来展示技能的开发者。

这本书并非旨在作为 Python 教程。本书假设读者对语言和标准库有一定了解。对于 Python 的基础介绍，可以考虑阅读*《Python 编程学习指南，第三版》*：[`www.packtpub.com/product/learn-python-programming-third-edition/9781801815093`](https://www.packtpub.com/product/learn-python-programming-third-edition/9781801815093)。

本书中的项目描述较为概括，需要你自己填充设计细节并完成编程。每一章都会花更多时间在期望的方法和交付成果上，而不是你需要编写的代码。本书将详细说明测试用例和验收标准，让你自由完成通过建议测试的工作示例。

## 本书涵盖的内容

我们可以将本书分解为五个一般主题：

+   我们将从**从来源获取数据**开始。前六个项目将涵盖从各种来源获取用于分析处理的数据的项目。

+   一旦我们有了数据，我们通常需要**检查和调查**。接下来的五个项目将探讨一些检查数据的方法，以确保其可用性，并诊断异常问题、异常值和异常情况。

+   通用分析流程继续到**清洗、转换和****标准化**。有八个项目解决这些密切相关的问题。

+   有用的结果从**展示摘要**开始。这里有很多变化，所以我们只提供两个项目想法。在许多情况下，你将希望提供自己独特的解决方案来展示你所收集的数据。

+   本书以两个涵盖**统计建模**基础的小项目结束。在某些组织中，这可能是更复杂的数据科学和机器学习应用的起点。我们鼓励你继续学习 Python 在数据科学领域的应用。

第一部分有两个预备章节，帮助定义交付成果以及项目的大致范围。*第一章*，*项目 0：其他项目的模板*是一个基准项目。其功能是一个“Hello, World!”应用程序。然而，单元测试、验收测试以及使用像**tox**或**nox**这样的工具执行测试的附加基础设施是重点。

下一章，*第二章*，*项目概述*，展示了本书将遵循的一般方法。这将展示数据从获取到清洗、分析再到报告的流程。本章将“数据分析”这个大问题分解为若干个可以独立解决的问题。

从*第三章*、*项目 1.1：数据采集* *基础应用*开始的章节序列构建了多个不同的数据采集应用。这个序列从从 CSV 文件中获取数据开始。在*第四章*、*数据采集功能：Web API 和抓取*的第一种变化中，探讨了从网页获取数据的方法。

接下来的两个项目合并为*第五章*、*数据采集功能：* *SQL 数据库*。本章构建了一个示例 SQL 数据库，然后从中提取数据。这个示例数据库让我们能够探索企业数据库管理概念，以便更全面地理解与关系数据工作的一些复杂性。

一旦获取了数据，项目就过渡到数据检查。*第六章*、*项目 2.1：数据检查笔记本*创建了一个初始检查笔记本。在*第七章*、*数据检查功能*中，一系列项目为不同类型的数据添加了基本检查笔记本的功能。

这个主题以*第八章*、*项目 2.5：模式和元数据*项目结束，为数据源和获取的数据创建一个正式的模式。使用 JSON Schema 标准，因为它似乎很容易适应企业数据处理。这种模式形式化将成为后续项目的一部分。

第三个主题——清理——从*第九章*、*项目 3.1：数据清理* *基础应用*开始。这是清理获取数据的基础应用。它引入了**Pydantic**包作为提供显式数据验证规则的方式。

*第十章*、*数据清理功能*有几个项目为核心数据清理应用添加功能。前几章中的许多示例数据集提供了非常干净的数据；这使得本章看起来像是无用的过度设计。如果你提取样本数据然后手动破坏它，以便你有无效和有效数据的示例，这可能会很有帮助。

在*第十一章*、*项目 3.7：临时数据持久化*中，我们将探讨保存清理数据以供进一步使用。

获取和清理管道通常被打包成一个网络服务。在*第十二章*、*项目 3.8：集成数据采集网络服务*中，我们将创建一个网络服务器，提供后续处理所需的清理数据。围绕长期运行的获取和清理过程的这种网络服务包装提出了许多有趣的设计问题。

下一个主题是数据分析。在第*13 章*，*项目 4.1：可视化分析技术*中，我们将探讨如何利用**JupyterLab**的力量生成报告、图表和图形。

在许多组织中，数据分析可能导致正式的文档或报告，显示结果。这可能有一个广泛的利益相关者和决策者受众。在第*14 章*，*项目 4.2：创建报告*中，我们将探讨如何使用**JupyterLab**笔记本中的计算从原始数据生成优雅的报告。

最后一个主题是统计建模。这始于*第十五章*，*项目 5.1：建模基础应用*，创建一个体现**检查笔记本**和**分析笔记本**项目中学到的经验的程序。有时我们可以在这些项目之间共享 Python 编程。然而，在其他情况下，我们只能共享学到的经验；随着我们对数据结构的理解不断演变，我们经常改变数据结构并应用其他优化，这使得简单地共享一个函数或类定义变得困难。

在*第十六章*，*项目 5.2：简单多元统计分析*中，我们扩展了单变量建模，以添加多元统计分析。这种建模保持简单，以强调基础设计和架构细节。如果你对更高级的统计感兴趣，我们建议构建基本的应用程序项目，使其工作，然后向已经工作的基线项目添加更复杂的建模。

最后一章，*第十七章*，*下一步*，提供了一些更复杂应用的指导。在许多情况下，一个项目会从探索发展到监控和维护。模型将继续被验证和改进，这将有一个长长的尾巴。在某些情况下，当模型被替换时，长尾巴才会结束。看到这个长尾巴可以帮助分析师理解在每个阶段投入时间创建稳健、可靠的软件的价值。

## 关于所需技能的注意事项

这些项目需要广泛的各种技能，包括软件和数据架构、设计、Python 编程、测试设计，甚至文档编写。这种技能的广度反映了作者在企业软件开发方面的经验。开发者被期望是通才，能够跟随技术变化并适应新技术。

在一些早期的章节中，我们将提供一些关于软件设计和构建的指导。这些指导将假设对 Python 有实际的知识。它将指导你查看各种 Python 包的文档以获取更多信息。

我们还将提供一些关于如何最好地构建单元测试和验收测试的细节。这些主题可能具有挑战性，因为测试通常被低估。刚从学校毕业的开发者常常抱怨现代计算机科学教育似乎没有彻底涵盖测试和测试设计。

本书将强调使用**pytest**进行单元测试和**behave**进行验收测试。使用**behave**意味着用 Gherkin 语言编写测试场景。这是**cucumber**工具使用的语言，有时这种语言也被称为 Cucumber。这可能是一个新概念，我们将通过更详细的示例强调这一点，尤其是在前五章。

一些项目将实现统计算法。我们将使用类似*x*的符号来表示变量*x*的均值。有关数据分析的基本统计学信息，请参阅*Statistics for Data Science*：

[`www.packtpub.com/product/statistics-for-data-science/9781788290678`](https://www.packtpub.com/product/statistics-for-data-science/9781788290678)

## 为了充分利用这本书

本书假设你对 Python 3 和应用程序开发的一般概念有所了解。由于项目是一个完整的工作单元，它将超出 Python 编程语言的范围。本书将经常挑战你学习更多关于特定 Python 工具和包的知识，包括**pytest**、**mypy**、**tox**以及许多其他工具。

这些项目中的大多数都使用**探索性数据分析**（**EDA**）作为问题领域，以展示函数式编程的价值。对基本概率和统计学的了解将有助于这一点。只有少数例子涉及到更深入的数据科学。

预期使用 Python 3.11。出于数据科学的目的，通常使用**conda**工具来创建和管理虚拟环境是有帮助的。然而，这不是必需的，你应该能够使用任何可用的 Python。

通常使用`pip`安装额外的包。命令看起来像这样：

```py
% python -m pip install pytext mypy tox beautifulsoup4
```

### 完成额外内容

每一章都包含一些“额外内容”，这些内容可以帮助你扩展章节中的概念。这些额外项目通常探索设计替代方案，并通常引导你为给定问题创建更多、更完整的解决方案。

在许多情况下，额外内容部分甚至需要更多的单元测试用例来确认它们确实解决了问题。将章节的核心测试用例扩展到包括额外功能是一个重要的软件开发技能。

### 下载示例代码文件

本书代码包托管在 GitHub 上，网址为[`github.com/PacktPublishing/Python-Real-World-Projects`](https://github.com/PacktPublishing/Python-Real-World-Projects)。我们还有其他来自我们丰富图书和视频目录的代码包，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。查看它们吧！

## 使用的约定

本书中使用了多种文本约定。

`CodeInText`: 表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。例如：“Python 有其他语句，例如`global`或`nonlocal`，这些语句会修改特定命名空间中变量的规则。”

**粗体**: 表示新术语、重要单词或你在屏幕上看到的单词，例如在菜单或对话框中。例如：“**基础情况**表明零长度序列的和是 0。**递归情况**表明序列的和是第一个值加上序列其余部分的和。”

代码块设置为以下格式：

```py
print("Hello, World!")
```

任何命令行输入或输出都按照以下方式编写：

```py
% conda create -n functional3 python=3.10
```

警告或重要提示如下所示。

技巧和窍门如下所示。

## 联系我们

我们始终欢迎读者的反馈。

**一般反馈**: 请通过反馈邮箱发送邮件，并在邮件主题中提及书籍标题。如果你对本书的任何方面有疑问，请通过问题邮箱与我们联系。

**勘误**: 尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在这本书中发现了错误，我们将不胜感激，如果您能向我们报告，我们将不胜感激。请访问[订阅帮助页面](https://subscription.packtpub.com/help)，点击**提交勘误**按钮，搜索您的书籍，并输入详细信息。

**盗版**: 如果你在互联网上以任何形式遇到我们作品的非法副本，如果你能提供位置地址或网站名称，我们将不胜感激。请通过版权邮箱与我们联系，并提供材料的链接。

**如果您有兴趣成为作者**：如果您在某个主题上有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[作者页面](http://authors.packtpub.com)。

## 分享你的想法

一旦您阅读了《Python Real-World Projects》，我们很乐意听到您的想法！请[点击此处直接进入该书的亚马逊评论页面](https://packt.link/r/1803246766)并分享您的反馈。

您的评论对我们和科技社区都很重要，并将帮助我们确保我们提供高质量的内容。

## 下载本书的免费 PDF 副本

感谢您购买本书！

你喜欢在路上阅读，但无法携带你的印刷书籍到处走？你的电子书购买是否与你的选择设备不兼容？

不要担心，现在，随着每本 Packt 书籍，你都可以免费获得该书的 DRM 免费 PDF 版本。

在任何地方、任何设备上阅读。直接从你喜欢的技术书籍中搜索、复制和粘贴代码到你的应用程序中。

优惠远不止于此，您将获得独家折扣、新闻通讯以及每天收件箱中的优质免费内容

按照以下简单步骤获取这些好处：

1.  扫描下面的二维码或访问以下链接

    ![PIC](img/file3.png)

    [`https://packt.link/free-ebook/9781803246765`](https://packt.link/free-ebook/9781803246765)

1.  提交您的购买证明

1.  就这样！我们将直接将您的免费 PDF 和其他优惠发送到您的电子邮件中
