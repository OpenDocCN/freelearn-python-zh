# 第四章　Glyph Lefkowitz

![Glyph Lefkowitz](img/B08180_08_01.jpg)

Glyph Lefkowitz 是一位美国软件工程师，曾参与过许多开源项目。他之前担任过苹果公司的资深软件工程师，现在在 Pilot.com 工作，这是一家为初创企业提供簿记服务的公司。Glyph 是 Python 网络编程框架 Twisted 的原始创始人。他继续维护 Twisted，并在 Twisted 社区中扮演着积极的角色。2009 年，Glyph 被选为 Python 软件基金会（PSF）的会员。2017 年，PSF 授予 Glyph 其社区服务奖，以表彰他对 Python 语言的贡献。

> **讨论主题：v2.7/v3.x，Python 的未来，多样性。**
> 
> **在这里了解 Glyph Lefkowitz：@glyph**

**Mike Driscoll**：那么你是如何成为程序员的呢？

**Glyph Lefkowitz**：嗯，我的编程之路有些曲折。我从小就开始编程，但我的学习经历并不是典型的从 BASIC 到 Perl 的过程。没有线性进步，也没有我必须从事编程的专业抱负。

我只是想在我小时候制作像 Zork 那样的游戏。我的父亲是一位专业程序员，所以他试图教我 APL。我没有很快地接受编程。我学会了如何分配变量，就这些。我不知道变量分配意味着什么。这就是我在那里停留了大约五年的原因。

然后，我学习了 HyperCard，并开始理解控制流和循环的概念。我试图用它制作视频游戏。在整个童年时期，我都在试图避免学习编程。我总是寻找非编程的事情来做，因为我数学很差。

> **Glyph Lefkowitz**：“在整个童年时期，我都在试图避免学习编程。”

所以过了一段时间，HyperCard 开始显得有些局限。我得到了 SuperCard，在某个时候，我学会了什么是变量以及如何编写实际操作数据结构的程序。然后我学习了 C++。在我尝试避免编程多年之后，一旦我理解了编程固有的力量，我就真正地投入进去了。

> **Glyph Lefkowitz**：“一旦我理解了编程固有的力量，在我尝试避免它多年之后，我就真正地投入进去了。”

我在高中时学习了 Java、Perl、Lisp 和 Scheme。我在高中教了一门编程课，所以在大约 17 岁时，我就非常热衷于编程了。但在这条路上，我经历了不少艰辛。

**Driscoll**：那么，这是如何让你从所有那些其他语言转向 Python 的呢？

**Lefkowitz**：嗯，当我开始我的职业生涯时，我差不多已经决定使用 Java 了。

我在使用 Java 时遇到了一些非常糟糕的体验，尤其是对于 macOS 的专有运行时，因为应用程序我正在工作的依赖了那个窗口系统，存在一个 bug。

由于这个错误与大量内存泄漏有关，因此无法重新架构应用程序以避免触发这个错误。因此，我参与的项目实际上失败了，我失去了工作。我最终失业了几个月，因为这个经历，我想，去他的 Java，我再也不做了，主要是因为运行时的问题。

> **莱夫科维茨：**“我最终失业了几个月，因为这个经历，我想，去他的 Java。”**

我的第一反应是看看 GNU 为 Java 编译器提供了什么。我想也许我可以做 Java，但不需要接触运行时，因为它的错误太多。从那个结论中迅速得出的是，那些东西都不起作用。

同时，我的业余项目，这个项目至今仍然存在，是一个我用 Java 编写的基于文本的在线游戏。我在 Java 中做的大量工作就是构建这些充满具有运行方法的对象的哈希表。

然后还有运行方法的参数，我会通过反射将它们注入其中。整个想法是在运行时将游戏连接起来。它有点用户可编程，但方式更加受限。

**德里斯科尔：**“那么这个游戏是如何运作的？”

**莱夫科维茨：**“你会有一套相对受限的构建块，这样如果你做了什么，它会产生游戏后果，而不仅仅是打印出来的风味文本。所以 Java 版本中的几乎所有代码都是与动态组合对象有关的大量仪式，这些对象可能是任意集合的其他对象。”

我用 Python 重新实现了整个系统，并意识到你不需要做任何那些事情。Python 中的对象只是这些动态的事物集合，你可以随意添加属性并从中检索属性。你可以查看其他字典以及所有那些东西。

> **莱夫科维茨：**“我重新实现了整个系统，大约有 25,000 行 Java 代码，压缩到了 800 行 Python 代码，我认为这是一个更好的程序。”**

因此，我重新实现了整个系统，大约有 25,000 行 Java 代码，压缩到了 800 行 Python 代码，我认为这是一个更好的程序。现在，当然，我在 Java 中实现的是一个糟糕的 Python 对象模型版本，所以实现起来特别容易。

我多年来一直保持的兴趣之一是可组合性和自动组装的能力。我希望能够使程序具有自对称性，这样就可以拥有大量类似接口的实现，并能够自动组合它们。Python 的元编程设施位于 Lisp 或 Scheme 等语言之间的美妙甜点，那里有如此多的力量，以至于没有任何东西是兼容的。没有人会用同样的对象模型来编写那些语言。

在另一端，使用类似 Java 这样的语言，一切都非常标准化，但这并不重要，因为一切也都非常枯燥。你无法自动地将事物组合在一起，而且一切都非常冗长，所以尝试进行任何元编程都不值得。

Python 足够标准化，事物可以协同工作，但足够灵活和高级，以至于你几乎可以得到像 Lisp 宏一样多的功能。这就是为什么我自从那时起就一直坚持使用它，尽管因为我了解很多其他语言，所以我时不时地会尝试它们。但 Python 绝对是我建立职业生涯的主要语言。

> **莱夫科维茨说：“Python 绝对是我建立职业生涯的主要语言。’**”

**德里斯科尔**：你真的是 Python 的核心开发者吗？我无法发现这个信息。

**莱夫科维茨**：我不是。我参加过很多核心 Python 开发者活动，因为 Twisted 是一个相当高调的 Python 项目。

几年前我去参加了一个语言峰会，我在 bug 跟踪器上有分类权限。我是 Python 安全响应团队的一员，负责从库的角度提供对这个问题的看法。我还与吉多·范罗苏姆合作了很多，帮助 asyncio 集成到标准库中。例如，提供反馈以及我在 Twisted 上的经验。

因此，我对 Python 核心开发只是外围的，而不是核心团队的一员。我从未真正有参与的欲望。我基本上已经花了很多时间，可能比应该花的时间还要多，来做志愿者开源开发，通过做 Python 核心工作来增加这一点。很多人在专业上使用 Python 并希望回馈，但我已经做出了贡献。

**德里斯科尔**：所以，现在我们正在谈论 Twisted，你能告诉我 Twisted 是如何产生的以及是什么启发了你编写它吗？

**莱夫科维茨**：嗯，它最初是由于那个我之前告诉你的同样的视频游戏。我开始用 Python 重写我一直在工作的 Java 服务器版本。

该服务器的并发性非常依赖于线程，因为有很多玩家在四处走动，有很多自主代理在做各种事情。所以在 Java 中，线程一团糟。没有其他方法可以做到这一点，整个生态系统都是围绕使用大量线程来构建的。

> **莱夫科维茨说：“曾经有过一个时期……当‘大规模多线程’这个词听起来像是项目的一个夸耀。’**”

事实上，我永远不会忘记，在 20 世纪 90 年代末和 21 世纪初，*大规模多线程*就像是一个项目会吹嘘的夸耀。这是他们对项目的一个积极声明。

我们有类似类型的架构，但它一团糟。有成千上万的糟糕错误是由于线程管理不当造成的。我不记得我是如何发现这个问题的，但基本上最初每个连接都有三个线程：读取线程、写入线程和逻辑线程。

我的朋友詹姆斯·奈特重新编写了这款游戏的客户端/服务器协议。我相信当他重新编写时，他通过使用 select 模块将三个线程合并为每个玩家一个线程。

**德里科尔**：这次开发对你意味着什么？

**莱夫科维茨**：我研究了客户端/服务器协议，并意识到我想要了解的有很多，我可能可以通过套接字来实现。

> **莱夫科维茨**：“一旦我了解到 select 模块，我就去阅读它，这完全改变了我对程序工作方式的看法。”

所以一旦我了解到`select`模块，我就去阅读它，这完全改变了我对程序工作方式的看法。正如我之前提到的，我早期的编程接触是 HyperCard，所以我有一个直观的想法，即计算机是空闲的，等待发生某事。

**德里科尔**：从那里你做了什么？

**莱夫科维茨**：所以，在玩弄`select`模块一两天后，我意识到你可以在接收到数据或连接开始时做些事情。

这对我来说更加自然，因为我之前一直在尝试用线程来模拟这种效果，但从未感到真正舒适。当时，我对启动程序时会发生什么并没有很好的直觉。程序会在后台启动线程，或者发生一些并发事件，但我并没有真正理解并行工作是如何进行的。

使用`select`，你可以看到并行性，因为会有多个连接进来。然后就会有多个我实例化的对象，它们上面有方法，我从这个事件循环中调用这些方法。所以从底层构建这些给了我关于并发工作方式更好的理解。

从那时起，想法是这款游戏将是如今所说的“替代现实游戏”。它将通过各种协议发送电子邮件或短信与你联系。这确实让整个事情显得有些过时，因为当时我并没有首先考虑建立网站服务器，而且并不清楚网络这一块是否会流行起来。

> **莱夫科维茨**：“网络只是一个非常慢且充满错误的本地客户端，经常崩溃。”

对于我们 Twisted 开发团队来说，网络只是一个非常慢且充满错误的本地客户端，经常崩溃。我们可以在 Python 中编写本地客户端，它们会做我们想要的一切。当然，安全性并不是像今天那样令人担忧的问题，所以并不那么明显我们需要沙箱。公平地说，当时的浏览器安全性也很糟糕，但我们并没有真正考虑这一点。所以，项目就这样发展成了一个多协议的 Hydra。

Twisted 之所以以这种形式存在，其中内置了一个庞大的标准库，其中一个原因是，我们真的希望开发者以这种方式重写他们的协议，这样你就不需要线程来与之通信。我至今仍然这样认为。

**德里斯科尔**：你从第一个 Twisted 版本中学到了什么教训？

**莱夫科维茨**：嗯，一个教训是，每次你使一个对象持久化时，你基本上是在承诺支持它直到你生命的尽头。

> **莱夫科维茨**：“每次你使一个对象持久化时，你基本上是在承诺支持它直到你生命的尽头。”

因此，我们有一系列真正糟糕的小课程，它们是愚蠢的实现细节。这正是一群无聊的 19 岁年轻人编写大量生产关键服务器基础设施时可能会想象到的事情。我们就是这样做的，最终我们陷入了一种非常奇怪的情况，我们有了这些服务器文件，它们就像是软件前几个版本中的几十个死对象。

我们不知道文件在那里，因为`pickle`没有方法可视化你的对象图，或者显示你在做什么。所以，直到大约 2009 年，Twistedmatrix.com 的主要网络服务器是一个 45MB 的`pickle`文件。我们不知道为什么它这么大，但这就是你运行它的方式。你只需要启动一个 Python 解释器来运行反应器。我们生活在五到十年后的未来，但这并不一定总是好事。

**德里斯科尔**：你遇到了什么问题？

**莱夫科维茨**：我们有时试图做一些真正糟糕的决定，因为与它们相关的工具不足。

没有支持性的生态系统，所以我们假设我们可以做一些替代方案，而不需要保留所有的配置和平文文件。我们以为我们可以以某种方式挥挥手，忽略版本控制和文本差异的所有好处，所有日志处理工具会以某种方式进入我们的生态系统，但它们从未这样做。因此，在过去五到十年中，我们一直在努力让项目变得不那么奇怪，但这仍然不到其寿命的一半。

> **莱夫科维茨**：“在过去五到十年中，我们一直在努力让项目变得不那么奇怪，只是为了奇怪。”

**Driscoll**: 所以你提到你在帮助进行 `asyncio` 以及与之相关的其他库的更改。你认为这些更改会如何影响 Twisted？

**Lefkowitz**: 我实际上在我博客上写了一篇关于这个话题的文章。当时，Python 用户中有一小部分人，一开始就不喜欢 Twisted，他们很高兴看到库的更改最终会终结 Twisted，因为再也没有理由使用它了。

> **Glyph Lefkowitz: 'Python 用户中有一小部分人，一开始就不喜欢 Twisted，他们很高兴看到库的更改最终会终结 Twisted。'**

我当时预测的，我认为这个预测在很大程度上已经得到证实，就是在标准库中批准事件驱动的并发，并说这是 Python 处理并发的正确方式，将会激发对 Twisted 的新兴趣。

整个 Python 堆栈实际上已经趋向于这个观点：事件驱动并发是做事的正确方式。以前，Twisted 必须是一个好的服务器框架，你可以用它来部署你的应用程序。它还必须是一个好的 GUI 客户端框架，你可以用它来编写直接行应用程序和桌面应用程序。

Twisted 需要是一个大量设计模式的稳固实现，但它也必须是一个自己的小标准库。它必须弥补 Python 标准库中的许多问题，这些问题有非常缓慢的发布周期，并且你无法保证它们适用于应用程序。

> **Glyph Lefkowitz: '这个工具在他们遇到问题之前，似乎是在向他们传教。'**

Twisted 达到的某种断裂点，是它还必须成为事件驱动网络的消息传递者。人们会带着一些功能需求来到 Twisted，然后你必须首先说服他们异步确实是一个好主意。这导致的结果是，人们带着没有共享的期望和背景来到 Twisted。这个工具在他们遇到问题之前，似乎是在向他们传教。

为了在一定程度上生活在 Twisted 生态系统之中，以获得其实际的好处，你将不得不开始将你的代码转换为这种异步模型，而这需要大量的工作。如果你不了解它是如何工作的，并且它对你来说不直观，那么你会感到困惑。你不会处于一个愿意了解它的心态。

所以有趣的是，甚至那些还停留在 Python 2.7 上，并且将在接下来的十年里继续这样做的人，现在也开始出现在 Twisted 中。

**Driscoll**: 为什么人们还停留在 Python 2.7 上？

**Lefkowitz**: 人们多少知道标准库，就像 Python 一样，已经继续发展了。现在一切都是事件驱动的，都是异步的，他们不能使用 `asyncio`，因为他们在一个大型企业代码库中。

从 Python 2 到 Python 3 的过渡，坦白说，管理得并不好。核心团队，尽管像我这样的关心用户提出了警告，但并没有理解他们自己创造的规模。他们低估了迁移工作的难度。

> **莱夫科维茨：**“起初，从 Python 2 到 Python 3 的过渡，坦白说，管理得并不好。”

Python 2 的长期存在是他们对此错误负责管理的后果。Python 开发团队看到用户没有升级，并努力了解原因，并解决大型 Python 用户的问题。所以它不是理想的，但比替代方案好得多，即 Python 3 变成 Perl 6。

**德里斯科尔：**“你对 Python 3 有什么看法？”

**莱夫科维茨：**“我现在在日常工作中使用 Python 3，并且非常喜欢它。经过许多血汗和泪水，我认为它实际上是一种比 Python 2 更好的编程语言。我认为它解决了许多不一致性。”

大多数改进应该反映生活质量问题和 Python 生态系统中真正有趣的事情。我迫不及待地想要 PyPy 3.5，因为在工作中使用 Python 3 的一个真正缺点是，我现在必须处理我的所有代码慢 20 倍的事实。

当我为 Twisted 生态系统做事情，并在 Twisted 的基础设施上运行东西时，我们在所有地方都使用 Python 2.7 作为语言，但我们使用 PyPy 作为运行时。它快得令人难以置信！如果你在运行服务，那么它们可以用十分之一的资源运行。

PyPy 进程将占用 80 MB 的内存，但一旦运行起来，每个解释器实际上会占用更多的内存，但每个对象占用的内存会更少。所以如果你在进行任何大规模的 Python 开发，我认为 PyPy 非常有趣。

我对 Python 社区持续感到困惑的一点是，有一种东西（至少对于 Python 2 来说），可以让你的代码快 20 倍。这并不特别受欢迎，实际上 PyPy 的下载统计仍然显示它不如 Python 3 受欢迎，而 Python 3 的受欢迎程度实际上正在大幅上升。

> **莱夫科维茨：**“PyPy 缺乏可行的 Python 3 实现开始对其造成相当大的伤害。”

我确实认为，鉴于其受欢迎程度的提升，PyPy 缺乏可行的 Python 3 实现开始对其造成相当大的伤害。但在 Python 3 下载量甚至达到 PyPy 的 10%之前，PyPy 已经存在并且运行得非常快。所以我一直想预测这是 PyPy 在桌面上的年份，但它似乎从未发生。

**德里斯科尔：**“你认为为什么 PyPy 在服务器上没有流行起来？”

**莱夫科维茨：**“我仍然不太确定原因，因为特别是对于在基础设施上投入巨大的公司来说，它每年可以节省数百万美元。”

你可以告诉公司，如果他们重写所有代码，每年可以节省数百万美元。问题是，他们会承担巨大的安全风险，扩大他们的开发团队规模，并且在两年内没有任何新功能的进展。这是一个糟糕的权衡，我明白为什么你不想这么做。

使用 PyPy 我们会说，“为什么那不是未来？我们只是加入了这个新的解释器。”我们不能使用它的原因有很多，比如科学 Python 社区的工具在 PyPy 上还不能工作。但实际上，这只是一个例外而不是规则，甚至 NumPy 程序在 PyPy 上也大多能工作。我去年写了一些大量使用 PyPy 的 OpenGL 代码，做这件事真的很有趣。

**德里斯科尔**：你喜欢 PyPy 的哪些方面？

**莱夫科维茨**：你用 CPython 编写 OpenGL 程序时，它很难保持在每秒 50 帧的速度。你在 PyPy 中做同样的事情，它可以达到每秒 300、400 或 500 帧，毫不费力，而且不占用 CPU。

> **莱夫科维茨**：“我希望 Python 前进的方向是采用更多先进的技术。”

我希望 Python 前进的方向是采用更多先进的技术，但不知何故，我们集体落后了。我认为决定 Python 前进方向的关键因素之一是我们能在多大程度上摆脱 *pip* 作为用户安装应用的工具。

我认为我们需要一个更好的故事来描述如何编写跨平台的 GUI 代码，即使它非常基础。例如，`tkinter` 已经足够糟糕，以至于人们根本不使用它。我们需要一个更好的故事来描述如何打包应用。

我想制作一个我可以上传到 App Store 的应用，甚至在谈论移动之前。随之而来的是所有资源限制的问题。我想编译我的应用并将其放在别人的电脑上，但现在做这件事太难了。

**德里斯科尔**：你看到制作应用变得更容易了吗？

**莱夫科维茨**：我对 pybee/briefcase 这样的项目感到鼓舞，我认为它们终于开始取得一些进展。

他们是一个规模很小的项目，面前却有着非常大的问题。但他们也非常坚定和投入，有着解决这些问题的实际经验。这可以从 Pythonista 这个 iOS Python 应用中看出，它使用了他们的代码。

我认为围绕构建和集成 Python 程序的故事一直在不断改进。我乐观地认为，在未来五年内，看到完全用 Python 编写的应用将不再罕见，而不是我们现在所拥有的少数几个例子。

如果唯一能够从一台计算机到另一台计算机实际获取 Python 代码的方式是 Docker，那将是一件遗憾的事情。Python 应该在你的 Mac 上，应该在你的 Android 上，应该在你的 Linux 机器上，应该在云中，应该在你的 Raspberry Pi 上。特别是随着物联网的出现，我真的希望更多的事情都在运行 Python 网络服务器。

> **莱夫科维茨：**“任务是在每个端口上运行 Python，我们真的觉得这是一个重要的任务。”

任务是在每个端口上运行 Python，我们真的觉得这是一个重要的任务。许多服务，人们实际上用来与边缘网络设备（如 Nginx、Apache、XM 和 BIND）通信的东西，也都在 C 语言中。

我们正在用这些高级语言编写所有我们的应用程序代码。实际上从线路上提取字节并将其交给应用程序，然后解析它们的所有程序，都是 20 年前勉强维护的 C 程序。这是一个真正的危险。

因此，想法是你在 Python 中不能进行加密。加密原语需要用 C 语言编写，但它们只是安全应用程序的一小部分。高级加密构造可以在 Python 中（而且确实应该）完全组装，在那里你正在处理将多个加密原语组合成一个可行的整体。在 C 中进行这种组合是危险的且容易出错。

在许多情况下，你必须降级到子层，但你必须用一种语言编写加密原语，这样你就可以告诉底层硬件以固定的时间长度来完成事情。因此，它必须完全独立于数据输入。它还必须非常快，因为你不希望为加密事物支付巨大的开销。你只需要加密它们即可。

**德里斯科尔：**你认为 Python 语言会一直存在吗？

**莱夫科维茨：**哇，这是一个有趣的问题！我认为许多寿命与 Python 相当的语言，都逐渐淡化为遗产状态。

总体来说，我认为 Python 语言正在向前发展。它仍然是一个非常活跃的社区，并且仍在增长。它在开始时增长缓慢，现在也在缓慢增长，但多年来一直在持续增长。我认为这很有趣，因为有很多语言曾经是巨大的流星。Ruby 曾经非常流行，但随着 Rails 的流行度下降，其受欢迎程度急剧下降。

> **莱夫科维茨：**“我认为 Python 的生命周期将比之前的语言长得多。”

我认为 Python 的生命周期将比之前那一代超级热门技术、然后随着下一代技术的出现而逐渐消失的语言长得多。我认为 Python 正在成为自己的下一代。具有讽刺意味的是，我认为 Python 3 只是其中的一小部分。

我非常希望发生的一件事，我认为这还没有发生，就是 Python 在浏览器中的应用。Skulpt、Pyjs、PyPy.js 以及其他一些项目已经提供了一些好的概念证明，但再次没有人坐下来想：“我是一个新的 Python 程序员，我想做一个前端 Python 应用。我该怎么做？”

对此的回答不可避免的是，真正让你能够做你想做的事情的东西只在这个项目的 Git master 上。你必须检出它，检出另一个项目。当你问：“嗯，为什么我不能 `pip` 安装这个？”时，答案是：“我们还在努力工作，它还没有完成。”

> **Glyph Lefkowitz: '我认为 Python 将会在各种不同的后端能力上持续增长。'**

答案当然是，你可以使用 *pip* 安装它，而且不应该比这更难。所以我希望社区会朝这个方向发展，但我确实认为 Python 将会在各种不同的后端能力上持续增长。

我还认为，作为一门语言和生态系统，我们将走向更加多样化的方向。它将带我们走向一些我无法预测的令人惊讶的地方，但我可以说，Python 很可能将长期存在。我认为现在 Python 的方向是数据科学。显然，现在有很多人对数据科学感兴趣。

**Driscoll**: Python 在人工智能和机器学习的热潮中被广泛使用。你认为这是为什么？

**Lefkowitz**: 人工智能是一个有点笼统的术语，通常意味着当前计算机科学研究中最先进领域的任何东西。

曾经有一段时间，我们视为理所当然的基本图遍历技术被认为是人工智能。在那个时期，Lisp 是主要的 AI 语言，因为它比平均水平更高，研究人员更容易用它快速进行原型设计。我认为 Python 在广义上已经很大程度上取代了它，因为除了具有类似的高级特性外，它还有一个出色的第三方库生态系统，以及操作系统设施的优秀集成故事。

Lisp 程序员可能会反对，所以我应该明确指出，我并不是在精确地陈述 Python 在表达性层次结构中的位置，只是说 Python 和 Lisp 都属于同一类语言，具有垃圾回收、内存安全、模块、命名空间和高级数据结构等特点。

在更具体的机器学习意义上，这是现在人们说 AI 时所指的，我认为有更具体的答案。NumPy 及其伴随的生态系统允许进行非常研究友好的高级功能与非常高性能的数值计算相结合。如果没有非常密集的数值计算，机器学习就什么也不是。

> **Glyph Lefkowitz**：'Python 社区专注于为非程序员提供友好的介绍...这实际上极大地增加了其在数据科学和科学计算等姊妹学科中的采用。'

Python 社区专注于为非程序员提供友好的介绍和生态系统支持，这实际上极大地增加了其在数据科学和科学计算等姊妹学科中的采用。无数的统计学家、天文学家、生物学家和商业分析师都成为了 Python 程序员，并改进了工具。编程本质上是一种社会活动，Python 社区比任何其他语言（除了 JavaScript）都更认可这一点。

机器学习是一个特别需要集成的学科，从任何 AI/机器学习系统都需要从现实世界来源摄取大量数据作为训练数据或系统输入的角度来看，Python 广泛的库生态系统意味着它通常处于良好的位置来访问和转换这些数据。

**Driscoll**：为了使 Python 成为更适合 AI 和机器学习的语言，我们可以做些什么？

**Lefkowitz**：使用更多的 PyPy。目前，Python 中的数据科学/机器学习生态系统非常专注于 CPython 运行时，这是不幸的。

这意味着新工具往往在没有在 PyPy 上进行测试的情况下创建，这意味着当它们出现性能瓶颈时，核心逻辑在 C（或者如果你幸运的话，是 Cython）中的重写是任何重大项目的必然部分。

> **Glyph Lefkowitz**：'目前 Python 中的数据科学/机器学习生态系统非常专注于 CPython 运行时，这是不幸的。'

这在很大程度上是一个社会问题，当前 Python AI/机器学习基础设施在某些部分无法运行或运行良好的技术挑战，如果其维护者关心，所需修复的资源并不显著。但是，从那些项目无关的旁观者角度来看，谁在启动一个项目并尝试使用 PyPy，这只是一些你一无所知的代码中一个接一个无法解释的失败。

这在 Python 应用的几个领域都是真的，我只希望更多的人能将 Python 视为一种可以非常快速且与 Java 或甚至 C++竞争的语言，并在评估他们的测试矩阵时相应地规划。

> **Glyph Lefkowitz**：'我只希望更多的人能将 Python 视为一种可以非常快速且与 Java 或甚至 C++竞争的语言。'

**Driscoll**：你希望在未来 Python 版本中看到哪些变化？

**Lefkowitz**：我的主要愿望是希望有一些好的默认设置来为新项目设置。

例如，今天你必须知道，当你安装 Python 时，你还需要安装`pip`，然后你还需要创建一个`virtualenv`，但所有这些步骤都是可选的。你还需要手动创建一个`setup.py`来描述你的项目，然后学习如何构建 wheel，指定依赖项等等。

我希望看到 Python 展示一个最佳实践的集成视图，使得用户在安装东西时更难迷失。这可以只是一个“新建项目”按钮，这样 Python 项目对刚开始的用户来说就像任何其他类型的文档一样。此外，Python 可以更像是一个应用程序，即使这个应用程序需要大量的命令行使用。

其次，我希望看到一些工具，使库的作者更容易保护私有实现细节免受意外破坏。例如，你可以导入库导入的内容，而不是导入库试图定义的内容。目前，升级 Python 库风险很大，因为每个库的每个用户都可能犯这样的错误，并依赖于这个错误。

我想要制作的工具，让用户能够轻松创建项目，将极大地受益于与语言的结合，但这种模块边界强制措施必须内置于语言中。在生态系统内构建它将极其困难。

**德里斯科尔**：那么你认为 Python 社区最好的是什么？

**莱夫科维茨**：我认为真正好的是对于多元化的承诺。很多人认为这是一件政治性的事情，或者认为有支持多元化和反对多元化的不同派别。多元化几乎被视为以某种方式削弱了技术性。

我可以分享我个人的经历，从对多元化和社会正义感兴趣开始。我环顾了一下 Twisted 项目，我说：“为什么我们这里 100%都是男性？这里发生了什么？我们做了什么让女性远离这个项目？”

> **莱夫科维茨**：“我们显然错失了世界上半数的人才。”

我感到很抱歉，但我们显然在以最明显的方式错失了世界上半数的人才。我们所有人都是白人，而有色人种中也有许多有才华的人。他们没有出现。所以，确实存在一定程度的利他主义冲动，但我认为 Python 社区内部许多人已经接受这是一个真正的技能差距问题。

如果我们无法吸引到多元化的团队来参与我们的项目，并融入我们的社区，那么我们就不可能开发出对世界上的大多数人都有用的软件。我们将错失大量的人才，也将错失许多有趣的见解，这些见解将挑战我们，使我们的社区更加有趣。

> **莱夫科维茨：**“如果我们不能让不同背景的人参与到我们的工作中来……那么我们不会开发出有用的软件。”

所以当我们之前讨论 Python 社区正在移动的技术方向时，这些方向得益于对多样性的追求。我相信 Python 在生命科学中受欢迎的部分原因是因为它的人口结构与其他科技行业不同。我认为 Python 在这方面取得了真正的突破，很大程度上是因为人们看到 Python 社区时并不感到害怕。它不是一个令人畏惧或排斥的环境。

> **莱夫科维茨：**“Python 社区并不完美。我们还有很长的路要走。”

话虽如此，我觉得评论这一点有点奇怪，因为我也有同样的感觉，即 Python 社区并不完美。我们还有很长的路要走。整个科技行业都在突出女性，因为这是最明显的人口差异，但还有很多其他代表性不足的群体。

当你观察整个软件行业中女性的代表情况时，大约有 25%到 30%，具体取决于如何衡量。然后你看开源社区，女性比例大约是 5%，这比几年前好多了，那时大约只有 1%。

Python 社区在这方面做得相当好，但当你看那些积极参与项目的人时，它甚至没有达到行业平均水平，更不用说整体人口平均水平了。

**德里科：**Python 社区如何鼓励更多多样性？

**莱夫科维茨：**“我们认为我们还有很长的路要走，但 Python 社区在很大程度上已经承认了影响技术许多方面的真正问题，这是重要的。多样性是影响技术文化的一个问题。”

> **莱夫科维茨：**“多样性是影响技术文化的一个问题。”

你还有其他社区，比如 Clojure 或 Erlang，它们提供了一些非常棒的技术，但它们并不真正关心多样性问题。你可以在它们的思维单一化和缺乏成功变得流行中看到这一点。

我认为在很大程度上效仿 Python 的社区是 Rust。尽管它非常底层且编写起来有些繁琐，但它们确实在那个语言中有一些很好的想法。由于更加包容并深思熟虑地组织社区，Rust 的受欢迎程度从列表的底部飙升。

> **莱夫科维茨：**“我认为 Python 社区的包容性绝对是它最好的地方。”

所以我认为 Python 社区的包容性绝对是它最好的地方。这不仅仅是对其政治倾向的评论，也是对其未来产生有趣技术能力的评论。

我认为 Python 之所以能够持续发展，是因为它对很多人都很友好。它欢迎来自新社区和不同社区的人们。我真的不知道如何预测未来，因为这将取决于接下来会出现谁。

**Driscoll**: 谢谢，Glyph Lefkowitz。
