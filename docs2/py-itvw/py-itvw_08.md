# 第八章。Marc-André Lemburg

![Marc-André Lemburg](img/B08180_19_01.jpg)

Marc-André Lemburg 是一位德国软件开发者和企业家。他是 eGenix 的 CEO 和创始人，该公司提供 Python 培训和咨询服务。Marc-André是 Python 的核心开发者，也是一系列流行 Python 扩展的创造者。他是 Python 软件基金会（PSF）的创始成员，曾两次担任董事。Marc-André是 Düsseldorf Python 会议的联合创始人，也是 EuroPython 协会（EPS）的主席。他经常在世界各地的 Python 会议上发表演讲。

> **讨论主题：mx 包、PSF、v2.7/v3.x。**
> 
> **在这里与 Marc-André Lemburg 保持联系：@malemburg**

**Mike Driscoll**：你为什么成为程序员？

**Marc-André Lemburg**：我的父亲在 IBM 工作，所以我很早就接触到了计算机编程。

我热爱技术和让事物工作，但在当时（20 世纪 70 年代末晚期），对于像我这样的孩子来说，电脑仍然遥不可及。我玩弄着写在一张纸上的“程序”，并通过想象一个真正的电脑可能会如何执行它们来“运行”它们。

我在 11 岁时开始学习编程，那是在我爸爸买了一台 Sinclair ZX81 之后。首先，我学习了 BASIC，然后后来学习了 Z80 汇编器，因为 ZX81 是一款相当慢的机器。汇编器特别有趣。我必须逐个字节地将操作码组合起来编写程序，基于 Z80 手册。然后我将操作码转换为十六进制，并手动将它们输入到 ZX81 的十六进制编辑器中，以便运行程序。

> **Marc-André Lemburg：“我学会了欣赏性能，以及注意细节。”**

这种努力是值得的，因为程序运行得比 ZX81 的 BASIC 快得多。我学会了欣赏性能，并注意细节。汇编代码中的错误通常意味着在运行程序并重新加载所有内容后，需要重新启动 ZX81。考虑到磁带驱动器接口，这需要相当长的时间。

大约两年后，我爸爸买了第一台 IBM PC1，我开始学习 MS BASIC、Turbo Pascal 和 Turbo C。在学校，我继续大量使用电脑，并在大学期间创立了我的第一家公司。

**Driscoll**：你是如何接触到 Python 的？

**Lemburg**：我在 1994 年通过翻阅一张名为 Hobbes 的 OS/2 Freeware CD 时第一次了解到 Python。Python 被列为编程语言之一，并包含在 1.1 版本中。

我在一个下午阅读了 Guido van Rossum 的教程，并立即确信我找到了我一直寻找的东西。Python 是一种具有所有重要数据结构的语言，实现方式易于使用，语法清晰，无需显式内存管理或括号来定义块。

当时，我主要编写 C 代码，因此我不得不定期处理系统语言的所有困难。这些问题包括内存分配、指针算术、溢出、段错误、在调试器中的长时间会话以及缓慢的编辑-编译-运行-调试周期。

> **Marc-André Lemburg: 'Python 拥有让我感到快乐的一切。'**

Python 拥有让我感到快乐的一切：一个用于交互式实验的解释器、良好的文档、相当完整的标准库以及一个真正优秀的 C API，其中包含了将 Python 与现有 C 代码接口所需的一切。这包括一个我发现特别有趣的小细节：解释器正在使用它为语言提供的数结构来实现其自身的内部机制。

**Driscoll**: 你能解释一下你是如何成为企业家并创立自己的公司的吗？

**Lemburg**: 我 17 岁时开始从事 IT 工作。1993 年，在大学期间，我成立了我的第一家名为 IKDS 的公司，为想要进入当时新兴在线业务市场的本地公司做自由职业者。

1997 年大学毕业之后，我利用在构建几个网站引擎方面的经验，开始着手开发一个新的网络应用服务器。我的目标是构建一个使开发在线网络系统既容易又高效的系统。该系统将利用面向对象技术、关系数据库以及 Python 的简洁和优雅。

经过三年的艰苦努力，我完成了第一个版本，其中包含了商业企业产品所需的一切。然后，我在 2000 年初成立了一家有限公司来推广这个产品。应用服务器的开发使我进入了开源的世界。

> **Marc-André Lemburg: '应用服务器的开发使我进入了开源的世界。'**

由于我没有足够的资源来彻底测试我正在编写的软件，我决定将应用服务器中使用的核心模块开源。这就是流行的 mx 扩展如何产生的。从商业角度来看，应用服务器并不成功。我发现市场还没有理解这种产品的优势。

之后，我更多地专注于咨询和为其他公司运行项目。其中一个更有趣的项目是完全用 Python 编写的金融交易系统。如今，类似的项目让我相当忙碌，所以我很遗憾没有太多时间贡献于 CPython 的开发。

**Driscoll**: 你能更详细地解释一下你们公司分发和维护的 mx 扩展吗？

**Lemburg**: 我在 1997 年开发网络应用服务器时开始着手 mx 扩展。当时，我发现 Python 缺少一个优秀的通用数据库模块。

曾经有一个基于 Windows 的 ODBC 接口，但它并没有真正达到在 Windows 和 Unix 平台之间提供可行和高效数据库接口的任务。我开始编写 mxODBC 来满足这一需求。我想创建一个快速且可移植的 ODBC 驱动程序接口，这样我就可以将应用服务器连接到所有流行的数据库。

在开发 mxODBC 时，缺乏一个好的日期/时间处理模块变得明显。mxDateTime 应运而生以解决这个问题，并在 Python 世界中成为标准，直到 Python 2.3 中 stdlib 增长了自己的 datetime 模块。

> **马克-安德烈·伦伯格**：“mxDateTime 诞生了……并且多年来成为了 Python 世界的标准。”

mxTextTools 和其他几个 mx 包是为了在应用服务器中快速解析模板而产生的。后来，其他人用它来编写解析引擎，例如 Biopython（解析基因组数据），或者驱动实现用户定义语法的解析器。

mxTextTools 中的标记引擎工作方式有点像图灵状态机，因为它提供了非常快速的解析原语，这些原语可以使用 Python 元组组装。几个实用函数有助于使用解析结果来实现搜索和替换。mxTextTools 最初是为 8 位文本和二进制数据编写的。几年后，一位客户雇佣我将其扩展到 Unicode。

较少人知道的 mxStack 和 mxQueue 在应用服务器中扮演了快速数据结构的作用。mxTools 包是我为应用服务器编写的一系列快速内置工具。mxTools 中的几个想法最终以某种形式被添加到 Python 核心中。

**德里斯科尔**：你是如何成为 Python 核心开发者的？

**伦伯格**：在开始编写 mx 扩展时，我与 Python C API 及其内部有很多接触。我向 CPython 贡献了补丁，并在 1997 年后期成为核心开发者。

可能更多的人知道我对 CPython 的贡献是以 Unicode 集成形式出现的。1999 年，吉多联系了弗雷德里克·伦德和 myself，并要求我们为 Python 引入 Unicode。这是由 HP 向 Python 联盟（Python 软件基金会的前身）提供的资助所启动的。

> **马克-安德烈·伦伯格**：“吉多联系了弗雷德里克·伦德和 myself，并要求我们为 Python 引入 Unicode。”

弗雷德里克开发了一个新的正则表达式引擎。我为 Python 添加了原生 Unicode 支持。我还设计了 Python 中的编解码器子系统。最初的发布是在 2000 年，Python 1.6/2.0 版本。我帮助维护了 CPython 2.0 的这个部分超过 10 年。

**德里斯科尔**：你为 Python 做出了哪些其他贡献？

**伦伯格：**我贡献了源代码编码系统、平台模块和 locale 模块的部分。我还负责 pybench 套件，用于测量 CPython 的增强，以及一些使 Python 运行更快或更舒适的补丁和想法。

**德里斯科尔：**作为 Python 的核心开发者，你遇到了哪些挑战？

**伦伯格：**在早期，作为核心开发者非常有趣，因为流程比现在要正式得多。唯一的真正挑战是针对 Unicode 的讨论往往导致无休止的讨论，有时甚至引发激烈的争论。

> **马克-安德烈·伦伯格：**“针对 Unicode 的讨论往往导致无休止的讨论，有时甚至引发激烈的争论。”

我不知道这是否是因为 Unicode 是处理文本的核心，或者仅仅是因为参与讨论的许多人都很有个性。我对这些讨论大多持保留态度，并用幽默感来对待。

从那时起，我们已经看到了几代核心开发者来来去去。整合新开发者往往并不容易，涉及大量的讨论。我们不得不尝试解释 Python 开发是如何工作的，并将所有的新活力引导到正确的方向上。

**德里斯科尔：**Python 是 AI 和机器学习中使用的主要语言之一。你认为这是为什么？

**伦伯格：**Python 对于经常没有接受过计算机科学训练的科学家来说非常容易理解。它消除了你在尝试驱动进行研究的所需外部库时必须处理的许多复杂性。

在 Numeric（现在是 NumPy）开始开发之后，添加了 IPython 笔记本（现在是 Jupyter 笔记本）、matplotlib 和其他许多工具，使事情更加直观，Python 让科学家们主要思考问题的解决方案，而不是那么多的驱动这些解决方案所需的技术。

> **马克-安德烈·伦伯格：**“Python 让科学家们主要思考问题的解决方案，而不是那么多的驱动这些解决方案所需的技术。”

就像其他领域一样，Python 是一个理想的集成语言，它能够轻松地将技术绑定在一起。Python 使用户能够专注于真正的问题，而不是花费时间在实现细节上。除了让用户更轻松之外，Python 还作为一个理想的粘合平台，为开发与外部库进行底层集成的开发者提供了便利。这主要归功于 Python 通过一个非常好且非常完整的 C API 非常易于访问。

**德里斯科尔：**如何改进 Python 以适应 AI 和机器学习？

**伦伯格：**我认为 Python 已经是你在 AI 和机器学习方面最好的选择之一。随着一个充满活力的社区致力于使语言更加完善，Python 在这个领域将拥有漫长而辉煌的未来。

**迈克·德里斯科尔：**你能解释一下 Python 软件基金会（PSF）是如何成立的吗？

**莱姆伯格**：在 PSF 之前，我们有 Python 软件活动小组（PSA），每年需要支付一小笔费用。我们还有一个不太为人所知的 Python 联盟，旨在支持 Python 开发，每年支付大笔资金。

这两个小组并没有真正为 Python 提供足够支持。Python 的版权也分散在几家不同的公司（参见 Python 许可证堆栈）。两家在 Python 上投入了显著资金的公司，Zope 公司和 ActivePython，启动了一个项目，旨在通过一个新的非营利组织解决所有这些问题。

这成为了 PSF，它是在 IPC9（第九届商业国际 Python 会议）上成立的。当时我们有 16 位 Python 核心开发者，两家公司作为创始成员。核心开发者，包括吉多，通过签署贡献者协议将他们的贡献许可给了 PSF，所有后续的发布都是以 PSF 的名义进行的。

初始时，Python 软件基金会（PSF）仅作为维护 Python 发行版版权的法律实体。后来，PSF 还获得了来自 CNRI 的 Python 标志商标权。

2003 年，PSF 在华盛顿资助了首届 PyCon US 会议。这一新举措为 PSF 引入了收入来源，为帮助 Python 社区开辟了新的可能性。

> **马克-安德烈·莱姆伯格**：“这一新举措为 PSF 引入了收入来源，为帮助 Python 社区开辟了新的可能性。”

随着 PyCon US 的成长和商业赞助商的支持增加，收入也相应增长。这导致 PSF 在多年后成为一个更加成熟的组织。我曾担任 PSF 董事会成员数年，以帮助这些发展。

**德里科尔**：我知道你帮助组织了首届 EuroPython 会议。你能告诉我关于这件事的吗？

**莱姆伯格**：2001 年，一群欧洲 Python 和 Zope 用户及公司开始了一场关于在欧洲举办 Python 会议的长篇讨论。

Python 研讨会和 IPC 会议都在美国举行。当时在欧洲几乎没有 Python 的活动。我是讨论的参与者之一，他们似乎并不想结束。在活动临近时，我加入了执行委员会，实际上促成了 EuroPython 会议的举办。这就是 2002 年 EuroPython 会议的由来。

> **马克-安德烈·莱姆伯格**：“当时在欧洲几乎没有 Python 的活动。”

整个活动都是由志愿者组织的，与美国当时的商业 Python 会议不同。我们的预算非常有限。因此，EuroPython 也早于 PyCon US，后者是美国首个由志愿者组织的会议。

EuroPython 2002 在沙勒罗伊举行。能够举办第一次主要的欧洲 Python 会议非常有趣。EuroPython 也相当成功，甚至 Guido 也出席了。如今，每年都有许多国家级的 Python 活动举行，因此虽然 EuroPython 不想与其他国家级 Python 活动竞争，但它确实在这个领域运营。

**Driscoll**：EuroPython 这些年是如何变化的？

**Lemburg**：自从早期开始，EuroPython 就发展壮大，并在 2014 年达到了 1000 名参会者的里程碑。会议仍然由志愿者运营，但它已经不再是一个可以在旁边进行的操作了。

组织 EuroPython 的 EuroPython 社会有很多工作要做，以确保每年都能举办会议。我目前是组织的主席，并且已经担任董事会成员多年。每年，我们都在将活动发展成一个更专业的设置。尽管如此，保持对举办会议所需完成的每一件事的掌控仍然是一个挑战。董事会成员通常需要投入 200 到 400 个小时才能使活动得以举办。

**Driscoll**：你对当今的 Python 最兴奋的是什么？

**Lemburg**：我最兴奋的是原生的异步 I/O 支持。随着新关键字的添加，这最终在 Python 中变得可用，并将大大有助于利用今天机器上可用的全部 CPU 功率。

> **Marc-André Lemburg**：“我最兴奋的是原生的异步 I/O 支持。”

顺便说一下，我发现 Python 的类型注解是当今 Python 最不令人兴奋的发展。它们剥夺了 Python 程序的许多优雅之处。尽管类型注解是可选的，但许多公司将通过企业政策强制执行其使用。这最终会导致越来越多的 Python 使用这些注解编写，使 Python 看起来更像任何其他现代静态类型脚本语言。

**Driscoll**：你对 Python 2.7 有什么看法？每个人都应该迁移到最新版本吗？

**Lemburg**：是的，它们应该迁移，但你必须考虑从 Python 2.7 迁移到 3.x 需要投入多少工作量。许多公司都有为 Python 2.x 编写的庞大代码库，包括我的公司 eGenix。从商业角度来看，并不总是有理由将代码迁移到 Python 3.x，因此两个世界之间的分歧将延续到 2020 年之后。

> **Marc-André Lemburg**：“从商业角度来看，并不总是有理由将代码迁移到 Python 3.x，因此两个世界之间的分歧将延续到 2020 年之后。”

Python 2.7 确实有其优势，因为它成为了 Python 的 LTS 版本。企业用户通常喜欢这些长期支持版本，因为它们减少了从一个版本迁移到下一个版本的工作量。

我认为 Python 还需要推出一个 LTS 3.x 版本，以便在商业世界中持续成功。一旦我们确定这样的版本，这也将为 Python 2.7 的移植提供一个更可行的案例，因为投资将在接下来的几年中得到保障。

**Driscoll**: 你希望在未来的 Python 版本中看到哪些变化？

**Lemburg**: Python 将需要使今天机器上的全部核心和 CPU 数量更容易使用。异步 I/O 通过更好地利用单个核心已经有所帮助，但这并不是多核部署的解决方案。

移除全局解释器锁（GIL）并用更细粒度的锁定机制来替换它是一种方法，但通往这样一个世界的道路将是漫长且坎坷的。我们应该小心不要低估其复杂性和可能对众多 C 扩展造成的破坏。疏远这些扩展将会严重阻碍 Python 的发展，因为它们是 Python 成功的关键驱动因素。因此，我们必须为现有的扩展提供一个平稳的升级路径，也许可以通过在它们控制时保持 GIL 来实现。

在我看来，我们还应该调查其他方法，例如使进程间通信更加高效和用户友好，甚至可能通过添加新的关键字来自动并行运行代码。

**Driscoll**: 谢谢，马克-安德烈·莱姆伯格。
