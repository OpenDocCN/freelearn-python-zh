# 第一章。布雷特·卡农

![布雷特·卡农](img/B08180_07_01.jpg)

布雷特·卡农是一位加拿大软件工程师和 Python 核心开发者。他是微软的主软件工程师，在那里他从事编辑工具的开发工作。他之前的工作包括谷歌的软件工程师和 Oplop 的创始人。布雷特于 2003 年成为 Python 软件基金会（PSF）的会员，并在 2013 年至 2014 年间担任 PSF 的董事。他曾是 PyCon US 委员会成员，并担任 2017 年 PyData 西雅图会议的主席。布雷特领导了 CPython 迁移到 GitHub，并创建了 `importlib`。他的开源成就包括 *caniusepython3*，并且他是 *17 个成功的 Python 增强提案* 的合著者。

> **讨论主题：核心开发者、v2.7/v3.x、Python 疆场。**
> 
> **在这里了解布雷特·卡农：@brettsky**

**迈克·德里斯科尔：**你为什么成为了一名计算机程序员？

**布雷特·卡农：**从我能够记事起，我就一直对计算机很感兴趣。我很幸运，能去一所小学，那里有一个装满了苹果 II 电脑的计算机实验室，当时那可是尖端技术，所以我相对较早地接触到了它们。

在初中和高中的那一年之间，我在夏天上了一个计算机课程，其中包括一点苹果 BASIC。我做到了，并且做得很好，以至于我认为我在第一周就完成了整个课程。在那个阶段，我还没有真正意识到我可以把它作为一份工作来做。

这种情况一直持续到高中，然后到了选择大学课程的时候，我的妈妈让我答应她两件事。我同意我会上一门哲学课和一门计算机编程课。所以我就这样做了，并且我都很喜欢。

我再次在最初的两个星期里读了我的 C 语言入门书，它原本应该持续整个学期。我记得我第一次读完它的时候，我在课后的一天就坐下来实现了井字棋。我甚至忘了吃晚饭！那真是一个那种“啊哈”的时刻。这种工具提供的无限创造力的感觉让我完全沉浸其中。这就是我进入编程的原因。

> **布雷特·卡农：**“这种工具提供的无限创造力的感觉让我完全沉浸其中。这就是我进入编程的原因。”

我知道井字棋是一个已解决的问题，所以我认为我可以编写逻辑，这样我就可以编写一个程序来完美地玩井字棋。我花了大约六个小时的一个晚上来做这件事，我完全震惊于我竟然真的做到了。这打开了计算机能做什么的可能性，以及它的自由和解决问题的能力真的吸引了我。从那以后，我就一直在做这件事。

**德里斯科尔：**是什么让你如此深入地参与到 Python 及其社区中？

**坎农**：嗯，我最终去了伯克利，获得了哲学学位，但我一直上计算机科学课程。伯克利的计算机科学入门课程有一个入学考试，我担心我不懂面向对象编程，因为我只知道 C 语言。所以我四处寻找面向对象编程语言。我发现了 Python，学会了它，爱上了它，并且一直在用它编写个人程序。

在某个时候，我需要`time.strptime`函数，它可以将表示`datetime`的字符串解析回时间元组。当时我在 Windows 上，Windows 上没有`time.strptime`。因此，我想出了一个方法来解析它，你仍然需要输入区域信息，但它仍然可以解析。

当时，ActiveState 的食谱网站仍然存在，所以我把我如何实现`strptime`的方法发到了 ActiveState。后来，O'Reilly 出版了第一版《Python 食谱》，亚历克斯·马尔蒂利将这个食谱作为书中的最后一个食谱，这恰好也是书中最长的食谱。

> **布雷特·坎农：'所以我把我如何实现 strptime 的方法发到了 ActiveState。'**

然而，人们必须输入他们的区域信息仍然让我感到不快。我因为无法解决这个问题而感到沮丧。所以在我心里，我一直在想如何获取这些区域信息。最终，我解决了这个问题。实际上是在我从伯克利毕业后的一周，我给自己留出了时间来整理解决方案，这样你就不必再输入区域信息了。

在我做了那之后，我给亚历克斯·马尔蒂利发了邮件，因为我们那时已经交换过几次邮件了，我说：“嘿，我已经修复了这个，不再需要输入区域信息了。我怎么才能让这个信息传上去？”亚历克斯·马尔蒂利说：“哦，你只需将这个补丁发送到 Python-Dev 邮件列表。”

> **布雷特·坎农：'亚历克斯·马尔蒂利说：“哦，你只需将这个补丁发送到 Python-Dev 邮件列表。”'**

因此，我给列表发了邮件，我认为是 Skip Montanaro 第一个回复的。Skip 只是说：“是的，那太棒了，只需上传文件，我们会处理它并接受它。”我觉得那太棒了。我能够为这个项目和这种语言做出贡献，我认为这真的很有趣。

> **布雷特·坎农：'我能够为这个项目和这种语言做出贡献，我认为这真的很有趣。'**

所有这些都是在本科和研究生之间的一年空档期发生的。我试图进入计算机科学研究生院，我知道我需要更多的编程经验，而不仅仅是上课。我认为我可以为 Python 做出贡献并帮助他人。当时我有很多时间，所以我决定我要参与进来。

> **布雷特·坎农：'我决定我要参与进来。'**

我加入了邮件列表，并四处闲逛提问。然后在同一年，我提出开始承担 Python-Dev 总结的工作，那时它已经停止了。我再次认为我有时间去做这件事，我意识到这是一个让我学习的好方法，因为它迫使我阅读 Python-Dev 中的每一封单独的邮件。

一个有趣的副作用是，我能够了解到任何没有人有时间去处理的小问题，所以我几乎总是比其他人更早看到出现的问题。我能够非常容易地挑选出小问题来修复和学习，而且我能够持续这样做。

在 Python-Dev 总结的幌子下，我能够提出越来越多的问题。

在某个时候，我了解得足够多了，我就在 2003 年的第一次 PyCon（至少是第一次被标记为 PyCon 的会议）之后成为了核心开发者。那时我上瘾了。我认识了团队，那些人已经成为我的朋友。我非常喜欢它，这很有趣，所以我坚持了下来，自从那时起我从未真正停止超过一个月。

> **https://wiki.python.org/moin/GetInvolved**

这并不意味着你必须成为核心开发者才能进入 Python 社区。只要你喜欢，你就可以以任何对你有意义的方式参与其中。

**Driscoll**：那么是什么让你决定开始写博客并撰写关于 Python 的文章？

**Cannon**：写博客是参与其中的方式之一，因为我喜欢写作，这种媒介恰好符合我喜欢的沟通方式。我是在很久以前开始的，而且自那以后我基本上一直坚持这样做。我总是享受将知识尽可能好地传授给世界这一方面。

**Driscoll**：在正确的时间进入 Python 是否很重要？你推荐在项目早期就加入吗？

**Cannon**：是的，那是一种我恰好在正确的时间和地点，并且有足够的空闲时间开始的情况。我设法在有时间贡献尽可能多的时候开始了。

我也是在 Python 项目不是很大的时候开始的。我记得当我开始读硕士时，人们会问我业余时间做什么。当我说我为 Python 做贡献时，他们会回答，“是那个有空格的语言吗？”所以我已经做了很长时间。

因此，是的，我在一个理想的时间点参与了项目，在 2005 年左右人们对这种语言的兴趣激增之前。我有时希望我能够以某种方式更早地开始，但我会更年轻，所以这可能不起作用。所以当这一切都恰好在那时发生时，这真是偶然。

**Driscoll**：你积极贡献了 Python 的哪些部分？有没有一个模块是你帮助启动的，或者你在其中发挥了重要作用，比如`datetime`模块？

**坎农**：我的影响实际上是在`time`模块。我比`datetime`模块还要早！我最早编写的模块是 Python 2 中的`dummy_thread`和`dummy_threading`模块。

那是那些有人站出来推荐它作为一件酷事来做的一个例子。他们说他们会去做，但过了一段时间，他们没有去做，所以我给他们发了邮件说，“嘿，你会去做这个吗？”他们说不会，但认为这仍然是一件有用的事情去做，所以我做了。这些是我第一次从头开始编写的模块。

我认为，到目前为止，我已经接触到了 Python 语言中的所有东西。我甚至接触到了解析器，这是非常少有人需要接触的。我想我在某个时候帮助编写了一些关于标记化问题的警告。我在编译器中发挥了重要作用，当我们从具体的语法树切换到字节码，然后再到正确的具体语法树，再到抽象语法树到 Python 的过程中。

> **布雷特·坎农：**“我认为，到目前为止，我已经接触到了 Python 语言中的所有东西。”

杰里米·希尔顿开始了那个项目，吉多·范罗苏基本上给每个人下了最后通牒，因为这个项目已经花费了多年时间来完成。所以吉多说，“你有直到下一个版本发布的时间来完成这个。”

> **布雷特·坎农：**“所以吉多说，‘你有直到下一个版本发布的时间来完成这个。’”

我介入并帮助杰里米完成了最后的一半工作。我还对`warnings`模块做了类似的事情。尼尔·诺比特开始实施它，但他有点偏离了项目，所以我接手并完成了剩下的工作。这就是我最终成为那些对`warnings`模块了解得有点过多的人之一的原因！

还有什么让我如此深入地参与到 Python 中？可能我最出名的事情是`importlib`。我编写了当前`import`的实现的大部分（Python 3.3 中的全部），然后尼克·科格兰和埃里克·斯诺随后给予了大量帮助，但整个`importlib`包都是我做的。这些是我直接从我这里来的，但基本上我已经接触到了每个地方。14 年后，我无法再跟踪了！

**德里斯科尔**：我知道你的意思。我讨厌当我遇到一些代码，我想，“这是谁写的，为什么它这么糟糕？”然后我想起我是在两年前写的！

**坎农**：是的，如果你能从六个月前阅读自己的代码并且它看起来仍然不错，那么可能有些不对劲。这通常意味着你还没有学到新的东西。

> **布雷特·坎农：**“如果你能从六个月前阅读自己的代码并且它看起来仍然不错……这通常意味着你还没有学到新的东西。”

**德里斯科尔**：你认为成为 Python 核心开发者最好的事情是什么？

**Cannon**: 大概就是通过成为其中一员所建立的友谊。许多核心开发者都是我的朋友。

我们每年聚一次，我几乎可以和这些人一起度过一整周的 24 小时，一周的时间。这还加上我在这一年中在线与他们相处的时间。这可能比我花在许多朋友身上的时间还要多，因为你们有多少次能和好朋友一起度过一个完整的星期假期？

所以，说实话，现在主要是友谊。能够和这些人一起出去玩，向他们学习，享受我们所做的事情，并继续这样做。

我并不经常考虑 Python 的影响。有时候想到这一点会让人有些困惑，所以我尽量不去深想。我不希望因为这一点而形成任何形式的自我膨胀，所以我尽量不去过多地思考。如果我只是坐在这里，想着为这个被数百万开发者使用的语言工作，那确实是一种启发。能够说我在做这件事是很酷的，但主要还是关于和朋友们一起工作。

我仍然非常清楚地记得我第一次加入团队的时候，甚至更早的时候，当我加入邮件列表的时候，所以尽管人们说我是 Python 开发者团队中的这些高级领导之一，但我从未完全适应这个想法。我只是没有那样看待自己。Guido 曾经在一次谷歌的采访中被问及，“在 1 到 10 的尺度上，您认为您对 Python 了解得有多好？”他说 8 分。

> **'Guido 曾经在一次谷歌的采访中被问及，“在 1 到 10 的尺度上，您认为您对 Python 了解得有多好？”他说 8 分。’**

没有人完全了解整个系统，因为这个程序太大了，不可能全部了解。我们都可以把基本语义记在脑子里，但并不是所有实际运作的复杂细节。有多少人像背书一样熟悉描述符或元类？我有时不得不查阅这些资料，所以没有人完全了解整个系统。

**Driscoll**: 那么，您如何看待 Python 作为一门语言的整体走向？您认为它在某些领域会变得更加流行，还是 Python 正像 C++一样进入遗产状态？

**Cannon**: Python 今天处于一个有趣的地位，几乎没有任何地方 Python 没有渗透成为主要玩家。当然，有一些领域，比如低级操作系统和内核开发，不适合 Python，但除此之外，感觉 Python 几乎无处不在。

我知道的一个地方，Python 在数据科学领域仍然处于第二的位置。我认为我们的增长趋势预测表明，至少在未来几年内，Python 不会立即超过 R 成为数据科学语言。但从长远来看，我认为 Python 会迎头赶上。否则，我真的不知道有多少其他领域，不需要系统语言，我们还没有在 Python 上取得第一名。

我认为 Python 在桌面应用程序方面可能不是那么强大，在某种程度上。即使在桌面上，人们也在使用我们，所以它并不是完全空白，但那个领域竞争非常激烈。从长远来看，我们可能已经到达了这样一个转折点，即到处都有如此多的 Python 代码，以至于 Python 本身可能永远不会消失。

> **Brett Cannon: '从长远来看，我们可能已经到达了这样一个转折点，即到处都有如此多的 Python 代码，以至于 Python 本身可能永远不会消失。'**

希望 Python 永远不会和 COBOL 一样被轻率地提及，也许我们会受到更多的喜爱，并且持续更久，但我看不到我们真的会消失。我认为现在有太多的代码，我们永远不会消失。

**Driscoll**: Python 是当前人工智能和机器学习热潮中的主要语言之一。您认为是什么使得 Python 成为这种领域的优秀语言？

**Cannon**: 我认为 Python 学习的简便性使其成为人工智能领域的良好选择。目前从事人工智能工作的人员已经超越了仅仅是软件开发者，现在还包括像数据科学家这样的人，他们并不经常编写代码。

这意味着人们对于一种可以轻松教授非程序员的编程语言有着强烈的愿望。Python 很好地满足了这一需求。你可以看看 Python 如何在科学和计算机科学教育领域获得人们的青睐，以了解这并不是一个新趋势。

**Driscoll**: 人们现在应该转向 Python 3 吗？

**Cannon**: 作为帮助 Python 3 诞生的人之一，我并不是一个完全无偏见的人来询问这个问题。我显然认为人们应该立即切换到 Python 3，以获得自 Python 3.0 首次发布以来语言所增加的好处。

> **Brett Cannon: '我希望人们意识到，向 Python 3 的过渡可以逐步进行，这样切换就不必是突然的或特别痛苦的。'**

我希望人们意识到，向 Python 3 的过渡可以逐步进行，这样切换就不必是突然的或特别痛苦的。Instagram 在九个月内完成了切换，同时还在开发新功能，这表明这是可以做到的。

**Driscoll**: 展望未来，Python 4 发生了什么？

**Cannon**: Python 4 的事情是一个完整的对话，当然。我并没有听到太多关于 Python 4 的信息，我很乐意听到关于它的讨论。它是神话般的，实际上并不存在。Python 4 就像是 Py4k 的梦想与 Py3k 的对比。语言可能走向何方呢？

当我们开始着手进行 Python 4 的开发时，我们可能会对标准库进行大量的清理和精简。有些语言元素我们可能会最终决定去除，而不是为了与 Python 2 的兼容性而保留它们。

> **Brett Cannon: '当进行 Python 4 的开发时，我们可能会对标准库进行大量的清理，并对其进行精简。'**

对于 Python 4，我们可能会有一个跟踪垃圾回收器，而不是使用引用计数来获得并行性。我还不知道，但我看到它的发展方向是：更多或更少相同，特别是因为我们已经更多地依赖于社区围绕 Python 建立起来的事物。我的意思是，我们之所以有庞大的标准库，部分原因是因为它抵消了互联网，对吧？

Python 本身在 Unicode 成为官方标准之前就已经存在了，因为 Python 首次公开是在 1991 年 2 月，而 Unicode 1.0 在 1991 年 10 月最终确定。我并不知道这一点。我不得不查一下，因为这是那种人们问我，“嘿，你为什么不像 Java 那样从一开始就使用 Unicode？”的事情。就像，嗯，我们比 Unicode 早，所以这就是原因！

因此，在未来，我认为标准库不需要像今天这样大了。如果你能通过`pip`安装等效库，我们就不需要它那么大。

我们很幸运有一个充满活力的社区，所以我们有很多高质量的第三方库，我们可以减少标准库，降低核心开发者的维护负担。我认为我们可以在未来的 Python 版本中这样做，而不会对社区访问高质量模块造成任何风险。我认为这将使 Python 更简单、更精简，并且更容易使用。

> **布赖特·卡农：**“所以，在 Python 4 中，我认为标准库不需要像今天这样大了。”

这就是我怀疑我们将要做的，但我没有做出这个决定的权利。无论如何，这听起来像是一个美好的梦想。所以，是的，希望如此！到目前为止，还没有人告诉我，当我用这些想法回答关于 Python 4 的问题时，我是完全疯狂的，这是一个很好的试金石。

**德里斯科尔：**你认为是什么驱使了最近对 MicroPython 日益增长的兴趣？

**卡农：**人们一直在问我关于写 MicroPython 的事情。虽然我自己没有使用它，但我认为它必须越来越大，因为我一直在被问到！我愿意打赌这是由于教育领域，很多人在使用 microbits 和其他东西。所以，MicroPython 的兴趣可能就是从这里来的。

**德里斯科尔：**我们如何开始为 Python 语言做出贡献？我们如何开始？

**卡农：**我们有一个叫做开发者指南的东西，我是在 2011 年开始写的。它的全名是《Python 开发者指南》。基本上，《开发者指南》概述了你需要知道的一切，以便你可以为 Python 语言做出贡献。

> **布赖特·卡农：**“《开发者指南》概述了你需要知道的一切，以便你可以为 Python 语言做出贡献。”

开发指南（*https://devguide.python.org/*）展示了如何获取 Python 源代码，编译它并运行测试套件。它还提供了关于如何找到你想要贡献的内容的建议。你还可以找到核心开发者的文档，它展示了你如何进行代码审查以及所有其他内容。

开发指南现在是一个相当大的文档，它已经有点像拥有了生命。我只是告诉人们去读开发指南，并尝试了解一下你想要帮助什么。选择一个你非常熟悉的模块，你可以帮助修复其中的 bug，或者你感到非常舒适的模块。

我们还有一个核心导师邮件列表，它是故意没有存档的，这样你就可以问任何问题，你不必担心有人在五年后找到它。所以请注册核心导师，阅读开发指南，然后找到你想要做的事情！

**Driscoll**: 我们可以通过代码审查为 Python 做出贡献吗？

**Cannon**: 是的，事实上，到现在我已经开始尝试引导人们去做代码审查了，所以如果你真的熟悉一个模块，并且 GitHub 上有一个关于它的 pull request，请去做代码审查。

如果你觉得舒服，无论是定期还是不定期地对一个你经常使用的模块进行代码审查和审查，那真的是为 Python 语言的发展做出贡献的一种非常好的方式。

> **Brett Cannon: '如果你觉得舒服，无论是定期还是不定期地对一个你经常使用的模块进行代码审查和审查，那真的是为 Python 语言的发展做出贡献的一种非常好的方式。'**

在推动 Python 向前发展方面，我们最大的限制是核心开发者的带宽。所以你的代码审查真的可以帮助使项目更容易管理。请加入我们，帮助我们接收更多的补丁，修复更多的 bug。

**Driscoll**: 我们还能以其他什么方式为 Python 语言做出贡献？

**Cannon**: 对 Python 社区的一个大帮助就是回答你看到人们关于 Python 提出的问题，并且通过保持开放和诚实来回答这些问题。当然，在谈论 Python 时不要表现得像个混蛋也是很重要的。只是表现得友好一点是可以的。

**Driscoll**: 有没有哪些 Python 项目是有人可以加入并为其做出贡献的？

**Cannon**: 是的，如果你没有找到让你感兴趣的当前模块，那么你可能对贡献一些需要帮助的更下游的 Python 项目感兴趣。例如，Python 包索引的下一个版本总是需要一些帮助。如果你发现了一些你感兴趣的下游内容，就加入进来吧。

**Driscoll**: 关于入门项目怎么样？

**Cannon**: 诚实地讲，拥有启动项目真的很困难。我们通常有足够多的人参与和关注，可以立即跳上去修复它们。所以有时候很难开始，这也是为什么我开始推动更多的拉取请求审查。

**Driscoll**: 在 PyCon 期间，我看到通常会有一个关于 Python 语言的冲刺。你们在那些 PyCon 冲刺中都做些什么？

**Cannon**: 我自己领导过许多那些 PyCon 冲刺，我们通常会把 Python 核心团队召集到冲刺房间的一些桌子旁，然后大致上就是，“嘿，如果你想贡献，那就进来吧。”

我们告诉 PyCon 冲刺参与者与我们告诉所有想要远程贡献的人完全一样的话：这里有开发者指南，阅读它，设置你的工具链并运行，然后寻找可以工作的东西。如果你找到了，就去尝试吧。

> **Brett Cannon: '我们告诉 PyCon 冲刺参与者...这里有开发者指南，阅读它，设置你的工具链并运行，然后寻找可以工作的东西。'**

当然，在冲刺期间，我们会在房间里回答任何可能的问题。通常，像 R. David Murray 这样的人会找到一些简单的错误列表，分发给冲刺房间的人。这是一个很好的机会，让人们进来打个招呼。如果他们想开始贡献，那么房间里就有核心的 Python 人员，这样他们就可以快速得到答案，而不是等到有人看到邮件并回复。这非常简单，就是转向你左边或右边的人，然后你可以提问并得到答案。

有时候我们会做一个简短的演示，说明在冲刺期间我们将要做什么，如果人们可以加入那就太好了。我们说，“这里有一些工具，这是如何运行构建，以及如何运行测试。”然后我们开始编码。

与会议的其他部分相比，冲刺非常轻松和放松。我强烈推荐你们在可能的时候参加。在冲刺房间里，没有像主展区那样忙碌。那是因为人比较少，大家只是坐下来放松。没有过渡，除了午餐前后的过渡，更容易找到人交谈，这很好。所以冲刺绝对是有趣的，我打算在明年或后年如果可能的话去参加一次。

> **Brett Cannon: '我们说，'这里有一些工具，这是如何运行构建，以及如何运行测试。然后我们开始编码。'**

**Driscoll**: 一些其他团队也有一些小小的诱惑，比如如果你在帮助 Russell Keith-Magee 的 BeeWare 项目，你的第一次贡献就能得到一个挑战币。你见过那些吗？

**卡农**：是的，如果你帮助了 Russell 的项目，他会给你一个挑战币。那是一个大而令人印象深刻的金属币。我现在手里拿着的是我从 Russell 那里赚来的一个，它几乎占满了我 Nexus 5X 屏幕的大部分空间！

这是我从 Russell 那里赚得挑战币的方式：如果你做出的贡献被 BeeWare 项目接受，比如文档或者别的什么，那么你下次见到 Russell 时就会得到一枚这样的币。所以在我这个例子中，我碰巧有一天在推特上看到 Russell 发布了一个示例仓库，我发现了一些错误。我发送了一个拉取请求来修复它们，这就是我最终得到硬币的方式。我已经想要一枚很久了，因为我认为它是一个非常酷的感谢象征，任何人只要做出贡献就能得到一枚。

如果你对挑战币一无所知，那么 99% 无声的播客有一期非常好的节目解释了这些内容（[`99percentinvisible.org/episode/coin-check/`](https://99percentinvisible.org/episode/coin-check/)）。

> **布雷特·卡农：'如果你对挑战币一无所知，那么 99% 无声的播客有一期非常好的节目解释了这些内容。'**

**德里斯科尔**：Python 核心团队是否提供像 Russell 的挑战币这样的激励措施？你认为人们为 Python 语言做出贡献的核心精神和动力是什么？

**卡农**：我一直想为 Python 制作挑战币，无论是为了核心开发者还是为了贡献补丁的人。这是一个不错的主意。但我没有 Russell 那么经常旅行，所以这有点困难，因为我需要出现在人们参加的会议上才能给他们发币。但这确实是个好主意，我希望有更多的项目这么做。

Python 核心通常采取一种非常，可以说，被动的激励方式。这是真的，但那主要是因为我们把大部分时间都投入到我们想要完成的 Python 语言元素上，我们知道很多人会欣赏这一点。这真的是我们为 Python 做贡献的深层动力，我欢迎每个人无论远程还是参加会议冲刺都加入进来。

**德里斯科尔**：谢谢，布雷特·卡农。
