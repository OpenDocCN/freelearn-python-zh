# 14

# 进一步学习 – 下一步该做什么

你现在已经完成了这本书——恭喜！学习 ROS 2 是一个相当大的挑战，你已经迈出了重要的一步。

回顾一下，这是你所学到的内容：

+   *第一部分:* 你澄清了一些误解，安装了 ROS 2，并通过实验发现了一些主要概念。这为你阅读本书的其余部分奠定了基础。

+   *第二部分:* 这是你学习了最重要的 ROS 2 概念的地方：如何编写节点并与主题、服务和动作进行通信，以及如何通过参数和启动文件使你的应用程序更加动态。

+   *第三部分:* 你构建了一个模拟机器人，在练习核心概念的同时，你学习了 TF、URDF 和 Gazebo。TFs 几乎是每个 ROS 2 应用程序的骨架。

现在，你有一个坚实的基础，可以用于任何其他 ROS 2 项目。现在，我不想让你止步于此，只是说这就结束了。ROS 2 包含了很多东西，而机器人技术总体上比 ROS 2 更广泛。因此，为了帮助你更好地为未来做准备，在这最后一章的小节中，我将给你一些建议，告诉你下一步该做什么。

下一步该做什么对每个人来说都不一样。我将首先尝试提供一个通用的路线图，然后探讨不同的细微差别和细节，这将帮助你根据自己的目标选择学习的内容。我还会分享一些额外的资源，你可以使用这些资源来学习更多关于 ROS 2 的知识。

到本章结束时，你将对自己的下一步行动有一个更好的想法，这取决于你的项目、工作或学习目标。

在本章中，我们将涵盖以下主题：

+   ROS 2 路线图 – 探索阶段

+   有特定目标的学习

# ROS 2 路线图 – 探索阶段

在学习一个技术主题时，我会说通常的模式是这样的：

1.  **发现阶段**: 你从每个人都应该学习的基础知识开始，对技术有一个广泛的理解，并学习如何使用它。

1.  **探索阶段**: 一旦你有了基础知识，你将尝试探索与该技术相关的不同应用、项目和主题。这将使你连接许多点，并使你对全局图景有更深入的理解。你也会在技术上变得更好。

1.  **专业化阶段**: 一个人不可能对每件事都成为专家。在某个时候，为了能够深入一个项目，找到一份工作，或者建立职业生涯，你需要在一个特定领域进行专业化。在探索了许多主题之后，你将更好地了解你想做什么，或者什么最需要。然后你可以集中精力进行专业化。

通过这本书，你已经完成了第一步。你学到了绝对需要并且肯定会在几乎所有未来项目中使用的基础知识。

我们接下来要讨论的是探索阶段，它紧接着那个阶段。在本节中，我将尝试为你提供一个 ROS 2 路线图。这个路线图是一个（非详尽）的列表，列出了你可以接下来学习的内容，没有特定的顺序。

在我们开始之前，请注意我不建议完全按照路线图进行。最佳的学习方式是通过项目。因此，在本节中，我们有一个技能列表，在下一节中，我们将探索不同的项目/工作示例，以了解如何选择你需要学习的技能。

此外，这是我的个人版本；并不是每个 ROS 专家都会必然同意我的观点。如果你找到了对你有效的方法，那完全没问题。这里的目的是取得进步。

我没有包括本节的链接，因为使用提供的关键词进行简单的 Google 搜索就可以。你将主要在官方文档、独立教程和 YouTube 视频中找到资源，GitHub 项目以及论坛中提出的问题。

## 常见的堆栈和框架

在学习核心编程基础和概念，如 TF 和 URDF 之后，一个非常常见的下一步是学习一些现有的 ROS 2 **堆栈** 和 **框架**，以及学习如何创建 ROS 2 和硬件组件之间的接口。

注意

你经常会看到术语 *堆栈*、*框架* 以及其他变体。它们通常意味着相同的事物。基本上，它们是专注于解决特定问题的包的集合。

在那些堆栈/框架中，你可以找到 **Navigation 2**（用于 **移动机器人**）、**MoveIt 2**（用于 **机器人臂** 和抓手）、以及 **ros2_control**（用于 **硬件控制**）。

我们将讨论它们，因为它们被广泛应用于各种应用中，了解它们对你来说很可能是有益的。让我们从硬件接口开始。

### 硬件接口（以及 ros2_control）

最后，机器人开发者创建软件是为了控制硬件组件。你使电机移动，从传感器读取数据，并在中间添加一些算法来创建一个有用的机器人系统。

硬件接口部分至关重要，除非你只做仿真工作，否则你将不得不与硬件打交道。因此，我建议你更熟悉如何编写硬件驱动程序（不特定于 ROS）以及如何将此硬件驱动程序与 ROS 2 接口。

你可以先尝试为简单的硬件（任何东西：电机、摄像头或任何其他传感器）创建自己的驱动程序。一旦你可以用 Python 或 C++ 控制你的硬件，将你的驱动程序包含在一个 ROS 2 节点中，并添加主题/服务/参数以在驱动程序和 ROS 2 之间创建桥梁。

你也可以找到现有的具有 ROS 2 驱动程序的硬件组件，并查看它们的接口和代码（通常可在 GitHub 上找到）。

理解如何与硬件交互是你在 ROS 2 学习过程中的一个重要步骤。

然后，一旦你掌握了这个，就有一个伟大的框架，它允许你创建你 ROS 2 应用程序和硬件驱动程序之间稳健的接口。它被称为 ros2_control。这个框架被大多数由 ROS 2 驱动的机器人使用。一旦你理解了它是如何工作的，你就可以非常快速地设置带有硬件连接的新机器人。

警告：学习 ros2_control 并不容易，文档也不是我所说的适合初学者的。它还要求你用 C++编写代码，并了解更多关于高级 ROS 2 概念，如生命周期节点和组件。我不建议你在阅读这本书后直接学习 ros2_control，尤其是如果你是 ROS 2 旅程的初学者。

我建议的是，你首先熟悉为 ROS 2 创建基本硬件接口。然后，随着你在项目中的进展，你会更多地了解高级 ROS 2 概念，并达到可以处理 ros2_control 的阶段。

### Navigation 2 堆栈

**Navigation 2**堆栈，也称为**Nav2**，因其原因而非常受欢迎：大多数使用 ROS 2 的机器人都是移动机器人，而你通常会用移动机器人做什么呢？你让它在一个物理环境中自主导航。

现在，凭借这本书中你学到的 ROS 2 基础知识，你该如何实现这一点呢？在编写节点和 URDFs 与使机器人使用路径规划算法导航之间存在着很大的差距。如果你要自己实现，这将花费你大量的时间和精力。

如果你还记得，在这本书的引言中，我们讨论了在机器人领域，大部分时间都花在重新发明轮子上。我们不想那样做。

幸运的是，你可以使用 Nav2 堆栈。使用这个堆栈，你可以轻松地创建环境地图，使用**同时定位与建图**（**SLAM**），然后使用这个地图让你的机器人从一个地方导航到另一个地方，同时避开障碍物。

当然，Nav2 堆栈有其自身的挑战，但一旦你理解了它，你就能迅速搭建一个新的自主移动机器人，并且可以轻松地使用这个堆栈处理数百个现有的机器人项目。

因此，我强烈建议你学习一些关于 Nav2 的知识。即使你并不打算与移动机器人合作，你也能在几个小时内获得基本理解。深入学习和实际为 Nav2 适配机器人将需要更长的时间，但现阶段，只需掌握基础知识即可。

### MoveIt 2

因此，有一个移动机器人的堆栈，猜猜看？还有一个机械臂的堆栈。

注意

在 ROS 2 项目和工作中，你将遇到的最常见的两种机器人是移动机器人和机械臂。然后是无人机，但它们更专业，支持度较低。这并不意味着你不能找到好的包来帮助你处理无人机，但肯定会有更多的挑战。然后，还有更多专业（且支持度更低）的，比如船只、蜘蛛机器人、潜艇等等。

如果你正在使用机械臂（比如说 5 轴、6 轴或 7 轴），你需要找到一种方法来计算这个机械臂的位置和轨迹。你是如何让机械臂达到一个特定点并保持一个定义好的方向，或者拿起一个物体并将其放置在另一个地方？

这可能成为一个相当大的挑战，尤其是在你学习了逆运动学、运动规划，并尝试让机器人的所有关节同时移动并到达同一位置，同时不与任何物体碰撞，并保持连续的位置、速度和加速度时。

**MoveIt 2** 将为你进行运动规划，无论是为机械臂还是具有多个机械臂的系统。它还具有抓取功能。

你需要对你的机器人进行一些配置（从 URDF 开始），然后你可以在你的节点中直接使用 Python 或 C++ API 发送命令来控制机器人。

我建议你至少对 MoveIt 2 有一个基本的了解，即使你不会使用机械臂。你可以在几个小时内设置一个基本的项目，并查看主要功能。

使用 Nav2 和 MoveIt 2，你可以覆盖很多领域。我不知道使用这两个堆栈的机器人的确切百分比，但肯定超过所有 ROS 2 机器人的半数。Nav2 和 MoveIt 2 也都有与 ros2_control 的集成，当你学习更多关于 ros2_control 时，你可以探索这些集成。

现在我们来探讨更多与 ROS 2 相关的主题。

## 更多探索主题

在常见的堆栈和框架之上，还有很多其他你可以学习或改进的东西。在这里，我们将从基础知识开始探索。正如本节引言中所述，对于任何主题，在 Google 中输入相关关键词——也许后面跟着**教程**——你将找到你需要的东西（如前几章所述，对于更高级的 ROS 2 概念，文档可能非常稀缺）。再次强调，对于这个技能列表，你没有特定的顺序需要遵循。在本章的后面部分，我们将通过一些项目和工作的例子，看看根据你的目标应该学习什么。

### 回到基础知识

在跳到高级 ROS 2 概念之前，你应该确保你已经掌握了基础知识。也许当你阅读这本书并做练习时，使用所有终端命令对你来说是一个挑战。或者也许 Python 代码是好的，但使用面向对象编程（OOP）并不是你习惯的。

以供参考，在我的课程或研讨会中，我经常看到人们在终端中使用自动完成输入正确的命令时遇到困难。这是一个基本技能，它会使你在 Linux 上工作快五倍，但如果你不知道如何正确地做，你的整个 ROS 2 学习体验将会大大减慢。你不能忽视基础知识。

在这一点上，提高以下技能可能会有所帮助：

+   `.bashrc`操作，导航到包安装文件夹，使用 SSH 获取远程访问：这些都是你为了将来不陷入困境需要了解的例子。你不需要成为 Linux 专家，但花几个小时提高基础知识不会有坏处。

+   **Python**：我想在这个时候你应该对 Python 相当熟悉了，但如果你因为 Python（而不是 ROS 2）遇到了一些挑战，那么回顾一些基础知识可能会有所帮助，特别是关于类和面向对象编程。

+   **C++**：如果你只看了 Python 示例，现在是尝试用 C++做同样事情的好时机。这不仅会让你再次回顾这些概念，而且随着你对 ROS 2 的深入，你会意识到大量的代码只使用 C++编写，特别是对于需要大量计算能力的硬件控制和算法。如果你想成为一名优秀的机器人开发者，你需要 C++。

现在，一旦你掌握了这些基础知识，你还能学习哪些其他核心的 ROS 2 概念？

### 更高级的 ROS 2 概念

一旦你熟悉了这本书中的先决条件和概念，你就可以进一步学习更高级的 ROS 2 概念，例如以下内容：

+   **动作**：我们在*第七章*中看到了动作，但我明确指出，这是一个更高级的概念，如果你当时感到不知所措，可能值得跳过。如果你还没有处理过动作，现在是一个好时机。动作，连同主题和服务，将允许你在节点之间使用所有 ROS 2 通信机制。

+   **生命周期节点（也称为管理节点）**：这些节点包含一个状态机，允许你轻松地将代码分离到初始化和激活的不同部分。这在处理硬件时特别有用。例如，你可以在将硬件组件用于应用程序的关键部分之前，确保它正确连接并初始化。此外，如果你想学习 ros2_control，生命周期节点也将非常有用。

+   **执行器**：使用执行器，你可以更好地控制节点或多个节点内回调的处理（我们在*第七章*的*添加取消机制*部分中看到了一个例子）。

+   **组件**：通过将你的节点做成组件，你可以在一个可执行文件中运行多个节点。这可以减少资源使用并加快通信。要了解组件，你首先需要理解执行器。然后，组件还将帮助你理解 ros2_control。

这不是一个最终列表，但我可以说，几乎每个 ROS 开发者都可能在某个时候需要这些概念。

此外，还有许多与 ROS 无关的附加技术，这些技术可能很有帮助。

### 额外的技术和领域

正如我们在本章后面通过查看一些工作示例时将看到的，成为一名 ROS 或机器人开发者并不意味着你只需要学习 ROS。还需要掌握许多其他技能。

这里有一些你可以探索的技术、领域和工具（我再次强调，这是一个非详尽的列表，只是几个例子，且没有特定的顺序）：

+   **电子/硬件**: 机器人中有很大一部分是硬件。最终，你编写代码来控制硬件。没有硬件，就没有一切。这是一个完整的领域。你可以了解更多关于硬件平台、通信协议、焊接组件、设计**印刷电路板**（**PCB**）等方面的知识。有些人就是从这个领域（硬件工程师）开始职业生涯的。即使你不想走这条路，了解一些这方面的知识也是有帮助的。

+   **机械、CAD 软件、3D 设计**: 就像硬件一样，有些人将职业生涯建立在机械工程上。不过不深入探讨，了解如何使用 CAD 软件设计机械部件可能是有用的。

+   **快速原型设计**: 这结合了许多领域，其目标，正如其名称所暗示的，是快速创建原型以验证（或不验证）一个想法。对于快速原型设计，你可以使用 3D 打印和嵌入式硬件板，如 Arduino 和 Raspberry Pi（你可以在 Raspberry Pi 上运行 ROS 2）。

+   **Git、持续集成/部署**: 很可能你将与其他人一起工作。这些工具将帮助你更容易地进行协作和发布代码。

+   **Docker**: 在机器人开发者中，Docker 的使用正在增加，因为你可以轻松地使用正确的 Ubuntu/ROS 2 版本设置一个新的环境。这对于同时处理多个项目和在不同的环境中测试你的代码来说非常有用。

+   **DDS、网络**: ROS 2 的通信依赖于**数据分发服务**（**DDS**），根据你的项目，你可能需要更深入地了解这一点，以及一般性的网络。

+   **图像处理、机器学习等**: 机器人领域有一个巨大的分支是用于分析环境和从中提取有用信息的。你可以找到很多与相机、激光扫描、深度传感器以及如 OpenCV 等库的 ROS 2 集成。

正如你所见，这有很多东西。当看到这个列表时，你可能会感到有些气馁，因为你意识到即使完成了一本关于 ROS 2 的书，你所知仍然很少。不过别担心；你不需要学习所有这些。我个人并不是所有这些领域的专家，没有人是。现在我们将通过设定一个具体的目标来更有效地学习 ROS 2。

# 有针对性的学习

之前列出的框架、堆栈和技术可以帮助你看到机器人领域的全局图景，并帮助你选择接下来需要学习的内容。

但是，最终，根据你的目标，你的学习路径可能会有所不同。如果你是一名学生，想要用移动机器人完成大学项目，或者如果你需要提高速度为一家创建模拟产品的机器人初创公司工作，答案将会不同。

在本节中，我们将探讨一些项目和工作的例子，看看哪些学习路径更适合每个例子。请注意，我们将看到的例子并不构成路径的完整列表。你自己的路径将是独一无二的。本节的真正目的是向你展示，你应该首先考虑你想要用 ROS 2 做什么，然后根据这个目标选择要学习的内容。

不要过于担心：即使你选择了路径后来又改变了，也不要担心。你现在不需要对想要追求的项目或职业有一个明确的答案。记住，你仍然处于探索阶段。探索意味着走一条路，然后可能意识到你更喜欢另一条路，直到你找到真正吸引你的东西。你在探索过程中获得的所有知识都将是有价值的。

让我们深入探讨。

## 为项目学习什么？

最好的整体方法是找到一个项目并在实践中学习。在构建项目的过程中，你将遇到一些挑战。解决这些挑战通常意味着学习新事物，并且它们将迫使你发展更好的实际理解。

现在，在哪里寻找项目呢？互联网上有大量的项目想法。根据你的硬件和财务资源，你可能从只涉及模拟的项目开始，或者如果你有一些硬件，你可以自己制作一个机器人或机器人的部分，并让机器人在现实世界中执行任务。

### 一些项目示例

让我们考虑几个项目和它们涉及的学习路径：

+   **使用移动机器人寻找图书馆中的书籍（典型的大学项目）**：在这里，你需要让机器人导航，因此你可能需要学习关于 Nav2 堆栈的知识，以便绘制图书馆地图并让机器人在其中移动。除此之外，你还需要想出如何找到书籍，可能需要使用摄像头。你将选择并测试一个摄像头，并将其集成到你的机器人中。这将使你练习与机器人硬件的接口。然后，为了识别书籍，你将使用图像处理。此外，你可以从使用现有的移动平台开始，然后设计你自己的。

+   **使用移动机器人进行仓库管理**：在这个项目中，你也需要让机器人导航，但这次你将不得不以有组织的方式让多个机器人在同一环境中工作。你可以学习关于控制机器人集群的知识，这是我们之前没有列出的一项新学习内容。

+   **使用无人机进行维护巡逻**：在这种情况下，精确的硬件控制和远程通信将是第一个挑战。然后，你必须控制无人机的行为。无人机是一种特定的机器人，MoveIt 2 或 Nav2 堆栈不适用；你需要找到其他方法。遗憾的是，在撰写本文时，ROS 2 中还没有现成的用于无人机的即插即用堆栈。因此，你需要进行一些额外的研究和努力。

+   **在生产线中分类物体**：在这里，我们进入了一个完全不同的领域，即物体的操作。如果没有提供，你需要找到可以使用哪种机器人臂（或其他设备）来拾取和放置物体，需要使用哪种抓取系统，等等。然后，你可以使用 MoveIt 2 来控制机器人。之后，你还需要找到一种方法来分类产品。可能你需要一个摄像头；在这种情况下，你必须正确放置摄像头，进行一些校准，并协调整个系统，以便机器人知道应该拾取哪些物体，以及在哪里。

这些只是一些例子，但你可以看到，根据你将使用哪种类型的机器人，以及你打算如何使用这些机器人，应用将完全不同，这导致了不同的学习路径。

### 我个人的学习路径

为了再给你举一个例子，这里是我的与 ROS 的个人故事。我是在共同创立一家机器人初创公司时发现 ROS 的。我们想要创建一个教育用的 6 轴机器人臂，而我负责软件部分。

这大致是我的 ROS 学习路径：我从基础知识开始，然后迅速转向创建一个简化的 URDF 文件，让机器人通过 MoveIt 移动，这样我们就可以在 RViz 中看到它移动（我们当时还没有 Gazebo 模拟，但我们正在构建一个真实的物理机器人，所以我们首先关注物理控制）。

然后，最大的挑战是找到可靠的低成本组件和电机来控制每个 6 个轴，为每个组件创建一个硬件驱动程序，并从集成的 Raspberry Pi 板上控制它们。这涉及到学习通信协议（以及 ros_control），与硬件紧密合作，并进行大量实验。

在另一个层面，目标是创建一个直观的用户界面，所以我们基于 ROS 开发了一些 API，以及一个使用 Angular 的图形界面。仅此一项就需要其他类型的技能。

当然，这个故事过于简化，但正如你所见，在掌握基础知识之后，我学会了我在需要时需要学习的内容，这样我就可以在项目上取得进展。例如，我并没有首先学习 Gazebo 或导航堆栈；这来得晚得多。原因很简单，那段时间那不是最重要的学习内容。

## 要获得工作需要学习什么？

你可能会想：做项目很好，但如果你目标是获得一份工作并开始机器人领域的职业生涯，你应该学习什么？

再次强调，答案仍然是：视情况而定。然而，你可以查看互联网上找到的工作机会，看看你想要追求的那种工作需要什么。

此外，对于初级职位，通常不期望你在任何特定领域是专家。公司知道你刚开始，你还需要学习。因此，对于初级职位或实习，强烈的求知欲（加分项：展示个人项目的作品集）通常比在 x、y 或 z 方面的技能更重要。

现在，为了给你一些实际的例子，我找到了一些现有的工作机会，我将向你展示他们要求的一些技术要求。为了清楚起见：我不会在这里推广任何公司或工作机会，我只会简要回顾他们要求的技术技能（为了简洁，我已重新编写），仅用于示例。

### 第 1 个工作岗位 – ROS 2 开发实习

这里是围绕 ROS 2 开发实习的要求：

+   Python 3

+   ROS 1, ROS 2

+   Linux、Bash、Git

+   路径规划和避障的概念

+   网络和通信协议（可选）

+   C++（可选）

为了准备这个实习，你会发现你需要发展你的 Python、Linux 和 ROS 技能。

注意

他们也提到了 ROS 1。值得注意的是，有时需要 ROS 1（为了处理遗留项目），但你可以在路上学习它。有时，撰写工作描述的人并不真正理解工作的技术部分，只是添加了他们遇到的尽可能多的关键词，以使提供的工作看起来更通用，吸引更多候选人。在这种情况下，你可能会使用 ROS 2。

路径规划和避障也包括在内，这意味着探索 Nav2 堆栈可能会给你带来竞争优势。

### 第 2 个工作岗位 – 人工智能机器人实习

这里是另一个以人工智能为重点的实习：

+   机器学习

+   精通 Python，有 PyTorch 或 TensorFlow 的经验

+   ROS

+   对移动和智能机器人的热情

对于这个实习，机器学习可能是工作中最重要的部分，同时与使用 ROS 的机器人一起工作。因此，对于这样的工作，你应该同样学习机器学习，如果你对此感兴趣的话。

正如你所看到的，许多 ROS 工作并不是完全围绕 ROS 进行的。ROS 只是他们使用的工具之一。

### 第 3 个工作岗位 – 仿生机器人开发

这里是一些中级工作（需要工作经验的工作）的要求，其中你将参与仿生机器人的开发：

+   ROS 2

+   Linux、Git 和 CI 工作流程

+   Jetson 平台

+   机器人运动学和动力学

+   控制算法：力、阻抗、MPC

+   通信协议：CAN、I2C、SPI 等

在这个工作中，机器人控制、通信协议以及它们在嵌入式 Linux 平台上的应用至关重要。很可能 80%的挑战将集中在这一点上，其余的将关于如何使它与 ROS 2 协同工作。

我就到这里。重点是展示不同的工作可能需要非常不同的技能组合，尽管它们都被标记为 ROS 工作。在这些工作中，ROS 可能是主要焦点，但许多工作只是将 ROS 作为众多工具中的一个来使用。

因此，如果你有一个想要申请的梦想工作，首先关注所需的技能。为了学习这些技能，找到一个与这些技能相匹配的项目，然后，随着你的进展，找到帮助你完成项目的学习资源。

# 摘要

在这一章中，我们关注了你在完成这本书后可以做什么来有效地继续学习 ROS 2。这个问题可能很难回答，因为机器人技术太过广泛，任何人都不可能掌握所有内容。

为了特定目标（例如，求职或工作/学校项目）的学习是最好的，因为你将学习可以直接应用的东西。

如果你真的不知道该做什么，我也为你列出了一个常见的 ROS 2 堆栈/框架列表，以及其他与 ROS 2 相关的主题，你可以学习。我强烈建议你通过做项目来学习这些内容，并专注于通过实践教授你的实用资源。

如果你喜欢这本书以及我的教学方法，这里有一些我提供的更多资源：

+   **机器人后端网站** ([`roboticsbackend.com/`](https://roboticsbackend.com/))：在这里，你可以找到更多关于 ROS 2 和其他机器人相关主题的书面教程

+   **机器人后端 YouTube 频道** ([`www.youtube.com/c/RoboticsBackend`](https://www.youtube.com/c/RoboticsBackend))：提供视频教程和免费的快速课程

+   **完整在线课程** ([`roboticsbackend.com/courses/`](https://roboticsbackend.com/courses/))：我还提供了一些完整的 ROS 2 课程，你可以购买，这些课程重点在于实践学习

正如我们在本章中看到的，你现在已经完成了探索阶段，并进入了探索阶段。随着你进步并提高你的技能，你将开始找到你特别想深入研究的领域。根据这个，以及你获得的机会，你将开始专业化。

在那之前，不要过度思考任何事情，尽可能多地学习和探索。开始几个项目，学习其他技术，保持好奇心。同时，别忘了在学习和构建项目时享受乐趣。这是能激励你更进一步的最重要的事情之一。

我祝愿你在旅途中好运，希望这本书能帮助你迈出正确的第一步！
