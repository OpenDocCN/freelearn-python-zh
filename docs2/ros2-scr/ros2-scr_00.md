# 前言

在 2016 年，当我共同创立一家机器人初创公司时，我在寻找构建新六轴机器人手臂软件的工具和技术，偶然发现了 ROS。不知何故，我有一种直觉，认为 ROS 似乎正是我一直在寻找的东西。然而，我并不能真正理解它是什么，或者它在做什么。

我花了很长时间才理解 ROS，在学习的过程中，我意识到这个过程有多么痛苦。当时（现在也是如此）缺乏清晰的教学材料和在线资源，尤其是对于初学者。随着我多年来继续使用 ROS，我也意识到这不仅仅是我一个人遇到的问题——许多其他开发者仍然感到迷茫。这促使我创建在线课程来教授 ROS 和其他相关主题，目标是让 ROS 对每个人来说都更容易接触。

几年后，这本书是这个过程的延续。随着在 ROS（或 ROS 2——稍后会解释这个区别）的使用和教学方面积累了更多经验，我写了这本我希望在刚开始时就能拥有的书。在撰写这本书的过程中，我尽可能地站在初学者的角度，并避免学习过程中常见的两个障碍。

首先，在技术圈中，你有时会看到一些专家表现出的有毒行为，他们对你不屑一顾，会说些“你怎么连这么基本的东西都不会——这太简单了？”之类的话，或者用术语快速解释事情，然后在你不理解时让你感到愚蠢。这种行为没有帮助，也不会激励你学习。

第二，我不知道为什么，但很多人喜欢把事情搞得很复杂，这不仅仅与 ROS 或技术有关。大多数时候，一旦概念被清晰地理解，它们可以非常简单地解释。如果不需要，就没有必要让它们听起来很复杂，也没有必要花一个小时解释某件事，如果五分钟就能完成。这会产生噪音和困惑。

在这本书中，我想做的是相反的事情：不因技能不足而评判，优先提供清晰简洁的解释。通过这种方式，我希望你能高效地学习，完成这本书后比现在更少困惑，更有动力继续你的 ROS 2 和机器人之旅。

# 这本书面向的对象

这本书是为工程师、研究人员、学生、教师、开发者和希望以高效方式从头开始学习 ROS 2、不浪费时间的人准备的。

即使你不需要在某个领域成为专家，但这本书并不是为软件工程领域的完全新手准备的。你需要具备 Linux 和 Python 的良好基础——C++是可选的。对这些技术的良好掌握和一些经验将使你的学习更加容易。

不需要 ROS（或 ROS 1）的经验。

# 这本书涵盖的内容

*第一章*，*ROS 2 简介——ROS 2 是什么？*，解释了 ROS 2 究竟是什么，并消除了你可能会有的大部分疑问和困惑。

*第二章*，*安装和设置 ROS 2*，引导你完成 Ubuntu、ROS 2 和附加工具的安装和设置，这样你就有了一切使用 ROS 2 所需的东西。

*第三章*，*揭示 ROS 2 核心概念*，通过实验和动手发现介绍了主要的 ROS 2 概念，目标是培养对事物工作方式的直觉。

*第四章*，*编写和构建 ROS 2 节点*，展示了如何编写 ROS 2 程序，安装它们，并运行它们。Python 和 C++都被使用，并给出了额外的挑战来让你练习（以下章节也是如此）。

*第五章*，*主题——节点之间通过主题发送和接收消息*，解释了如何通过主题在两个节点之间进行通信。我们首先使用现实生活中的类比来解释这个概念，然后深入代码。 

*第六章*，*服务——节点之间的客户端/服务器交互*，遵循了上一章的相同大纲——这次是针对 ROS 2 中第二重要的通信类型。

*第七章*，*动作——当服务不足时*，介绍了 ROS 2 的第三种也是最后一种通信类型。这一章稍微复杂一些，在第一次阅读时可以跳过。

*第八章*，*参数——使节点更具动态性*，展示了如何向你的节点添加参数，以便在运行时提供不同的设置。

*第九章*，*启动文件——一次性启动所有节点*，为你提供了一种从单个文件启动完整 ROS 2 应用程序的方法。

*第十章*，*使用 RViz 发现 TFs*，介绍了一个最重要的概念之一，这样你就可以跟踪机器人随时间变化的不同坐标。这将是几乎任何你创建的 ROS 2 应用程序的骨架。

*第十一章*，*为机器人创建 URDF*，让你开始一个新的项目，在这个项目中，你将使用 ROS 2 创建一个自定义机器人。使用 URDF，你可以创建机器人的描述。

*第十二章*，*发布 TFs 和打包 URDF*，解释了如何正确打包你的应用程序并生成所需的 TFs，这要归功于你创建的 URDF。

*第十三章*，*在 Gazebo 中模拟机器人*，教你如何将机器人适配到 Gazebo（3D 模拟工具），如何生成机器人，以及如何控制它，以便得到尽可能接近真实机器人的模拟。

*第十四章*，*更进一步——下一步做什么*，为你提供了在完成本书后，根据个人目标可以选择的不同路径的更多视角。

# 要充分利用本书

您需要以下基本知识：

+   Linux，特别是如何使用命令行（带有自动完成）和用文本编辑器编写代码，以及您应该了解一些关于文件系统和环境如何工作的知识（例如`.bashrc`文件）。

+   Python 编程：大部分代码将使用 Python 3 编写，采用面向对象编程。您的 Python 技能越好，就越容易。

+   C++编程：您可以决定只通过遵循 Python 示例开始，因此不需要 C++。如果您还想遵循 C++示例，当然需要 C++。

关于软件和操作系统，您需要在您的计算机上安装 Ubuntu（最好是双启动，也可以在虚拟机上运行）。本书针对 Ubuntu 24.04 和 ROS 2 Jazzy，但您也应该能够从后续版本中获得最大收益。本书将提供有关如何安装 Ubuntu（在虚拟机上）和 ROS 2 的逐步说明。

**如果您使用的是本书的数字版，我们建议您亲自输入代码或从本书的 GitHub 仓库（下一节中提供链接）获取代码。这样做将帮助您避免与代码的复制和粘贴相关的任何潜在错误。**

# 下载示例代码文件

您可以从 GitHub（[`github.com/PacktPublishing/ROS-2-from-Scratch`](https://github.com/PacktPublishing/ROS-2-from-Scratch)）下载本书的示例代码文件。如果代码有更新，它将在 GitHub 仓库中更新。

我们还有其他来自我们丰富的图书和视频目录的代码包，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。查看它们吧！

# 使用的约定

本书使用了多种文本约定。

**文本中的代码**：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“例如，如果您想在 ROS Jazzy 上安装**abc_def**软件包，那么您需要运行**sudo apt install ros-jazzy-abc-def**。”

代码块设置如下：

```py
#!/usr/bin/env python3
import rclpy
from rclpy.node import Node
```

当我们希望您注意代码块中的特定部分时，相关的行或项目将以粗体显示：

```py
entry_points={
    'console_scripts': [
        "test_node = my_py_pkg.my_first_node:main"
    ],
},
```

任何命令行输入或输出都应如下编写：

```py
$ sudo apt update
$ sudo apt upgrade
```

**粗体**：表示新术语、重要单词或屏幕上出现的单词。例如，菜单或对话框中的单词以粗体显示。以下是一个示例：“要启动虚拟机，请在**VirtualBox 管理器**中双击它，或者选择它并点击**开始**按钮。”

小贴士或重要注意事项

看起来是这样的。

# 联系我们

我们始终欢迎读者的反馈。

**一般反馈**：如果您对本书的任何方面有疑问，请通过电子邮件发送至 customercare@packtpub.com，并在邮件主题中提及本书标题。

**勘误表**：尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在这本书中发现了错误，如果您能向我们报告，我们将不胜感激。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)并填写表格。

**盗版**：如果您在互联网上以任何形式发现我们作品的非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。请通过 copyright@packtpub.com 与我们联系，并提供材料的链接。

**如果您有兴趣成为作者**：如果您在某个领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com)。

# 分享您的想法

一旦您阅读了*从零开始学习 ROS 2*，我们非常乐意听到您的想法！请[**点击此处直接进入亚马逊评论页面**](https://packt.link/r/1835881416)为这本书分享您的反馈。

您的评论对我们和科技社区非常重要，并将帮助我们确保我们提供高质量的内容。

# 下载这本书的免费 PDF 副本

感谢您购买这本书！

您喜欢在路上阅读，但无法携带您的印刷书籍到处走？

您的电子书购买是否与您选择的设备不兼容？

别担心，现在，随着每本 Packt 书籍，您都可以免费获得该书的 DRM 免费 PDF 版本。

在任何地方、任何设备上阅读。直接从您喜欢的技术书籍中搜索、复制和粘贴代码到您的应用程序中。

优惠远不止于此，您还可以获得独家折扣、时事通讯和丰富的免费内容，每天直接发送到您的收件箱。

按照以下简单步骤获取福利：

1.  扫描二维码或访问以下链接

![留下评论的二维码](img/B22403_QR_Free_PDF.jpg)

[`packt.link/free-ebook/9781835881408`](https://packt.link/free-ebook/9781835881408)

1.  提交您的购买证明

1.  就这些！我们将直接将您的免费 PDF 和其他福利发送到您的电子邮件。
