# 第十八章：索引

A

抽象

局限性 22

抽象 18, 19, 20

使用 21

访问日志 185

动作抽象 23, 24

高级 Pytest 369

固定数据，使用 374, 376, 377, 378, 379

测试，分组 370, 371, 372, 373, 374

URL 369

警报 460, 461

参考链接 460

Alpine Linux 发行版

URL 309

分析 422

Apache

URL 177

Apache Cassandra

URL 82

Apache Kafka 221

API 设计 17

API 首选方法 61

应用程序编程接口 (API)

关于 17

设计 63, 64

设计，审查 73

端点 65, 66, 67, 68, 69, 70, 71, 72

实现 73

版本控制 51

ArangoDB

URL 83

安排-行动-断言 (AAA) 模式 339

阶段 339

异步 JavaScript 和 XML (AJAX) 61

异步任务 221, 222, 224, 226

原子性 85

认证

与授权对比 47

认证 44

授权码授权 48

授权

与认证对比 47

自动化 150

AWS S3 153

参考链接 153

B

后端 55, 57

向后兼容性 546, 547, 548

部署，不间断 551, 553, 554

增量更改 548, 549, 550

向后兼容性 121, 130

bcrypt 函数 12

Boto3 文档

参考链接 264

boto3 库 264

内置 cProfile 模块

使用 470, 471, 472, 474

总线 220

定义 272, 273, 274

C

基数 107, 109

灾难性问题 502

Celery 235, 236

配置 236

点，连接 241, 242, 243

HTTP API 252, 253

定时任务 244, 245, 246, 247, 248, 249

任务，触发 240

Celery Flower 249, 250, 251, 252

Celery 工作进程 237, 238, 239, 240

CircleCI

URL 149

Cloud Bigtable

参考链接 82

代码性能分析，针对时间 468, 469, 470

内置 cProfile 模块，使用 470, 471, 472, 474

行分析器，使用 475, 476, 477, 478, 479, 480, 481

命令行界面（CLI） 269

命令查询责任分离（CQRS） 127, 129

复杂系统 274, 276, 277

模块 274

配置 153, 154, 155

配置参数

功能配置 154

运行配置 154

一致性 85

容器镜像 308

构建 308, 309

运行 310

容器化的十二要素应用 169, 171

容器 306

内容分发网络（CDN） 182

持续集成（CI） 148, 149, 150

康威定律 7

创建检索更新删除（CRUD） 26

关键问题 502

密码学散列 11

Cython 402, 403, 404

URL 402

D

数据

封装 122, 123, 124, 126

数据库 5

无中断更改 132, 133, 134, 135

数据库管理员（DBA） 76

数据库管理系统（DBMS） 76

数据库迁移 130

数据库

非关系型数据库 79

关系型数据库 77, 78, 79

小型数据库 83, 84

类型 76, 77

数据库事务 85, 86

数据索引 105, 106, 107

数据迁移 136

db.sqlite3 文件 320

调试 422

带断点 524, 525, 526, 527

带日志 522, 523

声明式 139

缺陷

检测 502, 503

处理 503

反规范化 103, 105

依赖注入 364, 365, 366

在面向对象编程中 366, 367, 368, 369

部署 321

确定性分析器 465

开发模式 398

参考链接 398

分布式关系型数据库 87

Django 132

请求路由到视图 197, 198

Django 框架

URL 115

Django 迁移

参考链接 132

Django MVT 架构 195, 196

Django 项目

URL 195

Django Prometheus

配置 447, 448, 449

Django REST 框架 208

模型 209

序列化器 212, 213, 215

URL 196

URL 路由 210

视图 210, 211

Docker

URL 307

Docker Compose

URL 321

Docker Hub

URL 309

文档字符串，PEP 257 文档

参考链接 522

文档对象模型 (DOM) 60

文档存储 81, 82

领域驱动设计 112, 113, 114

领域模型 122

领域特定语言 (DSL) 79

持久性 86

动态页面 59, 60, 61

动态查询 121

E

边缘负载均衡器 216

Elasticsearch

参考链接 82

ELK Stack

参考链接 168

环境变量 159

错误日志 185

事件驱动系统 220

事件驱动系统 278

测试 278, 279, 280

事件

发送 220, 221

流式传输 256, 257, 258, 259, 260

最终一致性 87

示例应用程序 9

元素 10

执行阶段，用于从单体迁移到微服务

整合 305

最终 306

先行者 305

预期错误 505

检测 430, 431

外部依赖

模拟 361, 362, 363, 364

测试 358, 360, 361

外部层 216

外部版本控制

与内部版本控制对比 51, 52

F

功能配置 154

功能标志 554, 555

固定装置

步骤 375

使用 374, 376, 377, 378, 379

花朵工具

参考链接 249

Fluentd

参考链接 426

外键 78

外键关系 98, 99

格式化器 427

前端 55, 57

常见技术 56

全栈工程师 56

全表扫描 106

G

GitHub

URL 149

GitLab

URL 149

全栈工程师 56

Grafana

URL 459

图数据库 83

H

处理器 427

处理程序

参考链接 429

快乐路径 279

头部列表

参考链接 30

水平扩展性 151

热点

全局热点 467

全局热点 467

HTML 接口 58

认证 44, 45, 46

HTTP API 252

HttpRequest 201

属性 201, 202, 203

HttpResponse 203, 204, 205

混合方法 63

我

事件 535, 536

入口 322

进程内通信 6, 7

在 Python 中

单元测试 350

集成测试 278

集成测试 332, 333

内部版本控制

与外部版本控制对比 51, 52

内省工具，Python 518, 519, 520, 521

调查

在生产中 504, 506

ipdb

参考链接 527

隔离 86

J

JWT 令牌

元素 49

K

内核空间 289

键值存储 80

Kubernetes 321, 322

URL 322

L

LAMP 架构 7

漏洞抽象

泄露 22

旧版数据库

处理 139

leonardo_1.py

参考链接 492

leonardo_2.py 文件

参考链接 493

伦纳德数 492

行分析器

使用 475, 476, 477, 478, 479, 480, 481

压力测试 541, 542

本地调试 515, 516, 517

记录器 427

Loggly

URL 168

日志 185, 421, 423, 424, 425, 426

访问日志 185

添加 437, 438

错误日志 185

局限性 438, 439

问题，通过 430 检测

生成，在 Python 中 426, 427, 428, 429

策略 434, 436, 437

与指标 442, 443

M

主-fifo

参考链接 195

内存泄漏

用例 467

内存分析器 467

memory-profiler 模块

参考链接 498

内存分析 468，492，494

内存优化 496，498

内存分析器，使用 494，495

消息代理 272

指标 421，444

检查 449，450

计数器 443

错误 460

测量 443

延迟 460

测量 444

饱和 460

交通 460

与日志对比 442，443

与 459 合作

指标，使用 Prometheus 生成 445

环境设置 445，446，447

微内核 289

微博列表视图 210

微博视图 210

微服务架构 281，283，284，285

通信结构 291，292，293

与单体架构对比 285，286，287，288

中间件

定义 205，207

迁移 131

迁移，从单体到微服务 294

分析 297

挑战 294，295，296

设计 298，300

执行 303，304

规划 301，302，303

轻微问题 502

小问题 502

混合分片 93, 94, 95

模拟 361, 362, 363, 364

模型层 112

模型-视图-控制器 (MVC) 57, 58

模型-视图-模板 (MVT) 195

MongoDB

URL 82

单一架构 7, 281, 282, 283

通信结构 290, 291

MoviePy 文档

参考链接 264

MoviePy 库 264

Mozilla SameSite Cookie

参考链接 45

N

自然键 78

Neo4j

URL 83

nginx

URL 177

nginx 配置 314

节点 321

非关系型数据库 77, 79

变更，不强制执行模式 137, 138

文档存储 81, 82

图数据库 83

键值存储 80

宽列存储 82

NoSQL 79

O

OAuth 47

面向对象编程 (OOP) 24

面向对象编程 (OOP) 112, 113, 114

对象关系映射 (ORM) 114

数据库，从代码中分离 116

独立性，从 SQL 116, 117

与 SQL 组合相关的问题，移除 118, 119, 120, 121, 122

使用 114, 115, 116

可观察性 421

面向对象编程 (OOP)

依赖注入 366, 367, 368, 369

Open API

URL 40

运行配置 154

Opsgenie

URL 461

编排 321

ORM

模式，同步到 141, 142

P

包

创建 382, 383, 384, 395, 396, 397

安装，在开发模式下 398

上传，到 PyPI 408, 409, 410, 411, 412, 414, 415

部分性能分析 481

每个请求生成一个配置文件，性能分析 489, 490, 491

返回素数的 Web 服务器，创建 482, 484, 485, 486

整个过程，性能分析 486, 487, 488

Peewee

参考链接 115

PEP-328 导入

参考链接 385

性能

内存性能 464

时间性能 464

个人可识别信息 (PII) 513

哲学

测试，设计 336, 337, 339

测试 334, 336

测试，结构化 339, 340, 341, 342

管道 260, 261

基础任务 263

图像任务 264, 265

准备 261, 262

任务，运行 270, 271, 272

任务，连接 267, 268, 269

视频任务 266, 267

Pod 321

Pony

URL 115

Postman

URL 39

死后分析 537, 539, 540

预死亡分析 540

准备分析 540

主键 77

主/副本 88, 89, 90

primes_1.py

参考链接 469

打印调试 522

私有索引

创建 415, 416, 417, 418, 419

生产中的问题 506

数据，分析 513

记录，增加 514, 515

请求 ID，记录 507, 509, 510, 511, 512

性能分析器

确定性性能分析器 465

内存性能分析器 467

统计性能分析器 466

性能分析 422

基础知识 464, 465

Prometheus

指标，生成 445

查询 454, 455, 456, 457, 459

Prometheus 文档，关于查询

参考链接 459

Prometheus 服务器

开始 450, 451, 452, 453

发布者 221

发布/订阅 (pub/sub) 276

pudb

参考链接 527

纯分片 92, 93

pyinstrument

参考链接 467

pyjwt

参考链接 50

pypiserver 415

Pyramid

URL 197

py-spy

参考链接 467

Pytest 354, 355, 357, 358

pytest-catchlog

参考链接 437

Python

内省工具 518, 519, 520, 521

日志，生成 426, 427, 428, 429

简单打包 384, 385, 386

Python 增强提案（PEPs）385

Python 垃圾回收器

参考链接 468

Python 包 394, 395

定义 398, 400, 401

使用二进制代码 405, 406, 407, 408

Python 包索引（PyPI）387, 388, 389, 390

包，上传到 408, 409, 410, 411, 412, 414, 415

Python 打包生态系统 386

Python 包索引（PyPI）387, 388, 389, 390

虚拟环境 390, 391

虚拟环境，创建 392, 393

Python 状态码

参考链接 204

Python unittest 350、351、352、353

Python WSGI 工作进程 195

Q

队列 221

队列效应 227、228、229、230、231

云队列 233、234、235

云工作进程 233、234、235

队列理论

参考链接 228

队列任务

背景任务 230

优先任务 230

单一代码 232

R

RabbitMQ 221

Redis 81、221

引用计数 467

关系型数据库 77、78、79

关系模式变更 131

远程-pdb

参考链接 527

远程过程调用（RPC）17

复制延迟 88、89

仓库 125

仓库模式 116

表现状态转移（REST）25

请求 ID

记录日志 507、508、510、511、512

请求-响应 174、175、176

资源抽象 23、24

RESTful 接口 25

认证 46、47、48、49

定义 26、27、28

头部和状态 29

开放 API 规范，使用 40、42、43、44

分页 35, 36, 37

资源，设计 32, 33

资源和参数 34, 35

RESTful API 流程，设计 37, 38, 39, 40

RESTful 规则 25

反向代理 182, 183, 184

工作 183

Riak 81

rsyslog

参考链接 426

S

盐 11

扩展性 148, 151, 152, 153

扩展性，类型

水平扩展性 151

垂直扩展性 151

定时停机 533, 534

维护窗口 534, 535

定时任务 227

模式

检测，从数据库 139, 141

同步，到 ORM 141, 142

模式设计 97, 98, 99, 100, 101

模式规范化 101, 102

自编码令牌 49, 50, 51

语义版本控制 52, 53, 54, 544

Sentry

URL 434, 461

严重问题 502

server_profile_by_request.py

参考链接 490

server.py 文件

参考链接 482

服务 322

服务

容器化 306, 307

分片 90, 91

优点 96

缺点 96

分片键 90

共享数据库 224

简单版本控制 54

单一代码 232

单一对象访问协议 (SOAP) 17

单页应用程序 61, 62

单一职责原则 5, 6

单点登录 (SSO) 46

站点包 394

小型数据库 77, 83, 84

软件架构 2, 532, 533

考虑因素 3

分解，进入更小的单元 4, 5, 6

影响 7, 8, 9

安全方面 11, 12

团队合作方面 556, 557

Splunk

URL 168

SQLAlchemy 139

URL 115, 140

SQL 注入攻击 118

Stack Overflow

URL 533

StackOverflow

URL 389

静态文件

服务 180

统计分析器 466

状态码 30, 31

存储过程 141

杀死者模式 301

结构化查询语言 (SQL) 78

任务细分 226

订阅者 221

代理键 78

Swagger

关于 40

URL 40

系统结构

定义 2, 3

系统测试 333

T

表分片 95

测试驱动开发 (TDD) 342, 344, 345

思想 343

分入团队 345, 346

问题与限制 346

进程，示例 347, 348, 349, 350

测试

级别 331

测试，级别

集成测试 332, 333

系统测试 333

单元测试 331

TestPyPI

URL 408

传统 HTML 接口 58, 59

事务 85

TravisCI

URL 149

简单打包

在 Python 中 384, 385, 386

十二要素应用 148

因素 156

十二要素应用，分组

编译一次，运行多次 157, 158

依赖和配置 159, 160, 161, 162, 163

监控和管理 166, 167, 168, 169

可扩展性 163, 164, 165, 166

十二要素应用方法 147

U

意外错误 505

捕获 431, 432, 433, 434

统一接口

先决条件 25

统一资源标识符 (URIs) 26

工作单元 125

工作单元模式 122, 123, 124, 126

单元测试 278

单元测试

在 Python 中 350

单元测试 331

uWSGI 应用 186, 187

与 web 服务器交互 189

进程 190, 191

进程生命周期 191, 192, 193, 194, 195

参考链接 195

uWSGI 配置 314

V

版本控制 543, 544, 545, 546

需求 51

垂直扩展性 151

视图 199, 200, 201

HttpRequest 201, 203

HttpResponse 203, 204, 205

虚拟环境 390, 391

容器，使用 393, 394

创建 392, 393

W

网络架构 177

网络服务器 5

关于 177, 178, 179

高级用法 186

日志 185

反向代理 182, 183, 184

静态文件，服务 180, 181, 182

Web 服务器网关接口 (WSGI) 186

网络服务

建筑物 316

运行 317, 318, 319

启动脚本 315, 316

网络服务容器 311

构建 311

运行 312, 313

网络工作进程 5

wheel 包 400

wheel_package_compiled 包 405

宽列数据库 82

狼栏算法 517

WSGI 应用程序 187, 188, 189

Y

你不需要它（YAGNI）343
