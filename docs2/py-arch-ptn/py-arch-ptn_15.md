# 第四部分

# 持续运营

当系统上线并运行时，我们的架构工作并未结束。一个运行中的应用程序需要持续的维护和努力来保持其成功运行。

系统在其生命周期的大部分时间里将处于维护阶段。在这个阶段，我们添加功能、检测和修复缺陷，并分析系统的行为以预防问题。

要能够成功做到这一点，我们需要拥有工具来覆盖两个基本要素：

+   *可观察性*：这是了解实时系统正在发生什么的能 力。低可观察性系统难以理解，甚至可能无法理解，这使得了解是否存在问题或找出问题原因变得困难。在高可观察性系统中，很容易推断系统的内部状态和系统内部流动的事件，这允许轻松检测到产生问题的关键结构。观察系统的主要工具是**日志**和**指标**，它们结合使用，使我们能够理解系统并分析其行为。

    可观察性是系统本身的属性。通常，监控是获取关于系统当前或过去状态信息的行为。这有点像是命名上的争论，但从技术上讲，你*监控*系统以收集其*可观察*的部分。

+   *分析*：为了在更受控的情况下检测问题，我们有两个重要的工具，**调试**和**性能分析**。第一个是开发过程中的基本要素，通过逐步分析代码来理解代码的工作方式，并确定它为什么这样做。性能分析是通过向代码中添加工具来展示其工作方式，并具体确定哪些部分执行时间最长，以便你可以针对它们采取行动并提高其性能。这两个工具相互补充，使我们能够在检测到问题后修复和改进不同类型的问题。

在本节中，我们还将讨论在系统运行时进行更改的挑战。软件中唯一不变的是变化，平衡现有系统与新功能是一个关键能力。这项任务的一部分是协调不同团队，使他们了解他们更改的影响，并作为一个单一单位工作。

本节包括以下章节：

+   记录

+   指标

+   性能分析

+   调试

+   持续架构

我们将首先了解如何使用日志进行监控。
