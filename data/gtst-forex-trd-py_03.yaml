- en: '3'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '3'
- en: FX Market Overview from a Developer's Standpoint
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从开发者的角度看外汇市场概述
- en: The FX market has long been very attractive for developers, mostly because there’s
    a lot of free stuff associated with this market, such as market data, trading
    software, and various third-party solutions. However, the quality of freely available
    solutions is frequently so low that it’s in fact not possible to use them for
    any serious trading.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 外汇市场长期以来对开发者来说一直非常有吸引力，主要是因为与这个市场相关的免费东西很多，比如市场数据、交易软件和各种第三方解决方案。然而，这些免费解决方案的质量通常非常低，实际上根本无法用于任何严肃的交易。
- en: The main problem with trading in the FX markets is their strong fragmentation.
    Historically, FX was an interbank market with no dedicated center. So, trading
    venues offer not only different trading platforms but also different market data,
    different types of orders, and different access to liquidity. This fragmentation
    may be quite confusing, so it’s essential to obtain a sufficient level of understanding
    in order to avoid making mistakes, which at times can be quite painful.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 外汇市场交易的主要问题是其强烈的碎片化。从历史上看，外汇是一个没有专用中心的银行间市场。因此，交易场所不仅提供不同的交易平台，还提供不同的市场数据、不同类型的订单和不同的流动性接入。这种碎片化可能相当令人困惑，因此，为了避免犯错误，有时这些错误可能相当痛苦，获得足够的理解是至关重要的。
- en: In this chapter, we will look at this market from a developer’s standpoint to
    discover some important – and overlooked – features that may be critical for the
    overall success of any project in FX algo trading. We will start with the organization
    of this market and see the obstacles it creates for the developer. We will learn
    about the essential types of market participants, why the price moves at all,
    and whether a particular movement is something we can make money with. We will
    also consider various ways to access this market, their pros and cons for various
    practical trading applications, and estimate how expensive it may be.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将从开发者的角度审视这个市场，以发现一些重要且被忽视的特征，这些特征可能对任何FX算法交易项目的整体成功至关重要。我们将从这个市场的组织结构开始，看看它为开发者创造的障碍。我们将了解市场参与者的基本类型，为什么价格会变动，以及特定的变动是否是我们能从中赚钱的。我们还将考虑各种进入这个市场的方式，它们在各种实际交易应用中的优缺点，并估计这可能需要多少成本。
- en: 'All this knowledge is absolutely essential for sustained success in FX algo
    trading. This market is one of the most rapidly changing markets. Without understanding
    how these changes may affect the performance of your trading strategies, it will
    be difficult to survive this market from a long-term perspective. In this chapter,
    we will cover the following topics:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些知识对于在FX算法交易中持续成功至关重要。这个市场是变化最快的市场之一。如果不理解这些变化可能如何影响你的交易策略的表现，从长期来看，在这个市场中生存将非常困难。在本章中，我们将涵盖以下主题：
- en: Trading venues – where money meets… other money
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易场所——金钱相遇的地方……其他金钱
- en: Trade mechanics – again, some terminology
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易机制——再次，一些术语
- en: Market makers – comfortable, sophisticated, expensive
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 做市商——舒适、复杂、昂贵
- en: Liquidity providers – the whales that support this planet
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 流动性提供者——支撑这个星球的巨鲸
- en: ECN – looks like a fair game, but is it?
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ECN——看起来像一场公平的游戏，但真的是这样吗？
- en: Aggregation – in search of the best price
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 聚合——寻找最佳价格
- en: Trading the FX market – what and how
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易外汇市场——交易什么和如何交易
- en: Why do I need all this?
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我为什么需要所有这些？
- en: Trading venues – where money meets… other money
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 交易场所——金钱相遇的地方……其他金钱
- en: 'First, let me note that despite the overall colloquial language used in this
    book, I am always trying to stick to the traditional academic approach that follows
    the same paradigm: definition | logical conclusions | theory | experiment | proof.
    Without proper definitions, especially when we talk about the foundation of the
    subject domain, we won’t be able to make logical conclusions, suggest a theory,
    or test and finally prove a theory – which in our case, means making money. In
    even simpler words, without a full understanding of the subject, we are unable
    to suggest appropriate methods to use it.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我指出，尽管这本书整体上使用了口语化的语言，但我始终努力坚持传统的学术方法，遵循相同的范式：定义 | 逻辑结论 | 理论 | 实验 | 证明。如果没有适当的定义，尤其是在我们谈论学科领域的基础时，我们将无法得出逻辑结论，提出一个理论，或者测试并最终证明一个理论——在我们的情况下，这意味着赚钱。用更简单的话说，如果没有对主题的全面理解，我们将无法提出适当的方法来使用它。
- en: So, as we mentioned in [*Chapter 1*](B19145_01.xhtml#_idTextAnchor014), financial
    markets facilitate buying and selling assets at special marketplaces called **trading
    venues**. A bit too vague to be useful, right? Well, let’s go into specifics.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，正如我们在[**第一章**](B19145_01.xhtml#_idTextAnchor014)中提到的，金融市场通过称为**交易场所**的特殊市场促进资产买卖。这有点过于模糊，不太有用，对吧？那么，让我们具体来看看。
- en: Organizing chaos – types of trading venues
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 组织混乱——交易场所的类型
- en: A trading venue in the financial world is a place where buyers meet sellers
    – both physically and electronically. There are different kinds of trading venues,
    each having its advantages and disadvantages and requiring a special approach
    to trade.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 金融世界的交易场所是买家和卖家相遇的地方——无论是物理上还是电子上。存在不同类型的交易场所，每种都有其优势和劣势，并需要特殊的交易方法。
- en: A formal classification of today’s trading venues is based on a number of criteria
    including the regulatory environment, types of market participants, methods of
    dissemination of market information among them, and many, many more. Therefore,
    such a classification is very complex and definitely lies way beyond the scope
    of this book.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 今天交易场所的正式分类基于许多标准，包括监管环境、市场参与者的类型、市场信息在他们之间的传播方式等等。因此，这种分类非常复杂，肯定超出了本书的范围。
- en: The good news is that not all of these criteria are important for us as developers
    of buy-side trading applications. We will try to suggest a few informal criteria
    looking at this subject domain with the eyes of a developer.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 好消息是，对于我们这些买方交易应用的开发者来说，并非所有这些标准都重要。我们将尝试提出一些非正式的标准，以开发者的视角来看待这个主题领域。
- en: From the structural standpoint, the key difference between trading venues is
    the way the market price is determined. To better understand it, let’s again consider
    our example of a farmer’s market.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 从结构角度来看，交易场所之间的关键区别在于市场价格的确定方式。为了更好地理解这一点，我们再次考虑我们的农民市场例子。
- en: Auction (open outcry)
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 拍卖（公开叫价）
- en: Buyers and farmers stand in a crowd, crying out loudly about quantities they
    would like to buy or sell along with their prices. As soon as two parties find
    each other, a contract is made.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 买家和农民站在人群中，大声喊出他们想要购买或出售的数量以及他们的价格。一旦双方找到对方，就会签订合同。
- en: 'This is exactly how trading had been performed for many centuries and even
    thousands of years. In the financial world, such a marketplace is called an **exchange**,
    and the market square where buyers and sellers squawk their prices is called a
    **pit**. Although this method looks fair, it has one global intrinsic limitation:
    the marketplace cannot physically accommodate all those willing to trade. So,
    traders soon became elite with unlimited access to liquidity and began acting
    on behalf of others for a commission. Of course, such a privileged position asked
    for misbehavior and many traders could not resist the temptation to trade against
    their clients, thus doubling their profits – which in turn caused changes in regulations
    and severe punishments. Although very interesting, this is another story.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 这正是许多世纪甚至数千年来交易一直进行的方式。在金融世界中，这样的市场被称为**交易所**，而买家和卖家叫价的地方被称为**交易池**。尽管这种方法看起来公平，但它有一个全球性的内在限制：市场无法物理上容纳所有愿意交易的人。因此，交易者很快变成了精英，他们可以无限制地获得流动性，并开始代表他人进行交易以获取佣金。当然，这样的特权位置要求人们行为不端，许多交易者无法抗拒与客户对冲以翻倍利润的诱惑——这反过来又导致了法规的变化和严厉的惩罚。尽管非常有趣，但这又是另一个故事。
- en: Pit trading in its natural form has almost died out completely in the last 15
    years. Electronic trading made access to markets far more democratic and available
    to virtually anyone (with important limitations and restrictions – as always),
    so pit traders are no longer needed.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在过去15年中，其自然形式的**交易池交易**几乎完全消失。电子交易使市场对几乎任何人（尽管有重要的限制和约束——一如既往）都更加民主化和可获取，因此不再需要交易池交易者。
- en: Nevertheless, the *structure* of such a market, where *price discovery* is performed
    by direct communication between multiple parties in an *auction*, is still very
    popular. Modern trading venues operate electronically but use the same paradigm.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管如此，这种市场结构，其中通过**拍卖**中多方之间的直接沟通进行**价格发现**，仍然非常受欢迎。现代交易场所虽然电子化运营，但使用相同的范式。
- en: We can see that there are two ways a buy-side order can be placed in such a
    market. We can just cry out, *“I buy!”* or *“I sell!”* and such an order will
    be executed at whatever price comes first. Such an order is called a **market
    order** (see [*Chapter 10*](B19145_10.xhtml#_idTextAnchor171)*, Types of Orders
    and Their Simulation in Python*) and if a market order is sent to the market,
    we say that we buy or sell **at market**.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到，在这样的市场中，买方订单可以有两种下单方式。我们只需大声喊出，“**我要买**！”或“**我要卖**！”这样的订单将以最先出现的价格执行。这种订单被称为**市价订单**（参见[*第10章*](B19145_10.xhtml#_idTextAnchor171)*，Python中订单类型及其模拟），如果将市价订单发送到市场，我们说我们在**市价**买入或卖出。
- en: Alternatively, we can cry, *“I buy at $100 or cheaper!”* or *“I sell at $200
    or higher!”* and then such an order will be executed only when there’s a seller
    or a buyer for such an order respectively. Such an order is called a **limit order**
    (again, see [*Chapter 10*](B19145_10.xhtml#_idTextAnchor171)*, Types of Orders
    and Their Simulation in Python*, for details), and sending such an order to the
    market is called buying or selling **at a** **certain price**.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，我们可以喊出，“**我愿意以100美元或更低的价格买入**！”或“**我愿意以200美元或更高的价格卖出**！”然后这样的订单只有在有卖家或买家愿意以这样的价格进行交易时才会执行。这种订单被称为**限价订单**（同样，参见[*第10章*](B19145_10.xhtml#_idTextAnchor171)*，Python中订单类型及其模拟*，详情请见），将这样的订单发送到市场称为**以特定价格**买入或卖出。
- en: Note
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'Although a limit order helps limit the price (to avoid buying too high or selling
    too low), it is not guaranteed that such an order will be executed at all: there
    may be no buyers who would like to buy from you or no sellers to sell to you at
    your desired price.'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管限价订单有助于限制价格（避免买高卖低），但并不能保证这样的订单一定会被执行：可能没有买家愿意以你的价格从你那里购买，或者没有卖家愿意以你期望的价格向你出售。
- en: 'As with any auction, the price of the traded asset can jump or fall very quickly.
    Thus, for us as algo trading developers, it’s important to remember that in such
    a market it would be a good idea to follow some useful guidelines:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 就像任何拍卖一样，交易资产的 价格可能会迅速上涨或下跌。因此，对于我们作为算法交易开发者来说，记住在这样一个市场中遵循一些有用的指南是很重要的：
- en: Never buy at market without checking the supply first. Such an action would
    mean *“I am ready to buy this at whatever price will be”* and you will be filled
    at the worst possible price.
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在检查供应之前，永远不要在市价买入。这样的行为意味着“**我愿意以任何价格买入**”并且你将以最糟糕的价格成交。
- en: Never sell at market at all. Always specify the price you’re ready to sell at.
    It is essential to send your sell orders in advance, posting the price you’re
    ready to sell.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 永远不要在市价卖出。始终指定你愿意卖出的价格。提前发送你的卖出订单，标明你愿意卖出的价格是至关重要的。
- en: Exchange and order book
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 交易所和订单簿
- en: Buyers and farmers arrive at the market, but do not enter it. Instead, they
    are welcomed by an officer who records their bids (orders to buy) and offers (orders
    to sell) in a book. If a new buyer comes in with a bid at $10 but there is already
    another order at $10 in the officer’s book, then this newcomer’s order is placed
    in the queue and will be filled only after the previous order has been executed.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 买家和农民到达市场，但并不进入。相反，他们被一位官员欢迎，官员在册子上记录他们的出价（买入订单）和出价（卖出订单）。如果一位新的买家带着10美元的出价进入，而官员的册子上已经有10美元的订单，那么这位新来者的订单将被放入队列，并且只有在先前的订单被执行之后才会被填满。
- en: Similarly, farmers do not show off their goods on shelves; instead, the same
    officer records their offers (the prices at which they would like to sell goods).
    Similar to buyers, if a new farmer comes in with an offer to sell at $11 and there
    is already another farmer willing to sell at $11, then the newcomer’s order is
    recorded in the book after the already existing order and will be executed only
    after the preceding order has been filled.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，农民不会在货架上展示他们的商品；相反，同样的官员会记录他们的出价（他们愿意以什么价格卖出商品）。与买家类似，如果一位新的农民带着以11美元的价格卖出的出价进入，而已经有另一位农民愿意以11美元的价格卖出，那么新来者的订单将在现有订单之后记录在册，并且只有在先前的订单被填满之后才会执行。
- en: As long as buyers come in with prices lower than offered and farmers do not
    want to sell at a lower price, no contract is made and no trade happens.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 只要买家出价低于出价，而农民不愿意以更低的价格卖出，就不会达成合同，也不会发生交易。
- en: 'So, in such a market, the only way for a trade to happen is as follows:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在这样的市场中，交易发生的唯一方式如下：
- en: A buyer agrees to buy at a higher price
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个买家同意以更高的价格买入
- en: A farmer agrees to sell at a lower price
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个农民同意以更低的价格卖出
- en: 'Although it looks a bit awkward from a common sense standpoint, such an organization
    of the market has a clear advantage: all buyers and sellers are served on a **first
    in – first out** (**FIFO**) basis and have equal opportunities.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然从常识的角度来看可能有点尴尬，但这样的市场组织有一个明显的优势：所有买家和卖家都按照**先进先出**（**FIFO**）的原则服务，并且有平等的机会。
- en: The marketplace which works this way is also called an exchange and the officer
    who registers bids and asks is today replaced by computers and is normally called
    **matching engine**. The book into which bids and offers are recorded is called
    the **order book**. The information about orders in the book is called **depth
    of market** or **DOM**.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 以这种方式运作的市场也被称为交易所，而登记出价和要价的官员今天已被计算机取代，通常被称为**撮合引擎**。记录出价和要价的簿称为**订单簿**。簿中订单的信息称为**市场深度**或**DOM**。
- en: Note
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Open outcry and order book trading can co-exist at the same exchange and for
    the same market. For example, stock trading sessions start with an opening auction
    and then continue with trading through the order book.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 开放式喊价和订单簿交易可以在同一交易所和同一市场上共存。例如，股票交易时段从开盘拍卖开始，然后通过订单簿继续交易。
- en: The difference between the highest bid and the lowest offer price is called
    the **spread**. When someone concludes a deal, it is called **crossing** **the
    spread**.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 最高出价和最低要价之间的差额称为**价差**。当有人达成交易时，这被称为**跨越****价差**。
- en: 'From a programmer’s standpoint, we have a two-dimensional structure where the
    price is along the vertical axis and orders are along the horizontal one. As new
    orders come in, they are sent to the respective FIFO queue on each price level
    and are called **limit orders**. *Figure 3**.1* presents a schematic view of such
    a structure, where each block in a horizontal lane means the number of contracts
    sent to the order book as the limit order size:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 从程序员的视角来看，我们有一个二维结构，其中价格沿垂直轴，订单沿水平轴。当新的订单到来时，它们会被发送到每个价格水平上的相应FIFO队列，并被称为**限价订单**。*图3.1*展示了这种结构的示意图，其中水平通道中的每个方块代表作为限价订单大小的发送到订单簿的合约数量：
- en: '![Figure 3.1 – The two-dimensional nature of the order book](img/B19145_3_1.jpg)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![图3.1 – 订单簿的二维性质](img/B19145_3_1.jpg)'
- en: Figure 3.1 – The two-dimensional nature of the order book
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.1 – 订单簿的二维性质
- en: Important note
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: If you send an order and there are 10 more orders already in the book, your
    order is going to be filled only after all 10 preceding orders have been filled.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你发送了一个订单，并且已经有10个订单在待处理中，你的订单将只有在所有10个先前的订单都处理完毕后才会被处理。
- en: 'This is why *a lot* of trading strategies that use limit orders work well only
    *on paper*, that is, they rely on guaranteed execution of all generated orders,
    while in reality only 40-50% of these orders are indeed executed. We will look
    into this and other problems in detail in [*Chapter 10*](B19145_10.xhtml#_idTextAnchor171)*,
    Types of Orders and Their Simulation in Python*. *Figure 3**.2* shows a typical
    DOM for one of the exchange-traded assets:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是为什么许多使用限价订单的交易策略仅在**纸上**有效，也就是说，它们依赖于所有生成订单的保证执行，而在现实中，只有40-50%的这些订单确实被执行。我们将在[*第10章*](B19145_10.xhtml#_idTextAnchor171)*，Python中订单类型及其模拟的详细探讨中探讨这个问题和其他问题。*图3.2*显示了交易所交易资产的典型DOM。
- en: '![Figure 3.2 – DOM screen shows consolidated liquidity on each price level
    (level 2 data) – source: MultiCharts](img/B19145_3_2.jpg)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![图3.2 – DOM屏幕显示了每个价格水平的综合流动性（二级数据） – 来源：MultiCharts](img/B19145_3_2.jpg)'
- en: 'Figure 3.2 – DOM screen shows consolidated liquidity on each price level (level
    2 data) – source: MultiCharts'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.2 – DOM屏幕显示了每个价格水平的综合流动性（二级数据） – 来源：MultiCharts
- en: 'This window shows the consolidated liquidity instead of individual orders:
    the sizes of all orders for a particular price level are summed and the sum is
    displayed to the left or to the right of the price axis.'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 这个窗口显示了综合流动性而不是单个订单：特定价格水平的所有订单的大小被汇总，总和显示在价格轴的左侧或右侧。
- en: Important note
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Level 2 data normally does not contain information about individual orders,
    so you never know whether 1,000 contracts means a single order from a solid large-volume
    trader or 1,000 orders by 1 contract sent by retail traders.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 二级数据通常不包含关于单个订单的信息，因此你永远不知道1000个合约意味着一个来自大量交易者的单一订单，还是零售交易者通过每个合约发送的1000个订单。
- en: Exchanges are de-facto industry standard trading venues for equities (stocks,
    exchange-traded funds, and so on), commodities, and some derivatives. In the FX
    world, mostly derivatives, such as currency futures, are traded at exchanges.
    Most of the cash, swaps, and forward contracts are traded **over the** **counter**
    (**OTC**).
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 交易所实际上是股票（股票、交易所交易基金等）、商品和一些衍生品的行业标准交易场所。在FX世界中，主要是衍生品，如货币期货，在交易所交易。大部分现金、掉期和远期合约都是在**场外**（**OTC**）交易的。
- en: OTC markets
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 场外交易市场
- en: Farmers arrive at the market but do not reveal their goods at all. Buyers walk
    between them and ask for the price. The farmer looks at the buyer and decides
    what price to offer based on the buyer’s appearance.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 农民来到市场，但并不展示他们的商品。买家在他们之间走动，询问价格。农民看着买家，根据买家的外观决定提供什么价格。
- en: This scenario may sound truly ridiculous, but it gives a very good first impression
    of how an OTC market works.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 这种情况听起来可能确实很荒谬，但它很好地展示了场外交易市场是如何运作的。
- en: 'As we saw previously, in the case of an exchange-traded market, all market
    participants at any moment know the *three* *key prices*:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，在交易所交易市场中，任何时刻的所有市场参与者都知道*三个*关键价格：
- en: Best bid
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最佳买价
- en: Best ask
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最佳卖价
- en: Last trade
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最后交易
- en: These prices are identical for everyone and the difference between professional
    and non-professional market participants is mostly in the latency of the data
    feed and some data compression (see [*Chapter 1*](B19145_01.xhtml#_idTextAnchor014)*,
    Developing Trading Strategies - Why They Are Different*, for the discussion on
    market data and related issues). So, in exchange-traded markets, these three prices
    are commonly called **market price**.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 这些价格对每个人都是相同的，专业市场参与者与非专业市场参与者之间的主要区别在于数据馈送延迟和数据压缩（有关市场数据及相关问题的讨论，请参阅[*第一章*](B19145_01.xhtml#_idTextAnchor014)*，开发交易策略
    - 为什么它们不同*）。因此，在交易所交易市场中，这三个价格通常被称为**市场价格**。
- en: The term *OTC* means in the financial world that the contract can be made at
    virtually any price as long as this price satisfies the buyer and the seller –
    regardless of whatever price at which the previous contract was made.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 在金融世界中，*OTC*一词意味着只要价格满足买方和卖方，就可以在几乎任何价格下签订合同——无论之前的合同是在什么价格下签订的。
- en: In essence, this renders the very concept of market price meaningless to a considerable
    extent because not all of these prices are reported and made publicly available.
    Therefore, in OTC markets there is no such thing as a public quotation (as is
    the case with exchange-traded markets) but instead, they use *indicative price*,
    which is an *approximate* representation of the last traded price or a number
    of last traded prices.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 从本质上讲，这在很大程度上使市场价格的概念变得毫无意义，因为并非所有这些价格都被报告并公开。因此，在场外交易市场中，没有像交易所交易市场那样的公开报价，而是使用*指示性价格*，这是最后交易价格或最后几个交易价格的近似表示。
- en: At this point, I think it will be natural for you to ask, *“wow, but who uses
    these markets and why?”* The answer is very simple and can be found in the structure
    of the exchange-traded market.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我想你自然会问，“哇，但是谁使用这些市场，为什么？”答案非常简单，可以在交易所交易市场的结构中找到。
- en: As you hopefully remember from the previous section, any exchange-traded market
    is based on the order book. The number of orders in the order book forms liquidity
    in this market.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 希望你能从上一节中回忆起来，任何交易所交易市场都是基于订单簿的。订单簿中的订单数量形成了该市场的流动性。
- en: Now, imagine a situation when a really large market participant (such as a hedge
    fund, a mutual fund, an investment bank, and so on) comes in with a desire to
    buy a really large amount of an asset and the amount *exceeds the existing liquidity*.
    Such an action would swipe the entire order book by moving the last trade price
    very far from the previous readings in a moment and even worse – leaving one side
    of the order book totally empty. Of course, this is a scenario that all market
    participants and the exchange itself would like to avoid.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，想象一下，当一个大型的市场参与者（如对冲基金、共同基金、投资银行等）带着购买大量资产的愿望进入市场，而这个数量*超过了现有的流动性*。这样的行动会在一瞬间将最后交易价格移动到之前的读数非常远，甚至更糟的是——使订单簿的一侧完全空出。当然，这是一个所有市场参与者和交易所本身都希望避免的场景。
- en: So, here comes the OTC market. If you are a bank dealer, you can find the best
    price for your large order over your own network of contacts and do it privately,
    without too much fanfare about it.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，这就是OTC市场。如果你是银行交易员，你可以在自己的联系网络中找到你大宗订单的最佳价格，并且可以私下进行，而不需要太多的喧嚣。
- en: Another important feature of OTC markets is that they are far less regulated
    than regular, exchange-traded markets. There were attempts to add regulation to
    these markets, the most remarkable probably being MiFID and MiFID II, but still,
    OTC markets are far more *relaxed*. If you are interested in learning more about
    market regulations and how they impact pricing, liquidity, and overall trading,
    I would recommend starting with [https://tokenist.com/investing/guide-to-forex-regulations-in-the-us/](https://tokenist.com/investing/guide-to-forex-regulations-in-the-us/)
    where the basics are explained. I would also recommend reading this interview
    with Phil Lloyd, head of trading and sales delivery at NatWest ([https://www.natwest.com/corporates/insights/regulation/regulation-and-market-structure-what-to-look-out-for-in-2021.html](https://www.natwest.com/corporates/insights/regulation/regulation-and-market-structure-what-to-look-out-for-in-2021.html)),
    who provides very interesting insights on global challenges, changes in regulations,
    and their relationships with the market.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 场外交易市场的另一个重要特征是，它们比常规的交易所交易市场受到的监管要少得多。有人试图对这些市场进行监管，其中最引人注目的可能是MiFID和MiFID
    II，但仍然，OTC市场要宽松得多。如果你对市场法规及其对定价、流动性和整体交易的影响感兴趣，我建议从[https://tokenist.com/investing/guide-to-forex-regulations-in-the-us/](https://tokenist.com/investing/guide-to-forex-regulations-in-the-us/)开始学习，那里解释了基础知识。我还建议阅读与NatWest交易和销售交付部门负责人Phil
    Lloyd的访谈[https://www.natwest.com/corporates/insights/regulation/regulation-and-market-structure-what-to-look-out-for-in-2021.html](https://www.natwest.com/corporates/insights/regulation/regulation-and-market-structure-what-to-look-out-for-in-2021.html)，他提供了关于全球挑战、法规变化及其与市场关系的非常有趣的见解。
- en: Understanding the structure of OTC markets leads us to a number of very important
    conclusions.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 理解场外交易市场（OTC）的结构可以引导我们得出许多非常重要的结论。
- en: First, OTC markets are ideal for large-volume trades. If you are a small retail
    trader then trading at an OTC market would probably be problematic because of
    the arbitrary pricing – and you can be sure that small traders always get the
    worst possible execution for their orders.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，场外交易市场非常适合大宗交易。如果你是一个小型零售交易者，那么在OTC市场进行交易可能会遇到问题，因为价格是任意的——你可以确信小型交易者总是得到他们订单最糟糕的执行。
- en: Second, you cannot really know at which price your order will be executed if
    you send a market order (an order to buy *right now*, regardless of the price).
    You won’t ever be able to argue about the price at which your trade was made.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 第二，如果你发送一个市价订单（一个立即购买，无论价格的订单），你实际上无法知道你的订单将以什么价格执行。你永远无法就交易的价格进行争论。
- en: Note
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: As the immediate corollary from the aforementioned, you should always check
    the actual price at which your order was executed in your code and subtract a
    certain amount from the theoretical returns of your model while doing tests. This
    will make the theoretical results at least a tiny bit closer to reality.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述的直接推论，你应该始终检查你的订单实际执行的价格，并在测试时从你模型的预期回报中减去一定金额。这将使理论结果至少稍微接近现实。
- en: The third, and probably the most counterintuitive conclusion is the fact that
    in an OTC market *there can be multiple different prices for the same financial
    instrument*. It is normal that each liquidity provider, market maker, bank, fund,
    and any other market participant in such a market offers their own price for the
    same product and that these prices co-exist at the very same moment in time.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 第三个，也许是最反直觉的结论是，在OTC市场中，对于同一金融工具可能会有多个不同的价格。每个流动性提供者、做市商、银行、基金以及任何其他市场参与者都为同一产品提供自己的价格，并且这些价格在同一个时间点同时存在，这是正常的。
- en: 'This market fragmentation can be exploited by **arbitrage strategies**: strategies
    that look for situations where the same instrument is quoted differently at different
    trading venues. They make money by simultaneously buying and selling the same
    instrument at different trading venues in cases where the price difference is
    sufficient.'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 这种市场分割可以通过**套利策略**来利用：寻找在不同交易场所同一工具报价不同的情况。在价格差异足够的情况下，他们通过同时在不同的交易场所买卖同一工具来赚钱。
- en: Note
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Arbitrage strategies can be developed and tested using Python but they cannot
    actually be run using it because arbitrage opportunities typically last for milliseconds.
    Production code for arbitrage strategies is normally written in C or C++, or by
    using Numba or Cython (see [*Chapter 2*](B19145_02.xhtml#_idTextAnchor028), *Using
    Python for* *Trading Strategies*).
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用Python开发和测试套利策略，但无法实际运行它们，因为套利机会通常只持续几毫秒。套利策略的生产代码通常用C或C++编写，或者使用Numba或Cython（见[*第2章*](B19145_02.xhtml#_idTextAnchor028)，*使用Python进行交易策略*）。
- en: Fourth, you can never, ever offer your own price in this market – unlike an
    exchange-traded market, where any order, even one contract received from a retail
    trader, goes into the *same order book*, which is identical for everyone. You
    can only accept the price offered by other market participants who have permission
    to post prices into this market. These market participants are called **liquidity
    providers** or **market makers** (although it’s important to note that these are
    not synonyms) and they are commonly known as **price givers**, while retail traders
    (or any other trader who only accepts offered prices) are known as **price takers**.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 第四，你永远不能在这个市场上提出自己的价格——与交易所交易市场不同，在交易所交易市场中，任何订单，即使是来自零售交易者的一个合约订单，都会进入**同一订单簿**，对每个人来说都是相同的。你只能接受有权将价格发布到这个市场的其他市场参与者的价格。这些市场参与者被称为**流动性提供者**或**做市商**（尽管重要的是要注意，这些不是同义词），他们通常被称为**价格提供者**，而零售交易者（或任何只接受报价的其它交易者）被称为**价格接受者**。
- en: Finally, the worst news for us, the FX traders, is that about 90% of the FX
    market is traded OTC. So, we have to live with it and find the right solutions
    to survive in this quite unfriendly environment.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，对我们这些外汇交易员来说最糟糕的消息是，大约90%的外汇市场是在场外交易（OTC）进行的。因此，我们必须接受这个现实，并找到合适的解决方案来在这个相当不友好的环境中生存下去。
- en: Liquidity and order limitations
  id: totrans-84
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 流动性和订单限制
- en: A trading venue in the financial world is not only a place where buyers meet
    sellers but they also trade under the supervision of the venue’s management. Thus,
    a traditional farmers’ market is not a financial trading venue in this regard,
    whereas a stock exchange definitely is. The key difference is that trading at
    a trading venue is always supervised or moderated. For example, if someone comes
    into a grocery market and offers to buy whatever produce the sellers have at the
    moment, most likely, the farmers will sell the produce and the market will close
    till next Sunday. If anything similar happens in the financial world, it would
    be a real disaster. So, the trading venue always moderates incoming orders, and
    if the requested trading size is too big, the order will be rejected (or, to be
    more precise, considered a **block order** and treated in a special way – see
    [*Chapter 10*](B19145_10.xhtml#_idTextAnchor171)*, Types of Orders and Their Simulation*
    *in Python*).
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在金融世界中，交易场所不仅是一个买方和卖方相遇的地方，而且交易是在场所管理机构的监督下进行的。因此，从这个角度来看，一个传统的农贸市场不是一个金融交易场所，而证券交易所肯定是一个。关键的区别在于，在交易场所的交易总是受到监督或调节的。例如，如果有人进入一个杂货市场，并提出购买卖家当时拥有的任何产品，那么很可能会发生的情况是，农民会卖掉产品，市场将在下周日关闭。如果在金融世界中发生类似的事情，那将是一场真正的灾难。因此，交易场所总是调节进入的订单，如果请求的交易规模太大，订单将被拒绝（或者更准确地说，被视为**阻塞订单**并按特殊方式处理——见[*第10章*](B19145_10.xhtml#_idTextAnchor171)*，Python中的订单类型及其模拟*）。
- en: Another possible issue with order execution is *partial fill*. This happens
    when the liquidity in the order book is not sufficient to fill the entire order,
    so only part of the order is filled. Normally, you can explicitly specify the
    order type which decides whether the order is to be rejected or partially filled
    if the liquidity is not sufficient. In either case, you have to add an order execution
    control module to your trading application that handles, rejects, and partially
    fills orders.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 订单执行的另一个可能问题是**部分成交**。这发生在订单簿中的流动性不足以完全填满订单时，因此只有订单的一部分被填满。通常，你可以明确指定订单类型，以决定在流动性不足的情况下订单是被拒绝还是部分成交。在任何情况下，你都必须在你的交易应用中添加一个订单执行控制模块，该模块处理、拒绝和部分成交订单。
- en: Getting your order filled at a non-desired price is probably the last thing
    you may want to happen, and still, it is quite possible if you use market orders
    (remember, a market order means *“I want to buy/sell now, regardless of the price”*).
    Now, you understand the reasons why an order may be filled at an *unexpected*
    price – those same liquidity issues. So, in production, it is reasonable to consider
    using limit orders instead of market orders even if the strategy assumes buying
    and selling at market.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 以非期望的价格完成订单可能是你最不希望发生的事情，但如果你使用市价订单（记住，市价订单意味着“我想要现在买/卖，不管价格如何”），这种情况还是相当可能的。现在，你理解了为什么订单可能会以*意外*的价格成交——那些相同的流动性问题。因此，在生产环境中，即使策略假设在市场上买卖，考虑使用限价订单而不是市价订单也是合理的。
- en: Ordering will be discussed in detail in [*Chapter 10*](B19145_10.xhtml#_idTextAnchor171)*,
    Types of Orders and Their Simulation* *in Python*.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 订单将在[*第10章*](B19145_10.xhtml#_idTextAnchor171)“订单类型及其在Python中的模拟”中详细讨论。
- en: Now that we’ve got more or less familiar with the most general types of trading
    venues, it’s time we familiarized ourselves with their market participants. This
    will give us a better understanding of how trades are made and which risks to
    expect and avoid in the market.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们对最常见的交易场所类型有了一定的了解，是时候让我们熟悉它们的市场参与者了。这将使我们更好地理解交易是如何进行的，以及我们应该在市场上预期和避免哪些风险。
- en: But before we proceed to market participants, let’s learn some new terms.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 但在我们继续讨论市场参与者之前，让我们学习一些新术语。
- en: Trade mechanics – again, some terminology
  id: totrans-91
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 交易机制——再次，一些术语
- en: A trade is made when two parties meet and agree to buy or sell from each other.
    These parties are called **counterparties**.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 当双方会面并同意相互买卖时，就完成了交易。这些方被称为**对手方**。
- en: If I buy 1 million euros for the equivalent in US dollars and the exchange rate
    is 1.1, then I paid 1.1 million US dollars to have *a position* of 1 million EURUSD.
    I am going to have this position until I sell back this amount of euros for the
    equivalent amount of US dollars and, therefore, *liquidate* my position and become
    *market neutral* again until I open a new position.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我用一百万欧元兑换成美元，并且汇率是1.1，那么我支付了110万美元来持有1百万EURUSD的*头寸*。我将持有这个头寸，直到我以等值的美元卖回这些欧元，从而*清算*我的头寸，再次成为*市场中性*，直到我开设新的头寸。
- en: If I improve the asking price by sending an offer that is lower than the previous
    best offer, then I *provide liquidity* to the market.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我通过发送低于先前最佳出价的出价来提高要价，那么我向市场*提供流动性*。
- en: If I simultaneously improve ask *and* bid, and other traders become counterparties
    for both, then I *make the market*. Making the market means earning the spread
    (the difference between bid and offer) while remaining market neutral. The market
    participant whose main business is making the market is called a **market maker**.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我同时提高*要价*和*出价*，并且其他交易者成为双方的对手方，那么我就*制造市场*。制造市场意味着赚取价差（出价和要价之间的差额）同时保持市场中性。主要业务是制造市场的市场参与者被称为**做市商**。
- en: As opposed to making the market or being a *price giver*, traders who take the
    other side of the trade are *price takers*. Price takers can only buy or sell
    at the prices offered by price givers, and unlike price givers, price takers *always
    pay* *the spread*.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 与成为市场或*价格提供者*相反，接受交易另一方的交易者被称为*价格接受者*。价格接受者只能以价格提供者提供的价格买卖，而且与价格提供者不同，价格接受者*总是支付**价差*。
- en: Important
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 重要
- en: If a price taker opens any position using a market order, the very moment the
    position is opened, its running profit is already in the negative zone.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个价格接受者使用市价订单开设任何头寸，那么在头寸开设的瞬间，其运行利润就已经进入了负值区域。
- en: This happens because, in most markets, offer prices are always greater than
    bid prices, and price takers can only buy at the offer price and sell at the bid
    price. Therefore, if you bought an asset, this means you paid the offer price.
    If you want to immediately liquidate your position, you can do that only at the
    bid price. If the market price hasn’t changed since the moment you entered the
    market, you will lose the difference between the bid and ask prices – which is
    the spread. That’s why we say that price takers always pay the spread to price
    givers, who in turn, earn the spread.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 这是因为，在大多数市场中，卖出价格总是高于买入价格，而价格接受者只能以卖出价格买入，以买入价格卖出。因此，如果你购买了一种资产，这意味着你支付了卖出价格。如果你想立即平仓你的头寸，你只能以买入价格这样做。如果自你进入市场以来市场价格没有变化，你将损失买入和卖出价格之间的差额——这就是价差。这就是为什么我们说价格接受者总是向价格提供者支付价差，而价格提供者反过来赚取价差。
- en: If I buy an asset then I have a *long* position. This term came from stock trading
    and means that you bought something and now hold it (normally, investors hold
    shares for a long time). If I sell an asset, and this sale was not liquidation
    of a previously opened long position, then I have a *short* position. Again, this
    term has the same origin and means that you sold something without previously
    having it.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我购买了一种资产，那么我就有一个**多头**头寸。这个术语来自股票交易，意味着你购买了一些东西，现在持有它（通常，投资者会长期持有股票）。如果我出售了一种资产，并且这次出售不是之前开立的多头头寸的平仓，那么我就有一个**空头**头寸。同样，这个术语有相同的起源，意味着你在没有拥有它的情况下出售了某物。
- en: You may wonder how it’s possible to sell something that you don’t own. Well,
    in financial markets it’s really easy. If we talk about equities trading then
    most brokers have an *inventory* of equities and traders can borrow from this
    inventory to sell. If the price of the asset sold this way goes down further,
    then the trader liquidates the position, returns the asset to the broker, and
    pockets some profit. If the price of the asset goes up then… well, the trader
    liquidates the position anyway, returns the asset to the broker, and pays the
    difference – which means pocketing a loss this time.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会想知道如何卖出你并不拥有的东西。好吧，在金融市场这真的很简单。如果我们谈论股票交易，那么大多数经纪人都有一份**库存**，交易者可以从这份库存中借来出售。如果以这种方式出售的资产价格进一步下跌，那么交易者就会平仓头寸，将资产归还给经纪人，并从中获得一些利润。如果资产价格上升……好吧，交易者无论如何都会平仓头寸，将资产归还给经纪人，并支付差额——这意味着这次会亏损。
- en: 'If I have a position, then my profit (or loss) is calculated as the difference
    between the price at which the position is liquidated and the price at which I
    bought it. If I opened a long position and the liquidation price is greater than
    the opening price then I made a profit; if it is lower then I suffer a loss. Symmetrically,
    for short positions: if the liquidation price is lower than the opening price
    then I made a profit, and vice versa.'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我持有头寸，那么我的利润（或亏损）将计算为平仓价格与购买价格之间的差额。如果我开了一个多头头寸，并且平仓价格高于开仓价格，那么我就赚了钱；如果它更低，那么我就亏损。对于空头头寸来说，情况是对称的：如果平仓价格低于开仓价格，那么我就赚了钱，反之亦然。
- en: As long as I have an open position, my *potential* profit or loss can be recalculated
    at any moment, even if the position is not liquidated yet. This potential profit
    or loss is called **running profit or loss** (**running PnL** or **P/L**).
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 只要我持有开放的头寸，我的**潜在**利润或亏损可以在任何时刻重新计算，即使头寸尚未平仓。这种潜在利润或亏损被称为**滚动利润或亏损**（**滚动PnL**或**P/L**）。
- en: To be able to send orders to the market, I either have to be a member of an
    exchange with direct access to the order book (which is quite expensive) or use
    the services of a third party that takes my orders and brings them to the market.
    Such a third party is called a **broker**.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 要能够向市场发送订单，我必须要么成为有权直接访问订单簿的交易所的成员（这相当昂贵），要么使用第三方服务，该服务接受我的订单并将它们带到市场。这样的第三方被称为**经纪人**。
- en: Important note
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: There is a lot of confusion between brokers and market makers in FX trading.
    Read the following sections carefully as we are going to clarify this confusion
    once and for all.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 在外汇交易中，经纪人和做市商之间存在着很多混淆。请仔细阅读以下部分，因为我们将要一次性澄清这种混淆。
- en: If I have $100 and the rate of the euro versus the US dollar is 1.1, then I
    can buy approximately €91\. But if the broker provides me with a **credit line**,
    then I can buy from €3,000 to €9,000, or even more with just my $100\. This credit
    line is called a **margin** and the ratio of how much I could buy without a margin
    to how much I can buy with a margin is called the **leverage**. Normally, the
    leverage in the FX market is up to 30:1 for non-professionals and 100:1 for professional
    traders.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我有100美元，欧元兑美元的汇率为1.1，那么我可以购买大约91欧元。但如果经纪人给我提供**信用额度**，那么我可以用100美元购买从3000欧元到9000欧元，甚至更多。这个信用额度被称为**保证金**，而我能够不使用保证金购买的数量与使用保证金可以购买的数量之比称为**杠杆率**。通常，外汇市场上的杠杆率对非专业人士高达30:1，对专业交易者高达100:1。
- en: If I opened a position on a margin and the market price moved against me to
    the extent that I have nothing in my trading account, then I would have entered
    a situation called a **margin call**. Historically, this meant that the broker
    would call the client asking to add funds to the account to maintain the position.
    Such a practice is difficult to find today, at least among retail brokers. Today,
    brokers prefer to just force close the positions that drive the client’s account
    into the negative zone because otherwise, it may cause problems not only for the
    client but also for the broker.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我在保证金上开仓，并且市场价格变动对我不利，以至于我的交易账户中没有任何资金，那么我就进入了被称为**保证金追缴**的情况。从历史上看，这意味着经纪人会联系客户，要求向账户添加资金以维持仓位。这种做法现在很难找到，至少在零售经纪人中是这样。今天，经纪人更愿意强制平仓那些将客户的账户推入负区的仓位，否则，这不仅可能给客户带来问题，也可能给经纪人带来问题。
- en: If I open a position on margin then the size of my position is called the **notional
    amount**. This means that I don’t actually possess €9,000 if I opened a long position
    in EURUSD with the $100 in my account and a leverage of 100:1\. I have a notional
    position of €9,000, which I would have to liquidate before any *real* money condenses
    in (or thaws from) the trading account.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我在保证金上开仓，那么我的仓位大小被称为**名义金额**。这意味着，如果我使用账户中的100美元以100:1的杠杆在EURUSD上开了一个多头仓位，那么我实际上并不拥有9000欧元。我有一个名义上的9000欧元仓位，我必须在任何**实际**资金进入（或从）交易账户之前将其平仓。
- en: If I buy an asset directly, then it is an **outright** asset. If I buy a financial
    instrument that gives me the right or obliges me to buy or sell the asset in the
    future, then it is a **derivative** asset. In fact, derivatives can be much more
    sophisticated than this but they are mostly available to only professional market
    participants. A discussion on derivatives is way beyond the scope of this book.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我直接购买资产，那么它是一个**现货**资产。如果我购买一个给予我或使我未来有权或义务买卖资产金融工具，那么它是一个**衍生品**资产。实际上，衍生品可能比这更复杂，但它们主要只对专业市场参与者可用。关于衍生品的讨论超出了本书的范围。
- en: 'If I buy an *obligation to buy or sell the asset in the future at a certain
    price on a certain date,* then I am buying a **future contract**, or simply a
    **future**. The date is called an **expiration date** or simply an **expiration**.
    For example, the current price of the asset is $10 but I may buy a future that
    guarantees that its seller will sell me the same asset at $9 in a month, a quarter,
    or any other time span. Then, this month, quarter, or other time span is the expiration
    term of this future contract. In the case that the price of the asset itself is
    greater than $9 by its expiration, then I make money: the seller of the future
    is obliged to sell me the asset at $9 and I can immediately resell it at a higher
    price. If the price of the asset by the expiration is lower than $9, then I lost
    money as I now have the obligation to buy the asset at $9 anyway and I can do
    whatever I want with it (most likely sell and take a loss).'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我购买了一个在未来某个日期以某个价格买卖资产的**义务**，那么我就是在购买一个**期货合约**，或者简单地称为**期货**。这个日期被称为**到期日**或简单地称为**到期**。例如，当前资产的价格是10美元，但我可能购买一个保证在一个月、一个季度或任何其他时间段内以9美元将同一资产卖给我的期货合约。那么，这个月、这个季度或这个其他时间段就是该期货合约的到期期限。如果资产本身的价格在其到期日时高于9美元，那么我就赚钱了：期货的卖方有义务以9美元的价格将资产卖给我，而我可以立即以更高的价格将其转售。如果资产在到期日的价格低于9美元，那么我就亏损了，因为我现在有义务以9美元的价格购买资产，并且我可以随意处理它（最可能的是出售并承担损失）。
- en: If I buy the *right to buy or sell the asset in the future at a certain price*,
    then I am buying an **option**. Options trading is quite a complex subject and
    is not considered in this book.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我购买*在未来以特定价格购买或出售资产的权利*，那么我是在购买一个**期权**。期权交易是一个相当复杂的话题，本书不予考虑。
- en: That is enough on terminology. Now that we know all we need to learn about the
    key market participants, we need to know what they do and how we can actually
    participate in this market as well.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 关于术语就讲到这里。现在我们已经了解了关于关键市场参与者的所有需要学习的内容，我们需要知道他们做什么，以及我们如何实际上参与这个市场。
- en: Market makers – comfortable, sophisticated, expensive
  id: totrans-114
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 做市商——舒适、复杂、昂贵
- en: The term *market makers* actually has two different meanings, although they
    lie quite close to each other.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: “做市商”这个术语实际上有两个不同的含义，尽管它们非常接近。
- en: In cases where both buyers and sellers need to meet each other at a single *marketplace*
    – which is an exchange in most cases, as we saw earlier – such a market is called
    a **two-sided market**. In two-sided markets, market makers provide liquidity
    to the market and this activity will be considered in the *Liquidity providers
    – the whales that support this* *planet* section.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 在买家和卖家需要在单个**市场**（在大多数情况下，如我们之前所见，这是一个交易所）相遇的情况下——这种市场被称为**双边市场**。在双边市场中，做市商为市场提供流动性，这项活动将在*流动性提供者——支持这个*
    *星球* *的鲸鱼*部分进行考虑。
- en: In OTC markets, the situation is different. In these markets, only dedicated
    market participants can publish their bids or offers, and in some cases, they
    are not published at all. So, finding a counterparty for your trade could potentially
    be even more complex than in a two-sided market, and given that the quoting is
    not public, you can get your orders executed at really surprising prices (and
    of course, it’s not going to be a pleasant surprise).
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 在场外交易市场中，情况不同。在这些市场中，只有专门的市场参与者可以发布他们的出价或要价，在某些情况下，它们甚至根本不发布。因此，寻找交易对手方进行交易可能比在双边市场中更加复杂，而且由于报价不是公开的，你可能会以非常令人惊讶的价格执行你的订单（当然，这不会是一个愉快的惊喜）。
- en: So, at this point, enter the market makers. In OTC markets, market makers act
    both as liquidity providers and counterparties for their own clients.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在这个时候，我们来看看做市商。在场外交易市场中，做市商既作为流动性提供者，也作为他们自己客户的对手方。
- en: What does this mean?
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着什么呢？
- en: Counterparties that provide liquidity
  id: totrans-120
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 提供流动性的交易对手方
- en: If you come to an exchange, then your orders are visible to all other market
    participants and anyone can take the other side of the order. Say, you want to
    buy just one contract of a currency future – then you can actually buy it from
    a retail trader and from a large bank (but, most likely, you will never know who
    was the seller). But if you trade with a market maker, then it is this very market
    maker – and no one else – who will be the counterparty for all your orders. Only
    this market maker will always buy from you and sell to you.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你来到一个交易所，那么你的订单对所有其他市场参与者都是可见的，任何人都可以接受订单的另一面。比如说，你只想买一份货币期货合约——那么你实际上可以从零售交易员和大型银行那里购买（但，你很可能永远不知道卖家是谁）。但是如果你与做市商交易，那么正是这个做市商——而不是其他人——将成为你所有订单的对手方。只有这个做市商才会始终从你这里购买并向你出售。
- en: It means that a market maker is a professional market participant who *quotes
    the market for their clients*. These quotes are different for different clients
    and mostly depend on the trading volume of the client and their order size.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着做市商是专业的市场参与者，*为他们的客户提供市场报价*。这些报价对不同客户而言是不同的，主要取决于客户的交易量和订单规模。
- en: How do market makers make money?
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 做市商是如何赚钱的？
- en: Market makers are rewarded by earning the *spread* (the difference between the
    bid and the ask), and in this regard, their business is very similar to that of
    a liquidity provider. Market makers always sell at a price that is greater than
    the price at which they are ready to buy. So in cases where there are multiple
    clients with this market marker that generate a constant **order flow** (stream
    of orders to buy and sell at virtually the same time), then our market maker buys
    and sells simultaneously, pocketing the difference between bids and asks.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 做市商通过赚取*价差*（出价和要价之间的差额）来获得回报，在这方面，他们的业务与流动性提供者的业务非常相似。做市商总是以高于他们准备购买的价格出售。因此，在存在多个客户且这些客户产生持续**订单流**（几乎同时购买和出售的订单流）的情况下，我们的做市商会同时买入和卖出，赚取出价和要价之间的差额。
- en: As you can see, the source of profits for market makers is quite different from
    that of their clients. Market makers as *price givers* (see the *OTC markets*
    section) remain *market neutral,* while their clients open and close *positions*
    in the market due to situations when the clients have bought something but haven’t
    sold it yet.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所见，做市商的利润来源与他们的客户截然不同。作为*价格提供者*（见*场外交易市场*部分），做市商保持*市场中性*，而他们的客户由于客户购买了某物但尚未出售的情况，在市场上开仓和平仓*头寸*。
- en: 'However, the market maker from which I bought and then sold my position to
    has remained market neutral while I had a position because they have multiple
    clients and, most likely, at the very same moment when I was buying 1 million
    EURUSD from the market maker, another client was selling 1 million EURUSD to them.
    So, the market maker earned the spread and I and another unknown trader went away
    with two positions: I had a long position and the unknown trader had a short position.'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，我从那里购买并随后将我的头寸卖出的做市商在我不持有头寸时保持市场中性，因为他们有多个客户，而且很可能在我从做市商那里购买100万欧元/美元的同时，另一个客户正在向他们出售100万欧元/美元。因此，做市商赚取了价差，我和另一个未知的交易者带着两个头寸离开了：我持有多头头寸，而那个未知的交易者持有空头头寸。
- en: It looks like a free lunch (for market makers, of course) and an unfair advantage
    (again, for market makers), but in reality, this is just another risky business
    – as everything in the world of trading is. Imagine a situation where someone
    bought from a market maker, but no one sold. Now, imagine that this happens once
    and then happens very quickly again. Such a scenario can easily develop when most
    traders think the price is going to move in a certain direction and they begin
    buying or selling massively. For the market maker, it means that they no longer
    earn the spread. Even worse, in such a situation, the market maker holds an open
    position in the market – instead of being market neutral – and becomes a trader
    with their PnL now depending on the price movement! Moreover, this position immediately
    creates a floating loss for the market maker (floating means that the position
    is not liquidated yet, so the loss may decrease or further increase with each
    new tick). Of course, market makers don’t like having positions and, therefore,
    they protect themselves.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 这看起来像是一顿免费的午餐（当然，对于做市商来说）和一种不公平的优势（再次，对于做市商），但在现实中，这仅仅是另一种有风险的业务——因为世界上的一切交易都是如此。想象一下这种情况：有人从做市商那里购买了东西，但没有人出售。现在，想象这种情况发生了一次，然后很快又发生了。当大多数交易者认为价格将朝着某个方向移动，并开始大量买入或卖出时，这种场景很容易出现。对于做市商来说，这意味着他们不再赚取价差。更糟糕的是，在这种情况下，做市商在市场上持有开放的头寸——而不是市场中性——并且变成了一个交易者，他们的损益现在取决于价格变动！此外，这个头寸立即为做市商创造了一个浮动的损失（浮动意味着该头寸尚未清算，因此损失可能会随着每个新点的变动而减少或进一步增加）。当然，做市商不喜欢持有头寸，因此他们保护自己。
- en: Market risk and how market makers mitigate it
  id: totrans-128
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 市场风险以及做市商如何缓解它
- en: There are two essential options for a market maker to mitigate their market
    risks.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 做市商缓解市场风险有两个基本的选择。
- en: First, market makers can hedge their net position elsewhere. To better understand
    it, let’s consider an example.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，做市商可以在其他地方对冲他们的净头寸。为了更好地理解这一点，让我们来看一个例子。
- en: On average, during the so-called normal market hours, the amount of open long
    and short positions is more or less the same. As we already know, there’s not
    much publicly available data from OTC markets in general and the FX market in
    particular, but even from public sources, we can see that this statement is very
    close to reality. For example, FXSSI has nice tools which visualize traders’ sentiment,
    the ratios of open long and short positions, and snapshots of the depth of the
    market. You can find these tools at [https://fxssi.com/tools/](https://fxssi.com/tools/)
    and can check them out yourself. Pay particular attention to the open position
    ratios ([https://fxssi.com/tools/ratios](https://fxssi.com/tools/ratios)). These
    charts report positions from a number of trading venues and it is clearly seen
    that the larger the client base of a trading venue, the more linear the chart
    of the ratio of the open positions. This essentially means that the ratio doesn’t
    change significantly over time and that newly opened long positions are in balance
    with newly opened short ones.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 在所谓的正常交易时间内，平均而言，开仓的多头和空头头寸的数量或多或少是相同的。正如我们已经知道的，OTC市场总体上以及外汇市场特别缺乏公开可用的数据，但即使从公开来源，我们也可以看到这个说法非常接近现实。例如，FXSSI有一些很好的工具，可以可视化交易者的情绪、开仓的多头和空头头寸的比例以及市场深度的快照。您可以在[https://fxssi.com/tools/](https://fxssi.com/tools/)找到这些工具，并自行检查。特别注意开仓头寸比例([https://fxssi.com/tools/ratios](https://fxssi.com/tools/ratios))。这些图表报告了来自多个交易场所的头寸，很明显，交易场所的客户基础越大，开仓头寸比例的图表就越线性。这实际上意味着这个比例在时间上变化不大，并且新开仓的多头头寸与新的空头头寸是平衡的。
- en: If we sum up all long positions and subtract from this the amount of all short
    positions currently opened with this market maker, then we get the so-called **net
    position** of this market maker. Under normal market conditions, and given the
    market maker has a sufficient number of clients, this net position is always close
    to zero.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们将所有多头头寸相加，并从这个总数中减去这个市场制造者目前开仓的所有空头头寸的数量，那么我们就得到了这个市场制造者的所谓**净头寸**。在正常市场条件下，并且假设市场制造者有足够的客户，这个净头寸总是接近零。
- en: If there’s panic in the market, or if due to whatever reason most traders begin
    to open more long positions than short (or vice versa), or just a single but very
    large trader opens a very large position, then the market maker’s net position
    is substantially greater than zero. In this case, the market maker opens another
    position that equals their own net position, but in the opposite direction. Say
    the market maker has a client’s net position of 1 million long, then the market
    maker opens a position of 1 million short. In this case, the market maker remains
    market neutral.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 如果市场出现恐慌，或者由于任何原因，大多数交易者开始开仓的多头头寸多于空头（或反之），或者只有一个但规模非常大的交易者开仓了一个非常大的头寸，那么市场制造者的净头寸将大大超过零。在这种情况下，市场制造者将开仓另一个与自己的净头寸相等但方向相反的头寸。比如说，市场制造者有一个客户的净多头头寸为100万，那么市场制造者将开仓一个100万的空头头寸。在这种情况下，市场制造者保持市场中性。
- en: You may wonder how a market maker can open a position themselves. This is possible
    because OTC markets are very fragmented and there are many large and small market
    participants who may or may not be directly connected. For example, a market maker
    can easily access liquidity provided by large banks and, therefore, hedge their
    net positions there, but their clients, retail traders, are really unlikely to
    access the same.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会想知道市场制造者如何为自己开仓。这是可能的，因为场外交易市场非常分散，有许多大型的和小型的市场参与者，他们可能直接或间接地连接。例如，市场制造者可以轻松地获取大型银行提供的流动性，因此可以在那里对冲他们的净头寸，但他们的客户，即零售交易者，实际上不太可能获得相同的流动性。
- en: The second thing market makers can do to protect themselves is to increase the
    spread. As you’ll remember, in an OTC market, the spread is not determined by
    all market participants as there’s no such thing as a centralized exchange and
    a single order book. Instead, any price giver can offer their own price, and market
    makers are no exception. Normally, a market maker has access to better bid and
    ask prices than what they offer to their clients. In this sense, market makers
    act as retailers, buying wholesale liquidity at lower prices and re-selling it
    to retail at higher prices.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 市场制造者为了保护自己可以采取的第二件事是增加点差。正如你将记得的，在OTC市场中，点差不是由所有市场参与者决定的，因为没有集中的交易所和单一订单簿。相反，任何价格提供者都可以提供自己的价格，市场制造者也不例外。通常，市场制造者能够获得比提供给客户的更好的买卖价格。从这个意义上说，市场制造者充当零售商，以较低的价格购买批发流动性，并以较高的价格向零售商重新销售。
- en: Of course, wide spreads are not good for traders in general. However, there
    are several reasons that we will discuss closer to the end of this section that
    may make us consider wider spreads as extra costs of trading that we pay to get
    some benefits.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，宽泛的点差对交易者来说并不好。然而，有几个原因，我们将在本节末尾更详细地讨论，这些原因可能会让我们考虑更宽的点差作为我们为了获得一些好处而支付的额外交易成本。
- en: Now, we have come to the very point that causes a lot of criticism from traders.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们已经到了引起许多交易者批评的非常关键的一点。
- en: The point is that in an OTC market, where price discovery is not uniform and
    prices of the same asset differ from one trading venue to another, one price giver
    to another, and especially in weakly regulated OTC markets, it is quite possible
    for a market maker to play tricks against their own clients.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 问题是，在OTC市场中，由于价格发现不统一，同一资产的价格在不同交易场所、一个价格提供者到另一个价格提供者之间都有所不同，尤其是在监管薄弱的OTC市场中，市场制造者对他们自己的客户进行欺诈的可能性相当大。
- en: This behavior (or, rather, misbehavior) was especially widespread in the early
    2000s when forex was only becoming more and more popular. A lot of market makers
    who called themselves *brokers* appeared, offering trading at ridiculous leverage
    such as 200:1, 500:1, and even 1000:1, promising to *open client positions in
    real forex* and accepting negligibly small accounts of $100, $10, and even $1\.
    The main source of income for those market makers was not the spread but rather
    the accounts of their clients because, under such extremely risky conditions,
    more than 80% of their clients completely lost their money in less than a month.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 这种行为（或者更确切地说，这种不当行为）在21世纪初尤为普遍，当时外汇交易正变得越来越流行。许多自称为**经纪人**的市场制造者出现，提供荒谬的杠杆率，如200:1、500:1，甚至1000:1，承诺**在真实外汇中为客户开设头寸**，并接受微不足道的账户，如100美元、10美元，甚至1美元。这些市场制造者的主要收入来源不是点差，而是他们的客户账户，因为在如此极端的风险条件下，超过80%的客户在不到一个月内就完全损失了他们的资金。
- en: Obviously, a consistently winning client was a disaster for such a market maker.
    Any position liquidated with a profit was a direct loss for such a business. Therefore,
    quite often, market makers of this sort started playing against their own clients
    by giving them worse quotes and even rejecting their orders without any serious
    reason. Their only goal was to make trading for a successful trader so uncomfortable
    that they would prefer to close the account and try their luck elsewhere.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，一个持续赢利的客户对这种市场制造者来说是一场灾难。任何以盈利平仓的头寸都是这种业务的直接损失。因此，这种类型的市场制造者经常通过提供更差的报价，甚至没有任何严重理由地拒绝他们的订单，来与自己的客户进行对赌。他们的唯一目标就是让成功交易者的交易变得非常不舒服，以至于他们宁愿关闭账户，在其他地方尝试运气。
- en: Is this unfair and nasty behavior?
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 这种不公平和恶劣的行为？
- en: Of course.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 当然。
- en: Is trading with market makers the only way for retail and institutional traders
    to trade on the FX market?
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 与市场制造者进行交易是否是零售和机构交易者在外汇市场上进行交易的唯一方式？
- en: No, there are alternatives and we are going to discuss them later in this chapter.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 不，有其他选择，我们将在本章后面讨论它们。
- en: But what is the reason to trade with market makers, then?
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 但为什么还要与市场制造者进行交易呢？
- en: Well, there is more than one reason and all of them are quite solid.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 好吧，原因不止一个，而且它们都很充分。
- en: Reasons to trade with market makers
  id: totrans-147
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 与市场制造者进行交易的原因
- en: First, regulations have improved since the early days of retail FX trading,
    and today such (mis)behavior is almost not possible for a regulated market maker.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，自零售外汇交易初期以来，法规已经得到改善，如今，这种（不当）行为对于受监管的市场制造者几乎是不可能的。
- en: Moreover, regulations require that market makers explicitly call themselves
    market makers and brokers explicitly call themselves brokers. This puts an end
    to almost two decades of confusion between the two, which cost the reputations
    of many fair businesses and the FX market itself, at least in the eyes of retail
    traders.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，法规要求市场做市商明确称自己为市场做市商，经纪商明确称自己为经纪商。这结束了近二十年来两者之间的几乎所有的混淆，这损害了许多公平企业的声誉，以及外汇市场本身，至少在零售交易者的眼中。
- en: Second, regulated market makers are required by regulators to maintain liquidity
    and quote the market virtually at any moment, even if there’s panic in the market.
    This means that you can open or liquidate a position any time you want and this
    is quite the opposite of how you can open or close positions at an exchange. Advanced
    traders can even take advantage of this, placing trades before or after important
    economical news is released and liquidity quickly evaporates from the market and
    prices may differ from one trading venue to another very significantly – which
    opens excellent opportunities for arbitrage trading. We will consider arbitrage
    in various forms in [*Chapter 9*](B19145_09.xhtml#_idTextAnchor152)*, Trading
    Strategies and their* *Core Elements*.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 第二，监管机构要求受监管的市场做市商必须保持流动性和在任何时候几乎都能报价市场，即使市场出现恐慌。这意味着你可以随时开仓或平仓，这与你在交易所开仓或平仓的方式正好相反。高级交易者甚至可以利用这一点，在重要经济新闻发布前后进行交易，市场流动性迅速蒸发，价格可能在不同交易场所之间差异很大——这为套利交易开辟了极好的机会。我们将在[*第9章*](B19145_09.xhtml#_idTextAnchor152)*，交易策略及其*核心要素*中考虑各种形式的套利。
- en: 'To be able to survive even the most disastrous price movements, regulators
    require that market makers have sufficient capital. The now famous **currency
    crash** when the Swiss franc appreciated almost twice against the euro in a few
    minutes in 2015 clearly showed which market makers met the regulatory requirements:
    they are still in business while others were swept away. If you are interested
    in learning more about what happened on January 15, 2015, I’d recommend reading
    this article ([https://fbs.com/analytics/news/5-years-aninversary-of-the-notorious-eurchf-usdchf-crash-7595](https://fbs.com/analytics/news/5-years-aninversary-of-the-notorious-eurchf-usdchf-crash-7595))
    that focuses more on the macro-economical side of the event, or this article ([https://fxssi.com/swiss-franc-15-january-2015](https://fxssi.com/swiss-franc-15-january-2015))
    that looks at the sequence of events from a more technical standpoint.'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 为了能够在最灾难性的价格变动中生存下来，监管机构要求市场做市商拥有足够的资本。2015年著名的**货币崩溃**，瑞士法郎在几分钟内对欧元升值近一倍，清楚地显示了哪些市场做市商满足了监管要求：他们仍在营业，而其他人则被淘汰。如果你对2015年1月15日发生的事情感兴趣了解更多信息，我建议阅读这篇文章([https://fbs.com/analytics/news/5-years-aninversary-of-the-notorious-eurchf-usdchf-crash-7595](https://fbs.com/analytics/news/5-years-aninversary-of-the-notorious-eurchf-usdchf-crash-7595))，这篇文章更多地关注事件的宏观经济方面，或者阅读这篇文章([https://fxssi.com/swiss-franc-15-january-2015](https://fxssi.com/swiss-franc-15-january-2015))，从更技术性的角度审视事件的顺序。
- en: 'Third, market makers are excellent for large-volume traders. If you need to
    fill orders that exceed typical liquidity presently in the order book, you have
    only two options: to split your order into parts and fill them one by one (without
    any guarantee that the price remains the same during the process) or ask your
    market maker for a quote and fill the entire amount in a single chunk. Quite an
    advantage, isn’t it?'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 第三，市场做市商非常适合大量交易者。如果你需要填写超出当前订单簿典型流动性的订单，你只有两个选择：将你的订单分成几部分逐一填写（在此过程中没有任何保证价格保持不变）或者向市场做市商索要报价，一次性填写整个金额。这确实是一个很大的优势，不是吗？
- en: Fourth, market makers often offer products that are really hard to find in any
    two-sided market. A good example could be binary options (contracts with *all-or-nothing*
    outcomes depending on whether a certain event happens or not, quite similar to
    betting) or structured products (for example, a mix of fixed income, currency,
    and equities traded as one single contract).
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 第四，市场做市商通常提供的产品在双边市场中很难找到。一个很好的例子可能是二元期权（根据某个事件是否发生，结果为*全有或全无*的合约，类似于赌博）或结构化产品（例如，固定收益、货币和股票作为单一合约交易）。
- en: Lastly, market makers can offer derivatives that are priced very closely to
    the underlying asset but are not technically considered as the asset itself. One
    of the most well-known derivatives is **contracts for difference** (**CFDs**)
    — a contract that you make with the market maker and according to which the market
    maker is obliged to pay you the difference if you purchased the contract and the
    price of the underlying asset went higher (or if you sold the contract and the
    price of the asset went lower). So, a CFD typically works as a proxy for the asset.
    The reason for using CFDs instead of the underlying asset is that in certain jurisdictions,
    any income from CFD trading is not taxed at all. Isn’t it a good reason to consider
    trading with a reputable regulated market maker?
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，做市商可以提供与标的资产定价非常接近的衍生品，但技术上并不被视为该资产本身。最著名的衍生品之一是**差价合约**（**CFDs**）——这是一种与做市商签订的合约，根据该合约，如果购买合约后标的资产价格上升（或者如果卖出合约后资产价格下降），做市商有义务向你支付价差。因此，CFD通常作为资产的代理。使用CFD而不是标的资产的原因是，在某些司法管辖区，CFD交易的任何收入都不征税。这不是考虑与信誉良好的受监管做市商进行交易的好理由吗？
- en: Of course, market makers are not the only important market participants in the
    FX market. Let’s get to know another no less important type of market participant.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，做市商并不是外汇市场中唯一重要的市场参与者。让我们来了解另一种同样重要的市场参与者类型。
- en: Liquidity providers – the whales that support this planet
  id: totrans-156
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 流动性提供者——支撑这个星球的大鲸鱼
- en: In the previous section, we already noted that some activities of market makers
    are similar to those of **liquidity providers** (**LPs**). An LP is a market participant
    whose business is to earn the spread by providing liquidity to the market, that
    is, always maintaining orders to buy or sell on both sides of the order book at
    the same time. Therefore, as in the case of market makers, LPs act as price givers
    earning the spread.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一节中，我们已经指出，做市商的一些活动与**流动性提供者**（**LPs**）的活动相似。LPs 是一种市场参与者，其业务是通过向市场提供流动性来赚取价差，也就是说，始终在订单簿的两边同时维持买卖订单。因此，与做市商的情况一样，LPs
    作为价格提供者赚取价差。
- en: In two-sided exchange-traded markets, it’s hard to tell the difference between
    a market maker and a liquidity provider. However, in OTC markets it becomes fundamental.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 在双边交易所交易市场中，很难区分做市商和流动性提供者。然而，在场外交易市场中，这一点变得至关重要。
- en: In an OTC market, a market maker is an entity that has its own clients and quotes
    the market for them. A liquidity provider normally does have clients which trade
    directly with them, regardless of whether it’s a small retail client or a large
    fund. LPs only provide liquidity to an order book – or multiple order books –
    as OTC markets are very fragmented and there are multiple trading venues for the
    same financial instrument (see the *OTC markets* section). So, a typical LP’s
    clients are banks, ECNs, and brokers.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 在场外交易市场中，做市商是一个为自身客户报价并为它们提供市场报价的实体。流动性提供者通常确实有客户，这些客户直接与他们交易，无论客户是小型零售客户还是大型基金。LPs
    只为订单簿——或者多个订单簿——提供流动性，因为场外交易市场非常分散，同一金融工具存在多个交易场所（参见*场外交易市场*部分）。因此，典型的LP客户是银行、ECNs和经纪商。
- en: Many traders think that LPs are *parasites* of the market and that without them,
    pricing would be more transparent, the execution of their orders would be better,
    and eventually, they would have made more money (or, rather, would make money
    instead of losing it). This is a common delusion and we will explore why.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 许多交易者认为LPs是市场的*寄生虫*，如果没有他们，定价将更加透明，他们的订单执行将更好，最终，他们将会赚更多钱（或者更确切地说，他们将会赚钱而不是亏损）。这是一个常见的错觉，我们将探讨原因。
- en: Do you remember the typical order book that we saw in the *Exchange and order
    book* section? It clearly shows the liquidity currently present in the market.
    In that particular example, each price level lists a few hundred orders, which
    is in fact not much for a large market. Now, what happens if a large order, say,
    to buy a couple of thousand contracts, hits the market?
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 你还记得我们在*交易所和订单簿*部分看到的典型订单簿吗？它清楚地显示了市场当前存在的流动性。在那个特定的例子中，每个价格水平都列出了几百个订单，对于一个大型市场来说实际上并不多。那么，如果一个大订单，比如购买几千份合约的订单进入市场会发生什么呢？
- en: Such an order will immediately swipe the order book, buying out all offers first
    from the best ask price level, then the next price level, then the next, and the
    next, pushing the price up, higher and higher. All this would happen in a fraction
    of a millisecond so other market participants wouldn’t have time to react.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 这样的订单将立即扫清订单簿，首先从最优卖价水平开始购买所有报价，然后是下一个价格水平，接着是下一个，再下一个，推动价格不断上升，越来越高。所有这些都会在千分之一秒内发生，以至于其他市场参与者没有时间做出反应。
- en: On the contrary, if there is sufficient liquidity in the order book then price
    movements become more moderate as it becomes more difficult to push the price
    up or down by any significant distance.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 相反，如果订单簿中有足够的流动性，那么价格波动就会变得更加温和，因为推动价格上下大幅变动变得更加困难。
- en: Note
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'So LPs play a very important role in OTC markets: they facilitate trading in
    large volume – and not only to large traders but for any buy-side traders, including
    retail.'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，LP在OTC市场中扮演着非常重要的角色：他们促进了大量交易——不仅对大型交易者，而且对任何买方交易者，包括零售商。
- en: At the same time, LPs make the life of speculators more difficult because the
    greater the liquidity in the market, the smaller the price movements, and the
    more difficult it is to profit from buy-side speculations based on the ancient
    principle, *buy low,* *sell high*.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 同时，LP（流动性提供者）使得投机者的生活更加困难，因为市场流动性越大，价格波动越小，基于古老原则“买低，卖高”的买方投机获利就越困难。
- en: Every speculative trader must understand that markets were not invented for
    speculation. The purpose of any financial market is to facilitate the exchange
    of goods or money and to find the best price for them. The fact that it is possible
    to make money by speculation is only a side effect and not the purpose of the
    market itself.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 每个投机交易者都必须明白，市场不是为了投机而发明的。任何金融市场的目的是促进商品或货币的交换，并找到它们的最优价格。通过投机赚钱的可能性只是市场的副作用，而不是市场本身的目的。
- en: Liquidity and volatility – how one transforms into another
  id: totrans-168
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 流动性和波动性——如何相互转化
- en: 'As the number of LPs grows, the market price becomes less and less **volatile**.
    Volatility is one of the key metrics of both the market price and the returns
    of a trading strategy. In simple terms, volatility means ease of price movement:
    greater volatility means that the price is expected to jump up and down at a greater
    distance within the same period of time, while lower volatility means that the
    price is **not** expected to move to any significant distance within the same
    period of time. There are many methodologies to measure volatility and the subject
    itself is quite complex and multifaceted (there is even a special term **volatility
    trading**) but this lies beyond the scope of this book. For now, it is sufficient
    to remember that volatility means how easily a price can move in any direction.'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 随着LP数量的增加，市场价格变得越来越**不稳定**。波动性是市场价格和交易策略回报的关键指标之一。简单来说，波动性意味着价格移动的容易程度：波动性越大，意味着价格在同一时间段内预期会上下跳动的距离越大，而波动性越小，意味着价格在同一时间段内**不**预期会移动到任何显著的距离。有许多方法可以衡量波动性，这个主题本身也非常复杂和多元（甚至有一个专门的术语**波动性交易**），但这超出了本书的范围。现在，只需记住，波动性意味着价格在任意方向移动的容易程度。
- en: 'We can illustrate volatility by calculating the difference between the highest
    price and the lowest price for a fixed period of time and plotting it as a histogram.
    *Figure 3**.3* shows such a plot for the euro versus the US dollar, sampled at
    one-minute intervals:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过计算固定时间段内最高价和最低价之间的差异，并将其绘制成直方图来表示波动性。*图3.3*显示了欧元对美元的波动性，以一分钟为间隔进行采样：
- en: '![Figure 3.3 – A simple representation of intraday volatility (chart by MultiCharts)](img/B19145_3_3.jpg)'
  id: totrans-171
  prefs: []
  type: TYPE_IMG
  zh: '![图3.3 – 一天内波动性的简单表示（图表由MultiCharts提供）](img/B19145_3_3.jpg)'
- en: Figure 3.3 – A simple representation of intraday volatility (chart by MultiCharts)
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.3 – 一天内波动性的简单表示（图表由MultiCharts提供）
- en: In this illustration, we can clearly see that **intraday** volatility (the one
    measured for sampling rate less than 24 hours) in this market is cyclic and that
    it is always lower during nighttime. This is quite natural as most of the large
    market participants trade during normal business hours.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个示例中，我们可以清楚地看到，这个市场**日内**波动性（测量采样率小于24小时的波动性）是周期性的，并且在夜间总是较低。这是非常自然的，因为大多数大型市场参与者在正常工作时间进行交易。
- en: 'This illustration, however, does not give us an idea about how LPs affect volatility.
    In order to see this effect, we need to look at a much bigger picture. Let’s plot
    the same representation of volatility for daily time intervals and look into its
    history back to the beginning of the 21st century. *Figure 3**.4* shows such a
    volatility chart for the euro versus the US dollar:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这个说明并没有给我们一个关于LPs如何影响波动性的概念。为了看到这种影响，我们需要看一个更大的图景。让我们绘制每日时间间隔的波动性相同表示，并查看其历史，追溯到21世纪初。*图3.4*显示了欧元对美元的波动性图表：
- en: '![Figure 3.4 – Daily volatility, EURUSD (chart by MultiCharts)](img/B19145_3_4.jpg)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![图3.4 – 每日波动性，EURUSD（由MultiCharts制作）](img/B19145_3_4.jpg)'
- en: Figure 3.4 – Daily volatility, EURUSD (chart by MultiCharts)
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 图3.4 – 每日波动性，EURUSD（由MultiCharts制作）
- en: In this illustration, we can see multi-year cycles that start with a financial
    crisis (clearly seen as an increase in daily volatility) and the following continuous
    decline in volatility that lasts for 4-5 years.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个说明中，我们可以看到从金融危机（明显表现为日波动性增加）开始的多年周期，以及随后持续4-5年的波动性连续下降。
- en: One of the possible explanations for this phenomenon is that during crisis time,
    LPs and market makers are the first to suffer from a sharp increase in demand
    or supply as they are obliged to maintain liquidity in the market. So, after the
    initial series of big losses for the sell side and margin calls among the buy
    side, LPs review their risk metrics and start to withdraw liquidity from the market.
    We already know that when liquidity goes down volatility goes up; this is what
    we, the traders, observe as sharp price movements and the rest of the world calls
    a *crisis* or a *catastrophe*.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 这种现象的一个可能解释是，在危机时期，LPs和做市商是首先遭受需求或供应急剧增加的受害者，因为他们有义务在市场中维持流动性。因此，在卖方最初的一系列重大损失和买方的保证金调用之后，LPs审查他们的风险指标，并开始从市场中撤出流动性。我们已经知道，当流动性下降时，波动性就会上升；这就是我们，作为交易员，观察到的剧烈价格波动，而世界其他地方称之为*危机*或*灾难*。
- en: So, all in all, LPs and market makers do a very important job of keeping the
    market together and ensuring its efficiency – the ability to buy or sell any quantity
    of the asset at any time.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 总的来说，LPs和做市商在保持市场稳定和确保其效率方面发挥着非常重要的作用——即在任何时候都能以任何数量买卖资产的能力。
- en: We have gotten acquainted with the two most important sell-side market participants
    and we already know that there are many buy-side market participants including
    ourselves. But how do we all find each other? Where are all our orders sent to
    and how are they matched?
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经熟悉了两个最重要的卖方市场参与者，并且我们已经知道包括我们自己在内的许多买方市场参与者。但是，我们是如何找到彼此的呢？所有的订单都发送到哪里，又是如何匹配的呢？
- en: ECN – looks like a fair game, but is it?
  id: totrans-181
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ECN – 看起来像是一场公平的游戏，但真的是这样吗？
- en: When I speak about the structure of OTC markets, especially the fact that prices
    in them are offered by just select market participants and can vary significantly
    for different buy-side clients, many traders say, *“This is not fair! Why won’t
    FX work in the same manner as other regulated markets with centralized exchanges
    where anyone can improve* *the price?”*
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 当我谈论场外交易市场的结构，特别是其中的价格仅由少数市场参与者提供，并且对于不同的买方客户可能会有很大差异时，许多交易员会说，“这并不公平！为什么外汇不能像其他有中央交易所的受监管市场一样工作，任何人都可以改善价格？”
- en: There is no single and simple answer to this question.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个问题，没有单一的简单答案。
- en: First, the FX market trades money for money and not any asset for money. Its
    original purpose was to facilitate currency exchange rather than speculative trading
    with various financial instruments. And (fortunately!) we don’t have to go to
    an exchange to just get some British pounds for euros or Indian rupees for US
    dollars. Therefore, OTC trades are quite natural for this purpose and a currency
    exchange shop is an excellent example of trading OTC.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，外汇市场是货币对货币的交易，而不是任何资产对货币的交易。它的原始目的是促进货币兑换，而不是使用各种金融工具进行投机交易。幸运的是，我们不必去交易所只是为了兑换一些英镑换成欧元，或者印度卢比换成美元。因此，场外交易对于这个目的来说是非常自然的，货币兑换店就是一个很好的场外交易例子。
- en: Second, the FX market consists of multiple financial instruments that are quite
    flexible in their specifications. For example, cash constitutes only a small fraction
    of this market, while forward contracts make up to 50% of its daily turnover.
    These forward contracts can be made directly between banks and other market participants
    without any need for an exchange. We will look into the FX instruments a bit later
    in this chapter, in the *FX* *instruments* section.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，外汇市场由多种金融工具组成，这些工具在规格上相当灵活。例如，现金只占这个市场的一小部分，而远期合约占其日交易量的50%。这些远期合约可以在银行和其他市场参与者之间直接进行，无需任何交易所的介入。我们将在本章稍后讨论外汇工具，在*外汇工具*部分。
- en: However, as time went on and markets became more and more computerized, traders
    thought such a market design was not fair enough. Many professional buy-side traders
    along with market makers, LPs, and brokers thought the same. Buy-side traders
    sought better, more efficient ways to find the best price in the market rather
    than just calling multiple banks on the phone and talking to desk dealers. Sell-side
    traders were keen on providing the best bid and ask prices because this increases
    the chance to make money earning the spread.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，随着时间的推移和市场越来越计算机化，交易者认为这种市场设计还不够公平。许多专业买方交易员、做市商、LP和经纪人都有同样的看法。买方交易员寻求更好的、更有效的方法来寻找市场中的最佳价格，而不仅仅是通过电话联系多家银行并与交易员交谈。卖方交易员热衷于提供最佳的买卖报价，因为这增加了赚取价差的盈利机会。
- en: 'This is of course true not only for the FX market but for any market: the battle
    for the best execution has a long history. In 1969, the first electronic network
    that allowed placing bids and asks by qualified market participants was introduced.
    It was a revolutionary improvement that allowed negotiating prices and finding
    the best bid and best ask much quicker than before. The **Securities and Exchanges
    Commission** (**SEC**) acknowledged this network and named it an **electronic
    communication network** (**ECN**). In 1975, the SEC adopted amendments to the
    Securities Act (the main legal document that regulates securities trading in the
    US), which opened doors to the explosive growth of ECNs and electronic trading.'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，这不仅适用于外汇市场，也适用于任何市场：争夺最佳执行的战斗有着悠久的历史。1969年，第一个允许合格市场参与者进行买卖报价的电子网络被引入。这是一个革命性的改进，使得谈判价格和寻找最佳买卖报价比以前快得多。**证券交易委员会**（**SEC**）认可了这个网络，并将其命名为**电子通信网络**（**ECN**）。1975年，SEC通过了《证券法》的修正案（这是规范美国证券交易的主要法律文件），为ECN和电子交易的爆炸性增长打开了大门。
- en: So, what is an ECN anyway?
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，ECN究竟是什么呢？
- en: The organization of ECNs
  id: totrans-189
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ECN的组织结构
- en: If you connect to an ECN and retrieve market data from there, you will see something
    really similar to the depth of market data received from an exchange. You will
    see multiple price levels and liquidity on each price level. Depending on your
    subscription, you may be able to see just the top level, top 5 levels, top 10
    levels, or the entire order book. You can wait for the price that is required
    by your trading strategy and send an order to buy or sell – pretty much like you
    do that at an exchange.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你连接到ECN并从那里检索市场数据，你将看到与从交易所获得的市场深度数据非常相似的东西。你将看到每个价格水平上的多个价格水平和流动性。根据你的订阅，你可能只能看到顶级水平、前5个水平、前10个水平，或者整个订单簿。你可以等待你的交易策略所需的价格，然后发送一个买入或卖出的订单——这基本上就像你在交易所做的那样。
- en: So, can we say that ECN is an *exchange*?
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，我们可以说ECN是一个*交易所*吗？
- en: No, it is not.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 不，不是这样。
- en: The key difference between an ECN and an exchange is the availability of its
    order book. At an exchange, its order book is available for *any* order from *any*
    market participant. Anyone can send an order of any size and it will get into
    the single, universal order book. With an ECN, *only qualified market participants*
    can send their bids and asks to the order book. In the case of the FX market,
    these are mostly banks, LPs, market makers, and other professional sell-side market
    participants. Simply put, most likely, you will not be able to send your own bid
    or ask for the order book at an ECN.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: ECN与交易所之间的关键区别是其订单簿的可用性。在交易所，其订单簿对任何市场参与者发出的任何订单都是可用的。任何人都可以发送任何大小的订单，它将进入单一、通用的订单簿。在ECN中，只有**合格的市场参与者**可以向订单簿发送他们的买卖报价。在外汇市场中，这些主要是银行、LP、做市商和其他专业卖方市场参与者。简单来说，你很可能无法在ECN的订单簿中发送自己的买卖报价。
- en: At this point, we should revisit the description of the trade mechanics as it’s
    going on at an exchange. If you send a limit order – that is, an order to buy
    or sell an asset at a price that is respectively lower or higher than the current
    last price – then your order enters the order book at the respective price level
    and is added to the end of the queue (see the *Exchange and order book* section).
    Anyone in the market can see this order as the liquidity at this price level will
    have increased.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，我们应该回顾一下正在交易所进行的交易机制描述。如果你发送一个限价订单——即以分别低于或高于当前最后价格的价格买入或卖出资产——那么你的订单将进入相应的价格级别，并添加到队列的末尾（见*交易所和订单簿*部分）。市场中的任何人都可以看到这个订单，因为在这个价格级别的流动性将会增加。
- en: However, if you do the same at an ECN, the order book does not change visually.
    Instead, your order is kept by the ECN matching engine and is executed only when
    the last price approaches this order. No one, including yourself, will see your
    order in the order book and you do not have the ability to improve the best bid
    and the best ask. Only qualified ECN members can improve the best bid and ask.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果你在ECN上做同样的事情，订单簿在视觉上不会改变。相反，你的订单被ECN匹配引擎保留，并且只有在最后价格接近这个订单时才会执行。没有人，包括你自己，会在订单簿中看到你的订单，你也没有能力改善最佳买入价和最佳卖出价。只有合格的ECN成员才能改善最佳买入价和卖出价。
- en: ECN – not all market participants were created equal
  id: totrans-196
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ECN – 并非所有市场参与者都是平等的
- en: 'So, going back to the discussion of market *fairness* at the beginning of this
    section, can we now say that an ECN is a *fair* market? Well, if compared to an
    exchange – probably not. But it solves the main problem of OTC markets: it facilitates
    price discovery among multiple sell-side market participants, adding competition
    between them, and thus improving the best bid/ask for the sell side.'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，回到本节开头关于市场**公平性**的讨论，我们现在可以这样说，ECN是一个**公平**的市场吗？好吧，如果与交易所相比——可能不是。但它解决了场外交易市场的主要问题：它促进了多个卖方市场参与者之间的价格发现，增加了他们之间的竞争，从而改善了卖方的最佳买入/卖出价。
- en: Trading with an ECN was originally available only to professional market participants,
    but for over a decade, it has been available virtually to anyone. All you need
    is to find a broker who supports the **Straight-Through Processing** (**STP**)
    business model. STP means that the broker does not act as a market maker for their
    clients, they only route client orders to an ECN.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 使用ECN进行交易最初仅限于专业市场参与者，但超过十年，它几乎对任何人都是可用的。你只需要找到一个支持**直通处理**（**STP**）业务模式的经纪人。STP意味着经纪人不会作为其客户的市商行事，他们只将客户订单路由到ECN。
- en: Let’s recap trading with an ECN once again. LPs and market makers send in their
    bids and offers and buy-side traders consume this liquidity.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们再次回顾一下使用ECN的交易。LP和市场制造者提交他们的买入和卖出报价，而买方交易者消耗这种流动性。
- en: Now, let’s perform the same imaginary experiment – a stress test for such a
    structure as we did with the exchange order book. Let’s imagine that a large volume
    buy-side trader comes in with an order to buy or sell more than presently exists
    in the order book.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们进行同样的想象实验——对这种结构进行压力测试，就像我们对交易所订单簿所做的那样。让我们想象一个大量买方交易者带着一个订单进入，要买入或卖出比订单簿中现有的更多的资产。
- en: In most cases, such an order will swipe the entire liquidity in the order book
    leaving one of its sides empty for a few moments – a situation that is less than
    acceptable for LPs. So, if a trader does it only once then there will most likely
    be no reaction – LPs will rebalance their order books and liquidity reappears
    in the market. But if this trader repeats this action, then such an activity is
    considered **predatory**,and the order flow generated by the trader is called
    **toxic**. A wide range of sanctions may follow, from just a call from the broker
    to a permanent ban at the ECN.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数情况下，这样的订单将扫清订单簿中的全部流动性，使其中一边暂时为空——这对LP来说是不太可接受的。所以，如果交易者只做一次，那么很可能会没有反应——LP会重新平衡他们的订单簿，流动性重新出现在市场上。但如果这个交易者重复这个动作，那么这种活动被认为是**掠夺性**的，而交易者产生的订单流被称为**有毒**的。可能会随之而来一系列的制裁，从经纪人的电话到ECN的永久禁止。
- en: You may think that this issue is not relevant to small-volume traders, such
    as retail, but in fact, it is.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能认为这个问题与小型交易者，如零售交易者，无关，但实际上是有关的。
- en: 'Let’s revise the definition of the toxic order flow: it is a sequence of orders
    that systematically and consistently tries to swipe the order book, that is, consume
    the entire liquidity on either side (bid or ask).'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回顾一下有毒订单流量的定义：它是一系列系统性地、持续性地试图洗劫订单簿的订单，也就是说，消耗（出价或要价）两边的全部流动性。
- en: During normal business hours, it is indeed hard to achieve with small order
    sizes. But do not forget that not all LPs work 24 hours a day. Moreover, there
    are moments, and even spans of time that last for minutes, when liquidity at the
    ECN is really close to zero (see an explanation of bank settlement and associated
    issues in the *FX instruments* section in this chapter). If even a small retail
    trader sends a small order at such a moment, it would drain the thin order book
    completely, leading to the execution of this order at an absurd price and a phone
    call from the broker or the exchange with unpleasant questions about the trader’s
    behavior.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 在正常营业时间内，使用小订单量确实很难实现。但是，不要忘记并非所有LP（流动性提供者）都全天候工作。此外，有时会有一些时刻，甚至持续几分钟的时间段，ECN的流动性实际上非常接近零（参见本章“外汇工具”部分中关于银行结算和相关问题的解释）。如果在这样的时刻，即使是小型零售交易者发送一个小订单，也会完全耗尽微薄的订单簿，导致以荒谬的价格执行该订单，并且经纪人或交易所会打电话来询问交易者的行为，这些问题可能令人不快。
- en: Note
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: If you trade with an ECN, always check the liquidity in the order book before
    sending any order to avoid really unpleasant situations.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你与一个ECN进行交易，在发送任何订单之前，一定要检查订单簿中的流动性，以避免真正不愉快的情况。
- en: Today, trading at an ECN ensures the second most efficient price discovery process.
    But what is the most efficient then, you may wonder. Well, we are now going to
    discuss*aggregation*.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 今天，在ECN上进行交易确保了第二高效的定价发现过程。但是，最有效的是什么，你可能想知道。好吧，我们现在将要讨论*聚合*。
- en: Aggregation – in search of the best price
  id: totrans-208
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 聚合——寻找最佳价格
- en: Do you remember that any OTC market in general, and the FX in particular, is
    highly fragmented? There are multiple market participants offering different prices
    for the same asset at the same moment in time.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 你还记得吗？在一般情况下，任何场外交易市场，尤其是外汇市场，都是高度分割的？在相同的时间，有多个市场参与者为同一资产提供不同的价格。
- en: This is true for any market participant and any trading venue, and ECNs are
    no exception. If ECNs were closed systems without any links to the outer world,
    then the price could potentially be very different from prices in the rest of
    the FX market. Indeed, if we have there an exchange-like trading venue then even
    though bids and asks are posted by only a small group of qualified members, the
    price will be determined by supply and demand, quite like in any other market.
    This means that price takers will be those who drive the price up or take it down.
    In a closed system, the price is determined only by members of this system.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 这对任何市场参与者以及任何交易场所都适用，ECN也不例外。如果ECNs是封闭系统，没有任何与外界联系，那么价格可能潜在地与外汇市场的其他价格非常不同。确实，如果我们有一个类似交易所的交易场所，尽管只有一小部分合格成员发布出价和要价，但价格将由供需决定，就像在任何其他市场中一样。这意味着价格接受者将是那些推动价格上涨或下跌的人。在一个封闭系统中，价格仅由该系统的成员决定。
- en: It may seem that theoretically nothing prevents the price of the same euro versus
    the US dollar to be 1 at one ECN, 2 at another, and 10 at the third – as long
    as members of the third ECN think the euro should cost that much!
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 从理论上讲，似乎没有任何东西可以阻止同一欧元兑美元的价格在一个ECN上是1，在另一个ECN上是2，在第三个ECN上是10——只要第三个ECN的成员认为欧元应该值那么多！
- en: However – and luckily – this is not true. If each ECN traded a **separate**
    asset such as a unique currency, then indeed its price would be determined only
    by the supply and demand at this very ECN. But as long as they all trade the same
    asset, like in our example, someone could buy the same euro at 1 dollar at one
    ECN and sell it for 10 dollars at another. Be sure that these smart traders are
    always present in any market. They are called **arbitrageurs** and their trading
    strategy is called **arbitrage**.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 然而——幸运的是——这并不是真的。如果每个ECN都交易一种**单独**的资产，比如一种独特的货币，那么的确，其价格将仅由这个ECN的供需决定。但是，只要他们都在交易相同的资产，就像我们的例子一样，有人可以在一个ECN以1美元的价格购买同一欧元，然后在另一个ECN以10美元的价格卖出。请确信这些聪明的交易者总是存在于任何市场中。他们被称为**套利者**，他们的交易策略被称为**套利**。
- en: Besides that, ECNs are not closed systems. All LPs participate in multiple ECNs
    and other liquidity pools; many of them run their own dealing desks or act as
    market makers for their clients. Moreover, an ECN can also act as an LP to another
    ECN!
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，ECN不是封闭系统。所有LPs都参与多个ECNs和其他流动性池；其中许多运行自己的交易台或作为其客户的做市商。此外，一个ECN还可以作为另一个ECN的LP！
- en: So, instead of a centralized market, we can again see a very fragmented, very
    complex network where market participants are linked to each other and to other
    groups, then these groups are also linked, and so on, and so on. Both buy-side
    traders (arbitrageurs) and sell-side market participants (LPs and market makers)
    make the price across the entire FX market far more uniform than in our simplified
    example previously.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，除了集中市场之外，我们还可以看到一个非常碎片化、非常复杂的网络，其中市场参与者相互连接，并与其他群体相连，然后这些群体也相互连接，如此等等。买方交易者（套利者）和卖方市场参与者（LPs和做市商）使整个外汇市场的价格比我们之前简化的例子中更加统一。
- en: 'Although we no longer expect as dramatic a difference in price as 1,000% from
    one trading venue to another, due to the intrinsic fragmentation of the FX market,
    prices are still slightly different here and there. For example, that same euro
    can be quoted at 1.13458 at one ECN and 1.13459 at another, and at the same time
    a market maker can quote it at 1.13461 and a bank at 1.13456\. The difference
    is very tiny and running classical arbitrage as described is very difficult in
    the today’s FX market. However, we can look at this price diversity from another
    angle: what if we could find the absolute best price in the market by checking
    all available prices?'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们不再期望从一个交易场所到另一个交易场所的价格差异达到1000%那么剧烈，但由于外汇市场的内在碎片化，价格仍然在这里那里略有不同。例如，同样的欧元在一个ECN报价为1.13458，而在另一个ECN报价为1.13459，同时市场做市商可能报价为1.13461，而银行报价为1.13456。这种差异非常微小，按照描述在今天的FX市场中进行经典套利是非常困难的。然而，我们可以从另一个角度看待这种价格多样性：如果我们能够通过检查所有可用的价格来找到市场中的绝对最佳价格会怎样？
- en: This is the core idea of **price aggregation**. An aggregator is not a trading
    venue as such because it doesn’t have its own order book and LPs. Instead, an
    aggregator scans trading venues in search of the absolute best bid and offer and
    then routes orders to the respective venue.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是**价格聚合**的核心思想。聚合器本身并不是一个交易场所，因为它没有自己的订单簿和流动性提供者（LPs）。相反，聚合器会扫描交易场所，寻找绝对最佳的买入和卖出价格，然后将订单路由到相应的场所。
- en: Due to the nature of aggregation, it is normal that for a brief moment, typically
    milliseconds or shorter, the best bid price would be **greater** than the best
    ask. Think about it! A price at which you could buy is lower than the price at
    which you could sell! No wonder aggregators very quickly became the favorite trading
    venues for arbitrage traders – and not only for them. Indeed, price aggregation
    is the way to get the best execution in a fragmented OTC market.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 由于聚合的性质，通常在极短的时间内，比如毫秒或更短，最佳买入价格会**高于**最佳卖出价格。想想看！你可以买入的价格低于你可以卖出的价格！难怪聚合器很快就成为了套利交易者的首选交易场所——而且不仅仅是他们。实际上，价格聚合是在碎片化的场外交易市场中获得最佳执行的方式。
- en: Unfortunately, today aggregators are available only to professional market participants,
    such as banks and brokers. So, ECN trading remains the most efficient among what
    is available to a wider audience.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，目前聚合器仅对专业市场参与者，如银行和经纪人开放。因此，ECN交易在更广泛的受众中仍然是效率最高的。
- en: Trading the FX market – what and how
  id: totrans-219
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 外汇市场交易——交易什么以及如何交易
- en: We have talked quite a lot about where it is possible to trade but wait! We
    totally forgot to discuss what is possible to trade and how it is possible to
    place trades. Let’s fill this gap immediately.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经讨论了很多关于在哪里可以进行交易的问题，但等等！我们完全忘记了讨论可以交易什么以及如何进行交易。让我们立即填补这个空白。
- en: FX instruments
  id: totrans-221
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 外汇工具
- en: You probably heard that the FX market is the largest market in the world, with
    a daily turnover of over 2 trillion dollars. But have you ever wondered what instruments
    are traded in such enormous quantities? Do you imagine piles of cash or gold coins?
    Maybe instant transfers of money from one bank account to another?
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能听说过外汇市场是世界上最大的市场，日交易量超过2万亿美元。但你有没有想过在这样的巨额交易中，交易的是什么工具？你想象的是现金堆或金币吗？也许是从一个银行账户到另一个银行账户的即时转账？
- en: No, of course, this is not the way this market operates. When we say *forex*
    we generally mean trading obligations to deliver one currency for another currency.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 当然不是，这个市场并不是这样运作的。当我们说*外汇*时，我们通常是指交易一种货币兑换另一种货币的义务。
- en: If I come to a currency exchange shop and exchange €100 for the equivalent amount
    of British pounds, then such a transaction is done immediately. My obligations
    to deliver the euro as the seller and the shop’s obligations to deliver the British
    pounds to me as the buyer is fulfilled at the moment we make a deal.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我来到一家货币兑换店，用100欧元兑换等值的英镑，那么这样的交易会立即完成。作为卖方，我交付欧元，作为买方，商店交付英镑给我，这一切都是在达成交易的那一刻完成的。
- en: However, if I wanted to exchange 1 million euros for the respective amount of
    British pounds, I would rather call my bank and ask for the price. The bank would
    be happy to make a special offer as the amount to exchange is quite attractive.
    This offered price would be way better than anything a cash exchange shop could
    offer.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果我想用100万欧元兑换相应数量的英镑，我宁愿打电话给我的银行询问价格。银行会很乐意提供一个特别报价，因为兑换的金额非常有吸引力。这个报价将远远优于现金兑换店能提供的任何报价。
- en: Start getting the point? That’s how multiple prices for the same asset may exist
    in an OTC market.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 现在明白了吗？这就是在OTC市场中同一资产可能存在多个价格的原因。
- en: I may go even further and check prices with various financial institutions,
    especially those specializing in currency exchange and international money transfers
    – and, most likely, I would find the best offer at which I agree to place my trade.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 我甚至可以更进一步，与各种金融机构检查价格，特别是那些专门从事货币兑换和国际货币转移的机构——而且，很可能会找到我同意进行交易的最佳报价。
- en: But the price I am offered by the financial institution is by far not the best
    possible offer on the market. They will then go to the *big* forex and place their
    offer to sell the euros for British pounds at a price that is higher than the
    one they purchased the euros from me.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 但金融机构给出的价格绝不是市场上可能给出的最佳报价。然后他们会去*大型*外汇市场，以高于从我这购买欧元的价格出售欧元兑换英镑。
- en: This may look simple and straightforward but it’s not.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 这可能看起来简单直接，但实际上并非如此。
- en: The problem is that I get a deal now but it’s quite possible that it will take
    time for my money to get transferred from my bank account to the chosen financial
    institution that performs the exchange. The exchange rate is already fixed with
    me. So, for this financial institution, it is critical to be able to hedge their
    position or liquidate it the very moment they get a deal with me, and not at a
    later time as the market price may be quite different and they may suffer a loss
    from such an operation.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 问题是我现在得到了一个交易，但我的钱从我的银行账户转移到选择的进行兑换的金融机构可能需要时间。汇率已经与我确定。因此，对于这家金融机构来说，能够在与我达成交易的那一刻立即对冲其头寸或清算它至关重要，而不是在稍后，因为市场价格可能完全不同，他们可能会因这种操作而遭受损失。
- en: So, the financial institution places its offer in a so-called forwards market.
    A forward contract is an obligation to deliver physical goods (or, in the case
    of currency markets, a currency) on a certain date at the price fixed at the moment
    the contract is made. For example, that same financial institution can sell a
    forward contract that means, *“we will fix the exchange rate of the euro versus
    the British pound at 0.85 now but I will deliver you the* *euros later.”*
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，金融机构将其报价放在所谓的远期市场上。远期合约是在合约签订时即确定价格，并在特定日期交付实物商品（或，在货币市场上，货币）的义务。例如，同一家金融机构可以出售一份远期合约，意味着，“我们现在将欧元对英镑的汇率固定在0.85，但我会在稍后向您交付欧元。”
- en: During a business day, a financial institution can make lots of forward contracts
    with various counterparties. To understand how much they owe to whom and how much
    others are due to them, there is a special process called **settlement**. This
    is the procedure of netting all mutual obligations of all market participants
    and figuring out their daily profits and losses.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 在一个工作日，金融机构可以与各种交易对手方签订许多远期合约。为了了解他们欠谁的债务以及其他人欠他们多少，有一个特殊的过程叫做**结算**。这是对所有市场参与者的相互义务进行净额结算，并计算他们的每日盈亏。
- en: Note
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: For most currency pairs that involve the US dollar, the settlement time is 5
    P.M. New York time. It is extremely important to take special care trading around
    this time because there is almost no liquidity in the market. It’s always best
    to avoid trading at all 15 minutes before the settlement and 15-30 minutes after
    the settlement.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 对于大多数涉及美元的货币对，结算时间是纽约时间下午5点。在这一点上，特别小心进行交易非常重要，因为市场流动性几乎为零。总是最好在结算前15分钟和结算后15-30分钟内避免交易。
- en: 'There are various forward contracts among which the heavily-traded contracts
    are the following:'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 在众多远期合约中，交易量大的合约包括以下几种：
- en: '**Today** (**TOD**) – a forward contract with the delivery date on the same
    business day, or *T*'
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**今日**（**TOD**）- 一种在当天交易日的交割远期合约，或称 *T*'
- en: '**Tomorrow** (**TOM**) – a forward contract with the delivery date on the next
    business day, or *T+1*'
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**次日**（**TOM**）- 一种在下一个交易日交割的远期合约，或称 *T+1*'
- en: '**SPOT** – a forward contract with the delivery date in 2 business days, or
    *T+2*'
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**即期**（**SPOT**）- 一种在2个交易日后交割的远期合约，或称 *T+2*'
- en: As of 2022, the overall daily turnover in all the FX markets is at about $6.6
    trillion. SPOT is the largest part of the average daily turnover in forwards,
    with a value of about $2 trillion. Other forward contracts contribute another
    $1 trillion. The remaining $3.6 trillion is mostly taken by **swap contracts**
    or **swaps**.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 截至2022年，所有外汇市场的日均交易量约为6.6万亿美元。即期是远期平均日均交易量中最大的一部分，价值约为2万亿美元。其他远期合约再贡献1万亿美元。剩余的3.6万亿美元主要被**互换合约**或**互换**占据。
- en: Swaps are very interesting financial instruments mostly used by manufacturers
    and importers/exporters to hedge their currency risks. If I make a swap contract
    with you this means that I give you a certain amount of euros and you give me
    a certain amount in British pounds (or any other currency) and we fix the exchange
    rate. Then, after some time, typically a year or more, we will exchange our currencies
    back – and what is most important at this point, at the same exchange rate we
    traded it originally.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 互换是非常有趣的金融工具，主要被制造商和进出口商用来对冲他们的货币风险。如果我与你签订一个互换合约，这意味着我给你一定数量的欧元，而你给我一定数量的英镑（或任何其他货币），并且我们固定汇率。然后，在一段时间后，通常是1年或更长时间，我们将交换我们的货币——而且最重要的是，在这一点上，我们将以最初交易的相同汇率交换。
- en: So, a currency swap contract assumes a currency risk for each of us because
    the exchange rate in the forwards market may change quite substantially during
    the term of our swap agreement. But this risk can be sold for a premium and this
    is how swap traders can make money.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，货币互换合约为我们每个人承担了货币风险，因为在我们的互换协议期限内，远期市场的汇率可能会发生相当大的变化。但这种风险可以通过溢价出售，这就是互换交易者赚钱的方式。
- en: We are not going to consider this class of financial instruments. If you are
    interested in learning more about them, I’d recommend starting at [https://www.investopedia.com/terms/c/currencyswap.asp](https://www.investopedia.com/terms/c/currencyswap.asp).
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将不考虑这类金融工具。如果你对它们感兴趣并想了解更多，我建议从[https://www.investopedia.com/terms/c/currencyswap.asp](https://www.investopedia.com/terms/c/currencyswap.asp)开始学习。
- en: Besides cash, forwards, and swaps markets, there are many derivatives – contracts
    that may and may not assume physical delivery of the asset. One of the most well-known
    currency derivatives is currency futures, which are available to trade at **Chicago
    Mercantile** **Exchange** (**CME**).
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 除了现金、远期和互换市场外，还有许多衍生品——这些合约可能或可能不涉及资产的实物交割。最著名的货币衍生品之一是货币期货，可以在**芝加哥商业交易所**（**CME**）进行交易。
- en: Note
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: The most important markets for retail traders and active speculators are SPOT
    and currency futures. These are the two markets that we will be discussing further
    in the book.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 对于零售交易者和活跃的投机者来说，最重要的市场是即期和货币期货。这两大市场将是本书进一步讨论的内容。
- en: Naming conventions
  id: totrans-246
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 命名规范
- en: Let’s quickly clarify the way the currencies market uses the names of its instruments.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们快速澄清货币市场如何使用其工具的名称。
- en: International standards (ISO 4217 to be precise) assume that each currency has
    a numeric three-digit code and a three-letter alphabetic code. Thus, the numeric
    code for the euro is 978 and the alphabetic code is EUR.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 国际标准（具体为ISO 4217）假定每种货币都有一个三位数的数字代码和一个三位字母代码。因此，欧元的数字代码是978，字母代码是EUR。
- en: Forex is a special market because we don’t buy goods for money, we buy and sell
    money for money. Therefore, any instrument in this market is a currency pair and
    its respective code (which is often called a ticker) consists of two alphabetical
    currency codes.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 外汇市场是一个特殊的市场，因为我们不是用钱购买商品，而是用钱买卖钱。因此，这个市场中的任何工具都是一个货币对及其相应的代码（通常称为股票代码），由两个字母货币代码组成。
- en: The first currency in a pair is the one that is quoted and the second currency
    is the one in which it is quoted. In other words, the first currency acts as an
    asset and the second acts as the measuring unit. For example, EURUSD means how
    many US dollars there are in 1 euro, USDJPY means how many Japanese yen there
    are in 1 US dollar, and so on.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 货币对中的第一种货币是报价货币，第二种货币是报价货币。换句话说，第一种货币充当资产，第二种充当计量单位。例如，EURUSD表示1欧元中有多少美元，USDJPY表示1美元中有多少日元，等等。
- en: Note
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Be extremely careful with FX tickers! Always remember what you buy and what
    you sell as it’s very easy to confuse.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 在外汇股票代码上要极其小心！始终记住你买的是什么，你卖的是什么，因为这很容易混淆。
- en: Prices in the FX market are quoted in fractional amounts. For example, if EURUSD
    is quoted at 1.0345, it means that I will get 10,345 US dollars if I sell 10,000
    euros, and a quote of 113.78 USDJPY means that I will pay 11,378 Japanese yen
    to get 100 US dollars. It’s very easy to calculate if you multiply the rate by
    the respective power of 10 to get rid of fractions.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 外汇市场的价格以分数形式报价。例如，如果EURUSD报价为1.0345，这意味着如果我卖出10,000欧元，我将得到10,345美元，而报价为113.78
    USDJPY意味着我需要支付11,378日元来换取100美元。如果你将比率乘以相应的10的幂次来消除分数，计算起来非常简单。
- en: For many decades, there were mostly four-digit and two-digit prices in the FX
    market, such as those in the preceding example. The minimal price fluctuation
    – which is the minimal change in the fourth or second digit – is called a **price
    interest** **point** (**pip**).
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 在几十年的时间里，外汇市场大多有四位和两位的价格，例如前一个例子中的那些。最小的价格波动——即第四位或第二位的最小变化——被称为**价格利息点**（pip）。
- en: However, a few years ago they got an extra digit. So instead of four-digit prices
    such as 1.2345 we now have 5-digit prices such as 1.23456, and similarly three
    digits instead of two digits.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，几年前，他们增加了一个额外的数字。所以，我们现在有5位价格，如1.23456，而不是像1.2345这样的4位价格，同样，我们用三位数字代替两位数字。
- en: Note
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Although now most of the prices use five-digit or three-digit notation, the
    pip is still considered to be in the fourth or second digit respectively. So,
    the extra digit is called fractional pip or fractional price.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然现在大多数价格使用五位或三位数字表示法，但pip仍然被认为是第四位或第二位。所以，这个额外的数字被称为分数pip或分数价格。
- en: 'One of the possible explanations as to why this extra digit was added could
    be the fact that the FX market has been evolving rapidly and a lot of LPs literally
    flooded it with money. Do you remember our discussion on volatility and its relationship
    with liquidity in the *Liquidity and volatility: how one transforms into another*
    section? Well, the greater the liquidity, the lower the volatility, and at some
    point, if we continue using the old 4-digit prices then the spread (the difference
    between the bid and ask) is zero. In turn, this means that the sell-side market
    participants no longer can earn on liquidity provision. So, introducing more granular
    price levels was the only reasonable solution to the problem of excessive liquidity.'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 这种额外数字被添加的可能解释之一可能是外汇市场一直在快速发展，大量的LPs（流动性提供商）实际上用钱涌入市场。你还记得我们在“流动性和波动性：一个如何转化为另一个”部分中的讨论吗？好吧，流动性越大，波动性越低，如果我们继续使用旧的4位价格，那么价差（买价和卖价之间的差异）为零。反过来，这意味着卖方市场参与者不再能从流动性提供中获利。因此，引入更精细的价格水平是解决过度流动性问题的唯一合理解决方案。
- en: So, the introduction of more granular prices is a reliable indicator of growing
    liquidity in the market. Is it good or bad?
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，引入更精细的价格是一个可靠的指标，表明市场流动性在增长。这是好是坏？
- en: 'At first glance, it’s definitely good news: the greater the liquidity, the
    easier it is to make contracts and, therefore, traders get a better execution
    for their orders. However, if every buyer and seller can immediately satisfy their
    needs, the price stops moving anywhere. So, highly liquid markets are attractive
    for the sell side, but for buy-side speculators, it becomes more and more difficult
    to make money using directional trading strategies.'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 初看之下，这无疑是好消息：流动性越大，签订合同就越容易，因此，交易者能更好地执行他们的订单。然而，如果每个买家和卖家都能立即满足他们的需求，价格就会停止波动。因此，高流动性市场对卖方有吸引力，但对于买方投机者来说，使用方向性交易策略赚钱变得越来越困难。
- en: 'To give you an idea about how liquidity can affect the performance of buy-side
    speculators: in 2001-2004, it was possible to use a quite simplistic trend following
    trading strategies and it was considered normal if such a strategy made about
    10 pips per trade, on average. Today, following the trend almost completely ceased
    to work in the FX majors and the average profit per trade fell down to 1 pip.
    This is the price traders pay for the ability to fill their orders more efficiently.'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 为了让您了解流动性如何影响买方投机者的表现：在2001-2004年，可以使用相当简单的趋势跟踪交易策略，如果这种策略每次交易平均赚取大约10个点，被认为是正常的。如今，在FX主要货币中，跟随趋势几乎完全失效，每次交易的平均利润下降到1个点。这是交易者为更有效地填充订单所付出的代价。
- en: How do I place a trade?
  id: totrans-262
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 我该如何下单？
- en: Alright, now that we know what we can trade, it’s time to figure out how we
    can do that.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 好吧，既然我们已经知道了我们可以交易什么，现在是时候弄清楚我们如何能够做到这一点了。
- en: 'In the case of cash exchange, it’s more or less clear: I can go to an exchange
    shop or go to a bank. But don’t forget that, in this case, I will have to get
    one price and this price will most likely be very far from the best in the market.'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 在现金兑换的情况下，情况大致如此：我可以去交易所商店，或者去银行。但别忘了，在这种情况下，我必须得到一个价格，而这个价格很可能与市场上最好的价格相差甚远。
- en: So, if I want to benefit from a market where liquidity is huge and prices are
    really competitive, I need to be able to access it somehow. Unless I am a financial
    institution myself (which is most likely not the case), I have to use the services
    of various intermediaries that introduce me to the market and provide access to
    trading venues. These intermediaries are called **brokers**.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我想从流动性巨大且价格极具竞争力的市场中获益，我需要能够以某种方式访问它。除非我自己是一家金融机构（这很可能不是情况），否则我必须使用各种中介机构的服务，这些中介机构将我介绍到市场并提供进入交易场所的途径。这些中介机构被称为**经纪商**。
- en: 'A broker is a market participant whose business is to route orders from clients
    to trading venues while checking them for market risk and, if necessary, providing
    leverage (see the *Trade mechanics: again some* *terminology* section).'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 经纪商是市场参与者，其业务是从客户那里路由订单到交易场所，同时检查市场风险，并在必要时提供杠杆（参见*交易机制：再次一些* *术语* 部分）。
- en: Again, as in the case of market makers, the very words **forex broker** are
    associated with something negative for many. No wonder in the early years of retail
    FX trading many dishonest businesses called themselves brokers but in reality,
    they never routed any order anywhere. This is again no surprise, the minimal ticket
    in the spot FX market in the late 1990s was 1 million base currency, and in the
    early 2000’s it went down to 100,000 – 10 times as low but still too big for small
    retail traders. So those *brokers* offered *mini contracts* and *micro contracts*,
    which of course never left this broker’s closed system.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，就像在市场做市商的情况下，许多人对**外汇经纪商**这个词都有负面印象。难怪在零售外汇交易的早期，许多不诚实的公司自称经纪商，但实际上，他们从未将任何订单路由到任何地方。这并不奇怪，1990年代末现货外汇市场的最低交易量是100万基础货币，而在2000年代初下降到10万——低10倍，但对于小型零售交易者来说仍然太高。因此，那些*经纪商*提供了*迷你合约*和*微型合约*，当然，这些合约从未离开这个经纪商的封闭系统。
- en: 'So, in the early days of retail, FX trading brokers had only two options in
    case they wanted to work with small retail accounts:'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在零售业的早期，如果外汇交易经纪商想要与小型零售账户合作，他们只有两种选择：
- en: Act as market makers for their client
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为其客户提供做市商服务
- en: Do internal netting of clients’ positions and hedge the net amount in the *large*
    market
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对客户的头寸进行内部净额结算，并在*大*市场中对净额进行对冲
- en: Unfortunately, many so-called brokers chose the third option – to do nothing
    and just steal money from their clients. So, we can understand why the mention
    of forex brokers and the word *forex* in general sometimes causes quite an acute
    reaction.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，许多所谓的经纪人选择了第三种选择——什么都不做，只是从他们的客户那里窃取金钱。因此，我们可以理解为什么提到外汇经纪人和一般意义上的“外汇”这个词有时会引起相当强烈的反应。
- en: However – and fortunately – times changed. Now, most of the surviving brokers
    are regulated and, at the very least, guarantee the safety of the client accounts.
    Of course, it is not a guarantee against losses in trading but that’s a completely
    different story.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 然而——幸运的是——时代已经改变。现在，大多数幸存下来的经纪人都是受监管的，至少可以保证客户账户的安全。当然，这并不是保证交易不会亏损，但这完全是另一回事。
- en: Besides that, the structure of the FX market has evolved dramatically since
    the early 2000s. If at the beginning of the century it was populated mostly by
    banks, then today, the variety of both buy-side and sell-side market participants
    is very diverse and the number of trading venues available to virtually anyone
    is quite considerable.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这个之外，自2000年代初以来，外汇市场的结构发生了巨大的变化。如果在本世纪初，市场主要由银行组成，那么如今，买卖双方的参与者种类非常多样，几乎任何人都可以选择的交易场所数量相当可观。
- en: Today, it is really easy to check the broker with the regulator and ask them
    to provide direct access to a liquidity pool or an ECN –and then trade along with
    professional market participants in quite a similar manner as if you traded at
    a centralized regulated exchange.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 今天，检查经纪人是否受到监管非常容易，你可以要求他们提供直接访问流动性池或ECN的权限——然后以相当类似的方式与专业市场参与者进行交易，就像你在中心化受监管的交易所交易一样。
- en: Note
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: When we develop trading applications with Python, I assume that we directly
    connect to a trading venue such as an ECN, avoiding platforms such as MetaTrader
    or proprietary trading platforms because they only add unwanted latency to our
    orders. MetaTrader can be used as a monitoring tool to watch for open positions
    and check the correctness of order execution.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们用Python开发交易应用时，我假设我们直接连接到一个交易场所，例如ECN，避免使用MetaTrader或专有交易平台，因为它们只会给我们的订单增加不必要的延迟。MetaTrader可以用作监控工具，用于监视开放的头寸并检查订单执行的准确性。
- en: It’s been quite a long chapter and quite a long trip into the world of the FX
    markets – sometimes clear and straightforward, sometimes weird and spooky. But
    I am sure there is one question that has long been spinning in your mind while
    reading all of the aforementioned information.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 这已经是一个相当长的章节，也是一次相当漫长的对外汇市场世界的探索——有时清晰直接，有时奇怪而诡异。但我想肯定的是，在你阅读上述所有信息的过程中，一定有一个问题已经在你的脑海中盘旋了很久。
- en: Why do I need all this?
  id: totrans-278
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 我为什么需要所有这些？
- en: 'Well, actually you don’t. Of course, you can just quickly download unclear
    historical price data from an unknown source, develop a model using tools you
    don’t fully understand and optimize it using this data, connect to an unknown
    broker and start trading. The question is: will this trading be successful? Most
    likely not.'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 嗯，实际上你不需要这样做。当然，你可以从不知名的地方快速下载不清晰的历 史价格数据，使用你不完全理解的工具开发一个模型，并使用这些数据进行优化，然后连接到一个不知名的经纪人并开始交易。问题是：这样的交易会成功吗？很可能是不会的。
- en: If you read this chapter carefully, you’ll most likely already understand why.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你仔细阅读这一章，你很可能已经理解了原因。
- en: 'Firstly, when you plan to use certain historical price data for your models
    you should realize what exactly you are going to use: whether it’s last trade,
    bid, ask, or both, or anything else. You should check if historical data contains
    correct timestamps and that no tick is dated earlier than the preceding one. You
    may want to make sure the data you use contains information about trading volume
    – otherwise, you won’t be able to develop a wide range of trading strategies.
    You should make sure that data is clean and consistent, and that there are no
    erroneous quotes that will affect the parameters of your strategy during its development.'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，当你计划为你的模型使用某些历史价格数据时，你应该意识到你到底要使用什么：是最后成交价、买入价、卖出价，还是两者都有，或者其他任何东西。你应该检查历史数据是否包含正确的时间戳，以及没有哪个tick的时间早于前一个。你可能想确保你使用的数据包含交易量的信息——否则，你将无法开发出广泛的交易策略。你应该确保数据是干净且一致的，并且没有错误的报价，这些报价可能会影响你在开发策略时的参数。
- en: Secondly, you should carefully choose the right trading venue for your strategy.
    Does it trade large volumes? Does it trade frequently? Does it attempt to trade
    in *problematic* periods of time when liquidity in the market is thin? Answers
    to all these questions will help you make the right choice.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，你应该仔细选择适合你策略的正确交易场所。它是否交易大量？它是否频繁交易？它是否试图在市场流动性稀薄的*问题时期*进行交易？对所有这些问题的回答将帮助你做出正确的选择。
- en: Finally (something which probably should have been first) – you should make
    absolutely sure that your strategy generates trades that are executable and returns
    that will cover all trading costs, including the market spread and any commissions
    that your broker charges you.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 最后（可能本应首先考虑的事情）——你应该确保你的策略产生的交易是可执行的，并且回报将覆盖所有交易成本，包括市场差价和你的经纪人向你收取的任何佣金。
- en: So, at this point, I would recommend you read this chapter once again now and
    that you return to it from time to time in the future to keep your development
    consistent with the real market.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在这个时候，我建议你现在再次阅读这一章，并在未来不时地回到它，以保持你的发展与实际市场保持一致。
- en: Summary
  id: totrans-285
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we learned about the different ways a market can be organized
    and operated. We familiarized ourselves with key concepts such as exchange, order
    book, and liquidity, noted the possible impact of various factors on price behavior,
    and discovered important intrinsic factors that may negatively affect the performance
    of a trading strategy. With all this fundamental knowledge in mind, we’re ready
    to move on to study the architecture of a trading application in detail, to see
    what we should use in order to meet the challenges of the modern FX market. This
    is what we’re going to do in the next chapter.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一章中，我们了解了市场可以组织和管理的方式。我们熟悉了诸如交易所、订单簿和流动性等关键概念，注意了各种因素对价格行为可能产生的影响，并发现了可能对交易策略表现产生负面影响的内在重要因素。在掌握所有这些基本知识后，我们准备深入研究交易应用架构的细节，看看我们应该使用什么来应对现代外汇市场的挑战。这就是我们在下一章将要做的。
- en: 'Part 2: General Architecture of a Trading Application and A Detailed Study
    of Its Components'
  id: totrans-287
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第二部分：交易应用的一般架构及其组件的详细研究
- en: Being familiar with the subject domain is essential for any software development,
    and *Part 1* introduced the basics of the FX market and the key features typical
    of trading applications. Now, it’s time to outline the architecture of such an
    application and consider its main components in greater detail.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 熟悉主题领域对于任何软件开发都是至关重要的，*第一部分*介绍了外汇市场的基础知识和交易应用典型的关键特征。现在，是时候概述此类应用的架构，并更详细地考虑其主要组件了。
- en: '*Part 2* suggests several solutions used to retrieve and handle market data,
    explains the difference between fundamental and technical analysis, focuses on
    the meaning of classical **technical analysis** (**TA**) indicators from a market
    process standpoint, and provides possible implementations of these indicators
    in Python, in a way compatible with further developments. We will also familiarize
    ourselves with the basics of simple data visualization, which is typically used
    to quickly check market data and the correctness of calculations, and generate
    entry and exit orders.'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: '*第二部分*提出了用于检索和处理市场数据的几种解决方案，解释了基本面分析和技术分析之间的区别，从市场过程的角度关注了经典**技术分析**（**TA**）指标的含义，并提供了这些指标在Python中的可能实现，这些实现与进一步的发展兼容。我们还将熟悉简单数据可视化的基础知识，这通常用于快速检查市场数据和计算的正确性，并生成入场和出场订单。'
- en: 'This part comprises the following chapters:'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 本部分包括以下章节：
- en: '[*Chapter 4*](B19145_04.xhtml#_idTextAnchor073), *Trading Application – What’s
    Inside?*'
  id: totrans-291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第4章*](B19145_04.xhtml#_idTextAnchor073)，*交易应用——里面有什么？*'
- en: '[*Chapter 5*](B19145_05.xhtml#_idTextAnchor086), *Retrieving and Handling Market
    Data with Python*'
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第5章*](B19145_05.xhtml#_idTextAnchor086)，*使用Python检索和处理市场数据*'
- en: '[*Chapter 6*](B19145_06.xhtml#_idTextAnchor101), *Basics of Fundamental Analysis
    and Its Possible Use in FX Trading*'
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第6章*](B19145_06.xhtml#_idTextAnchor101)，*基本面分析的基础及其在外汇交易中的可能用途*'
- en: '[*Chapter 7*](B19145_07.xhtml#_idTextAnchor114), *Technical Analysis and Its
    Implementation in Python*'
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第7章*](B19145_07.xhtml#_idTextAnchor114)，*技术分析及其在Python中的实现*'
- en: '[*Chapter 8*](B19145_08.xhtml#_idTextAnchor130), *Data Visualization in FX
    Trading with Python*'
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*第8章*](B19145_08.xhtml#_idTextAnchor130)，*使用Python进行外汇交易中的数据可视化*'
