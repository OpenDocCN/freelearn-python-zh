- en: '[*Chapter 14*](B16119_14_PreFinal_RK_ePub.xhtml#_idTextAnchor400): Understanding
    Odoo Built-In Models'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[*第14章*](B16119_14_PreFinal_RK_ePub.xhtml#_idTextAnchor400)：理解 Odoo 内置模型'
- en: When a new database is created, an initial data model is populated, providing
    basic entities that can be used for **Odoo Apps**. This chapter identifies the
    most relevant basic entities and explains how to inspect them from the **user
    interface** (**UI**), as well as what their role is.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 当创建一个新的数据库时，会填充一个初始数据模型，提供可用于**Odoo 应用**的基本实体。本章确定了最相关的基本实体，并解释了如何从**用户界面**（**UI**）检查它们，以及它们的作用。
- en: While this understanding is not indispensable for you to be able to develop
    Odoo apps, it will provide a solid base to understand the Odoo framework core
    concepts and help to leverage the technical menu to address more complex requirements
    or issues.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这种理解对于您能够开发 Odoo 应用不是必需的，但它将为理解 Odoo 框架的核心概念提供一个坚实的基础，并帮助利用技术菜单来解决更复杂的需求或问题。
- en: 'The following topics are discussed in this chapter:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章讨论以下主题：
- en: Understanding the contacts data model
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解联系人数据模型
- en: Understanding the users and companies data model
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解用户和公司数据模型
- en: Understanding the security-related information repository
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解安全相关信息库
- en: Understanding the database structure models
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解数据库结构模型
- en: Understanding the UI-related repository
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解 UI 相关的信息库
- en: Understanding the configuration properties and company parameters
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解配置属性和公司参数
- en: Understanding the messaging data model
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解消息数据模型
- en: By the end of this chapter, you will be able to use the technical menu to inspect
    the most relevant internal data record of the Odoo framework, helping you with
    issue analysis and resolution.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，您将能够使用技术菜单来检查 Odoo 框架中最相关的内部数据记录，帮助您进行问题分析和解决。
- en: Throughout the chapter, simplified **entity-relationship diagrams** (**ERDs**)
    are presented, allowing you to visualize how the core models are interrelated
    and thus have a deeper understanding of how these can be used in your business
    applications.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，展示了简化的**实体-关系图**（**ERDs**），让您能够可视化核心模型之间的关系，从而更深入地理解如何在您的业务应用中使用这些模型。
- en: Technical requirements
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: To follow this chapter, you will only need admin access to an Odoo 15 instance
    and to enable the developer mode in the **Settings** | **Technical** menu. To
    follow the contacts data model section, the **Contacts** app must be installed,
    and to follow the messaging data model section, the **Discuss** app must be installed.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 要跟随本章内容，您只需要对 Odoo 15 实例拥有管理员访问权限，并在**设置** | **技术**菜单中启用开发者模式。要跟随联系人数据模型部分，必须安装**联系人**应用，要跟随消息数据模型部分，必须安装**讨论**应用。
- en: Understanding the contacts data model
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解联系人数据模型
- en: Resource models carry the `res.` prefix on their technical **identifiers** (**IDs**).
    They hold Odoo's basic master data, such as users, companies, and currencies.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 资源模型在其技术**标识符**（**ID**）上携带 `res.` 前缀。它们包含 Odoo 的基本主数据，如用户、公司、货币。
- en: A central model for Odoo is the `res.partner`. It is used anywhere an address,
    person, or organization needs to be represented. Examples are customers, suppliers,
    contact persons, invoicing or shipping addresses, employees, and applicants. It
    is also used to complement the contact data for users and configured companies.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: Odoo 的一个中心模型是 `res.partner`。它用于任何需要表示地址、个人或组织的地方。例如，客户、供应商、联系人、开票或发货地址、员工和申请人。它还用于补充用户和配置公司的联系数据。
- en: 'While the `res.partner` model is provided by the Odoo base module and requires
    no specific app to be installed, to have the corresponding menus available, the
    **Contacts** app needs to be installed. These are the relevant **Contact** related
    models:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然 `res.partner` 模型由 Odoo 基础模块提供，无需安装特定应用，但要使相应的菜单可用，必须安装**联系人**应用。这些是与**联系人**相关的模型：
- en: '`res.bank`, holds bank identification data, as it turns out to be hard to do
    business without having a bank involved somehow. Bank data can be browsed from
    the **Contacts** | **Configuration** | **Bank Accounts** | **Banks** menu option.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`res.bank` 存储银行识别数据，因为很明显，没有银行参与很难进行商业活动。银行数据可以从**联系人** | **配置** | **银行账户**
    | **银行**菜单选项进行浏览。'
- en: '`res.partner.bank`, holds bank account details. Bank accounts are related to
    a `res.partner` and, not surprisingly, also reference the `res.bank` bank they
    are related to. Bank accounts can be browsed at **Contacts** | **Configuration**
    | **Bank Accounts** | **Banks Accounts**.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`res.partner.bank`，包含银行账户详情。银行账户与`res.partner`相关联，不出所料，也引用了它们相关的`res.bank`银行。银行账户可以在**联系人**
    | **配置** | **银行账户** | **银行账户**中浏览。'
- en: '`res.partner.industry`, is a high-level list of economic activities. It is
    populated with NACE codes. **NACE**, the **Nomenclature of Economic Activities**,
    is the European statistical classification of economic activities. The list can
    be found at **Contacts** | **Configuration** | **Industries**.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`res.partner.industry`，是一个高级经济活动列表。它用 NACE 代码填充。**NACE**，即**经济活动命名法**，是欧洲经济活动的统计分类。该列表可以在**联系人**
    | **配置** | **行业**中找到。'
- en: '`res.country`, lists the world countries and includes useful data such as the
    two-digit `res.partner` model. The country list can be browsed at **Contacts**
    | **Configuration** | **Localization** | **Countries**.'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`res.country`，列出世界国家，并包括有用的数据，如两位数的`res.partner`模型。国家列表可以在**联系人** | **配置**
    | **本地化** | **国家**中浏览。'
- en: '`res.country.state`, lists country states and similar administrative regions.
    The list is populated by default, and the data can be seen at **Contacts** | **Configuration**
    | **Localization** | **Feb. States**.'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`res.country.state`，列出国家州和类似的行政区域。该列表默认填充，数据可以在**联系人** | **配置** | **本地化** |
    **二月州**中查看。'
- en: '`res.country.group`, allows us to define country groups. The default groups
    provided by Odoo are Europe, **Single Euro Payments Area** (**SEPA**) Countries,
    and South America. Other groups can be added per need, at **Contacts** | **Configuration**
    | **Localization** | **Country Groups**.'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`res.country.group`，允许我们定义国家组。Odoo 提供的默认组包括欧洲、**单一欧元支付区**（**SEPA**）国家，和南美洲。根据需要，可以在**联系人**
    | **配置** | **本地化** | **国家组**中添加其他组。'
- en: '`res.currency`, contains a currency list, relevant when multi-currency is enabled.
    The list is pre-populated by Odoo, and the relevant currencies should be set as
    `active`. The menu option to access the list is in the **Invoicing**/**Accounting**
    app (if **multi-currency** is enabled), in the corresponding **Configuration**
    | **Accounting** | **Currencies** menu option.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`res.currency`，包含货币列表，当启用多货币时相关。该列表由 Odoo 预填充，相关货币应设置为`active`。访问该列表的菜单选项位于**发票**/**会计**应用中（如果启用了**多货币**），在相应的**配置**
    | **会计** | **货币**菜单选项中。'
- en: 'The following diagram provides a high-level overview of these models and their
    relations:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的图表提供了这些模型及其关系的概述：
- en: '![Figure 14.1 – Contacts data model'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 14.1 – 联系人数据模型'
- en: '](img/Figure_14.1_B16119.jpg)'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_14.1_B16119.jpg)'
- en: Figure 14.1 – Contacts data model
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.1 – 联系人数据模型
- en: Note
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 备注
- en: The data model diagrams provided here are simplified ERDs. Part of the simplification
    is replacing the *crow's foot* notation, which may not be familiar to many of
    you, with simple arrows. An **arrow** represents a many-to-one relation. A **bidirectional
    arrow** represents a many-to-many relation. Dotted lines represent soft relations
    that don't use a database ID or a database **foreign key** (**FK**). Model names
    use the singular form, as is the convention for ERDs, even if the Odoo model's
    name may use the plural form.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 这里提供的数据模型图是简化的实体关系图（ERD）。简化的一部分是用简单的箭头替换了可能对许多人来说不熟悉的**鸟脚**符号。**箭头**代表多对一关系。**双向箭头**代表多对多关系。虚线代表软关系，这些关系不使用数据库
    ID 或数据库**外键**（**FK**）。模型名称使用单数形式，这是 ERD 的惯例，即使 Odoo 模型的名称可能使用复数形式。
- en: Other resource models are the users and companies, described in the next section.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 其他资源模型是用户和公司，将在下一节中描述。
- en: Understanding the users and companies data model
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解用户和公司数据模型
- en: 'Users and companies are central elements of the Odoo data model. They can be
    accessed in the **Settings** | **Users & Companies** menu. The menu options available
    are listed here:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 用户和公司是 Odoo 数据模型的核心元素。它们可以在**设置** | **用户与公司**菜单中访问。可用的菜单选项在此列出：
- en: '`res.users`, stores the system users. These have an implicit partner record
    in the `partner_id` field, where the name, email, image, and other contact details
    are stored.'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`res.users`，存储系统用户。这些用户在`partner_id`字段中有一个隐式的合作伙伴记录，其中存储了名称、电子邮件、图像和其他联系详情。'
- en: '`res.group`, stores the security access groups. This menu is only available
    with the developer mode enabled. Users belonging to a group will be granted that
    group''s privileges. Groups can inherit other groups, meaning that they will also
    provide the privileges from these inherited groups.'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`res.group`，存储安全访问组。此菜单仅在启用开发者模式时可用。属于某个组的用户将获得该组的权限。组可以继承其他组，这意味着它们也将提供这些继承组的权限。'
- en: '`res.company`, stores the organization''s details and the company-specific
    configurations. It has an implicit partner record, holding the address and contact
    details, stored in the `partner_id` field. A default company is provided on new
    databases, with the `base.main_company` **Extensible Markup Language** (**XML**)
    ID.'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`res.company`，存储组织的详细信息以及特定公司的配置。它有一个隐式的合作伙伴记录，包含地址和联系详情，存储在`partner_id`字段中。新数据库提供了一个默认公司，其`base.main_company`**可扩展标记语言**（**XML**）ID。'
- en: 'The following diagram provides a high-level view of relations between these
    models:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表提供了这些模型之间关系的概览：
- en: '![Figure 14.2 – Users and companies data model'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '![图14.2 – 用户和公司数据模型'
- en: '](img/Figure_14.2_B16119.jpg)'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_14.2_B16119.jpg)'
- en: Figure 14.2 – Users and companies data model
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 图14.2 – 用户和公司数据模型
- en: The user and access group models are the foundation for the Odoo access security
    definitions. The next section details these models, accessible from the **Technical**
    menu.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 用户和访问组模型是Odoo访问安全定义的基础。下一节将详细介绍这些模型，可通过**技术**菜单访问。
- en: Understanding the security-related information repository
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解安全相关信息存储库
- en: 'Odoo users are granted access to features through access groups. These access
    groups hold the definitions of the privileges access they provide. The most relevant
    access models are listed here:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: Odoo用户通过访问组获得对功能的访问权限。这些访问组包含它们提供的权限的定义。最相关的访问模型在此列出：
- en: '`res.users`, are the Odoo system users.'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`res.users`，是Odoo系统用户。'
- en: '`res.group`, are the access groups. Users belong to one or more groups, and
    each group grants certain privileges.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`res.group`，是访问组。用户属于一个或多个组，每个组授予一定的权限。'
- en: '`ir.model.access`, grants a group **create-read-update-delete** (**CRUD**)
    privileges on a model.'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ir.model.access`，授予一个模型**创建-读取-更新-删除**（**CRUD**）权限。'
- en: '`ir.rule`, grants a group CRUD privileges on a subset of the model records,
    defined by a domain expression. For example, with regular access rights, you can
    grant write access, and then a record rule can limit certain records to be read-only.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ir.rule`，授予一个组在模型记录子集上的CRUD权限，这些记录由域表达式定义。例如，使用常规访问权限，您可以授予写入权限，然后记录规则可以限制某些记录为只读。'
- en: 'The following diagram provides a simplified view of this part of the data model:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表提供了数据模型这一部分的简化视图：
- en: '![Figure 14.3 – Security-related data model'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '![图14.3 – 安全相关数据模型'
- en: '](img/Figure_14.3_B16119.jpg)'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_14.3_B16119.jpg)'
- en: Figure 14.3 – Security-related data model
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 图14.3 – 安全相关数据模型
- en: You have learned about the data model for users, access groups, partners, and
    access rights, which all have a close connection between them. In the next section,
    you will continue further improving your understanding of the database structure
    definition, such as models and fields.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 您已经了解了用户、访问组、合作伙伴和访问权限的数据模型，它们之间都有紧密的联系。在下一节中，您将继续进一步了解数据库结构定义，例如模型和字段。
- en: Understanding the database structure models
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解数据库结构模型
- en: The information repository (`ir.`) models describe the Odoo internal configuration,
    such as models, fields, and UI. These definitions can be accessed under the **Settings**
    | **Technical** menu.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 信息存储库（`ir.`）模型描述了Odoo内部配置，如模型、字段和UI。这些定义可以在**设置** | **技术**菜单下访问。
- en: 'The data models-related information repository can be found using the **Settings**
    | **Technical** | **Database Structure** menu. Following the most relevant option
    in that menu, we have these settings:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过**设置** | **技术** | **数据库结构**菜单找到与数据模型相关的信息存储库。在该菜单中最相关的选项之后，我们有以下设置：
- en: '`decimal.precision`, is used to configure the number of precision digits for
    different use cases, such as product prices.'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`decimal.precision`，用于配置不同用例的精度数字位数，例如产品价格。'
- en: '`ir.model`, describes the Odoo installed data models that most of the time
    map to a database table where the data is stored. It is useful to find the model''s
    XML ID, using the developer menu **View Metadata** option. The **In Apps** field
    is also useful for finding out the modules involved in the model data structure
    definition.'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ir.model`，描述了Odoo安装的数据模型，这些模型大多数情况下映射到存储数据的数据库表。使用开发者菜单中的**查看元数据**选项查找模型的XML
    ID很有用。**在应用中**字段也有助于找出参与模型数据结构定义的模块。'
- en: '`ir.model.field`, stores the model fields defined in the database. This list
    can be accessed using the **Settings** | **Technical** | **Database Structure**
    | **Fields** menu, or the developer menu **View Fields** option.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ir.model.field`，存储在数据库中定义的模型字段。此列表可以通过**设置** | **技术** | **数据库结构** | **字段**菜单访问，或通过开发者菜单中的**查看字段**选项访问。'
- en: '`ir.attachment`, is the model used to store attachment files. It is a single
    storage place used across Odoo.'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ir.attachment`，是用于存储附件文件的模型。它是Odoo跨应用使用的单一存储位置。'
- en: 'The **Settings** | **Technical** | **Sequences & Identifiers** menu includes
    models related to data record IDs and contains the following settings:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '**设置** | **技术** | **序列与标识符**菜单包括与数据记录ID相关的模型，并包含以下设置：'
- en: '`ir.model.data`, is where external IDs, also known as XML IDs are stored. They
    map ID names that are database instance-agnostic to database instance-specific
    ID keys. They are accessible at **Settings** | **Technical** | **Sequences & Identifiers**
    | **External Identifiers**.'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ir.model.data`，是存储外部ID的地方，也称为XML ID。它们将数据库实例无关的ID名称映射到数据库实例特定的ID键。它们可在**设置**
    | **技术** | **序列与标识符** | **外部标识符**中访问。'
- en: '`ir.sequence`, describes the automatic number assignment sequences used—for
    example, on **sales orders** or **stock transfers**.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ir.sequence`，描述了用于自动编号分配的序列，例如在**销售订单**或**库存转移**上。'
- en: 'The following diagram presents a high-level view of the relations between these
    models:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表展示了这些模型之间的高层次关系：
- en: '![Figure 14.4 – Database structure data model'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '![图14.4 – 数据库结构数据模型'
- en: '](img/Figure_14.4_B16119.jpg)'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '![图片](img/Figure_14.4_B16119.jpg)'
- en: Figure 14.4 – Database structure data model
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 图14.4 – 数据库结构数据模型
- en: You have learned about the key models used to hold the Odoo model definition.
    Next, we have the presentation layer definition, discussed in the next section.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 您已经了解了用于保持Odoo模型定义的关键模型。接下来，我们将讨论下一节中的表示层定义。
- en: Understanding the UI-related information repository
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解与UI相关的信息存储库
- en: 'UI elements, such as menus and views, are stored in information repository
    models. The corresponding data can be accessed through the **Settings** | **Technical**
    | **User Interface** menu. The most relevant options found there are listed here:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: UI元素，如菜单和视图，存储在信息存储库模型中。对应的数据可以通过**设置** | **技术** | **用户界面**菜单访问。其中最相关的选项如下列出：
- en: '`ir.ui.menu`, defines the menu options. These form a hierarchy tree, and the
    leaf items can trigger an **Action**, then often provide instructions to display
    the composition of views.'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ir.ui.menu`，定义菜单选项。这些形成一个层次树，叶项可以触发**动作**，然后通常提供显示视图组合的说明。'
- en: '`ir.ui.view`, stores the view definitions and their extensions. View types
    include form, list, Kanban, and QWeb (both for reports and for web page templates).'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ir.ui.view`，存储视图定义及其扩展。视图类型包括表单、列表、看板和QWeb（用于报告和网页模板）。'
- en: 'Under the **Settings** | **Technical** | **Actions** menu, you can find a definition
    for these UI elements. The most relevant options are listed here:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在**设置** | **技术** | **动作**菜单下，您可以找到这些UI元素的定义。其中最相关的选项如下列出：
- en: '`ir.actions.actions`, is the base model that other action types derive from.
    Usually, you won''t need to deal with it directly.'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ir.actions.actions`，是其他动作类型从中派生的基本模型。通常，您不需要直接处理它。'
- en: '`ir.actions.report`, are actions to print a report. They will have related
    QWeb views, providing the report definition, used to generate the report **HyperText
    Markup Language** (**HTML**) that can then be converted to a **Portable Desktop
    Format** (**PDF**) format.'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ir.actions.report`，是打印报告的动作。它们将具有相关的QWeb视图，提供报告定义，用于生成可以转换为**便携式桌面格式**（**PDF**）格式的**超文本标记语言**（**HTML**）报告。'
- en: '`ir.actions.act_window`, is used to present the composition of a view and is
    probably the most frequently used action type. The simplest view composition is
    a list view and a form view.'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ir.actions.act_window`，用于展示视图的组成，可能是最常用的动作类型。最简单的视图组合是列表视图和表单视图。'
- en: '`ir.actions.server`, is used to run a server process, such as creating or modifying
    a record, sending an email, or even running Python code.'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ir.actions.server` 用于运行服务器进程，例如创建或修改记录、发送电子邮件，甚至运行 Python 代码。'
- en: 'The following diagram provides a simplified view of the previous models and
    their relations:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表提供了先前模型及其关系的简化视图：
- en: '![Figure 14.5 – Actions and UI data model'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 14.5 – 操作和 UI 数据模型'
- en: '](img/Figure_14.5_B16119.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '![图 14.5 – B16119.jpg](img/Figure_14.5_B16119.jpg)'
- en: Figure 14.5 – Actions and UI data model
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.5 – 操作和 UI 数据模型
- en: With this section, you should have gained a better understanding of the several
    elements relevant to defining the Odoo UI and how to use the technical menu to
    inspect them. In the next section, you will be introduced to the technical models
    used for global configuration parameters and for company-dependent data.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 通过本节，你应该对定义 Odoo UI 相关的几个元素以及如何使用技术菜单来检查它们有了更好的理解。在下一节中，你将介绍用于全局配置参数和公司相关数据的技術模型。
- en: Understanding the configuration properties and company parameters
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解配置属性和公司参数
- en: 'Another important menu in the technical options is **Settings** | **Technical**
    | **User Parameters**. You can find two options there: **System Parameters** and
    **Company Properties**.'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 技术选项中的另一个重要菜单是 **设置** | **技术** | **用户参数**。在那里你可以找到两个选项：**系统参数** 和 **公司属性**。
- en: '`ir.config_parameter`, stores global configuration options. Some are defaults
    that can be adjusted, while others are set when some options are selected in the
    `web.base.url` option stores the Odoo server **Uniform Resource Locator** (**URL**)
    and can be used to create links in email templates.'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '`ir.config_parameter` 存储全局配置选项。其中一些是默认值，可以调整，而其他一些则在 `web.base.url` 选项中选择某些选项时设置。该选项存储
    Odoo 服务器的 **统一资源定位符**（**URL**）并可用于在电子邮件模板中创建链接。'
- en: '`ir.property`, is where data for multi-company fields is stored. Some fields
    can have different values depending on the active company. These are also known
    as **property fields**.'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '`ir.property` 是存储多公司字段数据的地方。某些字段可以根据活动公司具有不同的值。这些也被称为 **属性字段**。'
- en: For example, the partner fields `property_account_receivable_id`), relevant
    for customers, and `property_account_payable_id`), relevant for suppliers, are
    both property fields.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，对于客户相关的合作伙伴字段 `property_account_receivable_id`) 和对于供应商相关的 `property_account_payable_id`)，它们都是属性字段。
- en: Since the same field name can hold different values, depending on the active
    company, it can be a regular database file. That is where the `ir.property` model
    comes in as the place where these values can be stored.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 由于相同的字段名可以持有不同的值，这取决于活动公司，它可以是常规数据库文件。这就是 `ir.property` 模型作为存储这些值的地方出现。
- en: 'This model has the following fields:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 此模型具有以下字段：
- en: '`property_account_receivable_id`.'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`property_account_receivable_id`。'
- en: '`ir.model.fields` record.'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ir.model.fields` 记录。'
- en: '`Float` or `Many2one`.'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Float` 或 `Many2one`。'
- en: '`res.partner,62` means a reference for the `res.partner` record with database
    ID 62.'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`res.partner,62` 表示数据库 ID 为 62 的 `res.partner` 记录的引用。'
- en: '**Company**: The company this value is valid for.'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**公司**：此值有效的公司。'
- en: '`account.account,813` for a chart of accounts with ID 813.'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`account.account,813` 表示 ID 为 813 的会计科目表。'
- en: Tip
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 小贴士
- en: The **Resource** field is optional. If blank, it is used as the default value
    for new records in that company. This is used for the case of the **Account Receivable**
    and **Account Payable** fields used as an example here.
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**资源**字段是可选的。如果为空，它将用作该公司的新的记录的默认值。这用于此处作为示例的 **应收账款** 和 **应付账款** 字段。'
- en: Understanding the relevance of these company properties and parameters can be
    useful for advanced configuration tweaks, such as adjusting the public web URL
    to be used or defining a multi-company field default value. The next section will
    continue the technical menu exploration journey, this time covering message-related
    models.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 理解这些公司属性和参数的相关性对于高级配置调整可能很有用，例如调整用于公共 Web URL 的默认值或定义多公司字段的默认值。下一节将继续技术菜单探索之旅，这次将涵盖与消息相关的模型。
- en: Understanding messaging data models
  id: totrans-99
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解消息数据模型
- en: A relevant technical area you might need to work with is the messaging-related
    models used by the Chatter widget found in many forms. These features are provided
    by the `mail`, so it needs to be installed before the following menu items are
    available.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能需要与之合作的相关技术领域是许多表单中发现的 Chatter 小部件所使用的消息相关模型。这些功能由 `mail` 提供，因此需要在以下菜单项可用之前安装。
- en: 'The relevant technical models can be found in the **Settings** | **Technical**
    | **Discuss** menu. The most important options found there are listed here:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 相关的技术模型可以在**设置** | **技术** | **讨论**菜单中找到。那里找到的最重要选项如下列所示：
- en: '`mail.message`, stores each message. It is related to a *resource*, a particular
    record in a model, through the **Mail Thread** abstract model.'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mail.message`存储每个消息。它通过**邮件线程**抽象模型与一个**资源**（模型中的一个特定记录）相关联。'
- en: '`mail.message.subtype`, is used for each message. The basic subtypes are **Note**,
    for internal discussions, **Discussion,** for outside messages, and **Activities**,
    for scheduled activities. These are available for any model. Other subtypes, usually
    model-specific, can be added to identify different events. This allows the configuring
    of default subscriptions, deciding which events should trigger notifications to
    which followers.'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mail.message.subtype`用于每个消息。基本子类型包括**笔记**，用于内部讨论，**讨论**，用于外部消息，以及**活动**，用于计划的活动。这些子类型适用于任何模型。其他子类型，通常是模型特定的，可以添加以识别不同的事件。这允许配置默认订阅，决定哪些事件应该触发向哪些订阅者发送通知。'
- en: '`mail.tracking.value`, stores the field values change log for tracked fields.
    For a field to be tracked, check the `tracked=True` field attribute. These changelogs
    are presented in the Chatter message, and so the tracking values are linked to
    a Chatter message.'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mail.tracking.value`存储跟踪字段的字段值变更日志。要跟踪一个字段，请检查`tracked=True`字段属性。这些变更日志在聊天消息中呈现，因此跟踪值与聊天消息相关联。'
- en: '`mail.activity`, stores the individual activities for a record. The **Activity
    Mixin** abstract adds other models the ability to link to activities, similarly
    to what **Mail Thread** does for messages.'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mail.activity`存储记录的单独活动。**活动混合**抽象增加了其他模型链接到活动的能力，类似于**邮件线程**对消息所做的那样。'
- en: '`mail.activity.type`, are the configurable activity types, such as **Email**,
    **Call**, **Meeting**, or **Todo**.'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mail.activity.type`是可配置的活动类型，例如**电子邮件**、**电话**、**会议**或**待办事项**。'
- en: '`mail.followers`, stores a list of followers for each message thread. Each
    follower record also has a list of subtypes it has subscribed to. Whenever a new
    message with any of these subtypes is added, the follower will get a notification.'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mail.followers`存储每个消息线程的订阅者列表。每个订阅者记录还有一个它已订阅的子类型列表。每当添加包含这些子类型之一的任何新消息时，订阅者将收到通知。'
- en: Tip
  id: totrans-108
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 小贴士
- en: Data access and changelogs are important features in some environments with
    strict control policies. An alternative to the out-of-the-box tracking feature
    is the **Audit Log** community module. You can find it at [https://odoo-community.org/shop/product/audit-log-533](https://odoo-community.org/shop/product/audit-log-533).
  id: totrans-109
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在一些具有严格控制策略的环境中，数据访问和变更日志是重要功能。作为开箱即用的跟踪功能的替代方案，可以使用**审计日志**社区模块。您可以在[https://odoo-community.org/shop/product/audit-log-533](https://odoo-community.org/shop/product/audit-log-533)找到它。
- en: 'The following diagram provides a high-level view of these models and their
    relations:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表提供了这些模型及其关系的概览：
- en: '![Figure 14.6 – Message and activity data model'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '![图14.6 – 消息和活动数据模型'
- en: '](img/Figure_14.6_B16119.jpg)'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/Figure_14.6_B16119.jpg)'
- en: Figure 14.6 – Message and activity data model
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 图14.6 – 消息和活动数据模型
- en: Most of the time, you would use a few handpicked **application programming interface**
    (**API**) methods to create messages and activities and will not need to delve
    into the details on how the corresponding data is stored.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数时候，你会使用一些精选的**应用程序编程接口**（**API**）方法来创建消息和活动，而不需要深入了解相应数据是如何存储的。
- en: For some advanced cases, having a good understanding of the underlying data
    model can be valuable. In particular, understanding message subtypes and follower
    subscriptions to them can be useful for fine-grained control of notifications.
    This completes our overview of the Odoo framework's most important technical models.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 对于一些复杂情况，对底层数据模型有良好的理解可能很有价值。特别是，了解消息子类型和它们对订阅者的订阅情况，对于精细控制通知非常有用。这完成了我们对Odoo框架最重要的技术模型的概述。
- en: Summary
  id: totrans-116
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you learned about the internal structures of the Odoo framework,
    provided by information repository (`ir`) and resource (`res`) models.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你了解了Odoo框架的内部结构，这些结构由信息仓库(`ir`)和资源(`res`)模型提供。
- en: The **Contacts** model is central for storing all people and address data in
    Odoo, and installing the **Contacts** app adds the UI for this model and related
    data. Understanding how company contacts can have child contacts and addresses
    is important to effectively use Odoo. The **Users & Companies** menu, from the
    **Settings** app, was also discussed, to introduce **Users**, **Access Groups**,
    and **Companies**. The role of **Access Groups** to grant access privileges to
    **Users** is a key idea here. The remaining relevant elements are exposed in the
    **Technical** menu of the **Settings** app. Let's review some key ideas here addressed
    in the chapter.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '**Contacts** 模型对于在 Odoo 中存储所有人员和地址数据至关重要，安装 **Contacts** 应用程序为该模型和相关数据添加了用户界面。了解公司联系人可以有子联系人和地址对于有效地使用
    Odoo 至关重要。**Settings** 应用程序中的 **Users & Companies** 菜单也被讨论，以介绍 **Users**、**Access
    Groups** 和 **Companies**。**Access Groups** 在此处的作用是授予 **Users** 访问权限是一个关键思想。剩余的相关元素在
    **Settings** 应用程序的 **Technical** 菜单中公开。现在让我们回顾一下本章中提到的关键思想。'
- en: Starting from the top of the menu, the **Discuss** submenu holds the message
    and activities data model, and a key idea is how subtypes are used to control
    automatic notifications. The **Actions** menu exposes the actions used in menu
    items and the context menu, and is used to present views, print reports, or execute
    code in the server. The **User Interface** menu introduces the **Menu Items**
    that make use of the **Actions**, as well as the **Views** menu option, used to
    hold both backend views and frontend HTML templates. Next in the menu is the **Database
    Structure** submenu. Here, the models used to describe all the Odoo data structures
    are available. These are referenced in multiple places during app development,
    such as in view definitions or model extensions. Closely related to models are
    the **Security** definitions, granting members of access groups access privileges
    to read or write to models, or specific record domains in a model.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 从菜单的顶部开始，**Discuss** 子菜单包含消息和活动数据模型，一个关键思想是使用子类型来控制自动通知。**Actions** 菜单暴露了在菜单项和上下文菜单中使用的操作，并用于展示视图、打印报告或在服务器上执行代码。**User
    Interface** 菜单介绍了利用 **Actions** 的 **Menu Items**，以及用于存储后端视图和前端 HTML 模板的 **Views**
    菜单选项。菜单中的下一个是 **Database Structure** 子菜单。在这里，用于描述所有 Odoo 数据结构的模型都是可用的。这些模型在应用程序开发过程中的多个地方被引用，例如在视图定义或模型扩展中。与模型密切相关的是
    **Security** 定义，它授予访问组成员读取或写入模型或模型中特定记录域的访问权限。
- en: While not every single technical menu option was reviewed, the most relevant
    ones were presented and should provide a solid understating of the data structures
    underlying the `base` and `mail` modules. Your journey through the Odoo development
    horizon is close to an end. Now that you have all the tools and skills to develop
    your business applications, the final piece missing is to deploy them and make
    them available for the end users.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然没有审查每个技术菜单选项，但最相关的选项已被展示，并应提供对 `base` 和 `mail` 模块下数据结构的坚实基础理解。您在 Odoo 开发领域的旅程即将结束。现在您已经拥有了开发业务应用程序所需的所有工具和技能，所缺少的最后一部分是将它们部署并使其对最终用户可用。
- en: The Odoo project's last mile is to deploy our work for real usage. Installing
    Odoo for a production environment has additional requirements when compared to
    a development installation. The next chapter will guide you through the setup
    of an Odoo production installation, avoiding the most common pitfalls.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: Odoo 项目的最后一英里是将我们的工作部署到实际使用中。与开发安装相比，为生产环境安装 Odoo 有额外的要求。下一章将指导您设置 Odoo 生产安装，避免最常见的陷阱。
