- en: Chapter 9. Documenting Your Project
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第9章。记录你的项目
- en: Documentation is the work that is often neglected by developers and sometimes
    by managers. This is often due to a lack of time towards the end of development
    cycles, and the fact that people think they are bad at writing. Some of them are
    bad indeed, but the majority of them are able to produce a fine documentation.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 文档经常被开发者忽视，有时也被管理者忽视。这往往是由于在开发周期结束时缺乏时间，以及人们认为自己写作水平不佳。其中一些确实写得不好，但大多数人能够制作出良好的文档。
- en: In any case, the result is a disorganized documentation made of documents that
    are written in a rush. Developers hate doing this kind of work most of the time.
    Things get even worse when the existing documents need to be updated. Many projects
    out there are just providing poor, out-of-date documentation because the manager
    does not know how to deal with it.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 无论如何，结果都是由匆忙写成的文档组成的混乱文档。大多数时候，开发者都讨厌做这种工作。当需要更新现有文档时，情况变得更糟。许多项目只提供质量低劣、过时的文档，因为管理者不知道如何处理它。
- en: But setting up a documentation process at the beginning of the project and treating
    documents as if they were modules of code makes documenting easier. Writing can
    even be fun when a few rules are followed.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 但在项目开始时建立文档流程，并将文档视为代码模块，可以使文档编写变得更容易。遵循一些规则时，写作甚至可以成为一种乐趣。
- en: 'This chapter provides a few tips to start documenting your project through:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本章提供了一些开始记录项目的提示：
- en: The seven rules of technical writing that summarize the best practices
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 总结最佳实践的技术写作的七条规则
- en: A reStructuredText primer, which is a plain text markup syntax used in most
    of the Python projects
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: reStructuredText入门，这是Python项目中使用的纯文本标记语法
- en: A guide for building good project documentation
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建良好项目文档的指南
- en: The seven rules of technical writing
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术写作的七条规则
- en: Writing good documentation is easier in many aspects than writing code. Most
    developers think it is very hard, but by following a simple set of rules it becomes
    really easy.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 写好文档在许多方面比写代码更容易。大多数开发者认为这很难，但遵循一套简单的规则后，它变得非常容易。
- en: We are not talking here about writing a book of poems but a comprehensive piece
    of text that can be used to understand a design, an API, or anything that makes
    up the codebase.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 我们这里讨论的不是写一本诗集，而是一篇全面的文本，可以用来理解设计、API或构成代码库的任何内容。
- en: 'Every developer is able to produce such material, and this section provides
    seven rules that can be applied in all cases:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 每个开发者都能够制作这样的材料，本节提供了七条规则，可以在所有情况下应用：
- en: '**Write in two steps**: Focus on ideas and then on reviewing and shaping your
    text.'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分两步写**：先关注想法，然后再审查和塑造你的文本。'
- en: '**Target the readership**: Who is going to read it?'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**针对读者群**：谁会阅读它？'
- en: '**Use a simple style**: Keep it straight and simple. Use good grammar.'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用简单的风格**：保持简洁明了。使用良好的语法。'
- en: '**Limit the scope of the information**: Introduce one concept at a time.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**限制信息的范围**：一次引入一个概念。'
- en: '**Use realistic code examples**: "Foos" and "bars" should be avoided.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用现实的代码示例**："Foos"和"bars"应该避免。'
- en: '**Use a light but sufficient approach**: You are not writing a book!'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用轻量但足够的方法**：你不是在写一本书！'
- en: '**Use templates**: Help the readers to get habits.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用模板**：帮助读者养成习惯。'
- en: 'These rules are mostly inspired and adapted from *Agile Documentation: A Pattern
    Guide to Producing Lightweight Documents for Software Projects*, *Wiley*, a book
    by Andreas Rüping that focuses on producing the best documentation in software
    projects.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 这些规则大多受到Andreas Rüping的《敏捷文档：软件项目轻量级文档的模式指南》（Wiley）的启发和改编，该书侧重于在软件项目中制作最佳文档。
- en: Write in two steps
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 分两步写
- en: 'Peter Elbow, in *Writing With Power: Techniques for Mastering the Writing Process*,
    *Oxford University Press*, explains that it is almost impossible for any human
    being to produce a perfect text in one shot. The problem is that many developers
    write documentation and try to directly come up with some perfect text. The only
    way they succeed in this exercise is by stopping writing after every two sentences
    to read them back and doing some corrections. This means that they are focusing
    both on the content and the style of the text.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: Peter Elbow在《写作的力量：掌握写作过程的技巧》（牛津大学出版社）中解释说，任何人几乎不可能一次写出完美的文本。问题在于，许多开发者写文档并试图直接得到一些完美的文本。他们成功的唯一方法是在每写两个句子后停下来阅读它们并做一些修改。这意味着他们同时关注文本的内容和风格。
- en: This is too hard for the brain and the result is often not as good as it could
    be. A lot of time and energy is spent in polishing the style and shape of the
    text before its meaning is completely thought through.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 这对大脑来说太难了，结果往往不如预期的那么好。在完全思考其含义之前，花费了大量时间和精力来打磨文本的风格和形状。
- en: Another approach is to drop the style and organization of the text and focus
    on its content. All ideas are laid down on paper, no matter how they are written.
    The developer starts to write a continuous stream and does not pause when he or
    she makes grammatical mistakes, or for anything that is not about the content.
    For instance, it does not matter if the sentences are barely understandable as
    long as the ideas are written down. He or she just writes down what he wants to
    say with a rough organization.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种方法是放弃文本的风格和组织，专注于其内容。所有想法都被记录在纸上，无论它们是如何书写的。开发者开始写一个连续的流，不会在犯语法错误或任何与内容无关的事情时停下来。例如，只要想法被写下来，句子几乎无法理解并不重要。他/她只是以粗略的组织写下他想说的话。
- en: By doing this, the developer focuses on what he or she wants to say and will
    probably get more content out of his or her mind than he or she initially thought
    they would.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这样做，开发者专注于他/她想要表达的内容，可能会从他/她的头脑中得到比最初想象的更多的内容。
- en: Another side-effect when doing free writing is that other ideas that are not
    directly related to the topic will easily go through the mind. A good practice
    is to write them down on a second piece of paper or screen when they appear, so
    they are not lost, and then get back to the main writing.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 进行自由写作时的另一个副作用是，与主题无关的其他想法会很容易浮现在脑海中。一个好的做法是，当它们出现时，在第二张纸或屏幕上把它们写下来，这样它们就不会丢失，然后回到主要写作上。
- en: The second step consists of reading back the whole text and polishing it so
    that it is comprehensible to everyone. Polishing a text means enhancing its style,
    correcting its faults, reorganizing it a bit, and removing any redundant information
    it has.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 第二步是回读整个文本，并对其进行润色，使其对每个人都能理解。润色文本意味着增强其风格，纠正其错误，稍微重新组织它，并删除任何多余的信息。
- en: When the time dedicated to writing documentation is limited, a good practice
    is to split this time into two halves—one for writing the content and one to clean
    and organize the text.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 当写作文档的时间有限时，一个好的做法是将这段时间分成两半——一半用于写作内容，一半用于清理和组织文本。
- en: Note
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Focus on the content and then on style and cleanliness.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 专注于内容，然后是风格和整洁。
- en: Target the readership
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 针对读者群
- en: 'When writing content, there is a simple question the writer should consider:
    *Who is going to read it?*'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写内容时，作家应考虑一个简单的问题：*谁会阅读它？*
- en: This is not always obvious, as a technical text explains how a piece of software
    works and is often written for every person who might get and use the code. The
    reader can be a researcher who is looking for an appropriate technical solution
    to a problem or a developer who needs to implement a feature with it. A designer
    might also read it to know if the package fits his or her needs from an architectural
    point of view.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 这并不总是显而易见，因为技术文本解释了软件的工作原理，并且通常是为可能获得和使用代码的每个人而写的。读者可能是正在寻找适当技术解决方案的研究人员，或者需要用它实现功能的开发人员。设计师也可能会阅读它，以了解包是否从架构的角度符合他/她的需求。
- en: Good documentation should follow a simple rule—each text should have only one
    kind of reader.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 良好的文档应遵循一个简单的规则——每个文本只应有一种读者。
- en: This philosophy makes the writing easier. The writer precisely knows what kind
    of reader he or she is dealing with. He or she can provide concise and precise
    documentation that is not vaguely intended for all kinds of readers.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 这种理念使写作变得更容易。作家清楚地知道自己正在与何种读者打交道。他/她可以提供简明而准确的文档，而不是模糊地面向各种读者。
- en: 'A good practice is to provide a small introductory text that explains in one
    sentence what the documentation is about and guides the reader to the appropriate
    part:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 一个好的做法是提供一个简短的介绍性文本，简要解释文档的内容，并引导读者到适当的部分：
- en: '[PRE0]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: By taking care of directing your readers in this way, you will probably produce
    better documentation.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这种方式引导读者，你可能会产生更好的文档。
- en: Note
  id: totrans-38
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Know your readership before you start to write.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始写作之前了解你的读者群。
- en: Use a simple style
  id: totrans-40
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用简单的风格
- en: Seth Godin is one of the best-selling writers on marketing topics. You might
    want to read *Unleashing the Ideavirus*, *Hachette Books*, which is available
    for free on the Internet ([http://www.sethgodin.com/ideavirus/downloads/IdeavirusReadandShare.pdf](http://www.sethgodin.com/ideavirus/downloads/IdeavirusReadandShare.pdf)).
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 塞思·戈丁是营销领域畅销书作家之一。你可能想阅读《Ideavirus的释放》，哈希特图书，它可以在互联网上免费获取。
- en: Some time ago, he made an analysis on his blog to try to understand why his
    books sold so well. He made a list of all the best sellers in the marketing area
    and compared the average number of words per sentences in each one of them.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 不久前，他在博客上进行了一项分析，试图理解为什么他的书卖得这么好。他列出了营销领域所有畅销书的清单，并比较了它们每句话的平均字数。
- en: He realized that his books had the lowest number of words per sentence (thirteen
    words). This simple fact, Seth explained, proved that readers prefer short and
    simple sentences, rather than long and stylish ones.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 他意识到他的书每句话的字数最少（十三个字）。塞思解释说，这个简单的事实证明读者更喜欢简短而简单的句子，而不是长而时髦的句子。
- en: By keeping sentences short and simple, your writings will consume less brain
    power for their content to be extracted, processed, and then understood. Writing
    technical documentation aims to provide a software guide to readers. It is not
    a fiction story and should be closer to your microwave notice than to the latest
    Stephen King novel.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 通过保持句子简短和简单，你的写作将消耗更少的大脑力量来提取、处理和理解其内容。技术文档的撰写旨在为读者提供软件指南。它不是一部小说，应该更接近你的微波炉使用说明书，而不是最新的斯蒂芬·金小说。
- en: 'A few tips to keep in mind are:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 要牢记的一些建议是：
- en: Use simple sentences. They should not be longer than two lines.
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用简单的句子。句子不应超过两行。
- en: Each paragraph should be composed of three or four sentences, at the most, that
    express one main idea. Let your text breathe.
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个段落应由三到四个句子组成，最多表达一个主要观点。让你的文本有呼吸空间。
- en: Don't repeat yourself too much. Avoid journalistic styles where ideas are repeated
    again and again to make sure they are understood.
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不要重复太多。避免新闻报道风格，其中的想法一遍又一遍地重复，以确保它们被理解。
- en: Don't use several tenses. The present tense is enough most of the time.
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不要使用多种时态。大多数情况下，现在时就足够了。
- en: Do not make jokes in the text if you are not a really fine writer. Being funny
    in a technical text is really hard, and few writers master it. If you really want
    to distill some humor, keep it in code examples and you will be fine.
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你不是一个真正优秀的作家，就不要在文本中开玩笑。在技术文本中搞笑真的很难，很少有作家能掌握。如果你真的想表达一些幽默，把它放在代码示例中，你就没问题了。
- en: Note
  id: totrans-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: You are not writing fiction, so keep the style as simple as possible.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 你不是在写小说，所以尽量保持风格简单。
- en: Limit the scope of information
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 限制信息范围
- en: There's a simple sign of bad documentation in a software—you are looking for
    some information that you know is present somewhere but you cannot find it. After
    spending some time reading the table of contents, you are starting to grep the
    files trying several word combinations but cannot get what you are looking for.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 在软件文档中有一个简单的坏迹象——你正在寻找一些你知道存在的信息，但找不到它。在阅读目录表一段时间后，你开始在文件中使用grep尝试几个单词组合，但找不到你要找的东西。
- en: This happens when writers are not organizing their texts in topics. They might
    provide tons of information, but it is just gathered in a monolithic or non-logical
    way. For instance, if a reader is looking for a big picture of your application,
    he or she should not have to read the API documentation—that is a low-level matter.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 当作者没有按主题组织他们的文本时，就会发生这种情况。他们可能提供了大量的信息，但它只是以单一或非逻辑的方式聚集在一起。例如，如果读者正在寻找你的应用程序的整体情况，他或她不应该阅读API文档——那是一个低级的问题。
- en: To avoid this effect, paragraphs should be gathered under a meaningful title
    for a given section, and the global document title should synthesize the content
    in a short phrase.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 为了避免这种效果，段落应该被聚集在一个有意义的标题下，全局文档标题应该用简短的短语来概括内容。
- en: A table of contents could be made of all the section's titles.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 目录可以由所有章节的标题组成。
- en: A simple practice to compose your titles is to ask yourself, "What phrase would
    I type in Google to find this section?"
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 组成标题的一个简单做法是问自己，“我会在Google中输入什么短语来找到这个部分？”
- en: Use realistic code examples
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用现实的代码示例
- en: '*Foo* and *bar* are bad citizens. When a reader tries to understand how a piece
    of code works with a usage example, having an unrealistic example will make it
    harder to understand.'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '*Foo*和*bar*是不好的用法。当读者试图理解代码片段的工作方式时，如果有一个不切实际的例子，将会使理解变得更加困难。'
- en: Why not use a real-world example? A common practice is to make sure that each
    code example can be cut and pasted in a real program.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 为什么不使用一个真实的例子呢？一个常见的做法是确保每个代码示例都可以在真实的程序中剪切和粘贴。
- en: 'To show an example of bad usage, let''s assume we want to show how to use the
    `parse()` function:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 为了展示一个糟糕的用法示例，让我们假设我们想展示如何使用`parse()`函数：
- en: '[PRE1]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'A better example would be when the parser knows how to return a feed content
    with the parse function, available as a top-level function:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 一个更好的例子是，当解析器知道如何使用parse函数返回一个feed内容时，它作为一个顶级函数可用：
- en: '[PRE2]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This slight difference might sound overkill, but in fact it makes your documentation
    a lot more useful. A reader can copy those lines into a shell, understand that
    parse uses a URL as a parameter, and that it returns an iterator that contains
    blog entries.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 这种细微的差别可能听起来有些过分，但事实上它会使你的文档更有用。读者可以将这些行复制到shell中，理解parse使用URL作为参数，并且它返回一个包含博客条目的迭代器。
- en: Of course, giving a realistic example is not always possible or viable. This
    is especially true to very generic code. Even this book has few occurrences of
    vague `foo` and `bar` strings where the name context is unimportant. Anyway, you
    should always strive to reduce the amount of such unrealistic examples to minimum.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，提供一个现实的例子并不总是可能或可行的。这对于非常通用的代码尤其如此。即使这本书中也有一些模糊的`foo`和`bar`字符串的出现，其中名称上下文并不重要。无论如何，你应该始终努力将这种不切实际的例子的数量减少到最低。
- en: Note
  id: totrans-68
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Code examples should be directly reusable in real programs.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 代码示例应该直接在真实程序中可重用。
- en: Use a light but sufficient approach
  id: totrans-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用轻量但足够的方法
- en: 'In most agile methodologies, documentation is not the first citizen. Making
    software that works is the most important thing over detailed documentation. So
    a good practice, as Scott Ambler explains in his book *Agile Modeling: Effective
    Practices for eXtreme Programming and the Unified Process*, *John Wiley & Sons*,
    is to define the real documentation needs, rather than create an exhaustive set
    of documents.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数敏捷方法论中，文档不是第一位的。使软件正常工作比详细的文档更重要。因此，一个好的做法，正如Scott Ambler在他的书《敏捷建模：极限编程和统一过程的有效实践》中所解释的那样，是定义真正的文档需求，而不是创建详尽的文档集。
- en: For instance, let's see an example documentation of some simple project—`ianitor`—that
    is available on GitHub under [https://github.com/ClearcodeHQ/ianitor](https://github.com/ClearcodeHQ/ianitor).
    It is a tool that helps registering processes in the Consul service discovery
    cluster, so it is mostly aimed at system administrators. If you take a look at
    its documentation, you will realize that this is just a single document (the `README.md`
    file). It only explains how it works and how to use it. From the administrator's
    perspective, this is sufficient. They only need to know how to configure and run
    the tool and there is no other group of people expected to use `ianitor`. This
    document limits its scope by answering one question, "How do I use `ianitor` on
    my server?"
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，让我们看一个简单项目的文档示例——`ianitor`——它在GitHub上可用[https://github.com/ClearcodeHQ/ianitor](https://github.com/ClearcodeHQ/ianitor)。这是一个帮助在Consul服务发现集群中注册进程的工具，因此主要面向系统管理员。如果你看一下它的文档，你会意识到这只是一个单一的文档（`README.md`文件）。它只解释了它的工作原理和如何使用它。从管理员的角度来看，这是足够的。他们只需要知道如何配置和运行这个工具，没有其他人群预期使用`ianitor`。这个文档通过回答一个问题来限制其范围，“我如何在我的服务器上使用`ianitor`？”
- en: Use templates
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用模板
- en: Every page on Wikipedia is similar. There are boxes on the one side that are
    used to summarize dates or facts. At the beginning of the document is a table
    of contents with links that refer to anchors in the same text. There is always
    a reference section at the end.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 维基百科上的每一页都很相似。一侧有用于总结日期或事实的框。文件的开头是一个带有链接的目录，这些链接指向同一文本中的锚点。最后总是有一个参考部分。
- en: Users get used to it. For instance, they know they can have a quick look at
    the table of contents, and if they do not find the info they are looking for,
    they will go directly to the reference section to see if they can find another
    website on the topic. This works for any page on Wikipedia. You learn the *Wikipedia
    way* to be more efficient.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 用户习惯了。例如，他们知道他们可以快速查看目录，如果找不到所需信息，他们将直接转到参考部分，看看是否可以在该主题上找到另一个网站。这对维基百科上的任何页面都适用。你学会了*维基百科方式*，更有效率。
- en: So, using templates forces a common pattern for documents and therefore makes
    people more efficient in using them. They get used to the structure and know how
    to read it quickly.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，使用模板强制了文档的通用模式，因此使人们更有效地使用它们。他们习惯了结构并知道如何快速阅读它。
- en: Providing a template for each kind of document also provides a quick start for
    writers.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 为每种文档提供模板也为作者提供了快速入门。
- en: A reStructuredText primer
  id: totrans-78
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: reStructuredText入门
- en: reStructuredText is also called reST (refer to [http://docutils.sourceforge.net/rst.html](http://docutils.sourceforge.net/rst.html)).
    It is a plain text markup language widely used in the Python community to document
    packages. The great thing about reST is that the text is still readable since
    the markup syntax does not obfuscate the text like LaTeX would.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: reStructuredText也被称为reST（参见[http://docutils.sourceforge.net/rst.html](http://docutils.sourceforge.net/rst.html)）。它是一种纯文本标记语言，在Python社区广泛用于文档化包。reST的好处在于文本仍然可读，因为标记语法不像LaTeX那样混淆文本。
- en: 'Here''s a sample of such a document:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 这是这样一个文档的示例：
- en: '[PRE3]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: reST comes in `docutils`, a package that provides a suite of scripts to transform
    a reST file to various formats, such as HTML, LaTeX, XML, or even S5, Eric Meyer's
    slide show system (refer to [http://meyerweb.com/eric/tools/s5](http://meyerweb.com/eric/tools/s5)).
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: reST包含在`docutils`中，该软件包提供了一套脚本，可将reST文件转换为各种格式，如HTML、LaTeX、XML，甚至是S5，Eric Meyer的幻灯片系统（参见[http://meyerweb.com/eric/tools/s5](http://meyerweb.com/eric/tools/s5)）。
- en: Writers can focus on the content and then decide how to render it, depending
    on the needs. For instance, Python itself is documented into reST, which is then
    rendered in HTML to build [http://docs.python.org](http://docs.python.org), and
    in various other formats.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 作者可以专注于内容，然后根据需要决定如何呈现它。例如，Python本身是用reST文档化的，然后呈现为HTML以构建[http://docs.python.org](http://docs.python.org)，以及其他各种格式。
- en: 'The minimum elements one should know to start writing reST are:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 开始写reST所需了解的最少元素是：
- en: Section structure
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 部分结构
- en: Lists
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 列表
- en: Inline markup
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内联标记
- en: Literal block
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文字块
- en: Links
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 链接
- en: 'This section is a really fast overview of the syntax. A quick reference is
    available for more information at: [http://docutils.sourceforge.net/docs/user/rst/quickref.html](http://docutils.sourceforge.net/docs/user/rst/quickref.html),
    which is a good place to start working with reST.'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 本节是语法的快速概述。更多信息可在以下网址找到快速参考：[http://docutils.sourceforge.net/docs/user/rst/quickref.html](http://docutils.sourceforge.net/docs/user/rst/quickref.html)，这是开始使用reST的好地方。
- en: 'To install reStructuredText, install `docutils`:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装reStructuredText，安装`docutils`：
- en: '[PRE4]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'For instance, the `rst2html` script provided by the `docutils` package will
    produce HTML output given a reST file:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，由`docutils`包提供的`rst2html`脚本将根据reST文件生成HTML输出：
- en: '[PRE5]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Section structure
  id: totrans-95
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 部分结构
- en: The document's title and its sections are underlined using nonalphanumeric characters.
    They can be overlined and underlined, and a common practice is to use this double
    markup for the title and keep a simple underline for sections.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 文档的标题及其各节使用非字母数字字符进行下划线。它们可以被上下划线覆盖，并且一种常见的做法是为标题使用这种双重标记，并为各节保持简单的下划线。
- en: 'The most used characters to underline a section title are in the following
    order of precedence: `=, -, _, :, #, +, ^`.'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '用于下划线部分标题的最常用字符按优先顺序排列：`=, -, _, :, #, +, ^`。'
- en: When a character is used for a section, it is associated with its level and
    it has to be used consistently throughout the document.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 当一个字符用于一个部分时，它与其级别相关联，并且必须在整个文档中一致使用。
- en: 'Consider the following code for example:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，考虑以下代码：
- en: '[PRE6]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '![Section structure](graphics/5295_09_01.jpg)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![部分结构](graphics/5295_09_01.jpg)'
- en: Figure 1 reStructuredText converted to HTML and rendered in the browser
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 图1 reStructuredText转换为HTML并在浏览器中呈现
- en: Lists
  id: totrans-103
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 列表
- en: 'reST provides readable syntax for bullet lists, enumerated lists, and definition
    lists with autoenumeration features:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: reST为项目列表、编号列表和具有自动编号功能的定义列表提供可读的语法：
- en: '[PRE7]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '![Lists](graphics/5295_09_02.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![列表](graphics/5295_09_02.jpg)'
- en: Figure 2 Different types of lists rendered as HTML
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 图2 不同类型的列表呈现为HTML
- en: Inline markup
  id: totrans-108
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 内联标记
- en: 'The text can be styled using an inline markup:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 文本可以使用内联标记进行样式化：
- en: '`*emphasis*`: Italics'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`*强调*`：斜体'
- en: '`**strong emphasis**`: Boldface'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`**强调**`：粗体'
- en: '[PRE8]: Inline preformatted text (usually monospaced, terminal-like)'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[PRE8]：内联预格式化文本（通常是等宽的，类似终端）'
- en: '``a text with a link`_`: This will be replaced by a hyperlink as long as it
    is provided in the document (see in the *Links* section)'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '``带有链接的文本`_`：只要在文档中提供了它（请参阅*链接*部分），它将被替换为超链接'
- en: Literal block
  id: totrans-114
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文字块
- en: 'When you need to present some code examples, a literal block can be used. Two
    colons are used to mark the block, which is an indented paragraph:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 当您需要展示一些代码示例时，可以使用文字块。两个冒号用于标记块，这是一个缩进的段落：
- en: '[PRE9]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Note
  id: totrans-117
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Don't forget to add a blank line after `::` and after the block, otherwise it
    will not be rendered.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 不要忘记在`::`后和块后添加空行，否则它将无法呈现。
- en: 'Notice that the colon characters can be put in a text line. In that case, they
    will be replaced by a single colon in various rendering formats:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，冒号字符可以放在文本行中。在这种情况下，它们将在各种呈现格式中被替换为单个冒号：
- en: '[PRE10]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: If you don't want to keep a single colon, you can insert a space between the
    leading text and `::`. In that case, `::` will be interpreted and totally removed.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 如果不想保留单个冒号，可以在前导文本和`::`之间插入一个空格。在这种情况下，`::`将被解释并完全删除。
- en: '![Literal block](graphics/5295_09_03.jpg)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![文字块](graphics/5295_09_03.jpg)'
- en: Figure 3 Code samples in reST rendered as HTML
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 图3 reST中呈现为HTML的代码示例
- en: Links
  id: totrans-124
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 链接
- en: 'A text can be changed into an external link with a special line starting with
    two dots, as long as it is provided in the document:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 只要提供在文档中，文本就可以通过以两个点开头的特殊行更改为外部链接：
- en: '[PRE11]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: A usual practice is to group the external links at the end of the document.
    When the text to be linked contains spaces, it has to be surrounded with [PRE12]
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 通常的做法是将外部链接分组放在文档的末尾。当要链接的文本包含空格时，必须用[PRE12]括起来
- en: This is a code example
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个代码示例
- en: '.. _example:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: .. _示例：
- en: '::'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '::'
- en: '>>> 1 + 1'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '>>> 1 + 1'
- en: '2'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '2'
- en: Let's continue our text, or maybe go back to
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们继续我们的文本，或者回到
- en: the example_.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 示例_。
- en: '[PRE13]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: ==============
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: ==============
- en: Document title
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 文档标题
- en: ==============
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: ==============
- en: Introduction to the document content.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 介绍文档内容。
- en: Section 1
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 第1节
- en: =========
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: =========
- en: First document section.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 第一部分文档。
- en: Section 2
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 第2节
- en: =========
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: =========
- en: -> go back to `Section 1`_
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: -> 回到`第1节`_
- en: '[PRE14]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: =========================================
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: =========================================
- en: Design document title
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 设计文件标题
- en: =========================================
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: =========================================
- en: ':Author: Document Author'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: :作者：文档作者
- en: ':Tags: document tags separated with spaces'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: ':标签: 用空格分隔的文档标签'
- en: ':abstract:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: ':摘要:'
- en: Write here a small abstract about your design document.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里写一个关于你的设计文档的小摘要。
- en: '.. contents ::'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '.. 目录 ::'
- en: Audience
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 受众
- en: ========
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: ========
- en: Explain here who is the target readership.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里解释目标读者是谁。
- en: Content
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 内容
- en: =======
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: =======
- en: Write your document here. Do not hesitate to split it in several sections.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里写你的文档。不要犹豫把它分成几个部分。
- en: References
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 参考文献
- en: ==========
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: ==========
- en: Put here references, and links to other documents.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里放置参考文献和指向其他文档的链接。
- en: '[PRE15]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: ===========
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: ===========
- en: Recipe name
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 食谱名称
- en: ===========
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: ===========
- en: ':Author: Recipe Author'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: :作者：食谱作者
- en: ':Tags: document tags separated with spaces'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: :标签：用空格分隔的文档标签
- en: ':abstract:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: ':摘要:'
- en: Write here a small abstract about your design document.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里写一个关于你的设计文档的小摘要。
- en: '.. contents ::'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '.. 目录 ::'
- en: Audience
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 受众
- en: ========
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: ========
- en: Explain here who is the target readership.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里解释目标读者是谁。
- en: Prerequisites
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 先决条件
- en: =============
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: =============
- en: Write the list of prerequisites for implementing this recipe. This can be additional
    documents, software, specific libraries, environment settings or just anything
    that is required beyond the obvious language interpreter.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 写出实施这个食谱所需的先决条件列表。这可以是额外的文档、软件、特定库、环境设置或任何超出明显语言解释器所需的东西。
- en: Problem
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 问题
- en: =======
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: =======
- en: Explain the problem that this recipe is trying to solve.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 解释这个食谱试图解决的问题。
- en: Solution
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 解决方案
- en: ========
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: ========
- en: Give solution to problem explained earlier. This is the core of a recipe.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 给出前面解释的问题的解决方案。这是食谱的核心。
- en: References
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 参考文献
- en: ==========
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: ==========
- en: Put here references, and links to other documents.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里放置参考文献和指向其他文档的链接。
- en: '[PRE16]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '**$ cd my-project**'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '**$ cd my-project**'
- en: '**$ find docs**'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: '**$ find docs**'
- en: '**docs**'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '**docs**'
- en: '**docs/source**'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '**docs/source**'
- en: '**docs/source/design**'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: '**docs/source/design**'
- en: '**docs/source/operations**'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: '**docs/source/operations**'
- en: '**docs/source/usage**'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '**docs/source/usage**'
- en: '**docs/source/usage/cookbook**'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '**docs/source/usage/cookbook**'
- en: '**docs/source/usage/modules**'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '**docs/source/usage/modules**'
- en: '**docs/source/usage/tutorial**'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: '**docs/source/usage/tutorial**'
- en: '[PRE17]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: ==========
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: ==========
- en: Operations
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 操作
- en: ==========
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: ==========
- en: 'This section contains operations documents:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 这一部分包含操作文档：
- en: − How to install and run the project
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: '- 如何安装和运行项目'
- en: − How to install and manage a database for the project
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: '- 如何安装和管理项目的数据库'
- en: '[PRE18]'
  id: totrans-206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '**project/docs$ make html**'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '**project/docs$ make html**'
- en: '**sphinx-build -b html -d _build/doctrees   . _build/html**'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: '**sphinx-build -b html -d _build/doctrees   . _build/html**'
- en: '**Running Sphinx v1.3.6**'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: '**运行 Sphinx v1.3.6**'
- en: '**making output directory...**'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: '**创建输出目录...**'
- en: '**loading pickled environment... not yet created**'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '**加载腌制环境...尚未创建**'
- en: '**building [mo]: targets for 0 po files that are out of date**'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '**构建[mo]：为0个过时的po文件创建目标**'
- en: '**building [html]: targets for 1 source files that are out of date**'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: '**构建[html]：为1个过时的源文件创建目标**'
- en: '**updating environment: 1 added, 0 changed, 0 removed**'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: '**更新环境：1个添加，0个更改，0个删除**'
- en: '**reading sources... [100%] index**'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: '**读取源... [100%] 索引**'
- en: '**looking for now-outdated files... none found**'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: '**寻找现在过时的文件...未找到**'
- en: '**pickling environment... done**'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: '**腌制环境...完成**'
- en: '**checking consistency... done**'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: '**检查一致性...完成**'
- en: '**preparing documents... done**'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '**准备文档...完成**'
- en: '**writing output... [100%] index**'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: '**编写输出... [100%] 索引**'
- en: '**generating indices... genindex**'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: '**生成索引...genindex**'
- en: '**writing additional pages... search**'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: '**编写额外的页面...搜索**'
- en: '**copying static files... done**'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '**复制静态文件...完成**'
- en: '**copying extra files... done**'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: '**复制额外的文件...完成**'
- en: '**dumping search index in English (code: en) ... done**'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: '**在英语中转储搜索索引（代码：en）...完成**'
- en: '**dumping object inventory... done**'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: '**转储对象库存...完成**'
- en: '**build succeeded.**'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: '**构建成功。**'
- en: '**Build finished. The HTML pages are in _build/html.**'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '**构建完成。HTML页面在_build/html中。**'
- en: '[PRE19]'
  id: totrans-229
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: ========
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: ========
- en: Cookbook
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 食谱
- en: ========
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: ========
- en: Welcome to the Cookbook.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 欢迎来到食谱。
- en: 'Available recipes:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 可用的食谱：
- en: '.. toctree::'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: '.. toctree::'
- en: ':glob:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: :全局：
- en: '*'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: '*'
- en: '[PRE20]'
  id: totrans-238
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: =======
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: =======
- en: session
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 会话
- en: =======
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: =======
- en: '.. module:: db.session'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: '.. module:: db.session'
- en: The module session...
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 模块会话...
- en: '[PRE21]'
  id: totrans-244
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: =======
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: =======
- en: session
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 会话
- en: =======
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: =======
- en: '.. module:: db.session'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '.. module:: db.session'
- en: '.. index::'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: '.. 索引::'
- en: Database Access
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库访问
- en: Session
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 会话
- en: The module session...
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 模块会话...
- en: '[PRE22]'
  id: totrans-253
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: :mod:`db.session`
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: :mod:`db.session`
- en: '```'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: Here, `:mod:` is the module marker's prefix and ``db.session`` is the name of
    the module to be linked to (as registered previously); keep in mind that `:mod:`
    as well as the previous elements are the specific directives introduced in reSTructuredText
    by Sphinx.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，`:mod:`是模块标记的前缀，``db.session``是要链接到的模块的名称（如之前注册的）；请记住，`：mod:`以及之前的元素都是Sphinx在reSTructuredText中引入的特定指令。
- en: Note
  id: totrans-257
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Sphinx provides a lot more features that you can discover on its website. For
    instance, the *autodoc* feature is a great option to automatically extract your
    doctests to build the documentation. Refer to [http://sphinx.pocoo.org](http://sphinx.pocoo.org).
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: Sphinx提供了更多功能，您可以在其网站上发现。例如，*autodoc*功能是自动提取您的doctests以构建文档的一个很好的选项。请参阅[http://sphinx.pocoo.org](http://sphinx.pocoo.org)。
- en: Documentation building and continuous integration
  id: totrans-259
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文档构建和持续集成
- en: Sphinx really improves the readability and experience of reading documentation
    from the consumer's point of view. As already said, it is especially helpful when
    some of its parts are tightly coupled to the code, so in the form of dosctrings
    or module helpers. While this approach really makes it easier to ensure that the
    source version of the documentation matches with the code it documents, it does
    not guarantee that documentation readership will have access to the latest and
    most up to date compiled version.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: Sphinx确实提高了从消费者角度阅读文档的可读性和体验。正如前面所说的，当其部分与代码紧密耦合时，特别有帮助，比如dosctrings或模块助手。虽然这种方法确实使得确保文档的源版本与其所记录的代码匹配变得更容易，但并不能保证文档读者能够访问到最新和最新的编译版本。
- en: Having only minimal source representation is also not enough if the target readers
    of the documentation are not proficient enough with command-line tools and will
    not know how to build it into browsable and readable form. This is why it is important
    to build your documentation into a consumer-friendly form automatically whenever
    any change to the code repository is committed/pushed.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 如果文档的目标读者不熟练使用命令行工具，也不知道如何将其构建成可浏览和可读的形式，那么仅有最小的源表示也是不够的。这就是为什么在代码存储库发生任何更改时，自动将文档构建成消费者友好的形式非常重要。
- en: The best way to host the documentation built with Sphinx is to generate an HTML
    build and serve it as a static resource with your web server of choice. Sphinx
    provides proper `Makefile` to build HTML files with the `make html` command. Because
    `make` is a very common utility, it should be very easy to integrate this process
    with any continuous integration systems discussed in [Chapter 8](ch08.html "Chapter 8. Managing
    Code"), *Managing Code*.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Sphinx托管文档的最佳方式是生成HTML构建，并将其作为静态资源提供给您选择的Web服务器。Sphinx提供了适当的`Makefile`来使用`make
    html`命令构建HTML文件。因为`make`是一个非常常见的实用工具，所以很容易将这个过程与[第8章](ch08.html "第8章。管理代码")中讨论的任何持续集成系统集成，*管理代码*。
- en: 'If you are documenting an open source project with Sphinx, then you will make
    your life a lot easier by using **Read the Docs** ([https://readthedocs.org/](https://readthedocs.org/)).
    It is a free service for hosting documentation of open source Python projects
    with Sphinx. The configuration is completely hassle-free and it integrates very
    easily with two popular code hosting services: GitHub and Bitbucket. In practice,
    if you have your accounts properly connected and code repository properly set
    up, enabling documentation hosting on Read the Docs is a matter of just a few
    clicks.'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您正在使用Sphinx记录一个开源项目，那么使用**Read the Docs**（[https://readthedocs.org/](https://readthedocs.org/)）会让您的生活变得轻松很多。这是一个免费的服务，用于托管使用Sphinx的开源Python项目的文档。配置完全无忧，而且非常容易与两个流行的代码托管服务集成：GitHub和Bitbucket。实际上，如果您的账户正确连接并且代码存储库正确设置，启用Read
    the Docs上的文档托管只需要点击几下。
- en: Summary
  id: totrans-264
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: 'This chapter explained in detail how to:'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 本章详细解释了如何：
- en: Use a few rules for efficient writing
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用一些高效写作的规则
- en: Use reStructuredText, the Pythonista's LaTeX
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用reStructuredText，Python程序员的LaTeX
- en: Build a document portfolio and landscape
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建文档组合和布局
- en: Use Sphinx to generate useful web documentations
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Sphinx生成有用的Web文档
- en: The hardest thing to do when documenting a project is to keep it accurate and
    up to date. Making the documentation part of the code repository makes it a lot
    easier. From there, every time a developer changes a module, he or she should
    change the corresponding documentation as well.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 在记录项目时最难的事情是保持准确和最新。将文档作为代码存储库的一部分使得这变得更容易。从那里，每当开发人员更改一个模块时，他或她也应该相应地更改文档。
- en: This can be quite difficult in big projects, and adding a list of related documents
    in the header of the modules can help in that case.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 在大型项目中可能会很困难，在这种情况下，在模块头部添加相关文档列表可以有所帮助。
- en: A complementary approach to make sure the documentation is always accurate is
    to combine the documentation with tests through doctests. This is covered in the
    next chapter, which presents test-driven development principles and then document-driven
    development.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 确保文档始终准确的一个补充方法是通过doctests将文档与测试结合起来。这将在下一章中介绍，该章节将介绍测试驱动开发原则，然后是文档驱动开发。
