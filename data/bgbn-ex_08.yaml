- en: Chapter 8. Home Security Systems Using BeagleBone Black
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第8章. 使用BeagleBone Black的家庭安全系统
- en: In this chapter, we will focus on building a real-time Internet-connected home
    security surveillance system using the BeagleBone board. Similar to previous chapters,
    we will use OpenCV and Python on BeagleBone with a camera connected to it. But
    to take the project to an advanced level, we will add a PIR sensor to the BeagleBone
    board and write code on it to interact with the physical world. We will get started
    with motion detection using PIR sensors, followed by sending e-mails from BeagleBone
    boards using Python. We will finish the chapter with a project, in which we will
    build a motion-detection security camera that will send e-mail alerts with images
    captured whenever motion is detected by the PIR sensor.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将专注于使用BeagleBone板构建一个实时互联网连接的家庭安全监控系统。与前面的章节类似，我们将在BeagleBone板上使用OpenCV和Python，并连接一个摄像头。但为了将项目提升到高级水平，我们将在BeagleBone板上添加一个PIR传感器，并在其上编写代码以与物理世界交互。我们将从使用PIR传感器进行运动检测开始，然后使用Python从BeagleBone板上发送电子邮件。我们将以一个项目结束本章，在这个项目中，我们将构建一个运动检测安全摄像头，当PIR传感器检测到运动时，它会发送带有捕获图像的电子邮件警报。
- en: 'The contents of this chapter are divided into the following topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章内容分为以下主题：
- en: Prerequisites
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 前提条件
- en: PIR sensors
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: PIR传感器
- en: Motion detection using PIR sensors
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用PIR传感器进行运动检测
- en: Sending e-mails with attachments
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 发送带附件的电子邮件
- en: Advanced project – motion detection, image capture, and alert system
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高级项目 – 运动检测、图像捕获和警报系统
- en: Prerequisites
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前提条件
- en: 'Here are the requirements:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是要求：
- en: A BeagleBone Black
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一块BeagleBone Black
- en: A microSD Card with the latest version of Debian flashed on it to boot the BeagleBone
    board
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一张带有最新版本Debian的microSD卡，用于启动BeagleBone板
- en: A 5V DC, 2A power supply
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个5V DC，2A的电源
- en: An Ethernet cable
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一根以太网线
- en: A USB camera
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一台USB摄像头
- en: A PIR sensor
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个PIR传感器
- en: PIR sensors
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: PIR传感器
- en: A **PIR** (short for **passive infrared**) sensor is an electronic sensor that
    measures **infrared** (**IR**) light radiating from objects present in its field
    of view. Mostly, these sensors are used in PIR-based motion detectors.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '**PIR**（即**被动红外**）传感器是一种电子传感器，它测量其视野中存在的物体辐射的红外线（**IR**）。这些传感器主要用于基于PIR的运动检测器。'
- en: '![PIR sensors](img/4602_08_01.jpg)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![PIR传感器](img/4602_08_01.jpg)'
- en: How PIR sensors work
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: PIR传感器的工作原理
- en: If you look at the following diagram picture, a PIR sensor has two slots in
    it, and each slot is prepared with the help of special materials that are IR sensitive.
    The Fresnel lens helps the two slots in the sensor to widen the detecting area
    of the sensor as well as its distance, that is, the sensitivity of the sensor.
    Both slots detect the same amount of IR when there is no movement in front of
    the sensor or the detection area; we call this the idle state of the sensor, during
    which the slots detect the ambient amount of IR radiated from the room or outdoors.
    The sensor calibrates itself and waits for the movement of a warm body.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你查看以下图示，PIR传感器内部有两个插槽，每个插槽都通过特殊材料帮助准备，这些材料对红外线敏感。菲涅耳透镜帮助传感器上的两个插槽扩大检测区域及其距离，即传感器的灵敏度。当传感器前方或检测区域内没有运动时，两个插槽检测到相同数量的红外线；我们称这为传感器的空闲状态，在此期间，插槽检测从房间或户外辐射出的环境红外线量。传感器会自动校准并等待温暖物体的运动。
- en: '![How PIR sensors work](img/4602_08_02.jpg)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![PIR传感器的工作原理](img/4602_08_02.jpg)'
- en: When half of the PIR sensor intercepts any warm body, such as a human or animal,
    it causes a positive differential change between the two halves of the PIR sensor.
    Similarly, a negative differential change is generated when the warm body leaves
    the sensing area, which is nothing but the reverse of the generation of a positive
    differential change. So, basically, the output we obtain is in the form of rising
    and falling pulses from the sensor output pin, using which we infer whether there
    was any movement in front of the PIR.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 当PIR传感器的一半拦截到任何温暖物体，如人或动物时，它会在PIR传感器的两个部分之间引起正差分变化。同样，当温暖物体离开感应区域时，会产生负差分变化，这实际上是正差分变化产生的逆过程。因此，我们获得的输出是以传感器输出引脚的上升和下降脉冲的形式，我们通过这些脉冲推断PIR前方是否有运动。
- en: You might be wondering why there is a difference between the preceding diagram
    and the actual image of it, shown in the first image. Actually, the first image
    is to make you understand how the PIR sensor works. It shows the sensor available
    in market, which we will be using. In order to make the sensor work with a wide
    detection area, its lens is in the shape of a hemisphere, if you take a look at
    the following image, you can see that slots have been made at various angles on
    the lens to have a wide area of detection and for mounting at various places,
    such as ceilings and walls, to detect the motion of a moving body.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能想知道为什么前面的图示和实际图像之间有差异，如第一张图像所示。实际上，第一张图像是为了让你理解PIR传感器的工作原理。它展示了市场上可用的传感器，我们将使用这个传感器。为了使传感器能够在广泛的检测区域内工作，其镜头呈半球形，如果你看一下下面的图像，你会看到镜头上已经制作了各种角度的槽口，以便在广泛区域内检测，并可以在天花板和墙壁等不同地方安装，以检测移动物体的运动。
- en: '![How PIR sensors work](img/4602_08_03.jpg)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![PIR传感器的工作原理](img/4602_08_03.jpg)'
- en: Most of these hobby-grade PIR sensors available in the market have a detection
    area 90 degrees wide, but some have one up to 110 degrees and 5 to 6 meters length.
    You can chose and buy whichever one you prefer.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 市面上大多数这些业余级PIR传感器的检测区域为90度宽，但有些可达110度，长度为5到6米。你可以选择并购买你喜欢的任何一种。
- en: '![How PIR sensors work](img/4602_08_04.jpg)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![PIR传感器的工作原理](img/4602_08_04.jpg)'
- en: Motion detection using PIR sensors
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用PIR传感器进行运动检测
- en: Now that we know how a PIR sensors works, let's go ahead and hook it up with
    our BeagleBone board to detect motion.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经了解了PIR传感器的工作原理，让我们继续将其连接到我们的BeagleBone板以检测运动。
- en: 'First of all, take three berg wires and connect the PIR sensor to the BeagleBone
    board, as per the following circuit diagram:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，取三根伯格线，按照以下电路图将PIR传感器连接到BeagleBone板上：
- en: '![Motion detection using PIR sensors](img/4602_08_05.jpg)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![使用PIR传感器进行运动检测](img/4602_08_05.jpg)'
- en: As shown in the preceding circuit diagram, connect the PIR sensor's Vcc to the
    5V pin on the BeagleBone board, the output pin of PIR to GPIO60 on the BeagleBone
    board, and the ground pins on both with each other.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 如前述电路图所示，将PIR传感器的Vcc连接到BeagleBone板上的5V引脚，将PIR传感器的输出引脚连接到BeagleBone板上的GPIO60，并将两个板上的地引脚相互连接。
- en: Then, we will turn on the BeagleBone board and log in to the Linux shell to
    start coding it.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们将打开BeagleBone板并登录到Linux shell以开始编写代码。
- en: 'Create a new Python program using `sudo nano TestPIR.py`:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `sudo nano TestPIR.py` 创建一个新的Python程序：
- en: '![Motion detection using PIR sensors](img/4602_08_06.jpg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![使用PIR传感器进行运动检测](img/4602_08_06.jpg)'
- en: 'Type in the code shown in the following screenshot:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 输入以下屏幕截图所示的代码：
- en: '![Motion detection using PIR sensors](img/4602_08_07.jpg)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![使用PIR传感器进行运动检测](img/4602_08_07.jpg)'
- en: Once you have typed in the code, you can go ahead and save it using *Ctrl* +
    *X*.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 输入代码后，你可以使用 *Ctrl* + *X* 保存它。
- en: Have a look at the comments in the code to get an idea of how it works. We are
    setting up `GPIO_60` as `INPUT PIN`, reading the RISING edge from the output coming
    from the PIR sensor, and printing out text saying **Movement Detected** every
    time we read a RISING edge from the sensor on GPIO pin `60`.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 通过查看代码中的注释来了解其工作原理。我们正在将 `GPIO_60` 设置为 `INPUT PIN`，从PIR传感器的输出读取上升沿，每次从GPIO引脚
    `60` 读取上升沿时，都会打印出 **Movement Detected** 文本。
- en: 'When you run the command, you should see the following output:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 当你运行命令时，你应该看到以下输出：
- en: '![Motion detection using PIR sensors](img/4602_08_08.jpg)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![使用PIR传感器进行运动检测](img/4602_08_08.jpg)'
- en: 'You can place your hand or make any movement in front of the sensor, as shown
    in the following picture:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在传感器前放置你的手或进行任何动作，如下面的图片所示：
- en: '![Motion detection using PIR sensors](img/4602_08_09.jpg)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![使用PIR传感器进行运动检测](img/4602_08_09.jpg)'
- en: There is an option to set the sensitivity, that is, the range of the detection
    area, by varying the potentiometer on the sensor. Have a look at the following
    figure to get a better idea. You also have another potentiometer to vary the trigger
    time, which is nothing but the time period until which the pulse will be high
    and get back to low during the auto reset mode of the sensor. When it is set to
    no reset mode, the pulse will stay HIGH forever until another movement is detected.
    Usually, the preferred method is auto reset.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 有一个选项可以设置灵敏度，即检测区域的范围，通过调整传感器上的电位器来实现。看看下面的图示，以获得更好的理解。你还有一个电位器可以调整触发时间，这实际上是传感器自动重置模式下的脉冲持续时间，直到脉冲变高并返回低。当设置为无重置模式时，脉冲将始终保持HIGH状态，直到检测到另一个运动。通常，首选的方法是自动重置。
- en: '![Motion detection using PIR sensors](img/4602_08_10.jpg)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![使用PIR传感器进行运动检测](img/4602_08_10.jpg)'
- en: Now that we have tested the PIR sensors, let's move ahead to sending an e-mail
    with an attachment using Python from BeagleBone Black.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经测试了PIR传感器，让我们继续使用Python从BeagleBone Black发送带附件的电子邮件。
- en: Sending e-mail with an attachment from BeagleBone Black
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从BeagleBone Black发送带附件的电子邮件
- en: Like the OpenCV library to work with images and camera on BeagleBone Black with
    Python, we have many other wonderful libraries that are developed and are built
    in Python. One such library is the SMTP e-mail library, which we will be using
    in this section.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 就像使用Python在BeagleBone Black上与图像和摄像头一起工作的OpenCV库一样，我们还有许多其他由Python开发和构建的精彩库。其中一个这样的库是SMTP电子邮件库，我们将在这个部分中使用它。
- en: To test this, we will use the image we captured in the project in the previous
    chapter, available inside the `ImageCapture` folder.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 为了测试这个，我们将使用上一章项目中捕获的图像，它位于`ImageCapture`文件夹内。
- en: 'We will change our working directory to the `ImageCapture` directory first,
    as shown in the following screenshot, using `cd ImageCapture`:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先将工作目录更改为`ImageCapture`目录，如下截图所示，使用`cd ImageCapture`：
- en: '![Sending e-mail with an attachment from BeagleBone Black](img/4602_08_11.jpg)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![从BeagleBone Black发送带附件的电子邮件](img/4602_08_11.jpg)'
- en: 'Then, we will go ahead and create a Python file with code to send an e-mail
    with an attachment in it. To do that, first create a new file named `sendemail.py`,
    using `sudo nano sendemail.py`:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们将继续创建一个Python文件，其中包含发送带附件的电子邮件的代码。为此，首先创建一个名为`sendemail.py`的新文件，使用`sudo
    nano sendemail.py`：
- en: '![Sending e-mail with an attachment from BeagleBone Black](img/4602_08_12.jpg)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![从BeagleBone Black发送带附件的电子邮件](img/4602_08_12.jpg)'
- en: Now, type in the code shown in the following screenshot and save the file inside
    the `ImageCapture` folder itself. The code has been written with comments on most
    of the lines for you to get a clear idea of how it works.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，输入以下截图所示的代码，并将文件保存在`ImageCapture`文件夹本身中。代码的大部分行都带有注释，以便你清楚地了解它是如何工作的。
- en: '![Sending e-mail with an attachment from BeagleBone Black](img/4602_08_13.jpg)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![从BeagleBone Black发送带附件的电子邮件](img/4602_08_13.jpg)'
- en: 'You''ll see that the `Photo.jpg` file that we captured in our previous project
    is still available inside the `ImageCapture` folder, and it''s the same image
    that we will be attaching in the e-mail that is going to be sent while executing
    this program:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 你会看到我们之前项目中捕获的`Photo.jpg`文件仍然在`ImageCapture`文件夹内，这是我们将在执行此程序时附加到电子邮件中的同一张图片：
- en: '![Sending e-mail with an attachment from BeagleBone Black](img/4602_08_14.jpg)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![从BeagleBone Black发送带附件的电子邮件](img/4602_08_14.jpg)'
- en: 'When you execute the program, you should get an e-mail on the receiver''s e-mail
    address you mentioned in the `sendemail.py` code file, and the output the terminal
    will look like this:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 当你执行程序时，你应该会在`sendemail.py`代码文件中提到的接收者的电子邮件地址上收到一封电子邮件，终端的输出将如下所示：
- en: '![Sending e-mail with an attachment from BeagleBone Black](img/4602_08_15.jpg)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![从BeagleBone Black发送带附件的电子邮件](img/4602_08_15.jpg)'
- en: 'As it prints on the Linux shell that the e-mail was sent, you will have received
    the e-mail on your e-mail account; check out these screenshots of the e-mail I
    got:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 当它在Linux shell上打印出电子邮件已发送时，你将在你的电子邮件账户中收到电子邮件；查看我收到的这些电子邮件截图：
- en: '![Sending e-mail with an attachment from BeagleBone Black](img/4602_08_16.jpg)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![从BeagleBone Black发送带附件的电子邮件](img/4602_08_16.jpg)'
- en: So, like this, you can attach any attachment to the e-mail and send it from
    BeagleBone. As we now know how to detect motion using a PIR sensor connected to
    the BeagleBone board as well as how to send an e-mail with a photo as an attachment,
    let's go ahead and merge the previous chapter's camera image-capture project with
    whatever we have learned so far in this chapter to build an advanced project.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，就像这样，你可以将任何附件附加到电子邮件中，并从BeagleBone发送。既然我们现在知道如何使用连接到BeagleBone板的PIR传感器检测运动，以及如何发送带有照片附件的电子邮件，让我们继续将上一章的相机图像捕获项目与我们在本章中学到的知识合并，以构建一个高级项目。
- en: Advanced project – Motion-based home security alert system
  id: totrans-62
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 高级项目 – 基于运动的家居安全警报系统
- en: In this section, we will build a home surveillance security alert system, where
    we will have a BeagleBone board to which a PIR sensor is connected. A USB camera
    is connected to it, and the BeagleBone board is connected to the Internet. So
    basically, the system will capture an image from the camera whenever some movement
    is detected in front of the PIR sensor.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将构建一个家居监控安全警报系统，其中我们将有一个连接了 PIR 传感器的 BeagleBone 板。一个 USB 摄像头连接到它上，BeagleBone
    板连接到互联网。所以基本上，该系统将在 PIR 传感器前检测到移动时从摄像头捕获图像。
- en: 'Follow these steps:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤操作：
- en: Set up the PIR sensor with the BeagleBone board, just like we did in the motion-detection
    topic of this chapter, connect the USB web camera to the BeagleBone board and,
    log in into the system. The setup looks as shown in the following picture:![Advanced
    project – Motion-based home security alert system](img/4602_08_17.jpg)
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 BeagleBone 板设置 PIR 传感器，就像我们在本章的运动检测主题中所做的那样，将 USB 网络摄像头连接到 BeagleBone 板，并登录到系统。设置看起来如下所示：![高级项目
    – 基于运动的家居安全警报系统](img/4602_08_17.jpg)
- en: Create a new directory for this project with `sudo mkdir HomeSecurity`:![Advanced
    project – Motion-based home security alert system](img/4602_08_18.jpg)
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `sudo mkdir HomeSecurity` 为此项目创建一个新的目录：![高级项目 – 基于运动的家居安全警报系统](img/4602_08_18.jpg)
- en: 'Use `cd HomeSecurity`:'
  id: totrans-67
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用 `cd HomeSecurity`：
- en: '![Advanced project – Motion-based home security alert system](img/4602_08_19.jpg)'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![高级项目 – 基于运动的家居安全警报系统](img/4602_08_19.jpg)'
- en: Create the Python script for the project using `sudo nano EmailAlert.py`:![Advanced
    project – Motion-based home security alert system](img/4602_08_20.jpg)
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `sudo nano EmailAlert.py` 创建项目的 Python 脚本：![高级项目 – 基于运动的家居安全警报系统](img/4602_08_20.jpg)
- en: Type the following code into the file. The code contains comments on most of
    the lines to give you a clear explanation of how it works.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 将以下代码输入到文件中。代码中的大多数行都有注释，以清楚地解释其工作原理。
- en: '![Advanced project – Motion-based home security alert system](img/4602_08_21.jpg)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![高级项目 – 基于运动的家居安全警报系统](img/4602_08_21.jpg)'
- en: 'Once you have typed the code, go ahead and save it. When you run it, you should
    see the output in the Linux shell, as shown in the following screenshot, whenever
    there is movement in front of the PIR sensor:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 输入代码后，继续保存。当你运行它时，你应该在 Linux 命令行界面中看到输出，如下面的截图所示，只要在 PIR 传感器前有移动：
- en: '![Advanced project – Motion-based home security alert system](img/4602_08_22.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![高级项目 – 基于运动的家居安全警报系统](img/4602_08_22.jpg)'
- en: 'The following image shows how I waved my hand in front of the PIR sensor, keeping
    my finger in front of it and taking it away:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的图像显示了我在 PIR 传感器前挥动手臂的情况，手指始终保持在传感器前，然后移开：
- en: '![Advanced project – Motion-based home security alert system](img/4602_08_23.jpg)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![高级项目 – 基于运动的家居安全警报系统](img/4602_08_23.jpg)'
- en: 'And the screenshots of the e-mail I got are shown in the following series of
    images:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 我收到的电子邮件截图如下所示：
- en: '![Advanced project – Motion-based home security alert system](img/4602_08_24.jpg)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![高级项目 – 基于运动的家居安全警报系统](img/4602_08_24.jpg)'
- en: Like this, you can use Python, OpenCV, and the e-mail library of Python together
    to click pictures and send an e-mail alert every time some movement is detected
    by the PIR sensor.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 就这样，你可以使用 Python、OpenCV 和 Python 的电子邮件库一起，每当 PIR 传感器检测到移动时，点击图片并发送电子邮件警报。
- en: Summary
  id: totrans-79
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we used our knowledge from the previous chapter about OpenCV
    with what we learned in this chapter about PIR sensor interfacing using the BeagleBone
    board and sending e-mail using Python from the BeagleBone board to build a motion-detection
    camera surveillance security e-mail alert system. Instead of stopping this project
    here, I recommend you to try out other methods of motion detection and build the
    same system without a PIR sensor. There are lots of resources online on motion
    detection using OpenCV in real time using Python. Try setting up a system where
    without the PIR sensor, motion detection is performed using just the camera and
    an e-mail alert is sent.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们使用了上一章关于 OpenCV 的知识，以及本章关于使用 BeagleBone 板进行 PIR 传感器接口和通过 BeagleBone 板使用
    Python 发送电子邮件所学的知识，来构建一个运动检测摄像头监控电子邮件警报系统。而不是在这里停止这个项目，我建议你尝试其他运动检测方法，并构建一个没有
    PIR 传感器的相同系统。网上有很多关于使用 Python 在实时中利用 OpenCV 进行运动检测的资源。尝试设置一个系统，在没有 PIR 传感器的情况下，仅使用摄像头进行运动检测，并发送电子邮件警报。
