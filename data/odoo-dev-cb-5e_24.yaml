- en: '24'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '24'
- en: Managing the IoT Box
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 管理 IoT Box
- en: 'Odoo provides support for the **Internet of Things** (**IoT**). The IoT is
    a network of devices/sensors that exchange data over the internet. By connecting
    such devices with a system, you can use them. For instance, by connecting a printer
    with Odoo, you can send PDF reports directly to the printer. Odoo uses a piece
    of hardware called the **IoT Box**, which is used to connect devices such as printers,
    calipers, payment devices, footswitches, and more. In this chapter, you will learn
    how to set up and configure the IoT Box. Here, we’ll cover the following recipes:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Odoo 提供对物联网（IoT）的支持。物联网是一个设备/传感器的网络，它们通过互联网交换数据。通过将此类设备与系统连接，您可以使用它们。例如，通过将打印机与
    Odoo 连接，您可以直接将 PDF 报告发送到打印机。Odoo 使用一种称为 **IoT Box** 的硬件设备，用于连接打印机、卡尺、支付设备、脚踏开关等设备。在本章中，您将学习如何设置和配置
    IoT Box。在此，我们将介绍以下食谱：
- en: Flashing the IoT Box image for Raspberry Pi
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为树莓派刷写 IoT Box 图像
- en: Connecting the IoT Box with a network
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 IoT Box 连接到网络
- en: Adding the IoT Box to Odoo
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 IoT Box 添加到 Odoo
- en: Loading drivers and listing connected devices
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 加载驱动程序和列出连接的设备
- en: Taking input from devices
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从设备获取输入
- en: Accessing the IoT Box through SSH
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 SSH 访问 IoT Box
- en: Configuring a **point of** **sale** (**POS**)
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置销售点（POS）
- en: Sending PDF reports directly to a printer
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 直接将 PDF 报告发送到打印机
- en: Note that the goal of this chapter is to install and configure the IoT Box.
    Developing hardware drivers is outside the scope of this book. If you want to
    learn about the IoT Box in more depth, explore the `iot` module in the Enterprise
    Edition.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，本章的目标是安装和配置 IoT Box。开发硬件驱动程序超出了本书的范围。如果您想深入了解 IoT Box，请探索企业版中的 `iot` 模块。
- en: Technical requirements
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: The IoT Box is a **Raspberry Pi**-based device. The recipes in this chapter
    are based on the **Raspberry Pi 3 Model B+**, available at [https://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus/](https://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus/).
    The IoT Box is part of the Enterprise Edition, so you will need to use the Enterprise
    Edition to follow the recipes in this chapter.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: IoT Box 是基于 **Raspberry Pi** 的设备。本章中的食谱基于可从 [https://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus/](https://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus/)
    获取的 **Raspberry Pi 3 Model B+**。IoT Box 是企业版的一部分，因此您需要使用企业版来遵循本章中的食谱。
- en: 'All code used in this chapter can be downloaded from the following GitHub repository:
    [https://github.com/PacktPublishing/Odoo-17-Development-Cookbook-Fifth-Edition/tree/main/Chapter24](https://github.com/PacktPublishing/Odoo-17-Development-Cookbook-Fifth-Edition/tree/main/Chapter24).'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 本章中使用的所有代码均可从以下 GitHub 仓库下载：[https://github.com/PacktPublishing/Odoo-17-Development-Cookbook-Fifth-Edition/tree/main/Chapter24](https://github.com/PacktPublishing/Odoo-17-Development-Cookbook-Fifth-Edition/tree/main/Chapter24)。
- en: Flashing the IoT Box image for Raspberry Pi
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为树莓派刷写 IoT Box 图像
- en: In this recipe, you will learn how to flash a **microSD** card with an image
    of the IoT Box. Note that this recipe is only for those who have purchased the
    **blank Raspberry Pi**. If you have purchased the official IoT Box from Odoo,
    you can skip this recipe as it is preloaded with the IoT Box image.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在本食谱中，您将学习如何使用 IoT Box 的映像刷写 microSD 卡。请注意，此食谱仅适用于已购买 **空白树莓派** 的用户。如果您已从 Odoo
    购买了官方 IoT Box，则可以跳过此食谱，因为它已预装了 IoT Box 图像。
- en: Getting ready
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Raspberry Pi 3 Model B+ uses a microSD card, so we have used a microSD card
    for this recipe. You will need to connect a microSD card to your computer.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 树莓派 3 Model B+ 使用 microSD 卡，因此我们在此食谱中使用了 microSD 卡。您需要将 microSD 卡连接到您的计算机。
- en: How to do it…
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Perform the following steps to install an IoT Box image onto your SD card:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤将 IoT Box 图像安装到您的 SD 卡中：
- en: Insert a microSD card into your computer (use an adapter if your computer doesn’t
    have a dedicated slot).
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 microSD 卡插入您的计算机（如果您的计算机没有专用插槽，请使用适配器）。
- en: Download the IoT Box image from Odoo’s nightly builds. The image is available
    at [https://nightly.odoo.com/master/iotbox/](https://nightly.odoo.com/master/iotbox/).
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 Odoo 的夜间构建中下载 IoT Box 图像。该图像可在 [https://nightly.odoo.com/master/iotbox/](https://nightly.odoo.com/master/iotbox/)
    获取。
- en: Download and install **balenaEtcher** on your computer. You can download this
    from [https://www.balena.io/etcher/](https://www.balena.io/etcher/).
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的计算机上下载并安装 **balenaEtcher**。您可以从 [https://www.balena.io/etcher/](https://www.balena.io/etcher/)
    下载此软件。
- en: 'Open balenaEtcher, select the IoT Box image (we are using version 23.09 of
    the IoT Box image), and choose to flash your microSD card. You’ll see the following
    screen:'
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开 balenaEtcher，选择 IoT Box 图像（我们使用的是 IoT Box 图像的版本 23.09），然后选择将您的 microSD 卡进行闪存。您将看到以下屏幕：
- en: '![Figure 24.1 – Flashing the SD card with the IoT Box image](img/B20997_24_01.jpg)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![图 24.1 – 使用 IoT Box 图像闪存 SD 卡](img/B20997_24_01.jpg)'
- en: Figure 24.1 – Flashing the SD card with the IoT Box image
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 图 24.1 – 使用 IoT Box 图像闪存 SD 卡
- en: Click on the **Flash!** button and wait until the process completes.
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **Flash!** 按钮，等待过程完成。
- en: Remove the microSD card and place it in the Raspberry Pi.
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 取出 microSD 卡并将其放入 Raspberry Pi。
- en: After these steps, your microSD card should be loaded with the IoT Box image
    and ready to be used in the IoT Box.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 执行这些步骤后，您的 microSD 卡应该已经加载了 IoT Box 图像，并准备好在 IoT Box 中使用。
- en: How it works…
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: In this recipe, we have installed the IoT Box image on a microSD card. In the
    second step, we downloaded the IoT Box image from the Odoo nightly builds. On
    the nightly page, you can find different images for the IoT Box. You need to choose
    the latest image from the Odoo nightly builds. When writing this book, we used
    the latest image, which was `iotboxv23_11.zip`. The Odoo IoT Box image is based
    on the Raspbian Stretch Lite OS, and the image is loaded with the libraries and
    modules required to integrate the IoT Box with the Odoo instance.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们在 microSD 卡上安装了 IoT Box 图像。在第二步中，我们从 Odoo 夜间构建中下载了 IoT Box 图像。在夜间构建页面上，您可以找到不同版本的
    IoT Box 图像。您需要从 Odoo 夜间构建中选择最新版本。在撰写本书时，我们使用了最新版本，即 `iotboxv23_11.zip`。Odoo IoT
    Box 图像是基于 Raspbian Stretch Lite 操作系统的，该镜像包含了与 Odoo 实例集成所需的库和模块。
- en: In *step 3*, we downloaded the balenaEtcher utility tool to flash the microSD
    card.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在 *步骤 3* 中，我们下载了 balenaEtcher 工具来闪存 microSD 卡。
- en: Note
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: In this recipe, we used balenaEtcher to flash the microSD card, but you can
    use any other tools to flash the microSD card.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们使用 balenaEtcher 闪存 microSD 卡，但您可以使用任何其他工具来闪存 microSD 卡。
- en: In *step 4*, we flashed the microSD card with the IoT Box image. Note that this
    process can take several minutes. On completion of the process, the microSD card
    will be ready to be used.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在 *步骤 4* 中，我们使用 IoT Box 图像闪存了 microSD 卡。请注意，这个过程可能需要几分钟。完成过程后，microSD 卡将准备好使用。
- en: 'Perform the following steps if you want to verify whether the image was flashed
    successfully:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想验证图像是否成功闪存，请执行以下步骤：
- en: Mount the microSD card into Raspberry Pi.
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 microSD 卡安装到 Raspberry Pi 上。
- en: Connect it to the power supply and attach the external display through an HDMI
    cable (in practical usage, an external display is not compulsory; we have used
    it here just for verification purposes).
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将其连接到电源，并通过 HDMI 线缆（在实际使用中，外部显示器不是必需的；我们在这里只是用于验证目的）连接外部显示器。
- en: 'The OS will boot up and show the following page:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 操作系统将启动并显示以下页面：
- en: '![Figure 24.2 – The IoT Box screen](img/B20997_24_02.jpg)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![图 24.2 – IoT Box 屏幕](img/B20997_24_02.jpg)'
- en: Figure 24.2 – The IoT Box screen
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 图 24.2 – IoT Box 屏幕
- en: If you are not using a display, you can just connect the IoT Box to a power
    supply, and after some time, you will see the Wi-Fi network of the IoT Box.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您不使用显示器，只需将 IoT Box 连接到电源，过一段时间后，您将看到 IoT Box 的 Wi-Fi 网络。
- en: There’s more...
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多...
- en: In previous versions of Odoo, the PosBox was used in POS applications. The IoT
    Box supports all the features of the PosBox, so if you are using the Community
    Edition of Odoo and you want to integrate devices, you can use the same IoT Box
    image to connect Odoo instances with different devices. See the *Configuring a
    POS* recipe for more information.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Odoo 的早期版本中，PosBox 用于 POS 应用。IoT Box 支持所有 PosBox 的功能，因此如果您使用的是 Odoo 的社区版，并且想集成设备，您可以使用相同的
    IoT Box 图像连接不同设备的 Odoo 实例。有关更多信息，请参阅 *配置 POS* 菜谱。
- en: Connecting the IoT Box with a network
  id: totrans-45
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将 IoT Box 连接到网络
- en: The IoT Box communicates with an Odoo instance through the network. Connecting
    the IoT Box is a crucial step, and if you make a mistake here, you might encounter
    errors when connecting the IoT Box with Odoo.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: IoT Box 通过网络与 Odoo 实例通信。连接 IoT Box 是一个关键步骤，如果您在这里出错，您可能会在连接 IoT Box 与 Odoo 时遇到错误。
- en: Getting ready
  id: totrans-47
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Mount the microSD card with the IoT Box image into the Raspberry Pi and then
    connect the Raspberry Pi to the power supply.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 将带有 IoT Box 图像的 microSD 卡安装到 Raspberry Pi 上，然后连接 Raspberry Pi 到电源。
- en: How to do it…
  id: totrans-49
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: Raspberry Pi 3 Model B+ supports two types of network connection—**Ethernet**
    **and Wi-Fi**.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: Raspberry Pi 3 Model B+ 支持两种网络连接类型——**以太网** **和 Wi-Fi**。
- en: 'Connecting the IoT Box through Ethernet is simple; you just need to connect
    your IoT Box with the **RJ45 Ethernet cable**, and the IoT Box is then ready to
    be used. Connecting the IoT Box through Wi-Fi is complicated as you might not
    have a display attached to it. Perform the following steps to connect the IoT
    Box through Wi-Fi:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 通过以太网连接物联网盒很简单；您只需将您的物联网盒用**RJ45以太网线**连接，物联网盒就准备好使用了。通过Wi-Fi连接物联网盒比较复杂，因为您可能没有连接显示屏。按照以下步骤通过Wi-Fi连接物联网盒：
- en: Connect the IoT Box to the power supply (if the Ethernet cable is plugged into
    the IoT Box, remove it and restart the IoT Box).
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将物联网盒连接到电源（如果以太网线已插入物联网盒，请将其拔出并重新启动物联网盒）。
- en: 'Open your computer and connect to the Wi-Fi network, named `IoTBox`, as shown
    in the following screenshot (no password is needed):'
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开您的计算机并连接到名为`IoTBox`的Wi-Fi网络，如下面的截图所示（不需要密码）：
- en: '![Figure 24.3 – IoT Box Wi-Fi network](img/B20997_24_03.jpg)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![图24.3 – 物联网盒Wi-Fi网络](img/B20997_24_03.jpg)'
- en: Figure 24.3 – IoT Box Wi-Fi network
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.3 – 物联网盒Wi-Fi网络
- en: 'After connecting to the Wi-Fi network, you’ll see a popup with the IoT Box
    home page, as shown in the following screenshot (if this does not work, open the
    IP address of the box in the browser):'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 连接到Wi-Fi网络后，您将看到一个弹出窗口，显示物联网盒主页，如下面的截图所示（如果不起作用，请在浏览器中打开盒子的IP地址）：
- en: '![Figure 24.4 – Connecting to the IoT Box](img/B20997_24_04.jpg)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![图24.4 – 连接到物联网盒](img/B20997_24_04.jpg)'
- en: Figure 24.4 – Connecting to the IoT Box
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.4 – 连接到物联网盒
- en: 'Set **IoT Box Name** and keep **Server token** empty, then click on **Next**.
    This will redirect you to a page where you can see a list of Wi-Fi networks:'
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置**物联网盒名称**并保持**服务器令牌**为空，然后点击**下一步**。这将带您到一个页面，您可以查看Wi-Fi网络的列表：
- en: '![Figure 24.5 – Connecting to Wi-Fi](img/B20997_24_05.jpg)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![图24.5 – 连接到Wi-Fi](img/B20997_24_05.jpg)'
- en: Figure 24.5 – Connecting to Wi-Fi
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.5 – 连接到Wi-Fi
- en: Note
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: You can use a server token if you are using the Enterprise Edition and you want
    to connect the IoT Box with Odoo right away. You can get a server token from your
    Odoo instance; refer to the next recipe to learn more about it.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用的是企业版并且希望立即将物联网盒与Odoo连接，您可以使用服务器令牌。您可以从您的Odoo实例中获取服务器令牌；有关更多信息，请参阅下一道菜谱。
- en: 'Select the Wi-Fi network that you want to connect to and fill in the **Password**
    field. After doing this, click on the **Connect** button. If you entered the correct
    information, you will be redirected to the final page:'
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您想要连接的Wi-Fi网络，并填写**密码**字段。完成此操作后，点击**连接**按钮。如果您输入了正确的信息，您将被重定向到最后一个页面：
- en: '![Figure 24.6 – Confirmation page](img/B20997_24_06.jpg)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![图24.6 – 确认页面](img/B20997_24_06.jpg)'
- en: Figure 24.6 – Confirmation page
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.6 – 确认页面
- en: After performing these steps, your IoT Box is connected to the network and ready
    to be integrated with the Odoo instance.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 执行这些步骤后，您的物联网盒已连接到网络，并准备好与Odoo实例集成。
- en: How it works...
  id: totrans-68
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Connecting the Odoo instance to the IoT Box through Ethernet is simple; just
    connect your IoT Box with the RJ45 Ethernet cable, and the IoT Box is ready to
    be used. It’s different when you want to connect the IoT Box with Wi-Fi; this
    is difficult because the IoT Box doesn’t have a display or GUI. You do not have
    an interface to enter your Wi-Fi network password. Consequently, the solution
    to this problem is to disconnect your IoT Box from the Ethernet cable (if it is
    connected) and restart it. In such cases, the IoT Box will create its own Wi-Fi
    hotspot, named `IoTBox` or similar, as shown in *step 2*. You need to connect
    the Wi-Fi with the name `IoTBox`; luckily, it does not require a password. Once
    you connect to the `IoTBox` Wi-Fi, you’ll get a popup, as shown in *step 3*. Here,
    you can name your IoT Box something like `Assembly-line IoT Box`. Keep the server
    token empty for now; we will learn more about it in the *Adding the IoT Box to
    Odoo* recipe. Then, click on the **Next** button.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 通过以太网将Odoo实例连接到物联网盒很简单；只需将您的物联网盒用RJ45以太网线连接，物联网盒就准备好使用了。当您想要通过Wi-Fi连接物联网盒时，这会变得复杂，因为物联网盒没有显示屏或GUI。您没有界面可以输入您的Wi-Fi网络密码。因此，解决这个问题的方法是断开您的物联网盒与以太网线的连接（如果已连接）并重新启动它。在这种情况下，物联网盒将创建自己的Wi-Fi热点，命名为`IoTBox`或类似名称，如*步骤2*所示。您需要将Wi-Fi连接到名为`IoTBox`的名称；幸运的是，它不需要密码。一旦连接到`IoTBox`
    Wi-Fi，您将看到一个弹出窗口，如*步骤3*所示。在这里，您可以给您的物联网盒起一个类似`装配线物联网盒`的名字。目前保持服务器令牌为空；我们将在*将物联网盒添加到Odoo*菜谱中了解更多。然后，点击**下一步**按钮。
- en: Upon clicking the **Next** button, you will be shown a list of Wi-Fi networks,
    as shown in *step 4*. Here, you can connect the IoT Box to your Wi-Fi network.
    Make sure you choose the right network. You need to connect the IoT Box with the
    same Wi-Fi network as the computer on which the Odoo instance is going to be used.
    The IoT Box and the Odoo instance communicate within a **local area network**
    (**LAN**). This means that if both are connected to different networks, they cannot
    communicate, and so IoT will not work.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**下一步**按钮后，您将看到一个Wi-Fi网络列表，如图*步骤4*所示。在此，您可以连接物联网盒子到您的Wi-Fi网络。请确保您选择了正确的网络。您需要将物联网盒子连接到将要使用Odoo实例的计算机相同的Wi-Fi网络。物联网盒子和Odoo实例在**局域网**（**LAN**）内进行通信。这意味着如果两者连接到不同的网络，它们将无法通信，因此物联网将无法工作。
- en: After choosing the right Wi-Fi network, click on **Connect**. Then, the IoT
    Box will turn off its hotspot and reconnect to your configured Wi-Fi network.
    That’s it—the IoT Box is ready to be used.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 选择正确的Wi-Fi网络后，点击**连接**。然后，物联网盒子将关闭其热点并重新连接到您配置的Wi-Fi网络。就这样——物联网盒子已准备好使用。
- en: Adding the IoT Box to Odoo
  id: totrans-72
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将物联网盒子添加到Odoo
- en: Our IoT Box is connected to the local network and ready to be used with Odoo.
    In this recipe, we will connect the IoT Box with the Odoo instance.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的物联网盒子已连接到本地网络，并准备好与Odoo一起使用。在本菜谱中，我们将连接物联网盒子与Odoo实例。
- en: Getting ready
  id: totrans-74
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Make sure the IoT Box is on and that you have connected the IoT Box to the same
    Wi-Fi network as the computer with the Odoo instance.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 确保物联网盒子已开启，并且您已将物联网盒子连接到与运行Odoo实例的计算机相同的Wi-Fi网络。
- en: 'There are a few things you need to take care of; otherwise, the IoT Box will
    not be added to Odoo:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 有几件事情您需要注意；否则，物联网盒子将不会被添加到Odoo中：
- en: If you are testing the IoT Box in a local instance, you will need to use `http://192.168.*.*:8069`
    (your local IP) instead of `http://localhost:8069`. If you use localhost, the
    IoT Box will not be added to your Odoo instance.
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您在本地实例中测试物联网盒子，您需要使用`http://192.168.*.*:8069`（您的本地IP）而不是`http://localhost:8069`。如果您使用localhost，物联网盒子将不会被添加到您的Odoo实例中。
- en: You need to connect the IoT Box with the same Wi-Fi/Ethernet network as the
    computer on which the Odoo instance is being used. Otherwise, the IoT Box will
    not be added to your Odoo instance.
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您需要将物联网盒子连接到与运行Odoo实例的计算机相同的Wi-Fi/Ethernet网络。否则，物联网盒子将不会被添加到您的Odoo实例中。
- en: If your Odoo instance is running with multiple databases, IoT Box will not auto-connect
    with the Odoo instance. Use the `--db-filter` option to avoid this issue.
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您的Odoo实例运行在多个数据库上，物联网盒子将不会自动连接到Odoo实例。使用`--db-filter`选项来避免此问题。
- en: How to do it…
  id: totrans-80
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'In order to connect the IoT Box with Odoo, first you will need to install the
    `iot` module on your Odoo instance:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 为了将物联网盒子与Odoo连接，首先您需要在您的Odoo实例上安装`iot`模块：
- en: 'To do so, go to the **Apps** menu and search for the **Internet of Things**
    module. The module will look like this. Activate the module, and we are good to
    go:'
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要这样做，请转到**应用**菜单并搜索**物联网**模块。该模块看起来像这样。激活模块，我们就可以开始了：
- en: '![Figure 24.7 – Installing the iot module](img/B20997_24_07.jpg)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![图24.7 – 安装`iot`模块](img/B20997_24_07.jpg)'
- en: Figure 24.7 – Installing the iot module
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.7 – 安装`iot`模块
- en: After installing the `iot` module, you can connect your instance with the IoT
    Box. Then, connect your IoT Box manually with the Odoo instance by clicking on
    the **IoT** menu.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装`iot`模块后，您可以将您的实例与物联网盒子连接。然后，通过点击**物联网**菜单手动将物联网盒子与Odoo实例连接。
- en: 'Click on the **Connect** button on the control panel. This will show the following
    popup. Copy the **Token** value:'
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在控制面板上点击**连接**按钮。这将显示以下弹出窗口。复制**令牌**值：
- en: '![Figure 24.8 – Dialog to connect the IoT Box with Odoo](img/B20997_24_08.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![图24.8 – 连接物联网盒子与Odoo的对话框](img/B20997_24_08.jpg)'
- en: Figure 24.8 – Dialog to connect the IoT Box with Odoo
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.8 – 连接物联网盒子与Odoo的对话框
- en: 'Open the IP of the IoT Box with port `8069`. This will display the home page
    of the IoT Box. Click on the **configure** button in the **Name** section:'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用端口`8069`打开物联网盒子的IP。这将显示物联网盒子的主页。在**名称**部分点击**配置**按钮：
- en: '![Figure 24.9 – The IoT Box home page](img/B20997_24_09.jpg)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![图24.9 – 物联网盒子主页](img/B20997_24_09.jpg)'
- en: Figure 24.9 – The IoT Box home page
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.9 – 物联网盒子主页
- en: 'Set the **IoT Box Name** setting and paste in the server token. Then, click
    on the **Connect** button. This will start configuring the IoT Box. Wait for the
    process to complete:'
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置**物联网盒子名称**设置并粘贴服务器令牌。然后，点击**连接**按钮。这将开始配置物联网盒子。等待过程完成：
- en: '![Figure 24.10 – The IoT Box home page](img/B20997_24_010.jpg)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![图24.10 – IoT Box主页](img/B20997_24_010.jpg)'
- en: Figure 24.10 – The IoT Box home page
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.10 – IoT Box主页
- en: 'Check the **IoT** menu in your Odoo instance. You will find a new IoT Box:'
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的Odoo实例中检查**IoT**菜单。你将找到一个新的IoT Box：
- en: '![Figure 24.11 – Successfully connected IoT Box](img/B20997_24_011.jpg)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![图24.11 – 成功连接IoT Box](img/B20997_24_011.jpg)'
- en: Figure 24.11 – Successfully connected IoT Box
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.11 – 成功连接IoT Box
- en: How it works…
  id: totrans-98
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Connecting the IoT Box with Odoo is important. This way, Odoo will know the
    IP of the IoT Box. The IP will be used by Odoo to communicate with devices connected
    to that device. This will also make sure, in the case of multiple IoT Boxes, that
    Odoo communicates with the right one. The rest is straightforward.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 将IoT Box与Odoo连接很重要。这样，Odoo将知道IoT Box的IP地址。Odoo将使用该IP地址与连接到该设备的设备进行通信。这还将确保在多个IoT
    Box的情况下，Odoo与正确的IoT Box进行通信。其余的都是直截了当的。
- en: 'If you want to add an IoT Box to an Odoo instance during Wi-Fi configuration,
    that can be done. In the *Connecting the IoT Box with a network* recipe, we kept
    the **Server token** field empty. You just need to add the server token in this
    step:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想在Wi-Fi配置期间将IoT Box添加到Odoo实例，这是可以做到的。在*连接IoT Box与网络*菜谱中，我们保留了**服务器令牌**字段为空。你只需要在这一步添加服务器令牌：
- en: '![Figure 24.12 – Adding the server token during Wi-Fi configuration](img/B20997_24_012.jpg)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![图24.12 – 在Wi-Fi配置期间添加服务器令牌](img/B20997_24_012.jpg)'
- en: Figure 24.12 – Adding the server token during Wi-Fi configuration
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.12 – 在Wi-Fi配置期间添加服务器令牌
- en: Note
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Avoid using the DHCP network when using the IoT Box. This is because the IoT
    Box network configuration is added based on the IP address. If you use the DHCP
    network, then the IP address is assigned dynamically. So, there is a chance that
    your IoT Box will stop responding due to the new IP address. To avoid this issue,
    you can map the MAC address of the IoT Box to the fixed IP address.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用IoT Box时，请避免使用DHCP网络。这是因为IoT Box的网络配置是基于IP地址添加的。如果你使用DHCP网络，那么IP地址将被动态分配。因此，你的IoT
    Box可能会因为新的IP地址而停止响应。为了避免这个问题，你可以将IoT Box的MAC地址映射到固定的IP地址。
- en: Connecting an IoT Box with a pairing code
  id: totrans-105
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用配对码连接IoT Box
- en: 'There is one more alternative way to connect an IoT Box, which is through a
    `<IoTBOX IP>:8069/point_of_sale/display`. Once you open the POS client display,
    you will be able to see the pairing code as follows:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 连接IoT Box还有另一种替代方法，即通过`<IoTBOX IP>:8069/point_of_sale/display`。一旦你打开POS客户端显示，你将能够看到以下配对码：
- en: '![Figure 24.13 – The pairing code for the IoT Box](img/B20997_24_013.jpg)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![图24.13 – IoT Box的配对码](img/B20997_24_013.jpg)'
- en: Figure 24.13 – The pairing code for the IoT Box
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.13 – IoT Box的配对码
- en: Then, you just need to use the pairing code in the IoT Box connection dialog
    in your Odoo instance.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，你只需在你的Odoo实例的IoT Box连接对话框中使用配对码。
- en: Note
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: The pairing code will not be displayed if you are not connected to the internet.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你没有连接到互联网，配对码将不会显示。
- en: In the preceding screenshot, we have seen how you can get the pairing code for
    the POS client display. But if you have an Ethernet connection and a printer,
    you can get the pairing code without a display. You just need to connect the IoT
    Box with the Ethernet and the printer. Once the IoT Box is booted, it will print
    a receipt with the pairing code. Then, you just need to use the pairing code in
    the IoT Box connection dialog in your Odoo instance.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的屏幕截图中，我们看到了如何获取POS客户端显示的配对码。但是，如果你有一个以太网连接和打印机，你可以在没有显示的情况下获取配对码。你只需要将IoT
    Box与以太网和打印机连接。一旦IoT Box启动，它将打印带有配对码的收据。然后，你只需在你的Odoo实例的IoT Box连接对话框中使用配对码。
- en: There’s more…
  id: totrans-113
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多信息...
- en: 'If you want to connect an existing IoT Box with any other Odoo instance, you
    will need to clear the configuration. You can clear the IoT Box configuration
    with the **Clear** button on the Odoo server configuration page of the IoT Box:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想要将现有的IoT Box连接到任何其他Odoo实例，你需要清除配置。你可以通过IoT Box的Odoo服务器配置页面上的**清除**按钮清除IoT
    Box配置：
- en: '![Figure 24.14 – Clearing the IoT Box configuration](img/B20997_24_014.jpg)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![图24.14 – 清除IoT Box配置](img/B20997_24_014.jpg)'
- en: Figure 24.14 – Clearing the IoT Box configuration
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.14 – 清除IoT Box配置
- en: Loading drivers and listing connected devices
  id: totrans-117
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 加载驱动程序和列出连接的设备
- en: The IoT Box is not just limited to the Enterprise Edition. You can use it like
    the PosBox in the Community Edition. The device’s integration is part of the Enterprise
    Edition, so the IoT Box image does not come with device drivers; you need to load
    them manually. Usually, if you connect the IoT Box with an Enterprise Odoo instance,
    the IoT Box loads the device driver interfaces automatically. But sometimes, you
    might have custom drivers or drivers that are not loaded correctly. In that case,
    you can manually load the drivers. In this recipe, we will see how you can load
    drivers and get a list of connected devices.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: IoT Box不仅限于企业版。您可以使用它就像社区版中的PosBox一样。设备的集成是企业版的一部分，因此IoT Box映像不包含设备驱动程序；您需要手动加载它们。通常，如果您使用企业Odoo实例连接IoT
    Box，IoT Box会自动加载设备驱动程序接口。但有时，您可能有一些自定义驱动程序或未正确加载的驱动程序。在这种情况下，您可以手动加载驱动程序。在本菜谱中，我们将了解如何加载驱动程序并获取连接设备列表。
- en: Getting ready
  id: totrans-119
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Make sure the IoT Box is on and that you have connected it to the same Wi-Fi
    network as the computer with the Odoo instance.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 确保IoT Box已开启，并且您已将其连接到与运行Odoo实例的计算机相同的Wi-Fi网络。
- en: How to do it…
  id: totrans-121
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps to load device drivers into the IoT Box:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤将设备驱动程序加载到IoT Box中：
- en: 'Open the IoT Box home page and click on the **handlers list** button at the
    bottom:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开IoT Box主页并点击底部的**处理程序列表**按钮：
- en: '![Figure 24.15 – handlers list button](img/B20997_24_015.jpg)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![图24.15 – 处理程序列表按钮](img/B20997_24_015.jpg)'
- en: Figure 24.15 – handlers list button
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.15 – 处理程序列表按钮
- en: 'The **handlers list** button will redirect you to the **Handlers list** page,
    where you will find the **Load handlers** button. Click on the button to load
    the drivers:'
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**处理程序列表**按钮会将您重定向到**处理程序列表**页面，在那里您将找到**加载处理程序**按钮。点击该按钮以加载驱动程序：'
- en: '![Figure 24.16 – Drivers list](img/B20997_24_016.jpg)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![图24.16 – 驱动程序列表](img/B20997_24_016.jpg)'
- en: Figure 24.16 – Drivers list
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.16 – 驱动程序列表
- en: 'Go back to the **IoT Box** home page. Here, you will see a list of connected
    devices:'
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回到**IoT Box**主页。在这里，您将看到连接设备的列表：
- en: '![Figure 24.17 – Connected devices](img/B20997_24_017.jpg)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![图24.17 – 连接设备](img/B20997_24_017.jpg)'
- en: Figure 24.17 – Connected devices
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.17 – 连接设备
- en: After performing these steps, the IoT Box will be ready with the devices you
    specified, and you can start using the devices in your applications.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 执行这些步骤后，IoT Box将准备好您指定的设备，您就可以开始在您的应用程序中使用这些设备了。
- en: How it works…
  id: totrans-133
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: 'You can load the drivers from the home page of the IoT Box. You can do this
    using the **Load handlers** button at the bottom. Note that this will only work
    if your IoT Box is connected with the Odoo instance using the Enterprise Edition.
    After loading the drivers, you will be able to see a list of devices on the IoT
    Box home page. You can also see a list of connected devices in the Odoo instance
    through the **IoT** | **Devices** menu. In this menu, you will see a list of connected
    devices for each IoT Box:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从IoT Box的主页加载驱动程序。您可以使用底部的**加载处理程序**按钮来完成此操作。请注意，这仅适用于您的IoT Box使用企业版与Odoo实例连接。加载驱动程序后，您将能够在IoT
    Box主页上看到设备列表。您还可以通过**IoT** | **设备**菜单在Odoo实例中查看连接设备列表。在这个菜单中，您将看到每个IoT Box的连接设备列表：
- en: '![Figure 24.18 – Connected devices list](img/B20997_24_018.jpg)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
  zh: '![图24.18 – 连接设备列表](img/B20997_24_018.jpg)'
- en: Figure 24.18 – Connected devices list
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.18 – 连接设备列表
- en: 'Right now, the IoT Box supports a few hardware devices, such as cameras, footswitches,
    printers, and calipers. A list of devices that are recommended by Odoo can be
    found here: [https://www.odoo.com/page/iot-hardware](https://www.odoo.com/page/iot-hardware).
    If your device is not supported, you can pay for driver development.'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，IoT Box支持一些硬件设备，例如摄像头、脚踏开关、打印机和卡尺。可以在此处找到Odoo推荐设备列表：[https://www.odoo.com/page/iot-hardware](https://www.odoo.com/page/iot-hardware)。如果您的设备不受支持，您可以支付驱动程序开发费用。
- en: Taking input from devices
  id: totrans-138
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从设备获取输入
- en: The IoT Box only supports limited devices. Right now, these hardware devices
    are integrated with the manufacturing application. But if you want, you can integrate
    supported devices with your module. In this recipe, we will capture a picture
    from a camera through our IoT Box.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: IoT Box仅支持有限的设备。目前，这些硬件设备已集成到制造应用程序中。但如果您愿意，您可以将支持的设备集成到您的模块中。在本菜谱中，我们将通过我们的IoT
    Box从摄像头捕获图片。
- en: Getting ready
  id: totrans-140
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: We will be using the `my_hostel` module from the *Logging user changes in a
    chatter* recipe of [*Chapter 23*](B20997_23.xhtml#_idTextAnchor1210), *Managing
    Emails in Odoo*. In this recipe, we will add a new field to capture and store
    images when a borrower returns a book. Make sure the IoT Box is on and that you
    have connected a supported camera device with it.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用来自[*第23章*](B20997_23.xhtml#_idTextAnchor1210)，“在Odoo中管理电子邮件”中“在聊天中记录用户更改”食谱的`my_hostel`模块。在这个食谱中，我们将添加一个新字段来捕捉和存储当借阅者归还书籍时的图像。确保IoT
    Box已开启，并且你已经连接了一个支持的视频设备。
- en: How to do it…
  id: totrans-142
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作……
- en: 'Perform the following steps to capture a picture using a camera with the IoT
    Box:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤，使用带有IoT Box的摄像头捕捉图片：
- en: 'Add a dependency in the manifest file:'
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在清单文件中添加一个依赖项：
- en: '[PRE0]'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Add new fields in the `hostel.student` model:'
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`hostel.student`模型中添加新字段：
- en: '[PRE1]'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Add these fields into the form view of the `hostel.student` model:'
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将这些字段添加到`hostel.student`模型的表单视图中：
- en: '[PRE2]'
  id: totrans-149
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Update the `my_hostel` module to apply the changes. After the update, you will
    have a button to capture images:'
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新`my_hostel`模块以应用更改。更新后，你将有一个按钮来捕捉图像：
- en: '![Figure 24.19 – Capturing an image via IoT](img/B20997_24_019.jpg)'
  id: totrans-151
  prefs: []
  type: TYPE_IMG
  zh: '![图24.19 – 通过IoT捕捉图像](img/B20997_24_019.jpg)'
- en: Figure 24.19 – Capturing an image via IoT
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.19 – 通过IoT捕捉图像
- en: Note that the button will not capture images if the webcam is not connected
    to the IoT Box or drivers are not loaded in the IoT Box.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，如果网络摄像头未连接到IoT Box或驱动程序未在IoT Box中加载，则按钮将不会捕捉图像。
- en: How it works…
  id: totrans-154
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的……
- en: In *step 1*, we added a dependency to the `quality_iot` module in the manifest
    file. The `quality_iot` module is part of the Enterprise Edition and contains
    a widget that allows you to request an image from a camera through the IoT Box.
    This will install `stock` modules, but for the sake of simplicity, we will use
    `quality_iot` as a dependency. If you do not want to use this dependency, you
    can create your own field widget. Refer to the *Creating custom widgets* recipe
    in [*Chapter 15*](B20997_15.xhtml#_idTextAnchor861), *Web Client Development*,
    to learn more about widgets.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 在*步骤1*中，我们在清单文件中添加了对`quality_iot`模块的依赖。`quality_iot`模块是企业版的一部分，包含一个小部件，允许你通过IoT
    Box请求摄像头的图像。这将安装`stock`模块，但为了简化，我们将使用`quality_iot`作为依赖。如果你不想使用这个依赖项，你可以创建自己的字段小部件。请参考[*第15章*](B20997_15.xhtml#_idTextAnchor861)“Web客户端开发”中的“创建自定义小部件”食谱，了解更多关于小部件的信息。
- en: 'In *step 2*, we added fields required to capture an image from the camera.
    To capture the image, we need two things: the device identifier and the IP address
    of the IoT Box. We want to give the user the option to select the camera, so we
    added a `device_id` field. The user will choose a camera to capture the image,
    and based on the selected camera device, we extracted IP and device identifier
    information from related fields. Based on these fields, Odoo will know where to
    capture the image, if you have multiple IoT Boxes. We have also added a binary
    field, `picture`, to save the image.'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 在*步骤2*中，我们添加了捕捉摄像头图像所需字段。要捕捉图像，我们需要两样东西：IoT Box的设备标识符和IP地址。我们希望给用户选择摄像头的选项，因此添加了一个`device_id`字段。用户将选择一个摄像头来捕捉图像，并根据所选的摄像头设备，我们从相关字段中提取IP和设备标识符信息。基于这些字段，Odoo将知道在多个IoT
    Box的情况下在哪里捕捉图像。我们还添加了一个二进制字段`picture`来保存图像。
- en: In *step 3*, we added fields in the form view. Note that we used the `iot_picture`
    widget on the `picture` field. We added `ip` and `identifier` fields as invisible
    fields because we do not want to show them to the user; rather, we want to use
    them in the `picture` field options. This widget will add the button in the form
    view; upon clicking the button, Odoo will make a request to the IoT Box to capture
    the image. The IoT Box will return image data as the response. This response will
    be saved in the `picture` binary field.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 在*步骤3*中，我们在表单视图中添加了字段。请注意，我们在`picture`字段上使用了`iot_picture`小部件。我们将`ip`和`identifier`字段作为不可见字段添加，因为我们不想向用户显示它们；相反，我们想在`picture`字段选项中使用它们。这个小部件将在表单视图中添加按钮；点击按钮后，Odoo将向IoT
    Box发出请求以捕捉图像。IoT Box将返回图像数据作为响应。此响应将被保存在`picture`二进制字段中。
- en: There’s more…
  id: totrans-158
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多……
- en: 'The IoT Box supports Bluetooth calipers. If you want to take measurements in
    your module, you can use the `iot_measure` widget to fetch them in Odoo. Note
    that as with `iot_picture`, here, you will also need to add `ip` and `identifier`
    invisible fields in the form view:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: IoT Box支持蓝牙卡尺。如果你想在你的模块中进行测量，你可以使用`iot_measure`小部件在Odoo中获取它们。注意，与`iot_picture`一样，这里你也需要在表单视图中添加不可见的`ip`和`identifier`字段：
- en: '[PRE3]'
  id: totrans-160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: This will fill the `measure` field with the data captured from the IoT caliper.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 这将使用从物联网卡尺捕获的数据填充`measure`字段。
- en: Accessing the IoT Box through SSH
  id: totrans-162
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过SSH访问物联网盒子
- en: The IoT Box is running on the Raspbian OS, and it is possible to access the
    IoT Box through SSH. In this recipe, we will learn how to access the IoT Box through
    SSH.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 物联网盒子运行在Raspbian操作系统上，并且可以通过SSH访问物联网盒子。在本教程中，我们将学习如何通过SSH访问物联网盒子。
- en: Getting ready
  id: totrans-164
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Make sure the IoT Box is on and you have connected the IoT Box to the same Wi-Fi
    network as the computer with the Odoo instance.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 确保物联网盒子已开启，并且您已将物联网盒子连接到与运行Odoo实例的计算机相同的Wi-Fi网络。
- en: How to do it…
  id: totrans-166
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'In order to connect the IoT Box through SSH, you will need the IP address of
    the IoT Box. You can see this IP address in its form view. As an example, in this
    recipe, we will use `192.168.43.6` as the IoT Box IP address, so replace this
    with your IP address. Perform the following steps to access the IoT Box through
    SSH:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 为了通过SSH连接物联网盒子，您需要物联网盒子的IP地址。您可以在其表单视图中看到此IP地址。例如，在本教程中，我们将使用`192.168.43.6`作为物联网盒子的IP地址，因此请将其替换为您自己的IP地址。执行以下步骤通过SSH访问物联网盒子：
- en: 'Open the terminal and execute the following command:'
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开终端并执行以下命令：
- en: '[PRE4]'
  id: totrans-169
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'If you add the right password, you can access the shell. Execute the following
    command to see the directory:'
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您添加了正确的密码，您就可以访问shell。执行以下命令以查看目录：
- en: '[PRE5]'
  id: totrans-171
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: As you have SSH access, you can explore the full filesystem of the IoT Box.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 由于您有SSH访问权限，您可以探索物联网盒子的完整文件系统。
- en: How it works…
  id: totrans-173
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: We used the Pi user with the password `raspberry` to access the IoT Box through
    SSH. SSH connection is used when you want to debug a problem in the IoT Box. SSH
    doesn’t need any explanation, but let’s see how Odoo works in the IoT Box.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用用户名`Pi`和密码`raspberry`通过SSH访问物联网盒子。当您想调试物联网盒子中的问题时会使用SSH连接。SSH不需要任何解释，但让我们看看Odoo在物联网盒子中的工作方式。
- en: 'Here is some information that might help you debug the issue:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一些可能帮助您调试问题的信息：
- en: The IoT Box is internally running some Odoo modules. The name of these modules
    usually starts with `hw_`, and they are available in the Community Edition. You
    can find all the modules in the `/``home/pi/odoo/addon` directory.
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 物联网盒子内部运行一些Odoo模块。这些模块的名称通常以`hw_`开头，并在社区版中可用。您可以在`/home/pi/odoo/addon`目录中找到所有模块。
- en: If you want to see the Odoo server log, you can access it from the `/``var/log/odoo/odoo-server.log`
    file.
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您想查看Odoo服务器日志，您可以从`/var/log/odoo/odoo-server.log`文件中访问它。
- en: 'Odoo is running through a service named `odoo`; you can use the following command
    to start, stop, or restart the service:'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Odoo通过名为`odoo`的服务运行；您可以使用以下命令启动、停止或重启服务：
- en: '`sudo service` `odoo start/restart/stop`'
  id: totrans-179
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sudo service` `odoo start/restart/stop`'
- en: Customers mostly turn the IoT Box off by disconnecting the power. This means
    that the IoT Box OS does not shut down properly in such cases. To avoid corruption
    of the system, the IoT Box filesystem is read-only.
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 客户通常通过断开电源来关闭物联网盒子。这意味着在这种情况下，物联网盒子操作系统无法正确关闭。为了避免系统损坏，物联网盒子的文件系统是只读的。
- en: There’s more…
  id: totrans-181
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多内容…
- en: 'Note that the IoT Box is only connected to the local machine. Consequently,
    you cannot access the shell directly from a remote location (through the internet).
    If you want to access the IoT Box remotely, you can paste the `ngrok` authentication
    token key into the IoT Box’s remote debug page, as shown in the following screenshot.
    This will enable the TCP tunnel from the IoT Box so that you can connect the IoT
    Box through SSH from anywhere. Learn more about `ngrok` at [https://ngrok.com/](https://ngrok.com/):'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '注意，物联网盒子仅连接到本地机器。因此，您无法直接从远程位置（通过互联网）访问shell。如果您想远程访问物联网盒子，可以将`ngrok`认证令牌密钥粘贴到物联网盒子的远程调试页面，如图所示。这将启用物联网盒子的TCP隧道，以便您可以从任何地方通过SSH连接物联网盒子。有关`ngrok`的更多信息，请访问[https://ngrok.com/](https://ngrok.com/):'
- en: '![Figure 24.20 – Debugging with a ngrok token](img/B20997_24_020.jpg)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
  zh: '![图24.20 – 使用ngrok令牌进行调试](img/B20997_24_020.jpg)'
- en: Figure 24.20 – Debugging with a ngrok token
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.20 – 使用ngrok令牌进行调试
- en: Once you add your token, you will be able to access the IoT Box from remote
    locations.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您添加了令牌，您将能够从远程位置访问物联网盒子。
- en: Configuring a POS
  id: totrans-186
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置POS
- en: The IoT Box works with POS applications. In this recipe, we will learn how to
    configure the IoT Box for POS applications.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 物联网盒子与POS应用程序配合使用。在本教程中，我们将学习如何为POS应用程序配置物联网盒子。
- en: Getting ready
  id: totrans-188
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Make sure the IoT Box is on and you have connected the IoT Box to the same Wi-Fi
    network as the computer with the Odoo instance. Also, install the POS application
    if it is not already installed.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 确保物联网盒已开启，并且您已将物联网盒连接到与运行Odoo实例的计算机相同的Wi-Fi网络。另外，如果尚未安装，请安装POS应用程序。
- en: How to do it…
  id: totrans-190
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Perform the following steps to configure the IoT Box for the POS application:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤以配置POS应用程序的物联网盒：
- en: 'Open the POS application, and open **Settings** from the POS session dropdown:'
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开POS应用程序，并从POS会话下拉菜单中打开**设置**：
- en: '![Figure 24.21 – POS session settings](img/B20997_24_021.jpg)'
  id: totrans-193
  prefs: []
  type: TYPE_IMG
  zh: '![图24.21 – POS会话设置](img/B20997_24_021.jpg)'
- en: Figure 24.21 – POS session settings
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.21 – POS会话设置
- en: 'Click on the **Edit** button and click on the **IoT Box** checkbox. This will
    enable more options:'
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**编辑**按钮，然后点击**物联网盒**复选框。这将启用更多选项：
- en: '![Figure 24.22 – Selecting IoT devices](img/B20997_24_022.jpg)'
  id: totrans-196
  prefs: []
  type: TYPE_IMG
  zh: '![图24.22 – 选择物联网设备](img/B20997_24_022.jpg)'
- en: Figure 24.22 – Selecting IoT devices
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.22 – 选择物联网设备
- en: Select the devices that you want to use in a POS session. If you are going to
    use hardware, such as a barcode scanner, select the relevant devices.
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您在POS会话中想要使用的设备。如果您将要使用硬件，例如条形码扫描仪，请选择相关设备。
- en: Save the changes by clicking the **Save** button in the control panel.
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击控制面板中的**保存**按钮保存更改。
- en: After the configuration, you will be able to use the IoT Box in the POS application.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 配置完成后，您将能够在POS应用程序中使用物联网盒。
- en: How it works…
  id: totrans-201
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: The IoT Box can be used with POS applications such as the PosBox. In order to
    use the IoT Box in a POS application, you have to connect the IoT Box to the Odoo
    instance. If you don’t know how to connect the IoT Box, follow the *Adding the
    IoT Box to Odoo* recipe. Once you have connected the IoT Box to Odoo, you will
    be able to select the IoT Box in the POS application, as shown in *step 2*.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 物联网盒可以与PosBox等POS应用程序一起使用。为了在POS应用程序中使用物联网盒，您必须将物联网盒连接到Odoo实例。如果您不知道如何连接物联网盒，请遵循*将物联网盒添加到Odoo*食谱。一旦您将物联网盒连接到Odoo，您将能够在POS应用程序中选择物联网盒，如图*步骤2*所示。
- en: 'Here, you can select the hardware you want to use in the POS session. After
    saving the changes, if you open the POS session, you will be able to use the enabled
    hardware at the POS. If you enabled specific hardware from the settings but the
    hardware is not connected to the IoT Box, you will see the following warning in
    the top bar:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，您可以选择在POS会话中想要使用的硬件。保存更改后，如果您打开POS会话，您将能够在POS中使用启用的硬件。如果您在设置中启用了特定的硬件，但该硬件未连接到物联网盒，您将在顶部栏看到以下警告：
- en: '![Figure 24.23 – IoT Box connection issues](img/B20997_24_023.jpg)'
  id: totrans-204
  prefs: []
  type: TYPE_IMG
  zh: '![图24.23 – 物联网盒连接问题](img/B20997_24_023.jpg)'
- en: Figure 24.23 – IoT Box connection issues
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.23 – 物联网盒连接问题
- en: You can click on these warnings to try to connect again.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以点击这些警告尝试重新连接。
- en: There’s more…
  id: totrans-207
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多内容…
- en: 'The POS application is part of the Community Edition. If you are using the
    Community Edition, instead of the **IoT Box** selection, you will see the **IoT
    Box IP Address** field in the POS settings:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: POS应用程序是社区版的一部分。如果您正在使用社区版，那么在POS设置中，您将看到**物联网盒IP地址**字段而不是**物联网盒**选择项：
- en: '![Figure 24.24 – IoT Box settings in the Community Edition](img/B20997_24_024.jpg)'
  id: totrans-209
  prefs: []
  type: TYPE_IMG
  zh: '![图24.24 – 社区版中的物联网盒设置](img/B20997_24_024.jpg)'
- en: Figure 24.24 – IoT Box settings in the Community Edition
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.24 – 社区版中的物联网盒设置
- en: If you want to integrate hardware in the Community Edition, you will need to
    use the IP address of the IoT Box in the field.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想在社区版中集成硬件，您需要在字段中使用物联网盒的IP地址。
- en: Sending PDF reports directly to a printer
  id: totrans-212
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 直接将PDF报告发送到打印机
- en: The IoT Box runs the **Common UNIX Printing System** (**CUPS**) server by default.
    CUPS is a printing system that allows a computer to act as a printing server.
    You can learn more about it at [https://www.cups.org/](https://www.cups.org/).
    So, as the IoT Box runs CUPS internally, you can connect network printers with
    the IoT Box. In this recipe, we will see how you can print PDF reports directly
    from Odoo.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 物联网盒默认运行**通用UNIX打印系统**（**CUPS**）服务器。CUPS是一种允许计算机充当打印服务器的打印系统。您可以在[https://www.cups.org/](https://www.cups.org/)上了解更多信息。因此，由于物联网盒内部运行CUPS，您可以使用物联网盒连接网络打印机。在本食谱中，我们将了解如何直接从Odoo打印PDF报告。
- en: Getting ready
  id: totrans-214
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Make sure the IoT Box is on and you have connected the IoT Box with Odoo.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 确保物联网盒已开启，并且您已将物联网盒与Odoo连接。
- en: How to do it…
  id: totrans-216
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Follow these steps to print reports directly from Odoo:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤直接从Odoo打印报告：
- en: Open the IoT Box home page via IP.
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过IP地址打开物联网盒主页。
- en: Click on the **Printer Server** button at the bottom.
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击底部的**打印机服务器**按钮。
- en: This will open the CUPS configuration home page. Configure your printer here.
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这将打开CUPS配置主页。在这里配置您的打印机。
- en: Once you have configured the printer, you will be able to see the printer in
    the IoT device list. Activate developer mode and open **Settings**| **Technical**
    | **Actions** | **Report**.
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦您配置了打印机，您将能够在物联网设备列表中看到打印机。激活开发者模式并打开**设置**| **技术** | **操作** | **报告**。
- en: 'Search for the report that you want to print, open the form view, and select
    the printer in the **IoT Device** field, as shown in the following screenshot:'
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 搜索您想要打印的报告，打开表单视图，并在**物联网设备**字段中选择打印机，如图下所示：
- en: '![Figure 24.25 – Options to select an IoT device](img/B20997_24_025.jpg)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
  zh: '![图24.25 – 选择物联网设备的选项](img/B20997_24_025.jpg)'
- en: Figure 24.25 – Options to select an IoT device
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 图24.25 – 选择物联网设备的选项
- en: Once this configuration is done, report PDFs will be sent directly to the printer.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 完成此配置后，报告PDF将直接发送到打印机。
- en: How it works…
  id: totrans-226
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的……
- en: This recipe is straightforward in terms of configuration, but there are a few
    things that you should know. The IoT Box uses the CUPS server to print reports.
    You can access the CUPS home page at `http://<IoT` `Box IP>:631`.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 在配置方面，这个菜谱很简单，但有一些事情您应该知道。物联网盒使用CUPS服务器打印报告。您可以在`http://<IoT Box IP>:631`访问CUPS主页。
- en: With CUPS, you can add/remove your printer. On the home page of CUPS, you will
    be able to see all the documentation that you need to help you connect different
    types of printers. Once you have configured the printer, you will find your printer
    in the IoT device list. Then, you can select this IoT device (printer) in the
    report record. Usually, when you print a report in Odoo, it will download a PDF
    of the report. But when this configuration is done, instead of downloading the
    report, Odoo will send the PDF report directly to the selected printer. Note that
    only reports whose record has the printer set in the IoT device field will be
    sent to the printer.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 使用CUPS，您可以添加/删除打印机。在CUPS的主页上，您将能够看到所有帮助您连接不同类型打印机的文档。一旦您配置了打印机，您将在物联网设备列表中找到您的打印机。然后，您可以在报告记录中选择此物联网设备（打印机）。通常，当您在Odoo中打印报告时，它会下载报告的PDF。但完成此配置后，Odoo将直接将PDF报告发送到所选打印机。请注意，只有记录中在物联网设备字段设置了打印机的报告才会发送到打印机。
