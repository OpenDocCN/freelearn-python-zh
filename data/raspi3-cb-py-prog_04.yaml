- en: Predicting Sentiments in Words
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 预测词语中的情感
- en: 'This chapter presents the following recipes:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍了以下食谱：
- en: Building a Naive Bayes classifier
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建朴素贝叶斯分类器
- en: Logistic regression classifier
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 逻辑回归分类器
- en: Splitting the dataset for training and testing
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将数据集拆分为训练和测试
- en: Evaluating the accuracy using cross-validation
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用交叉验证评估准确性
- en: Analyzing the sentiment of a sentence
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分析句子的情感
- en: Identifying patterns in text using topic modeling
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用主题模型在文本中识别模式
- en: Application of sentiment analyses
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 情感分析的应用
- en: Building a Naive Bayes classifier
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 构建朴素贝叶斯分类器
- en: A Naive Bayes classifier employs Bayes' theorem to construct a supervised model.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 高斯贝叶斯分类器使用贝叶斯定理构建一个监督模型。
- en: How to do it...
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Import the following packages:'
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入以下包：
- en: '[PRE0]'
  id: totrans-13
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Use the following data file, which includes comma-separated arithmetical data:'
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下数据文件，其中包含以逗号分隔的算术数据：
- en: '[PRE1]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Construct a Naive Bayes classifier:'
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建一个朴素贝叶斯分类器：
- en: '[PRE2]'
  id: totrans-17
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Calculate the accuracy of Naive Bayes:'
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算朴素贝叶斯算法的准确率：
- en: '[PRE3]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Plot the classifier result:'
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制分类器的结果：
- en: '[PRE4]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Specify the boundaries of the figure:'
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 指定图形的边界：
- en: '[PRE5]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The accuracy obtained after executing a Naive Bayes classifier is shown in
    the following screenshot:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 执行朴素贝叶斯分类器后获得的准确度显示在下述截图：
- en: '![](img/b8202659-17dd-4313-b6a6-afe44e72f943.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/b8202659-17dd-4313-b6a6-afe44e72f943.png)'
- en: See also
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参见
- en: 'Please refer to the following articles:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 请参阅以下文章：
- en: 'To get to know how the classifier works with an example refer to the following
    link:'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要了解分类器如何工作的示例，请参考以下链接：
- en: '[https://en.wikipedia.org/wiki/Naive_Bayes_classifier](https://en.wikipedia.org/wiki/Naive_Bayes_classifier)'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '[朴素贝叶斯分类器](https://en.wikipedia.org/wiki/Naive_Bayes_classifier)'
- en: 'To learn more about text classification with the proposed classifier, refer
    to the following link:'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要了解更多关于使用所提出分类器的文本分类信息，请参阅以下链接：
- en: '[http://sebastianraschka.com/Articles/2014_naive_bayes_1.html](http://sebastianraschka.com/Articles/2014_naive_bayes_1.html)'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://sebastianraschka.com/Articles/2014_naive_bayes_1.html](http://sebastianraschka.com/Articles/2014_naive_bayes_1.html)'
- en: 'To learn more about the Naive Bayes Classification Algorithm, refer to the
    following link:'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要了解更多关于朴素贝叶斯分类算法的信息，请参考以下链接：
- en: '[http://software.ucv.ro/~cmihaescu/ro/teaching/AIR/docs/Lab4-NaiveBayes.pdf](http://software.ucv.ro/~cmihaescu/ro/teaching/AIR/docs/Lab4-NaiveBayes.pdf)'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://software.ucv.ro/~cmihaescu/ro/teaching/AIR/docs/Lab4-NaiveBayes.pdf](http://software.ucv.ro/~cmihaescu/ro/teaching/AIR/docs/Lab4-NaiveBayes.pdf)'
- en: Logistic regression classifier
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 逻辑回归分类器
- en: This approach can be chosen where the output can take only two values, 0 or
    1, pass/fail, win/lose, alive/dead, or healthy/sick, and so on. In cases where
    the dependent variable has more than two outcome categories, it may be analyzed
    using multinomial logistic regression.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 这种方法适用于输出只能取两个值的情况，例如0或1、通过/失败、赢/输、生/死、健康/生病等。在因变量有超过两个结果类别的情况下，可以使用多项逻辑回归进行分析。
- en: How to do it...
  id: totrans-36
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: 'After installing the essential packages, let''s construct some training labels:'
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完必需的包后，让我们构建一些训练标签：
- en: '[PRE6]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Initiate the classifier:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 初始化分类器：
- en: '[PRE7]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Sketch datapoints and margins:'
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制数据点和边距：
- en: '[PRE8]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'The command to execute logistic regression is shown in the following screenshot:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 执行逻辑回归的命令如下截图所示：
- en: '![](img/3fb38bc6-ec53-4e9a-b132-b2a9359e8284.png)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/3fb38bc6-ec53-4e9a-b132-b2a9359e8284.png)'
- en: Splitting the dataset for training and testing
  id: totrans-45
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将数据集拆分为训练和测试
- en: Splitting helps to partition the dataset into training and testing sequences.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 分割有助于将数据集划分为训练和测试序列。
- en: How to do it...
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: 'Add the following code fragment into the same Python file:'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将以下代码片段添加到相同的Python文件中：
- en: '[PRE9]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Allocate 75% of data for training and 25% of data for testing:'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 分配75%的数据用于训练和25%的数据用于测试：
- en: '[PRE10]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Evaluate the classifier performance on test data:'
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 评估分类器在测试数据上的性能：
- en: '[PRE11]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Compute the accuracy of the classifier system:'
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算分类系统的准确率：
- en: '[PRE12]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Plot the datapoints and the boundaries for test data:'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制测试数据的点集和边界：
- en: '[PRE13]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'The accuracy obtained while splitting the dataset is shown in the following
    screenshot:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下屏幕截图中显示了在分割数据集时获得的准确性：
- en: '![](img/b51cfabd-087e-4e04-b172-47370b19c295.png)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/b51cfabd-087e-4e04-b172-47370b19c295.png)'
- en: Evaluating the accuracy using cross-validation
  id: totrans-60
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用交叉验证评估准确性
- en: Cross-validation is essential in machine learning. Initially, we split the datasets
    into a train set and a test set. Next, in order to construct a robust classifier,
    we repeat this procedure, but we need to avoid overfitting the model. Overfitting
    indicates that we get excellent prediction results for the train set, but very
    poor results for the test set. Overfitting causes poor generalization of the model.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 交叉验证在机器学习中至关重要。最初，我们将数据集分为训练集和测试集。接下来，为了构建一个鲁棒的分类器，我们需要重复这个步骤，但需要避免模型过拟合。过拟合意味着我们在训练集上获得出色的预测结果，但在测试集上结果非常糟糕。过拟合会导致模型泛化能力差。
- en: How to do it...
  id: totrans-62
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Import the packages:'
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入所需的包：
- en: '[PRE14]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Compute the accuracy of the classifier:'
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算分类器的准确率：
- en: '[PRE15]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'The result obtained after executing cross-validation is shown as follows:'
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行交叉验证后得到的结果如下所示：
- en: '![](img/f4e29007-8020-462b-9e3c-9e20de11f795.png)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/f4e29007-8020-462b-9e3c-9e20de11f795.png)'
- en: 'In order to know how it works on a given sentence dataset, refer to the following:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 为了了解它在一个特定的句子数据集上的工作原理，请参考以下内容：
- en: 'Introduction to logistic regression:'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 逻辑回归简介：
- en: '[https://machinelearningmastery.com/logistic-regression-for-machine-learning/](https://machinelearningmastery.com/logistic-regression-for-machine-learning/)'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '[机器学习中的逻辑回归](https://machinelearningmastery.com/logistic-regression-for-machine-learning/)'
- en: Analyzing the sentiment of a sentence
  id: totrans-72
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分析句子的情感
- en: Sentiment analysis refers to procedures of finding whether a specified part
    of text is positive, negative, or neutral. This technique is frequently considered
    to find out how people think about a particular situation. It evaluates the sentiments
    of consumers in different forms, such as advertising campaigns, social media,
    and e-commerce customers.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 情感分析指的是寻找文本指定部分是正面、负面还是中性的过程。这项技术通常被认为可以了解人们对特定情况的想法。它评估消费者在不同形式中的情感，例如广告活动、社交媒体和电子商务客户。
- en: How to do it...
  id: totrans-74
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: 'Create a new file and import the chosen packages:'
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新文件并导入选定的包：
- en: '[PRE16]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Describe a function to extract features:'
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 描述一个提取特征的函数：
- en: '[PRE17]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Adopt movie reviews in NLTK as training data:'
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 NLTK 中的电影评论作为训练数据：
- en: '[PRE18]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Divide the data into positive and negative reviews:'
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据分为正面和负面评论：
- en: '[PRE19]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Segregate the data into training and testing datasets:'
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据划分为训练集和测试集：
- en: '[PRE20]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Extract the features:'
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提取特征：
- en: '[PRE21]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Consider the Naive Bayes classifier and train it with an assigned objective:'
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 考虑朴素贝叶斯分类器，并使用指定的目标对其进行训练：
- en: '[PRE22]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'The result obtained for sentiment analysis is shown as follows:'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 情感分析得到的结果如下所示：
- en: '![](img/fcd24c1b-a62b-4009-9d67-f11bffbc3b22.png)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/fcd24c1b-a62b-4009-9d67-f11bffbc3b22.png)'
- en: Identifying patterns in text using topic modeling
  id: totrans-91
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用主题模型在文本中识别模式
- en: The theme modeling refers to the procedure of recognizing hidden patterns in
    manuscript information. The objective is to expose some hidden thematic configuration
    in a collection of documents.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 主题建模指的是在文献信息中识别隐藏模式的过程。其目标是揭示一组文档中的一些隐藏主题配置。
- en: How to do it...
  id: totrans-93
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做这件事...
- en: 'Import the following packages:'
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入以下包：
- en: '[PRE23]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'Load the input data:'
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 加载输入数据：
- en: '[PRE24]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Class to pre-process text:'
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 文本预处理课程：
- en: '[PRE25]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Obtain a list of stop words to terminate the program execution:'
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取一个停止词列表以终止程序执行：
- en: '[PRE26]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'Create a Snowball stemmer:'
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个Snowball词干提取器：
- en: '[PRE27]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Define a function to perform tokenizing, stop word removal, and stemming:'
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义一个函数以执行分词、停用词移除和词干提取：
- en: '[PRE28]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Eliminate stop words from the text:'
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从文本中删除停用词：
- en: '[PRE29]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'Implement stemming on the tokens:'
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在标记上实现词干提取：
- en: '[PRE30]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'Return the processed tokens:'
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回处理后的标记：
- en: '[PRE31]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'Load the input data from the `main` function:'
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从`main`函数中加载输入数据：
- en: '[PRE32]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'Create an object:'
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个对象：
- en: '[PRE33]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'Process the file and extract the tokens:'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 处理文件并提取标记：
- en: '[PRE34]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'Create a dictionary based on the tokenized documents:'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 基于分词文档创建一个字典：
- en: '[PRE35]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'Develop an LDA model, define required parameters, and initialize the LDA objective:'
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 开发一个LDA模型，定义所需参数，并初始化LDA目标：
- en: '[PRE36]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'The result obtained when `topic_modelling.py` is executed is shown in the following
    screenshot:'
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行`topic_modelling.py`时得到的结果如下截图所示：
- en: '![](img/453ec4ce-69e2-4397-b09f-db674eaeb13b.png)'
  id: totrans-123
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/453ec4ce-69e2-4397-b09f-db674eaeb13b.png)'
- en: Applications of sentiment analysis
  id: totrans-124
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 情感分析的应用
- en: Sentiment analysis is used in social media such as Facebook and Twitter, to
    find the sentiments (positive/negative) of the general public over an issue. They
    are also used to establish the sentiments of people regarding advertisements and
    how people feel about your product, brand, or service.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 情感分析被用于社交媒体如Facebook和Twitter，以找出公众对一个问题的情感（正面/负面）。它们也被用来确定人们对广告的情感，以及人们对你的产品、品牌或服务的感受。
