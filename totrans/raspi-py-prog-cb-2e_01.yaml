- en: Chapter 1. Getting Started with a Raspberry Pi Computer
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 1 章. 使用 Raspberry Pi 计算机入门
- en: 'In this chapter, we will cover the following recipes:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下菜谱：
- en: Connecting the Raspberry Pi
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 连接 Raspberry Pi
- en: Using NOOBS to set up your Raspberry Pi SD card
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 NOOBS 设置你的 Raspberry Pi SD 卡
- en: Networking and connecting your Raspberry Pi to the Internet via the LAN connector
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 LAN 连接器将你的 Raspberry Pi 连接到互联网进行网络连接
- en: Using built-in Wi-Fi and Bluetooth on the Raspberry Pi
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Raspberry Pi 上使用内置的 Wi-Fi 和蓝牙
- en: Configuring your network manually
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 手动配置你的网络
- en: Networking directly to a laptop or computer
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 直接连接到笔记本电脑或计算机
- en: Networking and connecting your Raspberry Pi to the Internet via a USB Wi-Fi
    dongle
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 USB Wi-Fi 拨号连接将你的 Raspberry Pi 连接到互联网
- en: Connecting to the Internet through a proxy server
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过代理服务器连接到互联网
- en: Connecting remotely to the Raspberry Pi over the network using VNC
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 VNC 在网络上远程连接到 Raspberry Pi
- en: Connecting remotely to the Raspberry Pi over the network using SSH (and X11
    Forwarding)
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 SSH（和 X11 转发）在网络上远程连接到 Raspberry Pi
- en: Sharing the home folder of the Raspberry Pi with SMB
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 SMB 与 Raspberry Pi 的家目录共享
- en: Keeping the Raspberry Pi up to date
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 保持 Raspberry Pi 更新
- en: Introduction
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: This chapter introduces the Raspberry Pi and the process to set it up for the
    first time. We will connect the Raspberry Pi to a suitable display, power, and
    peripherals. We will install an operating system on an SD card. This is required
    for the system to boot. Next, we will ensure that we can connect successfully
    to the Internet through a local network.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍了 Raspberry Pi 以及首次设置的过程。我们将连接 Raspberry Pi 到合适的显示器、电源和外设。我们将在 SD 卡上安装操作系统。这是系统启动所必需的。接下来，我们将确保我们能够通过本地网络成功连接到互联网。
- en: Finally, we will make use of the network to provide ways to remotely connect
    to and/or control the Raspberry Pi from other computers and devices, as well as
    to ensure that the system is kept up to date.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们将利用网络提供远程连接到和/或控制 Raspberry Pi 的方法，以及确保系统保持更新。
- en: Once you have completed the steps within this chapter, your Raspberry Pi will
    be ready for you to use for programming. If you already have your Raspberry Pi
    set up and running, ensure that you take a look through the following sections
    as there are many helpful tips.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你完成了本章中的步骤，你的 Raspberry Pi 就可以用于编程了。如果你已经设置了你的 Raspberry Pi 并正在运行，请确保你浏览以下部分，因为这里有许多有用的提示。
- en: Introducing the Raspberry Pi
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 介绍 Raspberry Pi
- en: The Raspberry Pi is a single-board computer created by the **Raspberry Pi Foundation**,
    a charity formed with the primary purpose of reintroducing low-level computer
    skills to children in the UK. The aim was to rekindle the microcomputer revolution
    of the 1980s, which produced a whole generation of skilled programmers.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: Raspberry Pi 是由 **Raspberry Pi 基金会**创建的单板电脑，该基金会是一个慈善机构，其主要目的是将低级计算机技能重新引入英国的儿童。目标是重新点燃
    20 世纪 80 年代的微型计算机革命，这场革命产生了一代熟练的程序员。
- en: 'Even before the computer was released at the end of February 2012, it was clear
    that the Raspberry Pi had gained a huge following worldwide and, at the time of
    writing this book, has sold over 10 million units. The following image shows several
    different Raspberry Pi Models:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 即使在 2012 年 2 月底发布电脑之前，很明显 Raspberry Pi 已经在全球范围内获得了巨大的关注，并且在撰写本书时，销量已超过 1000
    万台。以下图片显示了几个不同的 Raspberry Pi 型号：
- en: '![Introducing the Raspberry Pi](img/6623OT_01_001.jpg)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![介绍 Raspberry Pi](img/6623OT_01_001.jpg)'
- en: Raspberry Pi Model 3B, Model A+, and Pi Zero
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: Raspberry Pi Model 3B、Model A+ 和 Pi Zero
- en: What is with the name?
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 这个名字有什么含义？
- en: The name, Raspberry Pi, was the combination of the desire to create an alternative
    fruit-based computer (such as Apple, BlackBerry, and Apricot) and a nod to the
    original concept of a simple computer that can be programmed using **Python**
    (shortened to **Pi**).
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: Raspberry Pi 这个名字是创建一个基于水果的替代电脑（如苹果、黑莓和杏）的愿望与对原始概念的一种致敬，即一个可以用 **Python**（简称
    **Pi**）编程的简单电脑。
- en: In this book, we will take this little computer, find out how to set it up,
    and then explore its capabilities chapter by chapter using the Python programming
    language.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，我们将探讨这个小电脑，找出如何设置它，然后使用 Python 编程语言逐章探索其功能。
- en: Why Python?
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为什么选择 Python？
- en: It is often asked, "Why has Python been selected as the language to use on the
    Raspberry Pi?" The fact is that Python is just one of the many programming languages
    that can be used on the Raspberry Pi.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 人们经常问，“为什么选择Python作为Raspberry Pi上的编程语言？”事实是，Python只是可以在Raspberry Pi上使用的许多编程语言之一。
- en: There are many programming languages that you can choose, from high-level graphical
    block programming, such as **Scratch**, to traditional **C**, right down to **BASIC**,
    and even raw **Machine Code Assembler**. A good programmer often has to be code
    multilingual to be able to play to the strengths and weaknesses of each language
    in order to best meet the needs of their desired application. It is useful to
    understand how different languages (and programming techniques) try to overcome
    the challenge of converting "what you want" into "what you get" as this is what
    you are trying to do as well while you program.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以选择许多编程语言，从高级图形块编程，如**Scratch**，到传统的**C**，再到**BASIC**，甚至原始的**机器代码汇编器**。一个好的程序员通常必须成为代码多语言者，以便能够发挥每种语言的优势和劣势，以最好地满足他们期望的应用需求。了解不同的语言（和编程技术）如何尝试克服将“你想要的”转换为“你得到的”的挑战是有用的，因为这也是你在编程时试图做到的事情。
- en: Python has been selected as a good place to start when learning about programming,
    by providing a rich set of coding tools while still allowing simple programs to
    be written without fuss. This allows beginners to gradually be introduced to the
    concepts and methods on which modern programming languages are based without requiring
    them to know it all from the start. It is very modular with lots of additional
    libraries that can be imported to quickly extend the functionality. You will find
    that over time, this encourages you to do the same, and you will want to create
    your own modules that you can plug into your own programs, thus taking your first
    steps into structured programming.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: Python被选为学习编程的好起点，因为它提供了一套丰富的编码工具，同时仍然允许编写简单的程序而无需烦恼。这使得初学者可以逐渐接触现代编程语言所基于的概念和方法，而无需一开始就了解所有内容。它非常模块化，有许多额外的库可以导入，以快速扩展功能。你会发现随着时间的推移，这会鼓励你做同样的事情，你将想要创建自己的模块，可以将它们插入到自己的程序中，从而迈出结构化编程的第一步。
- en: Like all programming languages, Python isn't perfect; things such as adding
    a space at the start of a line will often break your code (indents matter a lot
    in Python; they define how blocks of code are grouped together). Generally, Python
    is slow; since it is interpreted, it takes time to create a module while it is
    running the program. This can be a problem if you need to respond to time critical
    events. However, you can precompile Python or use modules written in other languages
    to overcome this. It hides the details; this is both an advantage and disadvantage.
    It is excellent for beginners but can be difficult when you have to second-guess
    aspects such as data-types. However, this in turn forces you to consider all the
    possibilities, which can be a good thing.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 与所有编程语言一样，Python并不完美；例如，在行首添加空格通常会破坏你的代码（在Python中，缩进非常重要；它们定义了代码块是如何组合在一起的）。一般来说，Python运行速度较慢；由于它是解释的，它在运行程序时需要时间来创建模块。如果你需要响应时间敏感的事件，这可能会成为一个问题。然而，你可以预编译Python或使用用其他语言编写的模块来克服这个问题。它隐藏了细节；这既是优点也是缺点。它非常适合初学者，但在你必须猜测数据类型等细节时可能会很困难。然而，这反过来又迫使你考虑所有可能性，这可能是好事。
- en: Python 2 and Python 3
  id: totrans-31
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Python 2和Python 3
- en: A massive source of confusion for beginners is that there are two versions of
    Python on the Raspberry Pi (**Version 2.7** and **Version 3.4**), which are not
    compatible with one another, so code written for Python 2.7 may not run with Python
    3.4 (and vice versa).
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 对于初学者来说，一个巨大的困惑来源是，Raspberry Pi上有两个版本的Python（**版本2.7**和**版本3.4**），它们之间不兼容，因此为Python
    2.7编写的代码可能无法在Python 3.4上运行（反之亦然）。
- en: The **Python Software Foundation** is continuously working to improve and move
    forward with the language, which sometimes means they have to sacrifice backward
    compatibility in order to embrace new improvements (and importantly, remove redundant
    and legacy ways of doing things).
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '**Python软件基金会**一直在努力改进和推动语言的发展，这有时意味着他们不得不牺牲向后兼容性，以便拥抱新的改进（并且重要的是，移除冗余和过时的做事方式）。'
- en: Note
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Supporting both Python 2 or Python 3**'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '**支持Python 2或Python 3**'
- en: There are many tools that will ease the transition from Python 2 to Python 3,
    including converters such as `2to3`, which will parse and update your code to
    use Python 3 methods. This process is not perfect, and in some cases, you'll need
    to manually rewrite sections and fully retest everything. You can write the code
    and libraries that will support both. The `import __future__` statement allows
    you to import the friendly methods of Python 3 and run them using Python 2.7.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多工具可以帮助从Python 2过渡到Python 3，包括像`2to3`这样的转换器，它将解析并更新你的代码以使用Python 3的方法。这个过程并不完美，在某些情况下，你可能需要手动重写部分代码并完全重新测试一切。你可以编写同时支持两者的代码和库。`import
    __future__`语句允许你导入Python 3的友好方法，并使用Python 2.7运行它们。
- en: Which version of Python should you use?
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 应该使用哪个版本的Python？
- en: Essentially, the selection of which version to use will depend on what you intend
    to do. For instance, you may require Python 2.7 libraries, which are not yet available
    for Python 3.4\. Python 3 has been available since 2008, so these tend to be older
    or larger libraries that have not been translated. In many cases, there are new
    alternatives to legacy libraries; however, their support can vary.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，选择使用哪个版本将取决于你的意图。例如，你可能需要Python 2.7库，这些库在Python 3.4中尚未提供。Python 3自2008年以来一直可用，因此这些通常是较旧或较大的库，尚未被翻译。在许多情况下，有新的替代方案可以替代旧库；然而，它们的支持可能各不相同。
- en: In this book, we have used Python 3.4, which is also compatible with Python
    3.3 and 3.2.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，我们使用了Python 3.4，它也与Python 3.3和3.2兼容。
- en: The Raspberry Pi family – a brief history of Pi
  id: totrans-40
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 树莓派家族——Pi的简要历史
- en: Since its release, the Raspberry Pi has come in various iterations, featuring
    both small and large updates and improvements to the original Raspberry Pi Model
    B unit. Although it can be confusing at first, there are three basic types of
    Raspberry Pi available (and one special model).
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 自从发布以来，树莓派经历了各种迭代，包括对原始树莓派Model B单元的小型和大型的更新和改进。虽然一开始可能会让人困惑，但目前有三种基本的树莓派型号（以及一个特殊型号）。
- en: The main flagship model is called **Model B** . This has all the connections
    and features, as well as the maximum RAM and the latest processor. Over the years,
    there have been several versions, most notably Model B (which had 256 MB and then
    512 MB RAM) and then Model B+ (which increased the 26-pin GPIO to 40 pins, switched
    to using a micro SD card slot, and had four USB ports instead of two). These original
    models all used the Broadcom BCM2835 SOC (short for System On Chip), consisting
    of a single core 700 MHz ARM11 and VideoCore IV GPU (short for Graphical Processing
    Unit).
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 主要的旗舰型号被称为**Model B**。它拥有所有的连接和功能，以及最大的RAM和最新的处理器。多年来，已经推出了几个版本，最值得注意的是Model
    B（最初有256 MB RAM，后来增加到512 MB RAM）和Model B+（将26针GPIO增加到40针，改为使用micro SD卡槽，并且有四个USB端口而不是两个）。这些原始型号都使用了Broadcom
    BCM2835 SOC（系统级芯片的简称），由一个700 MHz的ARM11核心和VideoCore IV GPU（图形处理单元的简称）组成。
- en: The release of the Raspberry Pi 2 Model B (also referred to as 2B) in 2015 introduced
    a new Broadcom BCM2836 SOC, providing a quad-core 32-bit ARM Cortex A7 1.2 GHz
    processor and GPU, with 1 GB of RAM. The improved SOC added support for Ubuntu
    and Windows 10 IoT. Finally we had the latest Raspberry Pi 3 Model B, using another
    new Broadcom BCM2837 SOC, which provides a quad-core 64-bit ARM Cortex-A53 and
    GPU, alongside adding on-board Wi-Fi and Bluetooth.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 2015年发布的树莓派2B型（也称为2B）引入了新的Broadcom BCM2836系统级芯片（SOC），提供了一款四核32位ARM Cortex A7
    1.2 GHz处理器和GPU，以及1 GB的RAM。改进的SOC增加了对Ubuntu和Windows 10 IoT的支持。最后我们有了最新的树莓派3B型，它使用了另一个新的Broadcom
    BCM2837 SOC，提供了一款四核64位ARM Cortex-A53和GPU，同时还增加了板载Wi-Fi和蓝牙。
- en: '**Model A** has always been targeted as a cut-down version. While having the
    same SOC as Model B, there are limited connections consisting of a single USB
    port and no wired network (LAN). Model A+ again added more GPIO pins and a micro
    SD slot. However, the RAM was later upgraded to 512 MB of RAM and again only a
    single USB port/no LAN. The Broadcom BCM2835 SOC on Model A has not been updated
    so far (so is still a single core ARM11); however, a Model 3A (most likely using
    the BCM2837) is expected 2016/2017.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '**Model A**一直被定位为一个简化版本。虽然与Model B具有相同的SOC，但连接有限，仅有一个USB端口和没有有线网络（LAN）。Model
    A+再次增加了更多的GPIO引脚和micro SD插槽。然而，RAM后来升级到512 MB，并且仍然只有一个USB端口/没有LAN。Model A上的Broadcom
    BCM2835 SOC尚未更新（因此仍然是单核ARM11）；然而，预计2016/2017年将推出Model 3A（很可能是使用BCM2837）。'
- en: The **Pi Zero** is an ultra-compact version of the Raspberry Pi intended for
    embedded applications where cost and space are a premium. It has the same 40-pin
    GPIO and micro SD card slot as the other models, but lacks the on-board display
    (CSI and DSI) connection. It does still have HDMI (via a mini-HDMI) and a single
    micro USB OTG (on-the-go) connection. Although not present in the first revision
    of the Pi Zero, the most recent model also includes a CSI connection for the on-board
    camera.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '**Pi Zero**是Raspberry Pi的超紧凑版本，旨在用于成本和空间至关重要的嵌入式应用。它具有与其他型号相同的40针GPIO和微型SD卡插槽，但缺少板载显示（CSI和DSI）连接。它仍然具有HDMI（通过迷你HDMI）和单个微型USB
    OTG（即插即用）连接。尽管在Pi Zero的第一版中未提供，但最新型号也包括用于板载摄像头的CSI连接。'
- en: Note
  id: totrans-46
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The Pi Zero was famously released in 2015 by being given away with the Raspberry
    Pi foundations magazine The MagPi, giving the magazine the kudos of being the
    first magazine to give away a computer on its cover! This did make me rather proud
    since (as you may have read in my biography at the start of this book) I was one
    of the founders of the magazine.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: Pi Zero在2015年因其与Raspberry Pi基金会杂志《The MagPi》一同赠送而闻名，这使得该杂志成为首个在其封面上赠送电脑的杂志！这让我感到非常自豪，因为（正如你可能在本书开头的传记中读到的那样）我是该杂志的创始人之一。
- en: The special model is known as the **compute module**. This takes the form of
    a 200-pin SO-DIMM card. It is intended for industrial use or within commercial
    products, where all the external interfaces would be provided by a host/motherboard,
    into which the module would be inserted. Example products include the Slice media
    player ([http://fiveninjas.com](http://fiveninjas.com)) and the Otto camera. The
    current module uses the BCM2835, although an updated compute module (CM3) is expected
    in 2016.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 这种特殊型号被称为**计算模块**。它采用200针SO-DIMM卡的形式。它旨在用于工业用途或商业产品中，其中所有外部接口都由主机/主板提供，模块将被插入其中。示例产品包括Slice媒体播放器([http://fiveninjas.com](http://fiveninjas.com))和Otto相机。当前模块使用BCM2835，尽管预计2016年将推出更新的计算模块（CM3）。
- en: 'The Raspberry Pi Wikipedia page provides a full list of the all different variants
    and their specifications:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: Raspberry Pi的维基百科页面提供了所有不同版本及其规格的完整列表：
- en: '[https://en.wikipedia.org/wiki/Raspberry_Pi#Specifications](https://en.wikipedia.org/wiki/Raspberry_Pi#Specifications)'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://en.wikipedia.org/wiki/Raspberry_Pi#Specifications](https://en.wikipedia.org/wiki/Raspberry_Pi#Specifications)'
- en: Which Pi to choose?
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 应该选择哪个Pi？
- en: All sections of this book are compatible will all current versions of the Raspberry
    Pi, but Model 3B is recommended as the best model to start with. This offers the
    best performance (particularly useful for the GPU examples in [Chapter 5](ch05.html
    "Chapter 5. Creating 3D Graphics"), *Creating 3D Graphics*, and the OpenCV examples
    used in Chapter 8, Creating Projects with the Raspberry Pi Camera Module), lots
    of connections, and built-in Wi-Fi, which can be very convenient.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的所有章节都与所有当前版本的Raspberry Pi兼容，但建议从Model 3B开始，这是最佳选择。它提供了最佳性能（特别是对于第5章中使用的GPU示例，即*创建3D图形*，以及第8章中使用的OpenCV示例，即*使用Raspberry
    Pi摄像头模块创建项目*非常有用），许多连接，以及内置Wi-Fi，这可以非常方便。
- en: The Pi Zero is recommended for projects where you want low power usage or reduced
    weight/size but do not need the full processing power of Model 3B. However, due
    to its ultra-low cost, the Pi Zero is ideal for deploying a completed project
    after you have developed it.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: Pi Zero推荐用于那些希望低功耗或减小重量/尺寸但不需要Model 3B完整处理能力的项目。然而，由于其超低成本，Pi Zero在开发完成后部署完整项目时非常理想。
- en: Connecting the Raspberry Pi
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 连接Raspberry Pi
- en: There are many ways to wire up the Raspberry Pi and use the various interfaces
    to view and control content. For typical use, most users will require power, display
    (with audio), and a method of input such as keyboard and mouse. To access the
    Internet, refer to the *Networking and connecting your Raspberry Pi to the Internet
    via the LAN connector* or *Using built-in Wi-Fi and Bluetooth on the Raspberry
    Pi* recipes.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多方法可以连接Raspberry Pi并使用各种接口查看和控制内容。对于典型用途，大多数用户将需要电源、显示（带音频）以及键盘和鼠标等输入方法。要访问互联网，请参考*通过LAN连接器连接Raspberry
    Pi的网络和连接到互联网*或*在Raspberry Pi上使用内置Wi-Fi和蓝牙*的食谱。
- en: Getting ready
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Before you can use your Raspberry Pi, you will need an SD card with an operating
    system installed or with the **New Out Of Box System** (**NOOBS**) on it, as discussed
    in the *Using NOOBS to set up your Raspberry Pi SD card* recipe.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 在您可以使用树莓派之前，您需要一个安装了操作系统或带有**新开箱系统**（**NOOBS**）的SD卡，正如在*使用NOOBS设置您的树莓派SD卡*菜谱中讨论的那样。
- en: The following section will detail the types of devices you can connect to the
    Raspberry Pi and, importantly, how and where to plug them in.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 以下部分将详细介绍您可以连接到树莓派的设备类型，以及如何和在哪里连接它们。
- en: 'As you will discover later, once you have your Raspberry Pi set up, you may
    decide to connect remotely and use it through a network link, in which case you
    only need power and a network connection. Refer to the following sections: *Connecting
    remotely to the Raspberry Pi over the network using VNC* and *Connecting remotely
    to the Raspberry Pi over the network using SSH (and X11 Forwarding)*.'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您稍后会发现的那样，一旦您设置了树莓派，您可能会决定通过远程连接并通过网络链接使用它，在这种情况下，您只需要电源和网络连接。请参阅以下部分：*通过VNC远程连接到树莓派的网络*和*通过SSH（以及X11转发）远程连接到树莓派的网络*。
- en: How to do it…
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'The layout of the Raspberry Pi is shown in the following figure:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 树莓派的布局如下所示：
- en: '![How to do it…](img/6623OT_01_002.jpg)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作…](img/6623OT_01_002.jpg)'
- en: The Raspberry Pi connection layout (Model 3 B, Model A+, and Pi Zero)
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 树莓派的连接布局（3B型号、A+型号和Pi Zero）
- en: 'The description of the preceding figure is as follows:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是对前一个图的描述：
- en: '**Display**: The Raspberry Pi supports the following three main display connections;
    if both HDMI and Composite video are connected, it will default to HDMI only.'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显示**：树莓派支持以下三种主要显示连接；如果同时连接了HDMI和复合视频，它将默认只使用HDMI。'
- en: '**HDMI**'
  id: totrans-66
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**HDMI**'
- en: 'For best results, use a TV or monitor that has an HDMI connection, thus allowing
    the best resolution display (1080p) and also digital audio output. If your display
    has a DVI connection, you may be able to use an adapter to connect through the
    HDMI. There are several types of DVI connections; some support analogue (DVI-A),
    some digital (DVI-D), and some both (DVI-I). The Raspberry Pi is only able to
    provide a digital signal through the HDMI, so an HDMI-to-DVI-D adapter is recommended
    (shown with a tick mark in the following screenshot). This lacks the four extra
    analogue pins (shown with a cross mark in the following screenshot), thus allowing
    it to fit into both DVI-D and DVI-I type sockets:'
  id: totrans-67
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为了获得最佳效果，请使用具有HDMI连接的电视或显示器，这样就可以实现最佳分辨率显示（1080p），并且还可以输出数字音频。如果您的显示器有DVI连接，您可能可以使用适配器通过HDMI连接。DVI连接有几种类型；一些支持模拟（DVI-A），一些支持数字（DVI-D），还有一些两者都支持（DVI-I）。树莓派只能通过HDMI提供数字信号，因此建议使用HDMI-to-DVI-D适配器（以下截图中有勾选标记）。这缺少了四个额外的模拟引脚（以下截图中有叉号标记），因此它可以适应DVI-D和DVI-I类型的插座：
- en: '![How to do it…](img/6623OT_01_003.jpg)'
  id: totrans-68
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作…](img/6623OT_01_003.jpg)'
- en: HDMI-to-DVI connection (DVI-D adaptor)
  id: totrans-69
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: HDMI-to-DVI连接（DVI-D适配器）
- en: If you wish to use an older monitor (with a VGA connection), an additional HDMI-to-VGA
    converter is required. The Raspberry Pi also supports a rudimentary VGA adaptor
    (VGA Gert666 Adaptor), which is driven directly off of the GPIO pins. However,
    this does use up all but 4 pins of the 40-pin header (older 26-pin models will
    not support the VGA output).
  id: totrans-70
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果您想使用较旧的显示器（具有VGA连接），则需要额外的HDMI-to-VGA转换器。树莓派还支持一个基本的VGA适配器（VGA Gert666适配器），它直接从GPIO引脚驱动。然而，这会占用40引脚头上的所有引脚（较旧的26引脚型号将不支持VGA输出）。
- en: '**Analogue**'
  id: totrans-71
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**模拟**'
- en: An alternative display method is to use the analogue composite video connection
    (via the phono socket); this can also be attached to an S-Video or European SCART
    adapter. However, the analogue video output has a maximum resolution of 640 x
    480 pixels, so it is not ideal for general use.
  id: totrans-72
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 另一种显示方法是使用模拟复合视频连接（通过话筒插座）；这也可以连接到S-Video或欧洲SCART适配器。然而，模拟视频输出的最大分辨率为640 x 480像素，因此它不适合一般使用。
- en: '![How to do it…](img/6623OT_01_004.jpg)'
  id: totrans-73
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作…](img/6623OT_01_004.jpg)'
- en: 3.5mm phono analogue connections
  id: totrans-74
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 3.5mm话筒模拟连接
- en: When using the RCA connection or a DVI input, audio has to be provided separately
    by the analogue audio connection. To simplify the manufacturing process (by avoiding
    through-hole components), the Pi Zero does not have analogue audio or an RCA socket
    for analogue video (although they can be added with some modifications).
  id: totrans-75
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当使用RCA连接或DVI输入时，必须通过模拟音频连接单独提供音频。为了简化制造过程（通过避免通孔组件），Pi Zero没有模拟音频或RCA插座用于模拟视频（尽管可以通过一些修改添加它们）。
- en: '**Direct Display DSI**'
  id: totrans-76
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**直接显示DSI**'
- en: A touch display produced by the Raspberry Pi Foundation will connect directly
    into the DSI socket. This can be connected and used at the same time as the HDMI
    or analogue video output to create a dual display setup.
  id: totrans-77
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 由树莓派基金会生产的触摸显示屏可以直接连接到DSI插槽。这可以在同时连接和使用HDMI或模拟视频输出时创建一个双显示器设置。
- en: '**Stereo Analogue Audio (all except Pi Zero)**: This provides an analogue audio
    output for headphones or amplified speakers. The audio can be switched via the
    Raspberry Pi configuration tool on the desktop between analog (Stereo Socket)
    and digital (HDMI), or via the command line using `amixer` or `alsamixer`.'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**立体声模拟音频（除Pi Zero外所有型号）**：这为耳机或放大扬声器提供模拟音频输出。可以通过桌面上的树莓派配置工具在模拟（立体声插座）和数字（HDMI）之间切换音频，或者通过命令行使用`amixer`或`alsamixer`。'
- en: Note
  id: totrans-79
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: 'To find out more information about a particular command in the terminal, you
    can use the following `man` command before the terminal reads the manual (most
    commands should have one):'
  id: totrans-80
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 要在终端读取手册之前获取有关特定命令的更多信息，您可以在终端中使用以下`man`命令（大多数命令都应该有一个）：
- en: '[PRE0]'
  id: totrans-81
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Some commands also support the `--help` option for more concise help, shown
    as follows:'
  id: totrans-82
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 一些命令也支持`--help`选项以提供更简洁的帮助，如下所示：
- en: '[PRE1]'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**Network (excluding models A and Pi Zero)**: The network connection is discussed
    in the *Networking and connecting your Raspberry Pi to the Internet via the LAN
    connector* recipe later in this chapter. If we use the Model A Raspberry Pi, it
    is possible to add a USB network adapter to add wired or even wireless networking
    (refer to the *Networking and connecting your Raspberry Pi to the Internet via
    a USB Wi-Fi dongle* recipe).'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网络（不包括A型和Pi Zero型号）**：网络连接将在本章后面的“*网络和通过LAN连接器连接树莓派到互联网*”配方中进行讨论。如果我们使用A型树莓派，可以添加USB网络适配器以添加有线或甚至无线网络（请参阅“*通过USB
    Wi-Fi适配器连接树莓派到互联网的网络和连接*”配方）。'
- en: '**Onboard Wi-Fi and Bluetooth (Model 3 B only):**'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**板载Wi-Fi和蓝牙（仅限3B型号）：**'
- en: The Model 3 B has built-in 802.11n Wi-Fi and Bluetooth 4.1; see the *Using the
    built-in Wi-Fi and Bluetooth on the Raspberry Pi* recipe.
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 3B型号内置802.11n Wi-Fi和蓝牙4.1；请参阅“*在树莓派上使用内置Wi-Fi和蓝牙*”配方。
- en: '**USB (x1 Model A/Zero, x2 Model 1 B, x4 Model 2 B and 3 B)—using a keyboard
    and mouse:**'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**USB（A型和Zero型号x1，1B型号x2，2B和3B型号x4）——使用键盘和鼠标：**'
- en: The Raspberry Pi should work with most USB keyboards and mice available. You
    can also use wireless mice and keyboards, which use RF Dongles. However, additional
    configuration is required for items that use the Bluetooth dongles.
  id: totrans-88
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 树莓派应该与大多数可用的USB键盘和鼠标兼容。您还可以使用使用RF适配器的无线鼠标和键盘，但对于使用蓝牙适配器的项目，需要额外的配置。
- en: If there is a lack of power supplied by your power supply or the devices are
    drawing too much current, you may experience the keyboard keys appearing to stick,
    and in severe cases, corruption of the SD card.
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果电源供应不足或设备消耗过多电流，您可能会遇到键盘按键似乎卡住的情况，在严重的情况下，SD卡可能会损坏。
- en: Note
  id: totrans-90
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: USB power can be more of an issue with the early Model B revision 1 boards that
    were available prior to October 2012\. They included additional **Polyfuses**
    on the USB output and tripped if an excess of 140 mA was drawn. The Polyfuses
    can take several hours or days to recover completely, thus causing unpredictable
    behavior to remain even when the power is improved.
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: USB电源可能在2012年10月之前可用的早期Model B修订版1的板子上成为一个更大的问题。它们在USB输出上增加了额外的**多熔丝**，如果超过140
    mA的电流，则会跳闸。多熔丝可能需要几个小时或几天才能完全恢复，因此即使在电源改善后，也可能出现不可预测的行为。
- en: You can identify a revision 1 board as it lacks the four mounting holes that
    are present the later models.
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您可以通过它缺少的四个安装孔来识别修订版1的板子。
- en: Debian Linux (upon which Raspbian is based) supports many common USB devices,
    such as flash storage drives, hard disk drives (external power may be required),
    cameras, printers, Bluetooth, and Wi-Fi adapters. Some devices will be detected
    automatically while others will require drivers to be installed.
  id: totrans-93
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Debian Linux（Raspbian所基于的操作系统）支持许多常见的USB设备，例如闪存驱动器、硬盘驱动器（可能需要外部电源），相机、打印机、蓝牙和Wi-Fi适配器。一些设备将自动检测，而其他设备则需要安装驱动程序。
- en: '**Micro USB Power**: The Raspberry Pi requires a 5V power supply that can comfortably
    supply at least 1000 mA (1,500 mA or more is recommended, particularly with the
    more power-hungry Model 2 and 3) with a micro USB connection. It is possible to
    power the unit using portable battery packs, such as the ones suitable for powering
    or recharging tablets. Again, ensure that they can supply 5V at 1000 mA or over.'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**微型USB电源**：Raspberry Pi需要一个5V电源，可以舒适地提供至少1000 mA（建议1500 mA或更多，尤其是对于更耗电的Model
    2和3），通过微型USB连接。可以使用便携式电池组为单元供电，例如适合为平板电脑供电或充电的电池组。同样，确保它们可以提供1000 mA或以上的5V电压。'
- en: You should aim to make all other connections to the Raspberry Pi before connecting
    the power. However, USB devices, audio, and network may be connected and removed
    while it is running without problems.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 在连接电源之前，你应该尽量将所有其他连接到Raspberry Pi上。然而，USB设备、音频和网络在运行时可以连接和移除，而不会出现问题。
- en: There's more…
  id: totrans-96
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: In addition to the standard primary connections you would expect to see on a
    computer, the Raspberry Pi also has a number of other connections.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 除了你会在计算机上期望看到的标准主要连接外，Raspberry Pi还有许多其他连接。
- en: Secondary hardware connections
  id: totrans-98
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 二级硬件连接
- en: 'Each of the following connections provides additional interfaces for the Raspberry
    Pi:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 以下每个连接都为Raspberry Pi提供了额外的接口：
- en: '**20 x 2 GPIO pin header (Model A+, B+, 2 B, 3 B, and Pi Zero)**: This is the
    main 40-pin GPIO header of the Raspberry Pi used for interfacing directly with
    hardware components. We use this connection in Chapters 6, 7, 9, and 10\. The
    recipes in this book are also compatible with older models of the Raspberry Pi
    that have a 13 x 2 GPIO pin header.'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**20 x 2 GPIO引脚头（Model A+、B+、2 B、3 B和Pi Zero）**：这是Raspberry Pi的主要40引脚GPIO引脚头，用于直接与硬件组件接口。我们在第6、7、9和10章中使用此连接。本书中的食谱也与具有13
    x 2 GPIO引脚头的较老型号的Raspberry Pi兼容。'
- en: '**P5 8 x 2 GPIO pin header (Model 1 B revision 2.0 only)**: We do not use this
    in the book.'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**P5 8 x 2 GPIO引脚头（仅限Model 1 B版本2.0）**：我们在书中没有使用这个。'
- en: '**Reset connection**: This is present on later models (no pins fitted). A reset
    is triggered when Pin 1 (reset) and Pin 2 (GND) are connected together. We use
    this in the *A controlled shutdown button* recipe in [Chapter 6](ch06.html "Chapter 6. Using
    Python to Drive Hardware"), *Using Python to Drive Hardware*.'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**复位连接**：这在较晚的型号上存在（没有引脚）。当引脚1（复位）和引脚2（地）连接在一起时，会触发复位。我们在[第6章](ch06.html "第6章.
    使用Python驱动硬件")的*使用Python驱动硬件*食谱中使用此功能。'
- en: '**GPU/LAN JTAG**: The **Joint Test Action Group** (**JTAG**) is a programming
    and debugging interface used to configure and test processors. These are present
    on newer models as surface pads. A specialist JTAG device is required to use this
    interface. We do not use this in the book.'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**GPU/LAN JTAG**：**联合测试行动小组**（**JTAG**）是一种编程和调试接口，用于配置和测试处理器。这些在新型号上作为表面焊盘存在。使用此接口需要专用JTAG设备。我们在书中没有使用此功能。'
- en: '**Direct camera CSI**: This connection supports the Raspberry Pi Camera module
    (as used in [Chapter 8](ch08.html "Chapter 8. Creating Projects with the Raspberry
    Pi Camera Module"), *Creating Projects with the Raspberry Pi Camera Module*).
    Note that the Pi Zero has a smaller CSI connector than the other models, so it
    requires a different ribbon connector.'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**直接相机CSI连接**：此连接支持Raspberry Pi相机模块（如[第8章](ch08.html "第8章. 使用Raspberry Pi相机模块创建项目")中所述，*使用Raspberry
    Pi相机模块创建项目*）。请注意，Pi Zero的CSI连接器比其他型号小，因此需要不同的排线连接器。'
- en: '**Direct display DSI**: This connection supports a directly connected display,
    a 7-inch 800 x 600 capacitive touch screen.'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**直接显示DSI**：此连接支持直接连接的显示器，一个7英寸800 x 600电容式触摸屏。'
- en: Using NOOBS to set up your Raspberry Pi SD card
  id: totrans-106
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用NOOBS设置你的Raspberry Pi SD卡
- en: The Raspberry Pi requires the operating system to be loaded onto an SD card
    before it starts up. The easiest way to set up the SD card is to use **NOOBS**;
    you may find that you can buy an SD card with NOOBS already loaded on it.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: Raspberry Pi在启动前需要将操作系统加载到SD卡上。设置SD卡最简单的方法是使用**NOOBS**；你可能发现你可以购买已经预装了NOOBS的SD卡。
- en: NOOBS provides an initial start menu that provides options to install several
    of the available operating systems onto your SD card.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: NOOBS提供了一个初始启动菜单，提供将多个可用的操作系统安装到SD卡上的选项。
- en: Getting ready
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Since NOOBS creates a **RECOVERY** partition to keep the original installation
    images, an 8-GB SD card or larger is recommended. You will also need an SD card
    reader (experience has shown that some built-in card readers can cause issues,
    so an external USB type reader is recommended).
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 由于NOOBS创建了一个**恢复**分区以保留原始安装镜像，建议使用8 GB或更大的SD卡。您还需要一个SD卡读卡器（经验表明，一些内置读卡器可能会引起问题，因此建议使用外部USB类型读卡器）。
- en: 'If you are using an SD card that you have used previously, you may need to
    reformat it to remove any previous partitions and data. NOOBS expects the SD card
    to consist of a single FAT32 partition. If using Windows or Mac OS X, you can
    use the SD association''s formatter, as shown in the following screenshot (available
    at [https://www.sdcard.org/downloads/formatter_4/](https://www.sdcard.org/downloads/formatter_4/)):'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用的是之前使用过的SD卡，您可能需要重新格式化它以删除任何之前的分区和数据。NOOBS期望SD卡包含一个单独的FAT32分区。如果您使用Windows或Mac
    OS X，您可以使用SD协会的格式化工具，如下面的截图所示（可在[https://www.sdcard.org/downloads/formatter_4/](https://www.sdcard.org/downloads/formatter_4/)找到）：
- en: '![Getting ready](img/6623OT_01_005.jpg)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![准备工作](img/6623OT_01_005.jpg)'
- en: Get rid of any partitions on the SD card using SD formatter
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 使用SD formatter删除SD卡上的任何分区
- en: From the **Option Setting** dialog box, set **Format Size Adjustment**. This
    will remove all the SD card partitions that were created previously.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在**选项设置**对话框中，设置**格式大小调整**。这将删除之前创建的所有SD卡分区。
- en: If using Linux, you can use `gparted` to clear any previous partitions and reformat
    it as a FAT32 partition.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 如果使用Linux，您可以使用`gparted`清除任何之前的分区并将其重新格式化为FAT32分区。
- en: The full NOOBS package (typically just over 1 GB) contains the Raspbian, the
    most popular Raspberry Pi operating system image built in. A lite version of NOOBS
    is also available that has no preloaded operating systems (although a smaller
    initial download of 20 MB and a network connection on the Raspberry Pi are required
    to directly download the operating system you intend to use).
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 完整的NOOBS包（通常略大于1 GB）包含Raspbian，这是最受欢迎的Raspberry Pi操作系统镜像。还有一个没有预装操作系统的NOOBS精简版（尽管需要20
    MB的初始下载和Raspberry Pi的网络连接，以便直接下载您打算使用的操作系统）。
- en: NOOBS is available at [http://www.raspberrypi.org/downloads](http://www.raspberrypi.org/downloads),
    with the documentation available at [https://github.com/raspberrypi/noobs](https://github.com/raspberrypi/noobs).
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: NOOBS可在[http://www.raspberrypi.org/downloads](http://www.raspberrypi.org/downloads)找到，文档可在[https://github.com/raspberrypi/noobs](https://github.com/raspberrypi/noobs)找到。
- en: How to do it…
  id: totrans-118
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'By performing the following steps, we will prepare the SD card to run NOOBS.
    This will then allow us to select and install the operating system we want to
    use:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 通过执行以下步骤，我们将准备SD卡以运行NOOBS。这将允许我们选择和安装我们想要使用的操作系统：
- en: Get your SD card ready.
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 准备您的SD卡。
- en: On a freshly formatted or new SD card, copy the contents of the `NOOBS_vX.zip`
    file. When it has finished copying, you should end up with something like the
    following screenshot of the SD card:![How to do it…](img/6623OT_01_006.jpg)
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在新格式化的或新的SD卡上，复制`NOOBS_vX.zip`文件的文件内容。当复制完成时，您应该得到以下类似SD卡的截图：![如何操作…](img/6623OT_01_006.jpg)
- en: NOOBS files extracted onto the SD card
  id: totrans-122
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: NOOBS文件已提取到SD卡上
- en: Note
  id: totrans-123
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The files may vary slightly with different versions of NOOBS, and the icons
    displayed may be different on your computer.
  id: totrans-124
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 文件可能因NOOBS的不同版本而略有不同，您电脑上显示的图标也可能不同。
- en: You can now put the card into your Raspberry Pi, connect it to a keyboard and
    display, and turn the power on. Refer to the *Connecting up the Raspberry Pi*
    recipe for details on what you need and how to do this.
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您可以将卡插入Raspberry Pi，连接键盘和显示器，并打开电源。有关所需物品和如何操作的详细信息，请参阅*连接Raspberry Pi*菜谱。
- en: 'By default, NOOBS will display via the HDMI connection. If you have another
    type of screen (or you don''t see anything), you will need to manually select
    the output type by pressing *1*, *2*, *3*, or *4* according to the following functions:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，NOOBS将通过HDMI连接显示。如果您有另一种类型的屏幕（或者您什么也没看到），您需要手动通过按*1*、*2*、*3*或*4*来选择输出类型，具体功能如下：
- en: Key 1 stands for the **Standard HDMI** mode (the default mode)
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 键1代表**标准HDMI**模式（默认模式）
- en: Key 2 stands for the **Safe HDMI** mode (alternative HDMI settings if the output
    has not been detected)
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 键2代表**安全HDMI**模式（如果未检测到输出，则为替代HDMI设置）
- en: Key 3 stands for **Composite PAL** (for connections made via the RCA analogue
    video connection)
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 键3代表**复合PAL**（用于通过RCA模拟视频连接的连接）
- en: Key 4 stands for **Composite NTSC** (again, for connections via the RCA connector)
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 键4代表**复合NTSC**（再次，用于通过RCA连接器连接）
- en: This display setting will also be set for the installed operating system.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 此显示设置也将应用于已安装的操作系统。
- en: After a short while, you will see the NOOBS selection screen that lists the
    available distributions (the offline version only includes Raspbian). There are
    many more distributions that are available, but only the selected ones are available
    directly through the NOOBS system. Click on **Raspbian** as this is the operating
    system being used in this book.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 稍后，您将看到NOOBS选择屏幕，列出了可用的发行版（离线版本仅包括Raspbian）。还有更多可用的发行版，但只有选定的那些可以通过NOOBS系统直接访问。点击**Raspbian**，因为这是本书中使用的操作系统。
- en: Press *Enter* or click on **Install OS**, and confirm that you wish to overwrite
    all the data on the card. This will overwrite any distributions previously installed
    using NOOBS but will not remove the NOOBS system; you can return to it at any
    time by pressing *Shift* when you turn the power on.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 按下*Enter*键或点击**安装操作系统**，并确认您希望覆盖卡上的所有数据。这将覆盖之前使用NOOBS安装的任何发行版，但不会删除NOOBS系统；您可以在任何时候通过在开机时按下*Shift*键返回。
- en: It will take around 20 to 40 minutes to write the data to the card depending
    on its speed. When it completes and the **Image Applied Successfully** message
    appears, click on **OK** and the Raspberry Pi will start to boot into `the Raspberry
    Pi Desktop`.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 根据卡的速度，将数据写入卡中大约需要20到40分钟。当操作完成并且出现**图像应用成功**的消息时，点击**确定**，树莓派将开始启动进入**树莓派桌面**。
- en: How it works…
  id: totrans-135
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何工作…
- en: The purpose of writing the image file to the SD card in this manner is to ensure
    that the SD card is formatted with the expected filesystem partitions and files
    required to correctly boot the operating system.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 以这种方式将镜像文件写入SD卡的目的，是为了确保SD卡格式化带有预期的文件系统分区和正确启动操作系统所需的文件。
- en: When the Raspberry Pi powers up, it loads some special code contained within
    the GPU's internal memory (commonly referred to as **binary blob** by the Raspberry
    Pi Foundation). The binary blob provides the instructions required to read the
    **BOOT Partition** on the SD card, which (in the case of a NOOBS install) will
    load NOOBS from the `RECOVERY` partition. If at this point *Shift* is pressed,
    NOOBS will load the recovery and installation menu. Otherwise, NOOBS will begin
    loading the OS as specified by the preferences stored in the **SETTINGS Partition**.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 当树莓派开机时，它会加载GPU内部内存中的一些特殊代码（通常由树莓派基金会称为**二进制blob**）。二进制blob提供了读取SD卡上**BOOT分区**所需的指令，在这种情况下（如果是NOOBS安装），将从`RECOVERY`分区加载NOOBS。如果在此时按下*Shift*键，NOOBS将加载恢复和安装菜单。否则，NOOBS将开始加载存储在**设置分区**中的偏好设置的操作系统。
- en: 'When loading the operating system, it will boot via the `BOOT` partition using
    the settings defined in `config.txt` and options in `cmdline.txt` to finally load
    to the desktop on the **root Partition**. Refer to the following diagram:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 在加载操作系统时，它将通过`BOOT`分区使用`config.txt`中定义的设置和`cmdline.txt`中的选项启动，最终加载到**根分区**上的桌面。请参考以下图表：
- en: '![How it works…](img/6623OT_01_007.jpg)'
  id: totrans-139
  prefs: []
  type: TYPE_IMG
  zh: '![如何工作…](img/6623OT_01_007.jpg)'
- en: NOOBS creates several partitions on the SD card to allow installation of multiple
    operating systems and provide recovery
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: NOOBS在SD卡上创建几个分区，以便安装多个操作系统并提供恢复功能
- en: NOOBS allows the user to optionally install multiple operating systems on the
    same card and provides a boot menu to select between them (with an option to set
    a default value in the event of a time-out period).
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: NOOBS允许用户选择性地在同一张卡上安装多个操作系统，并提供一个启动菜单来选择它们（在超时期间提供设置默认值的选项）。
- en: If you later add, remove, or reinstall an operating system, ensure first that
    you make a copy of any files, including system settings you wish to keep, as NOOBS
    may overwrite everything on the SD card.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您以后添加、删除或重新安装操作系统，请首先确保您复制了任何文件，包括您希望保留的系统设置，因为NOOBS可能会覆盖SD卡上的所有内容。
- en: There's more…
  id: totrans-143
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: When you power up the Raspberry Pi for the first time, it will start directly
    with the desktop. You can now configure the system settings using the **Raspberry
    Pi Configuration** program (under the Preferences menu on the Desktop or via the
    `sudo raspi-config` command), which will allow you to perform changes to your
    SD card and set up your general preferences.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 当您第一次启动Raspberry Pi时，它将直接启动桌面。您现在可以使用**Raspberry Pi配置**程序（在桌面的“首选项”菜单下或通过`sudo
    raspi-config`命令）来配置系统设置，这将允许您对SD卡进行更改并设置您的通用首选项。
- en: '![There''s more…](img/6623OT_01_008.jpg)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![还有更多…](img/6623OT_01_008.jpg)'
- en: Raspberry Pi Configuration program
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: Raspberry Pi配置程序
- en: Changing the default user password
  id: totrans-147
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 更改默认用户密码
- en: 'Ensure that you change the default password for the `pi` user account once
    you have logged in, as the default password is well known. This is particularly
    important if you connect to public networks. You can do this with the `passwd`
    command, as shown in the following screenshot:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦登录，请确保您更改`pi`用户账户的默认密码，因为默认密码是众所周知的。如果您连接到公共网络，这尤其重要。您可以使用以下截图所示的`passwd`命令来完成此操作：
- en: '![Changing the default user password](img/6623OT_01_009.jpg)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![更改默认用户密码](img/6623OT_01_009.jpg)'
- en: Setting a new password for the pi user
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 为pi用户设置新密码
- en: This gives greater confidence because if you later connect to another network,
    only you will be able to access your files and take control of your Raspberry
    Pi.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 这提供了更大的信心，因为如果您稍后连接到另一个网络，只有您才能访问您的文件并控制您的Raspberry Pi。
- en: Ensuring that you shut down safely
  id: totrans-152
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 确保您安全关机
- en: 'To avoid any data corruption, you must ensure that you correctly shut down
    the Raspberry Pi by issuing a `shutdown` command, as follows:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 为了避免任何数据损坏，您必须确保通过发出`shutdown`命令正确关闭Raspberry Pi，如下所示：
- en: '[PRE2]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Or use this one:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 或者使用这个：
- en: '[PRE3]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: You must wait until this command completes before you remove power from the
    Raspberry Pi (wait for at least 10 seconds after the SD card access light has
    stopped flashing).
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 您必须等待此命令完成后再从Raspberry Pi断电（在SD卡访问指示灯停止闪烁后至少等待10秒钟）。
- en: 'You can also restart the system with the `reboot` command, as follows:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以使用`reboot`命令重新启动系统，如下所示：
- en: '[PRE4]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Preparing an SD card manually
  id: totrans-160
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 手动准备SD卡
- en: An alternative to using NOOBS is to manually write the operating system image
    to the SD card. While this was originally the only way to install the operating
    system, some users still prefer it. It allows the SD cards to be prepared before
    they are used in the Raspberry Pi. It can also provide easier access to startup
    and configuration files, and it leaves more space available for the user (unlike
    NOOBS, a `RECOVERY` partition isn't included).
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 使用NOOBS的另一种选择是手动将操作系统镜像写入SD卡。虽然这最初是安装操作系统的唯一方法，但一些用户仍然更喜欢这种方法。它允许在Raspberry
    Pi中使用之前准备SD卡。它还可以提供更容易访问启动和配置文件，并且为用户留下更多可用空间（与NOOBS不同，不包括`RECOVERY`分区）。
- en: The default Raspbian image actually consists of two partitions, `BOOT` and `SYSTEM`,
    which will fit into a 2 GB SD card (4 GB or more is recommended).
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 默认的Raspbian镜像实际上由两个分区组成，`BOOT`和`SYSTEM`，它们可以适应2GB的SD卡（建议使用4GB或更大）。
- en: You need a computer running Windows/Mac OS X/Linux (although it is possible
    to use another Raspberry Pi to write your card, be prepared for a very long wait).
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要一个运行Windows/Mac OS X/Linux的计算机（尽管可以使用另一个Raspberry Pi来写入您的卡，但请准备好非常长的等待时间）。
- en: Download the latest version of the operating system you wish to use. For the
    purpose of this book, it is assumed you are using the latest version of Raspbian
    available at [http://www.raspberrypi.org/downloads](http://www.raspberrypi.org/downloads).
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 下载您希望使用的操作系统的最新版本。在本书中，假设您正在使用可在[http://www.raspberrypi.org/downloads](http://www.raspberrypi.org/downloads)找到的最新版本的Raspbian。
- en: Perform the following steps depending on the type of computer you plan to use
    to write to the SD card (the `.img` file you need is sometimes compressed, so
    before you start, you will need to extract the file).
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 根据您计划用于写入SD卡的计算机类型执行以下步骤（您需要的`.img`文件有时是压缩的，因此，在您开始之前，您需要提取文件）。
- en: 'The following steps are for Windows:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤适用于Windows：
- en: Ensure that you have downloaded the Raspbian image, as previously detailed,
    and extracted it to a convenient folder to obtain an `.img` file.
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保您已下载Raspbian镜像，如前所述，并将其提取到方便的文件夹中，以获得`.img`文件。
- en: Obtain the `Win32DiskImager.exe` file available at [http://www.sourceforge.net/projects/win32diskimager](http://www.sourceforge.net/projects/win32diskimager).
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 [http://www.sourceforge.net/projects/win32diskimager](http://www.sourceforge.net/projects/win32diskimager)
    获取可用的 `Win32DiskImager.exe` 文件。
- en: Run `Win32DiskImager.exe` from your downloaded location.
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从下载位置运行 `Win32DiskImager.exe`。
- en: Click on the folder icon and navigate to the location of the `.img` file and
    click on **Save**.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击文件夹图标并导航到 `.img` 文件的位置，然后单击 **Save**。
- en: If you haven't already done so, insert your SD card into your card reader and
    plug it into your computer.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您还没有这样做，请将 SD 卡插入您的卡读卡器并将其连接到计算机。
- en: Select the **Device** drive letter that corresponds to your SD card from the
    small drop-down box. Double-check that this is the correct device (as the program
    will overwrite whatever is on the device when you write the image).
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从小下拉框中选择与您的 SD 卡对应的 **Device** 驱动器字母。请务必确认这是正确的设备（因为当您写入镜像时，程序将覆盖设备上的所有内容）。
- en: Note
  id: totrans-173
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The drive letter may not be listed until you select a source image file.
  id: totrans-174
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 驱动器字母可能不会列出，直到您选择源镜像文件。
- en: Finally, click on the **Write** button and wait for the program to write the
    image to the SD card, as shown in the following screenshot:![Preparing an SD card
    manually](img/6623OT_01_010.jpg)
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，单击 **Write** 按钮，等待程序将镜像写入 SD 卡，如图所示：![手动准备 SD 卡](img/6623OT_01_010.jpg)
- en: Manually write operating system images to the SD card using Disk Imager
  id: totrans-176
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用 Disk Imager 手动将操作系统镜像写入 SD 卡
- en: Once completed, you can exit the program. Your SD card is ready!
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，您可以退出程序。您的 SD 卡已准备就绪！
- en: 'The following steps should work for the most common Linux distributions, such
    as Ubuntu and Debian:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤适用于大多数 Linux 发行版，如 Ubuntu 和 Debian：
- en: Using your preferred web browser, download the Raspbian image and save it in
    a suitable place.
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您首选的网页浏览器下载 Raspbian 镜像并将其保存在合适的位置。
- en: 'Extract the file from the file manager or locate the folder in the terminal
    and unzip the `.img` file with the following command:'
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从文件管理器中提取文件或在终端中定位文件夹，并使用以下命令解压缩 `.img` 文件：
- en: '[PRE5]'
  id: totrans-181
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: If you haven't already done so, insert your SD card into your card reader and
    plug it into your computer.
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您还没有这样做，请将 SD 卡插入您的卡读卡器并将其连接到计算机。
- en: Use the `df –h` command and identify the **sdX** identifier for the SD card.
    Each partition will be displayed as **sdX1**, **sdX2**, and so on, where **X**
    will be `a`, `b`, `c`, `d`, and so on for the device ID.
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `df –h` 命令并识别 SD 卡的 **sdX** 标识符。每个分区将显示为 **sdX1**、**sdX2** 等，其中 **X** 将是设备
    ID 的 `a`、`b`、`c`、`d` 等。
- en: Ensure that all the partitions on the SD card are unmounted using the `umount
    /dev/sdXn` command for each partition, where `sdXn` is the partition being unmounted.
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保使用 `umount /dev/sdXn` 命令为每个分区卸载 SD 卡上的所有分区，其中 `sdXn` 是正在卸载的分区。
- en: 'Write the image file to the SD card with the following command:'
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令将镜像文件写入 SD 卡：
- en: '[PRE6]'
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The process will take some time to write to the SD card, returning to the terminal
    prompt when complete.
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 写入 SD 卡的过程将花费一些时间，完成后将返回终端提示符。
- en: 'Unmount the SD card before removing it from the computer using the following
    command:'
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在从计算机中移除 SD 卡之前，使用以下命令卸载 SD 卡：
- en: '[PRE7]'
  id: totrans-189
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'The following steps should work for most of the versions of OS X:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤适用于大多数 OS X 版本：
- en: Using your preferred web browser, download the Raspbian image and save it somewhere
    suitable.
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您首选的网页浏览器下载 Raspbian 镜像并将其保存在合适的位置。
- en: 'Extract the file from the file manager or locate the folder in the terminal
    and unzip the `.img` file with the following command:'
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从文件管理器中提取文件或在终端中定位文件夹，并使用以下命令解压缩 `.img` 文件：
- en: '[PRE8]'
  id: totrans-193
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: If you haven't already done so, insert your SD card into your card reader and
    plug it into your computer.
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您还没有这样做，请将 SD 卡插入您的卡读卡器并将其连接到计算机。
- en: Use the `diskutil list` command and identify the **disk#** identifier for the
    SD card. Each partition will be displayed as **disk#s1**, **disk#s2**, and so
    on, where **#** will be `1`, `2`, `3`, `4`, and so on for the device ID.
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `diskutil list` 命令并识别 SD 卡的 **disk#** 标识符。每个分区将显示为 **disk#s1**、**disk#s2**
    等，其中 **#** 将是设备 ID 的 `1`、`2`、`3`、`4` 等。
- en: Note
  id: totrans-196
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: If **rdisk#** is listed, use this for faster writing (this uses a raw path and
    skips data buffering).
  id: totrans-197
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果列出 **rdisk#**，请使用此方法进行更快的写入（这使用原始路径并跳过数据缓冲）。
- en: Ensure that the SD card is unmounted using the `unmountdisk /dev/diskX` command,
    where `diskX` is the device being unmounted.
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保使用 `unmountdisk /dev/diskX` 命令卸载 SD 卡，其中 `diskX` 是正在卸载的设备。
- en: 'Write the image file to the SD card with following command:'
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令将镜像文件写入SD卡：
- en: '[PRE9]'
  id: totrans-200
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: The process will take some time to write to the SD card, returning to the terminal
    prompt when complete.
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将过程写入SD卡需要一些时间，完成后将返回终端提示符。
- en: 'Unmount the SD card before removing it from the computer using the following
    command:'
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在从计算机中移除SD卡之前，请使用以下命令卸载SD卡：
- en: '[PRE10]'
  id: totrans-203
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Refer to the following image:'
  id: totrans-204
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 参考以下图片：
- en: '![Preparing an SD card manually](img/6623OT_01_011.jpg)'
  id: totrans-205
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![手动准备SD卡](img/6623OT_01_011.jpg)'
- en: The boot process of a manually installed OS image
  id: totrans-206
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 手动安装的OS镜像的启动过程
- en: Expanding the system to fit in your SD card
  id: totrans-207
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 将系统扩展以适应您的SD卡
- en: A manually written image will be of a fixed size (usually made to fit the smallest-sized
    SD card possible). To make full use of the SD card, you will need to expand the
    system partition to fill the remainder of the SD card. This can be achieved using
    the Raspberry Pi Configuration tool.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 手动编写的镜像将具有固定大小（通常制作成适合尽可能小的SD卡）。为了充分利用SD卡，您需要将系统分区扩展以填充SD卡的剩余部分。这可以通过使用Raspberry
    Pi配置工具实现。
- en: 'Select `Expand Filesystem,` as shown in the following screenshot:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 选择`Expand Filesystem`，如下面的屏幕截图所示：
- en: '![Expanding the system to fit in your SD card](img/6623OT_01_012.jpg)'
  id: totrans-210
  prefs: []
  type: TYPE_IMG
  zh: '![将系统扩展以适应您的SD卡](img/6623OT_01_012.jpg)'
- en: The Raspberry Pi Configuration tool
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: Raspberry Pi配置工具
- en: Accessing the RECOVERY/BOOT partition
  id: totrans-212
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 访问RECOVERY/BOOT分区
- en: Windows and Mac OS X do not support the `ext4` format, so when you read the
    SD card, only the **File Allocation Table** (**FAT**) partitions will be accessible.
    In addition, Windows only supports the first partition on an SD card, so if you've
    installed NOOBS, only the `RECOVERY` partition will be visible. If you've written
    your card manually, you will be able to access the `BOOT` partition.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: Windows和Mac OS X不支持`ext4`格式，因此当您读取SD卡时，只能访问**文件分配表**（**FAT**）分区。此外，Windows只支持SD卡上的第一个分区，因此如果您已安装NOOBS，则只能看到`RECOVERY`分区。如果您手动写入卡，您将能够访问`BOOT`分区。
- en: The `data` partition (if you installed one via NOOBS) and the `root` partition
    are in `ext4` format and won't usually be visible on non-Linux systems.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: '`data`分区（如果您通过NOOBS安装）和`root`分区都是`ext4`格式，通常在非Linux系统上不可见。'
- en: Note
  id: totrans-215
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: If you do need to read files from the SD card using Windows, a freeware program,
    **Linux Reader** (available at [www.diskinternals.com/linux-reader](http://www.diskinternals.com/linux-reader))
    can provide read-only access to all of the partitions on the SD card.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您确实需要使用Windows从SD卡读取文件，一款免费软件程序**Linux Reader**（可在[www.diskinternals.com/linux-reader](http://www.diskinternals.com/linux-reader)获取）可以提供对SD卡上所有分区的只读访问。
- en: 'Access the partitions from the Raspberry Pi. To view the currently mounted
    partitions, use `df`, as shown in the following screenshot:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 从Raspberry Pi访问分区。要查看当前挂载的分区，请使用`df`，如下面的屏幕截图所示：
- en: '![Accessing the RECOVERY/BOOT partition](img/6623OT_01_013.jpg)'
  id: totrans-218
  prefs: []
  type: TYPE_IMG
  zh: '![访问RECOVERY/BOOT分区](img/6623OT_01_013.jpg)'
- en: The result of the df command
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: df命令的结果
- en: 'To access the `BOOT` partition from within Raspbian, use the following command:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 要从Raspbian内部访问`BOOT`分区，请使用以下命令：
- en: '[PRE11]'
  id: totrans-221
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'To access the `RECOVERY` or `data` partition, we have to mount it by performing
    the following steps:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 要访问`RECOVERY`或`data`分区，我们必须通过以下步骤将其挂载：
- en: Determine the name of the partition as the system refers to it by listing all
    the partitions, even the unmounted ones. The `sudo fdisk -l` command lists the
    partitions, as shown in the following screenshot:![Accessing the RECOVERY/BOOT
    partition](img/6623OT_01_014.jpg)
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过列出所有分区（包括未挂载的分区）来确定分区的名称，系统通过该名称引用它。`sudo fdisk -l`命令列出分区，如下面的屏幕截图所示：![访问RECOVERY/BOOT分区](img/6623OT_01_014.jpg)
- en: The partition table of a NOOBS install of Raspbian and data partition
  id: totrans-224
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Raspbian NOOBS安装的分区表和数据分区
- en: '| `mmcblk0p1` | `(vfat) RECOVERY` |'
  id: totrans-225
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `mmcblk0p1` | `(vfat) RECOVERY` |'
- en: '| `mmcblk0p2` | `(Extended partition) contains (root, data, BOOT)` |'
  id: totrans-226
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `mmcblk0p2` | `(扩展分区)包含(root, data, BOOT)` |'
- en: '| `mmcblk0p5` | `(ext4) root` |'
  id: totrans-227
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `mmcblk0p5` | `(ext4) root` |'
- en: '| `mmcblk0p6` | `(vfat) BOOT` |'
  id: totrans-228
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `mmcblk0p6` | `(vfat) BOOT` |'
- en: '| `mmcblk0p7` | `(ext4) SETTINGS` |'
  id: totrans-229
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| `mmcblk0p7` | `(ext4) SETTINGS` |'
- en: If you have installed additional operating systems on the same card, the partition
    identifiers shown in the preceding table will be different.
  id: totrans-230
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果您在同一张卡上安装了额外的操作系统，前面表格中显示的分区标识将不同。
- en: 'Create a folder and set it as the mount point for the partition, as follows:'
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个文件夹并将其设置为分区的挂载点，如下所示：
- en: 'For the `RECOVERY` partition, use the following command:'
  id: totrans-232
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于`RECOVERY`分区，请使用以下命令：
- en: '[PRE12]'
  id: totrans-233
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'To ensure that they are mounted each time the system is started, perform the
    following steps:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保它们在每次系统启动时都挂载，请执行以下步骤：
- en: 'Add the sudo mount commands to `/etc/rc.local` before `exit 0`. If you have
    a different username, you will need to change `pi` to match:'
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `exit 0` 之前将 sudo mount 命令添加到 `/etc/rc.local`。如果你有不同的用户名，你需要将 `pi` 改变以匹配：
- en: '[PRE13]'
  id: totrans-236
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter*.
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按 *Ctrl* + *X*，*Y* 和 *Enter* 保存并退出。
- en: Note
  id: totrans-238
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Commands added to `/etc/rc.local` will be run for any user who logs on to the
    Raspberry Pi. If you only want the drive to be mounted for the current user, the
    commands can be added to `.bash_profile` instead.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 添加到 `/etc/rc.local` 的命令将为任何登录到 Raspberry Pi 的用户运行。如果你只想为当前用户挂载驱动器，可以将命令添加到 `.bash_profile`
    中。
- en: If you have to install additional operating systems on the same card, the partition
    identifiers shown here will be different.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你必须在同一张卡上安装额外的操作系统，这里显示的分区标识符将不同。
- en: Using the tools to back up your SD card in case of failure
  id: totrans-241
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用工具备份 SD 卡以防故障
- en: You can use **Win32 Disk Imager** to make a full backup image of your SD card
    by inserting your SD card into your reader, starting the program, and creating
    a filename to store the image in. Simply click on the **Read** button instead
    to read the image from the SD card and write it to a new image file.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用 **Win32 Disk Imager** 通过将 SD 卡插入你的读卡器，启动程序，并创建一个用于存储镜像的文件名来制作 SD 卡的完整备份镜像。只需点击
    **Read** 按钮即可从 SD 卡读取镜像并将其写入新的镜像文件。
- en: To make a backup of your system, or to clone to another SD card using the Raspberry
    Pi, use the SD Card Copier (available from the desktop menu via the **Accessories**
    | **SD Card Copier**).
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 要备份你的系统，或使用 Raspberry Pi 将其克隆到另一个 SD 卡，请使用 SD 卡复制器（可通过桌面菜单中的 **Accessories**
    | **SD Card Copier** 获取）。
- en: 'Insert an SD card into a card reader into a spare USB port of the Raspberry
    Pi and select the new storage device, as shown in the following screenshot:'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 将 SD 卡插入到 Raspberry Pi 的一个备用 USB 端口的卡读卡器中，并选择新的存储设备，如下面的截图所示：
- en: '![Using the tools to back up your SD card in case of failure](img/6623OT_01_015.jpg)'
  id: totrans-245
  prefs: []
  type: TYPE_IMG
  zh: '![使用工具备份 SD 卡以防故障](img/6623OT_01_015.jpg)'
- en: SD Card Copier program
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: SD 卡复制器程序
- en: Before continuing, the SD Card Copier will confirm that you wish to format and
    overwrite the target device and, if there is sufficient space, make a clone of
    your system.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续之前，SD 卡复制器将确认你是否希望格式化和覆盖目标设备，如果空间足够，将制作系统的一个克隆。
- en: 'The `dd` command can similarly be used to back up the card, as follows:'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用类似的 `dd` 命令来备份卡，如下所示：
- en: 'For Linux, replacing `sdX` with your device ID, use this command:'
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 Linux，将 `sdX` 替换为你的设备 ID，使用此命令：
- en: '[PRE14]'
  id: totrans-250
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'For OS X, replacing `diskX` with your device ID, use the following command:'
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 OS X，将 `diskX` 替换为你的设备 ID，使用以下命令：
- en: '[PRE15]'
  id: totrans-252
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'You can also use `gzip` and split to compress the contents of the card and
    split them into multiple files if required for easy archiving, as follows:'
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你还可以使用 `gzip` 和 split 来压缩卡的内容，并在需要时将它们分割成多个文件，如下所示：
- en: '[PRE16]'
  id: totrans-254
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'To restore the split image, use the following command:'
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要恢复分割的镜像，使用以下命令：
- en: '[PRE17]'
  id: totrans-256
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Networking and connecting your Raspberry Pi to the Internet via the LAN connector
  id: totrans-257
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过 LAN 连接器将 Raspberry Pi 连接到互联网
- en: The simplest way to connect the Raspberry Pi to the Internet is by using the
    built-in LAN connection on the Model B. If you are using a Model A Raspberry Pi,
    a USB-to-LAN adapter can be used (refer to the *There's more…* section of the
    *Networking and connecting your Raspberry Pi to the Internet via a USB Wi-Fi dongle*
    recipe for details on how to configure this).
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 将 Raspberry Pi 连接到互联网最简单的方式是通过 Model B 上的内置 LAN 连接。如果你使用的是 Model A Raspberry
    Pi，可以使用 USB-to-LAN 转换器（有关如何配置此转换器的详细信息，请参阅 *Networking and connecting your Raspberry
    Pi to the Internet via a USB Wi-Fi dongle* 菜单中的 *There's more…* 部分）。
- en: Getting ready
  id: totrans-259
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: You will need access to a suitable wired network, which will be connected to
    the Internet, and a standard network cable (with an **RJ45** type connector for
    connecting to the Raspberry Pi).
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要访问一个合适的有线网络，该网络将连接到互联网，并使用标准网络线（带有 **RJ45** 类型连接器，用于连接到 Raspberry Pi）。
- en: How to do it…
  id: totrans-261
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: Many networks connect and configure themselves automatically using **Dynamic
    Host Configuration Protocol** (**DHCP**), which is controlled by the router or
    switch. If this is the case, simply plug the network cable into a spare network
    port on your router or network switch (or wall network socket if applicable).
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 许多网络使用 **动态主机配置协议**（**DHCP**）自动连接和配置，由路由器或交换机控制。如果是这种情况，只需将网络线缆插入路由器或网络交换机上的备用网络端口（如果适用，也可以是墙壁网络插座）。
- en: Alternatively, if a DHCP server is not available, you shall have to configure
    the settings manually (refer to the *There's more…* section for details).
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，如果没有 DHCP 服务器可用，你必须手动配置设置（有关详细信息，请参阅 *还有更多...* 部分）。
- en: 'You can confirm this is functioning successfully with the following steps:'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过以下步骤确认其成功运行：
- en: Ensure that the two LEDs on either side of the Raspberry Pi light up (the left
    orange LED indicates a connection and the green LED on the right shows activity
    by flashing). This will indicate that there is a physical connection to the router
    and the equipment is powered and functioning.
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保 Raspberry Pi 两边的两个 LED 灯亮起（左边的橙色 LED 表示连接，右边的绿色 LED 通过闪烁显示活动）。这将表明与路由器和设备的物理连接存在，设备已供电并正常工作。
- en: 'Test the link to your local network using the `ping` command. First, find out
    the IP address of another computer on the network (or the address of your router
    perhaps, often `192.168.0.1` or `192.168.1.254`). Now, on the Raspberry Pi terminal,
    use the `ping` command (the `-c 4` parameter is used to send just four messages;
    otherwise, press *Ctrl* + *C* to stop) to ping the IP address as follows:'
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 ping 命令测试本地网络链接。首先，找出网络上另一台计算机的 IP 地址（或者可能是路由器的地址，通常是 `192.168.0.1` 或 `192.168.1.254`）。现在，在
    Raspberry Pi 终端上使用 ping 命令（使用 `-c 4` 参数只发送四条消息；否则，按 *Ctrl* + *C* 停止）来 ping IP
    地址，如下所示：
- en: '[PRE18]'
  id: totrans-267
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Test the link to the Internet (this will fail if you usually connect to the
    Internet through a proxy server) as follows:'
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按以下方式测试互联网链接（如果你通常通过代理服务器连接到互联网，这将失败）：
- en: '[PRE19]'
  id: totrans-269
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Finally, you can test the link back to the Raspberry Pi by discovering the IP
    address using `hostname -I` on the Raspberry Pi. You can then use the ping command
    on another computer on the network to ensure it is accessible (using the Raspberry
    Pi's IP address in place of [www.raspberrypi.org](http://www.raspberrypi.org)).
    The Windows version of the `ping` command will perform five pings and stop automatically,
    and will not need the `-c 4` option.
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，你可以通过在 Raspberry Pi 上使用 `hostname -I` 命令来发现 IP 地址，来测试链接回 Raspberry Pi。然后，你可以在网络上另一台计算机上使用
    ping 命令来确保其可访问（用 Raspberry Pi 的 IP 地址代替 [www.raspberrypi.org](http://www.raspberrypi.org)）。Windows
    版本的 `ping` 命令将执行五个 ping 并自动停止，不需要 `-c 4` 选项。
- en: If the aforementioned tests fail, you will need to check your connections and
    then confirm the correct configuration for your network.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 如果上述测试失败，你需要检查你的连接，然后确认你的网络配置正确。
- en: There's more…
  id: totrans-272
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: If you find yourself using your Raspberry Pi regularly on the network, you won't
    want to have to look up the IP address each time you want to connect to it.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你经常在网络上使用你的 Raspberry Pi，你不会希望每次想要连接到它时都要查找 IP 地址。
- en: On some networks, you may be able to use the Raspberry Pi's hostname instead
    of its IP address (the default is `raspberrypi`). To assist with this, you may
    need some additional software such as **Bonjour** to ensure hostnames on the network
    are correctly registered. If you have an OS X Mac, you will have Bonjour running
    already. On Windows, you can either install iTunes (if you haven't got it) which
    also includes the service, or you can install it separately (via the Apple Bonjour
    Installer available from [https://support.apple.com/kb/DL999](https://support.apple.com/kb/DL999)).
    Then you can use the hostname, `raspberrypi` or `raspberrypi.local`, to connect
    to the Raspberry Pi over the network. If you need to change the hostname, then
    you can do so in the Raspberry Pi configuration tool, shown previously.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些网络上，你可能可以使用 Raspberry Pi 的主机名而不是其 IP 地址（默认为 `raspberrypi`）。为此，你可能需要一些额外的软件，如
    **Bonjour**，以确保网络上主机名的正确注册。如果你有 OS X Mac，你将已经运行了 Bonjour。在 Windows 上，你可以安装 iTunes（如果你还没有安装，它也包含该服务），或者你可以单独安装它（通过从
    [https://support.apple.com/kb/DL999](https://support.apple.com/kb/DL999) 可用的 Apple
    Bonjour 安装程序）。然后你可以使用主机名 `raspberrypi` 或 `raspberrypi.local` 来通过网络连接到 Raspberry
    Pi。如果你需要更改主机名，你可以在之前显示的 Raspberry Pi 配置工具中这样做。
- en: Alternatively, you may find it helpful to fix the IP address to a known value
    by manually setting the IP address. However, remember to switch it back to use
    DHCP when connecting on another network.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，您可能发现手动设置IP地址到一个已知值很有帮助。但是，请记住，在连接到另一个网络时将其切换回使用DHCP。
- en: Some routers will also have an option to set a **Static IP DHCP address**, so
    the same address is always given to the Raspberry Pi (how this is set will vary
    on the router itself).
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 一些路由器还将有一个选项来设置**静态IP DHCP地址**，这样就可以始终给Raspberry Pi分配相同的地址（如何在路由器上设置将因路由器而异）。
- en: Knowing your Raspberry Pi's IP address or using the hostname is particularly
    useful if you intend to use one of the remote access solutions described later
    on, which avoids the need for a display.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 了解您的Raspberry Pi的IP地址或使用主机名特别有用，如果您打算使用后面描述的远程访问解决方案之一，这可以避免需要显示器。
- en: Using built-in Wi-Fi and Bluetooth on the Raspberry Pi
  id: totrans-278
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Raspberry Pi上使用内置Wi-Fi和蓝牙
- en: Many home networks provide a wireless network over Wi-Fi; if you have a Raspberry
    Pi 3, then you can make use of the on-board Broadcom Wi-Fi to connect to it. The
    Raspberry Pi 3 also supports Bluetooth, so you can connect most standard Bluetooth
    devices and use them like you would on any other computer.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 许多家庭网络通过Wi-Fi提供无线网络；如果您有Raspberry Pi 3，则可以利用板载Broadcom Wi-Fi来连接。Raspberry Pi
    3还支持蓝牙，因此您可以连接大多数标准蓝牙设备，并像在其他任何计算机上一样使用它们。
- en: This method should also work for any supported USB Wi-Fi and Bluetooth devices,
    see the *Networking and connecting your Raspberry Pi to the Internet via a USB
    Wi-Fi dongle* recipe for extra help on identifying device and installing firmware
    (if required).
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法也应适用于任何支持的USB Wi-Fi和蓝牙设备，请参阅*通过USB Wi-Fi外置网卡连接Raspberry Pi到互联网的网络和连接*配方以获取识别设备和安装固件（如果需要）的额外帮助。
- en: Getting ready
  id: totrans-281
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: The latest version of Raspbian includes helpful utilities to quickly and easily
    configure your Wi-Fi and Bluetooth through the graphical interface.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: Raspbian的最新版本包括一些有用的实用程序，可以快速轻松地通过图形界面配置Wi-Fi和蓝牙。
- en: Note
  id: totrans-283
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Note**: If you need to configure the Wi-Fi via the command line, then see
    the *Networking and connecting your Raspberry Pi to the Internet via a USB Wi-Fi
    dongle* recipe for details.'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**：如果您需要通过命令行配置Wi-Fi，请参阅*通过USB Wi-Fi外置网卡连接Raspberry Pi到互联网的网络和连接*配方以获取详细信息。'
- en: '![Getting ready](img/6623OT_01_016.jpg)'
  id: totrans-285
  prefs: []
  type: TYPE_IMG
  zh: '![准备工作](img/6623OT_01_016.jpg)'
- en: Wi-Fi and Bluetooth configuration applications
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: Wi-Fi和蓝牙配置应用程序
- en: You can use the built-in Bluetooth to connect a wireless keyboard, a mouse or
    even wireless speakers. This can be exceptionally helpful for projects where additional
    cables and wires are an issue, such as robotic projects, or when the Raspberry
    Pi is installed in hard-to-reach locations (acting as a server or security camera).
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用内置的蓝牙连接无线键盘、鼠标甚至无线扬声器。这在需要额外电缆和线缆的项目中特别有用，例如机器人项目，或者当Raspberry Pi安装在难以触及的位置时（作为服务器或安全摄像头）。
- en: How to do it…
  id: totrans-288
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: Connecting to your Wi-Fi network
  id: totrans-289
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 连接到您的Wi-Fi网络
- en: 'To configure your Wi-Fi connection, click on the networking symbol to list
    the local available Wi-Fi networks:'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 要配置您的Wi-Fi连接，请点击网络符号以列出可用的本地Wi-Fi网络：
- en: '![Connecting to your Wi-Fi network](img/6623OT_01_017.jpg)'
  id: totrans-291
  prefs: []
  type: TYPE_IMG
  zh: '![连接到您的Wi-Fi网络](img/6623OT_01_017.jpg)'
- en: Wi-Fi listing of the available access points in the area
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 该区域可用的接入点Wi-Fi列表
- en: 'Select the required network (for example, `Demo`) and if required enter your
    password (also known as `Pre Shared Key`):'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 选择所需的网络（例如，`Demo`），如果需要，输入您的密码（也称为`预共享密钥`）：
- en: '![Connecting to your Wi-Fi network](img/6623OT_01_018.jpg)'
  id: totrans-294
  prefs: []
  type: TYPE_IMG
  zh: '![连接到您的Wi-Fi网络](img/6623OT_01_018.jpg)'
- en: Providing the password for the access point
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 提供接入点的密码
- en: After a short while, you should see that you have connected to the network and
    the icon will change to a Wi-Fi symbol. If you encounter problems, ensure you
    have the correct password/key.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 稍等片刻，您应该会看到您已经连接到网络，图标将更改为Wi-Fi符号。如果您遇到问题，请确保您有正确的密码/密钥。
- en: '![Connecting to your Wi-Fi network](img/6623OT_01_019.jpg)'
  id: totrans-297
  prefs: []
  type: TYPE_IMG
  zh: '![连接到您的Wi-Fi网络](img/6623OT_01_019.jpg)'
- en: Successful connection to an access point
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 成功连接到接入点
- en: That is it, as easy as that!
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 就这么简单！
- en: 'You can now test your connection and ensure it is working by using the web
    browser to navigate to a website or by using the following command in the terminal:'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在可以使用网络浏览器导航到网站或通过在终端中使用以下命令来测试您的连接并确保它正在工作：
- en: '[PRE20]'
  id: totrans-301
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Connecting to Bluetooth devices
  id: totrans-302
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 连接到蓝牙设备
- en: To start, we need to put the Bluetooth device into discoverable mode, by clicking
    on the Bluetooth icon and selecting **Make Discoverable**. You will also need
    to make the device you want to connect to discoverable and ready to pair; this
    may vary from device to device (such as pressing a pairing button).
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要通过点击蓝牙图标并选择**设置为可发现**来将蓝牙设备置于可发现模式。您还需要将您想要连接的设备设置为可发现并准备好配对；这可能会因设备而异（例如，按配对按钮）。
- en: '![Connecting to Bluetooth devices](img/6623OT_01_020.jpg)'
  id: totrans-304
  prefs: []
  type: TYPE_IMG
  zh: '![连接到蓝牙设备](img/6623OT_01_020.jpg)'
- en: Set the Bluetooth as discoverable
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 将蓝牙设置为可发现
- en: 'Next, select **Add Device...** and select the target device and **Pair**:'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，选择**添加设备...**并选择目标设备，然后**配对**：
- en: '![Connecting to Bluetooth devices](img/6623OT_01_021.jpg)'
  id: totrans-307
  prefs: []
  type: TYPE_IMG
  zh: '![连接到蓝牙设备](img/6623OT_01_021.jpg)'
- en: Select and pair the required device
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 选择并配对所需的设备
- en: The pairing process will then start; for example, the **BTKB-71DB** keyboard
    will need the pairing code `467572` to be entered onto the keyboard for the pairing
    to complete. Other devices may use default pairing codes, often set to 0000, 1111,
    1234, or similar.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 然后开始配对过程；例如，**BTKB-71DB**键盘需要将配对码`467572`输入到键盘上以完成配对。其他设备可能使用默认配对码，通常设置为0000、1111、1234或类似。
- en: '![Connecting to Bluetooth devices](img/6623OT_01_022.jpg)'
  id: totrans-310
  prefs: []
  type: TYPE_IMG
  zh: '![连接到蓝牙设备](img/6623OT_01_022.jpg)'
- en: Follow the instructions to pair the device with the required pairing code
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 按照说明使用所需的配对码配对设备
- en: Once the process has completed, the device will be listed and will connect automatically
    each time the devices are present and booted.
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦过程完成，设备将被列出，并且每次设备出现并启动时都会自动连接。
- en: Configuring your network manually
  id: totrans-313
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 手动配置您的网络
- en: If your network does not include a DHCP server or it is disabled (typically,
    these are built into most modern ADSL/cable modems or routers), you may need to
    configure your network settings manually.
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的网络不包含DHCP服务器或它已被禁用（通常，这些功能集成在大多数现代ADSL/电缆调制解调器或路由器中），您可能需要手动配置网络设置。
- en: Getting ready
  id: totrans-315
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Before you start, you will need to determine the network settings for your network.
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始之前，您需要确定您网络的网络设置。
- en: 'You will need to find out the following information from your router''s settings
    or another computer connected to the network:'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要从路由器的设置或连接到网络的另一台计算机中获取以下信息：
- en: '**IPv4 address**: This address will need to be selected to be similar to other
    computers on the network (typically, the first three numbers should match, that
    is, `192.168.1.X` if `netmask` is `255.255.255.0`), but it should not already
    be used by another computer. However, avoid `x.x.x.255` as the last address since
    this is reserved as a broadcast address.'
  id: totrans-318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**IPv4地址**：此地址需要选择，以便与其他网络上的计算机相似（通常，前三个数字应该匹配，即如果`子网掩码`是`255.255.255.0`，则为`192.168.1.X`），但它不应已被其他计算机使用。然而，避免使用`x.x.x.255`作为最后一个地址，因为这个地址已被保留为广播地址。'
- en: '**Subnet mask**: This number determines the range of addresses the computer
    will respond to (for a home network, it is typically `255.255.255.0`, which allows
    up to 254 addresses). This is also sometimes referred to as the **netmask**.'
  id: totrans-319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**子网掩码**：此数字确定计算机将响应的地址范围（对于家庭网络，通常是`255.255.255.0`，这允许最多254个地址）。这有时也被称为**子网掩码**。'
- en: '**Default gateway address**: This address is usually your router''s IP address,
    through which the computers connect to the Internet.'
  id: totrans-320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**默认网关地址**：此地址通常是您的路由器的IP地址，通过该地址计算机连接到互联网。'
- en: '**DNS servers**: The **DNS** server (**Domain Name Service**) converts names
    into IP addresses by looking them up. Usually, they will already be configured
    on your router, in which case you can use your router''s address. Alternatively,
    your **Internet Service Provider** (**ISP**) may provide some addresses, or you
    can use Google''s public DNS servers at the addresses `8.8.8.8` and `8.8.4.4`.
    These are also called **nameservers** in some systems.'
  id: totrans-321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**DNS服务器**：DNS服务器（**域名服务**）通过查找将名称转换为IP地址。通常，它们已经配置在您的路由器上，在这种情况下，您可以使用路由器的地址。或者，您的**互联网服务提供商**（**ISP**）可能提供一些地址，或者您可以使用位于地址`8.8.8.8`和`8.8.4.4`的谷歌公共DNS服务器。在某些系统中，这些也被称为**名称服务器**。'
- en: 'For Windows, you can obtain this information by connecting to the Internet
    and running the following command:'
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Windows，您可以通过连接到互联网并运行以下命令来获取此信息：
- en: '[PRE21]'
  id: totrans-323
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'Locate the active connection (usually called **Local Area Connection 1** or
    similar if you are using a wired connection, or if you are using Wi-Fi, it is
    called wireless network connection) and find the information required, as follows:'
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 定位活动连接（如果您使用有线连接，通常称为 **本地连接 1** 或类似名称；如果您使用 Wi-Fi，则称为无线网络连接）并找到所需信息，如下所示：
- en: '![Getting ready](img/6623OT_01_023.jpg)'
  id: totrans-325
  prefs: []
  type: TYPE_IMG
  zh: '![准备中](img/6623OT_01_023.jpg)'
- en: The ipconfig/all command shows useful information about your network settings
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: '`ipconfig/all` 命令显示了有关您的网络设置的有用信息'
- en: 'For Linux and Mac OS X, you can obtain the required information with the following
    command (note that it is `ifconfig` rather than `ipconfig`):'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Linux 和 Mac OS X，您可以使用以下命令获取所需信息（注意：它是 `ifconfig` 而不是 `ipconfig`）：
- en: '[PRE22]'
  id: totrans-328
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'The DNS servers are called nameservers and are usually listed in the `resolv.conf`
    file. You can use the `less` command as follows to view its contents (press *Q*
    to quit when you have finished viewing it):'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: DNS 服务器被称为名称服务器，通常列在 `resolv.conf` 文件中。您可以使用以下 `less` 命令来查看其内容（完成查看后按 *Q* 退出）：
- en: '[PRE23]'
  id: totrans-330
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: How to do it…
  id: totrans-331
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: 'To set the network interface settings, edit `/etc/network/interfaces` using
    the following code:'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 要设置网络接口设置，使用以下代码编辑 `/etc/network/interfaces`：
- en: '[PRE24]'
  id: totrans-333
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Now, perform the following steps:'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，执行以下步骤：
- en: 'We can add the details for our particular network, the IP `address` number
    we want to allocate to it, the `netmask` address of the network, and the `gateway`
    address, as follows:'
  id: totrans-335
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们可以为我们的特定网络添加详细信息，包括我们想要分配给它的 IP `地址`、网络的 `子网掩码` 地址和 `网关` 地址，如下所示：
- en: '[PRE25]'
  id: totrans-336
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter*.
  id: totrans-337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过按 *Ctrl* + *X*, *Y* 和 *Enter* 来保存并退出。
- en: 'To set the nameservers for DNS, edit `/etc/resolv.conf` using the following
    code:'
  id: totrans-338
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要设置 DNS 的名称服务器，使用以下代码编辑 `/etc/resolv.conf`：
- en: '[PRE26]'
  id: totrans-339
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'Add the addresses for your DNS servers as follows:'
  id: totrans-340
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照以下方式添加您的 DNS 服务器地址：
- en: '[PRE27]'
  id: totrans-341
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: Save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter*.
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过按 *Ctrl* + *X*, *Y* 和 *Enter* 来保存并退出。
- en: There's more…
  id: totrans-343
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多内容...
- en: You can configure the network settings by editing `cmdline.txt` in the `BOOT`
    partition and adding settings to the startup command line with `ip`.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过编辑 `BOOT` 分区中的 `cmdline.txt` 来配置网络设置，并在启动命令行中添加设置 `ip`。
- en: 'The ip option takes the following form:'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: '`ip` 选项采用以下形式：'
- en: '[PRE28]'
  id: totrans-346
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: The `client-ip` option is the IP address you want to allocate to the Raspberry
    Pi
  id: totrans-347
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`client-ip` 选项是您想要分配给 Raspberry Pi 的 IP 地址'
- en: The `gw-ip` option will set the gateway server address if you need to set it
    manually
  id: totrans-348
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`gw-ip` 选项将在您需要手动设置时设置网关服务器地址'
- en: The `netmask` option will directly set the netmask of the network
  id: totrans-349
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`netmask` 选项将直接设置网络的子网掩码'
- en: The `hostname` option will allow you to change the default `raspberrypi` hostname
  id: totrans-350
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`hostname` 选项将允许您更改默认的 `raspberrypi` 主机名'
- en: The `device` option allows you to specify a default network device if more than
    one network device is present
  id: totrans-351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`device` 选项允许您在存在多个网络设备的情况下指定默认网络设备'
- en: The `autoconf` option allows the automatic configuration to be switched on or
    off
  id: totrans-352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`autoconf` 选项允许您打开或关闭自动配置'
- en: Networking directly to a laptop or computer
  id: totrans-353
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 直接连接到笔记本电脑或计算机
- en: 'It is possible to connect the Raspberry Pi LAN port directly to a laptop or
    computer using a single network cable. This will create a local network link between
    the computers, allowing all the things you can do if connected to a normal network
    without the need for a hub or router, including connection to the Internet, if
    **Internet Connection Sharing** (**ICS**) is used as follows:'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: 有可能使用一根网络线缆直接将 Raspberry Pi 的 LAN 端口连接到笔记本电脑或计算机。这将创建计算机之间的本地网络链路，允许您在没有集线器或路由器的情况下执行所有连接到普通网络时可以做的事情，包括如果使用以下
    **互联网连接共享**（**ICS**）连接到互联网：
- en: '![Networking directly to a laptop or computer](img/6623OT_01_024.jpg)'
  id: totrans-355
  prefs: []
  type: TYPE_IMG
  zh: '![直接连接到笔记本电脑或计算机的联网](img/6623OT_01_024.jpg)'
- en: Make use of the Raspberry Pi with just a network cable, a standard imaged SD
    card, and power
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 利用仅网络线缆、标准镜像 SD 卡和电源的 Raspberry Pi
- en: ICS allows the Raspberry Pi to connect to the Internet through another computer.
    However, some additional configuration is required for the computers in order
    to communicate across the link, as the Raspberry Pi does not automatically allocate
    its own IP address.
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: ICS 允许 Raspberry Pi 通过另一台计算机连接到互联网。然而，为了在链路中进行通信，需要对计算机进行一些额外的配置，因为 Raspberry
    Pi 不会自动分配自己的 IP 地址。
- en: We will use the ICS to share a connection from another network link, such as
    a built-in Wi-Fi on a laptop. Alternatively, we can use a direct network link
    (refer to the *Direct network link* section under the *There's more…* section)
    if the Internet is not required or if the computer has only a single network adapter.
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用ICS从另一个网络链接共享连接，例如笔记本电脑上的内置Wi-Fi。如果不需要互联网或计算机只有一个网络适配器，我们还可以使用直接网络链接（请参阅“更多内容”部分下的“直接网络链接”部分）。
- en: Note
  id: totrans-359
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Although this setup should work for most of the computers, some setups are more
    difficult than the others. For additional information, see [www.pihardware.com/guides/direct-network-connection](http://www.pihardware.com/guides/direct-network-connection).
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这个设置应该适用于大多数计算机，但有些设置比其他设置更复杂。有关更多信息，请参阅[www.pihardware.com/guides/direct-network-connection](http://www.pihardware.com/guides/direct-network-connection)。
- en: Getting ready
  id: totrans-361
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备就绪
- en: You will need the Raspberry Pi with power and a standard network cable.
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要一个带电源的标准网络线缆的树莓派。
- en: Note
  id: totrans-363
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The Raspberry Pi Model B LAN chip includes **Auto-MDIX** (**Automatic Medium-Dependent
    Interface Crossover**). Removing the need to use a special crossover cable (a
    special network cable wired so that the transmit lines connect to receive lines
    for direct network links), the chip will decide and change the setup as required
    automatically.
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: 树莓派Model B LAN芯片包括**Auto-MDIX**（**自动介质依赖接口交叉**）。无需使用特殊交叉线缆（一种特殊的有线网络线缆，其传输线连接到接收线以实现直接网络链接），芯片将自动决定并更改设置。
- en: It may also be helpful to have a keyboard and monitor available to perform additional
    testing, particularly if this is the first time you have tried this.
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这是您第一次尝试此操作，那么拥有键盘和显示器进行额外的测试可能也有帮助。
- en: To ensure that you can restore your network settings to their original values,
    you should check whether it has a fixed IP address or the network is configured
    automatically.
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保您可以将网络设置恢复到原始值，您应该检查它是否有固定IP地址或网络是否已自动配置。
- en: 'To check the network settings on Windows 10, perform these steps:'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查Windows 10上的网络设置，请执行以下步骤：
- en: Open **Settings** from the start menu, then select **Network & Internet**, then
    **Ethernet,** and click on **Change adapter options** from the list of **Related
    Settings**.
  id: totrans-368
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从开始菜单打开**设置**，然后选择**网络和互联网**，然后选择**以太网**，并从**相关设置**列表中单击**更改适配器选项**。
- en: 'To check the network settings on Windows 7 and Vista, perform the following
    steps:'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查Windows 7和Vista上的网络设置，请执行以下步骤：
- en: Open **Network and Sharing Center** from the **Control Panel** and click on
    **Change adapter settings** on the left-hand side.
  id: totrans-370
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**控制面板**中打开**网络和共享中心**，然后单击左侧的**更改适配器设置**。
- en: To check the network settings on Windows XP, open **Network Connections** from
    the **Control Panel**.
  id: totrans-371
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要检查Windows XP上的网络设置，请从**控制面板**打开**网络连接**。
- en: Find the item that relates to your wired network adapter (by default, this is
    usually called **Ethernet** or **Local Area Connection**, as shown in the following
    screenshot):![Getting ready](img/6623OT_01_025.jpg)
  id: totrans-372
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 找到与您的有线网络适配器相关的项目（默认情况下，这通常被称为**以太网**或**本地连接**，如下面的截图所示）：![准备就绪](img/6623OT_01_025.jpg)
- en: Locating your wired network connection
  id: totrans-373
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 定位您的有线网络连接
- en: Right-click on its icon and click on **Properties**. A dialog box will appear,
    as shown in this screenshot:![Getting ready](img/6623OT_01_026.jpg)
  id: totrans-374
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击其图标并单击**属性**。将出现一个对话框，如下面的截图所示：![准备就绪](img/6623OT_01_026.jpg)
- en: Selecting the TCP/IP properties and checking the settings
  id: totrans-375
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 选择TCP/IP属性并检查设置
- en: Select the item called **Internet Protocol (TCP/IP)** or **Internet Protocol
    Version 4 (TCP/IPv4)** if there are two versions (the other is Version 6), and
    click on the **Properties** button.
  id: totrans-376
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果有两个版本（另一个是版本6），请选择**互联网协议（TCP/IP）**或**互联网协议版本4（TCP/IPv4）**，然后单击**属性**按钮。
- en: You can confirm that your network is set by using automatic settings or a specific
    IP address (if so, take note of this address and the remaining details as you
    may want to revert the settings at a later point).
  id: totrans-377
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以使用自动设置或指定IP地址（如果需要，请注意此地址和其余详细信息，因为您可能希望在以后恢复设置）来确认您的网络设置。
- en: 'To check the network settings on Linux, perform the following steps:'
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查Linux上的网络设置，请执行以下步骤：
- en: Open up the **Network Settings** dialog box and select **Configure Interface**.
    Refer to the following screenshot:![Getting ready](img/6623OT_01_027.jpg)
  id: totrans-379
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**网络设置**对话框并选择**配置接口**。请参考以下截图：![准备就绪](img/6623OT_01_027.jpg)
- en: Linux Network Settings dialog box
  id: totrans-380
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Linux网络设置对话框
- en: Ensure that if any settings are manually set, you take note of them so that
    you can restore them later if you want.
  id: totrans-381
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保如果任何设置是手动设置的，你记下它们，以便如果你想的话可以稍后恢复。
- en: 'To check the network settings on Mac OS X, perform the following steps:'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查Mac OS X上的网络设置，请执行以下步骤：
- en: Open **System Preferences** and click on **Networks**. You can then confirm
    whether the IP address is allocated automatically (using DHCP) or not.
  id: totrans-383
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**系统偏好设置**并点击**网络**。然后你可以确认IP地址是否是自动分配的（使用DHCP）或不是。
- en: Ensure that if any settings are manually set you take note of them so you can
    restore them later if you want to. Refer to the following screenshot:![Getting
    ready](img/6623OT_01_028.jpg)
  id: totrans-384
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保如果任何设置是手动设置的，你记下它们，以便如果你想的话可以稍后恢复。参考以下截图：![准备中](img/6623OT_01_028.jpg)
- en: OS X Network Settings dialog box
  id: totrans-385
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: OS X网络设置对话框
- en: If you just need to access or control the Raspberry Pi without an Internet connection,
    refer to the *Direct network link* section in the *There's more…*section.
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你只需要在没有互联网连接的情况下访问或控制Raspberry Pi，请参考*更多内容…*部分中的*直接网络链接*部分。
- en: How to do it…
  id: totrans-387
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: First, we need to enable ICS on our network devices. In this case, we will be
    sharing the Internet, which is available on **Wireless Network Connection** through
    the **Ethernet** connection to the Raspberry Pi.
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要在我们的网络设备上启用ICS。在这种情况下，我们将通过连接到Raspberry Pi的**以太网**连接来共享可用的互联网，该互联网通过**无线网络连接**提供。
- en: 'For Windows, perform these steps:'
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Windows，请执行以下步骤：
- en: Return to the list of network adapters, right-click on the connection that links
    to the Internet (in this case, the **WiFi** or **Wireless Network Connection**
    device), and click on **Properties**.![How to do it…](img/6623OT_01_029.jpg)
  id: totrans-390
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回网络适配器列表，右键点击连接到互联网的连接（在这种情况下，是**WiFi**或**无线网络连接**设备），然后点击**属性**。![如何操作…](img/6623OT_01_029.jpg)
- en: Right-click on your wireless device and select Properties
  id: totrans-391
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 右键点击你的无线设备并选择属性
- en: At the top of the window, select the second tab (in Windows XP, it is called
    **Advanced**; in Windows 7 and Windows 10, it is called **Sharing**), as shown
    in the following screenshot:![How to do it…](img/6623OT_01_030.jpg)
  id: totrans-392
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在窗口顶部，选择第二个标签页（在Windows XP中称为**高级**；在Windows 7和Windows 10中称为**共享**），如图所示：![如何操作…](img/6623OT_01_030.jpg)
- en: Selecting the TCP/IP properties and noting the allocated IP address
  id: totrans-393
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 选择TCP/IP属性并记下分配的IP地址
- en: In the **Internet Connection Sharing** section, check the box for **Allow other
    network users to connect through this computer's Internet connection** (if present,
    use the drop-down box to select the **Home networking connection:** option as
    **Ethernet** or **Local Area Connection**). Click on **OK** and confirm whether
    you previously had a fixed IP address set for **Local Area Connection**.
  id: totrans-394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**互联网连接共享**部分，勾选**允许其他网络用户通过此计算机的互联网连接连接**（如果存在，使用下拉框选择**家庭网络连接**选项作为**以太网**或**本地连接**）。点击**确定**并确认你是否之前为**本地连接**设置了一个固定的IP地址。
- en: 'For Mac OS X, to enable the ICS, perform the following steps:'
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Mac OS X，要启用ICS，请执行以下步骤：
- en: Click on **System Preferences** and then click on **Sharing**.
  id: totrans-396
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**系统偏好设置**然后点击**共享**。
- en: Click on **Internet Sharing** and select the connection from which we want to
    share the Internet (in this case, it will be the Wi-Fi **AirPort**). Then select
    the connection that we will connect the Raspberry Pi to (in this case, **Ethernet**).
  id: totrans-397
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**互联网共享**并选择我们想要共享互联网的连接（在这种情况下，将是Wi-Fi **AirPort**）。然后选择我们将连接Raspberry Pi的连接（在这种情况下，**以太网**）。
- en: 'For Linux to enable the ICS, perform the following steps:'
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Linux，要启用ICS，请执行以下步骤：
- en: From the **System** menu, click on **Preferences** and then on **Network Connections**.
    Select the connection you want to share (in this case, **Wireless**) and click
    on **Edit** or **Configure**. In the **IPv4 Settings** tab, change the **Method**
    option to **Shared to other computers**.
  id: totrans-399
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**系统**菜单，点击**偏好设置**然后点击**网络连接**。选择你想要共享的连接（在这种情况下，**无线**）并点击**编辑**或**配置**。在**IPv4设置**标签页，将**方法**选项更改为**共享给其他计算机**。
- en: The IP address of the network adapter will be the **Gateway IP** address to
    be used on the Raspberry Pi, and be assigned an IP address within the same range
    (matching except the last number). For instance, if the computer's wired connection
    now has `192.168.137.1`, the Gateway IP of the Raspberry Pi will be `192.168.137.1`
    and its own IP address might be set to `192.168.137.10`.
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: 网络适配器的IP地址将是树莓派上使用的**网关IP**地址，并分配一个同一范围内的IP地址（除了最后一位）。例如，如果电脑的有线连接现在是`192.168.137.1`，树莓派的网关IP将是`192.168.137.1`，其自身的IP地址可能设置为`192.168.137.10`。
- en: Fortunately, thanks to updates in the operating system, Raspbian will now automatically
    allocate a suitable IP address to join the network and set the gateway appropriately.
    However, unless we have a screen attached to the Raspberry Pi or scan for devices
    on our network, we do not know what IP address the Raspberry PI has given itself.
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，由于操作系统的更新，Raspbian现在将自动分配一个合适的IP地址以加入网络，并适当地设置网关。然而，除非我们将屏幕连接到树莓派或扫描我们的网络中的设备，否则我们不知道树莓派分配给自己的是什么IP地址。
- en: Fortunately (as mentioned in the *Networking and connecting your Raspberry Pi
    to the Internet via the LAN connector* recipe in the *There's more…* section),
    Apple's **Bonjour** software will automatically ensure hostnames on the network
    are correctly registered. As stated previously, if you have an OSX Mac you will
    have Bonjour running already. On Windows you can either install iTunes, or you
    can install it separately (available from [https://support.apple.com/kb/DL999](https://support.apple.com/kb/DL999)).
    By default, the hostname **raspberrypi** can be used.
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是（如“更多...”部分中提到的*网络和通过LAN连接器连接树莓派到互联网*食谱中所述），苹果的**Bonjour**软件将自动确保网络上的主机名正确注册。如前所述，如果你有一台OSX
    Mac，Bonjour已经运行。在Windows上，你可以安装iTunes，或者可以单独安装（从[https://support.apple.com/kb/DL999](https://support.apple.com/kb/DL999)获取）。默认情况下，可以使用主机名**raspberrypi**。
- en: 'We are now ready to test the new connection, as follows:'
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在可以按照以下步骤测试新的连接：
- en: Connect the network cable to the Raspberry Pi and the computer's network port,
    and then power up the Raspberry Pi, ensuring that you have reinserted the SD card
    if you previously removed it. To reboot the Raspberry Pi if you edited the file
    there, use `sudo reboot` to restart it.
  id: totrans-404
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将网络线缆连接到树莓派和电脑的网络端口，然后开启树莓派，确保如果之前已经移除SD卡，则重新插入。如果你在树莓派上编辑了文件，要重启树莓派，请使用`sudo
    reboot`命令来重启。
- en: Allow a minute or two for the Raspberry Pi to fully power up. We can now test
    the connection.
  id: totrans-405
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 等待一分钟或两分钟，让树莓派完全启动。我们现在可以测试连接。
- en: 'From the connected laptop or computer, test the connection by pinging with
    the hostname of the Raspberry Pi, as shown in the following command (on Linux
    or OS X, add `-c 4` to limit to four messages or press *Ctrl* + *C* to exit):'
  id: totrans-406
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从连接的笔记本电脑或电脑，通过以下命令测试连接，使用树莓派的计算机名进行ping操作（在Linux或OS X上，添加`-c 4`以限制为四条消息或按*Ctrl*
    + *C*退出）：
- en: '[PRE29]'
  id: totrans-407
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: Hopefully, you will find you have a working connection and receive replies from
    theRaspberry Pi.
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: 希望你能找到一个有效的连接，并从树莓派收到回复。
- en: 'If you have a keyboard and screen connected to the Raspberry Pi, you can perform
    the following steps:'
  id: totrans-409
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你将键盘和屏幕连接到树莓派，你可以执行以下步骤：
- en: 'You can ping the computer in return (for example, `192.168.137.1`) from the
    Raspberry Pi terminal as follows:'
  id: totrans-410
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以从树莓派终端返回ping电脑（例如，`192.168.137.1`）如下：
- en: '[PRE30]'
  id: totrans-411
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'You can test the link to the Internet by using `ping` to connect to a well-known
    website as follows, assuming you do not access the Internet through a proxy server:'
  id: totrans-412
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以通过使用`ping`命令连接到以下知名网站来测试互联网连接，假设你不是通过代理服务器访问互联网：
- en: '[PRE31]'
  id: totrans-413
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE31]'
- en: If all goes well, you will have full Internet available through your computer
    to the Raspberry Pi, allowing you to browse the web as well as update and install
    new software.
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一切顺利，你将通过电脑获得完整的互联网连接，允许你浏览网页以及更新和安装新软件。
- en: 'If the connection fails, perform the following steps:'
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: 如果连接失败，请执行以下步骤：
- en: Repeat the process, ensuring that the first three sets of numbers match with
    the Raspberry Pi and the network adapter IP addresses.
  id: totrans-416
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复此过程，确保前三个数字组与树莓派和网络适配器的IP地址相匹配。
- en: 'You can also check that when the Raspberry Pi powers up, the correct IP address
    is being set using the following command:'
  id: totrans-417
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你还可以检查当树莓派启动时，是否使用以下命令设置了正确的IP地址：
- en: '[PRE32]'
  id: totrans-418
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Check your firewall settings to ensure it is not blocking internal network connections.
  id: totrans-419
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查防火墙设置，确保它没有阻止内部网络连接。
- en: How it works…
  id: totrans-420
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: When we enable ICS on the primary computer, the operating system will automatically
    allocate a new IP address to the computer. Once connected and powered up, the
    Raspberry Pi will set itself to a compatible IP address and use the primary computer
    IP address as an Internet Gateway.
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们在主计算机上启用ICS时，操作系统将自动为计算机分配一个新的IP地址。一旦连接并通电，树莓派将设置自己到一个兼容的IP地址，并使用主计算机的IP地址作为互联网网关。
- en: By using Apple Bonjour, we are able to use the `raspberrypi` hostname to connect
    to the Raspberry Pi from the connected computer.
  id: totrans-422
  prefs: []
  type: TYPE_NORMAL
  zh: 通过使用Apple Bonjour，我们能够使用`raspberrypi`主机名从连接的计算机连接到树莓派。
- en: Finally, we check whether the computer can communicate over the direct network
    link to the Raspberry Pi, back the other way, and also through to the Internet.
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们检查计算机是否可以通过直接网络链路与树莓派通信，反过来也可以，并且还可以连接到互联网。
- en: There's more…
  id: totrans-424
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: 'If you do not require the Internet on the Raspberry Pi, or your computer only
    has a single network adapter, we can still connect the computers together through
    a direct network link. Refer to the following diagram:'
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你不需要在树莓派上使用互联网，或者你的计算机只有一个网络适配器，我们仍然可以通过直接网络链路将计算机连接起来。请参考以下图表：
- en: '![There''s more…](img/6623OT_01_031.jpg)'
  id: totrans-426
  prefs: []
  type: TYPE_IMG
  zh: '![还有更多…](img/6623OT_01_031.jpg)'
- en: Connecting and using the Raspberry Pi with just a network cable, a standard
    imaged SD card, and power
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: 仅使用网络线缆、标准镜像SD卡和电源连接和使用树莓派
- en: Direct network link
  id: totrans-428
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 直接网络链路
- en: For a network link to work between two computers, they need to be using the
    same address range. The allowable address range is determined by the subnet mask
    (for example, `255.255.0.0` or `255.255.255.0` would mean all IP addresses should
    be the same except for the last two or just the last number in the IP address;
    otherwise, they will be filtered).
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在两台计算机之间建立网络链路，它们需要使用相同的地址范围。允许的地址范围由子网掩码确定（例如，`255.255.0.0`或`255.255.255.0`意味着除了IP地址的最后两个或最后一个数字之外，所有IP地址都应该相同；否则，它们将被过滤）。
- en: To use a direct link without enabling ICS, check the IP settings of the adapter
    you are going to connect to and determine whether it is automatically allocated
    or fixed to a specific IP address.
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用直接链路而不启用ICS，请检查你将要连接的适配器的IP设置，并确定它是自动分配的还是固定到特定的IP地址。
- en: Most PCs connected directly to another computer will allocate an IP address
    in the range `169.254.X.X` (with a subnet mask of `255.255.0.0`). However, we
    must ensure that the network adaptor is set to **Obtain an IP address automatically**.
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数直接连接到另一台计算机的PC将会分配一个在`169.254.X.X`范围内的IP地址（子网掩码为`255.255.0.0`）。然而，我们必须确保网络适配器设置为**自动获取IP地址**。
- en: For the Raspberry Pi to be able to communicate through the direct link, it needs
    to have an IP address in the same address range, `169.254.X.X`. As mentioned before,
    the Raspberry Pi will automatically give itself a suitable IP address and connect
    to the network.
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: 为了树莓派能够通过直接链路通信，它需要有一个在同一地址范围内的IP地址，`169.254.X.X`。如前所述，树莓派将自动给自己一个合适的IP地址并连接到网络。
- en: Therefore, assuming we have **Apple Bonjour** (see previously for details),
    we only need to know the hostname given to the Raspberry Pi (`raspberrypi`).
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，假设我们有了**Apple Bonjour**（详情请见前文），我们只需要知道分配给树莓派的计算机名（`raspberrypi`）。
- en: See also
  id: totrans-434
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: If you don't have a keyboard or screen connected to the Raspberry Pi, you can
    use this network link to remotely access the Raspberry Pi just as you would on
    a normal network (just use the new IP address you have set for the connection).
    Refer to the *Connecting remotely to the Raspberry Pi over the network using VNC*
    and *Connecting remotely to the Raspberry Pi over the network using SSH (and X11
    Forwarding)* recipes.
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你没有将键盘或屏幕连接到树莓派，你可以使用这个网络链路远程访问树莓派，就像在普通网络上一样（只需使用你为连接设置的新IP地址）。请参考*通过VNC远程连接到树莓派的网络*和*通过SSH（以及X11转发）远程连接到树莓派的网络*这两个菜谱。
- en: There is lots of additional information available on my website, [https://pihw.wordpress.com/guides/direct-network-connection](https://pihw.wordpress.com/guides/direct-network-connection),
    including additional troubleshooting tips and several other ways to connect to
    your Raspberry Pi without needing a dedicated screen and keyboard.
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: 在我的网站上有很多额外的信息，[https://pihw.wordpress.com/guides/direct-network-connection](https://pihw.wordpress.com/guides/direct-network-connection)，包括额外的故障排除技巧和几种不需要专用屏幕和键盘即可连接到你的树莓派的其他方法。
- en: Networking and connecting your Raspberry Pi to the Internet via a USB Wi-Fi
    dongle
  id: totrans-437
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过USB无线网卡连接树莓派到互联网
- en: By adding a **USB Wi-Fi dongle** to the Raspberry Pi's USB port, even models
    without built-in Wi-Fi can connect to and use the Wi-Fi network.
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: 通过将**USB无线网卡**插入树莓派的USB端口，即使没有内置Wi-Fi的型号也可以连接并使用Wi-Fi网络。
- en: Getting ready
  id: totrans-439
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: You will need to obtain a suitable USB Wi-Fi dongle; and in some cases, you
    may require a powered USB hub (this will depend on the hardware version of the
    Raspberry Pi you have and the quality of your power supply). General suitability
    of USB Wi-Fi dongles will vary depending on the chipset that is used inside and
    the level of Linux support available. You may find that some USB Wi-Fi dongles
    will work without installing additional drivers (in which case you can jump to
    configuring it for the wireless network).
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要获取一个合适的USB无线网卡；在某些情况下，您可能需要一个带电的USB集线器（这取决于您拥有的树莓派的硬件版本和电源质量）。USB无线网卡的通用适用性将取决于内部使用的芯片组和可用的Linux支持水平。您可能会发现某些USB无线网卡无需安装额外的驱动程序即可工作（在这种情况下，您可以跳转到配置无线网络）。
- en: A list of supported Wi-Fi adapters is available at [http://elinux.org/RPi_USB_Wi-Fi_Adapters](http://elinux.org/RPi_USB_Wi-Fi_Adapters).
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: 支持的无线适配器列表可在[http://elinux.org/RPi_USB_Wi-Fi_Adapters](http://elinux.org/RPi_USB_Wi-Fi_Adapters)找到。
- en: You will need to ensure that your Wi-Fi adapter is also compatible with your
    intended network; for example, it supports the same types of signals **802.11bgn**
    and the encryptions **WEP**, **WPA**, and **WPA2** (although most networks are
    backward compatible).
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要确保您的无线适配器也与您打算使用的网络兼容；例如，它支持相同的信号类型**802.11bgn**和加密**WEP**、**WPA**和**WPA2**（尽管大多数网络都是向后兼容的）。
- en: 'You will also need the following details of your network:'
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: 您还需要以下网络详细信息：
- en: '**Service set identifier (SSID)**: This is the name of your Wi-Fi network and
    should be visible if you use the following command:'
  id: totrans-444
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**服务集标识符（SSID）**：这是您无线网络的名字，如果您使用以下命令，它应该是可见的：'
- en: '[PRE33]'
  id: totrans-445
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '**Encryption type and key**: This value will be **None**, **WEP**, **WPA**,
    or **WPA2**, and the key will be the code you normally enter when you connect
    your phone or laptop to the wireless network (sometimes, it is printed on the
    router).'
  id: totrans-446
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**加密类型和密钥**：此值将是**无**、**WEP**、**WPA**或**WPA2**，密钥将是您连接手机或笔记本电脑到无线网络时通常输入的代码（有时，它打印在路由器上）。'
- en: 'You will require a working internet connection (that is, wired Ethernet) in
    order to download the required drivers. Otherwise, you may be able to locate the
    required firmware files (they will be the `.deb` files), and copy them to the
    Raspberry Pi (that is, via a USB flash drive; the drive should be automatically
    mounted if you are running in desktop mode). Copy the file to a suitable location
    and install it with the following command:'
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要有一个正常工作的互联网连接（即有线以太网）来下载所需的驱动程序。否则，您可能能够找到所需的固件文件（它们将是`.deb`文件），并将它们复制到树莓派上（即通过USB闪存驱动器；如果您在桌面模式下运行，驱动器应自动挂载）。将文件复制到合适的位置，并使用以下命令进行安装：
- en: '[PRE34]'
  id: totrans-448
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: How to do it…
  id: totrans-449
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: This task has two stages; first, we identify and install firmware for the Wi-Fi
    adapter, and then we need to configure it for the wireless network.
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: 此任务分为两个阶段；首先，我们识别并安装无线适配器的固件，然后我们需要为无线网络进行配置。
- en: We will try to identify the chipset of your Wi-Fi adapter (the part that handles
    the connection); this may not match the actual manufacturer of the device.
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将尝试识别您无线适配器的芯片组（处理连接的部分）；这可能与设备的实际制造商不匹配。
- en: 'An approximate list of supported firmware can be found with this command:'
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用以下命令找到支持的固件的大致列表：
- en: '[PRE35]'
  id: totrans-453
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'This will produce results similar to the following output (disregarding any
    results without `firmware` in the package title):'
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: 这将产生类似于以下输出的结果（忽略任何标题中不带`firmware`的结果）：
- en: '[PRE36]'
  id: totrans-455
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'To find out the chipset of your wireless adapter, plug the Wi-Fi-adapter into
    Raspberry Pi, and from the terminal, run the following command:'
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
  zh: 要找出无线适配器的芯片组，将无线适配器插入树莓派，然后在终端运行以下命令：
- en: '[PRE37]'
  id: totrans-457
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: Note
  id: totrans-458
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: This command stitches together two commands into one. First, `dmesg` displays
    the message buffer of the kernel (this is an internal record of system events
    that have occurred since power on, such as detected USB devices). You can try
    the command on its own to observe the complete output.
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令将两个命令合并为一个。首先，`dmesg`显示内核的消息缓冲区（这是自开机以来发生的系统事件的内部记录，例如检测到的USB设备）。您可以单独尝试此命令以观察完整的输出。
- en: The `|` (pipe) sends the output to the `grep` command, `grep 'Product:\|Manuf'`
    checks it and only returns lines that contain `Product` or `Manuf` (so we should
    get a summary of any items that are listed as `Product` and `Manufacturer`). If
    you don't find anything or want to see all your USB devices, try `grep 'usb'`
    instead.
  id: totrans-460
  prefs: []
  type: TYPE_NORMAL
  zh: '`|`（管道符）将输出发送到`grep`命令，`grep ''Product:\|Manuf''`检查它，并且只返回包含`Product`或`Manuf`的行（因此我们应该得到任何列出的`Product`和`Manufacturer`的项目的摘要）。如果你没有找到任何内容或者想要查看所有USB设备，尝试使用`grep
    ''usb''`代替。'
- en: 'This should return something similar to the following output (in this case,
    I''ve got a **ZyXEL** device, which has a **ZyDAS** chipset (a quick Google search
    reveals that `zd1211-firmware` is for ZyDAS devices):'
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
  zh: 这应该返回类似于以下输出（在这种情况下，我有一个**ZyXEL**设备，它有一个**ZyDAS**芯片组（快速谷歌搜索显示`zd1211-firmware`是用于ZyDAS设备的））：
- en: '[PRE38]'
  id: totrans-462
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'Once you have identified your device and the correct firmware, you can install
    it, as you would for any other package available through `apt-get` (where `zd1211-firmware`
    can be replaced with your required firmware). This is shown in the following command:'
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你确定了你的设备和正确的固件，你就可以像安装任何其他通过`apt-get`提供的包一样安装它（其中`zd1211-firmware`可以替换为你需要的固件）。这显示在以下命令中：
- en: '[PRE39]'
  id: totrans-464
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'Remove and reinsert the USB Wi-Fi dongle to allow it to be detected and the
    drivers loaded. We can now test if the new adapter is correctly installed with
    `ifconfig`. The output is shown as follows:'
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: 移除并重新插入USB Wi-Fi网卡，以便检测并加载驱动程序。现在我们可以使用`ifconfig`测试新适配器是否正确安装。输出如下所示：
- en: '[PRE40]'
  id: totrans-466
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: The command will show the network adapters present on the system. For Wi-Fi,
    this is usually as `wlan0`, or `wlan1`, or so on if you have installed more than
    one. If not, double-check the selected firmware, and perhaps try an alternative
    or check on the site for troubleshooting tips.
  id: totrans-467
  prefs: []
  type: TYPE_NORMAL
  zh: 命令将显示系统上存在的网络适配器。对于Wi-Fi，这通常是`wlan0`，或者如果你安装了多个，可能是`wlan1`等。如果没有，请再次检查所选固件，也许尝试一个替代方案或查看网站上的故障排除提示。
- en: 'Once we have the firmware installed for the Wi-Fi adapter, we will need to
    configure it for the network we wish to connect. We can use the GUI as shown in
    the previous recipe, or we can manually configure it through the terminal as shown
    in the following steps:'
  id: totrans-468
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们为Wi-Fi适配器安装了固件，我们还需要配置它以连接我们希望连接的网络。我们可以使用如图所示的GUI，或者我们可以通过以下步骤手动通过终端配置它：
- en: 'We will need to add the wireless adapter to the list of network interfaces,
    which is set in `/etc/network/interfaces`, as follows:'
  id: totrans-469
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们需要将无线适配器添加到网络接口列表中，该列表设置在`/etc/network/interfaces`中，如下所示：
- en: '[PRE41]'
  id: totrans-470
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'Using the previous `wlan#` value in place of `wlan0` if required, add the following
    command:'
  id: totrans-471
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果需要，用之前的`wlan#`值替换`wlan0`，添加以下命令：
- en: '[PRE42]'
  id: totrans-472
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE42]'
- en: When the changes have been made, save and exit by pressing *Ctrl* + *X*, *Y*,
    and *Enter*.
  id: totrans-473
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当更改完成后，通过按*Ctrl* + *X*，*Y*和*Enter*保存并退出。
- en: 'We will now store the Wi-Fi network settings of our network in the `wpa_supplicant.conf`
    file (don''t worry if your network doesn''t use the `wpa` encryption; it is just
    the default name for the file):'
  id: totrans-474
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们现在将把我们的Wi-Fi网络设置存储在`wpa_supplicant.conf`文件中（如果你的网络没有使用`wpa`加密，不要担心；这只是文件的默认名称）：
- en: '[PRE43]'
  id: totrans-475
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'It should include the following:'
  id: totrans-476
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 它应该包括以下内容：
- en: '[PRE44]'
  id: totrans-477
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'The network settings can be written within this file as follows (that is, if
    the SSID is set as `theSSID`):'
  id: totrans-478
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 网络设置可以按照以下方式写入此文件（即，如果SSID设置为`theSSID`）：
- en: 'If no encryption is used, use this code:'
  id: totrans-479
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果没有使用加密，请使用以下代码：
- en: '[PRE45]'
  id: totrans-480
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'With the `WEP` encryption (that is, if the `WEP` key is set as `theWEPkey`),
    use the following code:'
  id: totrans-481
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`WEP`加密（即，如果`WEP`密钥设置为`theWEPkey`），请使用以下代码：
- en: '[PRE46]'
  id: totrans-482
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'For the `WPA` or `WPA2` encryption (that is, if the `WPA` key is set as `theWPAkey`),
    use the following code:'
  id: totrans-483
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于`WPA`或`WPA2`加密（即，如果`WPA`密钥设置为`theWPAkey`），请使用以下代码：
- en: '[PRE47]'
  id: totrans-484
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'You can enable the adapter with the following command (again, replace `wlan0`
    if required):'
  id: totrans-485
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以使用以下命令启用适配器（再次，如果需要，替换`wlan0`）：
- en: '[PRE48]'
  id: totrans-486
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE48]'
- en: 'Use the following command to list the wireless network connections:'
  id: totrans-487
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 使用以下命令列出无线网络连接：
- en: '[PRE49]'
  id: totrans-488
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'You should see your wireless network connected with your SSID listed as follows:'
  id: totrans-489
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你应该会看到你的无线网络连接，你的SSID如下列出：
- en: '[PRE50]'
  id: totrans-490
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE50]'
- en: If not, adjust your settings and use `sudo ifdown wlan0` to switch off the network
    interface, and then `sudo ifup wlan0` to switch it back on.
  id: totrans-491
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果没有，调整你的设置，并使用`sudo ifdown wlan0`关闭网络接口，然后使用`sudo ifup wlan0`重新打开它。
- en: This will confirm that you have successfully connected to your Wi-Fi network.
  id: totrans-492
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这将确认你已经成功连接到你的Wi-Fi网络。
- en: Finally, we will need to check whether we have access to the Internet. Here,
    we have assumed that the network is automatically configured with DHCP and no
    proxy server is used. If not, refer to the *Connecting to the Internet through
    a proxy server* recipe.
  id: totrans-493
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，我们需要检查我们是否有互联网访问权限。这里，我们假设网络已自动配置为 DHCP，并且没有使用代理服务器。如果不是这样，请参考 *通过代理服务器连接到互联网*
    的配方。
- en: 'Unplug the wired network cable, if still connected, and see if you can ping
    the Raspberry Pi website, as follows:'
  id: totrans-494
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果仍然连接，请拔掉有线网络电缆，并查看您是否可以像以下这样ping树莓派网站：
- en: '[PRE51]'
  id: totrans-495
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE51]'
- en: Tip
  id: totrans-496
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: If you want to quickly know the IP address currently in use by the Raspberry
    Pi, you can use `hostname -I`. Or to find out which adapter is connected to which
    IP address, use `ifconfig`.
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想快速了解当前树莓派正在使用的 IP 地址，可以使用 `hostname -I`。或者，要找出哪个适配器连接到哪个 IP 地址，可以使用 `ifconfig`。
- en: There's more…
  id: totrans-498
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多内容...
- en: The Model A version of the Raspberry Pi does not have a built-in network port;
    so in order to get a network connection, a USB network adapter will have to be
    added (either a Wi-Fi dongle, as explained in the preceding section, or a LAN-to-USB
    adapter, as described in the following section).
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
  zh: 模型 A 版本的树莓派没有内置网络端口；因此，为了获得网络连接，必须添加一个 USB 网络适配器（要么是前面章节中解释的 Wi-Fi 拨号器，要么是下一章节中描述的
    LAN 到 USB 适配器）。
- en: Using USB wired network adapters
  id: totrans-500
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 USB 有线网络适配器
- en: Just like USB Wi-Fi, the adapter support will depend on the chipset used and
    the drivers available. Unless the device comes with Linux drivers, you may have
    to search the Internet to obtain the suitable Debian Linux drivers.
  id: totrans-501
  prefs: []
  type: TYPE_NORMAL
  zh: 就像 USB Wi-Fi 一样，适配器的支持将取决于所使用的芯片组和可用的驱动程序。除非设备随 Linux 驱动程序一起提供，否则您可能需要在网上搜索以获取合适的
    Debian Linux 驱动程序。
- en: 'If you find a suitable `.deb` file, you can install it with the following command:'
  id: totrans-502
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您找到一个合适的 `.deb` 文件，可以使用以下命令进行安装：
- en: '[PRE52]'
  id: totrans-503
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: Also check using `ifconfig`, as some devices will be supported automatically,
    appear as `eth1` (or `eth0` on Model A), and be ready for use immediately.
  id: totrans-504
  prefs: []
  type: TYPE_NORMAL
  zh: 也请使用 `ifconfig` 进行检查，因为某些设备将自动支持，显示为 `eth1`（或模型 A 上的 `eth0`），并立即准备好使用。
- en: Connecting to the Internet through a proxy server
  id: totrans-505
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过代理服务器连接到互联网
- en: Some networks, such as workplaces or schools, often require you to connect to
    the Internet through a proxy server.
  id: totrans-506
  prefs: []
  type: TYPE_NORMAL
  zh: 一些网络，如工作场所或学校，通常要求您通过代理服务器连接到互联网。
- en: Getting ready
  id: totrans-507
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: You will need the address of the proxy server you are trying to connect to,
    including the username and password if one is required.
  id: totrans-508
  prefs: []
  type: TYPE_NORMAL
  zh: 您将需要您尝试连接的代理服务器的地址，包括如果需要的话，用户名和密码。
- en: You should confirm that the Raspberry Pi is already connected to the network
    and that you can access the proxy server.
  id: totrans-509
  prefs: []
  type: TYPE_NORMAL
  zh: 您应该确认树莓派已经连接到网络，并且您可以访问代理服务器。
- en: 'Use the `ping` command to check this as follows:'
  id: totrans-510
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `ping` 命令如下检查：
- en: '[PRE53]'
  id: totrans-511
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: If this fails (you get no responses), you will need to ensure your network settings
    are correct before continuing.
  id: totrans-512
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这失败了（您没有收到任何响应），在继续之前，您需要确保您的网络设置是正确的。
- en: How to do it…
  id: totrans-513
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: 'Create a new file using `nano` as follows (if there is already some content
    in the file, you can add the code at the end):'
  id: totrans-514
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 `nano` 创建一个新文件，如下所示（如果文件中已有内容，您可以将代码添加到末尾）：
- en: '[PRE54]'
  id: totrans-515
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'To allow basic web browsing through programs such as **midori** while using
    a proxy server, you can use the following script:'
  id: totrans-516
  prefs: []
  type: TYPE_NORMAL
  zh: 要在使用代理服务器的同时通过程序如 **midori** 允许基本的网页浏览，可以使用以下脚本：
- en: '[PRE55]'
  id: totrans-517
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: Once done, save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter*.
  id: totrans-518
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，通过按 *Ctrl* + *X*，*Y* 和 *Enter* 保存并退出。
- en: Note
  id: totrans-519
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The script is added to the user's own `.bash_profile` file, which is run when
    that particular user logs in. This will ensure that the proxy settings are kept
    separately for each user. If you want all users to use the same settings, you
    can add the code to `/etc/rc.local` instead (this file must have `exit 0` at the
    end).
  id: totrans-520
  prefs: []
  type: TYPE_NORMAL
  zh: 该脚本被添加到用户的 `.bash_profile` 文件中，当该特定用户登录时运行。这将确保为每个用户保留单独的代理设置。如果您想让所有用户使用相同的设置，可以将代码添加到
    `/etc/rc.local` 中（此文件必须以 `exit 0` 结尾）。
- en: How it works…
  id: totrans-521
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Many programs that make use of the Internet will check for the `http_proxy`
    or `HTTP_PROXY` environment variables before connecting. If they are present,
    they will use the proxy settings to connect through. Some programs may also use
    the `HTTPS` and `FTP` protocols, so we can set the proxy setting for them here
    too.
  id: totrans-522
  prefs: []
  type: TYPE_NORMAL
  zh: 许多利用互联网的程序在连接之前会检查 `http_proxy` 或 `HTTP_PROXY` 环境变量。如果存在，它们将使用代理设置进行连接。一些程序也可能使用
    `HTTPS` 和 `FTP` 协议，因此我们也可以在这里为它们设置代理设置。
- en: Note
  id: totrans-523
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: If a username is required for the proxy server, a password will be prompted
    for. It is generally not recommended to store your passwords inside scripts unless
    you are confident that no one else will have access to your device (either physically
    or through the Internet).
  id: totrans-524
  prefs: []
  type: TYPE_NORMAL
  zh: 如果代理服务器需要用户名，则会提示输入密码。通常不建议在脚本中存储您的密码，除非您确信没有人会访问您的设备（无论是物理上还是通过网络）。
- en: The last part allows any programs that execute using the `sudo` command to use
    the proxy environment variables while acting as the super user (most programs
    will try accessing the network using normal privileges first, even if running
    as a super user, so it isn't always needed).
  id: totrans-525
  prefs: []
  type: TYPE_NORMAL
  zh: 最后的部分允许任何使用`sudo`命令执行的程序在作为超级用户操作时使用代理环境变量（大多数程序会首先尝试使用正常权限访问网络，即使以超级用户身份运行，因此并不总是需要）。
- en: There's more…
  id: totrans-526
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'We also need to allow the proxy settings to be used by some programs, which
    use super user permissions while accessing the network (this will depend on the
    program; most don''t need this). We need to add the commands into a file stored
    in `/etc/sudoers.d/` by performing the following steps:'
  id: totrans-527
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还需要允许某些程序使用代理设置，这些程序在访问网络时使用超级用户权限（这取决于程序；大多数不需要这样做）。我们需要通过以下步骤将命令添加到存储在`/etc/sudoers.d/`目录中的文件中：
- en: Note
  id: totrans-528
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: It is important to use `visudo` here, as it ensures the permissions of the file
    are created correctly for the `sudoers` directory (read only by the `root` user).
  id: totrans-529
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里使用`visudo`非常重要，因为它确保了文件权限被正确创建，以便`sudoers`目录（只允许`root`用户读取）。
- en: 'Use the following command to open a new `sudoer` file:'
  id: totrans-530
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令打开一个新的`sudoer`文件：
- en: '[PRE56]'
  id: totrans-531
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE56]'
- en: 'Enter the following text in the file (on a single line):'
  id: totrans-532
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文件中（单行内）输入以下文本：
- en: '[PRE57]'
  id: totrans-533
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE57]'
- en: Once done, save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter*; don't change
    the `proxy.tmp` filename (this is normal for `visudo`; it will change it to proxy
    when finished).
  id: totrans-534
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成后，通过按*Ctrl* + *X*，*Y*和*Enter*保存并退出；不要更改`proxy.tmp`文件名（这对于`visudo`来说是正常的；完成时会将其更改为proxy）。
- en: If prompted `What now?`, there is an error in the command. Press *X* to exit
    without saving and retype the command!
  id: totrans-535
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果提示`接下来做什么？`，则命令存在错误。按*X*退出而不保存，并重新输入命令！
- en: 'After a reboot (using `sudo reboot`), you will be able to use the following
    commands to enable and disable the proxy respectively:'
  id: totrans-536
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新启动（使用`sudo reboot`）后，您可以使用以下命令分别启用和禁用代理：
- en: '[PRE58]'
  id: totrans-537
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE58]'
- en: Connecting remotely to the Raspberry Pi over the network using VNC
  id: totrans-538
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过网络使用VNC远程连接到树莓派
- en: Often, it is preferable to remotely connect to and control the Raspberry Pi
    across the network, for instance, using a laptop or desktop computer as a screen
    and keyboard, or while the Raspberry Pi is connected elsewhere, perhaps even connected
    to some hardware it needs to be close to.
  id: totrans-539
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，通过网络远程连接并控制树莓派更可取，例如，使用笔记本电脑或台式计算机作为屏幕和键盘，或者当树莓派连接到其他地方时，可能甚至连接到它需要靠近的某些硬件。
- en: VNC is just one way in which you can remotely connect to the Raspberry Pi. It
    will create a new desktop session that will be controlled and accessed remotely.
    The VNC session here is separate from the one that may be active on the Raspberry
    Pi's display.
  id: totrans-540
  prefs: []
  type: TYPE_NORMAL
  zh: VNC只是您远程连接到树莓派的一种方式。它将创建一个新的桌面会话，该会话将被远程控制和访问。这里的VNC会话与可能正在树莓派显示器上活动的会话是分开的。
- en: Getting ready
  id: totrans-541
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure that your Raspberry Pi is powered up and connected to the Internet. We
    will use the Internet connection to install a program using `apt-get`. This is
    a program that allows us to find and install applications directly from the official
    repositories.
  id: totrans-542
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您的树莓派已开机并连接到互联网。我们将使用互联网连接通过`apt-get`安装程序。这是一个允许我们从官方仓库直接查找和安装应用程序的程序。
- en: How to do it…
  id: totrans-543
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'First, we need to install the **TightVNC** server on the Raspberry Pi with
    the following commands. It is advisable to run an `update` command first to get
    the latest version of the package you want to install as follows:'
  id: totrans-544
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要使用以下命令在树莓派上安装**TightVNC**服务器。建议首先运行一个`update`命令，以获取您要安装的软件包的最新版本，如下所示：
- en: '[PRE59]'
  id: totrans-545
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: 'Accept the prompt to install and wait until it completes. To start a session,
    use the following command to start a session:'
  id: totrans-546
  prefs: []
  type: TYPE_NORMAL
  zh: 接受提示以安装，并等待安装完成。要开始会话，请使用以下命令启动会话：
- en: '[PRE60]'
  id: totrans-547
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: The first time you run this, it will ask you to enter a password (of no more
    than eight characters) to access the desktop (you will use this when you connect
    from your computer).
  id: totrans-548
  prefs: []
  type: TYPE_NORMAL
  zh: 第一次运行此程序时，它会要求您输入一个密码（不超过八个字符），以便访问桌面（当您从计算机连接时将使用此密码）。
- en: 'The following message should confirm that a new desktop session has been started:'
  id: totrans-549
  prefs: []
  type: TYPE_NORMAL
  zh: 以下消息应确认已启动新的桌面会话：
- en: '[PRE61]'
  id: totrans-550
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: If you do not already know the IP address of the Raspberry Pi, use `hostname
    –I` and take note of it.
  id: totrans-551
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你还没有知道 Raspberry Pi 的 IP 地址，请使用 `hostname –I` 并记下它。
- en: Next, we need to run a VNC client, **VNC Viewer** is suitable program, which
    is available at [http://www.realvnc.com/](http://www.realvnc.com/) and should
    work on Windows, Linux, and OS X.
  id: totrans-552
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们需要运行一个 VNC 客户端，**VNC Viewer** 是一个合适的程序，可在 [http://www.realvnc.com/](http://www.realvnc.com/)
    获取，并且应该在 Windows、Linux 和 OS X 上运行。
- en: When you run VNC Viewer, you will be prompted for the **Server** address and
    **Encryption** type. Use the IP address of your Raspberry Pi with `:1`. That is,
    for the IP address **192.168.1.69**, use the `192.168.1.69:1` address.
  id: totrans-553
  prefs: []
  type: TYPE_NORMAL
  zh: 当你运行 VNC Viewer 时，你将需要输入 **服务器** 地址和 **加密** 类型。使用你的 Raspberry Pi 的 IP 地址加上 `:1`。例如，对于
    IP 地址 **192.168.1.69**，使用 `192.168.1.69:1` 地址。
- en: You can leave the Encryption type as **Off** or **Automatic**.
  id: totrans-554
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以将加密类型设置为 **关闭** 或 **自动**。
- en: Depending on your network, you may be able to use the hostname; the default
    is **raspberrypi**, that is `raspberrypi:1`.
  id: totrans-555
  prefs: []
  type: TYPE_NORMAL
  zh: 根据你的网络，你可能能够使用主机名；默认为 **raspberrypi**，即 `raspberrypi:1`。
- en: You may have a warning about not having connected to the computer before or
    having no encryption. You should enable encryption if you are using a public network
    or if you are performing connections over the Internet (to stop others from being
    able to intercept your data).
  id: totrans-556
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会收到关于之前未连接到计算机或没有加密的警告。如果你在使用公共网络或通过互联网进行连接（以阻止他人拦截你的数据），你应该启用加密。
- en: There's more…
  id: totrans-557
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多信息…
- en: 'You can add options to the command line to specify the resolution and also
    the color depth of the display. The higher the resolution and color depth (can
    be adjusted to use 8 to 32 bits per pixel to provide low or high color detail),
    the more data has to be transferred through the network link. If you find the
    refresh rate a little slow, try reducing these numbers as follows:'
  id: totrans-558
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以向命令行添加选项来指定分辨率以及显示的颜色深度。分辨率和颜色深度越高（可以调整到每像素使用 8 到 32 位以提供低或高颜色细节），通过网络链路传输的数据就越多。如果你觉得刷新率有点慢，可以尝试按以下方式减少这些数值：
- en: '[PRE62]'
  id: totrans-559
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: To allow the VNC server to start automatically when you switch on, you can add
    the `vncserver` command to `.bash_profile` (this is executed each time the Raspberry
    Pi starts).
  id: totrans-560
  prefs: []
  type: TYPE_NORMAL
  zh: 要在开机时自动启动 VNC 服务器，可以将 `vncserver` 命令添加到 `.bash_profile`（每次 Raspberry Pi 启动时都会执行）。
- en: 'Use the `nano` editor as follows (the `-c` option allows the line numbers to
    be displayed):'
  id: totrans-561
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下方式使用 `nano` 编辑器（`-c` 选项允许显示行号）：
- en: '[PRE63]'
  id: totrans-562
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: 'Add the following line to the end of the file:'
  id: totrans-563
  prefs: []
  type: TYPE_NORMAL
  zh: 将以下行添加到文件末尾：
- en: '[PRE64]'
  id: totrans-564
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: The next time you power up, you should be able to remotely connect using VNC
    from another computer.
  id: totrans-565
  prefs: []
  type: TYPE_NORMAL
  zh: 下次开机时，你应该能够从另一台计算机使用 VNC 远程连接。
- en: Connecting remotely to the Raspberry Pi over the network using SSH (and X11
    Forwarding)
  id: totrans-566
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过 SSH（和 X11 转发）在网络中远程连接到 Raspberry Pi
- en: An **SSH** (**Secure SHell**) is often the preferred method for making remote
    connections, as it allows only the terminal connections and typically requires
    fewer resources.
  id: totrans-567
  prefs: []
  type: TYPE_NORMAL
  zh: '**SSH**（**安全壳**）通常是建立远程连接的首选方法，因为它只允许终端连接，并且通常需要的资源更少。'
- en: 'An extra feature of SSH is the ability to transfer the **X11** data to an **X
    Windows** server running on your machine. This allows you to start programs that
    would normally run on the Raspberry Pi desktop, and they will appear in their
    own Windows on the local computer, as follows:'
  id: totrans-568
  prefs: []
  type: TYPE_NORMAL
  zh: SSH 的一个额外功能是将 **X11** 数据传输到运行在你机器上的 **X Windows** 服务器。这允许你启动通常在 Raspberry Pi
    桌面上运行的程序，它们将在本地计算机上显示为独立的窗口，如下所示：
- en: '![Connecting remotely to the Raspberry Pi over the network using SSH (and X11
    Forwarding)](img/6623OT_01_032.jpg)'
  id: totrans-569
  prefs: []
  type: TYPE_IMG
  zh: '![通过 SSH（和 X11 转发）在网络中远程连接到 Raspberry Pi](img/6623OT_01_032.jpg)'
- en: X11 Forwarding on a local display
  id: totrans-570
  prefs: []
  type: TYPE_NORMAL
  zh: 在本地显示上启用 X11 转发
- en: X Forwarding can be used to display applications, which are running on the Raspberry
    Pi, on a Windows computer.
  id: totrans-571
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用 X 转发来显示在 Raspberry Pi 上运行的应用程序，在 Windows 计算机上显示。
- en: Getting ready
  id: totrans-572
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: If you are running the latest version of Raspbian, SSH and X11 Forwarding will
    be enabled by default (otherwise, double-check the settings explained in the *How
    it works…* section).
  id: totrans-573
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在运行最新的 Raspbian 版本，SSH 和 X11 转发将默认启用（否则，请检查 *如何工作…* 部分中解释的设置）。
- en: How to do it…
  id: totrans-574
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: Linux and OS X have built-in support for X11 Forwarding; but if you are using
    Windows, you will need to install and run the X Windows server on your computer.
  id: totrans-575
  prefs: []
  type: TYPE_NORMAL
  zh: Linux和OS X内置了对X11转发的支持；但如果你使用的是Windows，你将需要在你的计算机上安装并运行X Windows服务器。
- en: Download and run `xming` from the **Xming** site ([http://sourceforge.net/projects/xming/](http://sourceforge.net/projects/xming/)).
  id: totrans-576
  prefs: []
  type: TYPE_NORMAL
  zh: 从**Xming**网站（[http://sourceforge.net/projects/xming/](http://sourceforge.net/projects/xming/））下载并运行`xming`。
- en: Install `xming`, following the installation steps, including the installation
    of **PuTTY** if you don't have it already. You can also download PuTTY separately
    from [http://www.putty.org/](http://www.putty.org/).
  id: totrans-577
  prefs: []
  type: TYPE_NORMAL
  zh: 安装`xming`，按照安装步骤进行，包括如果你还没有的话安装**PuTTY**。你也可以从[http://www.putty.org/](http://www.putty.org/)单独下载PuTTY。
- en: Next, we need to ensure that the SSH program we use has X11 enabled when we
    connect.
  id: totrans-578
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们需要确保我们使用的SSH程序在连接时启用了X11。
- en: For Windows, we shall use PuTTY to connect to the Raspberry Pi.
  id: totrans-579
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Windows系统，我们将使用PuTTY连接到树莓派。
- en: 'In the **PuTTY Configuration** dialog box, navigate to **Connection** | **SSH**
    | **X11** and tick the checkbox for **X11 Forwarding**. If you leave the **X display
    location** option blank, it will assume the default `Server 0:0` as follows (you
    can confirm the server number by moving your mouse over the Xming icon in the
    system tray when it is running):'
  id: totrans-580
  prefs: []
  type: TYPE_NORMAL
  zh: 在**PuTTY配置**对话框中，导航到**连接** | **SSH** | **X11**，勾选**X11转发**复选框。如果你留空**X显示位置**选项，它将默认为`Server
    0:0`（你可以通过在Xming运行时将鼠标移到系统托盘中的Xming图标上来确认服务器编号）：
- en: '![How to do it…](img/6623OT_01_033.jpg)'
  id: totrans-581
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作…](img/6623OT_01_033.jpg)'
- en: Enabling X11 Forwarding within the PuTTY configuration
  id: totrans-582
  prefs: []
  type: TYPE_NORMAL
  zh: 在PuTTY配置中启用X11转发
- en: Enter the IP address of the Raspberry Pi in the **Session** settings (you may
    also find that you can use the Raspberry Pi's hostname here instead; the default
    hostname is `raspberrypi`).
  id: totrans-583
  prefs: []
  type: TYPE_NORMAL
  zh: 在**会话**设置中输入树莓派的IP地址（你也许也可以在这里使用树莓派的计算机名；默认计算机名是`raspberrypi`）。
- en: Save the setting using a suitable name, `RaspberryPi`, and click on **Open**
    to connect to your Raspberry Pi.
  id: totrans-584
  prefs: []
  type: TYPE_NORMAL
  zh: 使用合适的名称，例如`RaspberryPi`，保存设置，然后点击**打开**以连接到你的树莓派。
- en: You are likely to see a warning message pop up stating you haven't connected
    to the computer before (this allows you to check whether you have everything right
    before continuing).
  id: totrans-585
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会看到一个警告消息弹出，表明你之前没有连接到该计算机（这允许你在继续之前检查你是否一切都设置正确）。
- en: '![How to do it…](img/6623OT_01_034.jpg)'
  id: totrans-586
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作…](img/6623OT_01_034.jpg)'
- en: Opening an SSH connection to the Raspberry Pi using PuTTY
  id: totrans-587
  prefs: []
  type: TYPE_NORMAL
  zh: 使用PuTTY打开到树莓派的SSH连接
- en: For OS X or Linux, click on **Terminal** to open a connection to the Raspberry
    Pi.
  id: totrans-588
  prefs: []
  type: TYPE_NORMAL
  zh: 对于OS X或Linux，点击**终端**以打开到树莓派的连接。
- en: 'To connect with the default `pi` username, with an IP address of `192.168.1.69`,
    use the following command; the `-X` option enables X11 Forwarding:'
  id: totrans-589
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用默认的`pi`用户名，IP地址为`192.168.1.69`，请使用以下命令；`-X`选项启用X11转发：
- en: '[PRE65]'
  id: totrans-590
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: All being well, you should be greeted with a prompt for your password (remember
    the default value for the `pi` user is `raspberry`).
  id: totrans-591
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一切顺利，你应该会看到一个提示输入密码的提示符（记住`pi`用户的默认密码是`raspberry`）。
- en: Ensure that you have Xming running by starting the Xming program from your computer's
    Start menu. Then, in the terminal window, type a program that normally runs within
    the Raspberry Pi desktop, such as `leafpad` or `scratch`. Wait a little while
    and the program should appear on your computer's desktop (if you get an error,
    you have probably forgotten to start Xming, so run it and try again).
  id: totrans-592
  prefs: []
  type: TYPE_NORMAL
  zh: 通过从你的计算机的开始菜单启动Xming程序来确保Xming正在运行。然后，在终端窗口中，输入通常在树莓派桌面中运行的程序，例如`leafpad`或`scratch`。稍等片刻，程序应该会出现在你的计算机桌面上（如果你收到错误，你可能忘记启动Xming，所以请运行它并再次尝试）。
- en: How it works…
  id: totrans-593
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: X Windows and X11 is what provides the method by which the Raspberry Pi (and
    many other Linux-based computers) can display and control graphical Windows as
    part of a desktop.
  id: totrans-594
  prefs: []
  type: TYPE_NORMAL
  zh: X Windows和X11是提供方法，使得树莓派（以及许多其他基于Linux的计算机）可以作为桌面的一部分显示和控制图形窗口。
- en: 'For X11 Forwarding to work over a network connection, we need both SSH and
    X11 Forwarding enabled on the Raspberry Pi. Perform the following steps:'
  id: totrans-595
  prefs: []
  type: TYPE_NORMAL
  zh: 要在网络连接上使X11转发工作，我们需要在树莓派上同时启用SSH和X11转发。执行以下步骤：
- en: To switch on (or off) SSH, you can access the **Raspberry Pi Configuration**
    program under the **Preferences** menu on the **Desktop** and click on **SSH**
    within the **Interfaces** tab, as shown in the following screenshot (SSH is often
    enabled by default for most distributions to help allow remote connections without
    needing a monitor to configure it):![How it works…](img/6623OT_01_035.jpg)
  id: totrans-596
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要开启（或关闭）SSH，您可以在 **桌面** 的 **首选项** 菜单下访问 **Raspberry Pi 配置** 程序，然后在 **接口** 选项卡中点击
    **SSH**，如下面的截图所示（SSH 在大多数发行版中通常默认启用，以帮助允许远程连接，而无需监视器来配置它）：![工作原理…](img/6623OT_01_035.jpg)
- en: The Interfaces tab in the Raspberry Pi Configuration tool
  id: totrans-597
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Raspberry Pi 配置工具中的“接口”选项卡
- en: Ensure that X11 Forwarding is enabled on the Raspberry Pi (again most distributions
    now have this enabled by default).
  id: totrans-598
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保在 Raspberry Pi 上启用了 X11 Forwarding（再次提醒，现在大多数发行版默认都启用了此功能）。
- en: 'Use `nano` with the following command:'
  id: totrans-599
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令的 `nano`：
- en: '[PRE66]'
  id: totrans-600
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE66]'
- en: 'Look for a line in the `/etc/ssh/sshd_config` file that controls X11 Forwarding
    and ensure that it says `yes` (with no `#` sign before it), as follows:'
  id: totrans-601
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `/etc/ssh/sshd_config` 文件中查找控制 X11 Forwarding 的行，并确保它说 `yes`（前面没有 `#` 符号），如下所示：
- en: '[PRE67]'
  id: totrans-602
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE67]'
- en: 'Save if required by pressing *Ctrl* + *X*, *Y*, and *Enter* and reboot (if
    you need to change it) as follows:'
  id: totrans-603
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果需要，按 *Ctrl* + *X*、*Y* 和 *Enter* 保存，并根据需要重新启动（如果需要更改它）如下所示：
- en: '[PRE68]'
  id: totrans-604
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE68]'
- en: There's more…
  id: totrans-605
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: SSH and X 11 Forwarding is a convenient way to control the Raspberry Pi remotely;
    we will explore some additional tips on how to use it effectively in the following
    sections.
  id: totrans-606
  prefs: []
  type: TYPE_NORMAL
  zh: SSH 和 X 11 Forwarding 是远程控制 Raspberry Pi 的便捷方式；在接下来的几节中，我们将探讨一些如何有效使用它的额外技巧。
- en: Running multiple programs with X11 Forwarding
  id: totrans-607
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 X11 Forwarding 运行多个程序
- en: 'If you want to run an **X program**, but still be able to use the same terminal
    console for other stuff, you can run the command in the background with `&` as
    follows:'
  id: totrans-608
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想运行 **X 程序**，但仍然能够使用相同的终端控制台进行其他操作，您可以通过以下方式在后台运行命令：`&`
- en: '[PRE69]'
  id: totrans-609
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: Just remember that the more programs you run, the slower everything will get.
    You can switch to the background program by typing `fg` and check for background
    tasks with `bg`.
  id: totrans-610
  prefs: []
  type: TYPE_NORMAL
  zh: 只需记住，您运行的程序越多，一切都会变得越慢。您可以通过输入 `fg` 切换到后台程序，并通过 `bg` 检查后台任务。
- en: Running as a desktop with X11 Forwarding
  id: totrans-611
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 以桌面形式运行并启用 X11 Forwarding
- en: You can even run a complete desktop session through X11, although it isn't particularly
    user-friendly and VNC will produce better results. To achieve this, you have to
    use `lxsession` instead of `startx` (in the way you would normally start the desktop
    from the terminal).
  id: totrans-612
  prefs: []
  type: TYPE_NORMAL
  zh: 您甚至可以通过 X11 运行完整的桌面会话，尽管它并不特别用户友好，VNC 会产生更好的结果。为了实现这一点，您必须使用 `lxsession` 而不是
    `startx`（就像您通常从终端启动桌面一样）。
- en: An alternative is to use `lxpanel`, which provides the program menu bar from
    which you can start and run programs from the menu as you would on the desktop.
  id: totrans-613
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个选择是使用 `lxpanel`，它提供了一个程序菜单栏，您可以从菜单中启动和运行程序，就像在桌面上一样。
- en: Running PyGame and Tkinter with X11 Forwarding
  id: totrans-614
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用 X11 Forwarding 运行 PyGame 和 Tkinter
- en: 'You can get the following error (or similar) when running the **PyGame** or
    **Tkinter** scripts:'
  id: totrans-615
  prefs: []
  type: TYPE_NORMAL
  zh: 当运行 **PyGame** 或 **Tkinter** 脚本时，您可能会遇到以下错误（或类似错误）：
- en: '[PRE70]'
  id: totrans-616
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: 'In this case, use the following command to fix the error:'
  id: totrans-617
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，使用以下命令来修复错误：
- en: '[PRE71]'
  id: totrans-618
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: Sharing the home folder of the Raspberry Pi with SMB
  id: totrans-619
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 SMB 共享 Raspberry Pi 的主文件夹
- en: When you have the Raspberry Pi connected to your network, you can access the
    home folder by setting up file sharing; this makes it much easier to transfer
    files and provides a quick and easy way to back up your data. **Server Message
    Block** (**SMB**) is a protocol that is compatible with Windows file sharing,
    OS X, and Linux.
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
  zh: 当您将 Raspberry Pi 连接到您的网络时，您可以通过设置文件共享来访问主文件夹；这使得文件传输变得容易得多，并提供了一种快速简单的方法来备份您的数据。**服务器消息块**（**SMB**）是一种与
    Windows 文件共享、OS X 和 Linux 兼容的协议。
- en: Getting ready
  id: totrans-621
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure that you have the Raspberry Pi powered and running with a working connection
    to the Internet.
  id: totrans-622
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您的 Raspberry Pi 已开启并运行，并且与互联网有正常连接。
- en: You will also need another computer on the same local network to test the new
    share.
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
  zh: 您还需要另一台在同一本地网络上的计算机来测试新的共享。
- en: How to do it…
  id: totrans-624
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: First, we need to install `samba`, a piece of software that handles folder sharing
    in a format that is compatible with Windows sharing methods.
  id: totrans-625
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要安装 `samba`，这是一款软件，它以与 Windows 共享方法兼容的格式处理文件夹共享。
- en: 'Ensure that you use `update` as follows to obtain the latest list of available
    packages:'
  id: totrans-626
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您使用以下命令来获取最新可用的软件包列表：`update`
- en: '[PRE72]'
  id: totrans-627
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: The install will require around 20 MB of space and take a few minutes.
  id: totrans-628
  prefs: []
  type: TYPE_NORMAL
  zh: 安装需要大约20MB的空间，并花费几分钟时间。
- en: 'Once the install has completed, we can make a copy of the configuration file
    as follows to allow us to restore to defaults if needed:'
  id: totrans-629
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，我们可以按照以下步骤复制配置文件，以便在需要时恢复默认设置：
- en: '[PRE73]'
  id: totrans-630
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: Scroll down and find the section named `Authentication`; change the `# security
    = user` line to `security = user`.
  id: totrans-631
  prefs: []
  type: TYPE_NORMAL
  zh: 滚动并找到名为`身份验证`的部分；将`# security = user`行更改为`security = user`。
- en: As described in the file, this setting ensures that you have to enter your username
    and password for the Raspberry Pi in order to access the files (this is important
    for shared networks).
  id: totrans-632
  prefs: []
  type: TYPE_NORMAL
  zh: 如文件所述，此设置确保你必须输入树莓派的用户名和密码才能访问文件（这对于共享网络来说很重要）。
- en: Find the section called `Share Definitions` and `[homes]`, and change the `read
    only = yes` line to `read only = no`.
  id: totrans-633
  prefs: []
  type: TYPE_NORMAL
  zh: 找到名为`共享定义`和`[homes]`的部分，将`read only = yes`行更改为`read only = no`。
- en: This will allow us to view and also write files to the shared home folder. Once
    done, save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter*.
  id: totrans-634
  prefs: []
  type: TYPE_NORMAL
  zh: 这将允许我们查看并写入共享主文件夹中的文件。完成后，通过按*Ctrl* + *X*，*Y*和*Enter*保存并退出。
- en: Note
  id: totrans-635
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: If you have changed the default user from `pi` to something else, substitute
    it in the following instructions.
  id: totrans-636
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你已将默认用户从`pi`更改为其他名称，请在以下说明中替换它。
- en: 'Now, we can add `pi` (the default user) to use `samba`:'
  id: totrans-637
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们可以将`pi`（默认用户）添加到使用`samba`：
- en: '[PRE74]'
  id: totrans-638
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 'Now, enter a password (you can use the same password as your login or select
    a different one, but avoid using the default Raspberry password, which would be
    very easy for someone to guess). Restart `samba` to use the new configuration
    file, as follows:'
  id: totrans-639
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，输入密码（你可以使用与登录相同的密码或选择一个不同的密码，但避免使用默认的树莓派密码，因为这很容易被人猜到）。按照以下步骤重启`samba`以使用新的配置文件：
- en: '[PRE75]'
  id: totrans-640
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: 'In order to test, you will need to know either the Raspberry Pi''s hostname
    (the default hostname is `raspberrypi`) or its IP address. You can find both of
    these with the following command:'
  id: totrans-641
  prefs: []
  type: TYPE_NORMAL
  zh: 为了测试，你需要知道树莓派的计算机名（默认计算机名是`raspberrypi`）或其IP地址。你可以使用以下命令找到这两个信息：
- en: '[PRE76]'
  id: totrans-642
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: 'For the IP address, add `-I`:'
  id: totrans-643
  prefs: []
  type: TYPE_NORMAL
  zh: 对于IP地址，添加`-I`：
- en: '[PRE77]'
  id: totrans-644
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: On another computer on the network, enter the `\\raspberrypi\pi` address in
    the explorer path.
  id: totrans-645
  prefs: []
  type: TYPE_NORMAL
  zh: 在网络上的另一台计算机上，在资源管理器路径中输入`\\raspberrypi\pi`地址。
- en: Depending on your network, the computer should locate the Raspberry Pi on the
    network and prompt for a username and password. If it can't find the share using
    the hostname, you can use the IP address directly, where `192.168.1.69` should
    be changed to match the IP address `\\192.168.1.69\pi`.
  id: totrans-646
  prefs: []
  type: TYPE_NORMAL
  zh: 根据你的网络，计算机应该能在网络上定位到树莓派，并提示输入用户名和密码。如果它无法使用主机名找到共享，你可以直接使用IP地址，其中`192.168.1.69`应更改为匹配的IP地址`\\192.168.1.69\pi`。
- en: Keeping the Raspberry Pi up to date
  id: totrans-647
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 保持树莓派更新
- en: The Linux image used by the Raspberry Pi is often updated to include enhancements,
    fixes, and improvements to the system, as well as adding support for new hardware
    or changes made to the latest board. Many of the packages that you install can
    be updated too.
  id: totrans-648
  prefs: []
  type: TYPE_NORMAL
  zh: 树莓派使用的Linux镜像通常会更新，包括增强、修复和对系统的改进，以及添加对新硬件的支持或对最新板所做的更改。你安装的大多数软件包也可以更新。
- en: This is particularly important if you plan on using the same system image on
    another Raspberry Pi board (particularly a newer one) as older images will lack
    support for any wiring changes or alternative RAM chips. New firmware should work
    on older Raspberry Pi boards, but older firmware may not be compatible with the
    latest hardware.
  id: totrans-649
  prefs: []
  type: TYPE_NORMAL
  zh: 这尤其重要，如果你计划在另一块树莓派板上（尤其是较新的板上）使用相同的系统镜像（尤其是较旧的镜像将不支持任何布线更改或替代RAM芯片）。新固件应在较旧的树莓派板上工作，但较旧的固件可能不与最新硬件兼容。
- en: Fortunately, you need not reflash your SD card every time there is a new release,
    since you can update it instead.
  id: totrans-650
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，你不必每次有新版本发布时都刷新你的SD卡，因为你可以选择更新它。
- en: Getting ready
  id: totrans-651
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: You will need to be connected to the Internet in order to update your system.
    It is always advisable to make a backup of your image first (and at a minimum,
    take a copy of your important files).
  id: totrans-652
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要连接到互联网才能更新你的系统。始终建议首先备份你的镜像（至少复制你的重要文件）。
- en: 'You can check your current version of firmware with the `uname -a` command,
    as follows:'
  id: totrans-653
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用`uname -a`命令检查你的当前固件版本，如下所示：
- en: '[PRE78]'
  id: totrans-654
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: 'The GPU firmware can be checked using the `/opt/vc/bin/vcgencmd version` command,
    as follows:'
  id: totrans-655
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用`/opt/vc/bin/vcgencmd version`命令检查GPU固件，如下所示：
- en: '[PRE79]'
  id: totrans-656
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: 'The `free -h` command will detail the RAM available to the main processor (the
    total RAM is split between the GPU and ARM cores) and will give the following
    output:'
  id: totrans-657
  prefs: []
  type: TYPE_NORMAL
  zh: '`free -h` 命令将详细显示主处理器（总RAM在GPU和ARM核心之间分配）可用的RAM，并将给出以下输出：'
- en: '[PRE80]'
  id: totrans-658
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: You can then recheck the preceding output following a reboot to confirm that
    they have been updated (although they may have already been the latest).
  id: totrans-659
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，在重启后重新检查前面的输出，以确认它们已被更新（尽管它们可能已经是最新版本）。
- en: How to do it…
  id: totrans-660
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点…
- en: 'Before running any upgrades or installing any packages, it is worth ensuring
    you have the latest list of packages in the repository. The `update` command gets
    the latest list of available software and versions:'
  id: totrans-661
  prefs: []
  type: TYPE_NORMAL
  zh: 在运行任何升级或安装任何软件包之前，确保你有仓库中最新软件包列表是值得的。`update` 命令获取最新可用的软件和版本列表：
- en: '[PRE81]'
  id: totrans-662
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: 'If you just want to obtain an upgrade of your current packages, `upgrade` will
    bring them all up to date:'
  id: totrans-663
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你只想获取当前软件包的升级，`upgrade` 将将它们全部更新到最新：
- en: '[PRE82]'
  id: totrans-664
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: 'To ensure that you are running the latest release of Raspbian, you can run
    `dist-upgrade` (be warned; this can take an hour or so depending on the amount
    that needs to be upgraded). This will perform all the updates that `upgrade` will
    perform but will also remove redundant packages and clean up:'
  id: totrans-665
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保你正在运行最新的Raspbian版本，你可以运行`dist-upgrade`（警告：这可能需要一个小时左右，具体取决于需要升级的内容量）。这将执行`upgrade`将执行的所有更新，但还会删除冗余软件包并清理：
- en: '[PRE83]'
  id: totrans-666
  prefs: []
  type: TYPE_PRE
  zh: '[PRE83]'
- en: Both methods will upgrade the software, including the firmware used at boot
    and startup (`bootcode.bin` and `start.elf`).
  id: totrans-667
  prefs: []
  type: TYPE_NORMAL
  zh: 这两种方法都将升级软件，包括启动和启动时使用的固件（`bootcode.bin`和`start.elf`）。
- en: There's more…
  id: totrans-668
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: You will often find that you will want to perform a clean installation of your
    setup; however, this will mean you will have to install everything from scratch.
    To avoid this, I developed the Pi-Kitchen project ([https://github.com/PiHw/Pi-Kitchen](https://github.com/PiHw/Pi-Kitchen)),
    based on the groundwork of Kevin Hill. This aims to provide a flexible platform
    for creating customized setups that can be automatically deployed to an SD card.
  id: totrans-669
  prefs: []
  type: TYPE_NORMAL
  zh: 你经常会发现你想要对你的设置进行干净安装；然而，这意味着你将不得不从头开始安装一切。为了避免这种情况，我开发了Pi-Kitchen项目（[https://github.com/PiHw/Pi-Kitchen](https://github.com/PiHw/Pi-Kitchen)），基于Kevin
    Hill的基础工作。该项目旨在提供一个灵活的平台，用于创建可自动部署到SD卡的定制设置。
- en: '![There''s more…](img/6623OT_01_036.jpg)'
  id: totrans-670
  prefs: []
  type: TYPE_IMG
  zh: '![还有更多…](img/6623OT_01_036.jpg)'
- en: Pi Kitchen allows the Raspberry Pi be configured before powering up
  id: totrans-671
  prefs: []
  type: TYPE_NORMAL
  zh: Pi Kitchen允许在开机前配置Raspberry Pi
- en: The Pi-Kitchen allows a range of flavors to be configured, which can be selected
    from the NOOBS menu. Each flavor consists of a list of recipes, each providing
    a specific function or feature to the final operating system. Recipes can range
    from setting up custom drivers for Wi-Fi devices, to mapping shared drives on
    your network, to providing a fully functional web server out of the box, all combining
    to make your required setup.
  id: totrans-672
  prefs: []
  type: TYPE_NORMAL
  zh: Pi-Kitchen允许配置一系列口味，这些口味可以从NOOBS菜单中选择。每种口味都由一系列食谱组成，每个食谱都为最终操作系统提供特定的功能或特性。食谱的范围可以从为Wi-Fi设备设置自定义驱动程序，到映射网络上的共享驱动器，到提供开箱即用的完整功能Web服务器，所有这些组合起来使你的所需设置成为可能。
- en: This project is in beta, developed as a proof of concept, but once you have
    everything configured, it can be incredibly useful to deploy fully working setups
    directly onto an SD card. Ultimately, the project could be combined with Kevin
    Hill's advanced version of NOOBS, called PINN (short for PINN Is Not NOOBS), which
    aims to allow extra features for advanced users, such as allowing operating systems
    and configurations to be stored on your network or on an external USB memory stick.
  id: totrans-673
  prefs: []
  type: TYPE_NORMAL
  zh: 此项目处于测试阶段，作为一个概念验证而开发，但一旦你配置好一切，直接将完整工作的设置部署到SD卡上可以非常有用。最终，该项目可以与Kevin Hill的高级版本NOOBS相结合，称为PINN（代表PINN
    Is Not NOOBS），旨在为高级用户提供额外功能，例如允许操作系统和配置存储在网络或外部USB闪存驱动器上。
