<html><head></head><body>
<div><h1 class="chapter-number" id="_idParaDest-291"><a id="_idTextAnchor298"/>12</h1>
<h1 id="_idParaDest-292"><a id="_idTextAnchor299"/>Turning On Scientific Mode</h1>
<p>Welcome to the third section of the book. One of my favorite video game franchises is Sid Meier’s <em class="italic">Civilization</em>. It takes many days to complete a single game, which starts you off as the head of a civilization at the dawn of history. You progress through prehistoric eras, through medieval, renaissance, and industrial areas. With each new age comes unique challenges as players vie for various facets of global domination. The game truly speeds up once the players reach the information age. I can just hear my editor saying, <em class="italic">“Put down the video game, and type faster!”</em> OK, I will. Talking about the book, I feel like we’ve reached a similar milestone with this chapter. We’ve come a long way since our <em class="italic">hello world</em> message in <code>main.py</code> back in the first few chapters of this book.</p>
<p>PyCharm is aimed at Python developers, but PyCharm Professional really targets two groups: web developers and data scientists. The latter group seems like it is a little harder to nail down given JetBrains has multiple products for data science. Besides PyCharm Professional, JetBrains also makes a <a id="_idIndexMarker1004"/>separate IDE called <strong class="bold">DataSpell</strong> which is billed as <em class="italic">The IDE for Professional Data Scientists</em>. What gives?</p>
<p>I wondered the same thing. According to the company’s FAQ for DataSpell, PyCharm is supposed to support software developers who engage in data-sciency activities as part of their job as software developers. DataSpell is for professionals who are not developers, but who simply do analytics. There is some cross-over in terms of features, but unlike what we’ve seen with WebStorm and DataGrip which are fully embedded in PyCharm, DataSpell has features PyCharm doesn’t, and there are no plans to change that. They are targeting two different sets of professionals.</p>
<p>Support for scientific and analytical workflows entails turning on scientific mode in PyCharm. This opens up new UI layouts and tool panels you wouldn’t normally with scientific mode turned off. In this chapter, we’ll be covering the following topics:</p>
<ul>
<li>Starting a scientific project in PyCharm</li>
<li>Advanced features of PyCharm’s scientific projects</li>
</ul>
<p>By the end of this chapter, you will understand how these features can improve productivity in scientific computing projects. This chapter will serve as a general, high-level discussion on the various tools PyCharm offers and will help you understand scientific computing and how these tools are integrated and work with each other.</p>
<h1 id="_idParaDest-293"><a id="_idTextAnchor300"/>Technical requirements</h1>
<p>In order to proceed through this chapter, and indeed the rest of the book, you will need the following:</p>
<ul>
<li>Since we’re switching to the topic of data science, I’ll be switching my preferred Python distribution to Anaconda, which is a Python distribution tailored to data science workloads. You can find it, along with installation instructions for your operating system at <a href="https://anaconda.com">https://anaconda.com</a>.</li>
<li>Likewise, instead of the usual <code>pip</code>, I’ll be leveraging <code>conda</code>, which is Anaconda’s package manager. It is installed alongside Anaconda.</li>
<li>An installed and working copy of PyCharm. Installation was covered in <a href="B19644_02.xhtml#_idTextAnchor028"><em class="italic">Chapter 2</em></a><em class="italic">, Installation and Configuration</em>, in case you are jumping into the middle of the book.</li>
</ul>
<p>This book’s sample source code from GitHub. We covered cloning the code in <a href="B19644_02.xhtml#_idTextAnchor028"><em class="italic">Chapter 2</em></a><em class="italic">, Installation and Configuration</em>. You’ll find this chapter’s relevant code at <a href="https://github.com/PacktPublishing/Hands-On-Application-Development-with-PyCharm---Second-Edition/tree/main/chapter-12 ">https://github.com/PacktPublishing/Hands-On-Application-Development-with-PyCharm---Second-Edition/tree/main/chapter-12.</a></p>
<h1 id="_idParaDest-294"><a id="_idTextAnchor301"/>Creating a scientific project in PyCharm</h1>
<p>By now, you’re <a id="_idIndexMarker1005"/>intimately familiar with the New Project dialog in PyCharm. Let’s create a science project! Click <strong class="bold">File</strong> | <strong class="bold">New Project</strong>, and you’ll find a template called <strong class="bold">Scientific</strong>, as shown in <em class="italic">Figure 12</em><em class="italic">.1</em>:</p>
<div><div><img alt="Figure 12.1: Stand back! We’re about to do SCIENCE!" src="img/B19644_12_01.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.1: Stand back! We’re about to do SCIENCE!</p>
<p>I mentioned earlier, I will be using Anaconda for this section of the book because this is what most <a id="_idIndexMarker1006"/>data science pros use. The only interesting setting beyond the change in interpreter is the <strong class="bold">Data folder</strong> setting under <strong class="bold">More Settings</strong>. It is setting a folder in our soon-to-be-created project that will hold, you guessed it: data. More on this after we create the project. Go ahead and click <strong class="bold">Create</strong>.</p>
<p>Once the creation process is complete, you’ll find a setup like mine in <em class="italic">Figure 12</em><em class="italic">.2</em>:</p>
<div><div><img alt="Figure 12.2: Behold! We have created a science project in PyCharm!" src="img/B19644_12_02.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.2: Behold! We have created a science project in PyCharm!</p>
<p>Let’s talk about what just happened. We generated a project, per usual. We got a folder called data, which must be special because it is a different color than the rest. We got more empty folders for notebooks and models. We got a <code>main.py</code> file, a <code>requirements.txt</code> file, and a Markdown file called <code>README.md</code>, all of which are empty. We usually get some boilerplate code but not this time.</p>
<p>Each file and <a id="_idIndexMarker1007"/>folder serves a purpose. As I mentioned, the data folder must be special because it is a different color. Mine is highlighted in yellow. This folder is important because it is meant to contain data files for your scientific analysis. Since it isn’t code, and since your data files might be very large, PyCharm marks this folder as special to the project. You might have noticed the template folder in Flask and Django apps were also colored differently than the rest. There are special folders in many project types.</p>
<p>We can gain some clues about this in the project’s properties. I have the project properties window up in <em class="italic">Figure 12</em><em class="italic">.3</em>:</p>
<div><div><img alt="Figure 12.3: You can set several types of special folders in many of the project types in PyCharm including scientific projects" src="img/B19644_12_03.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.3: You can set several types of special folders in many of the project types in PyCharm including scientific projects</p>
<p>In this case, the data folder is excluded from the rest of the project. PyCharm will not index or scan this folder in any way. We need this for the data folder because it is fairly normal for your data files to be very large. There is no code in this folder, so really, there is no reason to <a id="_idIndexMarker1008"/>scan it for the purposes of providing the usual help and insights you’ve come to expect from code files. You might even consider having your revision control system disregard this folder as well, since it might not be appropriate to check your data into a repository for a number of reasons ranging from privacy issues, depending on the nature of the data, as well as file size. Git has limitations on the size of files it can handle, and GitHub will limit the size of your repository. The data folder is an obvious bloat that probably doesn’t need to be in the repo.</p>
<p>With that mystery solved, let’s look at the <code>requirements.txt</code> file. We have seen this before. This file is used by the Python project, regardless of which IDE you use, to track the library requirements for the project. Anytime you use a third-party library from PyPi, you need to include it in <code>requirements.txt</code>. This file should be checked into your repository so other developers can replicate your virtual environment. The file is empty, and we saw the tooling around <code>requirements.txt</code> in <a href="B19644_03.xhtml#_idTextAnchor052"><em class="italic">Chapter 3</em></a>.</p>
<p>There is something here we have not seen before: the <code>README.md</code> file. The <code>.md</code> extension indicates this is a Markdown file. Markdown is an alternative to HTML, which is a markup language. See what they did there? Markdown allows you to create a formatted text file without all the overhead of HTML. While you get rid of the overhead, you also lose a lot of capability. Markdown is just used to create documentation files. If you’ve ever <a id="_idIndexMarker1009"/>browsed a repository on GitHub, and the project has a snazzy landing page, you’re really looking at the <code>README.md</code> file rendered to HTML by GitHub and your browser. There’s an example of a nice <code>README.md</code> page for one of my repos in <em class="italic">Figure 12</em><em class="italic">.4</em>:</p>
<div><div><img alt="Figure 12.4: The README.md file gets rendered as the landing page on GitHub and is used to document the contents of the repository" src="img/B19644_12_04.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.4: The README.md file gets rendered as the landing page on GitHub and is used to document the contents of the repository</p>
<p>For this project, PyCharm has generated an empty <code>README.md</code> file. The <code>main.py</code> file is just a plain old Python file. Really, this is a very minimal project template.</p>
<h1 id="_idParaDest-295"><a id="_idTextAnchor302"/>Additional configuration for science projects in PyCharm</h1>
<p>PyCharm’s <a id="_idIndexMarker1010"/>out-of-the-box configuration is normally very complete. For scientific projects, though, there are some plugins you might want to add. We have a whole chapter on some amazing plugins later in the book, but you need them right now, so let’s take a look.</p>
<p>Plugins are installed using the PyCharm Marketplace. You can get to the Marketplace using the gear icon you normally use to get to settings. You’ll recognize it in <em class="italic">Figure 12</em><em class="italic">.5</em>:</p>
<div><div><img alt="Figure 12.5: The plugins menu option will take you to the plugins window which includes the PyCharm Marketplace" src="img/B19644_12_05.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.5: The plugins menu option will take you to the plugins window which includes the PyCharm Marketplace</p>
<p>Open <a id="_idIndexMarker1011"/>the <strong class="bold">Plugins</strong> window. You can see mine in <em class="italic">Figure 12</em><em class="italic">.6</em>:</p>
<div><div><img alt="Figure 12.6: The Marketplace allows you to find all kinds of plugins for PyCharm and other JetBrains IDEs" src="img/B19644_12_06.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.6: The Marketplace allows you to find all kinds of plugins for PyCharm and other JetBrains IDEs</p>
<p>Note it takes you straight to the <strong class="bold">Marketplace</strong> tab. This reminds me of the inevitable gift shop at the end of every museum tour I’ve ever taken. There’s a tab to the right that lets you see what is already installed. That’s boring though, right? It is more enticing to browse what <a id="_idIndexMarker1012"/>we don’t yet have. Many of the plugins here are free, and some are not. Likewise, many of the plugins here are well documented and supported by developers who carefully craft their Marketplace offering. Some are just short descriptions with a title. Let’s go shopping!</p>
<h2 id="_idParaDest-296"><a id="_idTextAnchor303"/>Markdown plugins</h2>
<p>Your first stop is to find a good Markdown plugin. Markdown isn’t exactly rocket science, even though <a id="_idIndexMarker1013"/>we find it in a science project. However, a good Markdown plugin will render your Markdown so you can see what it will look like when <a id="_idIndexMarker1014"/>the Markdown code is converted to formatted text.</p>
<p>To find a Markdown plugin you need to search using the <strong class="bold">Search</strong> box indicated in <em class="italic">Figure 12</em><em class="italic">.7</em>:</p>
<div><div><img alt="Figure 12.7: Search here for plugins and avoid the temptation of the search box that helps you find settings" src="img/B19644_12_07.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.7: Search here for plugins and avoid the temptation of the search box that helps you find settings</p>
<p>As it happens, JetBrains now bundles a Markdown plugin in the default installation. They haven’t always done that. You can see there are alternatives to explore. I’m just going to use the bundled one. If you have an older version of PyCharm, you might need to install this. In this case, there will be an <strong class="bold">Install</strong> button as you can see with the others.</p>
<p>Let’s try it out. Exit the settings window and open the <code>README.md</code> file. Add the following code to your <code>README.md</code> file:</p>
<pre class="source-code">
# The Science Project
Welcome to my science project!</pre> <p>You should <a id="_idIndexMarker1015"/>see your Markdown code on the left, and the rendered <a id="_idIndexMarker1016"/>preview on the right, as shown in <em class="italic">Figure 12</em><em class="italic">.8</em>:</p>
<div><div><img alt="Figure 12.8: Markdown code is on the left; the rendered result is on the right" src="img/B19644_12_08.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.8: Markdown code is on the left; the rendered result is on the right</p>
<p>You can change the layout of the preview, or hide it altogether using the buttons on the top right of the Markdown editor as shown in <em class="italic">Figure 12</em><em class="italic">.9</em>:</p>
<div><div><img alt="Figure 12.9: You can adjust the layout of the preview window" src="img/B19644_12_09.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.9: You can adjust the layout of the preview window</p>
<p>Clicking <a id="_idIndexMarker1017"/>the left button hides the preview. Pushing the right <a id="_idIndexMarker1018"/>one hides the code. You can click the button in the middle once to toggle the preview alongside the code. Click it again, and you’ll get code and preview stacked on top of one another.</p>
<h2 id="_idParaDest-297"><a id="_idTextAnchor304"/>Adding images</h2>
<p>A needed characteristic of a good Markdown editor is the ability to easily add images. In PyCharm, if you <a id="_idIndexMarker1019"/>need images in your Markdown, start by making a folder in your project called assets. Copy your image files to this folder. Then, just drag the image and drop it in the editor. In <em class="italic">Figure 12</em><em class="italic">.10</em>, I’m dragging an image from my assets folder and then dropping it in my Markdown editor:</p>
<div><div><img alt="Figure 12.10: Drag images from outside PyCharm and drop them into the code to include them in your Markdown" src="img/B19644_12_10.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.10: Drag images from outside PyCharm and drop them into the code to include them in your Markdown</p>
<p>The result can be seen in <em class="italic">Figure 12</em><em class="italic">.11</em>:</p>
<div><div><img alt="Figure 12.11: The dragged image appears in your code and in the preview" src="img/B19644_12_11.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.11: The dragged image appears in your code and in the preview</p>
<p>All in all, the default <a id="_idIndexMarker1020"/>plugin is pretty good. Some of the others have more advanced features, but really the only one I’d want is one that converts the Markdown to other formats. If you need that, a few of the plugins in the marketplace can do that.</p>
<h2 id="_idParaDest-298"><a id="_idTextAnchor305"/>Installing the CSV plugin</h2>
<p>A common <a id="_idIndexMarker1021"/>format for data <a id="_idIndexMarker1022"/>storage is the <strong class="bold">comma-separated values</strong> (<strong class="bold">CSV</strong>) format. This is <a id="_idIndexMarker1023"/>a format that is supported by every spreadsheet <a id="_idIndexMarker1024"/>program ever devised. The marketplace has a CSV function that allows you to open CSVs and similar files such as <strong class="bold">tab-separated values</strong> (<strong class="bold">TSV</strong>) in a spreadsheet-like interface. You can see the Marketplace page for it in <em class="italic">Figure 12</em><em class="italic">.12</em>:</p>
<div><div><img alt="Figure 12.12: You’ll probably be using CSV files at some point. Luckily, there’s a plugin for that" src="img/B19644_12_12.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.12: You’ll probably be using CSV files at some point. Luckily, there’s a plugin for that</p>
<p>After you <a id="_idIndexMarker1025"/>click the install button for the CSV Editor plugin, you’ll be <a id="_idIndexMarker1026"/>prompted to restart the IDE. This is very common. After you restart, you can try it out with any of your own CSV files, or you can use my sample of FDA study data in the sample code’s data folder. The CSV plugin renders my data in full color as seen in <em class="italic">Figure 12</em><em class="italic">.13</em>:</p>
<div><div><img alt="Figure 12.13: The CSV Editor plugin renders data in columns in different colors. It’s like having a pretty spreadsheet embedded in your IDE" src="img/B19644_12_13.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.13: The CSV Editor plugin renders data in columns in different colors. It’s like having a pretty spreadsheet embedded in your IDE</p>
<p>Naturally, you can <a id="_idIndexMarker1027"/>edit the data, but this isn’t a spreadsheet. Don’t <a id="_idIndexMarker1028"/>expect to be able to add formulas and expressions to your cells. At the bottom you’ll see you can switch between the <strong class="bold">Table Editor</strong> view the <strong class="bold">Text view</strong>.</p>
<p>There’s one more you’re going to want for sure and that’s the cell mode plugin.</p>
<h2 id="_idParaDest-299"><a id="_idTextAnchor306"/>Installing the cell mode plugin</h2>
<p>I’m <a id="_idIndexMarker1029"/>not going into great <a id="_idIndexMarker1030"/>depth on what the cell mode plugin does just yet. Just trust me when I say it is extremely handy when you are working with PyCharm code cells, which we’ll be covering shortly. Since we’re already in the Marketplace, let’s grab it now. <em class="italic">Figure 12</em><em class="italic">.14</em> shows the Marketplace page for the cell mode plugin:</p>
<div><div><img alt="Figure 12.14: The cell mode plugin will make working with code cells easy a little later in this chapter" src="img/B19644_12_14.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.14: The cell mode plugin will make working with code cells easy a little later in this chapter</p>
<p>Install <a id="_idIndexMarker1031"/>it by clicking the <strong class="bold">Install</strong> button. At this point, you <a id="_idIndexMarker1032"/>have PyCharm fairly kitted out for data work.</p>
<h1 id="_idParaDest-300"><a id="_idTextAnchor307"/>Installing packages</h1>
<p>We are getting <a id="_idIndexMarker1033"/>ready to do some science, but first, we need to set some requirements for our project. We’ve covered this in earlier chapters, but we’ll quickly review it here.</p>
<p>The newest way to add packages to any Python project is to use the <strong class="bold">Python Packages</strong> panel shown in <em class="italic">Figure 12</em><em class="italic">.15</em>:</p>
<div><div><img alt="Figure 12.15: Use the Python Packages panel to manage Python packages. If it isn’t on the right-hand toolbar, you can add it" src="img/B19644_12_15.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.15: Use the Python Packages panel to manage Python packages. If it isn’t on the right-hand toolbar, you can add it</p>
<p>If you’ve used <a id="_idIndexMarker1034"/>the panel before, it will be on the right-hand toolbar. If you haven’t used it before, you can add it by clicking the three dots, and then picking the <strong class="bold">Python Packages</strong> option. Once you’ve located the button to open the panel, you’ll find the <strong class="bold">Search</strong> box shown in <em class="italic">Figure 12</em><em class="italic">.16</em>:</p>
<div><div><img alt="Figure 12.16: You can search packages from PyPI easily from this panel and add them using conda" src="img/B19644_12_16.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.16: You can search packages from PyPI easily from this panel and add them using conda</p>
<p>We’re going <a id="_idIndexMarker1035"/>to add <code>numpy</code> and <code>matplotlib</code> to our project. Type each into the <strong class="bold">Search</strong> box indicated in <em class="italic">Figure 12</em><em class="italic">.17</em>, then install the package using the <strong class="bold">Install with conda</strong> button. If you’ve opted to stick with vanilla Python, the button will say <strong class="bold">Install </strong><strong class="bold">with pip</strong>.</p>
<h2 id="_idParaDest-301"><a id="_idTextAnchor308"/>Backfill your requirements.txt file</h2>
<p>Now that you have the two packages installed, open the <code>requirements.txt</code> file. PyCharm will <a id="_idIndexMarker1036"/>let you know that the requirements installed in the conda environment don’t match the empty file. <em class="italic">Figure 12</em><em class="italic">.17</em> shows you the option to add the packages we just installed to the <code>requirements.txt</code> file automatically.</p>
<div><div><img alt="Figure 12.17: PyCharm helps you keep your requirements.txt file up to date" src="img/B19644_12_17.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.17: PyCharm helps you keep your requirements.txt file up to date</p>
<p>Click the link button to update your requirements file.</p>
<h1 id="_idParaDest-302"><a id="_idTextAnchor309"/>Adding some sciency code</h1>
<p>My editor <a id="_idIndexMarker1037"/>keeps saying “sciency” isn’t a word. A wise man once said, “Science isn’t about why. It’s about why not!?” I’m going to keep using it and if you’re actually reading this, it means I got away with it.</p>
<p>We’ve set up the IDE, and installed our required packages. Let’s open up <code>main.py</code> and add some code so we can see PyCharm strut its stuff! In <code>main.py</code>, add this code:</p>
<pre class="source-code">
import numpy as np
import matplotlib.pyplot as plt</pre> <p>These first <a id="_idIndexMarker1038"/>two imports just bring in <code>numpy</code> and <code>matplotlib</code> with aliases. It turns out scientists hate typing more than normal developers:</p>
<pre class="source-code">
N = 100
x = np.random.normal(0, 1, N)
y = np.random.normal(2, 3, N)
#%% plot data in histograms
plt.hist(x, alpha=0.5, label='x')
plt.hist(y, alpha=0.5, label='y')
plt.legend(loc='upper right')
plt.show()</pre> <p>Using NumPy, we are simply creating two sample 100-element datasets from normal distributions. The values of <code>x</code> are created from a distribution with a mean of 0 and a standard deviation of 1, while <code>y</code> is from a distribution with a mean of 2 and a standard deviation of 3. Then, we draw their corresponding histograms using Matplotlib. Run the program per usual and note the results in <em class="italic">Figure 12</em><em class="italic">.18</em>:</p>
<div><div><img alt="Figure 12.18: Click the run button (1) and the matplotlib graphical plot is displayed in SciView" src="img/B19644_12_18.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.18: Click the run button (1) and the matplotlib graphical plot is displayed in SciView</p>
<p>Our Python <a id="_idIndexMarker1039"/>script ran, but doing so triggered SciView to turn on. SciView is the centerpiece of PyCharm’s data analytics feature set. It allows you to view plots alongside the complex API documentation common to libraries such as NumPy, pandas, and PyTorch.</p>
<p>I highlighted the run button at <strong class="bold">(1)</strong> in <em class="italic">Figure 12</em><em class="italic">.18</em> in case you’re joining us late, and you skipped the earlier chapters on running your code in the IDE. The icon at <strong class="bold">(2)</strong> indicates SciView is turned on. You can toggle it on or off just like any other panel. When SciView is turned on, you get a panel for visualizations <strong class="bold">(3)</strong> and a panel for documentation <strong class="bold">(4)</strong>. We’ll be working with these tools more over the next few chapters.</p>
<h1 id="_idParaDest-303"><a id="_idTextAnchor310"/>Toggling scientific mode</h1>
<p>I have mentioned the term <em class="italic">scientific mode</em> a couple of times before; now, we will see the significance <a id="_idIndexMarker1040"/>of this mode in PyCharm projects.</p>
<p><strong class="bold">Scientific mode</strong> consists of <a id="_idIndexMarker1041"/>multiple components that we will be exploring in this and the upcoming chapters, the most notable being the <strong class="bold">SciView</strong> and <strong class="bold">Documentation</strong> panels. It is important to note that this special mode in PyCharm is not equivalent to having a scientific project. Moreover, it is more of a configuration setting where various PyCharm features that support scientific computing are easier to access and use.</p>
<p>There are a great many programs that have different UI configurations depending on how you intend to use the software. Adobe Photoshop has different view sets for photographers versus web designers. Many browsers have chromeless options or modes optimized for distraction-free reading. PyCharm itself has a <em class="italic">Zen mode,</em> which removes all of the UI except for the editor. You can see it in <em class="italic">Figure 12</em><em class="italic">.19</em>:</p>
<div><div><img alt="Figure 12.19: In Zen mode’s embrace. PyCharm’s code dances with peace. Clarity in lines" src="img/B19644_12_19.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.19: In Zen mode’s embrace. PyCharm’s code dances with peace. Clarity in lines</p>
<p>If you’re interested in Zen mode, you’ll find it by clicking <strong class="bold">View</strong> | <strong class="bold">Appearance</strong> | <strong class="bold">Enter Zen</strong> mode from <a id="_idIndexMarker1042"/>the main menu. That’s nice and all, but we’re here for scientific mode and the point I was making is that this mode is more of a configuration of the appearance of PyCharm rather than being dedicated tool panels unique to the scientific project. You can enable scientific mode in any project type. To turn it in, click <strong class="bold">View</strong> | <strong class="bold">Scientific Mode</strong>, as shown in <em class="italic">Figure 12</em><em class="italic">.20</em>:</p>
<div><div><img alt="Figure 12.20: You can toggle Scientific Mode on the view menu. When ﻿scientific mode is on, you can toggle the two panels using the buttons on the toolbar to the right edge of the screen" src="img/B19644_12_20.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.20: You can toggle Scientific Mode on the view menu. When scientific mode is on, you can toggle the two panels using the buttons on the toolbar to the right edge of the screen</p>
<p>PyCharm is also a little bit nosy. If it sees you are using NumPy, it prompts you to turn scientific mode on with a little toast in the bottom-right corner of the IDE. See <em class="italic">Figure 12</em><em class="italic">.21</em>:</p>
<div><div><img alt="Figure 12.21: Your Pythonic big brother is watching you, but at least it’s trying to be helpful" src="img/B19644_12_21.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.21: Your Pythonic big brother is watching you, but at least it’s trying to be helpful</p>
<p>Overall, scientific mode <a id="_idIndexMarker1043"/>offers an intuitive interface that can improve your productivity in scientific computing projects. In the next section, we will examine other advanced features within a scientific project in more detail, namely the <strong class="bold">Documentation</strong> panel and PyCharm’s code cells.</p>
<h1 id="_idParaDest-304"><a id="_idTextAnchor311"/>Understanding the advanced features of PyCharm’s scientific projects</h1>
<p>Equipped <a id="_idIndexMarker1044"/>with the features we discussed in the previous section, you can navigate and work with PyCharm’s scientific projects efficiently and productively. However, there are still other subtle features that PyCharm offers that can prove to be useful in this context. First, we will consider the <strong class="bold">Documentation</strong> panel and its usage.</p>
<h2 id="_idParaDest-305"><a id="_idTextAnchor312"/>The documentation viewer</h2>
<p>Documentation is an essential part of programming and software development, and PyCharm <a id="_idIndexMarker1045"/>offers the most powerful and straightforward features to support the task of working with documentation in Python. We saw it in action first in <a href="B19644_04.xhtml#_idTextAnchor077"><em class="italic">Chapter 4</em></a>, <em class="italic">Editing and Formatting with Ease </em><em class="italic">in PyCharm</em>.</p>
<p>In a scientific project, the <strong class="bold">Documentation</strong> panel, as we have seen, is pinned as one of the main panels of the project window. This documentation viewer displays real-time documentation data in a dynamic way. Specifically, as you move your caret to a particular method or function call in the editor, the <strong class="bold">Documentation</strong> panel will show the official documentation corresponding to that method or function.</p>
<p>Go back into the code we wrote earlier, and place your cursor on line 10. Place your cursor in the word legend and the <strong class="bold">Documentation</strong> window will instantly display the documentation for that method, which is part of the Matplotlib library. You can see this in <em class="italic">Figure 12</em><em class="italic">.22</em>:</p>
<div><div><img alt="Figure 12.22: Click on pretty much anything, and the Documentation panel will show documentation on any property or method" src="img/B19644_12_22.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.22: Click on pretty much anything, and the Documentation panel will show documentation on any property or method</p>
<p>The thing with these scientific libraries that are popular with data science is they can have complicated data structures being used as arguments and return types. Having instance reference material is extremely useful. I’d recommend a larger screen to truly take advantage of it. My screenshot in <em class="italic">Figure 12</em><em class="italic">.22</em> is a little crowded only because it’s on a smaller screen with the fonts dialed up to make them clear for the printed book.</p>
<p>Besides showing you documentation for wherever you click, the <strong class="bold">Documentation</strong> panel will <a id="_idIndexMarker1046"/>update as you type your code. Not only do you get the usual auto-completion, but you see the full documentation at the same time. The <strong class="bold">Document</strong> panel has a few configuration options reached by clicking the three vertical dots at the top of the panel, shown in <em class="italic">Figure 12</em><em class="italic">.23</em>:</p>
<div><div><img alt="Figure 12.23: There are a few configuration options for the Documentation panel found beneath the menu at the top of the panel" src="img/B19644_12_23.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.23: There are a few configuration options for the Documentation panel found beneath the menu at the top of the panel</p>
<p>Next, we will examine a unique feature in PyCharm when it comes to executing Python code, that is, implementing code cells.</p>
<h2 id="_idParaDest-306"><a id="_idTextAnchor313"/>Using code cells in PyCharm</h2>
<p>PyCharm’s <a id="_idIndexMarker1047"/>code cells are a way to separate and execute different portions of a large Python program sequentially. You’ll <a id="_idIndexMarker1048"/>recognize this feature if you have ever used the <strong class="bold">Jupyter Notebook</strong>. Code cells in PyCharm are basically a trimmed-down version of that tool. PyCharm also has direct support for Jupyter notebooks, but I’m saving that for the next chapter.</p>
<p>The needs of data science are different from the needs of a general software developer. A data scientist isn’t worried about writing shipable code with the same architectural and scaling constraints as a software developer. They also don’t deal with your typical variables that are mostly primitives, or smallish objects with a handful of properties and methods. They deal in volume, and the programs they write are algorithmic. Don’t get overly wrapped up <a id="_idIndexMarker1049"/>around the word <strong class="bold">algorithm</strong>. An <em class="italic">algorithm</em> is simply a set of steps that make up a process. Sure, the algorithm that powers Google’s search business, PageRank, is an amazing feat of proprietary engineering. It’s an algorithm, but so is the recipe for a good old peanut butter and jelly sandwich. Complexity isn’t a requirement, in fact the best algorithms are usually simple.</p>
<p>Data scientists study problems by collecting, filtering, and processing large amounts of data using a series of aggregate steps. Each step is very discrete with an input and an output. Code cells make it easy to construct and work with these discrete steps rather than having to deal with complicated code structures the way a regular software developer would.</p>
<h2 id="_idParaDest-307"><a id="_idTextAnchor314"/>Using PyCharm code cells</h2>
<p>Code cells <a id="_idIndexMarker1050"/>in PyCharm are defined by lines of code that start with the following characters: <code>#%%</code>. These lines are treated as standard comments in the low-level execution of Python, but PyCharm will recognize them as code cell separators in its editor. Let’s see this feature in action.</p>
<p>Let’s go back to our demo code from earlier and make some small changes:</p>
<pre class="source-code">
import numpy as np
import matplotlib.pyplot as plt
<strong class="bold">#%% generate random data</strong>
N = 100
x = np.random.normal(0, 1, N)
y = np.random.normal(2, 3, N)
<strong class="bold">#%% plot data in histograms</strong>
plt.hist(x, alpha=0.5, label='x')
plt.hist(y, alpha=0.5, label='y')
plt.legend(loc='upper right')
plt.show()</pre> <p>Note the addition of the two lines beginning with <code>#%%</code>. Those lines define our code cells. Moreover, they also serve as regular comments that explain what the code block is doing. Now <a id="_idIndexMarker1051"/>look at how the PyCharm UI has changed. You should now see some run buttons appear in the gutter, as shown in <em class="italic">Figure 12</em><em class="italic">.24</em>:</p>
<div><div><img alt="Figure 12.24: Run buttons appear in the gutter in response to the special comment format" src="img/B19644_12_24.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.24: Run buttons appear in the gutter in response to the special comment format</p>
<p>Now, we can run each cell and review the result before running the next. If we need to make an adjustment in the middle cell, we can re-run that cell and those that are subsequent. When you click the run buttons, the code is being executed in the PyCharm console. If your console isn’t visible, you can get to it by clicking <strong class="bold">View</strong> | <strong class="bold">Tool Windows</strong> | <strong class="bold">Python Console</strong>. With the <strong class="bold">Python Console</strong> panel open you can inspect the code as it runs, as shown in <em class="italic">Figure 12</em><em class="italic">.25</em>:</p>
<div><div><img alt="Figure 12.25: You can see the code is being run in the console. There is an inspection panel allowing you to see what happened after the cell executed" src="img/B19644_12_25.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.25: You can see the code is being run in the console. There is an inspection panel allowing you to see what happened after the cell executed</p>
<p>As each <a id="_idIndexMarker1052"/>step runs, you can see the code execute in the console window. Remember, the console is accessing Python REPL, it isn’t a terminal window. We discussed this in <a href="B19644_03.xhtml#_idTextAnchor052"><em class="italic">Chapter 3</em></a>. The <strong class="bold">Python Console</strong> window has an inspection panel allowing you to inspect state much as you would if you were debugging.</p>
<p>Since it is a PyCharm console that is executing your code, if you need to start over, you can just kill the console and run your steps again. This will spawn a fresh console.</p>
<h2 id="_idParaDest-308"><a id="_idTextAnchor315"/>The cell mode plugin</h2>
<p>Earlier, when <a id="_idIndexMarker1053"/>we were discussing <a id="_idIndexMarker1054"/>some cool plugins you can use for data science work, we installed a plugin called cell mode. The cell mode plugin extends the features of code cells.</p>
<p>For starters, with the cell mode plugin, you need to use double pound/hashtag signs (<code>##</code>) instead <a id="_idIndexMarker1055"/>of the usual <code>#%%</code>. When <a id="_idIndexMarker1056"/>you do this, the plugin takes over and gives you some extra run options. Take a look at <em class="italic">Figure 12</em><em class="italic">.26</em>:</p>
<div><div><img alt="Figure 12.26: This time when you click you get some additional options" src="img/B19644_12_26.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.26: This time when you click you get some additional options</p>
<p>Your run buttons now allow you to run the cell and immediately jump to the next, rather than simply stopping at the bottom of the cell you just ran. <em class="italic">Figure 12</em><em class="italic">.27</em> shows you have some additional control at the menu level:</p>
<div><div><img alt="Figure 12.27: The cell mode plugin adds additional menu items to the Code menu" src="img/B19644_12_27.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 12.27: The cell mode plugin adds additional menu items to the Code menu</p>
<p>When you <a id="_idIndexMarker1057"/>click <strong class="bold">Code</strong> | <strong class="bold">Cell Mode</strong> you get <a id="_idIndexMarker1058"/>even more granular run options for your code cells. Overall, we can see that this plugin offers all the advantages of using Jupyter notebooks without having to actually switch to Jupyter applications.</p>
<h1 id="_idParaDest-309"><a id="_idTextAnchor316"/>Summary</h1>
<p>A scientific project in PyCharm is created with a general structure that is common among projects in real life, including good practices such as a data folder that is excluded from version control, the <code>README.md</code> file, and the <code>requirements.txt</code> file. As you can imagine, having to manually create this setup for every project can prove to be difficult and time-consuming. This feature helps PyCharm users get right down to the development process after the project has been created so that they don’t have to worry about taking care of miscellaneous details. This will allow us to be faster and more productive in our development workflow.</p>
<p>Additionally, PyCharm’s Scientific mode includes various features that support the development process of scientific computing or data science projects, namely the Documentation and SciView panels. In combination with this mode, you can also take advantage of other powerful features, such as code cells and the CSV plugin, to streamline various tasks and effectively improve your productivity in data science projects.</p>
<p>However, these features only mark the beginning of what PyCharm has to offer when assisting us in data-related projects. Building on these topics, in the next chapter, we will look into the usage of the SciView panel and Jupyter notebooks, which are a big part of the Python data science ecosystem within PyCharm.</p>
<p>Be sure to check out the companion website for the book at <a href="https://www.pycharm-book.com">https://www.pycharm-book.com</a>.</p>
<h1 id="_idParaDest-310"><a id="_idTextAnchor317"/>Questions</h1>
<ol>
<li>What is the Markdown language? What purpose does a <code>README.md</code> file in a GitHub repository serve?</li>
<li>Why is the data folder in a scientific project in PyCharm excluded from version control?</li>
<li>How can you turn scientific mode on and off in PyCharm? What effect will this have on a given project window?</li>
<li>What features are available within PyCharm’s <strong class="bold">Documentation</strong> panel?</li>
<li>What are code cells in PyCharm and how can you implement them?</li>
<li>What features are available within the CSV plugin in PyCharm?</li>
</ol>
</div>
</body></html>