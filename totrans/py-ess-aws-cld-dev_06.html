<html><head></head><body>
<div id="sbo-rt-content"><div id="_idContainer145">
<h1 class="chapter-number" id="_idParaDest-65"><a id="_idTextAnchor010"/>6</h1>
<h1 id="_idParaDest-66">Deploying Python Applications on Elastic Beanstalk</h1>
<p>In this chapter, we are going to learn how to deploy Python applications on <strong class="bold">Elastic Beanstalk</strong>. Elastic Beanstalk is an AWS service that allows you to deploy web applications in the cloud. Basically, you don’t need to provision a server; Elastic Beanstalk provisions an infrastructure in the backend and deploys your web application. Another advantage of Elastic Beanstalk is being able to scale up your web applications when there are a large number of requests from <span class="No-Break">the user.</span></p>
<p>This chapter covers the <span class="No-Break">following topics:</span></p>
<ul>
<li>What is <span class="No-Break">Elastic Beanstalk?</span></li>
<li>Creating a Python <span class="No-Break">web application</span></li>
<li>Deploying a simple Python web application on <span class="No-Break">Elastic Beanstalk</span></li>
</ul>
<h1 id="_idParaDest-67">What is Elastic Beanstalk?</h1>
<p>Elastic Beanstalk<a id="_idIndexMarker189"/> is an AWS service that is used to deploy web applications in the cloud. It supports multiple web application frameworks such as Python, Java, .NET, PHP, Node.js, Ruby, and Go. Once you deploy your application, Elastic Beanstalk manages the infrastructure in order to deploy, run, scale, and <span class="No-Break">monitor applications.</span></p>
<h2 id="_idParaDest-68">Features of Elastic Beanstalk</h2>
<p>Let’s take a look at the high-level features<a id="_idIndexMarker190"/> of <span class="No-Break">Elastic Beanstalk:</span></p>
<ul>
<li>It supports monitoring and logging; hence, you can easily track how the application is behaving. For example, if an application goes down, you can check via <span class="No-Break">Elastic Beanstalk.</span></li>
<li>It manages updates for infrastructure. In some cases, your application should be updated with the latest improvements in Python or other libraries and Elastic Beanstalk manages the updates with you <span class="No-Break">in control.</span></li>
<li>It manages scaling features up and scaling features down; hence, if your application has too many requests, it adds more resources, and your application can then meet the requests. On the other hand, if there is less demand, it reduces the resources and helps to reduce <span class="No-Break">the cost.</span></li>
<li>It supports some financial data or protected health information standards; hence, you can use Elastic Beanstalk<a id="_idIndexMarker191"/> for financial applications as well as health <span class="No-Break">information applications.</span></li>
</ul>
<p>We have taken a look at the basic features of Elastic Beanstalk, and we will now start to implement a sample web application with Python to deploy via <span class="No-Break">Elastic Beanstalk.</span></p>
<h1 id="_idParaDest-69">Creating a Python web application</h1>
<p>We are going to create<a id="_idIndexMarker192"/> a sample web application with Python. For that purpose, <strong class="bold">Flask</strong> will be used as a web application<a id="_idIndexMarker193"/> framework <span class="No-Break">for Python.</span></p>
<p>Flask is a web application framework that is written with Python. It has the required libraries to start implementing web applications as a beginner. In the following code block, you can see a sample "<strong class="bold">Hello, World!</strong>" web application <span class="No-Break">with Flask:</span></p>
<pre class="source-code">
from flask import Flask
app = Flask(__name__)
@app.route('/')
def hello_world():
    return 'Hello, World!'</pre>
<p>The code imports the Flask library and runs the application on localhost port <strong class="source-inline">5000</strong>. When<a id="_idIndexMarker194"/> you run it, you will see "<strong class="bold">Hello World!</strong>" in <span class="No-Break">the browser.</span></p>
<p>You can also check the Flask framework<a id="_idIndexMarker195"/> at the following <span class="No-Break">website: </span><a href="https://flask.palletsprojects.com/en/2.2.x/"><span class="No-Break">https://flask.palletsprojects.com/en/2.2.x/</span></a><span class="No-Break">.</span></p>
<p>As the next step, we are going to deploy a Python web application to <span class="No-Break">Elastic Beanstalk.</span></p>
<h1 id="_idParaDest-70">Deploying a Python web application on Elastic Beanstalk</h1>
<p>In this section, we are going<a id="_idIndexMarker196"/> to deploy a sample Python web application<a id="_idIndexMarker197"/> on <span class="No-Break">Elastic Beanstalk:</span></p>
<ol>
<li>Type <strong class="source-inline">Elastic Beanstalk</strong> in the AWS Management Console search box and click <span class="No-Break"><strong class="bold">Elastic Beanstalk</strong></span><span class="No-Break">:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer128">
<img alt="" height="296" src="image/Figure_6.1_B19195.jpg" width="1099"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.1 – AWS Console</p>
<p>You will see the main page of Elastic Beanstalk:</p>
<div>
<div class="IMG---Figure" id="_idContainer129">
<img alt="" height="417" src="image/Figure_6.2_B19195.jpg" width="1099"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.2 – Elastic Beanstalk</p>
<ol>
<li value="2">Click <strong class="bold">Environments</strong> on the left side<a id="_idIndexMarker198"/> in order to create<a id="_idIndexMarker199"/> a new Python web application, and then click the <strong class="bold">Create a new </strong><span class="No-Break"><strong class="bold">environment</strong></span><span class="No-Break"> button:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer130">
<img alt="" height="355" src="image/Figure_6.3_B19195.jpg" width="1100"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.3 – Environment list</p>
<ol>
<li value="3">In the next panel, we are going to select what type of environment we want. Since we would like to deploy a web application, select <strong class="bold">Web </strong><span class="No-Break"><strong class="bold">server environment</strong></span><span class="No-Break">:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer131">
<img alt="" height="522" src="image/Figure_6.4_B19195.jpg" width="1099"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.4 – Selecting an environment</p>
<ol>
<li value="4">I have named<a id="_idIndexMarker200"/> the file <strong class="source-inline">Python Web app</strong>. You can name<a id="_idIndexMarker201"/> it whatever <span class="No-Break">you want:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer132">
<img alt="" height="712" src="image/Figure_6.5_B19195.jpg" width="1101"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.5 – Naming the application</p>
<ol>
<li value="5">After naming the application, scroll down and fill in the <strong class="bold">Environment name</strong> input field. Keep in mind<a id="_idIndexMarker202"/> that this can also be named by the AWS Console by default. You have the option<a id="_idIndexMarker203"/> to <span class="No-Break">change it.</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer133">
<img alt="" height="748" src="image/Figure_6.6_B19195.jpg" width="1101"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.6 – Environment name field</p>
<ol>
<li value="6">When you scroll down further, there is another input field to fill out – <strong class="bold">Domain</strong>. The domain will be used to access your web application via the browser. In this example, we will enter <strong class="source-inline">test-training</strong> and check the availability by clicking the <strong class="bold">Check </strong><span class="No-Break"><strong class="bold">availability</strong></span><span class="No-Break"> button:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer134">
<img alt="" height="466" src="image/Figure_6.7_B19195.jpg" width="1030"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.7 – Naming the domain</p>
<ol>
<li value="7">Once you find the available<a id="_idIndexMarker204"/> domain name, scroll <a id="_idIndexMarker205"/>down, and locate the <strong class="bold">Platform</strong> panel. In this panel, we need to select the web application framework. Elastic Beanstalk supports different web environments such as Java, PHP, Node.js, Python, and so on. We will select the Python platform to deploy a Python web application. Depending on which Python platform you are working on, you can select it from the <strong class="bold">Platform branch</strong> field. In this example, I am selecting the <strong class="bold">Python 3.8 running on 64bit Amazon Linux 2</strong> version. <strong class="bold">Platform version</strong> consists of some updates and patches according to the platform. You can proceed with the latest version; for example, if AWS finds a security patch, it creates a <span class="No-Break">new version:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer135">
<img alt="" height="588" src="image/Figure_6.8_B19195.jpg" width="1043"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.8 – Selecting the platform</p>
<ol>
<li value="8">Scroll down<a id="_idIndexMarker206"/> and you will see the latest<a id="_idIndexMarker207"/> panel on the page. In this example, we will proceed with <strong class="bold">Sample application</strong> and click <span class="No-Break"><strong class="bold">Create environment</strong></span><span class="No-Break">:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer136">
<img alt="" height="399" src="image/Figure_6.9_B19195.jpg" width="1075"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.9 – Finalizing the platform</p>
<ol>
<li value="9">Once you click <strong class="bold">Create environment</strong>, you will see the logs. Elastic Beanstalk creates the platform and deploys <span class="No-Break">sample applications:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer137">
<img alt="" height="685" src="image/Figure_6.10_B19195.jpg" width="1074"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.10 – Logs of the platform</p>
<p>Wait a few minutes<a id="_idIndexMarker208"/> so that the application<a id="_idIndexMarker209"/> is deployed. Once deployed, you will be presented with the following screen:</p>
<div>
<div class="IMG---Figure" id="_idContainer138">
<img alt="" height="599" src="image/Figure_6.11_B19195.jpg" width="1083"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.11 – Application deployment</p>
<p>It seems like the sample<a id="_idIndexMarker210"/> application has been deployed<a id="_idIndexMarker211"/> and is running properly. Click the domain link to see the running application. In the preceding screenshot, the domain link <span class="No-Break">is </span><a href="http://test-training.us-east-2.elasticbeanstalk.com"><span class="No-Break">test-training.us-east-2.elasticbeanstalk.com</span></a><span class="No-Break">:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer139">
<img alt="" height="465" src="image/Figure_6.12_B19195.jpg" width="1100"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.12 – Application</p>
<p>Congrats! You deployed the sample web application to <span class="No-Break">the cloud.</span></p>
<p>In this example, we deployed the sample application to Elastic Beanstalk. The sample web application is implemented by AWS. As the next step, we are going to implement a simple Python web application<a id="_idIndexMarker212"/> to be deployed<a id="_idIndexMarker213"/> by <span class="No-Break">Elastic Beanstalk:</span></p>
<ol>
<li>Open the Elastic Beanstalk service <span class="No-Break">in AWS.</span></li>
<li>Click <strong class="bold">Environments</strong> on the left side and see the list of environments. In the previous section, we created an environment and deployed the sample application. In this example, we will use the same Python <span class="No-Break">web environment:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer140">
<img alt="" height="114" src="image/Figure_6.13_B19195.jpg" width="740"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.13 – Environments</p>
<ol>
<li value="3">Click <strong class="bold">Pythonwebapp-env-1</strong> in the list as it supports Python web applications. It could be different in your environment, based on the <span class="No-Break">naming conventions:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer141">
<img alt="" height="309" src="image/Figure_6.14_B19195.jpg" width="1101"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.14 – Python All environments</p>
<ol>
<li value="4">Click the <strong class="bold">Upload and deploy</strong> button in order to follow the <span class="No-Break">deployment process:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer142">
<img alt="" height="445" src="image/Figure_6.15_B19195.jpg" width="1100"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.15 – Python web environment</p>
<ol>
<li value="5">In<a id="_idIndexMarker214"/> the <strong class="bold">Upload and deploy</strong> window, click<a id="_idIndexMarker215"/> the <strong class="bold">Choose </strong><span class="No-Break"><strong class="bold">file</strong></span><span class="No-Break"> button:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer143">
<img alt="" height="847" src="image/Figure_6.16_B19195.jpg" width="1099"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.16 – Deploy environment</p>
<p>Once you click the <strong class="bold">Choose file</strong> button, your Python web application will be deployed to <span class="No-Break">Elastic Beanstalk.</span></p>
<p>As you can see in the following screenshot, you are going to select the <span class="No-Break">local folder:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer144">
<img alt="" height="213" src="image/Figure_6.17_B19195.jpg" width="1098"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.17 – Local folder</p>
<p>You can deploy whichever Python web framework<a id="_idIndexMarker216"/> you prefer, such<a id="_idIndexMarker217"/> as Flask, Django, and <span class="No-Break">so on.</span></p>
<p>In this section, we learned how to deploy a custom Python web application to <span class="No-Break">Elastic Beanstalk.</span></p>
<h1 id="_idParaDest-71">Summary</h1>
<p>In this chapter, we learned about the AWS Elastic Beanstalk service and how to create a Python web environment in the cloud. Elastic Beanstalk is useful when you deploy web applications in the cloud. It comes with scalability, logging, and monitoring advantages. In the following chapter, we will take a look at how to monitor our applications <span class="No-Break">via CloudWatch.</span></p>
</div>
</div>

<div id="sbo-rt-content"><div id="_idContainer146">
<h1 id="_idParaDest-72">Part 3: Useful AWS Services to Implement Python</h1>
<p>In this part, you will deep-dive into other AWS services for Python programming, such as monitoring, creating an API, database operations, and NoSQL <span class="No-Break">with DynamoDB.</span></p>
<p>This part has the <span class="No-Break">following chapters:</span></p>
<ul>
<li><a href="B19195_07.xhtml#_idTextAnchor011"><em class="italic">Chapter 7</em></a>, <em class="italic">Monitoring Applications via CloudWatch</em></li>
<li><a href="B19195_08.xhtml#_idTextAnchor012"><em class="italic">Chapter 8</em></a>, <em class="italic">Database Operations with RDS</em></li>
<li><a href="B19195_09.xhtml#_idTextAnchor013"><em class="italic">Chapter 9</em></a>, <em class="italic">Creating an API in AWS</em></li>
<li><a href="B19195_10.xhtml#_idTextAnchor014"><em class="italic">Chapter 10</em></a>, <em class="italic">Using Python with NoSQL (DynamoDB)</em></li>
<li><a href="B19195_11.xhtml#_idTextAnchor015"><em class="italic">Chapter 11</em></a>, <em class="italic">Using Python with Glue</em></li>
<li><a href="B19195_12.xhtml#_idTextAnchor016"><em class="italic">Chapter 12</em></a>, <em class="italic">Reference Project on AWS</em></li>
</ul>
</div>
<div>
<div class="Content" id="_idContainer147">
</div>
</div>
<div>
<div id="_idContainer148">
</div>
</div>
</div></body></html>