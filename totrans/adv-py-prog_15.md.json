["```py\ndef writer():\n    global text\n    while True:\n        with resource:\n            print(f'Writing being done by \\\n                   {threading.current_thread().name}.')\n            text += f'Writing was done by \\\n                    {threading.current_thread().name}. '\ndef reader():\n    global rcount\n    while True:\n        with rcounter:\n            rcount += 1\n            if rcount == 1:\n                resource.acquire()\n        print(f'Reading being done by \\\n               {threading.current_thread().name}:')\n        print(text)\n        with rcounter:\n            rcount -= 1\n            if rcount == 0:\n                resource.release()\n```", "```py\ntext = 'This is some text. '\nrcount = 0\nrcounter = threading.Lock()\nresource = threading.Lock()\nthreads = [threading.Thread(target=reader) for i in \\\n  range(3)] + [ \\\n    threading.Thread(target=writer) for i in \\\n      range(2)]\nfor thread in threads:\n    thread.start()\n```", "```py\n> python3 example1.py\nReading being done by Thread-1:\nThis is some text. \nReading being done by Thread-2:\nReading being done by Thread-1:\nThis is some text. \nThis is some text. \nReading being done by Thread-2:\nReading being done by Thread-1:\nThis is some text. \nThis is some text. \nReading being done by Thread-3:\nReading being done by Thread-1:\nThis is some text. \nThis is some text. \n...\n```", "```py\nimport threading\ndef writer():\n    global text\n    global wcount\n    while True:\n        with wcounter:\n            wcount += 1\n            if wcount == 1:\n                read_try.acquire()\n        with resource:\n            print(f'Writing being done by \\\n                  {threading.current_thread().name}.')\n            text += f'Writing was done by \\\n                  {threading.current_thread().name}. '\n        with wcounter:\n            wcount -= 1\n            if wcount == 0:\n                read_try.release()\ndef reader():\n    ...\ntext = 'This is some text. '\nwcount = 0\nrcount = 0\nwcounter = threading.Lock()\nrcounter = threading.Lock()\nresource = threading.Lock()\nread_try = threading.Lock()\nthreads = [threading.Thread(target=reader) for i in \\\n  range(3)] + \n    [threading.Thread(target=writer) for i in \\\n      range(2)]\nfor thread in threads:\n    thread.start()\n```", "```py\n> python3 example2.py\nReading being done by Thread-1:\nThis is some text. \nReading being done by Thread-1:\nThis is some text. \nWriting being done by Thread-4.\nWriting being done by Thread-5.\nWriting being done by Thread-4.\nWriting being done by Thread-4.\nWriting being done by Thread-4.\nWriting being done by Thread-5.\nWriting being done by Thread-4.\n...\n```", "```py\ndef writer():\n    global text\n    while True:\n        with service:\n            resource.acquire()\n        print(f'Writing being done by \\\n              {threading.current_thread().name}.')\n        text += f'Writing was done by \\\n              {threading.current_thread().name}. '\n        resource.release()\n```", "```py\ndef reader():\n    global rcount\n    while True:\n        with service:\n            rcounter.acquire()\n            rcount += 1\n            if rcount == 1:\n                resource.acquire()\n        rcounter.release()\n        print(f'Reading being done by \\\n              {threading.current_thread().name}:')\n        #print(text)\n        with rcounter:\n            rcount -= 1\n            if rcount == 0:\n                resource.release()\n```", "```py\ntext = 'This is some text. '\nrcount = 0\nrcounter = threading.Lock()\nresource = threading.Lock()\nservice = threading.Lock()\nthreads = [threading.Thread(target=reader) for i in \\\n  range(3)] + [\n    threading.Thread(target=writer) for i in range(2)]\nfor thread in threads:\n    thread.start()\n```", "```py\n> python3 example3.py\nReading being done by Thread-3:\nWriting being done by Thread-4.\nReading being done by Thread-1:\nWriting being done by Thread-5.\nReading being done by Thread-2:\nReading being done by Thread-3:\nWriting being done by Thread-4.\n...\n```"]