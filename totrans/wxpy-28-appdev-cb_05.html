<html><head></head><body>
  <div id="sbo-rt-content"><div class="chapter" title="Chapter 5. Providing Information and Alerting Users"><div class="titlepage"><div><div><h1 class="title"><a id="ch05"/>Chapter 5. Providing Information and Alerting Users</h1></div></div></div><p>In this chapter, we will cover:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Showing a<code class="literal"> MessageBox</code></li><li class="listitem" style="list-style-type: disc">Providing help with<code class="literal"> ToolTips</code></li><li class="listitem" style="list-style-type: disc">Using<code class="literal"> SuperToolTips</code></li><li class="listitem" style="list-style-type: disc">Displaying a<code class="literal"> BalloonTip</code></li><li class="listitem" style="list-style-type: disc">Creating a custom<code class="literal"> SplashScreen</code></li><li class="listitem" style="list-style-type: disc">Showing task progress with the Progress dialog</li><li class="listitem" style="list-style-type: disc">Creating an<code class="literal"> AboutBox</code></li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec01"/>Introduction</h1></div></div></div><p>During an application's runtime, a wide variety of events can arise under a number of different circumstances. This gives rise to the need to be able to alert and inform users of these events in an equally wide variety of context-sensitive, intuitive, and effective ways.</p><p>Providing information in the right way at the right time is crucial to the usability of an application. wxPython includes many widgets to help meet the specific needs of any type of application. So let's take a look at some of these widgets and see how to use them to their fullest.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Showing a MessageBox"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec02"/>Showing a MessageBox</h1></div></div></div><p>
<code class="literal">MessageBoxes</code> are one of, if not, the most common and easy ways of alerting users and providing them with the ability to make simple choices.<code class="literal"> MessageBoxes</code> come in a number of varying forms but all share two common points. They all have a (usually) short caption message and one or more buttons that allow the user to respond to the message. This recipe shows how to add a<code class="literal"> MessageBox</code> that gives the user a chance to abort closing a<code class="literal"> Frame</code>.<a id="id202" class="indexterm"/>
</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec01"/>How to do it...</h2></div></div></div><p>As an example of how to show a<code class="literal"> MessageBox</code>, we will create a little Frame class that uses a<code class="literal"> MessageBox</code> as a confirmation to the window close event:<a id="id203" class="indexterm"/>
</p><div class="informalexample"><pre class="programlisting">class MyFrame(wx.Frame):
    def __init__(self, parent, *args, **kwargs):
        super(MyFrame, self).__init__(parent, *args, **kwargs)

        # Layout
        self.CreateStatusBar()
        self.PushStatusText("Close this window")

        # Event Handlers
        self.Bind(wx.EVT_CLOSE, 

    def OnClose(self, event):
        result = wx.MessageBox("Are you sure you want "
                               "to close this window?",
                               style=wx.CENTER|\
                                     wx.ICON_QUESTION|\
                                     wx.YES_NO)
        if result == wx.NO:
            event.Veto()
        else:
            event.Skip()

</pre></div><div class="mediaobject"><img src="images/1780_05_01.jpg" alt="How to do it..."/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec02"/>How it works...</h2></div></div></div><p>
<code class="literal">wx.MessageBox</code> is a function that will create, show, and clean up a modal dialog. It only requires the first parameter, which specifies the message that will be displayed:</p><div class="informalexample"><pre class="programlisting">wx.MessageBox(message, caption=””, style=wx.OK|wx.CENTER,
                               parent=None, x=-1, y=-1)

</pre></div><p>The other parameters are all optional keyword parameters. The second parameter is used to specify the dialog's title. The third parameter is the style parameter for specifying how the dialog will look and what buttons it will have on it. This parameter is just like any other widget constructor in that its value will be a bitmask of style flags. The fourth parameter can be used to specify the parent window of the dialog. The final two parameters can be used for explicitly setting the dialog's X and Y coordinates on the desktop.<a id="id204" class="indexterm"/>
</p><p>In this recipe, we just used the message and the style parameters. In the style parameter, we specified the<code class="literal"> CENTER</code> flag which indicates that the dialog should be centered on its parent, which in this case will be the desktop since we did not specify a parent window. The<code class="literal"> ICON_QUESTION</code> flag specifies that we want to display the question mark icon on the dialog. The last flag,<code class="literal"> YES_NO</code>, says that we want to have a Yes and a No button on the dialog, so that the user can reply to the yes/no question we asked in our message.</p><p>When the user clicks on one of the dialog's buttons, the dialog will end its modal loop and return the value of the button that was clicked, which in this case will be either<code class="literal"> YES</code> or<code class="literal"> NO</code>. Here we simply check the return value and either<code class="literal"> Veto</code> the event to stop the<code class="literal"> Frame</code> from closing, or<code class="literal"> Skip</code> it to allow the<code class="literal"> Frame</code> to be destroyed.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note10"/>Note</h3><p>
<span class="strong"><strong>Platform Notice</strong></span>
</p><p>On OS X, these dialogs will show the application icon. This is done to conform with Apple's Human Interface Guidelines. This means that unless you have built your script into an applet and given it its own icon, the dialog will show the<code class="literal"> Python.app</code> icon.</p></div></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec03"/>There's more...</h2></div></div></div><p>There are a number of style flags that the<code class="literal"> MessageBox</code> function can accept. Here is a quick reference list, broken down by category.</p><div class="section" title="Icons"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec01"/>Icons</h3></div></div></div><p>The<code class="literal"> MessageBox</code> can show only one icon, so only one of the following flags should be specified at a time:<a id="id205" class="indexterm"/>
</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Flags</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.ICON_ERROR</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Display an icon on the dialog that signifies that an error has occurred.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.ICON_INFORMATION</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Display an icon on the dialog that signifies that the dialog is only displaying information.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.ICON_QUESTION</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Display an icon on the dialog that signifies that a question is being asked that the user needs to respond to.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.ICON_WARNING</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Display an icon on the dialog that signifies a warning message to the user.</p>
</td></tr></tbody></table></div></div><div class="section" title="Buttons"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec02"/>Buttons</h3></div></div></div><p>The following flags are used to specify the buttons to show in the dialog. By default, the dialog will just show an OK button:<a id="id206" class="indexterm"/>
</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Flags</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.CANCEL</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Add a Cancel button to the dialog.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.OK</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Add an OK button to the dialog.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.YES</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Add a Yes button to the dialog.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.NO</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Add a No button to the dialog.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.YES_NO</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Convenience for<code class="literal"> wx.YES/wx.NO</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.YES_DEFAULT</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Set the Yes button as the default button.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.NO_DEFAULT</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Set the No button as the default button.</p>
</td></tr></tbody></table></div></div></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Providing help with ToolTips"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec03"/>Providing help with ToolTips</h1></div></div></div><p>
<code class="literal">ToolTips</code> are small pop-up help texts that are shown when the mouse cursor hovers over a window object for a few moments. When the mouse leaves the window's area they are automatically dismissed. They are very useful for places where it may be necessary to present extra information to your users about the function of a certain part of the interface. Nearly all window objects support having a<code class="literal"> ToolTip</code> associated with them. This recipe shows how to add a<code class="literal"> ToolTip</code> to a<code class="literal"> Button</code>.<a id="id207" class="indexterm"/>
</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec04"/>How to do it...</h2></div></div></div><p>In order to see how to add a<code class="literal"> ToolTip</code> to a control, let's just make a simple<code class="literal"> Panel</code> class that has a single<code class="literal"> Button</code> on it:</p><div class="informalexample"><pre class="programlisting">class ToolTipTestPanel(wx.Panel):
    def __init__(self, parent):
        super(ToolTipTestPanel, self).__init__(parent)

        # Attributes
        self.button = wx.Button(self, label="Go")

        # Setup
        self.button.SetToolTipString("Launch the shuttle")
        self.timer = wx.Timer(self)
        self.count = 11

        # Layout
        sizer = wx.BoxSizer(wx.VERTICAL)
        sizer.Add(self.button, 0, wx.ALIGN_CENTER)
        msizer = wx.BoxSizer(wx.HORIZONTAL)
        msizer.Add(sizer, 1, wx.ALIGN_CENTER)
        self.SetSizer(msizer)

        # Event Handlers
        self.Bind(wx.EVT_BUTTON, self.OnGo, self.button)
        self.Bind(wx.EVT_TIMER, self.OnTimer, self.timer)

    def OnGo(self, event):
        self.button.Disable()
        print self.timer.Start(1000)
        tlw = self.GetTopLevelParent()
        tlw.PushStatusText("Launch initiated...")

    def OnTimer(self, event):
        tlw = self.GetTopLevelParent()
        self.count -= 1
        tlw.PushStatusText("%d" % self.count)
        if self.count == 0:
            self.timer.Stop()
            wx.MessageBox("Shuttle Launched!")

</pre></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec05"/>How it works...</h2></div></div></div><p>Here, we just created a simple panel with a single button on it. The button just has a simple label that says<code class="literal"> Go</code>. Since there is no other indication as to what this button may do, we then added a<code class="literal"> ToolTip</code> to it by calling the<code class="literal"> SetToolTipString</code> method. The<code class="literal"> SetToolTipString</code> method belongs to the base<code class="literal"> wx.Window</code> class so it can be used with any object that is visible on the screen. This method creates a<code class="literal"> ToolTip</code> object and then calls the Window's<code class="literal"> SetToolTip</code> method to associate<code class="literal"> ToolTip</code> with the<code class="literal"> Window</code>.<a id="id208" class="indexterm"/>
</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec06"/>There's more...</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The<span class="emphasis"><em> Using SuperToolTips</em></span> recipe in this chapter shows another way of providing context sensitive help to users.</li><li class="listitem" style="list-style-type: disc">See the<span class="emphasis"><em> Playing with the mouse</em></span> recipe in<a class="link" href="ch02.html" title="Chapter 2. Responding to Events"> Chapter 2</a>,<span class="emphasis"><em> Responding to Events</em></span> for some insight into how the system shows the tips when the mouse cursor enters the window.</li></ul></div></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Using SuperToolTips"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec04"/>Using SuperToolTips</h1></div></div></div><p>The<code class="literal"> SuperToolTip</code> class is an advanced type of<code class="literal"> ToolTip</code> provided by the<code class="literal"> wx.lib.agw.supertooltip</code> module. Unlike the regular<code class="literal"> ToolTip</code>, the<code class="literal"> SuperToolTip</code> is a custom fully-owner-drawn control that supports a wide range of display options. It has the ability to show a header, a footer, a body section, and each section can also have an image shown in it. In addition to this, it also supports custom backgrounds, HTML rendering of the content, and hyperlinks. This recipe shows how to create and use a<code class="literal"> SuperToolTip</code>.<a id="id209" class="indexterm"/>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
<code class="literal">wx.lib.agw</code> is available in wxPython 2.8.9.2 and higher.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec07"/>How to do it...</h2></div></div></div><p>Let's modify the sample from the<span class="emphasis"><em> Providing help with ToolTips</em></span> recipe to show how a more verbose help message may be helpful in this case. This recipe uses two image files that are provided with the source code that accompanies this chapter:</p><div class="informalexample"><pre class="programlisting">import wx.lib.agw.supertooltip as supertooltip

class SuperToolTipTestPanel (wx.Panel):
    def __init__(self, parent):
        super(SuperToolTipTestPanel, self).__init__(parent)

        # Attributes
        self.button = wx.Button(self, label="Go")
        msg = "Launches the shuttle"
        self.stip = supertooltip.SuperToolTip(msg)

        # Setup SuperToolTip
        bodybmp = wx.Bitmap("earth.png", wx.BITMAP_TYPE_PNG)
        self.stip.SetBodyImage(bodybmp)
        self.stip.SetHeader("Launch Control")
        footbmp = wx.Bitmap("warning.png", wx.BITMAP_TYPE_PNG)
        self.stip.SetFooterBitmap(footbmp)
        footer = "Warning: This is serious business"
        self.stip.SetFooter(footer)          
        self.stip.ApplyStyle("XP Blue")
        self.stip.SetTarget(self.button)

</pre></div><div class="mediaobject"><img src="images/1780_05_02.jpg" alt="How to do it..."/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec08"/>How it works...</h2></div></div></div><p>Here, we took our previous recipe and changed it to use a<code class="literal"> SuperToolTip</code> instead of the standard<code class="literal"> ToolTip</code>.</p><p>First, we start by importing the extension module from the<code class="literal"> wx.lib.agw</code> package so that we can access the<code class="literal"> SuperToolTip</code> class. Then we proceed to create the<code class="literal"> SuperToolTip</code> object for our button in the<code class="literal"> SuperToolTipTestPanel</code> class. In our use case, this involves creating the tip with its body message, then setting a body image that will be shown to the left of our message. We then added some header text by calling the<code class="literal"> SetHeader</code> method as well as a footer and footer image by using the<code class="literal"> SetFooter</code> and<code class="literal"> SetFooterBitmap</code> methods. The last setup step we make is to call<code class="literal"> ApplyStyle</code>. This method allows for the use of one of the 30 or so built-in style themes for the background gradient.<a id="id210" class="indexterm"/>
</p><p>The final step in using the<code class="literal"> SuperToolTip</code> is the important difference between it and the standard<code class="literal"> ToolTip</code>. We have to call<code class="literal"> SetTarget</code> on the<code class="literal"> SuperToolTip</code> object instead of calling<code class="literal"> SetToolTip</code> on the<code class="literal"> Window</code> object (in this case our<code class="literal"> Button)</code>. This is because the<code class="literal"> SuperToolTip</code> manages when it is shown/hidden, and not the<code class="literal"> Window</code> it belongs too.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec09"/>There's more...</h2></div></div></div><p>The<code class="literal"> SuperToolTip</code> has a few more options not covered in this recipe. Included below are some additional references and information.</p><div class="section" title="Styles"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec03"/>Styles</h3></div></div></div><p>The<code class="literal"> ApplyStyles</code> method takes one of the named built-in styles as a parameter. There are currently about 30 different built-in styles. They are all defined and can be found in the<code class="literal"> supertooltip</code> module. They can also be found by looking at the return value of<code class="literal"> supertooltip.GetStyleKeys()</code>, which will return a list of all the built-in styles.</p></div><div class="section" title="Additional customization"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec04"/>Additional customization</h3></div></div></div><p>There are a few more additional methods that can be used to customize the appearance of the<code class="literal"> SuperToolTip</code>. The following table includes a quick reference for these methods:<a id="id211" class="indexterm"/>
</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Methods</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetDrawHeaderLine(bool)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Draw a horizontal separator line between the header and the body.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetDrawFooterLine(bool)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Draw a horizontal separator line between the footer and the body.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetDropShadow(bool)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Use a drop shadow on the tip window. (Windows only)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetUseFade(bool)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Fade in/out of view. (Windows only)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetEndDelay(int)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Set the time for which the tip will be shown.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetTopGradientColour(colour)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the top gradient color.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetBottomGradientColour(colour)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the bottom gradient color.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetMiddleGradientColour(colour)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the middle gradient color.</p>
</td></tr></tbody></table></div></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec10"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The<span class="emphasis"><em> Providing help with ToolTips</em></span> recipe in this chapter shows a way to provide simple help messages.</li></ul></div></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Displaying a BalloonTip"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec05"/>Displaying a BalloonTip</h1></div></div></div><p>
<code class="literal">BalloonTips</code> are yet another<code class="literal"> ToolTip</code> implementation. They are fairly similar to the<code class="literal"> SuperToolTip</code> but have a look and feel that imitates the Windows XP taskbar balloon notifications. When shown, the<code class="literal"> BalloonTip</code> will create a tip window that has a point that extends towards the centre of its target window. This recipe shows how to add a<code class="literal"> BalloonTip</code> to an application's<code class="literal"> TaskBarIcon</code>.<a id="id212" class="indexterm"/>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
<code class="literal">wx.lib.agw</code> is available in wxPython 2.8.9.2 and higher.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec11"/>How to do it...</h2></div></div></div><p>Here, we will create a simple<code class="literal"> TaskBarIcon</code> class that will show a<code class="literal"> BalloonTip</code> when hovered over. In this example, we again use an external icon that is provided with the source code that accompanies this chapter:</p><div class="informalexample"><pre class="programlisting">import wx.lib.agw.balloontip as btip

class TaskBarBalloon(wx.TaskBarIcon):
    def __init__(self):
        super(TaskBarBalloon, self).__init__()

        # Setup
        icon = wx.Icon("face-monkey.png", wx.BITMAP_TYPE_PNG)
        self.SetIcon(icon)

        # Setup BallooTip
        title="BalloonTip Recipe"
        msg = "Welcome to the Balloon Tip Recipe"
        bmp = wx.BitmapFromIcon(icon)
        self.tip = btip.BalloonTip(topicon=bmp,
                                   toptitle=title,
                                   message=msg,
                                   shape=btip.BT_ROUNDED,
                                   tipstyle=btip.BT_BUTTON)
        self.tip.SetStartDelay(1000)
        self.tip.SetTarget(self)

        # Event Handlers
        self.Bind(wx.EVT_MENU, self.OnMenu)

    def CreatePopupMenu(self):
        menu = wx.Menu()
        menu.Append(wx.ID_CLOSE, "Exit")
        return menu

    def OnMenu(self, event):
        self.RemoveIcon()
        self.tip.DestroyTimer()
        self.Destroy()

</pre></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec12"/>How it works...</h2></div></div></div><p>The<code class="literal"> BalloonTip</code> class is found in the<code class="literal"> wx.lib.agw.balloontip</code> module. To make it easier to use, we imported it with the alias<code class="literal"> btip</code>. The<code class="literal"> BalloonTip</code> constructor takes up to five optional keyword arguments to specify the tip's contents and appearance:<a id="id213" class="indexterm"/>
</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Keyword arguments</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">topicon</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Accepts a<code class="literal"> Bitmap</code> object that will be shown in the top left-hand corner of the<code class="literal"> BalloonTip</code> window</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">toptitle</code>
</p>
</td><td style="text-align: left" valign="top">
<p>A string that specifies the title of the<code class="literal"> BalloonTip</code> window</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">message</code>
</p>
</td><td style="text-align: left" valign="top">
<p>A string that specifies the main message for the<code class="literal"> BalloonTip</code> window</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">shape</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Either<code class="literal"> BT_RECTANGLE</code> or<code class="literal"> BT_ROUNDED</code> (default), which specify the shape of the<code class="literal"> BalloonTip</code> window</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">tipstyle</code>
</p>
</td><td style="text-align: left" valign="top">
<p>One of the following values for specifying how the<code class="literal"> BalloonTip</code> window will be dismissed:
</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">BT_LEAVE:</code> The tip window will be dismissed when the mouse leaves the target window</li><li class="listitem" style="list-style-type: disc"><code class="literal">BT_CLICK:</code> The tip window will be dismissed when a user clicks on the target window</li><li class="listitem" style="list-style-type: disc"><code class="literal">BT_BUTTON:</code> The tip window will be dismissed by clicking on a close button on the tip window</li></ul></div><p>
</p>
</td></tr></tbody></table></div><p>After creating the<code class="literal"> BalloonTip</code>, we modified its start delay by making a call to<code class="literal"> SetStartDelay</code>, which sets the delay in milliseconds from which the tip window will be shown after the mouse is moved over the target window. Finally, we called<code class="literal"> SetTarget</code> to set the<code class="literal"> TaskBarIcon</code> as the target window for this<code class="literal"> BalloonTip</code>. After this, the<code class="literal"> BalloonTip</code> is all set up for use with our<code class="literal"> TaskBarIcon</code>.</p><p>In the<code class="literal"> TaskBarIcons</code> event handler for the exit menu event, we had to add a call to<code class="literal"> DestroyTimer</code> on our<code class="literal"> BalloonTip</code>. This is to ensure that the tip window is destroyed, otherwise if it is still open the applications main loop will not exit since there are still top-level windows in the application.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec13"/>There's more...</h2></div></div></div><p>As with most of the generic widgets available in<code class="literal"> wx.lib</code>, the<code class="literal"> BalloonTip</code> class offers a wide variety of methods to customize its appearance. The following table includes a quick reference to a number of these methods:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Method</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetBalloonColour(colour)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the<code class="literal"> BalloonTips</code> background color. Pass<code class="literal"> None</code> to revert back to the default.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetMessageColour(colour)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Set the text<code class="literal"> Colour</code> for the main message. Pass<code class="literal"> None</code> to revert back to the default.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetMessageFont(font)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Set the<code class="literal"> Font</code> to use for the main message. Pass<code class="literal"> None</code> to revert back to the default.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetTitleColour(colour)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Set the text<code class="literal"> Colour</code> for the title. Pass<code class="literal"> None</code> to revert back to the default.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetTitleFont(font)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Set the titles<code class="literal"> Font</code>. Pass<code class="literal"> None</code> to revert back to the default.</p>
</td></tr></tbody></table></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec14"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The<span class="emphasis"><em> Using SuperToolTips</em></span> recipe in this chapter shows another way to provide context-sensitive information messages.</li><li class="listitem" style="list-style-type: disc">The<span class="emphasis"><em> Working with tray icons</em></span> recipe in<a class="link" href="ch04.html" title="Chapter 4. Advanced Building Blocks of a User Interface"> Chapter 4</a>,<span class="emphasis"><em> Advanced Building Blocks of a User Interface</em></span> contains an explanation of using<code class="literal"> TaskBarIcons</code> in an application.</li></ul></div></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Creating a custom SplashScreen"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec06"/>Creating a custom SplashScreen</h1></div></div></div><p>
<code class="literal">SplashWindows</code> are commonly seen during the start up of an application. They are a means to show a software's logo and, more importantly, they are often used as a means to provide feedback to the user when an application takes a bit of time to start up so that the user knows that the application is in the process of loading up. This recipe shows how to create an advanced<code class="literal"> SplashWindow</code> class that can show the incremental progress of where an application is during startup.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec15"/>How to do it...</h2></div></div></div><p>Here we will create our custom<code class="literal"> SplashScreen</code> class. The source code that accompanies this chapter also includes a sample application showing how to use this class:<a id="id214" class="indexterm"/>
</p><div class="informalexample"><pre class="programlisting">class ProgressSplashScreen(wx.SplashScreen):
    def __init__(self, *args, **kwargs):
        super(ProgressSplashScreen, self).__init__(*args,
                                                   **kwargs)

        # Attributes
        self.gauge = wx.Gauge(self, size=(-1, 16))

        # Setup
        rect = self.GetClientRect()
        new_size = (rect.width, 16)
        self.gauge.SetSize(new_size)
        self.SetSize((rect.width, rect.height + 16))
        self.gauge.SetPosition((0, rect.height))

    def SetProgress(self, percent):
        """Set the indicator gauges progress"""
        self.gauge.SetValue(percent)

    def GetProgress(self):
        """Get the current progress of the gauge"""
        return self.gauge.GetValue()

</pre></div><p>The screenshot is as follows:</p><div class="mediaobject"><img src="images/1780_05_03.jpg" alt="How to do it..."/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec16"/>How it works...</h2></div></div></div><p>The basic<code class="literal"> SplashScreen</code> uses the<code class="literal"> Bitmap</code> that is passed into the constructor to set its size, and then the<code class="literal"> Bitmap</code> is drawn to fill the background. In our subclass, we created a<code class="literal"> Gauge</code> to allow for the program to give feedback to the user about the progress of the startup procedure.<a id="id215" class="indexterm"/>
</p><p>To allow the<code class="literal"> Gauge</code> to fit on the<code class="literal"> SplashScreen</code>, we first changed the width of the<code class="literal"> Gauge</code> to be the same width as the<code class="literal"> SplashScreen</code>, by calling its<code class="literal"> SetSize</code> method with the<code class="literal"> Gauge's</code> height and the<code class="literal"> SplashScreen's</code> width. Next, we changed the size of the<code class="literal"> SplashScreen</code> to make it taller, so that we could position the<code class="literal"> Gauge</code> at the bottom of it without overlapping the<code class="literal"> SplashScreen</code> image. Then the final step was to manually position the<code class="literal"> Gauge</code> into the extra space we added at the bottom, by calling its<code class="literal"> SetPosition</code> method with the X and Y coordinates of where the top-left corner of the<code class="literal"> Gauge</code> should be placed.</p><p>The last two things that we added to our class were just some simple access methods to allow the<code class="literal"> Gauge</code> to be manipulated by the users of this class. For an example of this class in action, check out the sample code that accompanies this chapter.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec17"/>There's more...</h2></div></div></div><p>The<code class="literal"> SplashScreen's</code> constructor has two different style parameters. The first one,<code class="literal"> splashStyle</code>, is a required bitmask of one or more of the following flags:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Flags</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.SPLASH_CENTRE_ON_PARENT</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Center the SplashScreen on its parent window.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.SPLASH_CENTRE_ON_SCREEN</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Center the SplashScreen on the desktop.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.SPLASH_NO_CENTRE</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Don't center the SplashScreen.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.SPLASH_TIMEOUT</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Allow the SplashScreen to be automatically destroyed when the timeout is reached.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.SPLASH_NO_TIMEOUT</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Don't allow the SplashScreen to timeout (require explicit destruction of it).</p>
</td></tr></tbody></table></div><p>The second style flag parameter is the typical optional one, and is for specifying<code class="literal"> wx.Frame</code> style flags. The<code class="literal"> SplashScreen</code> derives from<code class="literal"> wx.Frame</code>, so these flags will be passed down to the base class. In most cases, the default flags are what you want to use here, otherwise it will end up behaving more like a<code class="literal"> Frame</code> than a<code class="literal"> SplashScreen</code>.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Showing task progress with the Progress dialog"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec07"/>Showing task progress with the Progress dialog</h1></div></div></div><p>The<code class="literal"> ProgressDialog</code> is a dialog for showing the progress of a long-running task, such as downloading a file from the Internet, or exporting data from your program. The dialog shows a short message, a progress bar, and optionally Abort and/or Skip buttons. Additionally, it can also optionally show the estimated, elapsed, and remaining time. This recipe shows how to make a command-line script that can be used to download a file from the Internet and show the progress of the download using<code class="literal"> ProgressDialog</code>.<a id="id216" class="indexterm"/>
</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec18"/>How to do it...</h2></div></div></div><p>We will create a full application here to allow downloading a file from a URL that is passed to the script on the command line. So first we will define the application object class:<a id="id217" class="indexterm"/>
</p><div class="informalexample"><pre class="programlisting">import wx
import os
import sys
import urllib2

class DownloaderApp(wx.App):
    def OnInit(self):
        # Create a hidden frame so that the eventloop
        # does not automatically exit before we show
        # the download dialog.
        self.frame = wx.Frame(None)
        self.frame.Hide()
        return True

    def Cleanup(self):
        self.frame.Destroy()

</pre></div><p>Here, we define the method that will be used to show the<code class="literal"> ProgressDialog</code>, and perform the actual downloading of the file by using the<code class="literal"> urllib</code> module from the Python standard library:</p><div class="informalexample"><pre class="programlisting">    def DownloadFile(self, url):
        """Downloads the file
        @return: bool (success/fail)
        """
        dialog = None
        try:
            # Open the url to read from and
            # the local file to write the downloaded
            # data to.
            webfile = urllib2.urlopen(url)
            size = int(webfile.info()['Content-Length'])
            dlpath = os.path.abspath(os.getcwd())
            dlfile = url.split('/')[-1]
            dlpath = GetUniqueName(dlpath, dlfile)
            localfile = open(dlpath, 'wb')

            # Create the ProgressDialog
            dlmsg = "Downloading: %s" % dlfile
            style = (wx.PD_APP_MODAL
                     |wx.PD_CAN_ABORT
                     |wx.PD_ELAPSED_TIME
                     |wx.PD_REMAINING_TIME)
            dialog = wx.ProgressDialog("Download Dialog",
                                       dlmsg,
                                       maximum=size,
                                       parent=self.frame,
                                       style=style)

            # Download the file
            blk_sz = 4096
            read = 0
            keep_going = True
            while read &lt; size and keep_going:
                data = webfile.read(blk_sz)
                localfile.write(data)
                read += len(data)
                keep_going, skip = dialog.Update(read)

            localfile.close()
            webfile.close()
        finally:
            # All done so cleanup top level windows
            # to cause the event loop to exit.
            if dialog:
                dialog.Destroy()
            self.Cleanup()

</pre></div><p>Here, we have an additional helper function that is used to get a unique path to write the downloaded data to:<a id="id218" class="indexterm"/>
</p><div class="informalexample"><pre class="programlisting">#--- Utility Functions ----#

def GetUniqueName(path, name):
    """Make a file name that will be unique in case a file
    of the same name already exists at that path.
    @param path: Root path to folder of files destination
    @param name: desired file name base
    @return: string
    """
    tmpname = os.path.join(path, name)
    if os.path.exists(tmpname):
        if '.' not in name:
            ext = ''
            fbase = name
        else:
            ext = '.' + name.split('.')[-1]
            fbase = name[:-1 * len(ext)]

        inc = len([x for x in os.listdir(path)
                   if x.startswith(fbase)])
        newname = "%s-%d%s" % (fbase, inc, ext)
        tmpname = os.path.join(path, newname)
        while os.path.exists(tmpname):
            inc = inc + 1
            newname = "%s-%d%s" % (fbase, inc, ext)
            tmpname = os.path.join(path, newname)

    return tmpname

</pre></div><p>Finally, the main execution of the script that does the simple command-line argument handling for this application and starts the download is as follows:</p><div class="informalexample"><pre class="programlisting">#---- Main Execution ----#
if __name__ == "__main__":
    if len(sys.argv) &gt; 1:
        url = sys.argv[1]
        app = DownloaderApp(False)
        # Start with a slight delay so the eventloop
        # can start running, to ensure our dialog gets
        # shown
        wx.CallLater(2000, app.DownloadFile, url)
        app.MainLoop()
    else:
        # Print some help text
        print(("wxPython Cookbook - ProgressDialog\n"
               "usage: downloader url\n"))

</pre></div><p>Here is an example of how to call this script from the command-line downloader:<code class="literal"> python downloader.py http://somewebsite.com/afile.zip</code>.</p></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec19"/>How it works...</h2></div></div></div><p>The recipe above shows the code for the entire downloader application. Let's take a walk through how it works, starting at the top and working our way down.<a id="id219" class="indexterm"/>
</p><p>First, we imported some modules from the standard Python library. We needed the<code class="literal"> os</code> module for path manipulation, the<code class="literal"> sys</code> module for getting the command-line arguments, and the<code class="literal"> urllib2</code> module so that we can open remote URLs.</p><p>Next, we defined our<code class="literal"> DownloaderApp</code>. This application object has two methods that are of interest to us. The first is the override of<code class="literal"> wx.App.OnInit</code>. In our override, we created a Frame and hid it. We did this just to ensure that the event loop does not exit before we create and show our<code class="literal"> ProgressDialog</code>, as the event loop will exit by default when there are no more top-level windows in the application. The second is the<code class="literal"> DownloadFile</code> method. This is where the main action of this application takes place.</p><p>
<code class="literal">DownloadFile</code> first opens the remote URL that was passed in using<code class="literal"> urllib2</code>, and gets the size of the file that the URL points to. Next, it opens a file on the local file system to, write to as we read the data from the remote URL. We then create our<code class="literal"> ProgressDialog</code>, giving it the style flags necessary to have an Abort button and show the elapsed and remaining time. Once the dialog has been created, we can start reading the data from the URL that we opened. We do this in a loop that checks how much we have read already and whether or not the Abort button was clicked. After reading a chunk from the URL, we call the<code class="literal"> ProgressDialog's Update</code> method, which will update the progress bar and return two Boolean flags that indicate if one of the two possible dialog buttons was clicked. Once the loop exits, we simply close the two files and<code class="literal"> Destroy</code> our window objects, to cause the main loop to exit.</p><p>The final two things are the<code class="literal"> GetUniqueName</code> function and the<code class="literal"> __main__. GetUniqueName</code> is just a simple utility function to help generate the local filename, to make sure that we don't try to write over an already-existing file. The<code class="literal"> __main__</code> execution makes just a simple check of the command-line arguments, and then creates the<code class="literal"> DownloaderApp</code> and calls its<code class="literal"> DownloadFile</code> method. We needed to use<code class="literal"> wx.CallLater</code> to delay the call by a couple of seconds because<code class="literal"> DownloadFile</code> will block when it is called. Without using<code class="literal"> CallLater</code>, it would have blocked, performed the download, and returned before the<code class="literal"> MainLoop</code> was started, which would have meant that our dialog would have never been displayed on the screen.<a id="id220" class="indexterm"/>
</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec20"/>There's more...</h2></div></div></div><p>Included below are some additional references and information to take into consideration when using the<code class="literal"> ProgressDialog</code>.</p><div class="section" title="Message parameter"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec05"/>Message parameter</h3></div></div></div><p>There is some undesirable behavior that can be seen with the<code class="literal"> ProgressDialog's</code> message parameter in some cases. If the passed-in message string is very long, it will cause the dialog's width to be set very wide. So if you see that the dialog is showing up as being much wider than you would expect, try shortening your message.</p></div><div class="section" title="Style flags"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec06"/>Style flags</h3></div></div></div><p>Here is a quick reference to the available style flags that the<code class="literal"> ProgressDialog</code> can use:<a id="id221" class="indexterm"/>
</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Style flags</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.PD_APP_MODAL</code>
</p>
</td><td style="text-align: left" valign="top">
<p>The dialog should be application modal</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.PD_AUTO_HIDE</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Have the dialog automatically disappears when the progress bar reaches its maximum value</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.PD_SMOOTH</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Cause the progress bar to be updated smoothly</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.PD_CAN_ABORT</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Show the Abort button on the dialog</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.PD_CAN_SKIP</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Show the Skip button on the dialog</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.PD_ELAPSED_TIME</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Show the elapsed time status text</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.PD_ESTIMATED_TIME</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Show the estimated total time status text</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">wx.PD_REMAININT_TIME</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Show the estimated remaining time status text</p>
</td></tr></tbody></table></div></div></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Creating an AboutBox"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec08"/>Creating an AboutBox</h1></div></div></div><p>An About dialog is a simple dialog for displaying some information about an application to the user, such as the application's version number and license information. This dialog can be found in most applications on any operating system. It contains an icon and a small information section that usually contains at least the version information and credits. This recipe shows how to set up and show an About dialog in an application.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec21"/>How to do it...</h2></div></div></div><p>Here, we create a simple skeleton application that shows how to integrate an<code class="literal"> AboutBox</code> into an application:<a id="id222" class="indexterm"/>
</p><div class="informalexample"><pre class="programlisting">import wx
import sys

class AboutRecipeFrame(wx.Frame):
    def __init__(self, parent, *args, **kwargs):
        super(AboutRecipeFrame, self).__init__(*args,
                                               **kwargs)

        # Attributes
        self.panel = wx.Panel(self)

        # Setup Menus
        menubar = wx.MenuBar()
        helpmenu = wx.Menu()
        helpmenu.Append(wx.ID_ABOUT, "About")
        menubar.Append(helpmenu, "Help")
        self.SetMenuBar(menubar)

        # Setup StatusBar
        self.CreateStatusBar()
        self.PushStatusText("See About in the Menu")

        # Event Handlers
        self.Bind(wx.EVT_MENU, self.OnAbout, id=wx.ID_ABOUT)

    def OnAbout(self, event):
        """Show the about dialog"""
        info = wx.AboutDialogInfo()

        # Make a template for the description
        desc = ["\nwxPython Cookbook Chapter 5\n",
                "Platform Info: (%s,%s)",
                "License: Public Domain"]
        desc = "\n".join(desc)

        # Get the platform information
        py_version = [sys.platform,
                      ", python ",
                      sys.version.split()[0]]
        platform = list(wx.PlatformInfo[1:])
        platform[0] += (" " + wx.VERSION_STRING)
        wx_info = ", ".join(platform)

        # Populate with information
        info.SetName("AboutBox Recipe")
        info.SetVersion("1.0")
        info.SetCopyright("Copyright (C) Joe Programmer")
        info.SetDescription(desc % (py_version, wx_info))

        # Create and show the dialog
        wx.AboutBox(info)


class AboutRecipeApp(wx.App):
    def OnInit(self):
        self.frame = AboutRecipeFrame(None, 
                                      title="AboutDialog", 
                                      size=(300,200))
        self.SetTopWindow(self.frame)
        self.frame.Show()

        return True


if __name__ == "__main__":
    app = AboutRecipeApp(False)
    app.MainLoop()

</pre></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec22"/>How it works...</h2></div></div></div><p>In this recipe, we created a very simple yet complete application for creating and displaying an About dialog. So let's go over the important parts of the code shown above.<a id="id224" class="indexterm"/>
</p><p>Firstly, let's take a look a look at the part where we set up the menus in the<code class="literal"> AboutRecipeFrame</code> class. Standard application About dialogs are shown from a menu item. On Windows and GTK Linux this menu entry is under the Help menu; on Macintosh OS X this menu entry is under the Application menu. wxPython will take care of these platform differences for us automatically since we assigned our About menu entry the<code class="literal"> wx.ID_ABOUT</code> stock ID, which lets wx know that the menu entry is a standard about information menu entry.</p><p>The next and most important part of this recipe is the<code class="literal"> OnAbout</code> menu event handler. This is the method that will get called when our About menu entry is activated and it is where we create and show the About dialog by calling the<code class="literal"> AboutBox</code> function. The<code class="literal"> AboutBox</code> function requires an<code class="literal"> AboutDialogInfo</code> object that contains all of the information that we want to display in the dialog that it will create.</p><p>The<code class="literal"> AboutDialogInfo</code> object has a number of methods for setting the different data fields that the dialog can support. These methods are all simple setter methods that take strings or lists of strings as arguments. We used four of these methods in this recipe:<a id="id225" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem"><code class="literal"> SetName</code> takes the application's name. This string will be shown in the dialog's title bar and as the first line in the main content area.<a id="id226" class="indexterm"/></li><li class="listitem"><code class="literal"> SetVersion</code> is for setting and showing the application's version number. This is shown after the application name in the main content area.<a id="id227" class="indexterm"/></li><li class="listitem"><code class="literal"> SetCopyright</code> sets the copyright information field. The special thing to note about this method is if the string contains a (C) in it, this will be automatically converted to the copyright symbol ©.<a id="id228" class="indexterm"/></li></ol></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem"><code class="literal"> SetDescription</code> is the main description field, which can contain any arbitrary information about the application.<a id="id229" class="indexterm"/></li></ol></div><p>The last thing that we did was to show the About dialog box. This is quite simple. All we needed to do was to call the<code class="literal"> wx.AboutBox</code> function with the<code class="literal"> AboutDialogInfo</code> that we created.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec23"/>There's more...</h2></div></div></div><p>The<code class="literal"> AboutDialogInfo</code> object supports a number of additional fields for other special types of data and customization of the<code class="literal"> AboutBox</code>. wxPython provides a native implementation of the About dialog on the three major platforms (MSW, GTK, OSX). However, only the GTK version of the<code class="literal"> AboutBox</code> has native support for all the extra fields that the<code class="literal"> AboutDialogInfo</code> supports. If the<code class="literal"> AboutDialogInfo</code> contains any fields that the native dialog does not support, wxPython will automatically switch to the generic version of the dialog. This can be a problem if you want to maintain a native look and feel in your application. So following is a list of the other<code class="literal"> AboutDialogInfo</code> fields that are available, and which ones will cause the generic dialog to be used on Windows and OS X:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Other<code class="literal"> AboutDialogInfo</code> fields</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetArtists(list_of_strings)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>For crediting the application's graphic artists.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetDevelopers(list_of_strings)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>For crediting the application's developers.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetDocWriters(list_of_strings)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>For crediting the application's documentation writers.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetIcon(icon)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Customize the dialog's icon. Default is the application icon (GTK only)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetLicense(license_string)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>For displaying the application's long license text (GTK only).</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetTranslators(list_of_strings)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>For crediting the application's translators.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">SetWebSite(url_string)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Creates a hyperlink to a website in the dialog (GTK only).</p>
</td></tr></tbody></table></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec24"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The<span class="emphasis"><em> Utilizing Stock IDs</em></span> recipe in<a class="link" href="ch01.html" title="Chapter 1. Getting Started with wxPython"> Chapter 1</a>,<span class="emphasis"><em> Getting Started with wxPython</em></span> explains the usage of the built-in IDs.</li><li class="listitem" style="list-style-type: disc">The<span class="emphasis"><em> Adding Menus and MenuBars</em></span> recipe in<a class="link" href="ch03.html" title="Chapter 3. Basic Building Blocks of a User Interface"> Chapter 3</a>,<span class="emphasis"><em> Basic Building Blocks of a User Interface</em></span> contains detailed information about creating menus and adding them to a Frame's<code class="literal"> MenuBar</code>.</li></ul></div></div></div></div>
</body></html>