<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:pls="http://www.w3.org/2005/01/pronunciation-lexicon" xmlns:ssml="http://www.w3.org/2001/10/synthesis">
<head>
  <meta charset="UTF-8"/>
  <title>Collections</title>
  <link type="text/css" rel="stylesheet" media="all" href="style.css"/>
  <link type="text/css" rel="stylesheet" media="all" href="core.css"/>
</head>
<body>
  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Collections</h1>
            </header>

            <article>
                
<p>In the last chapter, we learned about functions and scope of variable. In functions, we learned about defining a function, functions with arguments, functions with arguments and return type, functions with default arguments, functions with variable length arguments, and, finally, in functions, we saw how to use key-value pairs as variable length arguments. We covered the topic of scope variable and&#160;memory management. In this chapter, we will touch the essence of every programming language, that is, collections. Some of the topics under collections such as list, dictionary, and tuple have already been covered in the previous chapter. In this chapter, we will be looking at counter, deque, ordered dictionary, default dictionary, and named tuple.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Collections</h1>
            </header>

            <article>
                
<p>While for people with some experience in programming this is not a new topic, but those who are just taking up programming for the first time, it is a topic that will raise quite a bit of curiosity in their minds. What is a collection? The answer to this question can be well understood by the day-to-day examples from our lives. Everyone has seen a&#160;collection of stamps, collection of books, or collection of flowers, and so on. So basically we group items in a collection. What type of items does a collection contain? Pretty sure this question would be the next one. Well, a collection can contain either one type of item, for example, a collection of flowers (here, the type is flowers) or the collection can be a hybrid collection, for example, a collection of books and magazines (here, the type being books and magazines). In Python programming, each collection has unique characteristic and can be used to achieve the desired outcome. All the collections are part of the&#160;<kbd>collections</kbd> module.&#160;</p>
<div class="packt_infobox">More about collections can be found at the website&#160;<a href="https://docs.python.org/2/library/collections.html">https://docs.python.org/2/library/collections.html</a>.</div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Counter</h1>
            </header>

            <article>
                
<p><span>Counter is a container &#160;and it tracks the frequency of values.&#160;</span></p>
<div class="packt_infobox">Container is a generic word, which can mean anything that can hold anything. For example, a bucket of water can be considered as container which contains water. Similarly, a list of guests can be considered as another container that holds the list.</div>
<p>The syntax is as follows:</p>
<pre>&gt;&gt;&gt;import collections<br/>&gt;&gt;&gt;collections.Counter()
</pre>
<p><span>It will be more clear with an example:</span></p>
<div class="CDPAlignCenter CDPAlign"><img height="316" width="660" class="image-border" src="images/image1-4.jpg"/></div>
<p><span>In the preceding screenshot,&#160;</span>we directly use the Python command line to show the example. Before using <kbd>Counter</kbd>, you will need&#160;to import the&#160;<kbd>collections</kbd> module. In the preceding example, we pass on a list of characters to&#160;<kbd>Counter</kbd>.&#160;The <kbd>Counter</kbd> processes the list and returns the frequency of each character. Here, frequency means how many times each character occurs within the list. The outcome is in the form of dictionary, where each character of the input list becomes a key and its frequency becomes value for that key. For example,&#160;<kbd>d</kbd> is the key and <kbd>4</kbd> is the value which means the character <kbd>d</kbd> has appeared four times in the list.</p>
<p>Let's view another example:</p>
<div class="CDPAlignCenter CDPAlign"><img height="449" width="514" class="image-border" src="images/image2-2.jpg"/></div>
<p>We provide&#160;sequence of strings directly to the <kbd>Counter</kbd>. Here, in this case, even empty spaces are&#160;taken into account and their frequency is calculated:&#160;</p>
<div class="CDPAlignCenter CDPAlign"><img height="520" width="510" class="image-border" src="images/image-3.jpg"/></div>
<p>In this example, we create a list of movies and then pass on the list to the <kbd>Counter</kbd>, which returns the frequency of the movies present in the list.&#160;</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Update function</h1>
            </header>

            <article>
                
<p>At any given time during programming, if there is a need to add more values to the existing counter, then the&#160;<kbd>update()</kbd> method can be used instead of creating a new counter. Let's look at the&#160;<kbd>update()</kbd> method of <kbd>Counter</kbd>.</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image4-1.jpg"/></div>
<p>In the preceding example, we try to update an empty <kbd>Counter</kbd> using the&#160;<kbd>update()</kbd> method and passing <kbd>"Locarno Caine"</kbd> to the method. Thereby, the <kbd>Counter</kbd> returns frequency of each character. Did you notice that empty space also has a frequency?</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image5-1.jpg"/></div>
<p>In the preceding example, we use the&#160;<kbd>update()</kbd> method to update the existing sequence of strings provided to the <kbd>Counter</kbd>.</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image6-2.jpg"/></div>
<p>In the preceding case, we used the&#160;<kbd>update()</kbd> method to increase the frequency of characters&#160;<kbd>"a"</kbd> and <kbd>"P"</kbd> to the existing sequence of strings. Here, we&#160;learned&#160;how the&#160;<kbd>update()</kbd> method can be used to update an empty counter, update the existing input to the counter, and increase the frequency of the existing input sequence of strings to the counter.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Usage of counters</h1>
            </header>

            <article>
                
<p>So far our examples were demonstrated using Python IDLE GUI. Now we will see the usage of counter by creating a Python file. For those who did not understand what is a Python file, read <a href="lrn-py-7d_ch01.html">Chapter 1</a>, <em>Getting Started with Python</em>, and then you can come back and continue:</p>
<pre>import collections <br/><br/>c = collections.Counter('<strong>King TutanKhamen</strong> was the youngest <strong>Pharoah</strong>')<br/>print c<br/>for letter in 'What a king?':<br/> print '%s : %d' % (letter, c[letter])
</pre>
<p>In the given example, we try to compare the stream of strings provided as input to the <kbd>Counter</kbd> with another stream of strings. In this case,&#160;<kbd>Counter</kbd> prints out only the frequency of the sequence of strings we want to compare and not the input string to the <kbd>Counter</kbd>:</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image7-4.jpg"/></div>
<p>Counter <span>does not raise <kbd>KeyError</kbd> for unknown items. If a value is&#160;not found&#160;in the input string (as with <kbd>W</kbd>, <kbd>k</kbd>, and <kbd>?</kbd> in this example), then its count is <kbd>0</kbd>.</span></p>
<div class="packt_infobox"><span>King Tutankhamen (or Tutankhamun) ruled Egypt as pharaoh for 10 years until his death at the age of 19, around 1324 B.C.&#160;</span><span>He was barely known to the modern world until 1922, when British archaeologist, Howard Carter, chiseled through a doorway and entered the boy pharaohâ€™s tomb, which had remained sealed for more than 3,200 years.&#160;This information has been taken from</span><span>&#160;<a href="http://www.history.com/topics/ancient-history/tutankhamen">http://www.history.com/topics/ancient-history/tutankhamen</a>.</span></div>
<p>We will look at another example where we will deal with the basic file operations. Here, we will provide a text file, which has sentences and we will provide this file to counter as input. The following screenshot shows the text file with some texts that will serve as input to the counter:</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image8-1.jpg"/></div>
<p>Now, let's look at the code for passing the text file as the input to the <kbd>Counter</kbd>:</p>
<pre>import collections<br/><br/>co = collections.Counter()<br/>file_txt = open("Counter_input.txt","r")<br/>for line in file_txt:<br/>        co.update(line.lower())<br/>print co
</pre>
<p><span>The preceding program gives the frequency of all the characters present in the text file. We will use the&#160;<kbd>open()</kbd> function to open the file in <kbd>read</kbd> mode and <kbd>file_txt</kbd> variable serves as handle to this file handling operation. We will use the for loop and update our counter with inputs from the file one by one. The outcome is shown in the following screenshot:</span></p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image8-3.jpg"/></div>
<p><span>There could be a scenario where you might require to choose the first five letters of higher frequency. Here you can achieve the desired outcome using the&#160;</span><kbd>most_common()</kbd> method<span>.</span></p>
<p><strong>Syntax</strong></p>
<pre>most_common(number)<span> </span>
</pre>
<p>Let's take a look at the example for the preceding scenario:</p>
<pre>import collections<br/><br/>co = collections.Counter()<br/>file_txt = open("Counter_input.txt","r")<br/>for line in file_txt:<br/>  co.update(line.lower())<br/><br/>print "Most common:n"<br/>for letter, count in co.most_common(5):<br/>     print '%s: %7d' % (letter, count)
</pre>
<p class="CDPAlignLeft CDPAlign">We have modified our example here and now we are trying to retrieve the first <kbd>5</kbd> letters of higher frequency. Here we have simply made use of the&#160;<kbd>most_common()</kbd> method of <kbd>Counter</kbd>. The outcome is shown in the following screenshot:</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image9-4.jpg"/></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Operations of Python collection counter</h1>
            </header>

            <article>
                
<p>In Python collection counter,&#160;<span>you can apply the sets operation such as&#160;addition, subtraction, union, and intersection. Let's take one example to illustrate the set operations:</span></p>
<pre>import collections<br/><br/>co1 = collections.Counter(['C','L','E','O','P','A','T','R','A'])<br/>co2 = collections.Counter('JULIUS CAESAR')<br/><br/>print co1<br/>print co2<br/><br/>print "addition n",co1 + co2 # Prints addition of sets<br/>print "Subtractionn", co1 - co2 # Prints substration of sets<br/><br/>print "Union n", co1 | co2 # Prints union of sets<br/>print "Intersection n", co1 &amp; co2  # Prints intersection of sets
</pre>
<p>Here, in the preceding example, we are performing set operations on two counters. We have done addition, subtraction, union, and intersection on both the sets. The outcome is&#160;shown in the following screenshot:</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image10-4.jpg"/></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Deque</h1>
            </header>

            <article>
                
<p><span>A Deque&#160;double-ended queue. It can be visualized similar to a hollow tube or pipe, which is open at the both ends. Deques allows addition and removal of elements from either ends. It will be more clear with examples:</span></p>
<pre>import collections <br/><br/>de = collections.deque('India')<br/>print 'deque:', de<br/>print 'Lenght :', len(de)<br/>print 'left end:', de[0]<br/>print 'right end:', de[-1]<br/><br/>de.remove('a')<br/><br/>print 'After removing:', de
</pre>
<p>Here we are providing input to deque <kbd>'India'</kbd> and we are printing the left-hand side and right-hand side elements of deque using the index and then we are removing a character <kbd>'a'</kbd> from the right-hand side of the deque using <kbd>remove()</kbd>. The output will look something like this:</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image11-5.jpg"/></div>
<p><span>The</span> <kbd>len()</kbd>&#160;function&#160;<span>gives the length of the</span> deque.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Populating deque</h1>
            </header>

            <article>
                
<div class="sec">
<p>As we have already read that deque is a double-ended queue, hence it means elements can be added&#160;from either side or the deque can be populated from either side. In order to add elements or populate the deque, we have four functions:&#160;<kbd>extend()</kbd>, <kbd>append()</kbd>, <kbd>extendleft()</kbd>, and <kbd>appendleft()</kbd>. Let's take an example to illustrate how we can populate or add elements to both sides of the deque:</p>
</div>
<div class="sec">
<pre>import collections<br/>d1 = collections.deque("Google")<br/>print d1<br/>d1.extend('raj')<br/>print "after extend :n", d1<br/>d1.append('hi')<br/>print "After append :n",d1<br/><br/>d1.extendleft("de")<br/>print "after extend leftn ", d1<br/><br/>d1.appendleft("le")<br/>print "after append leftn ", d1
</pre>
</div>
<p>Here, in this case, we are providing <kbd>"Google"</kbd> as input to the deque. We then extend the list by passing <kbd>'raj'</kbd> as the input and it is extended to the right-hand side of the deque. We append another input to the right-hand side of the deque. In order to add elements to the left, we use <kbd>extendleft()</kbd> and <kbd>appendleft()</kbd>. The output of the program will clear the doubts as shown:</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image12-3.jpg"/></div>
<div class="packt_infobox">The functions <kbd>extend()</kbd> and <kbd>append()</kbd> both add elements to any collection. The only difference is that <kbd>extend()</kbd> adds each element to the collection one by one, while <kbd>append()</kbd> considers all the elements as one and appends all at the end of the collection. For example,&#160;<kbd>extend(['Dunkirk','Calais'])</kbd> adds two elements <kbd>'Dunkirk'</kbd> and <kbd>'Calais'</kbd> one by one to the collection. While <kbd>append</kbd><span><kbd>(['Dunkirk','Calais'])</kbd> considers both of them as one element and adds to the end of the collection.</span></div>
<p><span>The</span> <kbd>extendleft()</kbd> <span>function iterates over its input and performs the equivalent of an</span> <kbd>appendleft()</kbd> <span>for each item. The final outcome is that the</span> deque <span>contains the input sequence in reverse order.</span></p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Deque consumption</h1>
            </header>

            <article>
                
<p>Deque <span>can be consumed from either both ends or one&#160;end. For consuming deque elements or retrieval of elements, we use two functions:&#160;<kbd>pop()</kbd> and <kbd>popleft()</kbd>. It will be more clear with an example:</span></p>
<pre>import collections<br/>d1 = collections.deque("abcdefghacmqdcb")<br/>print d1<br/>print "Poped element ",d1.pop()<br/>print d1<br/>print "Poped left element ",d1.popleft()<br/>print d1
</pre>
<p>Here we use <kbd>pop</kbd> to remove the elements one at a time from right end of the deque. In this case, char <kbd>b</kbd> is removed from the right end of the deque. The <kbd>popleft()</kbd>&#160;function removes element from the left end of the deque. Here,&#160;<kbd>popleft()</kbd> removed char <kbd>a</kbd> from the left end of the deque as shown:</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image13-2.jpg"/></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Deque rotation</h1>
            </header>

            <article>
                
<p><span>Deque rotation allows rotation of items on either side. For right-side rotation, the notation is <kbd>(+n)</kbd> and for left-side rotation, the notation used is <kbd>(-n)</kbd>, where n is the number of rotations:</span></p>
<pre>import collections<br/><br/>d = collections.deque(xrange(6))<br/>print "Normal queue", d<br/><br/>d.rotate(2)<br/>print "nRight rotation :", d<br/><br/>d1 = collections.deque(xrange(6))<br/>d1.rotate(-2)<br/>print "nleft rotation :", d1
</pre>
<p>In this case, using the&#160;<kbd>xrange()</kbd> function we generate a list of <kbd>5</kbd> numbers, which will serve as input to our deque. We rotate the deque on the right side and then on the left side. The results can be seen here:</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image14-2.jpg"/></div>
<p><span>From the output, we can observe that in the right rotation, items are shifted to the right direction. In the left rotation, the items are shifted to the left direction.</span></p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Ordered dictionary</h1>
            </header>

            <article>
                
<p><span>The <kbd>OrderedDict</kbd> is a subclass of the dictionary and it remembers the order in which the elements are added:</span></p>
<p><strong>Syntax</strong></p>
<pre>d1 = collections.OrderedDict() <br/><span>d1 is ordered dictionary here.</span>
</pre>
<p><span>Let's look at the comparison between dictionary and ordered dictionary:</span></p>
<pre>import collections <br/>print 'Regular Dictionary'<br/>d = {}<br/>d['a']= 'SAS'<br/>d['b']= 'PYTHON'<br/>d['c']= 'R'<br/><br/>for k,v in d.items():<br/>  print k, ":",v<br/><br/>print 'n Ordered dictionary'<br/><br/>d1 = collections.OrderedDict()<br/>d1['a']= 'SAS'<br/>d1['b']= 'PYTHON'<br/>d1['c']= 'R'<br/><br/>for k,v in d1.items():<br/>       print k, ":",v
</pre>
<p>Here, we create a normal dictionary and an ordered dictionary. Both the outputs are shown here:</p>
<div class="CDPAlignCenter CDPAlign"><img height="303" width="598" class="image-border" src="images/image15-3.jpg"/></div>
<p><span>As we could see, the ordered dictionary has retained the order in which the elements were&#160;added.</span></p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Sorting of ordered dictionary based upon keys</h1>
            </header>

            <article>
                
<div class="sec">
<p>We can sort the ordered dictionary using the&#160;<kbd>sorted()</kbd> function:</p>
<p><strong>Syntax</strong></p>
<pre>dict = collections.OrderedDict(sorted(d1.items()))<br/>dict = New sorted dictionary<br/>d1= Original Order dictionary
</pre>
</div>
<p class="sec">Let's take an example to understand the <kbd>sorted()</kbd> function. For a refresher on <kbd>sorted()</kbd> function, you can revisit <a href="lrn-py-7d_ch04.html">Chapter 4</a>, <em>Lists</em>:</p>
<div class="sec">
<pre>import collections <br/>print 'n Order dictionary'<br/>d1 = collections.OrderedDict()<br/>d1['a']= 'SAS'<br/>d1['d']= 'PYTHON'<br/>d1['b']= 'JULIA'<br/>d1['f']= 'R'<br/>d1['c']= 'SPARK'<br/><br/>for k,v in d1.items():<br/> print k, ":",v<br/>print 'n Sorted Order dictionary'<br/>dict = collections.OrderedDict(sorted(d1.items()))<br/><br/>for k,v in dict.items():<br/>   print k, ":",v
</pre>
</div>
<p>Here we create an ordered dictionary <kbd>d1</kbd> and then sort it using the&#160;<kbd>sorted()</kbd> function. The following output will make it more clear:</p>
<div class="CDPAlignCenter CDPAlign"><img height="233" width="459" class="image-border" src="images/image16-2.jpg"/></div>
<p><span>By default, the dictionary is sorted according to keys.</span></p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Sorting of ordered dictionary based upon values</h1>
            </header>

            <article>
                
<p>We can also sort the ordered dictionary based upon values:</p>
<p><strong>Syntax</strong></p>
<pre> dict = collections.OrderedDict(sorted(d1.items(), key=lambda (k,v): v)) <br/> dict <span>= New sorted dictionary </span><br/> d1<span>=  Original Ordered dictionary </span>
</pre>
<p><span>Here, the&#160;</span>lambda <span>function changes the key to its value. As ordered, the dictionary returns the&#160;</span><kbd>(key, value)</kbd> <span>pair. The lambda function makes&#160;<kbd>key = value</kbd>, thus the ordered dictionary will be sorted by its value. Let's take an example to understand the sorting of the ordered dictionary based upon values:</span></p>
<pre>import collections <br/>print 'n Order dictionary'<br/>d1 = collections.OrderedDict()<br/>d1['a']= 'SAS'<br/>d1['d']= 'PYTHON'<br/>d1['b']= 'SAP HANNA'<br/>d1['f']= 'R'<br/>d1['c']= 'JULIA'<br/><br/>for k,v in d1.items():<br/>   print k, ":",v<br/>print 'n Sorted Order dictionary'<br/>dict = collections.OrderedDict(sorted(d1.items(), key=lambda (k,v): v))<br/><br/>for k,v in dict.items():<br/>      print k, ":",v
</pre>
<p>As you can clearly see from the preceding example, the&#160;<kbd>lambda()</kbd> function converts <kbd>key</kbd> to <kbd>value</kbd> and we can see the output as shown here:</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image17-2.jpg"/></div>
<div class="packt_tip"><span>The lambda function is explained in the special function section.</span></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Default dictionary</h1>
            </header>

            <article>
                
<p><span>So far we have learned about regular dictionary and ordered dictionary. In this section, we will learn a special type of dictionary called default dictionary, which is provided by the&#160;<kbd>defaultdict</kbd> module of collections. A <kbd>defaultdict</kbd> works exactly the way a normal <kbd>dict</kbd></span>&#160;does,<span>&#160;but it is initialized with a callable function called <kbd>default_factory()</kbd> that takes no arguments and provides a default value for a nonexistent key.</span></p>
<p><strong>Syntax</strong></p>
<pre>defaultdict(default_factory())
</pre>
<p><span>We will try to understand with two examples:</span></p>
<pre>from collections import defaultdict<br/><br/>def func():<br/>        return "Cricket"<br/><br/>game = defaultdict(func)<br/><br/>game["A"]= "Football"<br/>game["B"] = "Badminton"<br/><br/>print game <br/>print game["A"]<br/>print game["B"]<br/>print game["C"]
</pre>
<p><span>In this case, our function or function <kbd>func</kbd> acts as a&#160;<kbd>default_factory</kbd> function. We have assigned</span><span>&#160;</span><kbd>game["A"]= "Football"</kbd>, where &#160;<span><kbd>"A"</kbd> is the key. If key is new (not found in the dictionary <kbd>"game"</kbd>), then <kbd>defaultdict</kbd> does not give an error; instead, it returns the default value, which is returned by the&#160;<kbd>default_factory()</kbd> function. So, for the new key <kbd>"C"</kbd>, the default value is <kbd>"Cricket"</kbd>. This will be more clear with the mentioned output:</span></p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image18-1.jpg"/></div>
<p>The preceding task can be achieved by following the lambda function. Let's understand with an example:</p>
<pre>from collections import defaultdict<br/>game = defaultdict(lambda : "Cricket")<br/><br/>game["A"]= "Football"<br/>game["B"] = "Badminton"<br/><br/>print game <br/>print game["A"]<br/>print game["B"]<br/>print game["C"]
</pre>
<p>Here, we just used the lambda function, which initializes the default value of <kbd>"Cricket"</kbd> if any new key is encountered:</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image19-1.jpg"/></div>
<p><span>Now, next we will use</span> int <span>as <kbd>default_factory</kbd>&#160;function. The default value for&#160;</span>int <span>is <kbd>0</kbd>:</span></p>
<pre>from collections import defaultdict<br/><br/>game = defaultdict(int)<br/><br/>game["A"]= "Football"<br/>game["B"] = "Badminton"<br/><br/>print game <br/>print game["A"]<br/>print game["B"]<br/>print game["C"]
</pre>
<p>Here, we just initialized the int value for any new key encountered. For <kbd>game["C"]</kbd>, the output returned is <kbd>0</kbd>:</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image20-1.jpg"/></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Sample problem solved by the default dictionary - scenario one</h1>
            </header>

            <article>
                
<p><span>Let's consider</span><span>&#160;a simple problem solved by default dictionary; here we would like to calculate the frequency of elements present in the list. Let's examine the scenario with an example:</span></p>
<pre>from collections import defaultdict<br/><br/>game = defaultdict(int)<br/><br/>list1 = ['cricket', 'badminton', 'hockey' 'rugby', 'golf', 'baseball' ,   'football']<br/><br/>for each in list1:<br/>        game[each]= game[each]+1<br/><br/>print game
</pre>
<p>As the default value is initialized with <kbd>0</kbd> we have incremented it with <kbd>1</kbd>, and, in this way, we can calculate the frequency of elements present in the list:</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image21-1.jpg"/></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Sample problem solved by the default dictionary - scenario two</h1>
            </header>

            <article>
                
<p>Let's analyze a scenario where we have a list of tuple pairs. The list&#160;<kbd>tuple_list_county = [('US', 'Visconsin'), ('Germany', 'Bavaria'), ('UK', 'Bradfordshire'), ('India', 'punjab'), ('China', 'Shandong'), ('Canada', 'Nova Scotia')]</kbd> <span>is the pair of <kbd>(Country, county)</kbd>. So our aim is to make our county or state as <kbd>key</kbd> and <kbd>country</kbd> as the list of values. Let's do it with the following code:</span></p>
<pre>from collections import defaultdict<br/><br/>game = defaultdict(list)<br/><br/>tuple_list_county = <span> [('</span><span>US</span><span>', '</span><span>Visconsin</span><span>'), ('</span><span>Germany</span><span>', 'Bavaria</span><span>'), ('</span><span>UK</span><span>', 'Bradfordshire</span><span>'), ('</span><span>India</span><span>', '</span><span>punjab</span><span>'), ('</span><span>China</span><span>', 'Shandong</span><span>'), ('</span><span>Canada</span><span>', '</span><span>Nova Scotia</span><span>')]</span><br/><br/>print game["any_value"]  <br/><br/>for k,v in tuple_list_county:<br/>      game[k].append(v)<br/><br/>print game
</pre>
<p><span>Here, the default value is the list itself. The first value of the tuple is fixed as <kbd>key</kbd> and the second value is appended:</span></p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image22.jpg"/></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Named tuple</h1>
            </header>

            <article>
                
<p><span>Python facilitates you to create your own data type. In the Python collection,&#160;<kbd>namedtuple</kbd> gives you a special feature to create your own data type. In the C language, you might have used struct to create your own data type.</span> <span>When you want to create a new data type, you would like to explore the answers to some questions as what should be the name of the new data type? What are the fields of the new data type? Let's discuss this&#160;with a syntax and an example&#160;of <kbd>namedtuple.</kbd></span></p>
<p><strong>Syntax</strong></p>
<pre>collections.namedtuple(typename, field_names[, verbose=False][, rename=False])<br/><br/>
</pre>
<p>Let's try to understand the syntax of <kbd>namedtuple</kbd>. In the preceding&#160;syntax:</p>
<ul>
<li>The <kbd>typename</kbd> defines the name of the new data type</li>
<li>The <kbd>field_names</kbd> can be a sequence of strings such as&#160;<kbd>['x', 'y']</kbd> or string in which values are whitespaced or <kbd>,</kbd>&#160;separated</li>
<li>If verbose is <kbd>False</kbd>, then the class definition would not be printed, it is a good idea to keep it <kbd>False</kbd></li>
<li>If rename is <kbd>False</kbd>, then the invalid field names are automatically replaced with positional names, for example,&#160;<kbd>'def, age, empid'</kbd> is converted to <kbd>'_0 , age, empid'</kbd> because <kbd>def</kbd> is a keyword</li>
</ul>
<p><span>Let's discuss with an&#160;example:</span></p>
<pre>import collections<br/>employee = collections.namedtuple('emp','name, age, empid')<br/><br/>record1 = employee("Hamilton", 28, 12365 ) <br/><br/>print "Record is ", record1<br/>print "name of employee is ", record1.name<br/>print "age of employee is ", record1.empid<br/><br/>print "type is ",type(record1)
</pre>
<p><span>Here, we create a <kbd>namedtuple emp</kbd>, which will contain the name of the employee, his/her age and the employee ID. We print out the complete record along with <kbd>name</kbd>, <kbd>empid</kbd>, and what type of record <kbd>namedtuple</kbd> contains. In order to access the values of <kbd>namedtuple</kbd>, we use the&#160;<kbd>.</kbd> operator along with the name of the tuple. As the <kbd>namedtuple</kbd> contains the record type as <kbd>emp</kbd>, the outcome displays the same as shown here:</span></p>
<div class="CDPAlignCenter CDPAlign"><img height="246" width="539" class="image-border" src="images/image23-1.jpg"/></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Adding values and creating a dictionary </h1>
            </header>

            <article>
                
<p>In the next example, we will understand how to add list values into <kbd>namedtuple</kbd> and how to make dictionary from <kbd>namedtuple</kbd>:</p>
<pre>import collections<br/>employee = collections.namedtuple('emp','name, age, empid')<br/>list1 = ['BOB', 21, 34567]<br/>record2 =employee._make(list1)<br/>print record2<br/>print "n"<br/>print (record2._asdict())
</pre>
<p><span>Here, by using &#160;</span><kbd>_make</kbd><span>, we can add a list into a <kbd>namedtuple</kbd> and by using <kbd>_asdict</kbd> we can create dictionary of <kbd>namedtuple</kbd></span>:</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image24-1.jpg"/></div>
<p><span>Now, consider a scenario where&#160;you would like to replace a value from <kbd>namedtuple.</kbd> Like tuple, the <kbd>namedtuple</kbd>&#160;is also immutable. But you can use the &#160;<kbd>_replace</kbd> function to replace the value from <kbd>namedtuple</kbd>:</span></p>
<pre>import collections<br/>employee = collections.namedtuple('emp','name, age, empid')<br/><br/>record1 = employee("Marina", 28, 12365 ) <br/><br/>print "Record is ", record1<br/>print "n"<br/>print  record1._replace(age= 25)<br/>print "n"<br/>print "Record is ", record1<br/>print "n"<br/>record1 = record1._replace(age= 25)<br/>print "Record is ", record1<br/><br/>
</pre>
<p>Here, we are simply using the dot (<kbd>.</kbd>) operator followed by the&#160;<kbd>_replace()</kbd> function and providing the new value as an input to the&#160;<kbd>_replace()</kbd> function. In this way, we can replace the existing value in a <kbd>namedtuple</kbd>:</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image25-1.jpg"/></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Summary</h1>
            </header>

            <article>
                
<p>In collections, we learned about collections, and asked what are collections? What is their importance in any programming language? We learned about different types of collections, which are available in the Python programming language. We learned about module collection and its various members, which we import in our code. We also learned about counter, deque, ordered dictonary, default dictionary, and finally <kbd>namedtuple</kbd>. In the next chapter, we will take some object-oriented programming (OOPs) concepts and we will see how Python supports the OOPs concepts.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>
</body>
</html>