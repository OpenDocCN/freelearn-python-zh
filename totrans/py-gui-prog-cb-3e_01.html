<html><head></head><body><div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating the GUI Form and Adding Widgets</h1>
                </header>
            
            <article>
                
<p class="CDPAlignLeft CDPAlign">In this chapter, we will develop our first GUI in Python. We will start with the minimum code required to build a running GUI application. Each recipe then adds different widgets to the GUI form.</p>
<p>We will start by using the <kbd>tkinter</kbd> GUI toolkit.</p>
<div class="packt_infobox"><kbd>tkinter</kbd> ships with Python. There is no need to install it once you have installed Python version 3.7 or later. The <kbd>tkinter</kbd> GUI toolkit enables us to write GUIs with Python.</div>
<p>The old world of the DOS Command Prompt has <span>long</span> been outdated. Some developers still like it for development work. The end user of your program expects a more modern, good-looking GUI.</p>
<p>In this book, you will learn how to develop GUIs using the Python programming language.</p>
<div class="packt_infobox">By starting with the minimum amount of code, we can see the <strong>pattern</strong> every GUI written with <kbd>tkinter</kbd> and Python follows. First come the <kbd>import</kbd> statements, followed by the creation of a <kbd>tkinter</kbd> class. We then can call methods and change attributes. At the end, we always call the Windows event loop. Now we can run the code.<br/>
We progress from the most simple code, adding more and more functionality with each following recipe, introducing different widget controls and how to change and retrieve attributes.</div>
<p>In the first two recipes, we will show the entire code, consisting of only a few lines of code. In the following recipes, we will only show the code to be added to the previous recipes because, otherwise, the book would get too long, and seeing the same code over and over again is rather boring.</p>
<div class="packt_infobox">If you don't have the time to type the code yourself, you can download all of the code for the entire book from <a href="https://github.com/PacktPublishing/Python-GUI-Programming-Cookbook-Third-Edition">https://github.com/PacktPublishing/Python-GUI-Programming-Cookbook-Third-Edition</a>.</div>
<p>At the beginning of each chapter, I will show the Python modules that belong to each chapter. I will then reference the different modules that belong to the code shown, studied, and run.</p>
<p><span>By the end of this chapter, we will have created a working GUI application that consists of labels, buttons, textboxes, comboboxes, check buttons in various states, and radio buttons that change the background color of the GUI.</span></p>
<p>Here is an overview of the Python modules (ending in a <kbd>.</kbd><kbd>py</kbd> extension) for this chapter:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/d997f179-53b2-4bbc-b875-810e9f20d52d.png" style="width:23.58em;height:20.58em;" width="382" height="335"/></p>
<p>In this chapter, we start creating amazing GUIs using Python 3.7 or later. We will cover the following topics:</p>
<ul>
<li>Creating our first Python GUI</li>
<li>Preventing the GUI from being resized</li>
<li>Adding a label to the GUI form</li>
<li>Creating buttons and changing their text attributes</li>
<li>Creating textbox widgets</li>
<li>Setting the focus to a widget and disabling widgets</li>
<li>Creating combobox widgets</li>
<li>Creating a check button with different initial states</li>
<li>Using radio button widgets</li>
<li>Using scrolled text widgets</li>
<li>Adding several widgets in a loop</li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating our first Python GUI</h1>
                </header>
            
            <article>
                
<p>Python is a very powerful programming language. It ships with the built-in <kbd>tkinter</kbd> module. In only a few lines of code (four, to be precise) we can build our first Python GUI.</p>
<div class="packt_infobox"><kbd>tkinter</kbd> is a Python <strong>interface</strong> to <kbd>tk</kbd>. <kbd>tk</kbd> is a GUI toolkit and related to <kbd>Tcl</kbd>, which is a tool command language. You can learn more about <kbd>tk</kbd> at <a href="https://docs.python.org/3/library/tk.html">https://docs.python.org/3/library/tk.html</a>.<br/>
<br/>
Another website related to <kbd>tcl</kbd> and <kbd>tk</kbd> is <a href="https://www.tcl.tk/">https://www.tcl.tk/</a>.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>To follow this recipe, a working Python development environment is a prerequisite. The IDLE GUI, which ships with Python, is enough to start. IDLE was built using <kbd>tkinter</kbd>!</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p><span>Let's take a look at how to create our first Python GUI:</span></p>
<ol>
<li>Create a new Python module and name it <kbd>First_GUI.py</kbd>.</li>
<li>At the top of the <kbd>First_GUI.py</kbd> <span>module, import</span> <kbd>tkinter</kbd><span>:</span></li>
</ol>
<pre style="padding-left: 60px">import tkinter as tk</pre>
<ol start="3">
<li>Create an instance of the <kbd>Tk</kbd> class:</li>
</ol>
<pre style="padding-left: 60px">win = tk.Tk()</pre>
<ol start="4">
<li>Use the instance variable to set a title:</li>
</ol>
<pre style="padding-left: 60px">win.title("Python GUI")</pre>
<ol start="5">
<li>Start the window's main event loop:</li>
</ol>
<pre style="padding-left: 60px">win.mainloop()</pre>
<p style="padding-left: 60px">The following screenshot shows the four lines of <kbd>First_GUI.py</kbd> required to create the resulting GUI:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/7806e7de-8ff9-4871-b8ad-d4c0f74b6b1e.png" style="width:14.25em;height:16.33em;" width="205" height="233"/></p>
<ol start="6">
<li>Run the GUI module. On executing the preceding code, the following output is obtained:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/abb1665f-46b1-4ced-b517-e57213a64560.png" width="225" height="58"/></p>
<div class="packt_figure CDPAlignLeft CDPAlign">
<p>Now, let's go behind the scenes to understand the code better.</p>
</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p>In <em>line 9</em>, we import the built-in <kbd>tkinter</kbd> module and alias it as <kbd>tk</kbd> to simplify our Python code. In <em>line 12</em>, we create an instance of the <kbd>Tk</kbd> class by calling its constructor (the parentheses appended to <kbd>Tk</kbd> turns the class into an instance). We are using the <span><kbd>tk</kbd></span> alias so we don't have to use the longer word <kbd>tkinter</kbd>. We are assigning the class instance to a variable named <kbd>win</kbd> (short for a window) so that we can access the class attributes via this variable. As Python is a dynamically typed language, we did not have to declare this variable before assigning to it, and we did not have to give it a specific type. Python <em>infers</em> the type from the assignment of this statement. Python is a strongly typed language, so every variable always has a type. We just don't have to specify its type beforehand like in other languages. This makes Python a very powerful and productive language to program in.</p>
<div class="packt_infobox">
<p>A little note about classes and types: In Python, every variable always has a type. We cannot create a variable that does not have a type. Yet, in Python, we do not have to declare the type beforehand, as we have to do in the C programming language.</p>
<p>Python is smart enough to infer the type. C#, at the time of writing this book, also has this capability.</p>
<p>Using Python, we can create our own classes using the <kbd>class</kbd> keyword instead of the <kbd>def</kbd> keyword.</p>
<p>In order to assign the class to a variable, we first have to create an instance of our class. We create the instance and assign this instance to our variable, for example:<br/>
<span><kbd>class AClass(object):<br/></kbd></span> <span><kbd>print('Hello from AClass')<br/></kbd></span> <span><kbd>class_instance = AClass()</kbd><br/></span></p>
<p>Now, the <kbd>class_instance</kbd> <span>variable</span> is of the <kbd>AClass</kbd> type.<br/>
If this sounds confusing, do not worry. We will cover <strong>object-oriented programming</strong> (<strong>OOP</strong>) in the coming chapters.</p>
</div>
<p>In line 15, we use the instance variable (<kbd>win</kbd>) of the class to give our window a title by calling the <kbd>title()</kbd> method, passing in a string.</p>
<p class="mce-root"/>
<div class="packt_tip CDPAlignLeft CDPAlign">You might have to enlarge the running GUI to see the entire title.</div>
<p>In line 20, we start the window's event loop by calling the <kbd>mainloop</kbd> method on the class instance, <kbd>win</kbd>. Up to this point in our code, we have created an instance and set one attribute (the window title), but the GUI will not be displayed until we start the main event loop.</p>
<div class="packt_infobox">
<p>An event loop is a mechanism that makes our GUI work. We can think of it as an endless loop where our GUI is waiting for events to be sent to it. A button click creates an event within our GUI, or our GUI being resized also creates an event.</p>
<p>We can write all of our GUI code in advance and nothing will be displayed on the user's screen until we call this endless loop (<kbd>win.mainloop()</kbd> in the preceding code). The event loop ends when the user clicks the red <span class="packt_screen">X</span> button or a widget that we have programmed to end our GUI. When the event loop ends, our GUI also ends.</p>
</div>
<p>This recipe used the minimum amount of Python code to create our first GUI program. However, throughout this book we will use OOP when it makes sense.</p>
<p>We've successfully learned how to create our first Python GUI. Now, let's move on to the next recipe.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Preventing the GUI from being resized</h1>
                </header>
            
            <article>
                
<p><span>By default, a GUI created</span> using <span><kbd>tkinter</kbd> can be resized. This is not always ideal. The widgets we place onto our GUI forms might end up being resized in an improper way, so in this recipe, we will learn how to prevent our GUI from being resized by the user of our GUI application.</span></p>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>This recipe extends the previous one, <em>Creating our first Python GUI</em>, so one requirement is to have typed the first recipe yourself into a project of your own. Alternatively, you can download the code from <a href="https://github.com/PacktPublishing/Python-GUI-Programming-Cookbook-Third-Edition">https://github.com/PacktPublishing/Python-GUI-Programming-Cookbook-Third-Edition</a><a href="https://github.com/PacktPublishing/Python-GUI-Programming-Cookbook-Second-Edition/">/</a><a href="https://github.com/PacktPublishing/Python-GUI-Programming-Cookbook-Second-Edition/">.</a></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p>Here are the steps to prevent the GUI from being resized:</p>
<ol>
<li class="CDPAlignLeft CDPAlign">Start with the module from the previous recipe and save it as <kbd>Gui_not_resizable.py</kbd>.</li>
<li class="CDPAlignLeft CDPAlign">Use the <kbd>Tk</kbd> instance variable, <kbd>win</kbd>, to call the <kbd>resizable</kbd> method:</li>
</ol>
<pre style="padding-left: 60px">win.resizable(False, False)</pre>
<p style="padding-left: 60px" class="CDPAlignLeft CDPAlign">Here is the code to prevent the GUI from being resized (<kbd><span>GUI_not_resizable.py</span></kbd>):</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/09c82c3d-90d2-4798-b065-0424030d8fb8.png" style="width:29.50em;height:23.67em;" width="408" height="329"/></p>
<ol start="3">
<li>Run the code. Running the code creates this GUI:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="Images/34fbdde8-3e1d-4dda-9b23-4eb16a69cf8e.png" style="width:12.83em;height:14.83em;" width="211" height="245"/></div>
<p><span>Let's go behind the scenes to understand the code better.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p>Line 18 prevents the Python GUI from being resized.</p>
<p><span>The</span> <kbd>resizable()</kbd> <span>method is of the</span> <kbd>Tk()</kbd> <span>class and, by passing in</span> <kbd>(<span>False</span>, <span>False</span>)</kbd><span>, we prevent the GUI from being resized. We can disable both the</span> <em>x</em> <span>and</span> <em>y</em> <span>dimensions of the GUI from being resized, or we can enable one or both dimensions by passing in</span> <kbd>True</kbd> <span>or any number other than zero.</span> <kbd>(True, False)</kbd> <span>would enable the</span> <em>x</em> <span>dimension but prevent the <em>y</em> dimension from being resized.</span></p>
<p>Running this code will result in a GUI similar to the one we created in the first recipe. However, the user can no longer resize it. Also, note how the maximize button in the toolbar of the window is grayed out.</p>
<p>Why is this important? Because once we add widgets to our form, resizing our GUI can make it <span>not</span> look the way we want it to look. We will add widgets to our GUI in the next recipes, starting with <em>Adding a label to the GUI form.</em></p>
<p>We also added comments to our code in preparation for the recipes contained in this book.</p>
<div class="packt_infobox">In visual programming IDEs such as Visual Studio .NET, C# programmers often do not think of preventing the user from resizing the GUI they developed in this language. This creates inferior GUIs. Adding this one line of Python code can make our users appreciate our GUI.</div>
<p><span>We've successfully learned how to prevent the GUI from being resized. Now, let's move on to the next recipe.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Adding a label to the GUI form</h1>
                </header>
            
            <article>
                
<p>A label is a very simple widget that adds value to our GUI. It explains the purpose of the other widgets, providing additional information. This can guide the user to the meaning of an <kbd>Entry</kbd> widget, and it can also explain the data displayed by widgets without the user having to enter data into it.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>We are extending the first recipe<span>,</span> <em>Creating our first Python GUI</em>. We will leave the GUI resizable, so don't use the code from the second recipe (or comment the <kbd>win.resizable</kbd> line out).</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p>Perform the following steps to add a label to the GUI from:</p>
<ol>
<li>Start with the <span><kbd>First_GUI.py</kbd> module and save it as <kbd>GUI_add_label.py</kbd></span>.</li>
<li>Import <kbd>ttk</kbd>:</li>
</ol>
<pre style="padding-left: 60px">from tkinter import ttk</pre>
<ol start="3">
<li>Use <kbd>ttk</kbd> to add a label:</li>
</ol>
<pre style="padding-left: 60px">ttk.Label(win, text="A Label")</pre>
<ol start="4">
<li>Use the grid layout manager to position the label:</li>
</ol>
<pre style="padding-left: 60px">.grid(column=0, row=0)</pre>
<p style="padding-left: 60px">In order to add a <kbd>Label</kbd> widget to our GUI, we will import the <kbd>ttk</kbd> module from <kbd>tkinter</kbd>. Please note the two <kbd>import</kbd> statements on lines 9 and 10.</p>
<p style="padding-left: 60px"><span>The following code is added just above</span> <kbd>win.mainloop()</kbd><span>, which is located at the bottom of the first and second recipes (<kbd>GUI_add_label.py</kbd>):</span></p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/02e8ac89-0b41-440f-a7b5-1cc9b4f9c43d.png" style="width:28.67em;height:20.75em;" width="405" height="293"/></p>
<div>
<ol start="5">
<li>Run the code and observe how a label is added to our GUI:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full image-border" src="Images/5fe213c4-bea8-4e5a-b89b-abd08765ca97.png" style="width:14.42em;height:5.33em;" width="176" height="65"/></div>
</div>
<p class="CDPAlignLeft CDPAlign">Let's go behind the scenes to understand the code better.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p>In line 10 of the preceding code, we import a separate module from the <kbd>tkinter</kbd> package. The <kbd>ttk</kbd> module has some advanced widgets such as a notebook, progress bar, labels, and buttons that look different. These help to make our GUI look better. In a sense, <kbd>ttk</kbd> is an extension within the <kbd>tkinter</kbd> package.</p>
<p>We still need to import the <kbd>tkinter</kbd> package, but we need to specify that we now want to also use <kbd>ttk</kbd> from the <kbd>tkinter</kbd> package.</p>
<div class="packt_tip"><kbd>ttk</kbd> stands for <em>themed</em> <kbd>tk</kbd>. It improves our GUI's look and feel. <span>You can find more information at</span> <a href="https://docs.python.org/3/library/tkinter.ttk.html">https://docs.python.org/3/library/tkinter.ttk.html</a>.</div>
<p>Line 19 adds the label to the GUI, just before we call <kbd>mainloop</kbd>.</p>
<p>We pass our window instance into the <kbd>ttk.Label</kbd> constructor and set the <kbd>text</kbd> attribute. This becomes the text our <kbd>Label</kbd> will display. We also make use of the grid layout manager, which we'll explore in much more depth in <a href="7b1f337c-b9fe-4dc2-8c86-5827e7256831.xhtml"><span class="ChapterrefPACKT">Chapter 2</span></a>, <em>Layout Management</em>.</p>
<p>Observe how our GUI suddenly got much smaller than in the previous recipes. The reason why it became so small is that we added a widget to our form. Without a widget, the <kbd>tkinter</kbd> package uses a default size. Adding a widget causes optimization, which generally means using as little space as necessary to display the widget(s). If we make the text of the label longer, the GUI will expand automatically. We will cover this automatic form size adjustment in a later recipe in <a href="7b1f337c-b9fe-4dc2-8c86-5827e7256831.xhtml"><span class="ChapterrefPACKT">Chapter 2</span></a>, <em>Layout Management</em>.</p>
<p>Try resizing and maximizing this GUI with a label and watch what happens. <span>We've successfully learned how to add a label to the GUI form.</span></p>
<p><span>Now, let's move on to the next recipe.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating buttons and changing their text attributes</h1>
                </header>
            
            <article>
                
<p>In this recipe, we will add a button widget, and we will use this button to change an attribute of another widget that is a part of our GUI. This introduces us to callback functions and event handling in a Python GUI environment.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>This recipe extends the previous one, <em>Adding a label to the GUI form</em>. You can download the entire code from <a href="https://github.com/PacktPublishing/Python-GUI-Programming-Cookbook-Third-Edition">https://github.com/PacktPublishing/Python-GUI-Programming-Cookbook-Third-Edition</a>/.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p><span>In this recipe, we will update the label we added in the previous recipe as well as the <kbd>text</kbd> attribute of the button.</span> The steps to add a button that performs an action when clicked are as follows:</p>
<ol>
<li>Start with the <kbd><span>GUI_add_label.py</span></kbd> <span>module and save it as <kbd>GUI_create_button_change_property.py</kbd></span>.</li>
<li>Define a function and name it <kbd>click_me()</kbd>:</li>
</ol>
<pre style="padding-left: 60px">def click_me()</pre>
<ol start="3">
<li>Use <kbd>ttk</kbd> to create a button and give it a <kbd>text</kbd> attribute:</li>
</ol>
<pre style="padding-left: 60px">action.configure(text="** I have been Clicked! **")<br/>a_label.configure (foreground='red')<br/>a_label.configure(text='A Red Label')</pre>
<ol start="4">
<li>Bind the function to the button:</li>
</ol>
<pre style="padding-left: 60px">action = ttk.Button(win, text="Click Me!", command=click_me)</pre>
<ol start="5">
<li>Use the grid layout to position the button:</li>
</ol>
<pre style="padding-left: 60px"> action.grid(column=1, row=0)</pre>
<p style="padding-left: 60px">The preceding instructions produce the following code (<kbd><span>GUI_create_button_change_property.py</span></kbd>):</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="Images/cf3f5a4e-3178-42ec-81f6-5e0f913f5c98.png" style="width:30.50em;height:18.25em;" width="459" height="276"/></div>
<ol start="6">
<li class="CDPAlignLeft CDPAlign">Run the code and observe the output.</li>
</ol>
<p style="padding-left: 60px" class="CDPAlignLeft CDPAlign">The following screenshot shows how our GUI looks before clicking the button:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full image-border" src="Images/d40e857b-03ef-48a5-95fe-4becc9dbdc7a.png" width="134" height="68"/></div>
<p style="padding-left: 60px">After clicking the button, the color of the label changed and so did the text of the button, which can be seen in the following screenshot:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full image-border" src="Images/add723ee-646c-4bdd-98a8-3605aa240cf5.png" width="219" height="67"/></div>
<p><span>Let's go behind the scenes to understand the code better.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p>In line 19, we assign the label to a variable, <kbd>a_label</kbd>, and in line 20, we use this variable to position the label within the form. We need this variable in order to change its attributes in the <kbd>click_me()</kbd> function. By default, this is a module-level variable, so <span>as long as we declare the variable above the function that calls it,</span> we can access it inside the function.</p>
<p>Line 23 is the event handler that is invoked once the button gets clicked.</p>
<p>In line 29, we create the button and bind the command to the <kbd>click_me()</kbd> function.</p>
<div class="packt_infobox">GUIs are event-driven. Clicking the button creates an event. We bind what happens when this event occurs in the callback function using the <kbd>command</kbd> attribute of the <kbd>ttk.Button</kbd> widget. Notice how we do not use parentheses, only the name <kbd>click_me</kbd>.</div>
<p><span>Lines 20 and 30 both use the grid layout manager, which will be discussed in <a href="7b1f337c-b9fe-4dc2-8c86-5827e7256831.xhtml">Chapter 2</a>, <em>Layout Management</em>, in the <em>Using the grid layout manager</em> recipe. This aligns both the label and the button.</span> We also change the text of the label to include the word <kbd>red</kbd> to make it more obvious that the color has been changed. We will continue to add more and more widgets to our GUI, and we will make use of many built-in attributes in the other recipes of this book.</p>
<p><span>We've successfully learned how to create buttons and change their text attributes. Now, let's move on to the next recipe.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating textbox widgets</h1>
                </header>
            
            <article>
                
<p>In <kbd>tkinter</kbd>, a typical one-line textbox widget is called <kbd>Entry</kbd>. In this recipe, we will add such an <kbd>Entry</kbd> widget to our GUI. We will make our label more useful by describing what the <kbd>Entry</kbd> widget is doing for the user.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>This recipe builds upon the <em>Creating buttons and changing their text attributes</em> recipe, so download it from the repository and start working on it.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p>Follow these steps to create textbox widgets:</p>
<ol>
<li>Start with the <kbd><span>GUI_create_button_change_property.py</span></kbd> <span>module and save it as <span><kbd>GUI_textbox_widget.py</kbd></span></span>.</li>
<li>Use the <kbd>tk</kbd> alias of <kbd>tkinter</kbd> to create a <kbd>StringVar</kbd> variable:</li>
</ol>
<pre style="padding-left: 60px">name = tk.StringVar()</pre>
<ol start="3">
<li>Create a <kbd>ttk.Entry</kbd> widget and assign it to another variable:</li>
</ol>
<pre style="padding-left: 60px">name_entered = ttk.Entry(win, width=12, textvariable=name)</pre>
<ol start="4">
<li>Use this variable to position the <kbd>Entry</kbd> widget:</li>
</ol>
<pre style="padding-left: 60px">name_entered.grid(column=0, row=1)</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p style="padding-left: 60px"><span>The preceding instructions produce the following code (<kbd>GUI_textbox_widget.py</kbd>):</span></p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="Images/e7c9f082-4bb2-45f4-9ae5-81b15d7136ac.png" style="width:31.17em;height:11.67em;" width="451" height="169"/></div>
<ol start="5">
<li class="CDPAlignLeft CDPAlign">Run the code and observe the output; our GUI looks like this:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full image-border" src="Images/4aea7110-db84-4832-ac27-8c5c87f1582c.png" width="164" height="83"/></div>
<ol start="6">
<li>Enter some text and click the button; we will see that there is a change in the GUI, which is as follows:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full image-border" src="Images/1feb1baa-d29d-4f2e-9d52-b1dd0239eb21.png" width="203" height="86"/></div>
<p><span>Let's go behind the scenes to understand the code better.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p>In <em>step 1</em> we are creating a new Python module, and in <em>step 2</em> we are adding a <kbd>StringVar</kbd> type of <kbd>tkinter</kbd> and saving it in the <kbd>name</kbd> variable. We use this variable when we are creating an <kbd>Entry</kbd> widget and assigning it to the <kbd>textvariable</kbd> attribute of the <kbd>Entry</kbd> widget. Whenever we type some text into the <kbd>Entry</kbd> widget, this text will be saved in the <kbd>name</kbd> variable.</p>
<p class="mce-root"/>
<p>In <em>step 4</em>, we position the <kbd>Entry</kbd> widget and the preceding screenshot shows the entire code.</p>
<p>In line 24, as shown in <span>the screenshot</span>, we get the value of the <kbd>Entry</kbd> widget using <kbd>name.get()</kbd>.</p>
<p>When we created our button, we saved a reference to it in the <kbd>action</kbd> variable. We use the <kbd>action</kbd> <span>variable to call the <kbd>configure</kbd> method of the button, which then updates the text of our button.</span></p>
<div class="packt_infobox">We have not used OOP yet, so how come we can access the value of a variable that was not even declared yet? Without using OOP classes, in Python procedural coding, we have to physically place a name above a statement that tries to use that name. So, how does this work (it does)? The answer to this is that the button click event is a callback function, and by the time the button is clicked by a user, the variables referenced in this function are known and do exist.</div>
<p>Line 27 gives our label a more meaningful name; for now, it describes the textbox below it. We moved the button down next to the label to visually associate the two. We are still using the grid layout manager, which will be explained in more detail in <a href="7b1f337c-b9fe-4dc2-8c86-5827e7256831.xhtml"><span class="ChapterrefPACKT">Chapter 2</span></a>, <em>Layout Management</em>.</p>
<p>Line 30 creates a variable, <kbd>name</kbd>. This variable is bound to the Entry widget and, in our <kbd>click_me()</kbd> function, we are able to retrieve the value of the Entry <span>widget</span> by calling <kbd>get()</kbd> on this variable. This works like a charm.</p>
<p>Now we observe that while the button displays the entire text we entered (and more), the textbox Entry widget did not expand. The reason for this is that we hardcoded it to a width of <kbd>12</kbd> in <em>line 31</em>.</p>
<div class="packt_infobox">
<p>Python is a dynamically typed language and infers the type from the assignment. What this means is that if we assign a string to the <kbd>name</kbd> variable, it will be of the <kbd>string</kbd> type, and if we assign an integer to <kbd>name</kbd>, its type will be an integer.</p>
<p>Using <kbd>tkinter</kbd>, we have to declare the <kbd>name</kbd> variable as the <kbd>tk.StringVar()</kbd> <span>type</span> before we can use it successfully. The reason is that <kbd>tkinter</kbd> is not Python. We can use it with Python, but it is not the same language. See <a href="https://wiki.python.org/moin/TkInter">https://wiki.python.org/moin/TkInter</a> for more information.</p>
</div>
<p class="mce-root"/>
<p><span>We've successfully learned how to create textbox widgets. Now, let's move on to the next recipe.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Setting the focus to a widget and disabling widgets</h1>
                </header>
            
            <article>
                
<p>While our GUI is nicely improving, it would be more convenient and useful to have the cursor appear in the Entry widget as soon as the GUI appears.</p>
<p>In this recipe, we learn how to make the cursor appear in the Entry box for immediate text Entry rather than the need for the user to <em>click</em> into the Entry widget to give it the <kbd>focus</kbd> method before typing into the entry widget.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>This recipe extends the previous recipe, <em>Creating textbox widgets</em>. <span>Python is truly great. All we have to do to set the focus to a specific control when the GUI appears is call the</span> <kbd>focus()</kbd> <span>method on an instance of a</span> <kbd>tkinter</kbd> <span>widget we previously created. In our current GUI example, we assigned the</span> <kbd>ttk.Entry</kbd> <span>class instance to a variable named</span> <kbd>name_entered</kbd><span>. Now, we can give it the focus.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p>Place the following code just above the previous code, which is located at the bottom of the module, and which starts the main window's event loop, like we did in the previous recipes:</p>
<ol>
<li>Start with the <kbd><span>GUI_textbox_widget.py</span></kbd> <span>module and save it as <kbd>GUI_set_focus.py</kbd></span>.</li>
<li>Use the <kbd>name_entered</kbd> <span>variable</span> we assigned the <kbd>ttk</kbd> <kbd>Entry</kbd> widget instance to and call the <kbd>focus()</kbd> <span>method on this variable:</span></li>
</ol>
<pre style="padding-left: 60px">name_entered.focus()</pre>
<p style="padding-left: 60px"><span>The preceding instructions produce the following code (<kbd>GUI_set_focus.py</kbd>)</span>:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/b0c81903-5a17-4b6e-b234-bf354af87554.png" style="width:33.67em;height:16.00em;" width="460" height="219"/></p>
<ol start="3">
<li class="CDPAlignLeft CDPAlign">Run the code and observe the output.</li>
</ol>
<p>If you get some errors, make sure you are placing calls to variables below the code where they are declared. We are not using OOP as of now, so this is still necessary. Later, it will no longer be necessary to do this.</p>
<div class="packt_infobox">On a Mac, you might have to set the focus to the GUI window first before being able to set the focus to the Entry widget in this window.</div>
<p>Adding line 38 of the Python code places the cursor in our text Entry <span>widget</span>, giving the text Entry <span>widget</span> the focus. As soon as the GUI appears, we can type into this textbox without having to click it first. The resulting GUI now looks like this, with the cursor inside the Entry widget:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full image-border" src="Images/cf18d512-a511-4ecf-b128-1a14218d78cb.png" style="width:17.25em;height:6.08em;" width="244" height="86"/></div>
<div class="packt_figure CDPAlignLeft CDPAlign packt_tip">Note how the cursor now defaults to residing inside the text entry box.</div>
<p>We can also disable widgets. Here, we are disabling the button to show the principle. In larger GUI applications, the ability to disable widgets gives you control when you want to make things read only. Most likely, those would be combobox widgets and Entry widgets, but as we have not yet gotten to those widgets yet, we will use our button.</p>
<p>To disable widgets, we will set an attribute on the widget. We can make the button disabled by adding the following code below line 37 of the Python code to create the button:</p>
<ol>
<li>Use the <kbd><span>GUI_set_focus.py</span></kbd> <span>module and save it as <kbd>GUI_disable_button_widget.py</kbd></span>.</li>
<li>Use the <kbd><span>action</span></kbd> <span>button</span> variable to call the <kbd>configure</kbd> method and set the <kbd>state</kbd> attribute to <kbd>disabled</kbd>:</li>
</ol>
<pre style="padding-left: 60px">action.configure(state='disabled')</pre>
<ol start="3">
<li>Call the <kbd>focus()</kbd> method on the <kbd>name_entered</kbd> variable:</li>
</ol>
<pre style="padding-left: 60px">name_entered.focus()</pre>
<p style="padding-left: 60px">The preceding instructions produce the following code <span>(<kbd>GUI_disable_button_widget.py</kbd>):</span></p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/1b16ca24-16b2-4476-b5f6-ac28868c1886.png" width="494" height="94"/></p>
<ol start="4">
<li class="CDPAlignLeft CDPAlign">Run the code. After adding the preceding line of Python code, clicking the button no longer creates an action:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full image-border" src="Images/1128d990-1d86-4dda-a6c5-a0ba54b76bd7.png" width="171" height="84"/></div>
<p><span>Let's go behind the scenes to understand the code better.</span></p>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p>This code is self-explanatory. In line 39, we set the focus to one control, and in line 37, we disable another widget. Good naming in programming languages helps to eliminate lengthy explanations. Later in this book, there will be some advanced tips on how to do this while programming at work or practicing our programming skills at home.</p>
<p><span>We've successfully learned how to set the focus to a widget and disable widgets. Now, let's move on to the next recipe.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating combobox widgets</h1>
                </header>
            
            <article>
                
<p>In this recipe, we will improve our GUI by adding drop-down comboboxes that can have initial default values. While we can restrict the user to only certain choices, we can also allow the user to type in whatever they wish.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>This recipe extends the previous recipe, <em>Setting the focus to a widget and disabling widgets</em>.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p>We insert another column between the Entry widget and the <kbd>Button</kbd> widget using the grid layout manager. Here is the Python code:</p>
<ol>
<li><span>Start with the <kbd>GUI_set_focus.py</kbd></span> <span>module and save it as <kbd>GUI_combobox_widget.py</kbd></span>.</li>
<li>Change the button column to <kbd>2</kbd>:</li>
</ol>
<pre style="padding-left: 60px">action = ttk.Button(win, text="Click Me!", command=click_me)<br/>action.grid(column=2, row=1)</pre>
<ol start="3">
<li>Create a new <kbd>ttk.Label</kbd> widget:</li>
</ol>
<pre style="padding-left: 60px">ttk.Label(win, text="Choose a number:").grid(cloumn=1, row=0)</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<ol start="4">
<li>Create a new <kbd>ttk.Combobox</kbd> widget:</li>
</ol>
<pre style="padding-left: 60px">number_chosen = ttk.Combobox(win, width=12, textvariable=number)</pre>
<ol start="5">
<li>Assign values to the <kbd>Combobox</kbd> widget:</li>
</ol>
<pre style="padding-left: 60px">number_chosen['value'] = (1, 2, 4, 42, 100)</pre>
<ol start="6">
<li>Place the <kbd><span>Combobox</span></kbd> widget into <kbd>column 1</kbd>:</li>
</ol>
<pre style="padding-left: 60px">number_chosen.grid(column=1, row=1)<br/>number_chosen.current(0)</pre>
<p style="padding-left: 60px">The preceding steps produce the following code (<kbd><span>GUI_combobox_widget.py</span></kbd>):</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/b33f24d0-d54b-4ef2-8cf8-1992cbc6bf84.png" width="633" height="320"/></p>
<ol start="7">
<li>Run the code.</li>
</ol>
<p>The code, when added to the previous recipes, creates the following GUI. Note how, in line 43 in the preceding code, we assigned a tuple with <span>default values to the combobox. These values then appear in the drop-down box. We can also change them if we like (by typing in different values when the application is running):</span></p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full image-border" src="Images/038cd900-efd9-478f-8f7f-2e8ee110faf1.png" style="width:19.33em;height:12.08em;" width="266" height="166"/></div>
<p class="mce-root"><span>Let's go behind the scenes to understand the code better.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p>Line 40 adds a second label to match the newly created combobox (created in line 42). Line 41 assigns the value of the box to a variable of a special <kbd>tkinter</kbd> type <kbd>StringVar</kbd>, as we did in a previous recipe.</p>
<p>Line 44 aligns the two new controls (label and combobox) within our previous GUI layout, and line 45 assigns a default value to be displayed when the GUI first becomes visible. This is the first value of the <kbd>number_chosen['values']</kbd> tuple, the string <kbd>"1"</kbd>. We did not place quotes around our tuple of integers in line 43, but they were cast into strings because, in line 41, we declared the values to be of the <kbd>tk.StringVar</kbd> type.</p>
<p>The preceding screenshot shows the selection made by the user is <kbd>42</kbd>. This value gets assigned to the <kbd>number</kbd> variable.</p>
<p>If <kbd>100</kbd> is selected in the combobox, the <span>value of the</span> <kbd>number</kbd> variable becomes <kbd>100</kbd>.<br/>
<em>Line 42</em> binds the value selected in the combobox to the <kbd>number</kbd> variable via the <kbd>textvariable</kbd> attribute.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">There's more…</h1>
                </header>
            
            <article>
                
<p>If we want to restrict the user to <span>only</span> <span>being able to select the values we have programmed into the</span> <kbd>Combobox</kbd> <span>widget, we can do it by passing the</span> <em><kbd>state</kbd></em> attribute <span>into the constructor. Modify <em>line 42</em> as follows:</span></p>
<ol>
<li><span>Start with the <kbd><span>GUI_combobox_widget.py</span></kbd></span> <span>module and save it as <kbd>GUI_combobox_widget_readonly.py</kbd></span>.</li>
<li>Set the <kbd>state</kbd> attribute when creating the <kbd>Combobox</kbd> <span>widget:</span></li>
</ol>
<pre style="padding-left: 60px">number_chosen = ttk.Combobox(win, width=12, textvariable=number, state='readonly')</pre>
<p style="padding-left: 60px"><span>The preceding steps produce the following code (<kbd>GUI_combobox_widget_readonly.py</kbd>)</span>:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/156fe288-a835-47cc-9712-b33946ee6d5f.png" style="width:42.83em;height:6.50em;" width="614" height="93"/></p>
<ol start="3">
<li>Run the code.</li>
</ol>
<p>Now, users can no longer type values into the <kbd>Combobox</kbd> <span>widget.</span></p>
<p>We can display the value chosen by the user by adding the following line of code to our button click event callback function:</p>
<ol>
<li><span>Start with the <span><kbd>GUI_combobox_widget_readonly.py</kbd></span></span> <span>module and save it as <kbd>GUI_combobox_widget_readonly_plus_display_number.py</kbd></span><span>.</span></li>
<li><span>Extend the button click event handler by using the</span> <kbd>get()</kbd> <span>method on the</span> <kbd>name</kbd> <span>variable</span><span>, use concatenation (<kbd>+ ' ' +</kbd>), and also get the number from the</span> <kbd>number_chosen</kbd> <span>variable (also calling the <kbd>get()</kbd> method on it):</span></li>
</ol>
<pre style="padding-left: 60px">def click_me(): <br/>    action.configure(text='Hello ' + name.get() + ' ' + <br/>    number_chosen.get())</pre>
<ol start="3">
<li>Run the code.</li>
</ol>
<p>After choosing a number, entering a name, and then clicking the button, we get the following GUI result, which now also displays the number selected next to the name entered (<kbd><span>GUI_combobox_widget_readonly_plus_display_number.py</span></kbd>):</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full image-border" src="Images/0f56e0e9-7bde-47b3-b75a-d8f4df194b0e.png" style="width:19.25em;height:5.83em;" width="287" height="87"/></div>
<p><span>We've successfully learned how to add combobox widgets. Now, let's move on to the next recipe.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating a check button with different initial states</h1>
                </header>
            
            <article>
                
<p>In this recipe, we will add three check button widgets, each with a different initial state:</p>
<ul>
<li>The first is disabled and has a checkmark in it. The user cannot remove this checkmark as the widget is disabled.</li>
<li>The second check button is enabled, and by default has no checkmark in it, but the user can click it to add a checkmark.</li>
<li>The third check button is both enabled and checked by default. The users can uncheck and recheck the widget as often as they like.</li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>This recipe extends the previous recipe, <em>Creating combobox widgets</em>.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p>Here is the code for creating three check button widgets that differ in their states:</p>
<ol>
<li>Start with the <kbd>GUI_combobox_widget_readonly_plus_display_number.py</kbd> module and save it as <kbd>GUI_checkbutton_widget.py</kbd>.</li>
<li>Create three <kbd>tk.IntVar</kbd> instances and save them in local variables:</li>
</ol>
<pre style="padding-left: 60px">chVarDis = tk.IntVar()<br/>chVarUn = tk.IntVar()<br/>chVarEn = tk.IntVar()</pre>
<ol start="3">
<li>Set the <kbd>text</kbd> attributes for each of the <kbd>Combobox</kbd> widgets we are creating:</li>
</ol>
<pre style="padding-left: 60px">text="Disabled"<br/>text="UnChecked"<br/>text="Enabled"</pre>
<ol start="4">
<li>Set their <kbd>state</kbd> to <kbd>deselect</kbd>/<kbd>select</kbd>:</li>
</ol>
<pre style="padding-left: 60px">check1.select()<br/>check2.deselect()<br/>check3.select()</pre>
<ol start="5">
<li>Use <kbd>grid</kbd> to lay them out:</li>
</ol>
<pre style="padding-left: 60px">check1.grid(column=0, row=4, sticky=tk.W)<br/><span>check2.grid(column=1, row=4, sticky=tk.W)<br/></span><span>check3.grid(column=2, row=4, sticky=tk.W)</span></pre>
<p class="mce-root"/>
<p style="padding-left: 60px">The preceding steps will finally produce the following code (<kbd>GUI_checkbutton_widget.py</kbd>):</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/093457a9-b94a-4024-b1cc-73422972bf4f.png" style="width:42.67em;height:33.58em;" width="614" height="484"/></p>
<ol start="6">
<li>Run the module. Running the new code results in the following GUI:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full image-border" src="Images/8f88587a-6585-4063-a074-4e10e784ecdf.png" style="width:19.33em;height:7.83em;" width="269" height="109"/></div>
<p><span>Let's go behind the scenes to understand the code better.</span></p>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p><em>Steps 1</em> to <em>4</em> show the details and the screenshot in <em>step 5</em> displays the important aspects of the code.</p>
<p>In <em>lines 47</em>, <em>52</em>, and <em>57</em> ,we create three variables of the <kbd>IntVar</kbd> type. In the line following each of these variables, we create a <kbd>Checkbutton</kbd> <span>widget,</span> passing in these variables. They will hold the state of the <kbd>Checkbutton</kbd> <span>widget</span> (unchecked or checked). By default, that is either <kbd>0</kbd> (unchecked) or <kbd>1</kbd> (checked), so the type of the variable is a <kbd>tkinter</kbd> integer.</p>
<p>We place these <kbd>Checkbutton</kbd> widgets in our main window, so the first argument passed into the constructor is the parent of the widget, in our case, <kbd>win</kbd>. We give each <kbd>Checkbutton</kbd> widget a different label via its <kbd>text</kbd> attribute.</p>
<p>Setting the sticky property of the grid to <kbd>tk.W</kbd> means that the widget will be aligned to the west of the grid. This is very similar to Java syntax, and it means that it will be aligned to the left. When we resize our GUI, the widget will remain on the left side and not be moved toward the center of the GUI.</p>
<p>Lines 49 and 59 place a checkmark into the <kbd>Checkbutton</kbd> widget by calling the <kbd>select()</kbd> method on these two <kbd>Checkbutton</kbd> class instances.</p>
<p>We continue to arrange our widgets using the grid layout manager, which will be explained in more detail in <a href="7b1f337c-b9fe-4dc2-8c86-5827e7256831.xhtml"><span class="ChapterrefPACKT">Chapter 2</span></a>, <em>Layout Management</em>.</p>
<p><span>We've successfully learned how to create a check button with different initial states. Now, let's move on to the next recipe.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using radio button widgets</h1>
                </header>
            
            <article>
                
<p>In this recipe, we will create three <span>radio button</span> widgets. We will also add some code that changes the color of the main form, depending upon which <span>radio button</span> is selected.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>This recipe extends the previous recipe, <em>Creating a check button with different initial states</em>.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p>We add the following code to the previous recipe:</p>
<ol>
<li><span>Start with the <kbd>GUI_checkbutton_widget.py</kbd></span> <span>module and save it as <kbd>GUI_radiobutton_widget.py</kbd></span><span>.</span></li>
<li><span>Create three module-level global variables for the color names:</span></li>
</ol>
<pre style="padding-left: 60px">COLOR1 = "Blue"<br/>COLOR2 = "Gold"<br/>COLOR3 = "Red"</pre>
<ol start="3">
<li>Create a callback function for the radio buttons:</li>
</ol>
<pre style="padding-left: 60px">if radSel == 1: win.configure(background=COLOR1)<br/><span>    elif radSel == 2: win.configure(background=COLOR2)<br/></span><span>    elif radSel == 3: win.configure(background=COLOR3)</span></pre>
<ol start="4">
<li>Create three <kbd>tk</kbd> radio buttons:</li>
</ol>
<pre style="padding-left: 60px">rad1 = tk.Radiobutton(win, text=COLOR1, variable=radVar, value=1,                               <br/>                      command=radCall)<br/><span>rad2 = tk.Radiobutton(win, text=COLOR2, variable=radVar, value=2,                 <br/>                      command=radCall)<br/></span><span>rad3 = tk.Radiobutton(win, text=COLOR3, variable=radVar, value=3,     <br/>                      command=radCall)</span></pre>
<ol start="5">
<li>Use the grid layout to position them:</li>
</ol>
<pre style="padding-left: 60px">rad1.grid(column=0, row=5, sticky=tk.W, columnspan=3)<br/><span>rad2.grid(column=1, row=5, sticky=tk.W, columnspan=3)<br/></span><span>rad3.grid(column=2, row=5, sticky=tk.W, columnspan=3)</span></pre>
<p class="mce-root"/>
<p style="padding-left: 60px"><span>The preceding steps will finally produce the following code (</span><kbd>GUI_radiobutton_widget.py</kbd>):</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/1a97f958-dd66-472f-a79f-8a3434bf8239.png" style="width:45.92em;height:32.33em;" width="629" height="444"/></p>
<ol start="6">
<li>Run the code. Running this code and selecting the <span>radio button</span> named <span class="packt_screen">Gold</span> creates the following window:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full image-border" src="Images/038c201f-26b7-4559-8919-62f107f9997f.png" style="width:19.67em;height:9.83em;" width="268" height="134"/></div>
<p><span>Let's go behind the scenes to understand the code better.</span></p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p>In lines 75-77, we create some module-level global variables that we will use in the creation of each radio button, as well as in the callback function that creates the action of changing the background color of the main form (using the <kbd>win</kbd> <span>instance variable)</span>.</p>
<p>We are using global variables to make it easier to change the code. By assigning the name of the color to a variable and using this variable in several places, we can easily experiment with different colors. Instead of doing a global search and replace of the hardcoded string (which is prone to errors), we just need to change one line of code and everything else will work. This is known as the <strong>DRY principle</strong>, which stands for <strong>Don't Repeat Yourself</strong>. This is an OOP concept that we will use in the later recipes of the book.</p>
<div class="packt_infobox">The names of the colors we are assigning to the variables (<kbd>COLOR1</kbd><span class="InformationBoxPACKTChar">,</span> <kbd>COLOR2</kbd>, <kbd>...</kbd><span class="InformationBoxPACKTChar">)</span> are <kbd>tkinter</kbd> keywords (technically, they are <em>symbolic names</em>). If we use names that are not <kbd>tkinter</kbd> color keywords, then the code will not work.</div>
<p>Line 80 is the <em>callback function</em> that changes the background of our main form (<kbd>win</kbd>) depending upon the user's selection.</p>
<p>In line 87, we create a <kbd>tk.IntVar</kbd> variable. What is important about this is that we create only one variable to be used by all three radio buttons. As can be seen from the screenshot, no matter which <span>radio buttons</span> we select, all the others will automatically be unselected for us.</p>
<p> </p>
<p>Lines 89 to 96 create the three radio buttons, assigning them to the main form, passing in the variable to be used in the callback function that creates the action of changing the background of our main window.</p>
<div class="packt_infobox">While this is the first recipe that changes the color of a widget, quite honestly, it looks a bit ugly. A large portion of the following recipes in this book explain how to make our GUI look truly amazing.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">There's more…</h1>
                </header>
            
            <article>
                
<p>Here is a small sample of the available symbolic color names that you can look up in the official TCL documentation at <span class="URLPACKT"><a href="http://www.tcl.tk/man/tcl8.5/TkCmd/colors.htm">http://www.tcl.tk/man/tcl8.5/TkCmd/colors.htm</a></span>:</p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td class="CDPAlignCenter CDPAlign"><strong>Name</strong></td>
<td class="CDPAlignCenter CDPAlign"><strong>Red</strong></td>
<td class="CDPAlignCenter CDPAlign"><strong>Green</strong></td>
<td class="CDPAlignCenter CDPAlign"><strong>Blue</strong></td>
</tr>
<tr>
<td class="CDPAlignCenter CDPAlign"><kbd>alice blue</kbd></td>
<td class="CDPAlignCenter CDPAlign">240</td>
<td class="CDPAlignCenter CDPAlign">248</td>
<td class="CDPAlignCenter CDPAlign">255</td>
</tr>
<tr>
<td class="CDPAlignCenter CDPAlign"><kbd>AliceBlue</kbd></td>
<td class="CDPAlignCenter CDPAlign">240</td>
<td class="CDPAlignCenter CDPAlign">248</td>
<td class="CDPAlignCenter CDPAlign">255</td>
</tr>
<tr>
<td class="CDPAlignCenter CDPAlign"><kbd>Blue</kbd></td>
<td class="CDPAlignCenter CDPAlign">0</td>
<td class="CDPAlignCenter CDPAlign">0</td>
<td class="CDPAlignCenter CDPAlign">255</td>
</tr>
<tr>
<td class="CDPAlignCenter CDPAlign"><kbd>Gold</kbd></td>
<td class="CDPAlignCenter CDPAlign">255</td>
<td class="CDPAlignCenter CDPAlign">215</td>
<td class="CDPAlignCenter CDPAlign">0</td>
</tr>
<tr>
<td class="CDPAlignCenter CDPAlign"><kbd>Red</kbd></td>
<td class="CDPAlignCenter CDPAlign">255</td>
<td class="CDPAlignCenter CDPAlign">0</td>
<td class="CDPAlignCenter CDPAlign">0</td>
</tr>
</tbody>
</table>
<p> </p>
<p>Some of the names create the same color, so <kbd>alice blue</kbd> creates the same color as <kbd>AliceBlue</kbd>. In this recipe, we used the symbolic names <kbd>Blue</kbd>, <kbd>Gold</kbd>, and <kbd>Red</kbd>.</p>
<p><span>We've successfully learned how to use radio button widgets. Now, let's move on to the next recipe.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using scrolled text widgets</h1>
                </header>
            
            <article>
                
<p><kbd>ScrolledText</kbd> widgets are much larger than simple <kbd>Entry</kbd> widgets and span multiple lines. They are widgets like Notepad and wrap lines, automatically enabling vertical scroll bars when the text gets larger than the height of the <kbd>ScrolledText</kbd> widget.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>This recipe extends the previous recipe, <em>Using radio button widgets</em>. You can download the code for each chapter of this book from <a href="https://github.com/PacktPublishing/Python-GUI-Programming-Cookbook-Third-Edition">https://github.com/PacktPublishing/Python-GUI-Programming-Cookbook-Third-Edition/</a>.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p>By adding the following lines of code, we create a <kbd>ScrolledText</kbd> widget:</p>
<ol>
<li><span>Start with the <kbd><span>GUI_radiobutton_widget.py</span></kbd></span> <span>module and save it as <kbd>GUI_scrolledtext_widget.py</kbd></span><span>.</span></li>
</ol>
<p> </p>
<ol start="2">
<li>Import <kbd>scrolledtext</kbd><span>:</span></li>
</ol>
<pre style="padding-left: 60px">from tkinter import scrolledtext</pre>
<ol start="3">
<li>Define variables for the width and height:</li>
</ol>
<pre style="padding-left: 60px">scrol_w = 30<br/>scrol_h = 3</pre>
<ol start="4">
<li>Create a <kbd>ScrolledText</kbd> widget:</li>
</ol>
<pre style="padding-left: 60px">scr = scrolledtext.ScrolledText(win, width=scrol_w, height=scrol_h, wrap=tk.WORD)</pre>
<ol start="5">
<li>Position the widget:</li>
</ol>
<pre style="padding-left: 60px">scr.grid(column=0, columnspan=3)</pre>
<p style="padding-left: 60px"><span>The preceding steps will finally produce the following code (</span><kbd>GUI_scrolledtext_widget.py</kbd>):</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="Images/a749a82b-9bb7-4425-921c-f0a75b5fdff9.png" width="569" height="274"/></div>
<ol start="6">
<li>Run the code. We can actually type into our widget, and if we type enough words, the lines will automatically wraparound:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full image-border" src="Images/e1cd66e3-22fc-4d9c-9a28-82f112624c5b.png" style="width:20.17em;height:14.00em;" width="276" height="192"/></div>
<p>Once we type in more words than the height of the widget can display, the vertical scroll bar becomes enabled. This all works out of the box without us needing to write any more code to achieve this:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full image-border" src="Images/b52a7776-6fd5-4d27-b719-8ec5e6fad17b.png" style="width:19.08em;height:13.33em;" width="273" height="191"/></div>
<p><span>Let's go behind the scenes to understand the code better.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p>In line 11, we import the module that contains the <kbd>ScrolledText</kbd> widget class. Add this to the top of the module, just below the other two <kbd>import</kbd> statements.</p>
<p>Lines 100 and 101 define the width and height of the <kbd>ScrolledText</kbd> widget we are about to create. These are hardcoded values we are passing into the <kbd>ScrolledText</kbd> widget constructor in line 102.</p>
<p>These values are <em>magic numbers</em> found by experimentation to work well. You might experiment by changing <kbd>scol_w</kbd> from 30 to 50 and observe the effect!</p>
<p class="mce-root"/>
<p>In line 102, we are also setting a property on the widget by passing in <kbd>wrap=tk.WORD</kbd>. By setting the <kbd>wrap</kbd> property to <kbd>tk.WORD</kbd>, we are telling the <kbd>ScrolledText</kbd> widget to break lines by words so that we do not wraparound within a word. The default option is <kbd>tk.CHAR</kbd>, which wraps any character regardless of whether we are in the middle of a word.</p>
<p>The second screenshot shows that the vertical scroll bar moved down because we are reading a longer text that does not entirely fit into the <em>x, y</em> dimensions of the <kbd>ScrolledText</kbd> control we created.</p>
<p>Setting the <kbd>columnspan</kbd> attribute of the grid layout to <kbd>3</kbd> for the <kbd>ScrolledText</kbd> widget makes this widget span all of the three columns. If we do not set this <span>attribute</span>, our <kbd>ScrolledText</kbd> widget would only reside in column one, which is not what we want.</p>
<p><span>We've successfully learned how to use scrolled text widgets. Now, let's move on to the next recipe.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Adding several widgets in a loop</h1>
                </header>
            
            <article>
                
<p>So far, we have created several widgets of the same type (for example, a <span>radio button</span>) by basically copying and pasting the same code and then modifying the variations (for example, the column number). In this recipe, we start refactoring our code to make it less redundant.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>We are refactoring some parts of the previous recipe's code, <em>Using scrolled text widgets</em>, so you need that code for this recipe.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p>Here's how we refactor our code:</p>
<ol>
<li><span>Start with the <kbd><span>GUI_scrolledtext_widget.py</span></kbd></span> <span>module and save it as</span> <kbd>GUI_adding_widgets_in_loop.py</kbd><span>.</span></li>
<li><span>Delete the global name variables and create a Python list instead:</span></li>
</ol>
<pre style="padding-left: 60px">colors = ["Blue", "Gold", "Red"]</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<ol start="3">
<li>Use the <kbd>get()</kbd> function on the <span>radio button</span> variable:</li>
</ol>
<pre style="padding-left: 60px">radSel=radVar.get()</pre>
<ol start="4">
<li>Create logic with an <kbd>if ... elif</kbd> structure:</li>
</ol>
<pre style="padding-left: 60px">if radSel == 0: win.configure(background=colors[0])<br/><span>    elif radSel == 1: win.configure(background=color[1])<br/></span><span>    elif radSel == 2: win.configure(background=color[2])</span></pre>
<ol start="5">
<li>Use a loop to create and position the <span>radio buttons</span>:</li>
</ol>
<pre style="padding-left: 60px" class="mce-root">for col in range(3):<br/>    curRad = tk.Radiobutton(win, text=colors[col], cariable=radVar,  <br/>    value, command=radCall)<br/>    curRad.brid(column=col, row=5, sticky=tk.W)</pre>
<ol start="6">
<li>Run the code (<kbd>GUI_adding_widgets_in_loop.py</kbd>):</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/918594c9-d943-49ce-b9a6-056ea4db08a9.png" width="601" height="375"/></p>
<p class="CDPAlignLeft CDPAlign">Running this code will create the same window as before, but our code is much cleaner and easier to maintain. This will help us when we expand our GUI in the coming recipes.</p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p>In <em>line 77</em>, we have turned our global variables into a list. In line 89, we set a default value to the <kbd>tk.IntVar</kbd> variable that we named <kbd>radVar</kbd>. This is important because, while in the previous recipe we had set the value for <span>radio button</span> widgets to start at <kbd>1</kbd>, in our new loop it is much more convenient to use Python's zero-based indexing. If we did not set the default value to a value outside the range of our <span>radio button</span> widgets, one of the radio buttons would be selected when the GUI appears. While this in itself might not be so bad, <em>it would not trigger the callback</em> and we would end up with a radio button selected that does not do its job (that is, change the color of the main win form).</p>
<p>In <em>line 95</em>, we replace the three previously hardcoded creations of the <span>radio button</span> widgets with a loop that does the same. It is just more concise (fewer lines of code) and much more maintainable. For example, if we want to create 100 instead of just <kbd>3</kbd> <span>radio button</span> widgets, all we have to change is the number inside Python's range operator. We would not have to type or copy and paste 97 sections of duplicate code, just 1 number.</p>
<p>Line 82 shows the modified callback function.</p>
<p>This recipe concludes the first chapter of this book. All the following recipes in all of the next chapters will build upon the GUIs we have constructed so far, greatly enhancing it.</p>


            </article>

            
        </section>
    </div>



  </body></html>