<html><head></head><body>
<div id="_idContainer096">
<h1 class="chapter-number" id="_idParaDest-188"><a id="_idTextAnchor221"/><span class="koboSpan" id="kobo.1.1">10</span></h1>
<h1 id="_idParaDest-189"><a id="_idTextAnchor222"/><span class="koboSpan" id="kobo.2.1">Integrating the React Frontend with the Flask Backend</span></h1>
<p><span class="koboSpan" id="kobo.3.1">This chapter represents a critical point in our quest to build a full stack web application. </span><span class="koboSpan" id="kobo.3.2">In this chapter, you will be introduced to a set of instructions on how to connect a Flask web server to a React frontend. </span><span class="koboSpan" id="kobo.3.3">You will learn how to pass form entries from the React frontend to the Flask backend. </span><span class="koboSpan" id="kobo.3.4">And after</span><a id="_idIndexMarker706"/><span class="koboSpan" id="kobo.4.1"> this integration, you can be officially called a </span><strong class="bold"><span class="koboSpan" id="kobo.5.1">full stack </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.6.1">web developer</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.7.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.8.1">React web applications usually have a sleek look and feel and are regarded as the Rolls-Royce of modern frontend web application applications. </span><span class="koboSpan" id="kobo.8.2">React has an intuitive user-interface-focused library, capable of powering production-grade web and mobile applications </span><span class="No-Break"><span class="koboSpan" id="kobo.9.1">with ease.</span></span></p>
<p><span class="koboSpan" id="kobo.10.1">The robust React ecosystem coupled with React’s tools and libraries facilitates end-to-end web development. </span><span class="koboSpan" id="kobo.10.2">When you combine React’s incredible component-based design pattern with a minimalist lightweight Flask framework, you get a rich web application that can withstand the test of time and scale </span><span class="No-Break"><span class="koboSpan" id="kobo.11.1">at large.</span></span></p>
<p><span class="koboSpan" id="kobo.12.1">This chapter will help you understand the dynamics of integrating React, a frontend library, and Flask, a backend framework, in developing valuable software products. </span><span class="koboSpan" id="kobo.12.2">You will also learn how React handles forms with the Flask backend in </span><span class="No-Break"><span class="koboSpan" id="kobo.13.1">this chapter.</span></span></p>
<p><span class="koboSpan" id="kobo.14.1">Ever since the advent of the web, there has been a need for more dynamic and responsive forms in web applications. </span><span class="koboSpan" id="kobo.14.2">We will explore server-side handling of form elements, validation, and </span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">security concerns.</span></span></p>
<p><span class="koboSpan" id="kobo.16.1">In this chapter, we’ll cover the </span><span class="No-Break"><span class="koboSpan" id="kobo.17.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.18.1">The </span><em class="italic"><span class="koboSpan" id="kobo.19.1">Bizza</span></em> <span class="No-Break"><span class="koboSpan" id="kobo.20.1">application structure</span></span></li>
<li><span class="koboSpan" id="kobo.21.1">Configuring the </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">React frontend</span></span></li>
<li><span class="koboSpan" id="kobo.23.1">Making the Flask </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">backend ready</span></span></li>
<li><span class="koboSpan" id="kobo.25.1">Handling forms in React </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">and Flask</span></span></li>
<li><span class="koboSpan" id="kobo.27.1">Troubleshooting tips for the React frontend and the </span><span class="No-Break"><span class="koboSpan" id="kobo.28.1">Flask backend</span></span></li>
</ul>
<h1 id="_idParaDest-190"><a id="_idTextAnchor223"/><span class="koboSpan" id="kobo.29.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.30.1">The complete code for this chapter is available on GitHub </span><span class="No-Break"><span class="koboSpan" id="kobo.31.1">at: </span></span><a href="https://github.com/PacktPublishing/Full-Stack-Flask-and-React/tree/main/Chapter10"><span class="No-Break"><span class="koboSpan" id="kobo.32.1">https://github.com/PacktPublishing/Full-Stack-Flask-and-React/tree/main/Chapter10</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.33.1">.</span></span></p>
<h1 id="_idParaDest-191"><a id="_idTextAnchor224"/><span class="koboSpan" id="kobo.34.1">The Bizza application structure</span></h1>
<p><span class="koboSpan" id="kobo.35.1">In this section, we will go deeper into</span><a id="_idIndexMarker707"/><span class="koboSpan" id="kobo.36.1"> the structure of the application we will build in this book. </span><span class="koboSpan" id="kobo.36.2">As stated previously, we will name the fictitious web app </span><em class="italic"><span class="koboSpan" id="kobo.37.1">Bizza</span></em><span class="koboSpan" id="kobo.38.1">, a conference event </span><span class="No-Break"><span class="koboSpan" id="kobo.39.1">web application.</span></span></p>
<p><span class="koboSpan" id="kobo.40.1">This </span><em class="italic"><span class="koboSpan" id="kobo.41.1">Bizza</span></em><span class="koboSpan" id="kobo.42.1"> web app will serve as the digital hub for a conference event for speakers from the information technology industry, providing a myriad of features and functionalities that enhance the speakers’ and attendees’ overall experience. </span><span class="koboSpan" id="kobo.42.2">Let’s delve into the </span><em class="italic"><span class="koboSpan" id="kobo.43.1">Bizza</span></em> <span class="No-Break"><span class="koboSpan" id="kobo.44.1">application structure.</span></span></p>
<h2 id="_idParaDest-192"><a id="_idTextAnchor225"/><span class="koboSpan" id="kobo.45.1">Application overview</span></h2>
<p><em class="italic"><span class="koboSpan" id="kobo.46.1">Bizza</span></em><span class="koboSpan" id="kobo.47.1"> is a fictitious data-driven event</span><a id="_idIndexMarker708"/><span class="koboSpan" id="kobo.48.1"> application that allows subject experts in the information technology industry to share their insights and experiences, providing valuable knowledge to enhance event </span><span class="No-Break"><span class="koboSpan" id="kobo.49.1">attendees’ skills.</span></span></p>
<p><em class="italic"><span class="koboSpan" id="kobo.50.1">Bizza</span></em><span class="koboSpan" id="kobo.51.1"> lets you see a list of speakers and workshop schedules with details. </span><span class="koboSpan" id="kobo.51.2">This site lets users register and browse for a workshop. </span><span class="koboSpan" id="kobo.51.3">Essentially, the application</span><a id="_idIndexMarker709"/><span class="koboSpan" id="kobo.52.1"> will have the </span><span class="No-Break"><span class="koboSpan" id="kobo.53.1">following functionalities:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.54.1">A home page that displays event speakers and available event schedules with locations </span><span class="No-Break"><span class="koboSpan" id="kobo.55.1">and subjects</span></span></li>
<li><span class="koboSpan" id="kobo.56.1">A registration form for </span><span class="No-Break"><span class="koboSpan" id="kobo.57.1">event attendees</span></span></li>
<li><span class="koboSpan" id="kobo.58.1">A registration form for speakers with a subject </span><span class="No-Break"><span class="koboSpan" id="kobo.59.1">of interest</span></span></li>
<li><span class="koboSpan" id="kobo.60.1">A page for users to log in to </span><span class="No-Break"><span class="koboSpan" id="kobo.61.1">the application</span></span></li>
<li><span class="koboSpan" id="kobo.62.1">A page containing the names and details </span><span class="No-Break"><span class="koboSpan" id="kobo.63.1">of speakers</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.64.1">Next, we will delve into the </span><em class="italic"><span class="koboSpan" id="kobo.65.1">Bizza</span></em><span class="koboSpan" id="kobo.66.1"> app and break it down into its frontend and backend components. </span><span class="koboSpan" id="kobo.66.2">By doing so, we will gain a comprehensive understanding of the distinct roles and functionalities that each component serves within </span><span class="No-Break"><span class="koboSpan" id="kobo.67.1">the app.</span></span></p>
<h2 id="_idParaDest-193"><a id="_idTextAnchor226"/><span class="koboSpan" id="kobo.68.1">Breaking down the code structure into frontend and backend</span></h2>
<p><span class="koboSpan" id="kobo.69.1">In the world of software development, frontend and backend are like the yin and yang – opposites but complementing each other to provide a harmonious digital experience. </span><em class="italic"><span class="koboSpan" id="kobo.70.1">Yin and yang</span></em><span class="koboSpan" id="kobo.71.1"> is a Chinese </span><a id="_idIndexMarker710"/><span class="koboSpan" id="kobo.72.1">philosophical concept that describes opposite but </span><span class="No-Break"><span class="koboSpan" id="kobo.73.1">interconnected forces.</span></span></p>
<p><span class="koboSpan" id="kobo.74.1">In a nutshell, breaking down an application into its frontend and backend components provides a clear separation</span><a id="_idIndexMarker711"/><span class="koboSpan" id="kobo.75.1"> of concerns, promotes code reusability and portability, enables scalability and performance optimization, and fosters collaboration and parallel development. </span><span class="koboSpan" id="kobo.75.2">This approach ultimately contributes to the overall success of the web application </span><span class="No-Break"><span class="koboSpan" id="kobo.76.1">development process.</span></span></p>
<p><span class="koboSpan" id="kobo.77.1">The practice of separating frontend and backend components in software development started to gain prominence in the late 1990s and early 2000s, with the rise of web-based applications. </span><span class="koboSpan" id="kobo.77.2">During this time, web technologies were evolving in the blink of an eye, and the need for scalable and modular applications </span><span class="No-Break"><span class="koboSpan" id="kobo.78.1">became apparent.</span></span></p>
<p><span class="koboSpan" id="kobo.79.1">The introduction of JavaScript frameworks such as jQuery in the early 2000s enabled more dynamic and interactive user interfaces in the frontend. </span><span class="koboSpan" id="kobo.79.2">This led to a clearer distinction between the presentation layer (frontend) and the data processing layer (backend) of </span><span class="No-Break"><span class="koboSpan" id="kobo.80.1">web applications.</span></span></p>
<p><span class="koboSpan" id="kobo.81.1">With the emergence of </span><strong class="bold"><span class="koboSpan" id="kobo.82.1">single-page applications</span></strong><span class="koboSpan" id="kobo.83.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.84.1">SPAs</span></strong><span class="koboSpan" id="kobo.85.1">) and the proliferation of JavaScript frameworks</span><a id="_idIndexMarker712"/><span class="koboSpan" id="kobo.86.1"> and libraries such as AngularJS, React, and Vue.js, the separation between the frontend and the backend became more standardized and widely adopted. </span><span class="koboSpan" id="kobo.86.2">SPAs shifted the responsibility of rendering and managing the UI to the client side, while the backend APIs handled data retrieval </span><span class="No-Break"><span class="koboSpan" id="kobo.87.1">and manipulation.</span></span></p>
<p><span class="koboSpan" id="kobo.88.1">Now that we have discussed the key reasons for breaking down the code structure, let’s examine the frontend and backend components of the </span><em class="italic"><span class="koboSpan" id="kobo.89.1">Bizza</span></em> <span class="No-Break"><span class="koboSpan" id="kobo.90.1">web application.</span></span></p>
<p><span class="koboSpan" id="kobo.91.1">The following code structure represents the high-end level code split between the frontend and the backend. </span><span class="koboSpan" id="kobo.91.2">This allows us to separate concerns and improve </span><span class="No-Break"><span class="koboSpan" id="kobo.92.1">code reusability:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.93.1">bizza/├── backend/
├── frontend/</span></pre>
<h3><span class="koboSpan" id="kobo.94.1">Frontend structure</span></h3>
<p><span class="koboSpan" id="kobo.95.1">First, let’s</span><a id="_idIndexMarker713"/><span class="koboSpan" id="kobo.96.1"> provide an overview of the detailed </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.97.1">frontend</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.98.1"> structure:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.99.1">frontend/├── node_modules
├── package.json
├── public
    ├──favicon.ico
├──index.html
├── src
    ├──components/
    ├──pages/
    ├──hooks/
    ├──assets/
    └──App.js
    └──App.css
    └──index.js
    └──index.css
    └──setupTests.js
├──.gitignore
├──.prettierrc
├──package-lock.json
├──package.json
├──README.md</span></pre>
<p><span class="koboSpan" id="kobo.100.1">The preceding frontend code structure comprises majorly of </span><strong class="source-inline"><span class="koboSpan" id="kobo.101.1">node_modules</span></strong><span class="koboSpan" id="kobo.102.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.103.1">package.json</span></strong><span class="koboSpan" id="kobo.104.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.105.1">public</span></strong><span class="koboSpan" id="kobo.106.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.107.1">src</span></strong><span class="koboSpan" id="kobo.108.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.109.1">.gitignore</span></strong><span class="koboSpan" id="kobo.110.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.111.1">.prettierrc</span></strong><span class="koboSpan" id="kobo.112.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.113.1">package-lock.json</span></strong><span class="koboSpan" id="kobo.114.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.115.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.116.1">README.md</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.117.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.118.1">Let’s quickly break down the major </span><a id="_idIndexMarker714"/><span class="koboSpan" id="kobo.119.1">directories </span><span class="No-Break"><span class="koboSpan" id="kobo.120.1">and files:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.121.1">node_modules</span></strong><span class="koboSpan" id="kobo.122.1">: This directory contains all the packages (libraries and frameworks) that your application depends on. </span><span class="koboSpan" id="kobo.122.2">These packages are listed in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.123.1">dependencies</span></strong><span class="koboSpan" id="kobo.124.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.125.1">devDependencies</span></strong><span class="koboSpan" id="kobo.126.1"> sections of the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.127.1">package.json</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.128.1"> file.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.129.1">package.json</span></strong><span class="koboSpan" id="kobo.130.1">: This file contains metadata about your application, including its name, version, and dependencies. </span><span class="koboSpan" id="kobo.130.2">It also includes scripts you can use to build, test, and run </span><span class="No-Break"><span class="koboSpan" id="kobo.131.1">your application.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.132.1">public</span></strong><span class="koboSpan" id="kobo.133.1">: This directory contains static assets that your application will use, such as the favicon and the main HTML </span><span class="No-Break"><span class="koboSpan" id="kobo.134.1">file (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.135.1">index.html</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.136.1">).</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.137.1">src</span></strong><span class="koboSpan" id="kobo.138.1">: This directory contains the source code for your application. </span><span class="koboSpan" id="kobo.138.2">It is organized into subdirectories for components, pages, hooks, and assets. </span><span class="koboSpan" id="kobo.138.3">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.139.1">src</span></strong><span class="koboSpan" id="kobo.140.1"> directories are critical to the design pattern adopted for the React frontend. </span><span class="koboSpan" id="kobo.140.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.141.1">components</span></strong><span class="koboSpan" id="kobo.142.1"> folders contain all the components we intend to use in the </span><em class="italic"><span class="koboSpan" id="kobo.143.1">Bizza</span></em><span class="koboSpan" id="kobo.144.1"> app, </span><strong class="source-inline"><span class="koboSpan" id="kobo.145.1">pages</span></strong><span class="koboSpan" id="kobo.146.1"> contains the presentational component of the app, </span><strong class="source-inline"><span class="koboSpan" id="kobo.147.1">hook</span></strong><span class="koboSpan" id="kobo.148.1"> contains custom hooks, and finally, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.149.1">assets</span></strong><span class="koboSpan" id="kobo.150.1"> folder contains all the assets, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.151.1">images</span></strong><span class="koboSpan" id="kobo.152.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.153.1">logos</span></strong><span class="koboSpan" id="kobo.154.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.155.1">svg</span></strong><span class="koboSpan" id="kobo.156.1">, that are used in </span><span class="No-Break"><span class="koboSpan" id="kobo.157.1">the application.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.158.1">.gitignore</span></strong><span class="koboSpan" id="kobo.159.1">: This file tells Git which files and directories to ignore when you commit your code to </span><span class="No-Break"><span class="koboSpan" id="kobo.160.1">a repository.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.161.1">.prettierrc</span></strong><span class="koboSpan" id="kobo.162.1">: This file specifies the configuration options for the Prettier code formatter. </span><span class="koboSpan" id="kobo.162.2">Prettier is a popular code formatting tool that enforces a consistent style across your code base. </span><span class="koboSpan" id="kobo.162.3">It is typically placed in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.163.1">root</span></strong><span class="koboSpan" id="kobo.164.1"> directory of a JavaScript project and contains JSON syntax to define the </span><span class="No-Break"><span class="koboSpan" id="kobo.165.1">formatting rules.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.166.1">package-lock.json</span></strong><span class="koboSpan" id="kobo.167.1">: This file records the exact versions of all the packages that your application depends on, as well as any packages those packages depend on. </span><span class="koboSpan" id="kobo.167.2">It ensures that your application uses the same versions of its dependencies every</span><a id="_idIndexMarker715"/><span class="koboSpan" id="kobo.168.1"> time it </span><span class="No-Break"><span class="koboSpan" id="kobo.169.1">is installed.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.170.1">README.md</span></strong><span class="koboSpan" id="kobo.171.1">: This file contains documentation for your application, such as instructions to install and </span><span class="No-Break"><span class="koboSpan" id="kobo.172.1">run it.</span></span></li>
</ul>
<h3><span class="koboSpan" id="kobo.173.1">Backend structure</span></h3>
<p><span class="koboSpan" id="kobo.174.1">Next, we will examine how</span><a id="_idIndexMarker716"/><span class="koboSpan" id="kobo.175.1"> the backend will </span><span class="No-Break"><span class="koboSpan" id="kobo.176.1">be structured:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.177.1">backend/├── app.py
├── models
├── config
│   ├── config.py
├── .flaskenv
├── requirements.txt</span></pre>
<p><span class="koboSpan" id="kobo.178.1">The preceding represents the files and directories structure for the Flask </span><span class="No-Break"><span class="koboSpan" id="kobo.179.1">backend application.</span></span></p>
<p><span class="koboSpan" id="kobo.180.1">Let’s break down the directories </span><span class="No-Break"><span class="koboSpan" id="kobo.181.1">and files:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.182.1">app.py</span></strong><span class="koboSpan" id="kobo.183.1">: This file contains the main code for your backend application, including routes and logic to handle </span><span class="No-Break"><span class="koboSpan" id="kobo.184.1">HTTP requests.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.185.1">models</span></strong><span class="koboSpan" id="kobo.186.1">: This directory contains modules of each of the model definitions for </span><span class="No-Break"><span class="koboSpan" id="kobo.187.1">database models.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.188.1">config</span></strong><span class="koboSpan" id="kobo.189.1">: This directory contains a configuration options file for the application, such as database connection strings or </span><span class="No-Break"><span class="koboSpan" id="kobo.190.1">secret keys.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.191.1">.flaskenv</span></strong><span class="koboSpan" id="kobo.192.1">: This file contains environment variables that are specific to the </span><span class="No-Break"><span class="koboSpan" id="kobo.193.1">Flask application.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.194.1">requirements.txt</span></strong><span class="koboSpan" id="kobo.195.1">: This file lists the packages that the application depends on, including any third-party libraries. </span><span class="koboSpan" id="kobo.195.2">You can use this file to install the necessary dependencies by running </span><strong class="source-inline"><span class="koboSpan" id="kobo.196.1">pip install -</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.197.1">r requirements.txt</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.198.1">.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.199.1">Next, we will see how to </span><a id="_idIndexMarker717"/><span class="koboSpan" id="kobo.200.1">configure the React frontend and prepare it to consume the backend </span><span class="No-Break"><span class="koboSpan" id="kobo.201.1">API services.</span></span></p>
<h1 id="_idParaDest-194"><a id="_idTextAnchor227"/><span class="koboSpan" id="kobo.202.1">Configuring the React frontend for API consumption</span></h1>
<p><span class="koboSpan" id="kobo.203.1">In this section, you will </span><a id="_idIndexMarker718"/><span class="koboSpan" id="kobo.204.1">configure the frontend React app to communicate with the backend Flask server by setting up a proxy in React to consume the API from the </span><span class="No-Break"><span class="koboSpan" id="kobo.205.1">Flask server.</span></span></p>
<p><span class="koboSpan" id="kobo.206.1">In order to configure the React proxy for API consumption, you will need to update the </span><strong class="source-inline"><span class="koboSpan" id="kobo.207.1">proxy</span></strong><span class="koboSpan" id="kobo.208.1"> field in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.209.1">package.json</span></strong><span class="koboSpan" id="kobo.210.1"> file of the frontend React app. </span><span class="koboSpan" id="kobo.210.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.211.1">proxy</span></strong><span class="koboSpan" id="kobo.212.1"> field allows you to specify a URL that will be used as the base for all API requests made from the </span><span class="No-Break"><span class="koboSpan" id="kobo.213.1">React app.</span></span></p>
<p><span class="koboSpan" id="kobo.214.1">Let’s update the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.215.1">package.json</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.216.1"> file:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.217.1">Open the </span><strong class="source-inline"><span class="koboSpan" id="kobo.218.1">package.json</span></strong><span class="koboSpan" id="kobo.219.1"> file in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.220.1">project</span></strong><span class="koboSpan" id="kobo.221.1"> directory using a text editor, and then add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.222.1">proxy</span></strong><span class="koboSpan" id="kobo.223.1"> field to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.224.1">package.json</span></strong><span class="koboSpan" id="kobo.225.1"> file and set it to the URL of your </span><span class="No-Break"><span class="koboSpan" id="kobo.226.1">Flask server:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.227.1">{  "name": "bizza",  "version": "0.1.0",  "proxy": "http://localhost:5000"}</span></pre></li>
<li><span class="koboSpan" id="kobo.228.1">Next, you will need to make HTTP requests to the Flask server from the React frontend. </span><span class="koboSpan" id="kobo.228.2">We will use the </span><strong class="bold"><span class="koboSpan" id="kobo.229.1">Axios</span></strong><span class="koboSpan" id="kobo.230.1"> library for</span><a id="_idIndexMarker719"/><span class="koboSpan" id="kobo.231.1"> this purpose. </span><span class="koboSpan" id="kobo.231.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.232.1">Fetch()</span></strong><span class="koboSpan" id="kobo.233.1"> method is an alternative </span><span class="No-Break"><span class="koboSpan" id="kobo.234.1">to Axios.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.235.1">Axios is a JavaScript library that allows you to make HTTP requests from the browser. </span><span class="koboSpan" id="kobo.235.2">It is a promise-based library that uses modern techniques to make it easy to work with asynchronous requests. </span><span class="koboSpan" id="kobo.235.3">With Axios, you can make HTTP requests to retrieve data from a server, submit form data, or send data to </span><span class="No-Break"><span class="koboSpan" id="kobo.236.1">a server.</span></span></p><p class="list-inset"><span class="koboSpan" id="kobo.237.1">Axios supports a </span><a id="_idIndexMarker720"/><span class="koboSpan" id="kobo.238.1">number of different request methods, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.239.1">GET</span></strong><span class="koboSpan" id="kobo.240.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.241.1">POST</span></strong><span class="koboSpan" id="kobo.242.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.243.1">PUT</span></strong><span class="koboSpan" id="kobo.244.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.245.1">DELETE</span></strong><span class="koboSpan" id="kobo.246.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.247.1">PATCH</span></strong><span class="koboSpan" id="kobo.248.1">, and it can handle both JSON and XML data formats. </span><span class="koboSpan" id="kobo.248.2">Axios is popular among developers because it has a simple and straightforward API, making it easy to use for both beginners and </span><span class="No-Break"><span class="koboSpan" id="kobo.249.1">experienced developers.</span></span></p><p class="list-inset"><span class="koboSpan" id="kobo.250.1">Axios also has a number of features that make it flexible and powerful, such as the automatic transformation of data, support for interceptors (which allow you to modify requests or responses before they are sent or received), and the ability to </span><span class="No-Break"><span class="koboSpan" id="kobo.251.1">cancel requests.</span></span></p></li>
<li><span class="koboSpan" id="kobo.252.1">You can install Axios by running the following command in </span><span class="No-Break"><span class="koboSpan" id="kobo.253.1">your terminal:</span></span><pre class="source-code"><strong class="bold"><span class="koboSpan" id="kobo.254.1">npm install axios</span></strong></pre><p class="list-inset"><span class="koboSpan" id="kobo.255.1">Once Axios is installed, you can use it to make HTTP requests to the Flask server from the </span><span class="No-Break"><span class="koboSpan" id="kobo.256.1">React frontend.</span></span></p></li>
<li><span class="koboSpan" id="kobo.257.1">Make sure that both the frontend React app and the backend Flask server run on separate ports. </span><span class="koboSpan" id="kobo.257.2">By default, the React </span><a id="_idIndexMarker721"/><span class="koboSpan" id="kobo.258.1">development server runs on port </span><strong class="source-inline"><span class="koboSpan" id="kobo.259.1">3000</span></strong><span class="koboSpan" id="kobo.260.1">, while the Flask development server runs on </span><span class="No-Break"><span class="koboSpan" id="kobo.261.1">port </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.262.1">5000</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.263.1">.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.264.1">Next, you will need to define routes and functions in the Flask backend to handle HTTP requests coming from the </span><span class="No-Break"><span class="koboSpan" id="kobo.265.1">React frontend.</span></span></p>
<h1 id="_idParaDest-195"><a id="_idTextAnchor228"/><span class="koboSpan" id="kobo.266.1">Making Flask backend-ready</span></h1>
<p><span class="koboSpan" id="kobo.267.1">In the </span><em class="italic"><span class="koboSpan" id="kobo.268.1">Setting up the development environment with Flask</span></em><span class="koboSpan" id="kobo.269.1"> section of </span><a href="B18554_01.xhtml#_idTextAnchor014"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.270.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.271.1">, </span><em class="italic"><span class="koboSpan" id="kobo.272.1">Getting Full Stack Ready with React and Flask</span></em><span class="koboSpan" id="kobo.273.1">, we set up the development environment for the Flask server. </span><span class="koboSpan" id="kobo.273.2">Ensure your virtual environment is activated. </span><span class="koboSpan" id="kobo.273.3">You can do so by running the </span><span class="No-Break"><span class="koboSpan" id="kobo.274.1">following commands:</span></span></p>
<ul>
<li><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.275.1">For Mac/Linux</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.276.1">:</span></span><pre class="source-code"><strong class="bold"><span class="koboSpan" id="kobo.277.1">source venv/bin/activate</span></strong></pre></li>
<li><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.278.1">For Windows</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.279.1">:</span></span><pre class="source-code"><strong class="bold"><span class="koboSpan" id="kobo.280.1">Venv/Scripts/activate</span></strong></pre></li>
</ul>
<p><span class="koboSpan" id="kobo.281.1">Your virtual environment should now be activated, and your terminal prompt should be prefixed with the name of the virtual </span><a id="_idIndexMarker722"/><span class="koboSpan" id="kobo.282.1">environment (for example, </span><strong class="source-inline"><span class="koboSpan" id="kobo.283.1">(</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.284.1">venv) $</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.285.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.286.1">Next, let’s dive straight into defining an event registration route, with its function as part of the requirements for Bizza application model. </span></p>
<p><span class="koboSpan" id="kobo.287.1">Let’s add a model to handle registrations for event attendees. </span><span class="koboSpan" id="kobo.287.2">You will later use it to accept requests from the React frontend in the next section, where we will handle form inputs in React </span><span class="No-Break"><span class="koboSpan" id="kobo.288.1">and Flask.</span></span></p>
<p><span class="koboSpan" id="kobo.289.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.290.1">app.py</span></strong><span class="koboSpan" id="kobo.291.1"> file in the root directory of your application is still the main entry point for the Flask application. </span><span class="koboSpan" id="kobo.291.2">Update </span><strong class="source-inline"><span class="koboSpan" id="kobo.292.1">app.py</span></strong><span class="koboSpan" id="kobo.293.1"> with the following code snippet to define the model and endpoint to handle the </span><span class="No-Break"><span class="koboSpan" id="kobo.294.1">event registration:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.295.1">class EventRegistration(db.Model):    __tablename__ = 'attendees'
    id = db.Column(db.Integer, primary_key=True)
    first_name = db.Column(db.String(100), unique=True, nullable=False)
    last_name = db.Column(db.String(100), unique=True, nullable=False)
    email = db.Column(db.String(100), unique=True, nullable=False)
    phone = db.Column(db.String(100), unique=True, nullable=False)
    job_title = db.Column(db.String(100), unique=True, nullable=False)
    company_name = db.Column(db.String(100), unique=True,         nullable=False)
    company_size = db.Column(db.String(50), unique=True,         nullable=False)
    subject = db.Column(db.String(250), nullable=False)
def format(self):
    return {
        'id': self.id,
        'first_name': self.first_name,
        'last_name': self.last_name,
        'email': self.email,
        'phone': self.phone,
        'job_title': self.job_title,
        'company_name': self.job_title,
        'company_size': self.company_size,
        'subject': self.subject
    }</span></pre>
<p><span class="koboSpan" id="kobo.296.1">In the preceding </span><a id="_idIndexMarker723"/><span class="koboSpan" id="kobo.297.1">snippet, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.298.1">EventRegistration</span></strong><span class="koboSpan" id="kobo.299.1"> class represents a model for event registration in a database. </span></p>
<p><span class="koboSpan" id="kobo.300.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.301.1">__tablename__</span></strong><span class="koboSpan" id="kobo.302.1"> attribute specifies the name of the table in the database that this model is stored in. </span><span class="koboSpan" id="kobo.302.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.303.1">db.Model</span></strong><span class="koboSpan" id="kobo.304.1"> class is a base class for all models in </span><strong class="source-inline"><span class="koboSpan" id="kobo.305.1">Flask-SQLAlchemy</span></strong><span class="koboSpan" id="kobo.306.1">, and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.307.1">db.Column</span></strong> <a id="_idIndexMarker724"/><span class="koboSpan" id="kobo.308.1">objects define the fields of the model, each with a type and some </span><span class="No-Break"><span class="koboSpan" id="kobo.309.1">additional options.</span></span></p>
<p><span class="koboSpan" id="kobo.310.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.311.1">format</span></strong><span class="koboSpan" id="kobo.312.1"> method returns a dictionary representation of the model instance, with keys corresponding to the field names and values corresponding to the </span><span class="No-Break"><span class="koboSpan" id="kobo.313.1">field values.</span></span></p>
<p><span class="koboSpan" id="kobo.314.1">Now, let’s define the route or </span><span class="No-Break"><span class="koboSpan" id="kobo.315.1">endpoint, </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.316.1">/api/v1/events-registration</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.317.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.318.1">@app.route("/api/v1/events-registration", methods=['POST'])def add_attendees():
    if request.method == 'POST':
        first_name = request.get_json().get('first_name')
        last_name = request.get_json().get('last_name')
        email = request.get_json().get('email')
        phone = request.get_json().get('phone')
        job_title = request.get_json().get('job_title')
        company_name = request.get_json().get('company_name')
        company_size = request.get_json().get('company_size')
        subject = request.get_json().get('subject')
        if first_name and last_name and email and phone and subject:
            all_attendees = EventRegistration.query.filter_by(
                email=email).first()
            if all_attendees:
                return jsonify(message="Email address already                     exists!"), 409
            else:
                new_attendee = EventRegistration(
                    first_name = first_name,
                    last_name = last_name,
                    email = email,
                    phone = phone,
                    job_title = job_title,
                    company_name = company_name,
                    company_size = company_size,
                    subject = subject
                )
                db.session.add(new_attendee)
                db.session.commit()
                return jsonify({
                    'success': True,
                    'new_attendee': new_attendee.format()
                }), 201
        else:
            return jsonify({'error': 'Invalid input'}), 400</span></pre>
<p><span class="koboSpan" id="kobo.319.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.320.1">/api/v1/events-registration</span></strong><span class="koboSpan" id="kobo.321.1"> endpoint function handles an HTTP </span><strong class="source-inline"><span class="koboSpan" id="kobo.322.1">POST</span></strong><span class="koboSpan" id="kobo.323.1"> request to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.324.1">/api/v1/events-registration</span></strong><span class="koboSpan" id="kobo.325.1"> route. </span><span class="koboSpan" id="kobo.325.2">This endpoint allows users to register for events by providing their </span><a id="_idIndexMarker725"/><span class="koboSpan" id="kobo.326.1">name, email address, phone number, </span><span class="No-Break"><span class="koboSpan" id="kobo.327.1">and subject.</span></span></p>
<p><span class="koboSpan" id="kobo.328.1">The endpoint function first checks that the request method is indeed </span><strong class="source-inline"><span class="koboSpan" id="kobo.329.1">POST</span></strong><span class="koboSpan" id="kobo.330.1">, and then extracts the name, email, phone, and subject values from the request body, which is expected to be in JSON format. </span></p>
<p><span class="koboSpan" id="kobo.331.1">Next, the function checks that all of the required input values (</span><strong class="source-inline"><span class="koboSpan" id="kobo.332.1">first_name</span></strong><span class="koboSpan" id="kobo.333.1">,</span><strong class="source-inline"><span class="koboSpan" id="kobo.334.1"> last_name,</span></strong> <strong class="source-inline"><span class="koboSpan" id="kobo.335.1">email</span></strong><span class="koboSpan" id="kobo.336.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.337.1">phone</span></strong><span class="koboSpan" id="kobo.338.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.339.1">subject</span></strong><span class="koboSpan" id="kobo.340.1">) are present. </span><span class="koboSpan" id="kobo.340.2">If they are, it checks whether there is already an attendee with the same email address in the database. </span><span class="koboSpan" id="kobo.340.3">If there is, it returns a JSON response, with a message indicating that the email address is already in use, and an HTTP </span><strong class="source-inline"><span class="koboSpan" id="kobo.341.1">409</span></strong><span class="koboSpan" id="kobo.342.1"> status </span><span class="No-Break"><span class="koboSpan" id="kobo.343.1">code (conflict).</span></span></p>
<p><span class="koboSpan" id="kobo.344.1">If the email address is not in use, the function creates a new </span><strong class="source-inline"><span class="koboSpan" id="kobo.345.1">EventRegistration</span></strong><span class="koboSpan" id="kobo.346.1"> object with the input values, adds it to the database session, and commits the changes to the database. </span><span class="koboSpan" id="kobo.346.2">It then returns a JSON response with a success message and the details of the new attendee, along with an HTTP </span><strong class="source-inline"><span class="koboSpan" id="kobo.347.1">201</span></strong><span class="koboSpan" id="kobo.348.1"> status </span><span class="No-Break"><span class="koboSpan" id="kobo.349.1">code (created).</span></span></p>
<p><span class="koboSpan" id="kobo.350.1">If any of the required input values is missing, the function returns a JSON response with an error message and an HTTP </span><strong class="source-inline"><span class="koboSpan" id="kobo.351.1">400</span></strong><span class="koboSpan" id="kobo.352.1"> status code (bad request). </span><span class="koboSpan" id="kobo.352.2">Now, let’s update the database and add an </span><strong class="source-inline"><span class="koboSpan" id="kobo.353.1">eventregistration</span></strong><span class="koboSpan" id="kobo.354.1"> table to it. </span><span class="koboSpan" id="kobo.354.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.355.1">eventregistration</span></strong><span class="koboSpan" id="kobo.356.1"> table will accept all the entries for the </span><span class="No-Break"><span class="koboSpan" id="kobo.357.1">event registrations.</span></span></p>
<p><span class="koboSpan" id="kobo.358.1"> The following steps create the </span><strong class="source-inline"><span class="koboSpan" id="kobo.359.1">eventregistration</span></strong><span class="koboSpan" id="kobo.360.1"> table in the database. </span><span class="koboSpan" id="kobo.360.2">In the terminal of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.361.1">project</span></strong><span class="koboSpan" id="kobo.362.1"> directory, enter the following commands: </span></p>
<pre class="console"><span class="koboSpan" id="kobo.363.1">flask shellfrom app import db, EventRegistration
db.create_all()</span></pre>
<p><span class="koboSpan" id="kobo.364.1">Alternatively, you can continue to use </span><span class="No-Break"><span class="koboSpan" id="kobo.365.1">migration tools:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.366.1">flask db migrate –m "events attendee table added"flask db upgrade</span></pre>
<p><span class="koboSpan" id="kobo.367.1">With any of these options, the backend will contain the new table. </span></p>
<p><span class="koboSpan" id="kobo.368.1">Execute </span><strong class="source-inline"><span class="koboSpan" id="kobo.369.1">flask run</span></strong><span class="koboSpan" id="kobo.370.1"> in the </span><a id="_idIndexMarker726"/><span class="koboSpan" id="kobo.371.1">terminal to start the Flask development server on </span><strong class="source-inline"><span class="koboSpan" id="kobo.372.1">localhost</span></strong><span class="koboSpan" id="kobo.373.1"> using the default </span><span class="No-Break"><span class="koboSpan" id="kobo.374.1">port (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.375.1">5000</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.376.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.377.1">That’s it! </span><span class="koboSpan" id="kobo.377.2">The backend is now ready to receive form entries from the React frontend. </span><span class="koboSpan" id="kobo.377.3">Let’s design the form component in React and submit the form entries to the </span><span class="No-Break"><span class="koboSpan" id="kobo.378.1">Flask backend.</span></span></p>
<h1 id="_idParaDest-196"><a id="_idTextAnchor229"/><span class="koboSpan" id="kobo.379.1">Handling forms in React and Flask</span></h1>
<p><span class="koboSpan" id="kobo.380.1">Handling forms in a React </span><a id="_idIndexMarker727"/><span class="koboSpan" id="kobo.381.1">frontend and a Flask backend is a common pattern in web </span><a id="_idIndexMarker728"/><span class="koboSpan" id="kobo.382.1">development. </span><span class="koboSpan" id="kobo.382.2">In this pattern, the React frontend sends HTTP requests to the Flask backend to submit or retrieve </span><span class="No-Break"><span class="koboSpan" id="kobo.383.1">form data.</span></span></p>
<p><span class="koboSpan" id="kobo.384.1">On the React frontend side, you can use a</span><a id="_idIndexMarker729"/><span class="koboSpan" id="kobo.385.1"> form component to render a form and handle form submissions. </span><span class="koboSpan" id="kobo.385.2">You can use controlled components, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.386.1">input</span></strong><span class="koboSpan" id="kobo.387.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.388.1">textarea</span></strong><span class="koboSpan" id="kobo.389.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.390.1">select</span></strong><span class="koboSpan" id="kobo.391.1">, to control the form values and update the component state as a user </span><span class="No-Break"><span class="koboSpan" id="kobo.392.1">inputs data.</span></span></p>
<p><span class="koboSpan" id="kobo.393.1">When the user submits the form, you can use an event handler to prevent the default form submission behavior and send an HTTP request to the Flask backend using a library such as Axios. </span><span class="koboSpan" id="kobo.393.2">In this section, we will work with the </span><span class="No-Break"><span class="koboSpan" id="kobo.394.1">Axios library.</span></span></p>
<p><span class="koboSpan" id="kobo.395.1">On the Flask backend side, you can define a route to handle the HTTP request and retrieve the form data from the request object. </span><span class="koboSpan" id="kobo.395.2">You can then process the form data and return a response to </span><span class="No-Break"><span class="koboSpan" id="kobo.396.1">the frontend.</span></span></p>
<p><span class="koboSpan" id="kobo.397.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.398.1">EventRegistration</span></strong><span class="koboSpan" id="kobo.399.1"> component provides a simple form for non-authenticated users to register for an event in the frontend of the </span><em class="italic"><span class="koboSpan" id="kobo.400.1">Bizza</span></em><span class="koboSpan" id="kobo.401.1"> app. </span><span class="koboSpan" id="kobo.401.2">The form includes fields for the user’s name, email </span><a id="_idIndexMarker730"/><span class="koboSpan" id="kobo.402.1">address, phone number, and subject – the topic or title of the event they </span><span class="No-Break"><span class="koboSpan" id="kobo.403.1">register for.</span></span></p>
<p><span class="koboSpan" id="kobo.404.1">Let’s dive into the React form</span><a id="_idIndexMarker731"/><span class="koboSpan" id="kobo.405.1"> implementation that will work with the </span><span class="No-Break"><span class="koboSpan" id="kobo.406.1">Flask backend:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.407.1">In the project directory and inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.408.1">components</span></strong><span class="koboSpan" id="kobo.409.1"> folder, </span><span class="No-Break"><span class="koboSpan" id="kobo.410.1">create </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.411.1">EventRegistration/EventRegistration.jsx</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.412.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.413.1">Add the following </span><a id="_idIndexMarker732"/><span class="koboSpan" id="kobo.414.1">code snippet to the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.415.1">EventRegistration.jsx</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.416.1"> file:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.417.1">import React, { useState, useEffect } from 'react';import axios from 'axios';const EventRegistration = () =&gt; {  // Initial form values  const initialValues = {    firstname: '',    lastname: '',    email: '',    phone: '',    job_title: '',    company_name: '',    company_size: '',    subject: '' };  // State variables  const [formValues, setFormValues] =    useState(initialValues); // Stores the form field                                values  const [formErrors, setFormErrors] = useState({});// Stores the form field for the validation errors  const [isSubmitted, setIsSubmitted] =    useState(false); // Tracks whether the form has                        been submitted{/* Rest of the form can be found at the GitHub link - https://github.com/PacktPublishing/Full-Stack-Flask-Web-Development-with-React/tree/main/Chapter-10/ */}            &lt;div id="btn-section"&gt;              &lt;button&gt;Join Now&lt;/button&gt;            &lt;/div&gt;        &lt;/form&gt;      &lt;/div&gt;    &lt;/div&gt;  &lt;/div&gt;&lt;/&gt;);};export default EventRegistration;</span></pre><p class="list-inset"><span class="koboSpan" id="kobo.418.1">Refer to GitHub to </span><a id="_idIndexMarker733"/><span class="koboSpan" id="kobo.419.1">get the full </span><a id="_idIndexMarker734"/><span class="No-Break"><span class="koboSpan" id="kobo.420.1">source code.</span></span></p><p class="list-inset"><span class="koboSpan" id="kobo.421.1">In the preceding </span><a id="_idIndexMarker735"/><span class="koboSpan" id="kobo.422.1">snippet, when the form is submitted, the component sends an HTTP </span><strong class="source-inline"><span class="koboSpan" id="kobo.423.1">POST</span></strong><span class="koboSpan" id="kobo.424.1"> request to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.425.1">/api/v1/events-registration</span></strong><span class="koboSpan" id="kobo.426.1"> route with the form data. </span><span class="koboSpan" id="kobo.426.2">It then updates the component’s state with the response from the server and displays a success or error message to </span><span class="No-Break"><span class="koboSpan" id="kobo.427.1">the user.</span></span></p><p class="list-inset"><span class="koboSpan" id="kobo.428.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.429.1">EventRegistration</span></strong><span class="koboSpan" id="kobo.430.1"> component also includes a </span><strong class="source-inline"><span class="koboSpan" id="kobo.431.1">validate</span></strong><span class="koboSpan" id="kobo.432.1"> function that checks the form values for errors, and an </span><strong class="source-inline"><span class="koboSpan" id="kobo.433.1">onChangeHandler</span></strong><span class="koboSpan" id="kobo.434.1"> function that updates the form</span><a id="_idIndexMarker736"/><span class="koboSpan" id="kobo.435.1"> values as the </span><span class="No-Break"><span class="koboSpan" id="kobo.436.1">user types.</span></span></p></li>
</ol>
<p><span class="koboSpan" id="kobo.437.1">Let’s discuss the component </span><a id="_idIndexMarker737"/><span class="koboSpan" id="kobo.438.1">state variables used in the </span><span class="No-Break"><span class="koboSpan" id="kobo.439.1">preceding code:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.440.1">formValues</span></strong><span class="koboSpan" id="kobo.441.1">: This is an</span><a id="_idIndexMarker738"/><span class="koboSpan" id="kobo.442.1"> object that stores the current values of the form fields (name, email, phone, </span><span class="No-Break"><span class="koboSpan" id="kobo.443.1">and subject)</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.444.1">formErrors</span></strong><span class="koboSpan" id="kobo.445.1">: This is an object that stores any errors found in the </span><span class="No-Break"><span class="koboSpan" id="kobo.446.1">form values</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.447.1">response</span></strong><span class="koboSpan" id="kobo.448.1">: This is an object that stores the response from the server after the form </span><span class="No-Break"><span class="koboSpan" id="kobo.449.1">is submitted</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.450.1">feedback</span></strong><span class="koboSpan" id="kobo.451.1">: This is a string that stores a feedback message to display to the user (for example, </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.452.1">Registration successful!</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.453.1">)</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.454.1">status</span></strong><span class="koboSpan" id="kobo.455.1">: This is a string that stores the status of the form submission (for example, </span><strong class="bold"><span class="koboSpan" id="kobo.456.1">success</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.457.1">or </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.458.1">error</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.459.1">)</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.460.1">We then define the </span><span class="No-Break"><span class="koboSpan" id="kobo.461.1">following functions:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.462.1">validate</span></strong><span class="koboSpan" id="kobo.463.1">: This is a function that accepts the form values and returns an object with any errors found in </span><span class="No-Break"><span class="koboSpan" id="kobo.464.1">the values.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.465.1">onChangeHandler</span></strong><span class="koboSpan" id="kobo.466.1">: This is a function that updates the </span><strong class="source-inline"><span class="koboSpan" id="kobo.467.1">formValues</span></strong><span class="koboSpan" id="kobo.468.1"> state variable as the </span><strong class="source-inline"><span class="koboSpan" id="kobo.469.1">user</span></strong><span class="koboSpan" id="kobo.470.1"> types in the </span><span class="No-Break"><span class="koboSpan" id="kobo.471.1">form fields.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.472.1">handleSubmit</span></strong><span class="koboSpan" id="kobo.473.1">: This is a function that is called when the form is submitted. </span><span class="koboSpan" id="kobo.473.2">It prevents the default form submission behavior, calls the </span><strong class="source-inline"><span class="koboSpan" id="kobo.474.1">validate</span></strong><span class="koboSpan" id="kobo.475.1"> function to check for errors, and then sends the form data to the server using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.476.1">sendEventData</span></strong><span class="koboSpan" id="kobo.477.1"> function. </span><span class="koboSpan" id="kobo.477.2">It also updates the feedback and status state variables based on the response from </span><span class="No-Break"><span class="koboSpan" id="kobo.478.1">the server.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.479.1">sendEventData</span></strong><span class="koboSpan" id="kobo.480.1">: This is an </span><strong class="source-inline"><span class="koboSpan" id="kobo.481.1">async</span></strong><span class="koboSpan" id="kobo.482.1"> function that sends an HTTP </span><strong class="source-inline"><span class="koboSpan" id="kobo.483.1">POST</span></strong><span class="koboSpan" id="kobo.484.1"> request to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.485.1">/api/v1/events-registration</span></strong><span class="koboSpan" id="kobo.486.1"> route with the form data and updates the response state variable with the response from </span><span class="No-Break"><span class="koboSpan" id="kobo.487.1">the server.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.488.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.489.1">EventRegistration</span></strong><span class="koboSpan" id="kobo.490.1"> component also has a </span><strong class="source-inline"><span class="koboSpan" id="kobo.491.1">useEffect</span></strong><span class="koboSpan" id="kobo.492.1"> hook that calls the </span><strong class="source-inline"><span class="koboSpan" id="kobo.493.1">sendEventData</span></strong><span class="koboSpan" id="kobo.494.1"> function when the </span><strong class="source-inline"><span class="koboSpan" id="kobo.495.1">formValues</span></strong><span class="koboSpan" id="kobo.496.1"> state variable changes. </span><span class="koboSpan" id="kobo.496.2">Finally, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.497.1">EventRegistration</span></strong><span class="koboSpan" id="kobo.498.1"> component renders a form element with the form fields and displays the feedback message</span><a id="_idIndexMarker739"/><span class="koboSpan" id="kobo.499.1"> and status to </span><span class="No-Break"><span class="koboSpan" id="kobo.500.1">the user.</span></span></p>
<p><span class="koboSpan" id="kobo.501.1">Now, start the React </span><a id="_idIndexMarker740"/><span class="koboSpan" id="kobo.502.1">frontend with </span><strong class="source-inline"><span class="koboSpan" id="kobo.503.1">npm start</span></strong><span class="koboSpan" id="kobo.504.1"> and submit your form entries. </span><span class="koboSpan" id="kobo.504.2">Make sure the Flask server is running as well. </span><span class="koboSpan" id="kobo.504.3">With any development process, issues </span><a id="_idIndexMarker741"/><span class="koboSpan" id="kobo.505.1">and bugs are bound to arise. </span><span class="koboSpan" id="kobo.505.2">We will explore some valuable troubleshooting tips to help you debug and fix issues during the integration of the React frontend and the </span><span class="No-Break"><span class="koboSpan" id="kobo.506.1">Flask backend.</span></span></p>
<h1 id="_idParaDest-197"><a id="_idTextAnchor230"/><span class="koboSpan" id="kobo.507.1">Troubleshooting tips for the React frontend and the Flask backend</span></h1>
<p><span class="koboSpan" id="kobo.508.1">Integrating a React frontend with</span><a id="_idIndexMarker742"/><span class="koboSpan" id="kobo.509.1"> a Flask backend can be a powerful combination to build dynamic and scalable web applications. </span><span class="koboSpan" id="kobo.509.2">However, like any integration, it</span><a id="_idIndexMarker743"/><span class="koboSpan" id="kobo.510.1"> can come with its own set of unavoidable challenges. </span><span class="koboSpan" id="kobo.510.2">Troubleshooting issues that arise during the React-Flask integration process requires a systematic approach to identify and resolve </span><span class="No-Break"><span class="koboSpan" id="kobo.511.1">problems effectively.</span></span></p>
<p><span class="koboSpan" id="kobo.512.1">This section will discuss how you can resolve some of the issues that you may encounter while integrating the frontend with the backend. </span><span class="koboSpan" id="kobo.512.2">By following these tips, you will be able to diagnose and resolve common problems that may arise during the development and deployment of </span><span class="No-Break"><span class="koboSpan" id="kobo.513.1">your application.</span></span></p>
<p><span class="koboSpan" id="kobo.514.1">Let’s dive into the troubleshooting tips for the React frontend and the Flask </span><span class="No-Break"><span class="koboSpan" id="kobo.515.1">backend integration:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.516.1">Verifying the </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.517.1">Flask setup</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.518.1">:</span></span><ul><li><span class="koboSpan" id="kobo.519.1">Ensure that Flask is properly configured and running on </span><span class="No-Break"><span class="koboSpan" id="kobo.520.1">the server</span></span></li>
<li><span class="koboSpan" id="kobo.521.1">Check the Flask server</span><a id="_idIndexMarker744"/><span class="koboSpan" id="kobo.522.1"> console for any error messages or exceptions that may </span><span class="No-Break"><span class="koboSpan" id="kobo.523.1">indicate misconfigurations</span></span></li>
<li><span class="koboSpan" id="kobo.524.1">Confirm that the necessary</span><a id="_idIndexMarker745"/><span class="koboSpan" id="kobo.525.1"> Flask packages and dependencies </span><span class="No-Break"><span class="koboSpan" id="kobo.526.1">are installed</span></span></li>
<li><span class="koboSpan" id="kobo.527.1">Verify that</span><a id="_idIndexMarker746"/><span class="koboSpan" id="kobo.528.1"> the Flask server is accessible and responding to requests by testing </span><span class="No-Break"><span class="koboSpan" id="kobo.529.1">basic endpoints</span></span></li>
</ul></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.530.1">Checking the </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.531.1">React configuration</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.532.1">:</span></span><ul><li><span class="koboSpan" id="kobo.533.1">Ensure that the React</span><a id="_idIndexMarker747"/><span class="koboSpan" id="kobo.534.1"> application is correctly configured </span><span class="No-Break"><span class="koboSpan" id="kobo.535.1">and running</span></span></li>
<li><span class="koboSpan" id="kobo.536.1">Confirm that the necessary dependencies and packages are installed in the </span><span class="No-Break"><span class="koboSpan" id="kobo.537.1">React project</span></span></li>
<li><span class="koboSpan" id="kobo.538.1">Inspect the console logs in the browser’s developer tools for any JavaScript errors or warnings that may indicate issues with the </span><span class="No-Break"><span class="koboSpan" id="kobo.539.1">frontend setup</span></span></li>
<li><span class="koboSpan" id="kobo.540.1">Ensure that the proxy attribute is added to </span><strong class="source-inline"><span class="koboSpan" id="kobo.541.1">package.json</span></strong><span class="koboSpan" id="kobo.542.1"> and points to the Flask server address – for </span><span class="No-Break"><span class="koboSpan" id="kobo.543.1">example, </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.544.1">http://127.0.0.1:5000</span></strong></span></li>
</ul></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.545.1">Investigate </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.546.1">network requests</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.547.1">:</span></span><ul><li><span class="koboSpan" id="kobo.548.1">Use the browser's developer tools </span><a id="_idIndexMarker748"/><span class="koboSpan" id="kobo.549.1">to inspect network requests made by the </span><span class="No-Break"><span class="koboSpan" id="kobo.550.1">React application</span></span></li>
<li><span class="koboSpan" id="kobo.551.1">Verify that the requests are sent to the correct </span><span class="No-Break"><span class="koboSpan" id="kobo.552.1">Flask endpoints</span></span></li>
<li><span class="koboSpan" id="kobo.553.1">Check the network response status codes to identify any </span><span class="No-Break"><span class="koboSpan" id="kobo.554.1">server-side errors</span></span></li>
<li><span class="koboSpan" id="kobo.555.1">Inspect the response payloads to ensure that data is </span><span class="No-Break"><span class="koboSpan" id="kobo.556.1">transmitted correctly</span></span></li>
<li><span class="koboSpan" id="kobo.557.1">Pay attention to </span><strong class="bold"><span class="koboSpan" id="kobo.558.1">Cross-Origin Resource Sharing</span></strong><span class="koboSpan" id="kobo.559.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.560.1">CORS</span></strong><span class="koboSpan" id="kobo.561.1">) issues if the React frontend and</span><a id="_idIndexMarker749"/><span class="koboSpan" id="kobo.562.1"> the Flask backend are hosted on different domains </span><span class="No-Break"><span class="koboSpan" id="kobo.563.1">or ports</span></span></li>
</ul></li>
</ul>
<p><span class="koboSpan" id="kobo.564.1">By following these troubleshooting </span><a id="_idIndexMarker750"/><span class="koboSpan" id="kobo.565.1">tips, you will be equipped with the necessary knowledge to efficiently diagnose and resolve issues in the React-Flask integration. </span><span class="koboSpan" id="kobo.565.2">This will ensure a smooth and robust integration for your </span><span class="No-Break"><span class="koboSpan" id="kobo.566.1">web application.</span></span></p>
<h1 id="_idParaDest-198"><a id="_idTextAnchor231"/><span class="koboSpan" id="kobo.567.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.568.1">In this chapter, we discussed extensively the application code structure and a few key steps required to integrate a React frontend with a Flask backend. </span><span class="koboSpan" id="kobo.568.2">First, you will need to set up the frontend to communicate with the backend, using an HTTP client library, and handle forms and </span><span class="No-Break"><span class="koboSpan" id="kobo.569.1">user input.</span></span></p>
<p><span class="koboSpan" id="kobo.570.1">Then, you will need to set up the Flask backend with the necessary routes and functions to handle the requests from the frontend and process the form data. </span><span class="koboSpan" id="kobo.570.2">Finally, you will need to test the entire application to ensure that it works correctly and </span><span class="No-Break"><span class="koboSpan" id="kobo.571.1">as expected.</span></span></p>
<p><span class="koboSpan" id="kobo.572.1">With these steps, you can successfully integrate a React frontend with a Flask backend for your web application. </span><span class="koboSpan" id="kobo.572.2">In the next chapter, we will scale up the React-Flask interactions by creating more tables. </span><span class="koboSpan" id="kobo.572.3">These tables will have relationships, and we will be able to fetch and </span><span class="No-Break"><span class="koboSpan" id="kobo.573.1">display data.</span></span></p>
</div>
</body></html>