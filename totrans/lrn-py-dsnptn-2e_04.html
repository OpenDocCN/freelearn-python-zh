<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Chapter&#xA0;4.&#xA0;The Fa&#xE7;ade Pattern &#x2013; Being Adaptive with Fa&#xE7;ade" id="1394Q1-5ae934a69a004514b92177e2702ed0a9"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch04" class="calibre1"/>Chapter 4. The Façade Pattern – Being Adaptive with Façade</h1></div></div></div><p class="calibre6">In the previous chapter, you learned about the Factory design pattern. We discussed about three variations—Simple Factory, Factory method, and Abstract Factory pattern. You also learned how each of them is used in the real world and looked at Python implementations. We also compared the Factory method with Abstract Factory patterns and listed the pros and cons. As we are now aware, both the Factory design pattern and Singleton design pattern (<a class="calibre1" title="Chapter 2. The Singleton Design Pattern" href="part0022_split_000.html#KVCC1-5ae934a69a004514b92177e2702ed0a9">Chapter 2</a>, <span class="strong"><em class="calibre13">The Singleton Design Pattern</em></span>) are classified as Creational design patterns.</p><p class="calibre6">In this chapter, we will move ahead and learn about another type of design pattern, the Structural design pattern. We will get introduced to the Façade design pattern and how it is used in software application development. We will work with a sample use case and implement it in Python v3.5.</p><p class="calibre6">In brief, we will cover the following topics in this chapter:</p><div class="book"><ul class="itemizedlist"><li class="listitem">An introduction to Structural design patterns</li><li class="listitem">An understanding of the Façade design pattern with a UML diagram</li><li class="listitem">A real-world use case with the Python v3.5 code implementation</li><li class="listitem">The Façade pattern and principle of least knowledge</li></ul></div></div>

<div class="book" title="Chapter&#xA0;4.&#xA0;The Fa&#xE7;ade Pattern &#x2013; Being Adaptive with Fa&#xE7;ade" id="1394Q1-5ae934a69a004514b92177e2702ed0a9">
<div class="book" title="Understanding Structural design patterns"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_1"><a id="ch04lvl1sec30" class="calibre1"/>Understanding Structural design patterns</h1></div></div></div><p class="calibre6">The following<a id="id119" class="calibre1"/> points will help us understand more about Structural patterns:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Structural patterns describe how objects and classes can be combined to form larger structures.</li><li class="listitem">Structural patterns can be thought of as design patterns that ease the design by identifying simpler ways to realize or demonstrate relationships between entities. Entities mean objects or classes in the object-oriented world.</li><li class="listitem">While the <a id="id120" class="calibre1"/>Class patterns describe abstraction with the help of inheritance and provide a more useful program interface, Object patterns describe how objects can be associated and composed to form larger objects. Structural patterns are a combination of Class and Object patterns.</li></ul></div><p class="calibre6">The following are a few examples of different Structural design patterns. You'd notice how each of these involve interaction between objects or classes to achieve high-level design or architectural goals.</p><p class="calibre6">Some of the examples<a id="id121" class="calibre1"/> of Structural design patterns are as follows:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong class="calibre7">Adapter pattern</strong></span>: Adapting an<a id="id122" class="calibre1"/> interface to another one so that it meets the client's <a id="id123" class="calibre1"/>expectations. It tries to match interfaces of different classes based on the client's needs.</li><li class="listitem"><span class="strong"><strong class="calibre7">Bridge pattern</strong></span>: This <a id="id124" class="calibre1"/>decouples an<a id="id125" class="calibre1"/> object's interface from its implementation so that both can work independently.</li><li class="listitem"><span class="strong"><strong class="calibre7">Decorator pattern</strong></span>: This defines <a id="id126" class="calibre1"/>additional <a id="id127" class="calibre1"/>responsibilities for an object at runtime or dynamically. We add certain attributes to objects with an interface.</li></ul></div><p class="calibre6">There are a few more Structural patterns that you will learn in this book. So, let's start by first taking up the Façade design pattern.</p></div></div>
<div class="book" title="Understanding the Fa&#xE7;ade design pattern" id="147LC1-5ae934a69a004514b92177e2702ed0a9"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch04lvl1sec31" class="calibre1"/>Understanding the Façade design pattern</h1></div></div></div><p class="calibre6">The façade <a id="id128" class="calibre1"/>is generally referred to as the face of the building, especially an attractive one. It can be also referred to as a behavior or appearance that gives a false idea of someone's true feelings or situation. When people walk past a façade, they can appreciate the exterior face but aren't aware of the complexities of the structure within. This is how a façade pattern is used. Façade hides the complexities of the internal system and provides an interface to the client that can access the system in a very simplified way.</p><p class="calibre6">Consider the example of a storekeeper. Now, when you, as a customer, visit a store to buy certain items, you're not aware of the layout of the store. You typically approach the storekeeper, who is well aware of the store system. Based on your requirements, the storekeeper picks up items and hands them over to you. Isn't this easy? The customer need not know how the store looks and s/he gets the stuff done through a simple interface, the storekeeper.</p><p class="calibre6">The Façade design pattern<a id="id129" class="calibre1"/> essentially does the following:</p><div class="book"><ul class="itemizedlist"><li class="listitem">It provides a unified interface to a set of interfaces in a subsystem and defines a high-level interface that helps the client use the subsystem in an easy way.</li><li class="listitem">Façade discusses representing a complex subsystem with a single interface object. It doesn't <span class="strong"><strong class="calibre7">encapsulate</strong></span> the subsystem but actually combines the underlying subsystems.</li><li class="listitem">It promotes the decoupling of the implementation with multiple clients.</li></ul></div></div>

<div id="page" style="height:0pt"/><div class="book" title="A UML class diagram" id="1565U1-5ae934a69a004514b92177e2702ed0a9"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch04lvl1sec32" class="calibre1"/>A UML class diagram</h1></div></div></div><p class="calibre6">We will now<a id="id130" class="calibre1"/> discuss the Façade pattern with the help of the following UML diagram:</p><div class="mediaobject"><img src="../images/00015.jpeg" alt="A UML class diagram" class="calibre14"/></div><p class="calibre15"> </p><p class="calibre6">As we observe the UML diagram, you'll realize that there are three main participants in this pattern:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong class="calibre7">Façade</strong></span>: The main responsibility of a façade<a id="id131" class="calibre1"/> is to wrap up a complex group of subsystems so that it can provide a pleasing look to the outside world.</li><li class="listitem"><span class="strong"><strong class="calibre7">System</strong></span>: This represents a <a id="id132" class="calibre1"/>set of varied subsystems that make the whole system compound and difficult to view or work with.</li><li class="listitem"><span class="strong"><strong class="calibre7">Client</strong></span>: The client<a id="id133" class="calibre1"/> interacts with the Façade so that it can easily communicate with the subsystem and get the work completed. It doesn't have to bother about the complex nature of the system.</li></ul></div><p class="calibre6">You will now learn a little more about the three main participants from the data structure's perspective.</p></div>

<div class="book" title="A UML class diagram" id="1565U1-5ae934a69a004514b92177e2702ed0a9">
<div class="book" title="Façade"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch04lvl2sec30" class="calibre1"/>Façade</h2></div></div></div><p class="calibre6">The following<a id="id134" class="calibre1"/> points will give us a <a id="id135" class="calibre1"/>better idea of Façade:</p><div class="book"><ul class="itemizedlist"><li class="listitem">It is an interface that knows which subsystems are responsible for a request</li><li class="listitem">It delegates the client's requests to the appropriate subsystem objects using composition</li></ul></div><p class="calibre6">For example, if the client is looking for some work to be accomplished, it need not have to go to individual subsystems but can simply contact the interface (Façade) that gets the work done.</p></div></div>

<div class="book" title="A UML class diagram" id="1565U1-5ae934a69a004514b92177e2702ed0a9">
<div class="book" title="System"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch04lvl2sec31" class="calibre1"/>System</h2></div></div></div><p class="calibre6">In the Façade world, System <a id="id136" class="calibre1"/>is an entity that performs the <a id="id137" class="calibre1"/>following:</p><div class="book"><ul class="itemizedlist"><li class="listitem">It implements subsystem functionality and is represented by a class. Ideally, a System is represented by a group of classes that are responsible for different operations.</li><li class="listitem">It handles the work assigned by the Façade object but has no knowledge of the façade and keeps no reference to it.</li></ul></div><p class="calibre6">For instance, when the client requests the Façade for a certain service, Façade chooses the right subsystem that delivers the service based on the type of service.</p></div></div>

<div class="book" title="A UML class diagram" id="1565U1-5ae934a69a004514b92177e2702ed0a9">
<div class="book" title="Client"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch04lvl2sec32" class="calibre1"/>Client</h2></div></div></div><p class="calibre6">Here's how we <a id="id138" class="calibre1"/>can describe <a id="id139" class="calibre1"/>the client:</p><div class="book"><ul class="itemizedlist"><li class="listitem">The client is a class that instantiates the Façade</li><li class="listitem">It makes requests to the Façade to get the work done from the subsystems</li></ul></div></div></div>
<div class="book" title="Implementing the Fa&#xE7;ade pattern in the real world"><div class="book" id="164MG2-5ae934a69a004514b92177e2702ed0a9"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch04lvl1sec33" class="calibre1"/>Implementing the Façade pattern in the real world</h1></div></div></div><p class="calibre6">To demonstrate the <a id="id140" class="calibre1"/>applications of the Façade pattern, let's take an example that we'd have experienced in our lifetime.</p><p class="calibre6">Consider that you have a marriage in your family and you are in charge of all the arrangements. Whoa! That's a tough job on your hands. You have to book a hotel or place for marriage, talk to a caterer for food arrangements, organize a florist for all the decorations, and finally handle the musical arrangements expected for the event.</p><p class="calibre6">In yesteryears, you'd have done all this by yourself, for example by talking to the relevant folks, coordinating with them, negotiating on the pricing, but now life is simpler. You go and talk to an event manager who handles this for you. S/he will make sure that they talk to the individual service providers and get the best deal for you.</p><p class="calibre6">Putting it in the Façade pattern perspective:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong class="calibre7">Client</strong></span>: It's you who need all the marriage preparations to be completed in time before the wedding. They should be top class and guests should love the celebrations.</li><li class="listitem"><span class="strong"><strong class="calibre7">Façade</strong></span>: The event manager who's responsible for talking to all the folks that need to work on specific arrangements such as food, and flower decorations, among others</li><li class="listitem"><span class="strong"><strong class="calibre7">Subsystems</strong></span>: They represent the systems that provide services such as catering, hotel management, and flower decorations</li></ul></div><p class="calibre6">Let's develop an application in Python v3.5 and implement this use case. We start with the client first. It's you! Remember, you're the one who has been given the responsibility to make sure that the marriage preparations are done and the event goes fine!</p><p class="calibre6">Let's now move <a id="id141" class="calibre1"/>ahead and talk about the Façade class. As discussed earlier, the Façade class simplifies the interface for the client. In this case, <code class="email">EventManager</code> acts as a façade and simplifies the work for <code class="email">You</code>. Façade talks to the subsystems and does all the booking and preparations for the marriage on your behalf. Here is the Python code for the <code class="email">EventManager</code> class:</p><div class="informalexample"><pre class="programlisting">class EventManager(object):
    
    def __init__(self):
        print("Event Manager:: Let me talk to the folks\n")
    
    def arrange(self):
        self.hotelier = Hotelier()
        self.hotelier.bookHotel()
        
        self.florist = Florist()
        self.florist.setFlowerRequirements()
        
        self.caterer = Caterer()
        self.caterer.setCuisine()
        
        self.musician = Musician()
        self.musician.setMusicType()</pre></div><p class="calibre6">Now that we're done with the Façade and client, let's dive into the subsystems. We have developed the following classes for this scenario:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><code class="email">Hotelier</code> is for the hotel bookings. It has a method to check whether the hotel is free on that day (<code class="email">__isAvailable</code>).</li><li class="listitem">The <code class="email">Florist </code>class is responsible for flower decorations. Florist has the <code class="email">setFlowerRequirements()</code> method to be used to set the expectations on the kind of flowers needed for the marriage decoration.</li><li class="listitem">The <code class="email">Caterer</code> class is used to deal with the caterer and is responsible for the food arrangements. Caterer exposes the <code class="email">setCuisine()</code> method to accept the type of cuisine to be served at the marriage.</li><li class="listitem">The <code class="email">Musician</code> class is designed for musical arrangements at the marriage. It uses <a id="id142" class="calibre1"/>the <code class="email">setMusicType()</code> method to understand the music requirements for the event.</li></ul></div><p class="calibre6">Let us now look at the <code class="email">Hotelier</code> object, followed by <code class="email">Florist</code> object and their methods:</p><div class="informalexample"><pre class="programlisting">class Hotelier(object):
    def __init__(self):
        print("Arranging the Hotel for Marriage? --")
    
    def __isAvailable(self):
        print("Is the Hotel free for the event on given day?")
        return True
    
    def bookHotel(self):
        if self.__isAvailable():
            print("Registered the Booking\n\n")


class Florist(object):
    def __init__(self):
        print("Flower Decorations for the Event? --")
    
    def setFlowerRequirements(self):
        print("Carnations, Roses and Lilies would be used for Decorations\n\n")


class Caterer(object):
    def __init__(self):
        print("Food Arrangements for the Event --")
    
    def setCuisine(self):
        print("Chinese &amp; Continental Cuisine to be served\n\n")


class Musician(object):
    def __init__(self):
        print("Musical Arrangements for the Marriage --")
    
    def setMusicType(self):
        print("Jazz and Classical will be played\n\n")</pre></div><p class="calibre6">However, you're being clever here and passing on the responsibility to the event manager, aren't you? Let's now look at the <code class="email">You</code> class. In this example, you create an object of the <code class="email">EventManager</code> class so that the manager can work with the relevant folks on marriage preparations while you relax.</p><div class="informalexample"><pre class="programlisting">class You(object):
    def __init__(self):
        print("You:: Whoa! Marriage Arrangements??!!!")
    def askEventManager(self):
        print("You:: Let's Contact the Event Manager\n\n")
        em = EventManager()
        em.arrange()
    def __del__(self):
        print("You:: Thanks to Event Manager, all preparations done! Phew!")

you = You()
you.askEventManager()</pre></div><p class="calibre6">The output of the preceding code is given here:</p><div class="mediaobject"><img src="../images/00016.jpeg" alt="Implementing the Façade pattern in the real world" class="calibre14"/></div><p class="calibre15"> </p><p class="calibre6">We can relate to the Facade <a id="id143" class="calibre1"/>pattern with the real world scenario, in the following way:</p><div class="book"><ul class="itemizedlist"><li class="listitem">The <code class="email">EventManager</code> class is the Façade that simplifies the interface for <code class="email">You</code></li><li class="listitem"><code class="email">EventManager</code> uses composition to create objects of the subsystems such as <code class="email">Hotelier</code>, <code class="email">Caterer</code>, and others</li></ul></div></div>
<div class="book" title="The principle of least knowledge" id="173721-5ae934a69a004514b92177e2702ed0a9"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch04lvl1sec34" class="calibre1"/>The principle of least knowledge</h1></div></div></div><p class="calibre6">As you have learned in the initial parts of the chapter, the Façade provides a unified system that makes subsystems easy to use. It also decouples the client from the subsystem of components. The design principle that is employed behind the Façade pattern is the <a id="id144" class="calibre1"/><span class="strong"><strong class="calibre7">principle of least knowledge</strong></span>.</p><p class="calibre6">The principle of least knowledge guides us to reduce the interactions between objects to just a few <span class="strong"><em class="calibre13">friends</em></span> that are close enough to you. In real terms, it means the following:</p><div class="book"><ul class="itemizedlist"><li class="listitem">When designing a system, for every object created, one should look at the number of classes that it interacts with and the way in which the interaction happens.</li><li class="listitem">Following the principle, make sure that we avoid situations where there are many classes created that are tightly coupled to each other.</li><li class="listitem">If there are a lot <a id="id145" class="calibre1"/>of dependencies between classes, the system becomes hard to maintain. Any changes in one part of the system can lead to unintentional changes to other parts of the system, which means that the system is exposed to regressions and this should be avoided.</li></ul></div></div>
<div class="book" title="Frequently asked questions" id="181NK1-5ae934a69a004514b92177e2702ed0a9"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch04lvl1sec35" class="calibre1"/>Frequently asked questions</h1></div></div></div><p class="calibre6">Q1. What is the Law of Demeter and how is it related to the Factory pattern?</p><p class="calibre6">A: The Law of Demeter is a design guideline that talks about the following:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Each unit should have only limited knowledge of other units in the system</li><li class="listitem" value="2">A unit should talk to its friends only</li><li class="listitem" value="3">A unit should not know about the internal details of the object that it manipulates</li></ol><div class="calibre17"/></div><p class="calibre6">The principle of least knowledge and Law of Demeter are the same and both point to the philosophy of <span class="strong"><em class="calibre13">loose coupling</em></span>. The principle of least knowledge fits the use case of the Façade pattern as the name is intuitive and the word principle acts as a guideline, not being strict, and being useful only when needed.</p><p class="calibre6">Q2. Can there be multiple Façades for a subsystem?</p><p class="calibre6">A: Yes, one could implement more than one façade for a group of subsystem components.</p><p class="calibre6">Q3. What are the disadvantages of the principle of least knowledge?</p><p class="calibre6">A: A Façade provides a simplified interface for the clients to interact with subsystems. In the spirit of providing a simplified interface, an application can have multiple unnecessary interfaces that add to the complexity of the system and reduce runtime performance.</p><p class="calibre6">Q4. Can the client access the subsystems independently?</p><p class="calibre6">A: Yes, in fact, the Façade pattern provides simplified interfaces so that the client need not be bothered about the complexity of the subsystems.</p><p class="calibre6">Q5. Does the Façade add any functionality of its own?</p><p class="calibre6">A: A Façade can add its "thinking" to the subsystems, such as making sure that the order of innovation for subsystems can be decided by the Façade.</p></div>
<div class="book" title="Summary" id="190861-5ae934a69a004514b92177e2702ed0a9"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch04lvl1sec36" class="calibre1"/>Summary</h1></div></div></div><p class="calibre6">We began the chapter by first understanding the Structural design patterns. You then learned about the Façade design pattern and the context in which it's used. We understood the basis of Façade and how it is effectively used in software architecture. We looked at how Façade design patterns create a simplified interface for clients to use. They simplify the complexity of subsystems so that the client benefits.</p><p class="calibre6">The Façade doesn't encapsulate the subsystem, and the client is free to access the subsystems even without going through the Façade. You also learned the pattern with a UML diagram and sample code implementation in Python v3.5. We understood the principle of least knowledge and how its philosophy governs the Façade design patterns.</p><p class="calibre6">We also covered a section on FAQs that would help you get more ideas on the pattern and its possible disadvantages. We're now geared up to learn more Structural patterns in the chapters to come.</p></div></body></html>