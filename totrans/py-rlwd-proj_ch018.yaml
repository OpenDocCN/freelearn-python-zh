- en: Chapter 14
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 14 章
- en: 'Project 4.2: Creating Reports'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 项目 4.2：创建报告
- en: One easy way to share good-looking results is to use a Jupyter notebook’s **Markdown**
    cells to create a presentation. This chapter will create a “slide deck” that can
    be shared and presented. We can expand on this to create a PDF report using additional
    packages like **Jupyter book** or **Quarto**.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 一种分享美观结果简单的方法是使用 Jupyter notebook 的 **Markdown** 单元创建演示文稿。本章将创建一个可以分享和展示的“幻灯片集”。我们可以在此基础上使用额外的包如
    **Jupyter book** 或 **Quarto** 来创建 PDF 报告。
- en: 'In this chapter, we’ll look at two important working results of data analysis:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将查看数据分析的两个重要工作成果：
- en: Slide decks build directly from a Jupyter Lab notebook.
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 直接从 Jupyter Lab 笔记本构建幻灯片。
- en: PDF reports built from notebook data and analysis.
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由笔记本数据和数据分析构建的 PDF 报告。
- en: This chapter’s project will upgrade an analysis notebook created in the previous
    chapter to create presentations that can be shared with colleagues. We’ll start
    by looking at the kinds of reports an analyst may need to produce.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的项目将升级前一章创建的分析笔记本，以创建可以与同事分享的演示文稿。我们将首先查看分析师可能需要生成的报告类型。
- en: 14.1 Description
  id: totrans-7
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 14.1 描述
- en: The first dozen chapters in the book created a pipeline to acquire and clean
    raw data. Once the data is available, we can now do more analytical work on the
    clean data.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 书中的前十二章创建了一个获取和清理原始数据的管道。一旦数据可用，我们现在可以对干净的数据进行更多分析工作。
- en: The goal is to transform raw data into information, and possibly even insight
    to help stakeholders make properly informed decisions. Analytical results need
    to be shared to be valuable. A Jupyter Notebook is a solid basis to create readable,
    helpful presentations and reports.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 目标是将原始数据转换为信息，甚至可能提供洞察力，帮助利益相关者做出适当的决策。分析结果需要共享才能具有价值。Jupyter Notebook 是创建可读、有用的演示和报告的坚实基础。
- en: We’ll start by transforming an analysis notebook into a slide deck. You can
    then use this slide deck to talk through our key points with stakeholders, providing
    helpful visuals to back up the information they need to understand. These are
    common in an enterprise environment. (Some would argue they are too common and
    contain too much of the wrong kind of details.)
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先将分析笔记本转换为幻灯片。然后你可以使用这个幻灯片集与利益相关者讨论我们的关键点，提供有助于他们理解的信息的视觉辅助。这些在企业环境中很常见。（有些人可能会认为它们太常见，包含太多错误类型的细节。）
- en: We’ll start by looking at creating slide decks and presentations in Jupyter
    Lab.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将首先查看在 Jupyter Lab 中创建幻灯片和演示。
- en: 14.1.1 Slide decks and presentations
  id: totrans-12
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 14.1.1 幻灯片和演示
- en: A Jupyter Notebook can be exported to a presentation file. The underlying presentation
    will be an HTML-based repository of individual pages. **Reveal.js** project is
    used to control the navigation between pages. See [https://revealjs.com](https://revealjs.com)
    for more details on how this engine works.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: Jupyter Notebook 可以导出为演示文稿文件。底层演示文稿将是一个基于 HTML 的个人页面仓库。**Reveal.js** 项目用于控制页面间的导航。有关此引擎如何工作的更多详细信息，请参阅
    [https://revealjs.com](https://revealjs.com)。
- en: Within the notebook, each cell has properties. The “right sidebar” is the property
    inspector window, letting us manage these properties. One of the properties is
    the slide type. This allows the analyst to mark cells for inclusion in a presentation.
    We’ll look at the technical details in [*Preparing* *slides*](#x1-3180001).
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在笔记本中，每个单元都有属性。右侧栏是属性检查器窗口，让我们管理这些属性。其中一个属性是幻灯片类型。这允许分析师标记单元格以包含在演示中。我们将在 [*准备*
    *幻灯片*](#x1-3180001) 中查看技术细节。
- en: 'There are a huge number of guides and tutorials on creating useful, informative
    presentations. The author likes to focus on three key points:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 有大量关于创建有用、信息丰富演示的指南和教程。作者喜欢关注三个关键点：
- en: Tell them what you’ll tell them. Present a list of topics (or an agenda or an
    outline). This will often use **Markdown** lists.
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 告诉他们你要告诉他们的内容。呈现一个主题列表（或议程或大纲）。这通常使用 **Markdown** 列表。
- en: Tell them. This should proceed from general observations to the specific details
    of the presentation. This may be a mixture of **Markdown** text and figures.
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 告诉他们。这应该从一般观察到演示的具体细节。这可能是一段 **Markdown** 文本和图表的混合体。
- en: Tell them what you told them. Present a summary of what your message was and
    the actions you’d like them to take in response. This, too, will often use **Markdown**
    lists.
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 告诉他们你已经告诉他们的内容。呈现你信息的总结以及你希望他们采取的行动。这也会经常使用 **Markdown** 列表。
- en: What’s important here is using the slide presentation to contain the keywords
    and phrases to help the audience remember the essential points and the call to
    action. This often means making use of **Markdown** text to emphasize words with
    a bold or italic font. It can also mean using **Markdown** lists of various kinds.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里重要的是使用幻灯片演示文稿来包含关键词和短语，以帮助观众记住关键点和行动号召。这通常意味着利用**Markdown**文本以粗体或斜体字体强调单词。这也可能意味着使用各种类型的**Markdown**列表。
- en: Another important part is avoiding visual clutter created when trying to cram
    too many points into a single page. When there are a lot of details, a presentation
    may not be the best approach to managing all the information. A report document
    may be more useful than a presentation. A document can provide supplemental details
    to support a brief presentation as well.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个重要部分是避免在试图将太多要点塞进一个页面时产生的视觉杂乱。当有很多细节时，演示可能不是管理所有信息的最佳方法。报告文档可能比演示更有用。文档可以为简短的演示提供补充细节。
- en: 14.1.2 Reports
  id: totrans-21
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 14.1.2 报告
- en: There’s a blurry edge between a presentation and a report. Presentations tend
    to be shorter and focus on keywords and phrases. Reports tend to be longer and
    written in complete sentences. A well-organized presentation with complete sentences
    can be viewed as a brief report. A report with short paragraphs and a lot of figures
    can look like a presentation.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 演示和报告之间有一个模糊的界限。演示通常较短，侧重于关键词和短语。报告通常较长，用完整的句子书写。一个组织良好的包含完整句子的演示可以被视为简短的报告。一个包含简短段落和大量图表的报告看起来可能像演示。
- en: Markdown formatting provides a lot of capabilities to create publication-quality
    typeset documents. The technology stack from **Markdown** to HTML to a browser
    or a PDF rendering engine involves a number of transformation steps to get from
    simple Unicode text in a notebook cell to a richly detailed rendering. This stack
    is a first-class part of Jupyter Lab and can be exploited by tools like **Quarto**
    or **Jupyter**{**Book**} to create reports.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '**Markdown**格式提供了许多功能，可以创建高质量的排版文档。从**Markdown**到HTML再到浏览器或PDF渲染引擎的技术堆栈涉及多个转换步骤，以将笔记本单元格中的简单Unicode文本转换为丰富详细的渲染。这个堆栈是Jupyter
    Lab的第一流部分，可以通过像**Quarto**或**Jupyter**{**Book**}这样的工具来利用，以创建报告。'
- en: Not all of the typesetting conventions used by publications are available through
    **Markdown** source files. For example, some publication style guides will include
    an abstract section that has narrower margins, and sometimes a smaller font. This
    can be challenging to implement in the **Markdown** language. Some authors will
    use a less complex layout that lacks all the visual cues of margin and font size.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 并非所有出版物使用的排版约定都通过**Markdown**源文件提供。例如，一些出版物风格指南可能包括一个具有较窄边距的摘要部分，有时字体也较小。这在**Markdown**语言中可能具有挑战性。一些作者可能会使用一个更简单的布局，缺乏所有关于边距和字体大小的视觉提示。
- en: The power of HTML and CSS is such that a great many typesetting capabilities
    are available to the author willing to master the technology stack. The reader
    is encouraged to explore the capabilities of **Markdown**, HTML, and CSS. The
    reader is also advised to set realistic goals; a great deal of time can be invested
    in combining **Markdown** and CSS to achieve typesetting effects that don’t enhance
    a report’s message.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: HTML和CSS的力量如此之大，以至于愿意掌握技术堆栈的作者可以拥有大量的排版能力。鼓励读者探索**Markdown**、HTML和CSS的能力。读者还被建议设定现实的目标；在结合**Markdown**和CSS以实现不会增强报告信息的排版效果时，可能会投入大量时间。
- en: 'It often works out well to put each paragraph into a separate cell. This is
    not a strict rule: sometimes a group of paragraphs should be put into a single
    cell.'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 通常将每个段落放入单独的单元格中效果很好。这不是一个严格的规定：有时一组段落应该放入一个单元格中。
- en: Top-level headings should often be in cells by themselves. This can make it
    easier to reorganize content within those headings. Some lower-level headings
    should be in the cell with their introductory paragraph since the heading and
    the cell’s content are unlikely to be separated.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 最高级标题通常应该单独放在单元格中。这可以使重新组织这些标题下的内容更容易。一些较低级别的标题应该与它们的介绍段落放在同一个单元格中，因为标题和单元格的内容不太可能分开。
- en: 'We might have a cell with a level one heading that looks like this:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可能有一个包含一级标题的单元格，看起来像这样：
- en: '[PRE0]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: This cell has only the title and no following text. There will likely be a subheading
    in the next cell with the introduction to the document.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 这个单元格只有标题，没有后续文本。下一个单元格可能有一个子标题，介绍文档。
- en: 'A lower-level cell might look like this:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 一个低级别的单元格可能看起来像这样：
- en: '[PRE1]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: This cell has both a level two title, and the introductory text for this section
    of the document. It uses `**` **Markdown** syntax to show that a particular phrase
    should have strong emphasis, usually done with a bold font.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 此单元格包含二级标题以及该文档本节的开头文字。它使用 `**` **Markdown** 语法来显示某个短语应该有强烈的强调，通常使用粗体字体来实现。
- en: In the next sections, we’ll talk about the technical approach to adding tools
    to the Jupyter environment so that the analyst can create presentations or reports.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的几节中，我们将讨论向 Jupyter 环境添加工具的技术方法，以便分析师可以创建演示文稿或报告。
- en: 14.2 Overall approach
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 14.2 总体方法
- en: We’ll talk about the general technical steps to creating presentations and reports
    in a Jupyter Notebook. For presentations, no additional tools are needed. For
    some simple reports, the **File** menu offers the ability to save and export a
    notebook as pure Markdown, as a PDF file, or as a LaTeX document. For more complicated
    reports, it can help to use supplemental tools that create a more polished final
    document.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将讨论在 Jupyter Notebook 中创建演示文稿和报告的一般技术步骤。对于演示文稿，不需要额外的工具。对于一些简单的报告，**文件**菜单提供了将笔记本保存和导出为纯
    Markdown、PDF 文件或 LaTeX 文档的功能。对于更复杂的报告，使用辅助工具来创建更精美的最终文档可能会有所帮助。
- en: 14.2.1 Preparing slides
  id: totrans-37
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 14.2.1 准备幻灯片
- en: An HTML-based presentation via **Reveal.js** is a first-class feature of a Jupyter
    Notebook. The **File** menu offers the ability to save and export a notebook as
    Reveal.js slides. This will create an HTML file that will display as a presentation.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 基于 HTML 的 **Reveal.js** 演示文稿是 Jupyter Notebook 的一个一流功能。**文件**菜单提供了将笔记本保存和导出为
    Reveal.js 幻灯片的选项。这将创建一个 HTML 文件，作为演示文稿显示。
- en: Within Jupyter, the property inspector is used to set the type of slide for
    a cell. There’s an icon of two meshed gears on the top right side of the page
    to show the property inspector in the right sidebar. Under the **View** menu,
    the option to show the right sidebar will also show the property inspector.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Jupyter 中，属性检查器用于设置单元格的幻灯片类型。页面右上角有一个两个齿轮交叉的图标，用于在右侧边栏中显示属性检查器。在**视图**菜单下，显示右侧边栏的选项也会显示属性检查器。
- en: There are several choices of **Slide Type** for each cell. The most important
    two choices are “slide” and “skip”.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 每个单元格都有几种**幻灯片类型**的选择。最重要的两个选择是“幻灯片”和“跳过”。
- en: The “slide” will be displayed as part of the presentation. The “skip” cells
    will be dropped from the presentation; this is great for computations and data
    preparation. The other options allow combining cells into a single slide and having
    subsidiary presentation slides.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: “幻灯片”将作为演示文稿的一部分显示。“跳过”单元格将从演示文稿中删除；这对于计算和数据准备来说非常好。其他选项允许将单元格组合成单个幻灯片，并拥有辅助演示幻灯片。
- en: 'Creating **Markdown** content and setting the slide type to “slide” creates
    the narrative text portion of a presentation. These slides would include title
    pages, agenda, and key points: all of the prompts and takeaway bullet points will
    be in these kinds of cells.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 创建 **Markdown** 内容并将幻灯片类型设置为“幻灯片”将创建演示文稿的叙事文本部分。这些幻灯片将包括标题页、议程和要点：所有提示和要点都将包含在这些类型的单元格中。
- en: For data visualizations, we can use **Seaborn** or **PyPlot** to create the
    figure. The cell output has the slide type set to “slide” in the property inspector
    to include the visualization.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 对于数据可视化，我们可以使用 **Seaborn** 或 **PyPlot** 来创建图表。在属性检查器中将单元格输出类型设置为“幻灯片”，以包含可视化。
- en: We can mark the computations, function definitions, and doctest cells with a
    slide type of **skip**. This will omit these details from the presentation.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用“跳过”幻灯片类型标记计算、函数定义和 doctest 单元格。这将省略这些细节从演示文稿中。
- en: The analyst can share the notebook with audience members who want to see the
    supporting details.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 分析师可以将笔记本与希望查看支持细节的观众成员分享。
- en: The **Reveal.js** has a huge repertoire of capabilities. Many of these features
    are available through HTML markup. For example, the auto-animate feature will
    smoothly transition between cells. Since HTML markup is part of **Markdown**,
    some familiarity with HTML is required for the use of the most advanced features.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**Reveal.js** 拥有大量的功能。其中许多功能通过 HTML 标记实现。例如，自动动画功能将在单元格之间平滑过渡。由于 HTML 标记是 **Markdown**
    的一部分，因此需要熟悉 HTML 才能使用最先进的功能。'
- en: The final step is to use the CLI to convert the notebook to a slide deck. The
    **File** menu has a **Save and Export Notebook As...** option, but this tends
    to make all of the code visible. Having visible code can distract from the essential
    message of the visualizations.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一步是使用CLI将笔记本转换为幻灯片。**文件**菜单中的**保存并另存为...**选项，但这样往往会使所有代码都可见。可见的代码可能会分散对可视化基本信息的注意力。
- en: 'The following command hides the cell input value — the code — from the presentation:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 以下命令隐藏了单元格输入值——代码——从演示文稿中：
- en: '[PRE2]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Use the name of your notebook in place of `<notebook.ipynb>`. This will create
    an HTML file with the **Reveal.js** code included.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 使用笔记本的名称代替`<notebook.ipynb>`。这将创建一个包含**Reveal.js**代码的HTML文件。
- en: 'The overall process has three steps:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 整个过程分为三个步骤：
- en: Edit the notebook.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编辑笔记本。
- en: Prepare the presentation. (The terminal tool in Jupyter Lab is ideal for this.)
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 准备演示文稿。（Jupyter Lab中的终端工具非常适合这个用途。）
- en: View the presentation to find problems.
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查看演示文稿以发现问题。
- en: This is distinct from the way products like **Keynote** and **PowerPoint** work.
    When working with Jupyter Lab, there will a bit of flipping back- and forth between
    browser windows and the notebook window. Placing windows on each side of the display
    can be helpful.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 这与像**Keynote**和**PowerPoint**这样的产品的工作方式不同。当使用Jupyter Lab时，将在浏览器窗口和笔记本窗口之间进行一些切换。将窗口放置在显示器的两侧可能会有所帮助。
- en: Be sure to refresh the browser window after each change to the notebook.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 确保在每次更改笔记本后刷新浏览器窗口。
- en: 14.2.2 Preparing a report
  id: totrans-57
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 14.2.2 准备报告
- en: Creating reports is a first-class part of Jupyter Lab. The **File** menu offers
    the ability to save and export a notebook as pure Markdown, as a PDF file, or
    as a LaTeX document.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 创建报告是Jupyter Lab的第一等部分。**文件**菜单提供了保存和导出纯Markdown、PDF文件或LaTeX文档的能力。
- en: A tool like **pandoc** can convert a **Markdown** file into a wide variety of
    desired formats. For output creating using LaTeX formatting, a TeX rendering package
    is required to create a PDF file from the source. The **TeXLive** project maintains
    a number of tools useful for rendering LaTeX. For macOS users, the **MacTex**
    project offers the required binaries. An online tool like **Overleaf** is also
    useful for handling LaTeX.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 类似于**pandoc**这样的工具可以将**Markdown**文件转换为各种期望的格式。对于使用LaTeX格式创建输出的情况，需要一个TeX渲染包来从源文件创建PDF文件。**TeXLive**项目维护了多个用于渲染LaTeX的有用工具。对于macOS用户，**MacTex**项目提供了所需的二进制文件。在线工具**Overleaf**也很有用，可以处理LaTeX。
- en: In many cases, more sophisticated processing is required than simply saving
    a notebook as a pure **Markdown** file. We can add the **Jupyter**{**Book**} tools
    to our environment. For more information see [https://jupyterbook.org](https://jupyterbook.org).
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 在许多情况下，仅仅将笔记本保存为纯**Markdown**文件是不够的，需要更复杂的处理。我们可以在我们的环境中添加**Jupyter**{**Book**}工具。更多信息请参阅[https://jupyterbook.org](https://jupyterbook.org)。
- en: The `jupyter-book` component needs to be added to the `requirements-dev.txt`
    file so other developers know to install it.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 需要将`jupyter-book`组件添加到`requirements-dev.txt`文件中，以便其他开发者知道安装它。
- en: 'When using **conda** to manage virtual environments, the command might look
    like the following:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用**conda**管理虚拟环境时，命令可能看起来像以下这样：
- en: '[PRE3]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'When using other tools to manage virtual environments, the command might look
    like the following:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用其他工具管理虚拟环境时，命令可能看起来像以下这样：
- en: '[PRE4]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: A Jupyter book can be considerably more complicated than a single notebook file.
    There will be configuration and **table-of-contents** (**TOC**) files to structure
    the overall report. The content can be provided in a mixture of **Markdown**,
    reStructuredText, and Notebook files. Additionally, an extended version of the
    **Markdown** language, **MyST**, is available to add a wide variety of semantic
    markup capabilities.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 一个Jupyter书可能比单个笔记本文件复杂得多。将会有配置和**目录**（**TOC**）文件来构建整体报告。内容可以以**Markdown**、reStructuredText和笔记本文件等多种形式提供。此外，还提供了一个**Markdown**语言的扩展版本，**MyST**，可以添加广泛的语义标记功能。
- en: One way to get started is to use the `jupyter-book`` create` command to create
    a template project. This template includes the required `_config.yml` and `_toc.yml`
    files. It also includes examples of various other files that might be part of
    a project.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 开始的一种方式是使用`jupyter-book`的`create`命令创建一个模板项目。这个模板包括所需的所有`_config.yml`和`_toc.yml`文件。它还包括可能成为项目一部分的各种其他文件的示例。
- en: The `_config.yml` file has the title and author information. This is the place
    to start customizing the content to provide the correct report and author names.
    Other parts of the configuration may need to be changed, depending on how the
    report will be published. The built-in assumption is an HTML upload to a public
    repository. For many reports, this is ideal.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '`_config.yml`文件包含标题和作者信息。这是开始自定义内容以提供正确报告和作者名称的地方。根据报告的发布方式，可能需要更改配置的其他部分。内置假设是上传HTML到公共仓库。对于许多报告来说，这是理想的。'
- en: For some enterprise projects, however, reporting to a public repository with
    links to public GitHub isn’t acceptable. For these cases, the `_config.yml` file
    will have to be changed to correct the repository options to refer to an in-house
    repository.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，对于某些企业项目，向公共仓库报告并链接到公共GitHub是不可接受的。在这种情况下，必须更改`_config.yml`文件以正确设置仓库选项，以引用内部仓库。
- en: It’s often helpful to immediately edit the `_toc.yml` file, and start creating
    the report’s outline. Generally, the data and notebooks already exist. The audience
    is often known, and the key points the audience members need to absorb are clear,
    permitting the analyst to create the outline, and placeholder documents, right
    away.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 立即编辑`_toc.yml`文件并开始创建报告的大纲通常很有帮助。通常，数据和笔记本已经存在。受众通常是已知的，受众成员需要吸收的关键点也很明确，这使得分析师可以立即创建大纲和占位符文档。
- en: In some cases, the analyst can fill in the outline with notes extracted from
    the analysis notebooks. This refactoring of content can help to trim working notebooks
    down to the essential computation and visualization. The narrative text can be
    segregated into MyST or Markdown files outside the notebooks.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，分析师可以使用从分析笔记本中提取的笔记来填写大纲。这种内容重构可以帮助将工作笔记本缩减到必要的计算和可视化。叙述性文本可以分离到笔记本外的MyST或Markdown文件中。
- en: Once the content is in draft form, a book is created with the `jupyter-book`` build`
    command. This will use the configuration and TOC file to build the complete document
    from various sources. The default document is an HTML page.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦内容以草案形式存在，就可以使用`jupyter-book build`命令创建一本书。这将使用配置和目录文件从各种来源构建完整的文档。默认文档是一个HTML页面。
- en: As of this book’s publication date, version 0.15.1 includes a warning that direct
    PDF production is under development and may have bugs. The more reliable way to
    create PDFs is to use **Jupyter**{**Book**} to create a LaTeX file. The OS-native
    `LaTeX` command can be used to build PDFs. An alternative is to use the `sphinx-jupyterbook-latex`
    package to wrap the TeXtools that transform the LaTeX to PDF.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 到本书出版日期为止，版本0.15.1包含一个警告，即直接PDF生成仍在开发中，可能存在错误。创建PDF的更可靠方法是使用**Jupyter**{**Book**}创建LaTeX文件。可以使用操作系统本地的`LaTeX`命令来构建PDF。另一种选择是使用`sphinx-jupyterbook-latex`包来包装将LaTeX转换为PDF的TeX工具。
- en: 'This involves a number of moving parts, and the installation can be daunting.
    Here are some of the steps involved:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 这涉及到许多移动部件，安装过程可能令人望而却步。以下是涉及的一些步骤：
- en: The source **Markdown** text is converted to LaTeX by Jupyter Book.
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 源**Markdown**文本由Jupyter Book转换为LaTeX。
- en: Some intermediate work may be performed by the `sphinx-jupyterbook-latex` package.
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`sphinx-jupyterbook-latex`包可能会执行一些中间工作。'
- en: The final PDF is created by an OS `latex` command; this is either the **MacTex**
    or **TexLive** installation of the TeX tools.
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最终的PDF是通过操作系统的`latex`命令创建的；这是MacTeX或TeXLive安装的TeX工具。
- en: The CLI build command is the `jupyter-book`` build` command with an additional
    option `--builder`` pdflatex` to specify that Sphinx and the TeX tools are used
    to render the PDF.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: CLI构建命令是`jupyter-book build`命令，并附加一个`--builder pdflatex`选项来指定使用Sphinx和TeX工具来渲染PDF。
- en: 14.2.3 Creating technical diagrams
  id: totrans-79
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 14.2.3 创建技术图表
- en: Technical diagrams, including the wide variety of diagrams defined by the UML,
    are often challenging to create. Popular presentation tools like **Keynote** and
    **PowerPoint** have clever drawing tools with lots of built-in shapes and options
    for positioning those shapes on a slide.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 技术图表，包括由UML定义的广泛图表，通常很难创建。流行的演示工具如**Keynote**和**PowerPoint**拥有巧妙的绘图工具，内置了大量的形状和选项，可以用于在幻灯片上定位这些形状。
- en: 'There are several choices for creating diagrams for a presentation:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 对于演示文稿中的图表创建，有几个选择：
- en: Use a separate graphics application to create `.PNG` or `.jpg` files and incorporate
    the graphics into the document. Many of the diagrams in this book were created
    with PlantUML, for example. See [https://plantuml.com](https://plantuml.com).
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用单独的图形应用程序创建`.PNG`或`.jpg`文件，并将图形融入文档。本书中的许多图表都是使用PlantUML创建的，例如。请参阅[https://plantuml.com](https://plantuml.com)。
- en: Use `matplotlib`, and write code to create the image. This can involve a lot
    of programming to draw some boxes connected by arrows.
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`matplotlib`，编写代码创建图像。这可能涉及大量的编程来绘制一些由箭头连接的框。
- en: 'The **PlantWEB** project provides a Python interface to the PlantUML web service.
    This allows an analyst to work as follows:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '**PlantWEB**项目提供了一个Python接口到PlantUML网络服务。这使得分析师可以如下工作：'
- en: Create a file with text in the **domain-specific language** (**DSL**) that describes
    the image.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个包含描述图像的**领域特定语言**（**DSL**）文本的文件。
- en: Render the image with the PlantUML engine to create an `.jpg` file.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用PlantUML引擎渲染图像以创建`.jpg`文件。
- en: Import the image into the notebook as an IPython `SVG` object.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将图像作为IPython `SVG`对象导入笔记本。
- en: The image rendering uses the PlantUML server; this requires an active internet
    connection. In cases where the analyst might be working offline, the **PlantWEB**
    documentation suggests using **Docker** to run a local service in a local Docker
    container. This will do diagram rendering quickly without the requirement to connect
    to the internet.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 图像渲染使用PlantUML服务器；这需要一个活跃的互联网连接。在分析师可能离线工作的情况下，**PlantWEB**文档建议使用**Docker**在本地Docker容器中运行本地服务。这将快速进行图表渲染，无需连接到互联网。
- en: Having looked at the various technical considerations to create slides and a
    report, we can emphasize the deliverables for this project.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 在考虑了创建幻灯片和报告的各种技术因素后，我们可以强调本项目的交付成果。
- en: 14.3 Deliverables
  id: totrans-90
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 14.3 交付成果
- en: 'There are two deliverables for this project:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 本项目有两个交付成果：
- en: A presentation
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个演示文稿
- en: A report
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个报告
- en: The presentation should be an HTML document using the **Reveal.js** slide deck.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 演示文稿应该是一个使用**Reveal.js**幻灯片的HTML文档。
- en: The report should be a PDF document from a single notebook. It should contain
    the visualization figures and some narrative text explaining the images.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 报告应该是一个来自单个笔记本的PDF文档。它应包含可视化图表和一些解释图像的叙述性文本。
- en: 'For information on unit testing and acceptance testing of the notebooks, see
    [*Chapter** 13*](ch017.xhtml#x1-29700013), [*Project 4.1: Visual Analysis Techniques*](ch017.xhtml#x1-29700013).
    This project should build on the previous project. It doesn’t involve dramatic
    new programming. Instead, it involves the integration of a large number of components
    to create meaningful, useful presentations and reports.'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 关于笔记本的单元测试和验收测试信息，请参阅[*第13章*](ch017.xhtml#x1-29700013)，[*项目4.1：可视化技术*](ch017.xhtml#x1-29700013)。本项目应基于前一个项目。它不涉及戏剧性的新编程。相反，它涉及大量组件的集成，以创建有意义的、有用的演示和报告。
- en: 14.4 Summary
  id: totrans-97
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 14.4 摘要
- en: 'In this chapter, we have built two important working results of data analysis:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们构建了数据分析的两个重要工作成果：
- en: Slide decks that can be used as presentations to interested users and stakeholders
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以用作演示给感兴趣的用户和利益相关者的幻灯片
- en: Reports in PDF format that can be distributed to stakeholders
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以分发给利益相关者的PDF格式的报告
- en: The line between these two is always hazy. Some presentations have a lot of
    details and are essentially reports presented in small pages.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 这两者之间的界限总是模糊的。有些演示文稿有很多细节，本质上是在小页面上呈现的报告。
- en: Some reports are filled with figures and bullet points; they often seem to be
    presentations written in portrait mode.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 有些报告充满了图表和项目符号；它们通常看起来像是纵向模式的演示文稿。
- en: Generally, presentations don’t have the depth of detail reports do. Often, reports
    are designed for long-term retention and provide background, as well as a bibliography
    to help readers fill in missing knowledge. Both are first-class parts of a Jupyter
    notebook and creating these should be part of every analyst’s skills.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，演示文稿的细节深度不如详细报告。报告通常设计用于长期保留，并提供背景信息，以及参考文献，以帮助读者填补缺失的知识。这两者都是Jupyter笔记本的第一流部分，创建这些内容应该是每位分析师技能的一部分。
- en: This chapter has emphasized the additional tools required to create outstanding
    results. In the next chapter, we’ll shift gears and look at some of the statistical
    basics of data modeling.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 本章强调了创建卓越成果所需的额外工具。在下一章中，我们将转换方向，探讨数据建模的一些基本统计知识。
- en: 14.5 Extras
  id: totrans-105
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 14.5 额外内容
- en: Here are some ideas for the reader to add to these projects.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一些想法供读者添加到这些项目中。
- en: 14.5.1 Written reports with UML diagrams
  id: totrans-107
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 14.5.1 带有 UML 图表的书面报告
- en: In [*Creating technical diagrams*](#x1-3200003) the process of creating UML
    diagrams was summarized. The reader is encouraged to use PlantUML to create C4
    diagrams for their data acquisition and cleaning pipeline. These `.jpg` files
    can then be incorporated into a report as Markdown figures.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [*创建技术图表*](#x1-3200003) 中，总结了创建 UML 图表的过程。鼓励读者使用 PlantUML 为他们的数据采集和清洗流程创建
    C4 图表。然后，这些 `.jpg` 文件可以被纳入报告中作为 Markdown 图像。
- en: For more information on the C4 model, see [https://c4model.com](https://c4model.com).
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 关于 C4 模型的更多信息，请参阅 [https://c4model.com](https://c4model.com)。
