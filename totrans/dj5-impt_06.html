<html><head></head><body>
		<div id="_idContainer057">
			<h1 id="_idParaDest-103" class="chapter-number"><a id="_idTextAnchor108"/><st c="0">6</st></h1>
			<h1 id="_idParaDest-104"><a id="_idTextAnchor109"/><st c="2">Collecting and Displaying Data from the Database</st></h1>
			<p><st c="50">In the previous chapters, movie information was gathered using dummy data implemented within a Python list. </st><st c="159">While this approach served as a good initial attempt to display movie information, it doesn’t scale well. </st><st c="265">If we want to add a new movie or edit an existing one, we will need to modify our Python code. </st><st c="360">This chapter focuses on the process of refactoring both the movies and individual movie pages to retrieve and present information directly from the database. </st><st c="518">With this approach, if we need to add new movies or modify existing ones, we can simply access the admin panel without the need to modify the Python code. </st><st c="673">Additionally, we will implement a new movie </st><span class="No-Break"><st c="717">search functionality.</st></span></p>
			<p><st c="738">In this chapter, we will cover the </st><span class="No-Break"><st c="774">following topics:</st></span></p>
			<ul>
				<li><st c="791">Removing the movies’ </st><span class="No-Break"><st c="813">dummy data</st></span></li>
				<li><st c="823">Updating the movie </st><span class="No-Break"><st c="843">listings page</st></span></li>
				<li><st c="856">Updating the listing of an individual </st><span class="No-Break"><st c="895">movie page</st></span></li>
				<li><st c="905">Implementing a search </st><span class="No-Break"><st c="928">movie functionality</st></span></li>
			</ul>
			<p><st c="947">By the end of this chapter, you will know how to collect and display information from </st><span class="No-Break"><st c="1034">the database.</st></span></p>
			<h1 id="_idParaDest-105"><a id="_idTextAnchor110"/><st c="1047">Technical requirements</st></h1>
			<p><st c="1070">In this chapter, we will use Python 3.10+. </st><st c="1114">Additionally, we will use the </st><strong class="bold"><st c="1144">VS Code</st></strong><st c="1151"> editor in this book, which you can download </st><span class="No-Break"><st c="1196">from </st></span><a href="https://code.visualstudio.com/"><span class="No-Break"><st c="1201">https://code.visualstudio.com/</st></span></a><span class="No-Break"><st c="1231">.</st></span></p>
			<p><st c="1232">The code for this chapter is located </st><span class="No-Break"><st c="1270">at </st></span><a href="https://github.com/PacktPublishing/Django-5-for-the-Impatient-Second-Edition/tree/main/Chapter06/moviesstore"><span class="No-Break"><st c="1273">https://github.com/PacktPublishing/Django-5-for-the-Impatient-Second-Edition/tree/main/Chapter06/moviesstore</st></span></a><span class="No-Break"><st c="1381">.</st></span></p>
			<p><st c="1382">The CiA video for this chapter can be found </st><span class="No-Break"><st c="1427">at </st></span><a href="https://packt.link/mZUvA"><span class="No-Break"><st c="1430">https://packt.link/mZUvA</st></span></a></p>
			<h1 id="_idParaDest-106"><a id="_idTextAnchor111"/><st c="1454">Removing the movies’ dummy data</st></h1>
			<p><st c="1486">The first step to extract database</st><a id="_idIndexMarker188"/><st c="1521"> data is to remove the movies’ dummy data. </st><st c="1564">In </st><strong class="source-inline"><st c="1567">/movies/views.py</st></strong><st c="1583">, remove the </st><strong class="source-inline"><st c="1596">movies</st></strong><st c="1602"> variable, as shown in the following </st><span class="No-Break"><st c="1639">in </st></span><span class="No-Break"><strong class="bold"><st c="1642">bold</st></strong></span><span class="No-Break"><st c="1646">:</st></span></p>
			<pre class="source-code"><st c="1648">
from django.shortcuts import render
</st><strong class="bold"><st c="1685">movies = [</st></strong>
<strong class="bold"><st c="1695">    {</st></strong>
<strong class="bold"><st c="1697">        'id': 1, 'name': 'Inception', 'price': 12,</st></strong>
<strong class="bold"><st c="1740">        'description': 'A mind-bending heist thriller.'</st></strong>
<strong class="bold"><st c="1788">    },</st></strong>
<strong class="bold"><st c="1791">    {</st></strong>
<strong class="bold"><st c="1793">        'id': 2, 'name': 'Avatar', 'price': 13,</st></strong>
<strong class="bold"><st c="1833">        'description': 'A journey to a distant world and the battle for resources.'</st></strong>
<strong class="bold"/><strong class="bold"><st c="1909">},</st></strong>
<strong class="bold"><st c="1912">    {</st></strong>
<strong class="bold"><st c="1914">        'id': 3, 'name': 'The Dark Knight', 'price': 14,</st></strong>
<strong class="bold"><st c="1963">        'description': 'Gothams vigilante faces the Joker.'</st></strong>
<strong class="bold"><st c="2015">    },</st></strong>
<strong class="bold"><st c="2018">    {</st></strong>
<strong class="bold"><st c="2020">        'id': 4, 'name': 'Titanic', 'price': 11,</st></strong>
<strong class="bold"><st c="2061">        'description': 'A love story set against the backdrop of the sinking Titanic.',</st></strong>
<strong class="bold"><st c="2141">    },</st></strong>
<strong class="bold"><st c="2144">]</st></strong><st c="2146">
…</st></pre>			<p><st c="2147">We don’t need this variable anymore, as we will extract the movie information from the database. </st><st c="2244">Also, remember to </st><a id="_idIndexMarker189"/><st c="2262">access the admin panel and create a few </st><span class="No-Break"><st c="2302">movie objects.</st></span></p>
			<p><st c="2316">Now that we have removed the dummy data, let’s update the way we </st><span class="No-Break"><st c="2382">list movies.</st></span></p>
			<h1 id="_idParaDest-107"><a id="_idTextAnchor112"/><st c="2394">Updating the movie listings page</st></h1>
			<p><st c="2427">Now, let’s update the</st><a id="_idIndexMarker190"/><st c="2449"> code to extract movie information from the database. </st><st c="2503">We </st><a id="_idIndexMarker191"/><st c="2506">will need to, first, update the </st><strong class="source-inline"><st c="2538">index</st></strong><st c="2543"> function; second, update the </st><strong class="source-inline"><st c="2573">movies.index</st></strong><st c="2585"> template; and third, add a custom </st><span class="No-Break"><st c="2620">CSS class.</st></span></p>
			<h2 id="_idParaDest-108"><a id="_idTextAnchor113"/><st c="2630">Updating index function</st></h2>
			<p><st c="2654">In </st><strong class="source-inline"><st c="2658">/movies/views.py</st></strong><st c="2674">, add the following </st><span class="No-Break"><st c="2694">in bold:</st></span></p>
			<pre class="source-code"><st c="2702">
from django.shortcuts import render
</st><strong class="bold"><st c="2739">from .models import Movie</st></strong><st c="2764">
def index(request):
    template_data = {}
    template_data['title'] = 'Movies'
    template_data['movies'] = </st><strong class="bold"><st c="2864">Movie.objects.all()</st></strong><st c="2883">
    return render(request, 'movies/index.html',
                  {'template_data': template_data})
…</st></pre>			<p><st c="2963">Let’s explain the </st><span class="No-Break"><st c="2982">previous code:</st></span></p>
			<ul>
				<li><st c="2996">We import the </st><strong class="source-inline"><st c="3011">Movie</st></strong><st c="3016"> model from the </st><strong class="source-inline"><st c="3032">models</st></strong><st c="3038"> file. </st><st c="3045">We will use this model to access </st><span class="No-Break"><st c="3078">database information.</st></span></li>
				<li><st c="3099">We collect all movies from the database by using the </st><strong class="source-inline"><st c="3153">Movie.objects.all()</st></strong><st c="3172"> method. </st><strong class="source-inline"><st c="3181">Movie.objects</st></strong><st c="3194"> is a manager in Django that serves as the default interface to query the database table associated with the model. </st><st c="3310">It provides various methods to perform database operations such as creating, updating, deleting, and retrieving objects. </st><st c="3431">The </st><strong class="source-inline"><st c="3435">all()</st></strong><st c="3440"> method fetches all objects from the database</st><a id="_idIndexMarker192"/><st c="3485"> table represented by the model. </st><st c="3518">Remember that we previously collected the movie information by using the </st><strong class="source-inline"><st c="3591">movies</st></strong><st c="3597"> variable; now, we use the </st><strong class="source-inline"><st c="3624">Movie</st></strong> <span class="No-Break"><st c="3629">Django model.</st></span></li>
			</ul>
			<p class="callout-heading"><st c="3643">Note</st></p>
			<p class="callout"><st c="3648">Django offers several methods to manipulate and access database information. </st><st c="3726">You can find more of these methods </st><span class="No-Break"><st c="3761">here: </st></span><a href="https://docs.djangoproject.com/en/5.0/topics/db/queries/"><span class="No-Break"><st c="3767">https://docs.djangoproject.com/en/5.0/topics/db/queries/</st></span></a><span class="No-Break"><st c="3823">.</st></span></p>
			<h2 id="_idParaDest-109"><a id="_idTextAnchor114"/><st c="3824">Updating the movies.index template</st></h2>
			<p><st c="3859">In </st><strong class="source-inline"><st c="3863">/movies/templates/movies/index.html</st></strong><st c="3898">, add the </st><a id="_idIndexMarker193"/><st c="3908">following </st><span class="No-Break"><st c="3918">in bold:</st></span></p>
			<pre class="source-code"><st c="3926">
      …
      {% for movie in template_data.movies %}
      &lt;div class="col-md-4 col-lg-3 mb-2"&gt;
        &lt;div class="p-2 card align-items-center pt-4"&gt;
          &lt;img src="</st><strong class="bold"><st c="4062">{{ movie.image.url }}</st></strong><st c="4084">"
            class="card-img-top rounded </st><strong class="bold"><st c="4115">img-card-200</st></strong><st c="4127">"&gt;
          &lt;div class="card-body text-center"&gt;
            &lt;a href="{% url 'movies.show' id=movie.id %}"
              class="btn bg-dark text-white"&gt;
              {{ movie.name }}
            &lt;/a&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      {% endfor %}
      …</st></pre>			<p><st c="4302">We have removed the default image, and now we will show the specific image for each movie. </st><st c="4394">Therefore, we will include </st><a id="_idIndexMarker194"/><st c="4421">a custom CSS class to display the images with the same proportion. </st><st c="4488">We will add this CSS </st><span class="No-Break"><st c="4509">class next.</st></span></p>
			<h2 id="_idParaDest-110"><a id="_idTextAnchor115"/><st c="4520">Adding a custom CSS class</st></h2>
			<p><st c="4546">In </st><strong class="source-inline"><st c="4550">/moviesstore/static/css/style.css</st></strong><st c="4583">, add the</st><a id="_idIndexMarker195"/><st c="4592"> following in bold at the end of </st><span class="No-Break"><st c="4625">the file:</st></span></p>
			<pre class="source-code"><st c="4634">
…
</st><strong class="bold"><st c="4636">.img-card-200 {</st></strong>
<strong class="bold"><st c="4651">  width: fit-content;</st></strong>
<strong class="bold"><st c="4671">  max-height: 200px;</st></strong>
<strong class="bold"><st c="4690">}</st></strong></pre>			<p><st c="4692">Now, save those files, run the server, and go to </st><a href="http://localhost:8000/movies"><st c="4741">http://localhost:8000/movies</st></a><st c="4769">; you should see the movies page, which extracts information from the </st><a id="_idIndexMarker196"/><st c="4840">database (</st><span class="No-Break"><em class="italic"><st c="4850">Figure 6</st></em></span><span class="No-Break"><em class="italic"><st c="4859">.1</st></em></span><span class="No-Break"><st c="4861">).</st></span></p>
			<div>
				<div id="_idContainer054" class="IMG---Figure">
					<img src="image/B22457_06_01.jpg" alt="Figure 6.1 – The movies page"/><st c="4864"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="4979">Figure 6.1 – The movies page</st></p>
			<p><st c="5007">The movies page now lists movies from the database; let’s complete this process by modifying the individual </st><span class="No-Break"><st c="5116">movie pages.</st></span></p>
			<h1 id="_idParaDest-111"><a id="_idTextAnchor116"/><st c="5128">Updating the listing of an individual movie page</st></h1>
			<p><st c="5177">Now, let’s update the code to</st><a id="_idIndexMarker197"/><st c="5207"> extract individual movie information from the database. </st><st c="5264">We will need to, first, update the show function; second, update the </st><strong class="source-inline"><st c="5333">movies.show</st></strong><st c="5344"> template; and third, add a custom </st><span class="No-Break"><st c="5379">CSS class.</st></span></p>
			<h2 id="_idParaDest-112"><a id="_idTextAnchor117"/><st c="5389">Updating show function</st></h2>
			<p><st c="5412">In </st><strong class="source-inline"><st c="5416">/movies/views.py</st></strong><st c="5432">, add the </st><a id="_idIndexMarker198"/><st c="5442">following </st><span class="No-Break"><st c="5452">in bold:</st></span></p>
			<pre class="source-code"><st c="5460">
…
def show(request, id):
    movie =  </st><strong class="bold"><st c="5493">Movie.objects.get(id=id)</st></strong><st c="5517">
    template_data = {}
    template_data['title'] = </st><strong class="bold"><st c="5562">movie.name</st></strong><st c="5572">
    template_data['movie'] = movie
    return render(request, 'movies/show.html',
                  {'template_data': template_data})</st></pre>			<p><st c="5680">Let’s explain the </st><span class="No-Break"><st c="5699">previous code:</st></span></p>
			<ul>
				<li><st c="5713">We use the </st><strong class="source-inline"><st c="5725">Movie.objects.get(id=id)</st></strong><st c="5749"> method to retrieve a specific movie based </st><a id="_idIndexMarker199"/><st c="5792">on its </st><strong class="source-inline"><st c="5799">id</st></strong><st c="5801">. Remember that </st><strong class="source-inline"><st c="5817">id</st></strong><st c="5819"> is passed by the URL and received as a parameter in the </st><span class="No-Break"><strong class="source-inline"><st c="5876">show</st></strong></span><span class="No-Break"><st c="5880"> function.</st></span></li>
				<li><st c="5890">We now access </st><strong class="source-inline"><st c="5905">movie.name</st></strong><st c="5915"> as an object attribute. </st><st c="5940">Previously, we accessed the name as a key (</st><strong class="source-inline"><st c="5983">movie['name']</st></strong><st c="5997">), since the dummy data variable </st><span class="No-Break"><st c="6031">stored dictionaries.</st></span></li>
			</ul>
			<h2 id="_idParaDest-113"><a id="_idTextAnchor118"/><st c="6051">Updating the movies.show template</st></h2>
			<p><st c="6085">In </st><strong class="source-inline"><st c="6089">/movies/templates/movies/show.html</st></strong><st c="6123">, add the</st><a id="_idIndexMarker200"/><st c="6132"> following </st><span class="No-Break"><st c="6143">in bold:</st></span></p>
			<pre class="source-code"><st c="6151">
      …
      &lt;div class="col-md-6 mx-auto mb-3"&gt;
        &lt;h2&gt;{{ template_data.movie.name }}&lt;/h2&gt;
        &lt;hr /&gt;
        &lt;p&gt;&lt;b&gt;Description:&lt;/b&gt; {{
          template_data.movie.description }}&lt;/p&gt;
        &lt;p&gt;&lt;b&gt;Price:&lt;/b&gt; ${{
          template_data.movie.price }}&lt;/p&gt;
      &lt;/div&gt;
      &lt;div class="col-md-6 mx-auto mb-3 text-center"&gt;
        &lt;img src="</st><strong class="bold"><st c="6420">{{ template_data.movie.image.url }}</st></strong><st c="6456">"
          class="rounded </st><strong class="bold"><st c="6474">img-card-400</st></strong><st c="6486">" /&gt;
      &lt;/div&gt;
      …</st></pre>			<p><st c="6500">Similar to the previous</st><a id="_idIndexMarker201"/><st c="6524"> code, we now show the specific movie image and use a custom CSS class to display movie images with the </st><span class="No-Break"><st c="6628">same proportion.</st></span></p>
			<h2 id="_idParaDest-114"><a id="_idTextAnchor119"/><st c="6644">Adding a custom CSS class</st></h2>
			<p><st c="6670">In </st><strong class="source-inline"><st c="6674">/moviesstore/static/css/style.css</st></strong><st c="6707">, add the</st><a id="_idIndexMarker202"/><st c="6716"> following in bold at the end of </st><span class="No-Break"><st c="6749">the file:</st></span></p>
			<pre class="source-code"><st c="6758">
…
</st><strong class="bold"><st c="6760">.img-card-400 {</st></strong>
<strong class="bold"><st c="6775">  width: fit-content;</st></strong>
<strong class="bold"><st c="6795">  max-height: 400px;</st></strong>
<strong class="bold"><st c="6814">}</st></strong></pre>			<p><st c="6816">Now, save those files, run the server, and go to a specific movie at </st><a href="http://localhost:8000/movies/1"><st c="6885">http://localhost:8000/movies/1</st></a><st c="6915">; you should see the individual movie page, which extracts movie information from the database (</st><span class="No-Break"><em class="italic"><st c="7012">Figure 6</st></em></span><span class="No-Break"><em class="italic"><st c="7021">.2</st></em></span><span class="No-Break"><st c="7023">).</st></span></p>
			<div>
				<div id="_idContainer055" class="IMG---Figure">
					<img src="image/B22457_06_02.jpg" alt="Figure 6.2 – An individual movie page"/><st c="7026"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="7199">Figure 6.2 – An individual movie page</st></p>
			<p><st c="7236">We are now listing movies and</st><a id="_idIndexMarker203"/><st c="7266"> individual movies from the database. </st><st c="7304">Finally, let’s include a new functionality to be able to </st><span class="No-Break"><st c="7361">search movies.</st></span></p>
			<h1 id="_idParaDest-115"><a id="_idTextAnchor120"/><st c="7375">Implementing a search movie functionality</st></h1>
			<p><st c="7417">Let’s finalize this chapter by implementing a</st><a id="_idIndexMarker204"/><st c="7463"> search movie functionality. </st><st c="7492">We will need to, first, update the </st><strong class="source-inline"><st c="7527">movies.index</st></strong><st c="7539"> template, and second, update the </st><span class="No-Break"><strong class="source-inline"><st c="7573">index</st></strong></span><span class="No-Break"><st c="7578"> function.</st></span></p>
			<h2 id="_idParaDest-116"><a id="_idTextAnchor121"/><st c="7588">Updating the movies.index template</st></h2>
			<p><st c="7623">In </st><strong class="source-inline"><st c="7627">/movies/templates/movies/index.html</st></strong><st c="7662">, add </st><a id="_idIndexMarker205"/><st c="7668">the following </st><span class="No-Break"><st c="7682">in bold:</st></span></p>
			<pre class="source-code"><st c="7690">
      …
      &lt;div class="col mx-auto mb-3"&gt;
        &lt;h2&gt;List of Movies&lt;/h2&gt;
        &lt;hr /&gt;
        </st><strong class="bold"><st c="7754">&lt;p class="card-text"&gt;</st></strong>
<strong class="bold"><st c="7775">          &lt;form method="GET"&gt;</st></strong>
<strong class="bold"/><strong class="bold"><st c="7795">&lt;div class="row"&gt;</st></strong>
<strong class="bold"><st c="7813">              &lt;div class="col-auto"&gt;</st></strong>
<strong class="bold"><st c="7836">                &lt;div class="input-group col-auto"&gt;</st></strong>
<strong class="bold"><st c="7871">                  &lt;div class="input-group-text"&gt;</st></strong>
<strong class="bold"><st c="7902">                    Search&lt;/div&gt;</st></strong>
<strong class="bold"><st c="7915">                  &lt;input type="text" class="form-control"</st></strong>
<strong class="bold"><st c="7955">                    name="search"&gt;</st></strong>
<strong class="bold"><st c="7970">                &lt;/div&gt;</st></strong>
<strong class="bold"><st c="7977">              &lt;/div&gt;</st></strong>
<strong class="bold"><st c="7984">              &lt;div class="col-auto"&gt;</st></strong>
<strong class="bold"/><strong class="bold"><st c="8007">&lt;button class="btn bg-dark text-white"</st></strong>
<strong class="bold"><st c="8046">                  type="submit"&gt;Search&lt;/button&gt;</st></strong>
<strong class="bold"><st c="8076">              &lt;/div&gt;</st></strong>
<strong class="bold"><st c="8083">            &lt;/div&gt;</st></strong>
<strong class="bold"><st c="8090">          &lt;/form&gt;</st></strong>
<strong class="bold"><st c="8098">        &lt;/p&gt;</st></strong><st c="8103">
      &lt;/div&gt;
    &lt;/div&gt;
    …</st></pre>			<p><st c="8118">We have created an HTML form that </st><a id="_idIndexMarker206"/><st c="8153">allows users to perform a search operation. </st><st c="8197">This form will direct to the current URL route and send the </st><strong class="source-inline"><st c="8257">search</st></strong><st c="8263"> information by the URL. </st><st c="8288">For example, if we search for </st><strong class="source-inline"><st c="8318">Avatar</st></strong><st c="8324">, it will direct us </st><span class="No-Break"><st c="8344">to </st></span><span class="No-Break"><strong class="source-inline"><st c="8347">http://localhost:8000/movies/?search=Avatar</st></strong></span><span class="No-Break"><st c="8390">.</st></span></p>
			<h2 id="_idParaDest-117"><a id="_idTextAnchor122"/><st c="8391">Updating index function</st></h2>
			<p><st c="8415">In </st><strong class="source-inline"><st c="8419">/movies/views.py</st></strong><st c="8435">, add the </st><a id="_idIndexMarker207"/><st c="8445">following </st><span class="No-Break"><st c="8455">in bold:</st></span></p>
			<pre class="source-code"><st c="8463">
…
def index(request):
    </st><strong class="bold"><st c="8485">search_term = request.GET.get('search')</st></strong>
<strong class="bold"><st c="8524">    if search_term:</st></strong>
<strong class="bold"><st c="8540">        movies =</st></strong>
<strong class="bold"><st c="8549">        Movie.objects.filter(name__icontains=search_term)</st></strong>
<strong class="bold"><st c="8599">    else:</st></strong>
<strong class="bold"><st c="8605">        movies = Movie.objects.all()</st></strong><st c="8634">
    template_data = {}
    template_data['title'] = 'Movies'
    template_data['movies'] = </st><strong class="bold"><st c="8714">movies</st></strong><st c="8720">
    return render(request, 'movies/index.html',
                  {'template_data': template_data})</st></pre>			<p><st c="8798">The </st><strong class="source-inline"><st c="8803">index</st></strong><st c="8808"> function has changed. </st><st c="8831">Now, it will retrieve all movies if the </st><strong class="source-inline"><st c="8871">search</st></strong><st c="8877"> parameter is not sent in the current request, or it will retrieve specific movies based on the </st><strong class="source-inline"><st c="8973">search</st></strong><st c="8979"> parameter. </st><st c="8991">Let’s explain the </st><span class="No-Break"><st c="9009">previous code.</st></span></p>
			<ul>
				<li><st c="9023">We retrieve the value of the </st><strong class="source-inline"><st c="9053">search</st></strong><st c="9059"> parameter by using the </st><strong class="source-inline"><st c="9083">request.GET.get('search')</st></strong><st c="9108"> method and assign that value to the </st><strong class="source-inline"><st c="9145">search_term</st></strong><st c="9156"> variable. </st><st c="9167">Here, we capture the </st><strong class="source-inline"><st c="9188">search</st></strong><st c="9194"> input value submitted through the form defined in the </st><span class="No-Break"><st c="9249">previous section.</st></span></li>
				<li><st c="9266">If </st><strong class="source-inline"><st c="9270">search_term</st></strong><st c="9281"> is not empty, we filter movies where the name contains </st><strong class="source-inline"><st c="9337">search_term</st></strong><st c="9348">. The </st><strong class="source-inline"><st c="9354">__icontains</st></strong><st c="9365"> lookup is used for a case-insensitive </st><span class="No-Break"><st c="9404">containment search.</st></span></li>
				<li><st c="9423">If </st><strong class="source-inline"><st c="9427">search_term</st></strong><st c="9438"> is empty, we retrieve all movies from the database without applying </st><span class="No-Break"><st c="9507">any filters.</st></span></li>
				<li><st c="9519">Finally, we pass the extracted </st><strong class="source-inline"><st c="9551">movies</st></strong><st c="9557"> to the </st><span class="No-Break"><strong class="source-inline"><st c="9565">template_data</st></strong></span><span class="No-Break"><st c="9578"> dictionary.</st></span></li>
			</ul>
			<p><st c="9590">Now, save those files, run the </st><a id="_idIndexMarker208"/><st c="9622">server, go to </st><strong class="source-inline"><st c="9636">http://localhost:8000/movies</st></strong><st c="9664">, enter a search term, and submit the form; you should see the movies that match the search term (</st><span class="No-Break"><em class="italic"><st c="9762">Figure 6</st></em></span><span class="No-Break"><em class="italic"><st c="9771">.3</st></em></span><span class="No-Break"><st c="9773">).</st></span></p>
			<div>
				<div id="_idContainer056" class="IMG---Figure">
					<img src="image/B22457_06_03.jpg" alt="Figure 6.3 – The movies page with a custom search"/><st c="9776"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="9876">Figure 6.3 – The movies page with a custom search</st></p>
			<p><st c="9925">We have refactored our </st><em class="italic"><st c="9949">Movies Store</st></em><st c="9961"> code to work with the database instead of dummy data. </st><st c="10016">This strategy enables us to include new movies or edit existing ones without modifying our Python code. </st><st c="10120">Additionally, the addition of the search functionality has helped us understand how to filter different data in Django and enhanced the </st><span class="No-Break"><st c="10256">project’s</st></span><span class="No-Break"><a id="_idIndexMarker209"/></span><span class="No-Break"><st c="10265"> features.</st></span></p>
			<h1 id="_idParaDest-118"><a id="_idTextAnchor123"/><st c="10275">Summary</st></h1>
			<p><st c="10283">In this chapter, we learned how to extract information from the database. </st><st c="10358">We learned different Django model methods, such as </st><strong class="source-inline"><st c="10409">all</st></strong><st c="10412">, </st><strong class="source-inline"><st c="10414">get</st></strong><st c="10417">, and </st><strong class="source-inline"><st c="10423">filter</st></strong><st c="10429">, and how they can be used to retrieve different kinds of information. </st><st c="10500">We refactored the movies and individual movie pages to collect information from the database and learned how to implement </st><span class="No-Break"><st c="10622">search functionality.</st></span></p>
			<p><st c="10643">In the next chapter, we will go deeper into understanding how the </st><span class="No-Break"><st c="10710">database works.</st></span></p>
		</div>
	<div id="charCountTotal" value="10725"/></body></html>