<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:pls="http://www.w3.org/2005/01/pronunciation-lexicon" xmlns:ssml="http://www.w3.org/2001/10/synthesis">
<head>
  <meta charset="UTF-8"/>
  <title>Utilizing the Python Interpreter</title>
  <link type="text/css" rel="stylesheet" media="all" href="style.css"/>
  <link type="text/css" rel="stylesheet" media="all" href="core.css"/>
</head>
<body>
  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Utilizing the Python Interpreter</h1>
                </header>
            
            <article>
                
<p>In this chapter, we will talk about the Python interpreter, both as an interactive tool and for launching Python programs. Specifically, we will cover:</p>
<ul>
<li>Launching Python environments</li>
<li>Utilizing Python command options</li>
<li>Working with environment variables</li>
<li>Making scripts executable</li>
<li>Modifying interactive interpreter startup</li>
<li>Alternative Python implementations</li>
<li>Installing Python on Windows</li>
<li>Embedding Python with other applications</li>
<li>Using alternative Python shells – IPython</li>
<li>Using alternative Python shells – bpython</li>
<li>Using alternative Python shells – DreamPie</li>
</ul>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Introduction</h1>
                </header>
            
            <article>
                
<p class="standard">One of the benefits of the Python programming language is that it is interpreted, not compiled. This means that Python code is processed when it is called, rather than having to be pre-compiled before use. Because of this, interpreted languages generally have an interactive shell, allowing users to test code and otherwise have immediate feedback without having to create a separate source code file.</p>
<p>Of course, to get the most functionality out of a programming language, having permanent code files is necessary. When using an interactive prompt, the code lives in RAM; once the interactive session is closed, that code is lost. Thus, using an interactive prompt is a great way to quickly test programming ideas, but you wouldn't want to run a full-blown program from it.</p>
<p>This chapter will talk about using the Command Prompt to launch programs, as well as Python's functionality using the interactive shell. Special functionality with the Windows operating system will be discussed, and we will end by talking about alternative Python shells that developers may be interested in trying.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Launching&#160;Python environments</h1>
                </header>
            
            <article>
                
<p class="standard">By default, Python is installed on a computer with the Python interpreter included on the system path. This means that the interpreter will monitor the Command Prompt for any call to&#160;<kbd>python</kbd>.&#160;</p>
<p>The most common usage for Python is to run a script. However, it may be desirable to launch a specific version of Python for a specific program.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>The most basic command to execute a Python program is as follows:</li>
</ol>
<pre><strong>      $ python &lt;script_name&gt;.py</strong></pre>
<ol start="2">
<li>The following examples show how to launch specific versions of Python, as needed:</li>
</ol>
<pre><strong>      $ python2 some_script.py # Use the latest version of Python 2</strong><br/><strong>      $ python2.7 ... # Specifically use Python 2.7</strong><br/><strong>      $ python3 ... # Use the latest version of Python 3</strong><br/><strong>      $ python3.5.2 ... # Specifically use Python 3.5.2</strong></pre>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p class="standard">Calling <kbd>python2</kbd> or <kbd>python3</kbd> opens the latest installed version of the respective branch, whereas the other examples show how to invoke a specific version number. Regardless of whether a newer version is available from the Python site, only versions that are installed on the system are available for use.</p>
<p>This is beneficial, because a developer may have to support legacy software and some features of those programs may not be compatible with newer Python versions. Thus, being able to call a specific version ensures that the developer is using the correct environment.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Utilizing Python command options</h1>
                </header>
            
            <article>
                
<p class="standard">When used non-interactively, the Python interpreter monitors the command line and parses all input before the command is actually executed. The following snippet shows all the possible options available when calling Python from the command line:</p>
<div class="float float-listings">
<pre class="listings Python"><strong>python [-bBdEhiIOqsSuvVWx?] [-c command | -m module-name | script | - ] [args]</strong> </pre>
</div>
<p class="standard">When working with a <strong>command line interface</strong> (<strong>CLI</strong>), examples of shell commands often show square brackets <kbd>[]</kbd>&#160;to indicate optional instructions. In this case, there are three groups of optional input that can be provided to the <kbd>python</kbd> command: generic options, interface options, and arguments.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>A number of options are available for the Python command-line call. To enter interactive mode, call Python with no additional options:</li>
</ol>
<pre><strong>      $ python</strong><br/><strong>      Python 3.6.3 |Anaconda, Inc.| (default, Oct 13 2017, 12:02:49) <br/>      [GCC 7.2.0] on linux </strong><br/><strong>      Type "help", "copyright", "credits" or "license" for<br/>      more information. </strong><br/><strong>      &gt;&gt;&gt;</strong></pre>
<ol start="2">
<li>To execute a regular Python program with no special options, add the program name:</li>
</ol>
<pre><strong>      $ python &lt;script&gt;.py</strong></pre>
<ol start="3">
<li>To execute a series of Python commands without entering interactive mode or calling a file, use <kbd>-c</kbd>:</li>
</ol>
<pre><strong>      $ python -c "print('Hello World')"</strong></pre>
<ol start="4">
<li>To call a Python module as a standalone program, use <kbd>-m</kbd>:</li>
</ol>
<pre><strong>      $ python -m random</strong></pre>
<ol start="5">
<li>Discussion of the other possible options is provided in the following section.</li>
</ol>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>The Python command line accepts interface options, generic options, miscellaneous options, and arguments. Each group is optional and most developers don't need to bother with anything special most of the time. However, it is good to know what is available in case you decide to move beyond the basics.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Interface options</h1>
                </header>
            
            <article>
                
<p class="standard">When called with no options, the Python interpreter starts in interactive mode. In this mode, the interpreter monitors the command line for Python commands and executes them as they are entered.</p>
<p>To exit, an&#160;<kbd>EOF</kbd> (end-of-file) character is entered; in *NIX operating systems, this is <kbd>Ctl-D</kbd> and <kbd>Ctl-Z</kbd> on Windows (normally, the EOF character is automatically provided when reading from a file but, as this is not the case in interactive mode, the user must provide it).</p>
<p>The options in this section can be combined with miscellaneous options, which are as follows:</p>
<ul>
<li><kbd>-c &lt;"command"&gt;</kbd>: Entering this option causes Python to execute the entered command. The command can be one or more statements, separated by new lines, and with normal Python whitespace considerations. The quotations (single or double) must be included and surround all the statements that&#160;make up the command.</li>
</ul>
<ul>
<li><kbd>-m &lt;module&gt;</kbd>: This option causes Python to search <kbd>sys.path</kbd> for the indicated module and then execute its contents as the <kbd>__main__</kbd> module.&#160;Modules executed via this method do not require the <kbd>.py</kbd> extension. In addition, a package of modules can be provided; in this case, Python will execute the <kbd>&lt;pkg&gt;.__main__</kbd> as the <kbd>__main__</kbd> module.<br/>
This option cannot be used with any compiled C modules, including built-in modules, as they are not Python code. However, <kbd>.pyc</kbd> pre-compiled Python files can use this option, even if the original source code files are not available, as they are pure Python code.<br/>
When this option is invoked, any code that is below the <kbd>if __name__ == "__main__"</kbd> line will be executed. This is a good place to put self-testing or configuration code.</li>
<li><kbd>&lt;script&gt;</kbd>: This option causes the Python code in the indicated script to be executed. The script provided must have a filesystem path (absolute or relative) that points to a regular Python file, a directory containing a <kbd>__main__.py</kbd> file, or a zipped file with a <kbd>__main__.py</kbd> file.</li>
<li class="itemize_item"><kbd>-</kbd>: An empty dash&#160;option tells the interpreter to read from standard input (<kbd>sys.stdin</kbd>); if the standard input is connected to a Terminal, then normal interactive mode is started. While a keyboard is the default input device, <kbd>sys.stdin</kbd> actually accepts any <kbd>File</kbd>&#160;object, so anything from the user's keyboard to a file can be used as the input method. Hence, any sort of file can be used as input, ranging from a normal text file to a CSV file.</li>
</ul>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Generic options</h1>
                </header>
            
            <article>
                
<p class="standard">Like most programs, Python has generic options that are common to commercial products, and most home-grown software as well:</p>
<ul>
<li><kbd>-?</kbd>, <kbd>-h</kbd>,&#160;<kbd>--help</kbd>: Any one of these options will print out a short description of the command and all available command-line options.</li>
<li><kbd>-V</kbd>, <kbd>-VV</kbd>, <kbd>--version</kbd>: Calling <kbd>-V</kbd> or <kbd>-version</kbd> will print the version number of the Python interpreter. Using <kbd>-VV</kbd> puts it into verbose mode (only when using Python 3), which provides more information, such as the Python environment, for example, Anaconda, or the GCC version used.</li>
</ul>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Miscellaneous options</h1>
                </header>
            
            <article>
                
<p>More than a dozen miscellaneous options are available for the <kbd>python</kbd> command. While most options are available in both Python 2 and Python 3, there may be some differences between versions. It is best to double-check <a href="https://docs.python.org/2.7/using/cmdline.html">https://docs.python.org/2.7/using/cmdline.html</a> if questions arise (make sure to switch to the version you're using).</p>
<p>Each option is explained here:</p>
<ul>
<li class="itemize_item"><kbd>-b</kbd>, <kbd>-bb</kbd>: Provide a warning when comparing <kbd>bytes/bytesarray</kbd> with <kbd>str</kbd> or <kbd>bytes</kbd> with <kbd>int</kbd>. A double <kbd>b</kbd>&#160;will provide an error rather than a warning.</li>
<li class="itemize_item"><kbd>-B</kbd>: Do not write <kbd>.pyc</kbd> bytecode files when importing source modules. Related to <kbd>PYTHONDONTWRITEBYTECODE</kbd>.</li>
<li class="itemize_item"><kbd>-d</kbd>: Turn on parser debugging output. Related to <kbd>PYTHONDEBUG</kbd>.</li>
<li class="itemize_item"><kbd>-E</kbd>: Ignore all <kbd>PYTHON*</kbd> environment variables, such as&#160;<kbd>PYTHONDEBUG</kbd>, that are set.</li>
<li class="itemize_item"><kbd>-i</kbd>: When a script is the first argument to the <kbd>python</kbd> command, or the <kbd>-c</kbd> option is used, this option causes the Python interpreter to enter interactive mode after executing the script or command. This mode change occurs even if <kbd>sys.stdin</kbd> isn't a Terminal. This is useful when an exception is thrown and a developer needs to interactively review the stack trace.</li>
<li class="itemize_item"><kbd>-I</kbd>: Run the interpreter in isolated mode (automatically implies <kbd>-E</kbd> and <kbd>-s</kbd> options as well). Isolated mode causes <kbd>sys.path</kbd> to not capture the script's directory or the user's site-packages directory. In addition, all <kbd>PYTHON*</kbd> environment variables are ignored. Additional restrictions can be employed to prevent a user from injecting malicious code into the Python program.</li>
<li class="itemize_item"><kbd>-J</kbd>: Reserved for use by Jython implementation.</li>
<li class="itemize_item"><kbd>-O</kbd>, <kbd>-OO</kbd>: Turn on basic optimizations. As mentioned in the&#160;<em>Comparing source code to byte code&#160;</em>recipe in&#160;<span><a href="sct-rcp-py-nj_ch01.html">Chapter 1</a>,</span><em><span>&#160;</span>Working with Python Modules</em>,&#160;this removes <kbd>assert</kbd> statements from the Python code. Related to <kbd>PYTHONOPTIMIZE</kbd>. Using <kbd>-OO</kbd> also removes docstrings from the code.</li>
<li class="itemize_item"><kbd>-q</kbd>: Quiet mode; prevents the Python interpreter from displaying copyright and version messages, even in interactive mode. Useful when running programs that read data from remote systems and don't need that information presented.</li>
<li class="itemize_item"><kbd>-R</kbd>: Irrelevant for Python 3.3 or newer. Turns on hash randomization by salting <kbd>__hash__()</kbd> values for <kbd>str</kbd>, <kbd>bytes</kbd>, and <kbd>datetime</kbd>. They are constant within an individual Python process, but are randomized between Python calls. Related to <kbd>PYTHONHASHSEED</kbd>.</li>
</ul>
<ul>
<li class="itemize_item"><kbd>-s</kbd>: Do not add the user's <kbd>site-packages</kbd> directory to <kbd>sys.path</kbd>. This would require the user to explicitly provide the path to the desired <kbd>site-packages</kbd>.</li>
<li class="itemize_item"><kbd>-S</kbd>: Disables importing the&#160;<kbd>site</kbd> module and site-dependent modifications of <kbd>sys.path</kbd>. Even if <kbd>site</kbd> is explicitly imported later, these modifications are still disabled. A call to <kbd>site.main()</kbd> is required to allow them.</li>
<li class="itemize_item"><kbd>-u</kbd>: Forces unbuffered binary output from the <kbd>stdout</kbd> and <kbd>stderr</kbd> streams. Does not affect the text I/O layer in interactive mode or block-buffering in non-interactive mode. Related to <kbd>PYTHONUNBUFFERED</kbd>.</li>
<li class="itemize_item"><kbd>-v</kbd>, <kbd>-vv</kbd>: Prints a message every time a module is initialized, indicating the location (file or built-in module) that loads it; also gives information about module cleanup when exiting. Using <kbd>-vv</kbd>, a message is printed every time a file is checked when searching for a module. Related to <kbd>PYTHONVERBOSE</kbd>.</li>
<li class="itemize_item"><kbd>-W &lt;arg&gt;</kbd>: Controls when warnings are printed; by default, each warning is only printed once for each code line that causes the warning. Multiple <kbd>-W</kbd> options may be used, each with a different argument; if a warning matches more than one option, the last matching option is returned. Related to <kbd>PYTHONWARNINGS</kbd>.</li>
</ul>
<p style="padding-left: 60px">Available arguments are:</p>
<ul>
<li style="list-style-type: none">
<ul>
<li><kbd>ignore</kbd>: Ignore all warnings</li>
<li class="itemize_item"><kbd>default</kbd>: Explicitly request the default behavior, that is, print each warning once per source code line, regardless of how often the line is processed</li>
<li class="itemize_item"><kbd>all</kbd>: Print a warning every time it occurs; multiple messages may be printed if a warning is triggered multiple times by the same line of code, such as within a loop</li>
<li class="itemize_item"><kbd>module</kbd>: Print a warning the first time it occurs in each module</li>
<li class="itemize_item"><kbd>once</kbd>: Print a warning the first time it occurs in the program</li>
<li class="itemize_item"><kbd>error</kbd>: Instead of printing a warning, an exception will be raised</li>
</ul>
</li>
</ul>
<p style="padding-left: 60px">The <kbd>warnings</kbd> module can be imported into a Python program to control warnings from within the program:</p>
<ul>
<li><kbd>-x</kbd>: Skips the first source code line. As *NIX scripts normally have something such as&#160;<kbd>#!/usr/bin/python</kbd> as the first line to specify where to look for the Python environment, this option skips that line. Thus, this allows use of non-Unix <kbd>#!&lt;command&gt;</kbd> formats.</li>
</ul>
<ul>
<li><kbd>-X &lt;value&gt;</kbd>: Reserved for implementation-specific options, as well as for passing arbitrary values and retrieving them via the&#160;<kbd>sys._xoptions</kbd> dictionary.<br/>
<br/>
Currently, the following values are defined:<br/>
<ul>
<li class="standard"><kbd>faulthandler</kbd>: Enables the <kbd>faulthandler</kbd> module, which dumps Python tracebacks when there are program errors.</li>
<li class="standard"><kbd>showrefcount</kbd>: Only works when debugging. Outputs the total reference count and number of used memory blocks when a program finishes or after each interactive session statement.</li>
<li class="standard"><kbd>tracemalloc</kbd>: Starts tracing Python memory allocations via the <kbd>tracemalloc</kbd>&#160;module. By default, the most recent frame is stored in the traceback.</li>
<li class="standard"><kbd>showalloccount</kbd>: When a program finishes, the total count of allocated objects for each type is returned. Only works when <kbd>COUNT_ALLOCS</kbd> is defined when Python is built.</li>
</ul>
</li>
</ul>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">See also...</h1>
                </header>
            
            <article>
                
<p>More information can be found in the&#160;<em>Python Compilation Tips</em>&#160;recipe from&#160;<span><a href="sct-rcp-py-nj_ch01.html">Chapter 1</a>,&#160;</span><em>Working with Python Modules</em>.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Working with environment variables</h1>
                </header>
            
            <article>
                
<p>Environment variables are part of operating systems and affect system operations. Python has Python-specific variables that affect how Python functions, that is, the behavior of the Python interpreter. While they are processed before command-line options, the command-line switches will override environment variables if there is a conflict.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li class="enumerate_item">Environment variables are accessed via Python's <kbd>os.environ</kbd>.</li>
<li>Because the <kbd>environ</kbd> object is a dictionary, you can specify a particular variable to view:</li>
</ol>
<pre><strong>      &gt;&gt;&gt; import os<br/>      &gt;&gt;&gt; print(os.environ["PATH"])</strong><br/><strong>      /home/cody/anaconda3/bin:/home/cody/bin:/home/cody/<br/>      .local/bin:/usr/local/sbin:/usr/local/bin:/usr<br/>       /sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games</strong> </pre>
<ol start="3">
<li>Adding a new variable is as simple as follows:</li>
</ol>
<pre><strong>      &gt;&gt;&gt; os.environ["PYTHONOPTIMIZE"] = "1"</strong></pre>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>There are a large number of Python-specific environment variables available. Some of them are:</p>
<ul>
<li><kbd>PYTHONHOME</kbd>: Used to change the location of the standard Python libraries. By default, libraries are&#160;searched in <kbd>/usr/local/lib/&lt;python_version&gt;</kbd>.</li>
<li><kbd>PYTHONPATH</kbd>: Modifies the default search path for modules files; the format is the same as the shell's <kbd>PATH</kbd>.<br/>
While directories are normally placed in the <kbd>PYTHONPATH</kbd>, individual entries can point to ZIP files that contain pure Python modules. These <kbd>zipfile</kbd> modules can be either source code or compiled Python files.</li>
<li class="itemize_item"><kbd>PYTHONSTARTUP</kbd>: Executes Python commands in the indicated startup file before the interactive mode prompt appears. The file is executed in the same namespace as the interactive prompt, so objects defined or imported in the startup file can be used natively, that is, dot-nomenclature is not necessary.</li>
</ul>
<p style="padding-left: 60px">Interactive mode prompts can be modified via this file. Specifically, the <kbd>sys.ps1</kbd> <span>(</span><kbd>&gt;&gt;&gt;</kbd><span>) and</span> <kbd>sys.ps2</kbd> <span>(</span><kbd>...</kbd><span>) prompts used in interactive mode can be changed to other symbols.</span></p>
<p style="padding-left: 60px">Also, the <kbd>sys.__interactivehook__</kbd> hook can be modified via this file. The hook configures the <kbd>rlcompleter</kbd> module, which defines how Python will complete valid identifiers and keywords for the GNU <kbd>readline</kbd> module. In other words, the hook is responsible for setting up Python tab-completion for commands and setting the default command history file to <kbd>~/.python_history</kbd>.</p>
<ul>
<li><kbd>PYTHONOPTIMIZE</kbd>: If set to a non-empty string, it is the same as using the <kbd>-O</kbd> option. If set to a string number, for example, "2", it is the same as setting <kbd>-O</kbd> multiple times.</li>
</ul>
<ul>
<li class="itemize_item"><kbd>PYTHONDEBUG</kbd>: If set to a non-empty string, it is the same as using the <kbd>-d</kbd> option. If set to a&#160;<span>string number, for example, "2"</span>, it is the same as setting <kbd>-d</kbd> multiple times.</li>
<li class="itemize_item"><kbd>PYTHONINSPECT</kbd>: If set to a non-empty string, it is the same as using the <kbd>-i</kbd> option. This environment variable can also be modified using Python code by using the <kbd>os.environ</kbd> command to force inspection mode when the program ends.</li>
<li class="itemize_item"><kbd>PYTHONUNBUFFERED</kbd>: When set to a non-empty string, this acts in the same way as the <kbd>-u</kbd> option.</li>
<li class="itemize_item"><kbd>PYTHONVERBOSE</kbd>: If set to a non-empty string, it is the same as using the <kbd>-v</kbd> option. If set to an integer value, it is the same as setting <kbd>-v</kbd> multiple times.</li>
<li class="itemize_item"><kbd>PYTHONCASEOK</kbd>: When set, Python will ignore character case in <kbd>import</kbd> statements. This is only applicable to Windows and macOS.</li>
<li class="itemize_item"><kbd>PYTHONDONTWRITEBYTECODE</kbd>: When set to a non-empty string, the interpreter will not write bytecode (<kbd>.pyc</kbd>) files when importing source code files. This is the same functionality as using the <kbd>-B</kbd> option.</li>
<li><kbd>PYTHONHASHSEED</kbd>: When set to <kbd>random</kbd> or not set at all, a random value is used to seed hash digests for <kbd>str</kbd>, <kbd>bytes</kbd>, and <kbd>datetime</kbd> objects. If set to an integer value, the integer will be used as the seed value for generating hashes; this allows reproducibility of results.</li>
<li><kbd>PYTHONIOENCODING</kbd>: If set prior to running the interpreter, encoding is overridden for <kbd>stdin</kbd>, <kbd>stdout</kbd>, and <kbd>stderr</kbd>; the syntax used is <kbd>encodingname:errorhandler</kbd>. Both parts of the syntax are optional and have the same meaning as the <kbd>str.encode()</kbd> function.
<p class="standard">As of Python version 3.6, encoding specified by this variable is ignored on Windows when using the interactive console unless <kbd>PYTHONLEGACYWINDOWSSTDIO</kbd> is set.</p>
</li>
<li><kbd>PYTHONNOUSERSITE</kbd>: When set, Python will not add the user <kbd>site-packages</kbd> directory to <kbd>sys.path</kbd>.</li>
<li class="itemize_item"><kbd>PYTHONUSERBASE</kbd>: Defines the user <kbd>base</kbd> directory. The <kbd>base</kbd> directory is used to computer the path for <kbd>site-packages</kbd> and the <kbd>Distutils</kbd> installation paths when calling <kbd>python setup.py install -user</kbd>.</li>
<li class="itemize_item"><kbd>PYTHONEXECUTABLE</kbd>: When set, <kbd>sys.argv[0]</kbd> is set to the value passed in rather than the value in the C runtime. This variable only works with macOS.</li>
</ul>
<ul>
<li class="itemize_item"><kbd>PYTHONWARNINGS</kbd>: When set, this is the same as using the <kbd>-W</kbd> option; setting it to a comma-separated string is equivalent to setting multiple <kbd>-W</kbd>s.</li>
<li class="itemize_item"><kbd>PYTHONFAULTHANDLER</kbd>: When set to a non-empty string, during Python startup the <kbd>faulthandler.enable()</kbd> function is called. This is the same as using the <kbd>-X faulthandler</kbd> option.</li>
<li class="itemize_item"><kbd>PYTHONTRACEMALLOC</kbd>: When set to a non-empty string, the <kbd>tracemalloc</kbd> module starts to trace Python memory allocations. The variable value specified dictates how many frames are stored in the traceback.</li>
<li><kbd>PYTHONASYNCIODEBUG</kbd>: When set to a non-empty string, the <kbd>asyncio</kbd> module's <kbd>debug</kbd> mode is enabled.</li>
<li><kbd>PYTHONMALLOC</kbd>: Sets Python's memory allocators, as well as installing debug hooks.</li>
</ul>
<p style="color: black;padding-left: 60px">The memory allocators available include:</p>
<ul>
<li style="list-style-type: none">
<ul>
<li><kbd>malloc</kbd>: Uses the C <kbd>malloc()</kbd> function for all domains</li>
<li><kbd>pymalloc</kbd>: Uses the <kbd>pymalloc</kbd> allocator for <kbd>PYMEM_DOMAIN_MEM</kbd> and <kbd>PYMEM_DOMAIN_OBJ</kbd> domains, but uses C's <kbd>malloc()</kbd> function for the <kbd>PYMEM_DOMAIN_RAW</kbd> domain</li>
</ul>
</li>
</ul>
<p style="padding-left: 60px">The debug hooks available include:</p>
<ul>
<li style="list-style-type: none">
<ul>
<li><kbd>debug</kbd>: Installs debug hooks on top of the default memory allocator.</li>
<li class="itemize_item"><kbd>malloc_debug</kbd>: Same as <kbd>malloc</kbd> (previously shown), but also installs debug hooks.</li>
<li class="itemize_item"><kbd>pymalloc_debug</kbd>: Same as <kbd>pymalloc</kbd> (previously shown), but also installs debug hooks.</li>
</ul>
</li>
</ul>
<ul>
<li>When Python is compiled in debug mode, <kbd>pymalloc_debug</kbd> <span>is set and debug hooks are used automatically. When compiled in release mode, the normal</span> <kbd>pymalloc</kbd> <span>mode is set. If neither of the</span> <kbd>pymalloc</kbd> <span>modes is available, regular</span> <kbd>malloc</kbd> <span>modes are used.</span></li>
<li class="itemize_item"><kbd>PYTHONMALLOCSTATS</kbd>: When set to a non-empty string, Python prints the statistics for the <kbd>pymalloc</kbd> allocator every time a new <kbd>pymalloc</kbd> object is created and when the program shuts down. If <kbd>pymalloc</kbd> is not available, then this variable is ignored.</li>
</ul>
<ul>
<li class="itemize_item"><kbd>PYTHONLEGACYWINDOWSENCODING</kbd>: When set, the default filesystem encoding and error mode revert to pre-3.6 version values. If using 3.6 or later, encoding is set to <kbd>utf-8</kbd>&#160;and error mode is set to <kbd>surrogatepass</kbd>. This is only available on Windows systems.</li>
<li class="itemize_item"><kbd>PYTHONLEGACYWINDOWSTDIO</kbd>: When set, the new console reader and writer are not used, causing Unicode characters to be encoded based on the active console code page rather than UTF-8. This is only available on Windows systems.</li>
<li class="itemize_item"><kbd>PYTHONTHREADDEBUG</kbd>: When set, Python will print debug information for threading (only set when Python is compiled in debug mode).</li>
<li class="itemize_item"><kbd>PYTHONDUMPREFS</kbd>: When set, Python will dump objects and reference counts that are still alive after shutting down the interpreter (only set when Python is compiled in debug mode).</li>
</ul>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Making scripts executable</h1>
                </header>
            
            <article>
                
<p>Normally, executing a Python program requires typing <kbd>python &lt;program&gt;.py</kbd>. However, it is possible to make Python programs self-executing so they don't require typing <kbd>python</kbd> as the calling command.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>On *NIX systems, putting <kbd>#!/usr/bin/env python</kbd>&#160;as the first line of a program allows the program to be executable by referencing the location of Python on the user's <kbd>PATH</kbd>. Of course, this assumes Python is on the <kbd>PATH</kbd>; if not, then the program will have to be invoked like normal.</li>
<li>After this has been added to the program, the file itself needs to be modified to make it executable, that is,&#160;<kbd>$ chmod +x &lt;program&gt;.py</kbd>.</li>
<li>If you are using a terminal program that displays files and directories in different colors depending on their modes, running the command <kbd>ls</kbd> on the directory where the file is located should show it with a different color than non-executable files.</li>
<li>To execute the program, simply type <kbd>./&lt;program&gt;.py</kbd> and the program will execute without calling <kbd>python</kbd> first.</li>
</ol>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>As Windows doesn't have an executable mode, these additions to the file are only necessary for *NIX compatibility. Windows automatically associates <kbd>.py</kbd> files with <kbd>python.exe</kbd>, so they are already associated with the Python interpreter. In addition, <kbd>.pyw</kbd> extensions can be used to suppress the opening of the console window when a Windows Python program is run.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Modifying interactive interpreter startup</h1>
                </header>
            
            <article>
                
<p>As mentioned in the&#160;<em>Working with environment variables&#160;</em>recipe, the <kbd>PYTHONSTARTUP</kbd> environment variable can be set to point to a file that contains commands that run prior to the Python interpreter starting up. This functionality is similar to <kbd>.profile</kbd> on *NIX shells.</p>
<p>As this startup file is only examined when interactive mode is used, there is no need to worry about trying to set configurations for running scripts (though later on we will show how to include the startup file in a script). The commands in this file are executed within the same namespace as the interactive interpreter, so there is no need to qualify functions or other imports with dot-nomenclature. This file is also responsible for making changes to interactive prompts: <kbd>&gt;&gt;&gt;</kbd> (<kbd>sys.ps1</kbd>) and <kbd>...</kbd> (<kbd>sys.ps2</kbd>).</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>To read an additional startup file from the current directory, the following example command shows how to code it in the global startup file (<kbd>read_startup.py</kbd>):</li>
</ol>
<pre>        if os.path.isfile('.pythonrc.py'): exec(open('.pythonrc.py').read()</pre>
<ol start="2">
<li>While the startup file is only looked at for interactive mode, it can be referenced within a script.&#160;<kbd>startup_script.py</kbd> shows how to do this:</li>
</ol>
<pre>      import os<br/>      filename = os.environ.get('PYTHONSTARTUP')<br/>      if filename and os.path.isfile(filename):<br/>          with open(filename) as fobj:<br/>              startup_file = fobj.read()<br/>          exec(startup_file)</pre>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">See also</h1>
                </header>
            
            <article>
                
<p>You can also refer to the&#160;<em>Working with environment variables</em> recipe in this chapter.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Alternative Python implementations</h1>
                </header>
            
            <article>
                
<p>Python has been ported to a number of other environments, such as Java and .NET. This means Python can be used in these environments like normal, but gains access to the APIs and code underpinnings for these environments.</p>
<p>Jython is used for Java integration, IronPython is used for the .NET framework, Stackless Python is available for enhanced threading performance, and MicroPython is for use with microcontrollers.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>To use Jython, a Java&#160;<kbd>.jar</kbd> file provides the installation executable. Two options are available for installation.</li>
<li>Normal GUI installation is available by using the following:</li>
</ol>
<pre><strong>      java -jar jython_installer-2.7.1.jar</strong></pre>
<ol start="3">
<li>For console-based systems, such as headless servers, the following command can be used for installation:</li>
</ol>
<pre><strong>      java -jar jython_installer-2.7.1.jar --console</strong></pre>
<ol start="4">
<li>IronPython can be installed using a Windows&#160;<kbd>.msi</kbd> installer, via a&#160;<kbd>.zip</kbd> file, or downloading source code. Installation with the&#160;<kbd>.msi</kbd> file is like a normal Windows software installation; the&#160;<kbd>.zip</kbd> file or source code can be used for non-Windows platforms.</li>
<li>NuGet is the package manager for the .NET framework. IronPython can be installed via NuGet just like&#160;<kbd>pip</kbd> packages. Two files are required, as the standard library is a separate package. In this case, the NuGet commands are:</li>
</ol>
<pre><strong>      Install-Package IronPython
      Install-Package IronPython.StdLib</strong></pre>
<ol start="6">
<li>To install Stackless, the method depends on the OS being used. For *NIX systems, installation is a standard <kbd>configure</kbd>/<kbd>make</kbd>/<kbd>install</kbd> process:</li>
</ol>
<pre><strong>        $ ./configure
        $ make
        $ make test
        $ sudo make install</strong></pre>
<ol start="7">
<li>For macOS, it is a little more complicated. Python should be configured with the&#160;<kbd>--enable-framework</kbd> option, then use&#160;<kbd>make frameworkinstall</kbd> to complete the Stackless installation.</li>
<li>For Windows, it's even more complicated. Microsoft Visual Studio 2015 must be installed, along with the <kbd>Subversion</kbd> version control software. The command&#160;<kbd>build.bat -e</kbd> is used to build Stackless Python. There is a lot more in-depth information in the documentation, so it is recommended you to review it prior to installing.</li>
<li>MicroPython is available in&#160;<kbd>.zip&#160;</kbd>and&#160;<kbd>.tar.gz</kbd> files, as well as via GitHub. A number of options and dependencies are required for installation, but the general build commands are:</li>
</ol>
<pre><strong>      $ git submodule update --init</strong><br/><strong>      $ cd ports/unix</strong><br/><strong>      $ make axtls</strong><br/><strong>      $ make</strong></pre>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>Here we will talk about the various implementations of Python available for different platforms and frameworks:</p>
<ul>
<li><strong>Jython</strong>: Jython is an implementation of Python for&#160;<strong>Java Virtual Machine</strong> <span>(</span><strong>JVM</strong><span>). Jython takes the normal Python interpreter and modifies it to be able to communicate with, and run on, the Java platform. Thus, seamless integration is established between the two, allowing use of Java libraries and Java-based applications within Python.</span></li>
</ul>
<p style="padding-left: 60px">While the Jython project has endeavored to ensure that all Python modules will run on JVM, some differences can be found. The main difference is that C extensions will not work in Jython; most Python modules will work without modification in Jython. Any C extensions included in the Python code will not port over correctly. These C extensions should be rewritten in Java to ensure that they work correctly.</p>
<p style="padding-left: 60px">Jython code works well within the Java environment, but using standard CPython code (the default Python environment) can have problems. However, Jython code normally runs without issues in the CPython environment, unless it utilizes some sort of Java integration.</p>
<ul>
<li><strong>IronPython</strong>: IronPython is Python for Microsoft's .NET framework. IronPython programs can utilize the .NET Framework, as well as regular Python libraries; in addition, other .NET languages (such as C#) can implement IronPython code.</li>
</ul>
<p style="padding-left: 60px">Because of this .NET functionality, IronPython is a great tool for Windows developers or Linux developers using Mono. While normal Python projects can be coded in IronPython, it also allows developers to use Python in place of other scripting languages, such as VBScript or PowerShell. Microsoft's development environment, Visual Studio, has a Python Tools plugin, allowing the full functionality of Visual Studio to be used with Python code.</p>
<div class="packt_tip">IronPython is only available for Python 2.7. It has not been ported to Python 3 yet. Back-porting Python 3 code using&#160;<kbd>3to2</kbd> is not guaranteed to work due to the incompatible nature of Python 3 versus Python 2.</div>
<ul>
<li><strong>Stackless Python</strong>: Stackless is an enhanced version of Python, focused on improving thread-based programming without the normal complications of regular Python threads. Utilizing microthreads, Stackless aims to improve program structure, make multi-threaded code more readable, and increase programmer productivity.</li>
</ul>
<p style="padding-left: 60px">These improvements are achieved by avoiding the regular C call stack and utilizing a custom stack that is managed by the interpreter. Microthreads handle task execution for a program within the same CPU, providing an alternative to traditional asynchronous programming methods. They also eliminate the overhead associated with multi-threading with single CPU programs, as there is no delay switching between user mode and kernel mode.</p>
<p style="padding-left: 60px">Microthreads employ tasklets to represent small tasks within a Python thread and they can be used instead of full-featured threads or processes. Bidirectional communication between microthreads is handled by channels, and scheduling is configured in a round-robin setup, allowing tasklet scheduling either cooperatively or preemptively. Finally, serialization is available via Python pickles to allow delayed resumption of a microthread.</p>
<p style="padding-left: 60px">One caveat with Stackless is that, even though microthreads improve upon normal Python threads, they do not eliminate Global Interpreter Lock. Also, tasklets are within a single thread; multi-threading or multi-processing is not being performed.</p>
<p style="padding-left: 60px">In other words, true parallel processing is not occurring, only cooperative multitasking within a single CPU that is shared among the tasklets; this is the same functionality as Python multi-threading provides. To utilize parallelism across multiple CPUs, an interprocess communication system would have to be configured on top of Stackless processes.</p>
<p style="padding-left: 60px">Finally, because of the changes to the underlying Python source code to implement microthreads, Stackless cannot be installed on top of an existing Python installation. Thus, a complete Stackless installation needs to be installed, separate from any other Python distributions.</p>
<ul>
<li><strong>MicroPython</strong>: MicroPython is a stripped-down version of Python 3.4, designed for use with microcontrollers and embedded systems. While MicroPython includes the majority of features within standard Python, a minor number of changes have been made to make the language work well with microcontroller devices. A key feature of MicroPython is that it can run on just 16 KB RAM, with the source code taking up only 256 KB of storage space.</li>
</ul>
<p style="padding-left: 60px">A unique microcontroller, the pyboard, is available for purchase and is designed for use with MicroPython. The pyboard is similar to a Raspberry Pi, except it is even smaller. Yet, it has 30 GPIO connections, four LEDs built-in, an accelerometer, and many other features. As it is designed for use with MicroPython, you essentially get a Python OS that is capable of running on bare metal.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Installing Python on Windows</h1>
                </header>
            
            <article>
                
<p>Compared to *NIX computers, which come with Python installed by default, Windows OS does not include Python out of the box. However, MSI installer packages are available to install Python on a number of Windows-based environments. These installers are designed to be used by a single user, rather than all users of a particular computer. However, it is possible to configure them during installation to allow all system users of a single machine to access Python.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>As Python contains platform-specific code for a variety of operating systems, to minimize the amount of unneeded code, Python only supports Windows OSes as long as they are supported by Microsoft; this includes extended support, so anything that has reached end of life is not supported.</p>
<p>As such, Windows XP and older cannot install any Python version beyond 3.4. The Python documentation still states that Windows Vista and newer can install 3.6 and later versions, but Windows Vista reached end of life in 2017, so Python support on that OS will no longer continue. In addition, it is important to know what type of CPU your computer uses, that is, 32-bit or 64-bit. While 32-bit software will run on 64-bit systems, the reverse is not true.</p>
<p>Finally, two types of installers are available: offline and web-based. The offline installer includes all components necessary for a default installation; internet access is only required to install optional features. The web installer is a smaller file than the offline version and allows the user to install only specific features, downloading them as necessary.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>When the Windows installer is first ran, two options are available: default installation or custom. Select <em>default</em> if the following apply:
<ul>
<li>You are installing for just yourself, that is, other users do not require access to Python</li>
<li>You only need to install the Python standard library, test suite, <em>pip</em>, and Windows launcher</li>
<li>Python-related shortcuts are only visible to the current user</li>
</ul>
</li>
</ol>
<ol start="2">
<li>Use a custom installation if you need more control, specifically over:
<ul>
<li>The features to install</li>
<li>The installation location</li>
<li>Installing debugging symbols or binaries</li>
<li>Installing for all system users</li>
<li>Pre-compiling the standard library into bytecode</li>
</ul>
</li>
<li>Custom installation will require admin credentials.&#160;The GUI is the normal way to install Python, using the installation wizard to walk through the process. Alternatively, command-line scripts can be used to automate installation on multiple machines without user interaction. To use the command-line installation, several base options are available when running the installer&#160;<kbd>.exe</kbd>:</li>
</ol>
<pre><strong>      python-3.6.0.exe /quiet # Suppress the GUI and install base<br/>      installation silently</strong><br/><strong>      ... /passive # Skip user interaction but display progress and errors</strong><br/><strong>      ... /uninstall # Immediately start removing Python;<br/>      no prompt displayed</strong></pre>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using the Windows Python launcher</h1>
                </header>
            
            <article>
                
<p>Starting with version 3.3, Python defaults to installing the Python launcher when installing the rest of the language. The launcher allows Python scripts or the Windows command-line to specify a particular Python version and will locate and launch that version.</p>
<p>While installed with v3.3 or later, the launcher is compatible with all versions of Python. The Python launcher will select the most appropriate version of Python for the script and will use per-user Python installations rather than all-user installs.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>To check that the launcher is installed, simply type <kbd>py</kbd> on the Windows Command Prompt. If installed, the latest version of Python is launched.</li>
<li>If not installed, you will receive the following error:</li>
</ol>
<pre class="verbatim_item"><strong>      'py' is not recognized as an internal or external command, <br/>      operable program or batch file.</strong></pre>
<ol start="3">
<li>Assuming different versions of Python are installed, to use a different version simply indicate it via a <kbd>-</kbd> option:</li>
</ol>
<pre><strong>      py -2.6 # Launches Python version 2.6</strong><br/><strong>      py -2 # Launches the latest version of Python 2</strong></pre>
<ol start="4">
<li>If using a Python virtual environment and the Python launcher is executed without specifying a Python version explicitly, the launcher will use the virtual environment's interpreter rather than the system one. To use the system interpreter, the virtual environment must first be deactivated or the system's Python version number must be explicitly called.</li>
<li>The launcher allows the <kbd>shebang</kbd> (<kbd>#!</kbd>) line used in *NIX programs to be used with Windows. While a number of variations of the Python environment path are available, it is worth noting that one of the most common, <kbd>/usr/bin/env python</kbd>, will be executed in Windows the same way as in *NIX. This means that Windows will search the <kbd>PATH</kbd> for a Python executable before it looks for installed interpreters, which is how *NIX systems function.</li>
<li>Shebang lines can include Python interpreter options, just as if you were including them on the command line. For example, <kbd>#! /usr/bin/python -v</kbd> will provide the Python version being used; this is the same behavior as using <kbd>python -v</kbd> on the command line.</li>
</ol>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Embedding Python with other applications</h1>
                </header>
            
            <article>
                
<p>The embedded distribution of Python is a <kbd>zipfile</kbd> that holds a minimal Python interpreter. Its purpose is to provide a Python environment for other programs, rather than being used directly by end users.</p>
<p>When extracted from the <kbd>zipfile</kbd>, the environment is essentially isolated from the underlying OS, that is, the Python environment is self-contained. The standard library is pre-compiled into bytecode and all Python-related <kbd>.exe</kbd> and <kbd>.dll</kbd> files are included. However, <kbd>pip</kbd>, documentation files and the <kbd>Tcl/tk</kbd> environment are not included. Because <kbd>Tcl/tk</kbd> is not available, the IDLE development environment and associated Tkinter files are not available for use.</p>
<p>In addition, the Microsoft C runtime is not included with the embedded distribution. While it is frequently installed on the user's system from other software or via Windows Update, it is ultimately up to the program installer to ensure that it is available for Python's use.</p>
<p>Necessary third-party Python packages need to be installed by the program installer, in addition to the embedded Python environment. As <kbd>pip</kbd> is not available, these packages should be included with the overall application so they are updated whenever the application itself is updated.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>Write a Python application as normal.</li>
<li>If the use of Python should not be evident to the end user, then a customized executable launcher should be coded as well. This executable needs to merely call the Python program's <kbd>__main__</kbd> module via a hard-coded command.</li>
</ol>
<p style="padding-left: 60px">If using a custom launcher, Python packages can be located in any location on the filesystem, since the launcher can be coded to indicate the specific search path when the program is launched.</p>
<ol start="3">
<li>If the use of Python doesn't need to be so transparent, a simple batch file or shortcut file can directly call <kbd>python.exe</kbd> with the necessary arguments. If done this way, the use of Python will be evident, as the program's true name won't be used, but will appear to be the Python interpreter itself. Thus, it can be difficult for the end user to identify the specific program among other running Python processes.</li>
</ol>
<p style="padding-left: 60px">If this method is used, it is recommended to install Python packages as directories in the same location as the Python executable. This way the packages will be included in <kbd>PATH</kbd>, as they are subdirectories of the main program.</p>
<ol start="4">
<li>An alternative use of embedded Python is as a glue language that provides scripting capabilities for native code, for example, C++ programs. In this case, the majority of the software is written in a non-Python language and will call Python either via <kbd>python.exe</kbd> or through the <kbd>python3.dll</kbd>. Either way, Python is extracted from the embedded distribution into a subdirectory, allowing the Python interpreter to be called.</li>
</ol>
<p style="padding-left: 60px">Packages can be installed in any directory on the filesystem, as their paths can be provided in the code prior to configuring the Python interpreter.</p>
<ol start="5">
<li>Here is an example of very high-level embedding, courtesy of&#160;<a href="https://docs.python.org/3/extending/embedding.html">https://docs.python.org/3/extending/embedding.html</a>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="images/5c816b81-21bc-488b-8550-c6d0de380776.png" style="width:38.92em;height:18.33em;"/></div>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works...</h1>
                </header>
            
            <article>
                
<p>In the preceding C code <kbd>(fprintf())</kbd> is being used to access Python. As this isn't a C programming book, I won't provide the in-depth workings of the code, but here is a brief rundown of what is happening:</p>
<ol>
<li>Python is being imported into the code as a header file.</li>
<li>The C code is told about the paths to Python runtime libraries.</li>
<li>The Python interpreter is initialized.</li>
<li>A Python script is hard-coded into the C code and processed.</li>
<li>The Python interpreter is shut down.</li>
<li>The C program finishes.</li>
</ol>
<p>In real practice, the Python program to be executed would be pulled from a file, rather than being hard-coded, as it removes the need for the programmer to allocate memory and load the file contents.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using alternative Python shells – IPython</h1>
                </header>
            
            <article>
                
<p>While usable, the default shell for the Python interpreter has significant limitations when compared to what computers can do nowadays. For starters, the regular Python interactive interpreter does not support syntax highlight or auto-indenting, among other features.</p>
<p>IPython is one of the most popular replacement interactive shells for Python. Some of the features IPython offers compared to vanilla Python include:</p>
<ul>
<li>Comprehensive object introspection, allowing access to docstrings, source code, and other objects accessible to the interpreter</li>
<li>Persistent input history</li>
<li>Caching output results</li>
<li>Extendable tab completion, with support for variables, keywords, functions, and filenames</li>
<li><kbd>magic</kbd> commands (denoted by a prepended <kbd>%</kbd>) to control the environment and interact with the OS</li>
<li>Extensive configuration system</li>
<li>Session logging and reload</li>
<li>Embeddable within Python programs and GUIs</li>
<li>Integrated access to debugger and profiler</li>
<li>Multi-line editing</li>
<li>Syntax highlighting</li>
</ul>
<p>Included with IPython is Jupyter, which provides the ability to create notebooks. Notebooks were originally part of IPython, but Jupyter split into a separate project, bringing the power of notebooks to other languages. Thus, IPython and Jupyter can be used separately from each other, with different frontends and backends providing different features as needed.</p>
<p>Jupyter notebooks provide a browser-based application that can be used for development, documentation, and executing code, including displaying the results as text, images, or other media types.</p>
<p>Jupyter notebooks, as web apps, provide the following features:</p>
<ul>
<li>In-browser editing, including syntax highlighting, automatic indentation, introspection, and tab completion</li>
<li>In-browser code execution, with the results attached to the source code</li>
<li>The ability to display rich media, including HTML, LaTeX, PNG, SVG, and so on</li>
</ul>
<ul>
<li>Rich text editing using Markdown</li>
<li>Mathematical notation using LaTeX</li>
</ul>
<p>Another package that is part of the IPython family is IPython Parallel, also known as&#160;<kbd>ipyparallel</kbd>. IPython Parallel supports the following parallel programming models:</p>
<ul>
<li>SPMD (single program, multiple data)</li>
<li>MPMD (multiple programs, multiple data)</li>
<li>Message passing via MPI</li>
<li>Task farming</li>
<li>Data parallel</li>
<li>Combinations of the previous</li>
<li>Custom-defined approaches</li>
</ul>
<p>The main benefit from&#160;<kbd>ipyparallel</kbd> is that it allows parallel-processed applications to be developed, tested, and used interactively. Normally, parallelism is performed by writing the code and then executing it to see the results; interactive coding can greatly increase development speed by showing whether a particular algorithm is worth pursuing further without sinking a fair amount of time into writing the supporting code.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>IPython can be installed simply via <kbd>pip</kbd>, but you may have to install&#160;<kbd>setuptools</kbd> first:</p>
<pre><strong>$ pip install ipython</strong></pre>
<p>IPython is also available as part of Anaconda, a data science/machine learning distribution of Python. In addition to IPython, Anaconda provides a large number of packages for science, data analysis, and artificial intelligence work.</p>
<p>If you are not using a pre-built environment such as, Anaconda, to incorporate Jupyter functionality with IPython, use the following commands:</p>
<pre><strong>$ python -m pip install ipykernel
$ python -m ipykernel install [--user] [--name &lt;machine-readable-name&gt;] [--display-name &lt;"User Friendly Name"&gt;]</strong></pre>
<ul>
<li><kbd>user</kbd> specifies the installation is for the current user rather than being for global use.</li>
<li><kbd>name</kbd> gives a name to the IPython kernel. This is only necessary if multiple IPython kernels will be operating at the same time.</li>
</ul>
<ul>
<li><kbd>display-name</kbd> is the name for a particular IPython kernel. Most useful when multiple kernels are present.</li>
</ul>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>To start an interactive session with IPython, use the command <kbd>ipython</kbd>. If you have different Python versions installed, you have to specify&#160;<kbd>ipython3</kbd>:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="images/f0f911b7-2889-467a-9676-1b499b10ec9a.png" style="width:38.42em;height:8.67em;"/></div>
<ol start="2">
<li>Notice that the input prompt is <kbd>In [N]:</kbd>, rather than <kbd>&gt;&gt;&gt;</kbd>. The <kbd>N</kbd> number refers to the command in IPython history and can be recalled for use again, just like the Bash shell's history.</li>
<li>IPython's interpreter functions just like the vanilla Python interpreter, while adding functionality. The static text in these examples doesn't do the environment justice, as syntax highlighting, auto-indenting, and tab completion occur in real time. The following is an example of some simple commands within the IPython interpreter:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="images/528ef2c8-ce64-4ff9-852b-679ef024bfa6.png" style="width:35.67em;height:18.17em;"/></div>
<ol start="4">
<li>Notice in the preceding example that the second command prints the results with the <kbd>Out[N]:</kbd> prompt. Like the <kbd>In [N]:</kbd> prompt, this line number can be referenced again in future code.</li>
<li>To learn more about any object, use a question mark: <kbd>&lt;object&gt;?</kbd>. For more information, add two question marks: <kbd>&lt;object&gt;??</kbd>.</li>
<li>Magic functions are a unique part of IPython. They are essentially built-in shortcuts to control how IPython operates, as well as providing system-type functions, similar to accessing Bash commands.
<ul>
<li>Instances of line magic are prefixed with the <kbd>%</kbd> character and operate like Bash commands: an argument is passed to the magic function. Anything on the line beyond the function call itself is considered part of the argument.<br/>
Instances of line magic return results, just like a regular function. As such, they can be used to assign results to a variable.</li>
<li>Instances of cell magic are prefixed with <kbd>%%</kbd>. They operate like line magics except that multiple lines can be used as the argument, rather than a single line.</li>
<li>Magic functions are available to affect the IPython shell, interact with code, and provide general utility functions.</li>
</ul>
</li>
<li>IPython includes a built-in command history log that tracks both input commands and their results. The <kbd>%history</kbd> magic function will display the command history. Additional magic functions can be used to interact with the history, such as rerunning past commands or copying them into the current session.</li>
<li>OS shell interaction is available by using the <kbd>!</kbd> prefix with a command. Thus, to utilize the Bash shell in IPython without exiting the session or opening a new Terminal, <kbd>!&lt;command&gt;</kbd> will send a command, such as the <kbd>ping</kbd> command to Bash for execution:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="images/11e02324-65cc-4991-9fcf-aecf5ddd9a3d.png" style="width:39.50em;height:19.67em;"/></div>
<ol start="9">
<li>IPython supports rich media output when used as a kernel for other frontend software. Plotting via <kbd>matplotlib</kbd> is available; this is particularly useful when using Jupyter notebooks to show the code and the resulting plots in a browser window.</li>
<li>Support is also available for interactive GUI development. In this instance, IPython will wait for input from the GUI toolkit's event loop. To launch this functionality, simply use the magic function <kbd>%gui &lt;toolkit_name&gt;</kbd>. Supported GUI frameworks include wxPython, PyQT, PyGTK, and Tk.</li>
<li>IPython has the ability to run scripts interactively, such as with presentations. Adding a few tags to comments embedded within the source code divides the code into separate blocks, with each block being run separately. IPython will print the block before running the code, and then drop back to the interactive shell, allowing interactive use of the results.</li>
<li>Support for embedding IPython within other programs is available, much like the embedded distribution of Python.</li>
</ol>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>Starting with IPython version 6.0, Python versions below 3.3 are not supported. To use older versions of Python, IPython 5 LTS should be used.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using alternative Python shells – bpython</h1>
                </header>
            
            <article>
                
<p>bpython was created for developers who want more functionality in their Python environment without the overhead or learning curve associated with IPython. Hence, bpython provides many IDE-style features, but in a lightweight package. Some of the features available include:</p>
<ul>
<li>In-line syntax highlighting</li>
<li>Autocomplete suggestions as you type</li>
<li>Suggested parameters for function completion</li>
<li>A code <kbd>rewind</kbd> feature that pops out the last line and re-evaluates the entire source code</li>
<li>Pastebin integration, allowing visible code to be sent to the Pastebin site</li>
</ul>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>To use bpython, in addition to downloading the package itself you will also have to ensure that the following packages are installed on your system:</p>
<ul>
<li>Pygments</li>
<li>requests</li>
<li>Sphinx (optional; for documentation only)</li>
<li>mock (optional; for the test suite only)</li>
<li>babel (optional; for internationalization purposes)</li>
<li>curtsies</li>
<li>greenlet</li>
<li>urwid (optional; for bpython-urwind only)</li>
<li>requests[security] for Python versions &lt; 2.7.7</li>
</ul>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>Create a virtual environment for your project, such as:</li>
</ol>
<pre><strong>      $ virtualenv bpython-dev # determines Python version used</strong><br/><strong>      $ source bpython-dev/bin/activate <br/>      # necessary every time you work on bpython</strong></pre>
<ol start="2">
<li>Clone the <kbd>bpython</kbd> GitHub repository to your development system:</li>
</ol>
<pre><strong>      $ git clone git@github.com:&lt;github_username&gt;/bpython/bpython.git</strong></pre>
<ol start="3">
<li>Install bypython and dependencies:</li>
</ol>
<pre><strong>      $ cd bpython</strong><br/><strong>      $ pip install -e . # installs bpython and necessary dependencies</strong><br/><strong>      $ pip install watchdog urwid # install optional dependencies</strong><br/><strong>      $ pip install sphinx mock nose # install development dependencies</strong><br/><strong>      $ bpython # launch bpython</strong></pre>
<ol start="4">
<li>As an alternative to the pip installations, your *NIX distribution most likely has the necessary files. Running apt search <kbd>python-&lt;package&gt;</kbd> will show if a particular package is available. To install a particular package, use the following:</li>
</ol>
<pre><strong>     $ sudo apt install python[3]-&lt;package&gt;</strong></pre>
<p style="padding-left: 60px">The <kbd>3</kbd>&#160;is optional if you are installing for Python 2, but necessary if you want the Python 3 version of the package.</p>
<p style="padding-left: 60px">bpython can also be installed using&#160;<kbd>easyinstall</kbd>,&#160;<kbd>pip</kbd>, and via normal&#160;<kbd>apt install</kbd>.</p>
<ol start="5">
<li>The documentation for bpython is included with the bpython repository. To create a local copy of the documentation, ensure that you have sphinx installed and run the following:</li>
</ol>
<pre><strong>      $ make -C doc/sphinx html</strong></pre>
<p style="padding-left: 60px">Once the documentation is generated, it can be reached by using the URL <kbd>doc/sphinx/build/html/index.html</kbd> in your browser.</p>
<ol start="6">
<li>A large number of configuration options are available in the <kbd>bpython</kbd> config file (by default, it is located at <kbd>~/.config/bpython/config</kbd>). Options are available to set auto-completion, the color scheme, auto-indentation, keyboard mapping, and so on.</li>
<li>Theme configuration is available as well; the theme is set in the config file via the <kbd>color_scheme</kbd> option. The theme is used to control syntax highlighting, as well as the Python shell itself.</li>
</ol>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>The current version, at the time of writing, is 0.17. While it is classified as betaware, the author indicates that it works well enough for most day-to-day work. Support is available via IRC, a Google Groups mailing list, and various social media sites. More information, including screenshots, is available on the project's website.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using alternative Python shells – DreamPie</h1>
                </header>
            
            <article>
                
<p>Continuing in the vein of improving upon the vanilla Python experience, DreamPie provides some new ideas on alternative shells. The functionality provided by DreamPie includes:</p>
<ul>
<li>Splitting the interactive shell into a history box and a code box. Like IPython, the history box is a list of previous commands and results, while the code box is the current code being edited. The difference with the code box is that it functions more like a text editor, allowing you to write as much code as desired before executing it.</li>
<li>A copy code only command that copies only the code desired, allowing it to be pasted into a file while retaining indentation.</li>
<li>Automatic attribute and filename completion.</li>
<li>Code introspection, displaying function arguments and documentation.</li>
<li>The session history can be saved to an HTML file for future reference; the HTML file can be loaded back into DreamPie for quick reuse.</li>
<li>Automatic addition of parentheses and quotes after functions and methods.</li>
<li>Matploblib integration for interactive plots.</li>
<li>Support for nearly all Python implementations, including Jython, IronPython, and PyPy.</li>
<li>Cross-platform support.</li>
</ul>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>Before installing DreamPie, you will need to install Python 2.7, PyGTK, and <kbd>pygtksourceview</kbd>&#160;(the reason for Python 2.7 is that PyGTK has not been rewritten for Python 3 support).</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it...</h1>
                </header>
            
            <article>
                
<ol>
<li>The recommended way to download DreamPie is to clone the GitHub repository:</li>
</ol>
<pre><strong>      git clone https://github.com/noamraph/dreampie.git</strong></pre>
<ol start="2">
<li>Alternatively, a binary is available for Windows, macOS, and Linux (links can be found on the&#160;DreamPie website <a href="http://www.dreampie.org/download.html">(http://www.dreampie.org/download.html).</a>This is generally slower to be updated than the GitHub repository and tends to be less stable for that reason.</li>
</ol>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">There's more...</h1>
                </header>
            
            <article>
                
<p>I was unable to get DreamPie working using Xubuntu 16.04 and Python 2.7.11; an error kept occurring indicating that the GLib Object System <kbd>(gobject)</kbd> module could not be imported. Even when attempting to install the <kbd>gobject</kbd> package manually, I was unable to install DreamPie and validate how useful it is.</p>
<p>The last update to the DreamPie website was 2012, and there is no documentation on how to use the software on either the website or the GitHub site. According to the GitHub site, it was last updated in November, 2017, so it appears that the GitHub site is now the main location for the project.</p>


            </article>

            
        </section>
    </div>
</body>
</html>