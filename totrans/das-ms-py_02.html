<html><head></head><body>
        

                            
                    <h1 class="header-title">Setting Up</h1>
                
            
            
                
<p>In the previous chapter, we took a brief tour of the Python programming language. In this chapter, we will look at various ways to download and install the correct version of Python, then we will see how to run Python code. In the last couple of sections of this chapter, we'll see how to begin taking advantage of the wide variety of publicly available Python code that can be found on the internet.</p>
<p>The topics covered in this chapter are as follows:</p>
<ul>
<li>Downloading and installing Python</li>
<li>Using the command line and the interactive shell</li>
<li>Installing packages with <kbd>pip</kbd></li>
<li>Finding packages in the Python package index</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">Downloading and installing Python</h1>
                
            
            
                
<p>The topic of this section is downloading and installing the Python runtime and standard library. For this, let's first take a look at the download page, <a href="https://www.python.org/">https://www.python.org/</a>, which is, of course, the authoritative place to find Python. You will learn a little bit about which versions of Python exist and the one we should choose for this book. Then, we'll move on to how to set up Python for this book. Finally, we'll check that everything worked the way we wanted.</p>
<p>Before we can really begin working with Python, we need to make sure we've got the language interpreter and libraries properly installed. The first step for that is to decide which version of the language to install.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Choosing a suitable version</h1>
                
            
            
                
<p>There are currently two common varieties of Python in use. One of them is Python version 2.7, which is the final version of the Python 2 series. The Python community has promised to maintain version 2.7 independently, making it a very stable target for development. The other common version is Python 3, which at the time of writing this book is in version 3.6.</p>
<p>Python 3 is where the Python community is innovating. The releases are always backward compatible with earlier version 3 releases, but new exciting features are added regularly. During the change to version 3, the language in the libraries was changed in subtle ways, as you can see in the comparison of the following two code snippets:</p>
<div><img height="113" width="617" class="aligncenter size-full wp-image-983 image-border" src="img/1f3ca4c5-b741-4073-8f95-ec39be82d0dc.jpg"/></div>
<p>In the preceding screenshot, on the left-hand side is Python 2 and on the right-hand side you see an equivalent code in Python 3. They are almost the same, but have differences, such as placement of parentheses, a few keywords, and a slightly different structure than the standard library. You're free to pick whichever version or versions you want for your own projects, but for this book, we'll be using Python version 3.</p>
<p>Now that we have picked the version, let's install it.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Installing Python</h1>
                
            
            
                
<p>If you're a Windows or Mac user, you can download an installer directly from the Python website (<a href="https://www.python.org/downloads/">https://www.python.org/downloads/</a>). Pick the installer appropriate for your computer, download it, and run it for any platform. We also have the option of downloading the source code, compiling it, and installing Python that way.</p>
<p>Unix and Linux users, as well as Mac users who prefer it, have the option to install Python through their package manager instead. For systems which integrate a package manager, this is probably the best and easiest choice. If we use the package manager, this next part is probably already done, otherwise we need to make sure that the Python programs are able to run from the command line.</p>
<p>On macOS and Unix-like operating systems, all we need is to add a line to the profile or the <kbd>bashrc</kbd> file in our home directory:</p>
<ul>
<li>macOS X (edit <kbd>~/.profile</kbd>):</li>
</ul>
<pre>
    <strong>export  PATH=&lt;pydir&gt;:$PATH</strong>
</pre>
<ul>
<li>Unix/Linux (edit <kbd>~/.bashrc</kbd>):</li>
</ul>
<pre>
    <strong>export PATH=&lt;pydir&gt;:$PATH</strong>
</pre>
<ul>
<li>Windows:</li>
</ul>
<ol>
<li>Open Advanced System Settings in Control Panel.</li>
<li>Click on Environments Variables....</li>
<li>Edit PATH.</li>
<li>Add <kbd>;&lt;pydir&gt;</kbd> at the end.</li>
</ol>
<p>Windows is only slightly more involved, as you'll need to open up the Control Panel and locate the Environment Variables screen. In each of the preceding examples, <kbd>pydir</kbd> is the directory where you installed Pythonâ€”<kbd>C:\python36</kbd>, for example.</p>
<p>Once we've got the path environment variable set, we should be good to go. To check that-open a Terminal window (Command Prompt on Windows) and type <kbd>Python</kbd>, then hit <em>Enter.</em> If you don't know how to open the Terminal, don't worry, we'll talk about that in more detail in the next chapter.</p>
<p>Also, if you are a Unix user and you do not receive the correct result, it is potentially because the <kbd>bashrc</kbd> file or profile has not been executed yet. You may need to log out and log back in again.</p>
<p>If the Python interactive shell starts up when we type <kbd>python</kbd> into the Terminal, we're good to go. If it doesn't, go back to double-check the changes that we made to the path environment variable because that's the piece that tells the operating system where to look for programs.</p>
<p>That's it for setting up.</p>
<p>If you're feeling adventurous, you can experiment with the interactive shell that we just started up. Try typing in mathematical expressions and see what happens. In the next section, we'll look more closely at running Python code using the command line and the interactive shell.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Using the command line and the interactive shell</h1>
                
            
            
                
<p>Since, we looked at installing Python, let's try our hand at making Python actually do things using the textual interface.</p>
<p>Text-based user interfaces are very useful to programmers; they provide a quick and easy way to interact with programs while they're in development, experiment with code (which is, after all, text), and access documentation.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Opening a command-line window</h1>
                
            
            
                
<p>How you open a command-line window depends on the operating system you're using.</p>
<ul>
<li>On Windows 7, open the Start menu and type <kbd>CMD</kbd> into the Run box.</li>
<li>In Windows 8, press the Windows key and then type <kbd>CMD</kbd> and select Command Prompt.</li>
<li>On Windows 10, press the Windows key and select Command Prompt.</li>
<li>On macOS, navigate to Applications | Utilities | Terminal.</li>
<li>On Linux or other Unix-style operating systems, the precise mechanism for opening a command-line window varies, but they all have the ability to do it; look for the words <strong>xterm</strong>, <strong>terminal</strong>, or <strong>shell</strong>.</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">Python interactive shell</h1>
                
            
            
                
<p>Now that we've got a command-line window, we'll go straight into the Python interactive shell. We do that by typing <kbd>python</kbd> into the command-line window.</p>
<p>If you have multiple versions of Python installed and we want to interact with a specified version, we can explicitly choose the version from the command line by typing in that version's name. For example, if we type <kbd>python3</kbd>, we'll explicitly start up some version of Python 3.X:</p>
<div><img height="56" width="510" class="image-border" src="img/16ae283a-24ca-425e-a888-8bf482fe5b68.jpg"/></div>
<p>The <kbd>python3</kbd> command is used for Linux users. Windows users should type <kbd>python</kbd> command line to work.</p>
<p>Now, the fun really starts!</p>
<p>When we see the <kbd>&gt;&gt;&gt;</kbd> prompt, we can type in any Python expression or statement and see the result immediately (as shown in the following screenshot of code example):</p>
<div><img height="148" width="402" class="image-border" src="img/2ed6e9bf-cb76-4cad-a787-dace92e0f2c8.jpg"/></div>
<p>This is incredibly useful because it means that we don't have to remember every detail about how functions work, what class members are called, which exceptions are raised under what circumstances, and so on. Whenever we're unsure about something, we can just open up an interactive shell and find out. So, let's discuss this using a simple example.</p>
<p>Let's imagine we're working on an application that uses Python's <kbd>set</kbd> data type and we're unsure about what exception gets raised. When we try to add a set to itself, we could go digging through the documentation, but it's quicker and easier to just create a set in the interactive shell and try adding it to itself:</p>
<div><img height="71" width="282" class="image-border" src="img/41d5cd51-a8a6-4ee5-b4f1-4fd81a7164d4.jpg"/></div>
<p>Right away, the system tells us that adding a set to itself raises a <kbd>TypeError</kbd> exception. Sometimes, running a quick experiment in the interactive shell is the fastest way to get information we want, but documentation is nice too.</p>
<p>Fortunately, Python has a very good documentation system that we can access straight from the interactive shell by calling the <kbd>help</kbd> function. We could pass any object as the parameter of the <kbd>help</kbd> function and it will print out that object's documentation for us. So, if we want to find out about <kbd>functools.wraps</kbd>, we just pass it to help using the following two commands and read all about it (refer to the following screenshot):</p>
<pre>
<strong>import functools 
help(functools.wraps) </strong>
</pre>
<div><img height="168" width="905" class="image-border" src="img/24bbbba0-16b3-4af4-8cbf-3cc53860f1e5.jpg"/></div>
<p>The <kbd>help</kbd> function can also take the name of the object you want to read about instead of the object itself using the following code:</p>
<pre>
<strong>help('collections.defaultdict')   </strong>
</pre>
<p>This format can save us the time of typing in an <kbd>import</kbd> statement in the interactive shell:</p>
<div><img height="656" width="523" class="image-border" src="img/76ae9dbb-6911-48ae-baa9-656fa87e2033.jpg"/></div>
<p>The difference is that the <kbd>help</kbd> parameter is a string and not an expression that evaluates to the object we're interested in.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Installing packages with pip</h1>
                
            
            
                
<p>In this section, we'll take a look at using Python's package manager to install and manage third-party code, and now, it's back to the operating system command line for us. We'll see how to easily install third-party code from the Python Package Index.</p>
<p>While Python comes with batteries included, that is, the Python standard library that's already installed contains a wide range of very useful features, there's still plenty of things it doesn't do. Odds are though that somebody somewhere has already invented the wheel for us and if so, we can probably find it in the Python Package Index.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">The pip tool for packages</h1>
                
            
            
                
<p>Python, from version 3.4 onwards, is installed with a tool called <kbd>pip</kbd>, which can interface with the Python Package Index to automatically find, download, and install Python packages. If you already know the name of the package you want, and you have permission to write into Python's library directory, then this relatively simple command will get it fully installed and ready to be used.</p>
<p>In this instance, we installed a package called <kbd>banknumber</kbd>, which checks if someone's bank number is a valid bank number or is just a random number. For this, just add the <kbd>python3 -m pip install banknumber</kbd> command and hit <em>Enter;</em> we'll get the information as shown in the following screenshot:</p>
<div><img height="130" width="873" class="aligncenter size-full wp-image-96 image-border" src="img/bbef48a4-9085-45b1-82a9-4d64db8fed3d.jpg"/></div>
<p>If we don't have permission to Python's library directory, never fear. Python will look for a second user-specific library directory and since that library directory belongs to us, we'll always be able to install packages there.</p>
<p>To tell pip that we want to install into our personal library directory, just add <kbd>--user</kbd>Â to the command right after <kbd>install</kbd>. In the following screenshot, we are installing the <kbd>requests</kbd>Â package into our personal directory:</p>
<div><img height="220" width="832" class="aligncenter size-full wp-image-97 image-border" src="img/24f99b52-e57e-4363-826c-1fd5cb327b5a.jpg"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title">Managing installed packages</h1>
                
            
            
                
<p>The <kbd>pip</kbd> tool can do more than just installing packages. It can also give us the following:</p>
<ul>
<li>A list of currently installed packages using the <kbd>-m pip list</kbd> command:</li>
</ul>
<div><img height="193" width="344" class="aligncenter size-full wp-image-1113 image-border" src="img/c6ee8621-57cd-48a4-8969-2360376979d8.png"/><br/></div>
<ul>
<li>Upgrade currently installed packages to the newest version using the <kbd>-m pip install --upgrade</kbd> command:</li>
</ul>
<div><img height="223" width="842" class="aligncenter size-full wp-image-100 image-border" src="img/86cb1873-6787-41f4-a217-f078c6281c79.jpg"/></div>
<ul>
<li>Uninstall packages that we don't need anymore using the <kbd>-m pip uninstall</kbd> command. For example, if we want to uninstall the <kbd>banknumber</kbd> package, we can do it by using the following command, shown in this screenshot:</li>
</ul>
<div><img height="217" width="729" class="aligncenter size-full wp-image-101 image-border" src="img/83729f04-b963-4d4e-aacf-e9e20bd7798c.jpg"/></div>
<p>In short, it's a complete cross-platform management tool for Python packages.</p>
<p>Some Python packages require that we be able to compile extensions written in the C programming language to install them, but fortunately that's becoming rare. Normally, if the compiled extension is required, pip will be able to find and install the proper precompiled version automatically. The majority of available packages are pure Python anyhow and don't require compilation.</p>
<p>The pip tool has many more great options and command-line switches, but what we've seen so far covers the common situations well. If you want to dig into it further, pip's <kbd>help</kbd> command will give you the details. For example, consider the following command:</p>
<pre>
<strong>pip help install</strong>  
</pre>
<p>The preceding command prints out all the information you could possibly want about the <kbd>pip install</kbd> option:</p>
<div><img height="604" width="806" class="aligncenter size-full wp-image-102 image-border" src="img/38c3806d-6ab5-434e-b490-b1a3a2aec68c.jpg"/></div>
<p>So, now that we know how to install third-party packages using <kbd>pip</kbd>, how do we go about actually finding packages to install in the first place?</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Finding packages in the Python Package Index</h1>
                
            
            
                
<p>Earlier, we talked about installing packages from the Python Package Index, but what if we don't have a specific package we need to install? What if we just need a library to help us get the job done, but don't know which specific one we need? Well, as the name of the section implies, the Python Package Index is actually an index of packages, which classifies the packages according to a number of parameters. The index is conveniently hosted at <a href="https://pypi.python.org/pypi">https://pypi.python.org/pypi</a>. We could search the available packages in a number of ways. Let's discuss it in detail.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Using keywords</h1>
                
            
            
                
<p>Perhaps, the most useful way of accessing the index is to simply type keywords into the search box and see what it spits out.</p>
<p>If we ask to search for <kbd>asyncio</kbd>, we get back a collection of package names that have something to do with <kbd>asyncio</kbd>. The names are, of course, links to each package's detailed description on the index, which we can use to decide which package best suits our needs.</p>
<p>There's another way of accessing the index that is often nearly as useful as keyword searching and sometimes even more useful.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Using Package Index</h1>
                
            
            
                
<p>The Python Package Index supports browsing through its <strong>Package Index</strong> by category.</p>
<p>You start browsing by clicking on the Browse packages link in the menu, which brings you to the list of different categories. From there, you can select one or more categories by clicking on them and you'll be shown a list of the packages that fall into all of your selected categories, if the list is short enough to be useful.</p>
<p>If you don't get a list of packages, it's because the list would be so long that it wouldn't do you any good and you should select more categories to narrow it down. If a category disappears from the list while you're selecting, it means that there are no packages that run all your selected categories.</p>
<p>Python is not only written in English or used by people who prefer this language, but some packages also have good support for other languages. This list is a good way to find them, whereas keyword searching might not pick up on that kind of detail.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Searching the Package Index with pip</h1>
                
            
            
                
<p>If we don't want to fire up our browser to go searching through the index, we can also do it from the command line through <kbd>pip</kbd>, as shown in the following command:</p>
<pre>
<strong>$ python3 -m pip search asyncio </strong>  
</pre>
<p>This command performs the same search that we did earlier through the web interface:</p>
<div><img height="306" width="1157" class="aligncenter size-full wp-image-1115 image-border" src="img/285a601f-a5b8-43aa-a08c-1cc84afe06bd.png"/></div>
<p>Doing it this way is often faster; but as you can see in the preceding screenshot, it only provides us with a name and a brief description of each package. This is perfect for getting a quick reminder about the package name, but not so good for more in-depth research.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Legalities and licenses of the Python Package Index</h1>
                
            
            
                
<p>Finally, a quick note about legalities and licenses!</p>
<p>The vast majority of packages in the Python Package Index are under open-source licenses as certified by the <strong>Open Source Institute</strong> (<strong>OSI</strong>). This means basically that they can be freely used and distributed as part of other open-source projects.</p>
<p>In most cases, the licenses are more liberal than this, allowing us to use the software as part of our projects, even if we don't open source our own code.</p>
<p>Most does not mean all, however some of the packages are not under OSI certified licenses and some of OSI licensed packages are not usable in closed-source projects.</p>
<p>So, if you're going to be distributing your software, take a moment to make sure the licenses line up with your goals.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Summary</h1>
                
            
            
                
<p>In this chapter, we learned how to install Python and get to a place where we can begin working on real code. We looked at running Python in a command-line window and using it to perform experiments and calculations. We examined how to make the best of Python's command line and its extensive <kbd>help</kbd> library.</p>
<p>We learned about installing, uninstalling, and upgrading the packages using <kbd>pip</kbd>. We also got a pretty good idea of how to find third-party code to help us move our projects along, using the Python Package Index.</p>
<p>In the next chapter, we'll work through the steps to create and work with our own Python code packages.</p>


            

            
        
    </body></html>