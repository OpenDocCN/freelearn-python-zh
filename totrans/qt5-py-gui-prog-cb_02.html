<html><head></head><body>
  <div id="sbo-rt-content"><div class="chapter" title="Chapter 2. Layout Management"><div class="titlepage"><div><div><h1 class="title"><a id="ch02"/>Chapter 2. Layout Management</h1></div></div></div><p>In this chapter we will lay out our GUI using Python 3:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Arranging several labels within a label frame widget</li><li class="listitem" style="list-style-type: disc">Using padding to add space around widgets</li><li class="listitem" style="list-style-type: disc">How widgets dynamically expand the GUI</li><li class="listitem" style="list-style-type: disc">Aligning the GUI widgets by embedding frames within frames</li><li class="listitem" style="list-style-type: disc">Creating menu bars</li><li class="listitem" style="list-style-type: disc">Creating tabbed widgets</li><li class="listitem" style="list-style-type: disc">Using the grid layout manager</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec20"/>Introduction</h1></div></div></div><p>In this chapter, we will explore how to arrange widgets within widgets to create our Python GUI. Learning the fundamentals of GUI layout design will enable us to create great looking GUIs. There are certain techniques that will help us to achieve this layout design.</p><p>The grid layout manager is one of the most important layout tools built into tkinter that we will be using.</p><p>We can very easily create menu bars, tabbed controls (aka Notebooks), and many more widgets using tk.</p><p>One widget that is missing out of the box from tk is a status bar.</p><p>In this chapter, we will not bother to hand-craft this widget, but it can be done.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Arranging several labels within a label frame widget"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec21"/>Arranging several labels within a label frame widget</h1></div></div></div><p>The <code class="literal">LabelFrame</code> widget<a id="id39" class="indexterm"/> allows<a id="id40" class="indexterm"/> us to design our GUI in an organized fashion. We are still using the grid layout manager as our main layout design tool, yet by using <code class="literal">LabelFrame</code> widgets we get much more control over our GUI design.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec47"/>Getting ready</h2></div></div></div><p>We are starting to add more and more widgets to our GUI, and we will make the GUI fully functional in the coming recipes. Here, we are starting to use the <code class="literal">LabelFrame</code> widget. We will reuse the GUI from the last recipe of the previous chapter.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec48"/>How to do it...</h2></div></div></div><p>Add <a id="id41" class="indexterm"/>the following code just above the main<a id="id42" class="indexterm"/> event loop towards the bottom of the Python module:</p><div class="informalexample"><pre class="programlisting"># Create a container to hold labels
labelsFrame = ttk.LabelFrame(win, text=' Labels in a Frame ') # 1
labelsFrame.grid(column=0, row=7)

# Place labels into the container element # 2
ttk.Label(labelsFrame, text="Label1").grid(column=0, row=0)
ttk.Label(labelsFrame, text="Label2").grid(column=1, row=0)
ttk.Label(labelsFrame, text="Label3").grid(column=2, row=0)

# Place cursor into name Entry
nameEntered.focus()</pre></div><div class="mediaobject"><img src="images/B04829_02_01.jpg" alt="How to do it..."/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note13"/>Note</h3><p>We can easily align the labels vertically by changing our code, as shown next. Note that the only change we had to make was in the column and row numberings.</p></div></div><div class="informalexample"><pre class="programlisting"># Place labels into the container element – vertically # 3
ttk.Label(labelsFrame, text="Label1").grid(column=0, row=0)
ttk.Label(labelsFrame, text="Label2").grid(column=0, row=1)
ttk.Label(labelsFrame, text="Label3").grid(column=0, row=2)</pre></div><div class="mediaobject"><img src="images/B04829_02_01_1.jpg" alt="How to do it..."/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec49"/>How it works...</h2></div></div></div><p>Comment # 1: Here, we will create our first ttk LabelFrame widget and give the frame a name. The<a id="id43" class="indexterm"/> parent container is <code class="literal">win</code>, our<a id="id44" class="indexterm"/> main window.</p><p>The three lines following comment # 2 create label names and place them in the LabelFrame. We are using the important grid layout tool to arrange the labels within the LabelFrame. The column and row properties of this layout manager give us the power to control our GUI layout.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note14"/>Note</h3><p>The parent of our labels is the LabelFrame, not the <code class="literal">win</code> instance variable of the main window. We can see the beginning of a layout hierarchy here.</p></div></div><p>The highlighted comment # 3 shows how easy it is to change our layout via the column and row properties. Note how we change the column to 0, and how we layer our labels vertically by numbering the row values sequentially.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note15"/>Note</h3><p>The name ttk stands for "themed tk". The tk-themed widget set was introduced in Tk 8.5.</p></div></div></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec50"/>There's more...</h2></div></div></div><p>In <a id="id45" class="indexterm"/>a recipe later in this chapter, we will<a id="id46" class="indexterm"/> embed LabelFrame(s) within LabelFrame(s), nesting them to control our GUI layout.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Using padding to add space around widgets"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec22"/>Using padding to add space around widgets</h1></div></div></div><p>Our<a id="id47" class="indexterm"/> GUI is being created nicely. Next, we will improve the visual aspects of our widgets by adding a little space around them, so they can breathe...</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec51"/>Getting ready</h2></div></div></div><p>While tkinter might have had a reputation for creating ugly GUIs, this has dramatically changed since version 8.5, which ships with Python 3.4.x. You just have to know how to use the tools and techniques that are available. That's what we will do next.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec52"/>How to do it...</h2></div></div></div><p>The procedural way of adding spacing around widgets is shown first, and then we will use a loop to achieve the same thing in a much better way.</p><p>Our LabelFrame looks a bit tight as it blends into the main window towards the bottom. Let's fix this now.</p><p>Modify the following line of code by adding <code class="literal">padx</code> and <code class="literal">pady</code>:</p><div class="informalexample"><pre class="programlisting">labelsFrame.grid(column=0, row=7, padx=20, pady=40)</pre></div><p>And now our LabelFrame got some breathing space:</p><div class="mediaobject"><img src="images/B04829_02_02.jpg" alt="How to do it..."/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec53"/>How it works...</h2></div></div></div><p>In tkinter, adding<a id="id48" class="indexterm"/> space horizontally and vertically is done by using the built-in properties named <code class="literal">padx</code> and <code class="literal">pady</code>. These can be used to add space around many widgets, improving horizontal and vertical alignments, respectively. We hard-coded 20 pixels of space to the left and right of the LabelFrame, and we added 40 pixels to the top and bottom of the frame. Now our LabelFrame stands out more than it did before.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note16"/>Note</h3><p>The screenshot above only shows the relevant change.</p></div></div><p>We can use a loop to add space around the labels contained within the LabelFrame:</p><div class="informalexample"><pre class="programlisting">for child in labelsFrame.winfo_children(): 
    child.grid_configure(padx=8, pady=4)</pre></div><p>Now the labels within the LabelFrame widget have some space around them too:</p><div class="mediaobject"><img src="images/B04829_02_02_1.jpg" alt="How it works..."/></div><p>The <code class="literal">grid_configure()</code> function enables us to modify the UI elements before the main loop displays them. So, instead of hard-coding values when we first create a widget, we can work <a id="id49" class="indexterm"/>on our layout and then arrange spacing towards the end of our file, just before the GUI is being created. This is a neat technique to know.</p><p>The <code class="literal">winfo_children()</code> function returns a list of all the children belonging to the <code class="literal">labelsFrame</code> variable. This enables us to loop through them and assign the padding to each label.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note17"/>Note</h3><p>One thing to notice is that the spacing to the right of the labels is not really visible. This is because the title of the LabelFrame is longer than the names of the labels. We can experiment with this by making the names of the labels longer.</p></div></div><div class="informalexample"><pre class="programlisting">ttk.Label(labelsFrame, text="Label1 -- sooooo much loooonger...").grid(column=0, row=0)</pre></div><p>Now our GUI looks like the following. Note how there is now some space added to the right of the long label next to the dots. The last dot does not touch the LabelFrame, which it would without the added space.</p><div class="mediaobject"><img src="images/B04829_02_02_2.jpg" alt="How it works..."/></div><p>We can also remove the name of the LabelFrame to see the effect <code class="literal">padx</code> has on positioning our labels.</p><div class="mediaobject"><img src="images/B04829_02_02_3.jpg" alt="How it works..."/></div></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="How widgets dynamically expand the GUI"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec23"/>How widgets dynamically expand the GUI</h1></div></div></div><p>You <a id="id50" class="indexterm"/>probably noticed in previous screenshots and by running the code that widgets have a capability to extend themselves to the space they need to visually display their text.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note18"/>Note</h3><p>Java  introduced the concept of dynamic GUI layout management. In comparison, visual development IDEs like VS.NET lay out the GUI in a visual manner, and are basically hard-coding the x and y coordinates of UI elements.</p><p>Using <code class="literal">tkinter</code>, this dynamic capability creates both an advantage and a little bit of a challenge, because sometimes our GUI dynamically expands when we would prefer it rather not to be so dynamic! Well, we are dynamic Python programmers, so we can figure out how to make the best use of this fantastic behavior!</p></div></div><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec54"/>Getting ready</h2></div></div></div><p>At the beginning of the previous recipe we added a label frame widget. This moved some of our controls to the center of column 0. We might not wish this modification to our GUI layout. Next, we will explore some ways to fix this.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec55"/>How to do it...</h2></div></div></div><p>Let us first become aware of the subtle details that are going on in our GUI layout, in order to understand it better.</p><p>We are using the grid layout manager widget and it lays out our widgets in a zero-based grid.</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><tbody><tr><td style="text-align: left" valign="top">
<p>Row 0; Col 0</p>
</td><td style="text-align: left" valign="top">
<p>Row 0; Col 1</p>
</td><td style="text-align: left" valign="top">
<p>Row 0; Col 2</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Row 1; Col 0</p>
</td><td style="text-align: left" valign="top">
<p>Row 1; Col 1</p>
</td><td style="text-align: left" valign="top">
<p>Row 1; Col 2</p>
</td></tr></tbody></table></div><p>Using the grid layout manager, what is happening is that the width of any given column is determined by the longest name or widget in that column. This affects all rows.</p><p>By <a id="id51" class="indexterm"/>adding our LabelFrame widget and giving it a title that is longer than some hard-coded size widget like the top-left label and the text entry below it, we dynamically move those widgets to the center of column 0, adding space to the left and right sides of those widgets.</p><p>Incidentally, because we used the sticky property for the Checkbutton and ScrolledText widgets, those remain attached to the left side of the frame.</p><p>Let's look in more detail at the screenshot from the first recipe of this chapter:</p><div class="mediaobject"><img src="images/B04829_02_02_4.jpg" alt="How to do it..."/></div><p>We added the following code to create the LabelFrame and then placed labels into this frame:</p><div class="informalexample"><pre class="programlisting"># Create a container to hold labels
labelsFrame = ttk.LabelFrame(win, text=' Labels in a Frame ')
labelsFrame.grid(column=0, row=7)</pre></div><p>Since the text property of the LabelFrame, which is displayed as the title of the LabelFrame, is longer than both our <span class="strong"><strong>Enter a name:</strong></span> label and the textbox entry below it, those two widgets are dynamically centered with the new width of column 0.</p><p>The Checkbutton and Radiobutton widgets in column 0 did not get centered because we used the <code class="literal">sticky=tk.W</code> property when we created those widgets.</p><p>For the ScrolledText widget we used <code class="literal">sticky=tk.WE,</code> which binds the widget to both the west (aka left) and east (aka right) side of the frame.</p><p>Let's remove the sticky property from the ScrolledText widget and observe the effect this change has.</p><div class="informalexample"><pre class="programlisting">scr = scrolledtext.ScrolledText(win, width=scrolW, height=scrolH, wrap=tk.WORD)
#### scr.grid(column=0, sticky='WE', columnspan=3)
scr.grid(column=0, columnspan=3)</pre></div><p>Now <a id="id52" class="indexterm"/>our GUI has new space around the ScrolledText widget both on the left and right sides. Because we used the <code class="literal">columnspan=3</code> property, our ScrolledText widget still spans all three columns.</p><div class="mediaobject"><img src="images/B04829_02_02_5.jpg" alt="How to do it..."/></div><p>If we remove <code class="literal">columnspan=3</code>, we get the following GUI, which is not what we want. Now our ScrolledText only occupies column 0, and, because of its size, it stretches the layout.</p><div class="mediaobject"><img src="images/B04829_02_02_6.jpg" alt="How to do it..."/></div><p>One <a id="id53" class="indexterm"/>way to get our layout back to where we were before adding the LabelFrame is to adjust the grid column position. Change the column value from 0 to 1.</p><div class="informalexample"><pre class="programlisting">labelsFrame.grid(column=1, row=7, padx=20, pady=40)</pre></div><p>Now our GUI looks like this:</p><div class="mediaobject"><img src="images/B04829_02_03.jpg" alt="How to do it..."/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec56"/>How it works...</h2></div></div></div><p>Because we are still using individual widgets, our layout can get messed up. By moving the column value of the LabelFrame from 0 to 1, we were able to get the controls back to where they used to be and where we prefer them to be. At least the left-most label, text, checkbox, scrolledtext, and radio button widgets are now located where we intended them to be. The second label and text <code class="literal">Entry</code> located in column 1 have aligned themselves to the center of the length of the <span class="strong"><strong>Labels in a Frame</strong></span> widget, so we basically moved our alignment<a id="id54" class="indexterm"/> challenge one column to the right. It is not so visible because the size of the <span class="strong"><strong>Choose a number:</strong></span> label is almost the same as the size of the <span class="strong"><strong>Labels in a Frame</strong></span> title, and so the column width was already close to the new width generated by the LabelFrame.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec57"/>There's more...</h2></div></div></div><p>In the next recipe, we will embed frames within frames to avoid the accidental misalignment of widgets we just experienced in this recipe.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Aligning the GUI widgets by embedding frames within frames"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec24"/>Aligning the GUI widgets by embedding frames within frames</h1></div></div></div><p>We<a id="id55" class="indexterm"/> have much better control of our GUI layout if we embed frames within frames. This is what we will do in this recipe.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec58"/>Getting ready</h2></div></div></div><p>The dynamic behavior of Python and its GUI modules can create a little bit of a challenge to really get our GUI looking the way we want. Here we will embed frames within frames to get more control of our layout. This will establish a stronger hierarchy among the different UI elements, making the visual appearance easier to achieve.</p><p>We will continue to use the GUI we created in the previous recipe.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec59"/>How to do it...</h2></div></div></div><p>Here, we will create a top-level frame that will contain other frames and widgets. This will help us to get our GUI layout just the way we want.</p><p>In order to do so, we will have to embed our current controls within a central ttk.LabelFrame. This ttk.LabelFrame is a child of the main parent window and all controls will be children of this ttk.LabelFrame.</p><p>Up to this point in our recipes, we have assigned all widgets to our main GUI frame directly. Now we will only assign our LabelFrame to our main window, and after that, we will make this LabelFrame the parent container for all the widgets.</p><p>This creates the following hierarchy in our GUI layout:</p><div class="mediaobject"><img src="images/B04829_02_30.jpg" alt="How to do it..."/></div><p>In this<a id="id56" class="indexterm"/> diagram, <span class="strong"><strong>win</strong></span> is the variable that references our main GUI tkinter window frame; <span class="strong"><strong>monty</strong></span> is the variable that references our LabelFrame and is a child of the main window frame (<span class="strong"><strong>win</strong></span>); and <span class="strong"><strong>aLabel</strong></span> and all other widgets are now placed into the LabelFrame container (<span class="strong"><strong>monty</strong></span>).</p><p>Add the following code towards the top of our Python module (see comment # 1):</p><div class="informalexample"><pre class="programlisting"># Create instance
win = tk.Tk()

# Add a title       
win.title("Python GUI")    

# We are creating a container frame to hold all other widgets # 1
monty = ttk.LabelFrame(win, text=' Monty Python ')
monty.grid(column=0, row=0)</pre></div><p>Next, we will modify all the following controls to use <code class="literal">monty</code> as the parent, replacing <code class="literal">win</code>. Here is an example of how to do this:</p><div class="informalexample"><pre class="programlisting"># Modify adding a Label
aLabel = ttk.Label(monty, text="A Label")</pre></div><div class="mediaobject"><img src="images/B04829_02_04.jpg" alt="How to do it..."/></div><p>Note how all the widgets are now contained in the <span class="strong"><strong>Monty Python</strong></span> LabelFrame, which surrounds <a id="id57" class="indexterm"/>all of them with a barely visible thin line. Next, we can reset the <span class="strong"><strong>Labels in a Frame</strong></span> widget to the left without messing up our GUI layout:</p><div class="mediaobject"><img src="images/B04829_02_04_1.jpg" alt="How to do it..."/></div><p>Oops - maybe not. While our frame within another frame aligned nicely to the left, it again pushed our top widgets into the center (a default).</p><p>In order to align them to the left, we have to force our GUI layout by using the <code class="literal">sticky</code> property. By assigning it "W" (West), we can control the widget to be left-aligned.</p><div class="informalexample"><pre class="programlisting"># Changing our Label
ttk.Label(monty, text="Enter a name:").grid(column=0, row=0, sticky='W')</pre></div><div class="mediaobject"><img src="images/B04829_02_04_2.jpg" alt="How to do it..."/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec60"/>How it works...</h2></div></div></div><p>Note how we aligned the label, but not the text box below it. We have to use the <code class="literal">sticky</code> property for all the controls we want to left-align. We can do that in a loop, using the <code class="literal">winfo_children()</code> and <code class="literal">grid_configure(sticky='W')</code> properties, as we did before in recipe 2 of this chapter.</p><p>The <code class="literal">winfo_children()</code> function returns a list of all the children belonging to the parent. This<a id="id58" class="indexterm"/> enables us to loop through all of the widgets and change their properties.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note19"/>Note</h3><p>Using tkinter to force left, right, top, bottom the naming is very similar to Java: west, east, north and south, abbreviated to: "W" and so on. We can also use the following syntax: tk.W instead of "W".</p><p>In a previous recipe, we combined both "W" and "E" to make our ScrolledText widget attach itself both to the left and right sides of its container using "WE". We can add more combinations: "NSE" will stretch our widget to the top, bottom and right side. If we have only one widget in our form, for example a button, we can make it fill in the entire frame by using all options: "NSWE". We can also use tuple syntax: <code class="literal">sticky=(tk.N, tk.S, tk.W, tk.E)</code>.</p></div></div><p>Let's change the very long label back and align the entry in column 0 to the left.</p><div class="informalexample"><pre class="programlisting">ttk.Label(monty, text="Enter a name:").grid(column=0, row=0, sticky='W')

name = tk.StringVar()
nameEntered = ttk.Entry(monty, width=12, textvariable=name)
nameEntered.grid(column=0, row=1, sticky=tk.W)</pre></div><div class="mediaobject"><img src="images/B04829_02_04_3.jpg" alt="How it works..."/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note20"/>Note</h3><p>In order to separate the influence that the length of our <span class="strong"><strong>Labels in a Frame</strong></span> LabelFrame has on the rest of our GUI layout, we must not place this LabelFrame into the same LabelFrame as the other widgets. Instead we assign it directly to the main GUI form (<code class="literal">win</code>).</p></div></div><p>We<a id="id59" class="indexterm"/> will do this in later chapters.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Creating menu bars"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec25"/>Creating menu bars</h1></div></div></div><p>In <a id="id60" class="indexterm"/>this recipe, we will add a menu bar to our main window, add menus to the menu bar, and then add menu items to the menus.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec61"/>Getting ready</h2></div></div></div><p>We will start by learning the techniques of how to add a menu bar, several menus and a few menu items to show the principle of how to do it. Clicking on a menu item will have no effect. Next, we will add functionality to the menu items, for example, closing the main window when clicking the <span class="strong"><strong>Exit</strong></span> menu item and displaying a <span class="strong"><strong>Help</strong></span> | <span class="strong"><strong>About</strong></span> dialog.</p><p>We are continuing to extend the GUI we created in the current and previous chapter.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec62"/>How to do it...</h2></div></div></div><p>First, we have to import the <code class="literal">Menu</code> class from <code class="literal">tkinter</code>. Add the following line of code to the top of the Python module, where the import statements live:</p><div class="informalexample"><pre class="programlisting">from tkinter import Menu</pre></div><p>Next, we <a id="id61" class="indexterm"/>will create the menu bar. Add the following code towards the bottom of the module, just above where we create the main event loop:</p><div class="informalexample"><pre class="programlisting">menuBar = Menu(win)                      # 1
win.config(menu=menuBar)</pre></div><p>Now we add a menu to the bar and also assign a menu item to the menu.</p><div class="informalexample"><pre class="programlisting">fileMenu = Menu(menuBar)                 # 2
fileMenu.add_command(label="New")
menuBar.add_cascade(label="File", menu=fileMenu)</pre></div><p>Running this code adds a menu bar, with a menu, which has a menu item.</p><div class="mediaobject"><img src="images/B04829_02_05.jpg" alt="How to do it..."/></div><p>Next, we add a second menu item to the first menu we added to the menu bar.</p><div class="informalexample"><pre class="programlisting">fileMenu.add_command(label="New")
fileMenu.add_command(label="Exit")        # 3
menuBar.add_cascade(label="File", menu=fileMenu)</pre></div><div class="mediaobject"><img src="images/B04829_02_05_1.jpg" alt="How to do it..."/></div><p>We can<a id="id62" class="indexterm"/> add a separator line between the MenuItems by adding the following line of code (# 4) in between the existing MenuItems.</p><div class="informalexample"><pre class="programlisting">fileMenu.add_command(label="New")
fileMenu.add_separator()               # 4
fileMenu.add_command(label="Exit")</pre></div><div class="mediaobject"><img src="images/B04829_02_05_2.jpg" alt="How to do it..."/></div><p>By passing in the property <code class="literal">tearoff</code> to the constructor of the menu, we can remove the first dashed line that, by default, appears above the first MenuItem in a menu.</p><div class="informalexample"><pre class="programlisting"># Add menu items
fileMenu = Menu(menuBar, tearoff=0)      # 5</pre></div><div class="mediaobject"><img src="images/B04829_02_05_3.jpg" alt="How to do it..."/></div><p>We will <a id="id63" class="indexterm"/>add a second menu, which will be horizontally placed to the right of the first menu. We will give it one MenuItem, which we name <code class="literal">About</code>, and, in order for this to work, we have to add this second menu to the MenuBar.</p><p>
<span class="strong"><strong>File</strong></span> and <span class="strong"><strong>Help</strong></span> | <span class="strong"><strong>About</strong></span> are very common Windows GUI layouts that we are all familiar with, and we can create those same menus using Python and tkinter.</p><p>The order of creation and the naming of menu, menu item, and menu bar might at first be a little bit confusing, but, once we get used to how tkinter requires us to code it, this actually becomes fun.</p><div class="informalexample"><pre class="programlisting">helpMenu = Menu(menuBar, tearoff=0)            # 6
helpMenu.add_command(label="About")
menuBar.add_cascade(label="Help", menu=helpMenu)</pre></div><div class="mediaobject"><img src="images/B04829_02_05_4.jpg" alt="How to do it..."/></div><p>At this point, our GUI has a MenuBar and two menus that contain some MenuItems. Clicking on them does not do much, until we add some commands. That's what we will do next. Add the following code above the creation of the MenuBar:</p><div class="informalexample"><pre class="programlisting">def _quit():         # 7
    win.quit()
    win.destroy()
    exit()</pre></div><p>Next, we <a id="id64" class="indexterm"/>bind the <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Exit</strong></span> MenuItem to this function by adding the following command to the MenuItem:</p><div class="informalexample"><pre class="programlisting">fileMenu.add_command(label="Exit", command=_quit)    # 8</pre></div><p>Now, when we click the <code class="literal">Exit</code> MenuItem, our application will indeed exit.</p></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec63"/>How it works...</h2></div></div></div><p>In comment # 1, we are calling the <code class="literal">tkinter</code> constructor of the menu and assigning the menu to our main GUI window. We save a reference in the instance variable named <code class="literal">menuBar</code> and, in the following line of code, we use this instance to configure our GUI to use <code class="literal">menuBar</code> as our menu.</p><p>Comment # 2 shows how we first add a MenuItem and then create a menu. This seems to be unintuitive, but this is how tkinter works. The <code class="literal">add_cascade()</code> method aligns the MenuItems one below the other, in a vertical layout.</p><p>Comment # 3 shows how to add a second MenuItem to the menu.</p><p>In comment # 4, we are adding a separator line between the two MenuItems. This is usually used to group related MenuItems and separate them from less related items (hence the name).</p><p>Comment # 5 disables the tearoff dashed line to make our menu look much better.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note21"/>Note</h3><p>Without disabling this default feature, the user can "tear off" the menu from the main window. I find this capability to be of little value. Feel free to play around with it by double-clicking the dashed line (before disabling this feature).</p><p>If you are using a Mac, this feature might not be enabled, so you do not have to worry about it at all.</p></div></div><div class="mediaobject"><img src="images/B04829_02_05_5.jpg" alt="How it works..."/></div><p>Comment # 6 shows <a id="id65" class="indexterm"/>you how to add a second menu to the MenuBar. We can keep on adding menus by using this technique.</p><p>Comment # 7 creates a function to quit our GUI application cleanly. This is the recommended Pythonic way to end the main event loop.</p><p>In # 8 we bind the function we created in # 7 to the MenuItem, using the <code class="literal">tkinter</code> command property. Whenever we want our MenuItems to actually do something, we have to bind each of them to a function.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note22"/>Note</h3><p>We are using a recommended Python naming convention by preceding our quit function with one single underscore, to indicate that this is a private function not to be called by clients of our code.</p></div></div></div><div class="section" title="There's more…"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec64"/>There's more…</h2></div></div></div><p>We will add the <span class="strong"><strong>Help</strong></span> | <span class="strong"><strong>About</strong></span> functionality in the next chapter, which introduces message boxes and much more.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Creating tabbed widgets"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec26"/>Creating tabbed widgets</h1></div></div></div><p>In this<a id="id66" class="indexterm"/> recipe, we will create tabbed widgets to further organize our expanding GUI written in tkinter.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec65"/>Getting ready</h2></div></div></div><p>In order to improve our Python GUI using tabs, we will start at the beginning, using the minimum amount of code necessary. In the following recipes, we will add widgets from previous recipes and place them into this new tabbed layout.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec66"/>How to do it...</h2></div></div></div><p>Create a new Python module and place the following code into this module:</p><div class="informalexample"><pre class="programlisting">import tkinter as tk                    # imports
from tkinter import ttk
win = tk.Tk()                           # Create instance      
win.title("Python GUI")                 # Add a title 
tabControl = ttk.Notebook(win)          # Create Tab Control
tab1 = ttk.Frame(tabControl)            # Create a tab 
tabControl.add(tab1, text='Tab 1')      # Add the tab
tabControl.pack(expand=1, fill="both")  # Pack to make visible
win.mainloop()                          # Start GUI</pre></div><p>This creates the following GUI:</p><div class="mediaobject"><img src="images/B04829_02_06.jpg" alt="How to do it..."/></div><p>While <a id="id67" class="indexterm"/>not amazingly impressive as of yet, this widget adds another very powerful tool to our GUI design toolkit. It comes with its own limitations in the minimalist example above (for example, we cannot reposition the GUI nor does it show the entire GUI title).</p><p>While in previous recipes, we used the grid layout manager for simpler GUIs, we can use a simpler layout manager and "pack" is one of them.</p><p>In the preceding code, we "pack" tabControl ttk.Notebook into the main GUI form expanding the notebook tabbed control to fill in all sides.</p><div class="mediaobject"><img src="images/B04829_02_06_0.jpg" alt="How to do it..."/></div><p>We can add a second tab to our control and click between them.</p><div class="informalexample"><pre class="programlisting">tab2 = ttk.Frame(tabControl)            # Add a second tab
tabControl.add(tab2, text='Tab 2')      # Make second tab visible
win.mainloop()                          # Start GUI</pre></div><p>Now we have two tabs. Click on <span class="strong"><strong>Tab 2</strong></span> to give it the focus.</p><div class="mediaobject"><img src="images/B04829_02_06_1.jpg" alt="How to do it..."/></div><p>We would<a id="id68" class="indexterm"/> really like to see our windows title. So, to do this, we have to add a widget to one of our tabs. The widget has to be wide enough to expand our GUI dynamically to display our window title. We are adding Ole Monty back, together with his children.</p><div class="informalexample"><pre class="programlisting">monty = ttk.LabelFrame(tab1, text=' Monty Python ')
monty.grid(column=0, row=0, padx=8, pady=4)
ttk.Label(monty, text="Enter a name:").grid(column=0, row=0, sticky='W')</pre></div><p>Now we got our <span class="strong"><strong>Monty Python</strong></span> inside <span class="strong"><strong>Tab1</strong></span>.</p><div class="mediaobject"><img src="images/B04829_02_06_2.jpg" alt="How to do it..."/></div><p>We can keep placing all the widgets we have created so far into our newly created tab controls.</p><div class="mediaobject"><img src="images/B04829_02_06_3.jpg" alt="How to do it..."/></div><p>Now all<a id="id69" class="indexterm"/> the widgets reside inside <span class="strong"><strong>Tab1</strong></span>. Let's move some to <span class="strong"><strong>Tab2</strong></span>. First, we create a second LabelFrame to be the container of our widgets relocating to <span class="strong"><strong>Tab2</strong></span>:</p><div class="informalexample"><pre class="programlisting">monty2 = ttk.LabelFrame(tab2, text=' The Snake ')
monty2.grid(column=0, row=0, padx=8, pady=4)</pre></div><p>Next, we move the check and radio buttons to <span class="strong"><strong>Tab2</strong></span>, by specifying the new parent container, which is a new variable we name <code class="literal">monty2</code>. Here is an example which we apply to all controls that relocate to <span class="strong"><strong>Tab2</strong></span>:</p><div class="informalexample"><pre class="programlisting">chVarDis = tk.IntVar()
check1 = tk.Checkbutton(monty2, text="Disabled", variable=chVarDis, state='disabled')</pre></div><p>When we run the code, our GUI now looks different. <span class="strong"><strong>Tab1</strong></span> has less widgets than it had before when it contained all of our previously created widgets.</p><div class="mediaobject"><img src="images/B04829_02_06_4.jpg" alt="How to do it..."/></div><p>We can<a id="id70" class="indexterm"/> now click <span class="strong"><strong>Tab 2</strong></span> and see our relocated widgets.</p><div class="mediaobject"><img src="images/B04829_02_06_5.jpg" alt="How to do it..."/></div><p>Clicking the relocated Radiobutton(s) no longer has any effect, so we will change their actions to rename the text property, which is the title of the LabelFrame widget, to the name the Radiobuttons display. When we click the <span class="strong"><strong>Gold</strong></span> Radiobutton, we no longer set the background of the frame to the color gold but here replace the LabelFrame text title instead. Python "The Snake" now becomes "Gold".</p><div class="informalexample"><pre class="programlisting"># Radiobutton callback function
def radCall():
    radSel=radVar.get()
    if   radSel == 0: monty2.configure(text='Blue')
    elif radSel == 1: monty2.configure(text='Gold')
    elif radSel == 2: monty2.configure(text='Red')</pre></div><p>Now, selecting<a id="id71" class="indexterm"/> any of the RadioButton widgets results in changing the name of the LabelFrame.</p><div class="mediaobject"><img src="images/B04829_02_06_6.jpg" alt="How to do it..."/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec67"/>How it works...</h2></div></div></div><p>After creating a second tab, we moved some of the widgets that originally resided in <span class="strong"><strong>Tab1</strong></span> to <span class="strong"><strong>Tab2</strong></span>. Adding tabs is another excellent way to organize our ever-increasing GUI. This is one very nice way to handle complexity in our GUI design. We can arrange widgets in groups where they naturally belong, and free our users from clutter by using tabs.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note23"/>Note</h3><p>In <code class="literal">tkinter</code>, creating tabs is done via the <code class="literal">Notebook</code> widget, which is the tool that allows us to add tabbed controls. The tkinter notebook widget, like so many other widgets, comes with additional properties that we can use and configure. An<a id="id72" class="indexterm"/> excellent place to start exploring additional capabilities of the tkinter widgets at our disposal is the official website: <a class="ulink" href="https://docs.python.org/3.1/library/tkinter.ttk.html#notebook">https://docs.python.org/3.1/library/tkinter.ttk.html#notebook</a>
</p></div></div></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Using the grid layout manager"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec27"/>Using the grid layout manager</h1></div></div></div><p>The <a id="id73" class="indexterm"/>grid layout manager is one of the most useful layout tools at our disposal. We have already used it in many recipes because it is just so powerful.</p><div class="section" title="Getting ready…"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec68"/>Getting ready…</h2></div></div></div><p>In this recipe, we will review some of the techniques of the grid layout manager. We have used them already and here we will explore them further.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec69"/>How to do it...</h2></div></div></div><p>In this<a id="id74" class="indexterm"/> chapter, we have created rows and columns, which truly is a database approach to GUI design (MS Excel does the same). We hard-coded the first four rows but then we forgot to give the next row a specification of where we wish it to reside.</p><p>Tkinter did fill this in for us without us even noticing.</p><p>Here is what we did in our code:</p><div class="informalexample"><pre class="programlisting">check3.grid(column=2, row=4, sticky=tk.W, columnspan=3)
scr.grid(column=0, sticky='WE', columnspan=3)              # 1
curRad.grid(column=col, row=6, sticky=tk.W, columnspan=3)
labelsFrame.grid(column=0, row=7)</pre></div><p>Tkinter automatically adds the missing row (emphasized in comment # 1) where we did not specify any particular row. We might not realize this.</p><p>We laid out the checkbuttons on row 4 then we "forgot" to specify the row for our ScrolledText widget, which we reference via the scr variable and then we added the Radiobutton widgets to be laid out in row 6.</p><p>This works nicely because tkinter automatically incremented the row position for our ScrolledText widget to use the next highest row number, which was row 5.</p><p>Looking at our code and not realizing that we "forgot" to explicitly position our ScrolledText widget to row 5, we might think nothing resides there.</p><p>So, we might try the following.</p><p>If we set the variable <code class="literal">curRad</code> to use row 5, we might get an unpleasant surprise:</p><div class="mediaobject"><img src="images/B04829_02_07.jpg" alt="How to do it..."/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec70"/>How it works...</h2></div></div></div><p>Note how<a id="id75" class="indexterm"/> our row of RadioButton(s) suddenly ended up in the middle of our ScrolledText widget! This is definitely not what we intended our GUI to look like!</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note24"/>Note</h3><p>If we forget to explicitly specify the row number, by default, <code class="literal">tkinter</code> will use the next available row.</p></div></div><p>We also used the <code class="literal">columnspan</code> property to make sure our widgets did not get limited to just one column. Here is how we made sure that our ScrolledText widget spans all the columns of our GUI:</p><div class="informalexample"><pre class="programlisting"># Using a scrolled Text control    
scrolW = 30; scrolH = 3
scr = ScrolledText(monty, width=scrolW, height=scrolH, wrap=tk.WORD)
scr.grid(column=0, sticky='WE', columnspan=3)</pre></div></div></div></div>
</body></html>