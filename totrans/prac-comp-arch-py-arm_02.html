<html><head></head><body><div id="sbo-rt-content"><div id="_idContainer019" class="_idGenObjectStyleOverride-1">&#13;
			<h1 id="_idParaDest-15" class="chapter-number" lang="en-GB"><a id="_idTextAnchor015"/>1</h1>&#13;
			<h1 id="_idParaDest-16" lang="en-GB"><a id="_idTextAnchor016"/>From Finite State Machines to Computers</h1>&#13;
			<p lang="en-GB">In this chapter, you will discover the fundamental nature of computers. Our goal is to explain what makes a computer a computer. These concepts are important because you can’t understand how a computer works until you appreciate the implications of its <span class="No-Break">sequential nature.</span></p>&#13;
			<p lang="en-GB">Once we’ve introduced the concept of digital systems, the next chapter will demonstrate how a computer operates by fetching instructions from memory and executing them. After that, we will introduce Python and demonstrate how you can write a program to simulate a computer and observe its operations. This book is all about learning by doing; by building a computer with software, you will learn how it operates and how to extend and <span class="No-Break">modify it.</span></p>&#13;
			<p lang="en-GB">The remainder of this book will look at a real computer, a Raspberry Pi, and show you how to write programs for it and observe their execution. In doing so, we will move on from simulating a hypothetical computer to learning about a <span class="No-Break">real computer.</span></p>&#13;
			<p lang="en-GB">A computer <a id="_idIndexMarker000"/>is a <em class="italic">deterministic symbol processing</em> machine. But what does that mean? <em class="italic">Deterministic</em> tells us that a computer always behaves in the same way when operating under the same conditions (that is, programs and inputs). If you use a computer to evaluate <span class="CharOverride-1">√</span><span class="CharOverride-1">2</span>, you will always get the same result, no matter how many times you perform the operation. Not all systems are deterministic – if you toss a coin, the sequence of heads and tails is <span class="No-Break">not predictable.</span></p>&#13;
			<p lang="en-GB">When we say that a <a id="_idIndexMarker001"/>computer is a <em class="italic">symbol processing machine</em>, we mean that it takes in symbols and operates on them to provide new symbols as an output. These symbols are anything that can be represented in digital form: letters, words, numbers, images, sound, and video. Consider a computer that’s playing chess. The input symbols that are received by the program correspond to the moves made by a player. The program operates on the input symbols according to a set of rules and produces an output symbol – the <span class="No-Break">computer’s move.</span></p>&#13;
			<p lang="en-GB">Although we’ve just provided a theoretical definition of a computer, it is important to appreciate that programming involves translating information in the real world into symbols that can be manipulated by a computer – writing a set of rules (that is, a program) that tells the computer how to manipulate the symbols, and then converting the output symbols into a form that is meaningful to a human. The symbols that are processed by a computer have no intrinsic meaning to the computer – a certain pattern of bits (that is, the symbol) might represent a number, a name, a move in a game, and so on. The computer processes these bits to produce a new pattern of bits (that is, an output symbol) that has a meaning only to the programmer <span class="No-Break">or user.</span></p>&#13;
			<p lang="en-GB">We are going to pose a simple problem and then solve it. Our solution will lead us to the concepts of algorithms and computers, and also introduce key concepts such as discrete digital operations, memory and storage, variables, and conditional operations. By doing this, we can determine the types of operations a computer needs to perform to solve a problem. After this, we can ask, “How can we automate this? That is, how can we build <span class="No-Break">a computer?”</span></p>&#13;
			<p lang="en-GB">It’s a trite statement, but once you understand a problem, you’re well on the way to finding a solution. When you first encounter a problem that requires an algorithmic solution, you have to think about what you want to do, rather than how you are going to do it. The worst approach to problem solving is to start writing an algorithm (or even actual computer code) before you have fully explored the problem. Suppose you were asked to design a cruise control system for an automobile. In principle, this is a very simple problem with an equally <span class="No-Break">simple solution:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>IF cruise control on THEN keep speed constant</span>&#13;
<span>                     ELSE read the position of the gas pedal</span></pre>&#13;
			<p lang="en-GB">Couldn’t be simpler, could it? Well, what happens if you’ve selected cruise control and someone pulls out in front of you? You could brake, but this algorithm would attempt to keep the speed constant while you are braking by applying full throttle at the same time. Alternatively, you might suggest that the act of braking should disengage the cruise control mechanism. But is the cruise control to be disengaged permanently, or should the automobile accelerate to its previous speed once the braking action has ceased? You have to think about all the aspects of <span class="No-Break">the problem.</span></p>&#13;
			<p lang="en-GB">Even if you design a correct algorithm, you have to consider the effect erroneous or spurious data will have on your system. One of the most popular criticisms of computers is that they produce meaningless results if you feed them with incorrect data. This idea is summed up <a id="_idIndexMarker002"/>by the expression <strong class="bold">garbage in, garbage out</strong> (<strong class="bold">GIGO</strong>). A well-constructed algorithm should detect and filter out any garbage in the input <span class="No-Break">data stream.</span></p>&#13;
			<p lang="en-GB">In this chapter, we will introduce the <span class="No-Break">following topics:</span></p>&#13;
			<ul>&#13;
				<li lang="en-GB">The finite <span class="No-Break">state machine</span></li>&#13;
				<li lang="en-GB">Solving a <span class="No-Break">problem algorithmically</span></li>&#13;
			</ul>&#13;
			<h1 id="_idParaDest-17" lang="en-GB"><a id="_idTextAnchor017"/>Technical requirements</h1>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">You can find the programs used in this chapter on GitHub <span class="No-Break">at </span><a href="https://github.com/PacktPublishing/Practical-Computer-Architecture-with-Python-and-ARM/tree/main/Chapter01"><span class="No-Break">https://github.com/PacktPublishing/Practical-Computer-Architecture-with-Python-and-ARM/tree/main/Chapter01</span></a><span class="No-Break">.</span></p>&#13;
			<h1 id="_idParaDest-18" lang="en-GB"><a id="_idTextAnchor018"/>The finite state machine</h1>&#13;
			<p lang="en-GB">There are remarkably few fundamental concepts that you need to know about to understand what <a id="_idIndexMarker003"/>a digital computer does and how it operates. One of the most important concepts is discrete, which lies at the heart of both computer operation and <span class="No-Break">computer programs.</span></p>&#13;
			<p lang="en-GB">Computers operate on discrete data elements – that is, elements whose values are chosen from a fixed and finite range of values. We use discrete values in everyday life – for example, the letters of the Roman alphabet that belong to the set {A...Z}. A letter is never between two possible values. It’s the same with the days of the week; you can have one of seven days, but you can’t have a day that is slightly Monday or just a little bit bigger than Wednesday. In the case of computers, the fundamental data element is the bit, which can only have values of 0 or 1, and all its data structures are represented by strings of 1s <span class="No-Break">and 0s.</span></p>&#13;
			<p lang="en-GB">As well as discrete data values, we can have discrete points in time. Imagine that time moves in one direction, from one discrete point to another discrete point. Nothing exists between two discrete points in time. It’s a bit like a digital clock that goes from 12:15:59 to 12:16:00. There’s nothing <span class="No-Break">in between.</span></p>&#13;
			<p lang="en-GB">Now, imagine state space, which is a grandiose term for all the states a system can be in (for example, a plane can be in the climbing, descending, or level flight state). States are a bit like time, except that you can go forward or backward between discrete points in state space. If there are a limited number of possible states, a device that models the transitions between states is called a <strong class="bold">finite state machine</strong> (<strong class="bold">FSM</strong>). An elevator is a finite state machine: it has states (position at the floors, doors open or closed, and so on) and inputs (the elevator call buttons, floor selection buttons, and door open and <span class="No-Break">close buttons).</span></p>&#13;
			<p lang="en-GB">Before we take a <a id="_idIndexMarker004"/>serious look at FSMs, let’s begin with a simple example of how to use FSMs to describe a real system. Consider the TV of yesterday, which is a device with two states: on and off. It is always in one of these two states, and it can move between these states. It is never in a state that is neither on nor off. Modern TVs often have three states – on, <em class="italic">standby</em>, and off– where the standby state provides a fast-on mechanism (that is, part of the electronics is in an active on state, but the display and sound system are powered down). The standby state is often called the sleep state or idle state. We can model discrete states using a diagram. Each state is represented by a labeled circle, as demonstrated in <span class="No-Break"><em class="italic">Figure 1</em></span><span class="No-Break"><em class="italic">.1</em></span><span class="No-Break">:</span></p>&#13;
			<div class="_idGenObjectLayout-1">&#13;
				<div id="_idContainer011" class="IMG---Figure">&#13;
					<img class="_idGenObjectAttribute-1" src="Images/B19624_01_01.jpg" alt="Figure 1.1 – Representing the three states of a television" width="610" height="138"/>&#13;
				</div>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.1 – Representing the three states of a television</p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB"><span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.1</em> shows the three states, but it doesn’t tell us the most important information we need to know: how we move between states. We can do this by drawing lines between states and labeling them with the event that triggers a change of state. <span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.2</em> does this. Please note that we are going to construct an incorrect system first to illustrate some of the concepts <span class="No-Break">concerning FSMs:</span></p>&#13;
			<div class="_idGenObjectLayout-1">&#13;
				<div id="_idContainer012" class="IMG---Figure">&#13;
					<img class="_idGenObjectAttribute-1" src="Images/B19624_01_02.jpg" alt="Figure 1.2 – Representing the states of a television with transitions" width="1650" height="534"/>&#13;
				</div>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.2 – Representing the states of a television with transitions</p>&#13;
			<p lang="en-GB">In <span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.2</em>, we labeled each transition by the event that triggers it; in each case, it’s pressing a button on the remote controller. To go from off to on, you have to first press the standby <a id="_idIndexMarker005"/>button and then the on button. To go between on and standby, you must press the on button or the <span class="No-Break">standby button.</span></p>&#13;
			<p lang="en-GB">We’ve forgotten something – what if you are already in a state and you press the same button? For example, let’s say the TV is on, and you press the on button. Also, what’s the initial state? <span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.3</em> rectifies <span class="No-Break">these omissions.</span></p>&#13;
			<p lang="en-GB"><span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.3</em> has two innovations. There is an arrow to the off state marked <em class="italic">Power on</em>. This line indicates the state the system enters when you first plug it into the electricity supply. The second innovation in <span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.3</em> is that each state has a loop back to itself; for example, if you are in the on state and you press the on button, you remain in <span class="No-Break">that state:</span></p>&#13;
			<div class="_idGenObjectLayout-1">&#13;
				<div id="_idContainer013" class="IMG---Figure">&#13;
					<img class="_idGenObjectAttribute-1" src="Images/B19624_01_03.jpg" alt="Figure 1.3 – The TV control with initialization" width="1301" height="397"/>&#13;
				</div>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.3 – The TV control with initialization</p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">The state diagram shown in <span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.3</em> has both a logical error and an ergonomic error. What happens if you are in the off state and press the on button? If you are in the off state, pressing the on button (in this system) is incorrect because you have to go to standby first. <span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.4</em> corrects this error by dealing with <span class="No-Break">incorrect inputs:</span></p>&#13;
			<div class="_idGenObjectLayout-1">&#13;
				<div id="_idContainer014" class="IMG---Figure">&#13;
					<img class="_idGenObjectAttribute-1" src="Images/B19624_01_04.jpg" alt="Figure 1.4 – The TV control with wrong button correction" width="1769" height="782"/>&#13;
				</div>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.4 – The TV control with wrong button correction</p>&#13;
			<p lang="en-GB"><span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.4</em> now provides correct operations from any state and includes the effect of pressing buttons <a id="_idIndexMarker006"/>that cause no change of state. But we still have the ergonomic error – that is, it’s a correct design that behaves in a way that many would consider poor. The standby state is a convenience that speeds up operations. However, the user does not need to know about this state – it should be invisible to <span class="No-Break">the user.</span></p>&#13;
			<p lang="en-GB"><span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.5</em> demonstrates the final version of the controller. We’ve eliminated a standby button, but not the standby state. When the user presses the on button, the system goes directly to the on state. However, when the user presses off when in the on state, the system goes to the standby state. From the standby state, pressing the on button results in the power on state, while pressing off results in the power off state. Note that the same action (pressing off) can have different effects, depending on the <span class="No-Break">current state:</span></p>&#13;
			<div class="_idGenObjectLayout-1">&#13;
				<div id="_idContainer015" class="IMG---Figure">&#13;
					<img class="_idGenObjectAttribute-1" src="Images/B19624_01_05.jpg" alt="Figure 1.5 – The TV control with a hidden standby state" width="1748" height="538"/>&#13;
				</div>&#13;
			</div>&#13;
			<p class="IMG---Caption">Figure 1.5 – The TV control with a hidden standby state</p>&#13;
			<p lang="en-GB">We’ve labored <a id="_idIndexMarker007"/>with this example because the notion of FSMs is at the heart of all digital systems. All digital systems, apart from the most trivial, move from state to state, depending on the current input and past states. In a digital computer, the change-of-state trigger is the system clock. A modern computer operating at a clock speed of 4 GHz changes state every 0.25 x 10<span class="superscript">-9 </span>s or every 0.25 ns. Light traveling at 300,000 km/s (186,000 mph) moves about 7.5 cm or 3 inches during a <span class="No-Break">clock cycle.</span></p>&#13;
			<h2 id="_idParaDest-19" lang="en-GB"><a id="_idTextAnchor019"/>Traffic lights example</h2>&#13;
			<p lang="en-GB">Let’s look <a id="_idIndexMarker008"/>at a second example of an FSM. A classic example of an FSM is traffic lights at a crossroads. Consider an intersection with traffic moving north-south or east-west. The traffic may move in only one direction at a time. Assume that this is a system with a clock and a change of state is permitted <span class="No-Break">every minute:</span></p>&#13;
			<table id="table001" class="No-Table-Style">&#13;
				<colgroup>&#13;
					<col/>&#13;
					<col/>&#13;
					<col/>&#13;
					<col/>&#13;
					<col/>&#13;
				</colgroup>&#13;
				<thead>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-1">&#13;
							<p class="ParaOverride-1" lang="en-GB"><strong class="bold">Current State of </strong><span class="No-Break"><strong class="bold">the Lights</strong></span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-1">&#13;
							<p class="ParaOverride-1" lang="en-GB"><strong class="bold">Traffic in the </strong><span class="No-Break"><strong class="bold">North-South Direction</strong></span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-1">&#13;
							<p class="ParaOverride-1" lang="en-GB"><strong class="bold">Traffic in the </strong><span class="No-Break"><strong class="bold">East-West Direction</strong></span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-1">&#13;
							<p class="ParaOverride-1" lang="en-GB"><strong class="bold">Action to Be Taken On the </strong><span class="No-Break"><strong class="bold">Next Clock</strong></span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-1">&#13;
							<p class="ParaOverride-1" lang="en-GB"><strong class="bold">Next State of </strong><span class="No-Break"><strong class="bold">the Lights</strong></span></p>&#13;
						</td>&#13;
					</tr>&#13;
				</thead>&#13;
				<tbody>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">North-south</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">None</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">None</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">No traffic, <span class="No-Break">no change</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">North-south</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">North-south</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">None</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">One <span class="No-Break">or more</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p class="ParaOverride-2" lang="en-GB">East-west, <span class="No-Break">forces change</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">East-west</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">North-south</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">One <span class="No-Break">or more</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">None</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p class="ParaOverride-2" lang="en-GB">North-south, <span class="No-Break">no change</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">North-south</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">North-south</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">One <span class="No-Break">or more</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">One <span class="No-Break">or more</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p class="ParaOverride-2" lang="en-GB">East-west, <span class="No-Break">forces change</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">East-west</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">East-west</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">None</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">None</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p class="ParaOverride-2" lang="en-GB">No traffic, <span class="No-Break">no change</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">East-west</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">East-west</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">None</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">One <span class="No-Break">or more</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p class="ParaOverride-2" lang="en-GB">East-west, <span class="No-Break">no change</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">East-west</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">East-west</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">One <span class="No-Break">or more</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">None</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p class="ParaOverride-2" lang="en-GB">North-south, <span class="No-Break">forces change</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">North-south</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">East-west</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">One <span class="No-Break">or more</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">One <span class="No-Break">or more</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p class="ParaOverride-2" lang="en-GB">North-south, <span class="No-Break">forces change</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">North-south</span></p>&#13;
						</td>&#13;
					</tr>&#13;
				</tbody>&#13;
			</table>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Table 1.1 – Traffic lights sequence table</p>&#13;
			<p lang="en-GB">Suppose the <a id="_idIndexMarker009"/>traffic is currently flowing north-south. At the next clock, it may either remain flowing north-south or the lights may change to allow east-west traffic. Similarly, if traffic is flowing east-west, at the next clock, it may either remain flowing east-west or the lights may change to permit <span class="No-Break">north-south traffic.</span></p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">We can use <em class="italic">Table 1.1</em> to describe this system. We have provided the current state of the lights (direction of traffic flow), indicated whether any traffic had been detected in either the north-south or east-west direction, the action to be taken at the next clock, and the next state. The traffic rule is simple: the lights remain in their current state unless there is pending traffic in the <span class="No-Break">other direction.</span></p>&#13;
			<p lang="en-GB">We can now convert this table into the FSM diagram shown in <span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.6</em>. Note that we have made the east-west state the power on state; this is an <span class="No-Break">arbitrary choice:</span></p>&#13;
			<div class="_idGenObjectLayout-1">&#13;
				<div id="_idContainer016" class="IMG---Figure">&#13;
					<img class="_idGenObjectAttribute-1" src="Images/B19624_01_06.jpg" alt="Figure 1.6 – A finite state machine for Table 1.1" width="1772" height="677"/>&#13;
				</div>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.6 – A finite state machine for Table 1.1</p>&#13;
			<p lang="en-GB">What have we learned? The most important point is that a system is, at any instant, in a particular <a id="_idIndexMarker010"/>state and that a transition to another state (or a transition back to the current state) is made according to a defined set of conditions. The FSM has several advantages, both as a teaching tool and a <span class="No-Break">design tool:</span></p>&#13;
			<ul>&#13;
				<li lang="en-GB">It uses a simple intuitive diagram to describe a system with <span class="No-Break">discrete states</span></li>&#13;
				<li lang="en-GB">The state transition diagram (if correct) provides a complete and unambiguous way of describing <span class="No-Break">a system</span></li>&#13;
				<li lang="en-GB">The FSM is also an abstract machine in the sense that it models a real system, but we don’t have to worry about how the FSM is implemented in real hardware <span class="No-Break">or software</span></li>&#13;
				<li lang="en-GB">Any FSM can be implemented either in hardware or software; that is, if you can define a state diagram on paper, you can build the circuit in dedicated hardware or write the program to run on a <span class="No-Break">general-purpose computer</span></li>&#13;
			</ul>&#13;
			<p lang="en-GB">I have included a brief introduction to FSMs because they can be considered a precursor to the digital computer. An FSM is designed to carry out a specific task; this is built into its hardware. A computer has some of the characteristics of an FSM but you can program the transitions <span class="No-Break">between states.</span></p>&#13;
			<h2 id="_idParaDest-20" lang="en-GB"><a id="_idTextAnchor020"/>Solving a simple problem algorithmically</h2>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">Now that we’ve introduced FSMs, we will describe a problem, solve it, and then construct <a id="_idIndexMarker011"/>our computer. A bag contains a mixture of red and white tokens. Suppose that we take a token at a time out of the bag and continue until we have removed three consecutive red tokens. We want to construct an algorithm that tells us to stop removing tokens from the bag when three reds in a row have <span class="No-Break">been detected.</span></p>&#13;
			<p lang="en-GB">Before creating an algorithm, we’ll provide an FSM for <span class="No-Break">this problem:</span></p>&#13;
			<div class="_idGenObjectLayout-1">&#13;
				<div id="_idContainer017" class="IMG---Figure">&#13;
					<img class="_idGenObjectAttribute-1" src="Images/B19624_01_07.jpg" alt="Figure 1.7 – FSM for a three-token detector" width="1165" height="407"/>&#13;
				</div>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.7 – FSM for a three-token detector</p>&#13;
			<p lang="en-GB">As you can see, there are four states. We begin in state S0. Each time a token is received, we move to the next state if it’s red, and back to the initial state if it’s white. Once we’ve reached state S3, the process ends. Now, we’ll perform the same <span class="No-Break">operation algorithmically.</span></p>&#13;
			<p lang="en-GB">If a white token is represented by the symbol W, and a red token by R, a possible sequence of tokens might be RRWRWWWWRWWRRR (the sequence is terminated by the three Rs). An algorithm that tells us when to stop removing tokens can be written in the <span class="No-Break">following form:</span></p>&#13;
			<ul>&#13;
				<li lang="en-GB">Line 1: Get a token from <span class="No-Break">the bag</span></li>&#13;
				<li lang="en-GB">Line 2: If the token is white, then go back to <span class="No-Break">line 1</span></li>&#13;
				<li lang="en-GB">Line 3: Get a token from <span class="No-Break">the bag</span></li>&#13;
				<li lang="en-GB">Line 4: If the token is white, then go back to <span class="No-Break">Line 1</span></li>&#13;
				<li lang="en-GB">Line 5: Get a token from <span class="No-Break">the bag</span></li>&#13;
				<li lang="en-GB">Line 6: If the token is white, then go back to <span class="No-Break">Line 1</span></li>&#13;
				<li lang="en-GB">Line 7: Success – three consecutive red tokens have been taken out of <span class="No-Break">the bag</span></li>&#13;
			</ul>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">As you can see, the algorithm is expressed in plain English. It is read from top to bottom, line by line, and the action specified by each line is carried out before the next line is processed. In this algorithm, each line has a unique name (that is, Line 1, Line 2, and so on). Labeling a line enables us to refer to it; for example, when the algorithm states that we must go <a id="_idIndexMarker012"/>back to Line 1, this means that the next step to be carried out is specified by Line 1, and we continue carrying out actions from Line 1 onward. This algorithm is not entirely satisfactory – we haven’t checked that the bag contains only red and white tokens, and we haven’t dealt with the situation in which we run out of tokens before we locate the sequence we’re looking for. At the moment, we are not concerned with <span class="No-Break">these details.</span></p>&#13;
			<p lang="en-GB">There’s no single solution to this problem – more often than not, lots of algorithms can be constructed to solve a given problem. Let’s derive another algorithm to detect a sequence of three consecutive <span class="No-Break">red tokens:</span></p>&#13;
			<p lang="en-GB">Line 1: Set the total number of consecutive red tokens found so far to 0</p>&#13;
			<p lang="en-GB">Line 2: Get a token from the bag</p>&#13;
			<p lang="en-GB">Line 3: If the token is white, then go back to Line 1</p>&#13;
			<p lang="en-GB">Line 4: Add 1 to the number of consecutive red tokens found so far</p>&#13;
			<p lang="en-GB">Line 5: If the number of consecutive red tokens is less than 3, then go back to Line 2</p>&#13;
			<p lang="en-GB">Line 6: Success – 3 consecutive red tokens have been taken out of the bag</p>&#13;
			<p lang="en-GB">This algorithm is more versatile because it can easily be modified to detect any number of consecutive red tokens simply by changing the value of 3 in Line 5 of <span class="No-Break">the algorithm.</span></p>&#13;
			<p lang="en-GB"><span class="No-Break"><em class="italic">Figure 1</em></span><em class="italic">.8</em> presents this algorithm diagrammatically in the form of a flowchart that shows the sequence of operations that take place when executing an algorithm. Lines with arrowheads indicate the sequence in which operations are carried out. Boxes indicate the actions themselves, and diamonds represent conditional actions. The expression in the diamond is evaluated to yield either “yes” or “no,” and control flows in one direction or another. In general, flowcharts are well suited to depicting simple algorithms, but they are regarded as very unsuitable for complex algorithms. A flowchart for <a id="_idIndexMarker013"/>a complex algorithm looks like a bowl of spaghetti – but without the spaghetti’s inherent clarity <span class="No-Break">and organization.</span></p>&#13;
			<div class="_idGenObjectLayout-1">&#13;
				<div id="_idContainer018" class="IMG---Figure">&#13;
					<img class="_idGenObjectAttribute-1" src="Images/B19624_01_08.jpg" alt="Figure 1.8 – An algorithm represented by a flowchart" width="1060" height="1115"/>&#13;
				</div>&#13;
			</div>&#13;
			<p class="IMG---Caption">Figure 1.8 – An algorithm represented by a flowchart</p>&#13;
			<h2 id="_idParaDest-21" lang="en-GB"><a id="_idTextAnchor021"/>Constructing an algorithm</h2>&#13;
			<p lang="en-GB">The next step <a id="_idIndexMarker014"/>is to provide an <em class="italic">algorithm</em> that tells us how to solve this problem clearly and unambiguously. As we step through the sequence of digits, we will need to keep track of what’s happening, as <em class="italic">Table </em><span class="No-Break"><em class="italic">1.2</em></span><span class="No-Break"> demonstrates:</span></p>&#13;
			<table id="table002" class="No-Table-Style TableOverride-1">&#13;
				<colgroup>&#13;
					<col/>&#13;
					<col/>&#13;
					<col/>&#13;
					<col/>&#13;
					<col/>&#13;
					<col/>&#13;
					<col/>&#13;
					<col/>&#13;
					<col/>&#13;
					<col/>&#13;
					<col/>&#13;
					<col/>&#13;
					<col/>&#13;
					<col/>&#13;
					<col/>&#13;
				</colgroup>&#13;
				<thead>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><strong class="bold">Position </strong><span class="No-Break"><strong class="bold">in sequence</strong></span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><strong class="bold">0</strong></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><strong class="bold">1</strong></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><strong class="bold">2</strong></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><strong class="bold">3</strong></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><strong class="bold">4</strong></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><strong class="bold">5</strong></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><strong class="bold">6</strong></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><strong class="bold">7</strong></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><strong class="bold">8</strong></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><strong class="bold">9</strong></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break"><strong class="bold">10</strong></span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break"><strong class="bold">11</strong></span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break"><strong class="bold">12</strong></span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break"><strong class="bold">13</strong></span></p>&#13;
						</td>&#13;
					</tr>&#13;
				</thead>&#13;
				<tbody>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB"><span class="No-Break">New token</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">R</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">R</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">W</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">R</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">W</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">W</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">W</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">W</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">R</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">W</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">W</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">R</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">R</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">R</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">Is <span class="No-Break">it red?</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">Y</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">Y</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">N</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">Y</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">N</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">N</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">N</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">N</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">Y</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">N</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">N</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">Y</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">Y</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">Y</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">Number <span class="No-Break">of reds</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">1</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">2</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">0</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">1</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">0</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">0</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">0</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">0</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">1</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">0</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">0</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">1</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">2</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p lang="en-GB">3</p>&#13;
						</td>&#13;
					</tr>&#13;
				</tbody>&#13;
			</table>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"> Table 1.2 – A sequence of tokens selected at random</p>&#13;
			<p lang="en-GB"><strong class="bold">Pseudocode</strong> is a term <a id="_idIndexMarker015"/>that’s applied to a method of expressing an algorithm in something that falls between plain English and a formal programming language. The following pseudocode expresses the actions we need to perform. The initialization <a id="_idIndexMarker016"/>operations that we perform once at the beginning are in normal typeface, while the repetitive actions defined by <strong class="source-inline">REPEAT...UNTIL</strong> are in bold. We will look at these operations in detail when we <span class="No-Break">introduce Python:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span><span class="CharOverride-2">1.</span>    <span class="CharOverride-2">Set numRed to 0</span></span>&#13;
<span><span class="CharOverride-2">2.</span>    <span class="CharOverride-2">Set maxRed to 3</span></span>&#13;
<span><span class="CharOverride-2">3.</span>    <strong class="bold">REPEAT</strong></span>&#13;
<span><strong class="bold">4.</strong>        <strong class="bold">Get a token</strong></span>&#13;
<span><strong class="bold">5.</strong>        <strong class="bold">IF its color is red</strong></span>&#13;
<span><strong class="bold">6.</strong>        <strong class="bold">THEN numRed = numRed + 1</strong></span>&#13;
<span><strong class="bold">7.</strong>        <strong class="bold">ELSE numRed = 0</strong></span>&#13;
<span><strong class="bold">8.</strong>    <strong class="bold">UNTIL numRed = maxRed</strong></span></pre>&#13;
			<p lang="en-GB">This pseudocode employs two constructs found in many high-level computer languages: the <strong class="source-inline">REPEAT...UNTIL</strong> construct in lines 3 to 8, and the <strong class="source-inline">IF...THEN...ELSE</strong> construct on lines 5 to 7. <strong class="source-inline">REPEAT...UNTIL</strong> lets you carry out an action one or more times, while <strong class="source-inline">IF...THEN...ELSE</strong> lets you choose between one of two possible courses <span class="No-Break">of action.</span></p>&#13;
			<p lang="en-GB">The <strong class="source-inline">IF...THEN...ELSE</strong> construct is central to the operation of digital computers and you will encounter it many times in <span class="No-Break">this book.</span></p>&#13;
			<p lang="en-GB">The next step is to introduce Python so that we can write a program to implement this algorithm. Then, we can start to look at the computer. The following code shows a Python program and its output when executed. We haven’t introduced Python yet. The purpose of <a id="_idIndexMarker017"/>this program is to demonstrate how close it is to the preceding algorithm and the simplicity <span class="No-Break">of Python:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>Sequence =['W','R','R','W','R','W','W','W','W','R','W','W','R','R','R']</span>&#13;
<span>numRed = 0</span>&#13;
<span>maxRed = 3</span>&#13;
<span>count  = 0</span>&#13;
<span>while numRed != maxRed:</span>&#13;
<span>    token = sequence[count]</span>&#13;
<span>    if token == 'R':</span>&#13;
<span>        numRed = numRed + 1</span>&#13;
<span>    else: numRed = 0</span>&#13;
<span>    print('count', count,'token',token,'numRed',numRed)</span>&#13;
<span>    count = count + 1</span>&#13;
<span>print('Three reds found starting at location', count - 3)</span></pre>&#13;
			<p lang="en-GB">The <strong class="source-inline">while numRed != maxRed:</strong> line means <em class="italic">carry out the block of indented operations, so long as (</em><strong class="source-inline">while</strong><em class="italic">) the value of </em><strong class="source-inline">numRed</strong><em class="italic"> is not equal to </em><strong class="source-inline">maxRed</strong>. The <strong class="source-inline">!=</strong> Python operator means <span class="No-Break"><em class="italic">not equal</em></span><span class="No-Break">.</span></p>&#13;
			<p lang="en-GB">This is the output when the program is executed. It correctly identifies three consecutive reds and indicates the location of the first run in the run <span class="No-Break">of three:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>count  0 token  W numRed 0</span>&#13;
<span>count  1 token  R numRed 1</span>&#13;
<span>count  2 token  R numRed 2</span>&#13;
<span>count  3 token  W numRed 0</span>&#13;
<span>count  4 token  R numRed 1</span>&#13;
<span>count  5 token  W numRed 0</span>&#13;
<span>count  6 token  W numRed 0</span>&#13;
<span>count  7 token  W numRed 0</span>&#13;
<span>count  8 token  W numRed 0</span>&#13;
<span>count  9 token  R numRed 1</span>&#13;
<span>count 10 token  W numRed 0</span>&#13;
<span>count 11 token  W numRed 0</span>&#13;
<span>count 12 token  R numRed 1</span>&#13;
<span>count 13 token  R numRed 2</span>&#13;
<span>count 14 token  R numRed 3</span>&#13;
<span>Three reds found starting at location 12</span></pre>&#13;
			<h1 id="_idParaDest-22" lang="en-GB"><a id="_idTextAnchor022"/>Summary</h1>&#13;
			<p lang="en-GB">In this first chapter, we introduced the concept of a computer via an FSM. A state machine is an abstraction of any system that can exist in one of several states at any instant. State machines are defined in terms of the states and the transitions between states. We introduced state machines as a precursor to digital systems. State machines introduce the notion of discrete states and discrete times. A state machine moves from one state to another at discrete instants in time. This mirrors the action of a program where actions (change of state) take place only when an instruction <span class="No-Break">is executed.</span></p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">State machines can model systems as simple as traffic lights to a game of chess or a computer program. We also introduced the idea of algorithms – that is, a set of rules used to solve a problem. Later in this book, we’ll explain how computers can <span class="No-Break">implement algorithms.</span></p>&#13;
			<p lang="en-GB">In <a href="B19624_02.xhtml#_idTextAnchor023"><span class="No-Break"><em class="italic">Chapter 2</em></span></a>, we’ll provide a brief overview of n. We’ve chosen this language because it has a remarkably shallow learning curve, is very powerful (it does a lot with a few lines of code), is taught in many universities, and is freely available to run on PCs, Macs, and Raspberry <span class="No-Break">Pi systems.</span></p>&#13;
		</div>&#13;
	</div></body></html>