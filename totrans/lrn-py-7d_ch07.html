<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:pls="http://www.w3.org/2005/01/pronunciation-lexicon" xmlns:ssml="http://www.w3.org/2001/10/synthesis">
<head>
  <meta charset="UTF-8"/>
  <title>Function and Scope of Variable</title>
  <link type="text/css" rel="stylesheet" media="all" href="style.css"/>
  <link type="text/css" rel="stylesheet" media="all" href="core.css"/>
</head>
<body>
  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Function and Scope of Variable</h1>
            </header>

            <article>
                
<p>In the previous chapter, we learned about control statements and loops. We learned about various types of control statements such as <kbd>if</kbd> statement, <kbd>if...else</kbd> statement, and&#160;<kbd>if...elif...else</kbd> statement. Next, we saw two main categories of loops, that is, definite and infinite loops. Under definite loops, we saw the working of for loop and we learned about two utility functions that are provided by Python, which can generate a list on-the-fly. They are <kbd>range()</kbd> and <kbd>xrange()</kbd>. Next, we learned about infinite loops, where we saw the working principle of the while loop. Then, we&#160;learned about nested loops along with break and continue statements. In this chapter, we will be covering functions, functions with arguments, functions with arguments and return value, functions with default arguments, functions with variable length arguments, key-value pairs as variable length arguments to the function, and finally we will be discussing on the scope of the variables.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Functions</h1>
            </header>

            <article>
                
<p>The big question arising in the minds of the beginner would be, "What are functions?" and "Why are they necessary in any programming language?"</p>
<p>Functions are nothing but a small programming unit inside a big programming construct that generates a designated output. Let's try to understand with real-world scenario. It's difficult to think of a scenario where&#160;someone may not have access to television. What do you observe inside a normal television? On broader classification, considering a normal viewer, it has three functions:</p>
<ul>
<li>It has a display unit</li>
<li>It has a volume control unit</li>
<li>It has a channel tuning setup embedded inside the electronic circuitry</li>
</ul>
<p>Although modern smart televisions have more complex functions, we will restrict our example to three main functions explained.</p>
<p>The display unit works differently from the other two functional units and its sole purpose is to put up a display to the user. Similarly, the volume control unit has its sole purpose to fine-tune the volume of the television, and, finally, channel tuning has the main function to have different channels loaded in the memory. Functions in programming language also work in a&#160;similar fashion, each has its own purpose defined. Some examples can be <kbd>calculateMonthSalary()</kbd>, <kbd>calculateTotalBill()</kbd>, and so on.</p>
<p>A method is an identical function in terms of name except that it is called on&#160;object and passed on the data, whereas a function is called directly by name and passed on the data to operate. A method is something that belongs to an object or in object-oriented programming class which contains the method. In this chapter, we will study more about functions.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Categories of functions</h1>
            </header>

            <article>
                
<p>Functions in any programming language can fall into two broad categories:</p>
<ul>
<li>Built-in functions</li>
<li>User-defined functions</li>
</ul>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Built-in functions</h1>
            </header>

            <article>
                
<p>They are predefined by programming languages and each serves a specific purpose. While some built-in functions cannot be customized, some can be customized as per the programming guidelines laid down by a specific programming languages. The Python language also comes with a set of built-in functions such as <kbd>len()</kbd>&#160;and&#160;<kbd>cmp()</kbd>. You can get details about built-in functions from the Python documentation.</p>
<div class="packt_tip">The Python documentation can be found at&#160;<a href="https://docs.python.org">https://docs.python.org</a>.</div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">User-defined functions</h1>
            </header>

            <article>
                
<p>They are defined by users as per their programming requirement. Functions can be created or can exist in various forms in any programming language. In this section, we will learn in depth about various ways in which we can create a function.&#160;</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Function definition</h1>
            </header>

            <article>
                
<p>There are some simple rules to define a function in Python. They are as follows:</p>
<ul>
<li>Use the&#160;<kbd>def</kbd> keyword followed by function name with parentheses <kbd>()</kbd></li>
<li>Any argument to the function must be placed within these parentheses <kbd>()</kbd></li>
<li>The code block must start with a colon <kbd>:</kbd></li>
<li>The code within the function must be indented</li>
</ul>
<p>The syntax for this&#160;is as follows:</p>
<pre>def function_name(arguments):<br/>  &lt;statements&gt; <br/> return value
</pre>
<p>This&#160;is the syntax of any function definition in Python. If there are any arguments, they are written inside the parentheses and if the function has any return value that would be the last statement in any function code block or function body. The function code block or function body starts immediately after colon (<kbd>:</kbd>) and ends with return value if there is any return value. In Python, the body of any code block which starts after a colon (<kbd>:</kbd>) must be indented using spaces (preferably) or else with a tab. This eliminates indentation errors, which the interpreter might throw while running the program.</p>
<div class="packt_infobox">More on indentation is available at:<br/>
<a href="https://www.python.org/dev/peps/pep-0008/#tabs-or-spaces">https://www.python.org/dev/peps/pep-0008/#tabs-or-spaces</a>.</div>
<p>Next, we will see how to call a function in a program.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Calling a function</h1>
            </header>

            <article>
                
<p>You might be wondering what is <em>calling a function</em>. Now, let's suppose you wrote some business logic about washing instructions to be embedded inside an automatic washing machine. Let's say you want to time sequence for rinsing of clothes immediately after wash. In programming language, you don't want to get lost writing a big chunk&#160;of program, so, in order to make things easy, you write your business logic inside a function. This function has to be called when you want that particular sequence to be timed right after the washing sequence finishes. There you pass the execution of instruction to the function written for timing of sequence. This is achieved by calling the function at an appropriate time.</p>
<p>Syntax block of code is:</p>
<pre>function_name(arguments)
</pre>
<p><span>A function can be called within a programming construct similar&#160;to the built-in function. Use the name of the function followed by a set of parentheses. A function can be called any number of times within the same programming file, or another, or can be called within another function. Yes you got it right: a function can call another function.&#160;</span><span>Let's learn from an example:</span></p>
<pre><span class="syntex">def </span>helloWorld(): <br/>   """ This is Hello World Program""" <br/>   <span class="syntex">print</span> "You are in Hello World" <br/><br/>helloWorld()
</pre>
<p class="code_body">Here, we define the&#160;<kbd>helloWorld()</kbd> function and we give a body, which has a comment and a print statement. Finally, we simply call the function by merely typing the name of the function followed by parentheses. When the program is run, we get the output as shown here:</p>
<div class="code_body CDPAlignCenter CDPAlign"><img class="image-border" src="images/image1-2.jpg"/></div>
<p>There are various ways in which a function can be written or exists in any programming language. We will discuss various ways in which a function can be formed in Python.&#160;</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Function with arguments</h1>
            </header>

            <article>
                
<p class="code_body">So far we saw a function which had no arguments, now we will learn about functions with arguments. A function can contain any number of arguments depending on the business requirement. Let's try to understand with an example:</p>
<pre><span class="syntex">def </span><span>func(passArgument): </span><br/><span>   </span><span class="syntex">print</span><span> passArgument </span><br/><span>str = "hello all" </span><br/><span>func(str)</span>
</pre>
<p class="code_body">In the preceding example, the&#160;<kbd>func</kbd>&#160;function accepts one argument which has a data type string. We create a variable <kbd>str</kbd> with a certain string statement assigned and then we call the&#160;<kbd>func</kbd> function and thereby pass the value of <kbd>str</kbd>. Finally, the output will look something like this:</p>
<div class="code_body CDPAlignCenter CDPAlign"><img class="image-border" src="images/image2-4.jpg"/></div>
<p class="code_body">In the preceding example, what will happen if we do not pass any argument to the function?</p>
<pre><span class="syntex">def </span><span>func(passArgument): </span><br/><span>   </span><span class="syntex">print</span><span> passArgument </span><br/><span>str = "hello all" </span><br/><span>func()</span>
</pre>
<p class="code_body">It will simply throw a <kbd>TypeError</kbd>&#160;as shown in the following screenshot:</p>
<div class="code_body CDPAlignCenter CDPAlign"><img class="image-border" src="images/image3-4.jpg"/></div>
<p class="code_body">Hence, it becomes mandatory to pass an argument to the function during function calling after the function has been defined to accept arguments.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Function with an argument and return type</h1>
            </header>

            <article>
                
<p class="code_body">Sometimes, it may be necessary to return any specific datatype or value from a function which takes any arbitrary number of arguments. Let's evaluate this scenario with an example:</p>
<pre><span class="syntex">def </span><span>sum(a, b): </span><br/><span>   c = a+b </span><br/><span>   </span><span class="syntex">return</span><span> c</span><br/><span>x = 10 </span><br/><span>y = 50 </span><br/><span class="syntex">print </span><span>"Result of addition ", sum(x,y)</span>
</pre>
<p class="code_body">Here, we define the function, which accepts two arguments and the body evaluates their sum with return type as value of the sum, which is denoted by the&#160;<kbd>return c</kbd>&#160;statement. We then call the function in the print statement and pass the value of variable <kbd>x</kbd> and variable <kbd>y</kbd>. This will give us the output as shown next:</p>
<div class="code_body CDPAlignCenter CDPAlign"><img class="image-border" src="images/image4-3.jpg"/></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Function with default argument</h1>
            </header>

            <article>
                
<p class="code_body">Sometimes you will be presented with a condition where there has to be some value assigned to the argument, which will be called as the default argument. Let's try to understand with real-life scenario. Most of us fill in&#160;certain forms for job application online. Now, in the form, there is a section for gender selection. In this case, programmers have inserted a default value as female. By default your sex will be set to female if you do not specifically change this value. Same is the case with the function with default arguments. Let's try to understand this with a small code example:</p>
<pre><span class="syntex">def </span><span>info(name, age=50): </span><br/><span>   </span><span class="syntex">print </span><span>"Name", name </span><br/><span>   </span><span class="syntex">print </span><span>"age", age </span><br/><span>info("John", age=28) </span><br/><span>info("James")</span> 
</pre>
<p class="code_body">Here, the&#160;<kbd>info</kbd> function takes two arguments <kbd>name</kbd> and <kbd>age</kbd>. The <kbd>age</kbd> is the argument with the default value <kbd>50</kbd>. In this case, during the calling of the&#160;<kbd>info</kbd> function, if <kbd>age</kbd> is not provided, then the function will set the value of <kbd>age</kbd> as <kbd>50</kbd>. We have called the&#160;<kbd>info</kbd> function twice. In the first call, we pass the value of <kbd>"John"</kbd> and <kbd>age</kbd> as <kbd>28</kbd>, while in the second call, we just pass the value of <kbd>name</kbd> as <kbd>"James"</kbd>. We will get output as shown here:</p>
<div class="code_body CDPAlignCenter CDPAlign"><img height="256" width="500" class="image-border" src="images/image5-4.jpg"/></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Function with variable length argument</h1>
            </header>

            <article>
                
<p class="code_body">There might be a scenario where you need to pass more arguments than specified during the function definition. In this case, variable length arguments can be passed:</p>
<div class="code_body"><strong>Syntax</strong></div>
<pre>def  function_name(arg, *var):<br/>       code block<br/>  return
</pre>
<p class="code_body">Here,&#160;<kbd>arg</kbd> means normal argument which is passed to the function. The <kbd>*var</kbd> refers to the variable length argument. This is will be more clear through the example:</p>
<pre>def variable_argument( var1, *vari): <br/> print "Out-put is",var1 <br/> for var in vari:<br/> print var<br/>variable_argument(60) <br/>variable_argument(100,90,40,50,60)
</pre>
<p class="code_body">In this case, we define a function which takes two arguments, where the second argument is the variable length argument. When we call the function for the first time, we pass only <kbd>60</kbd> as the value to the argument and the function takes it as the first argument. During our second call to the function, we pass five numbers, so the function takes them as variable length argument. Depending on the nature of arguments passed, the function either considers the first argument or the variable length argument. Finally, we could see a different output based on our passing of different values as shown here:</p>
<div class="code_body CDPAlignCenter CDPAlign"><img class="image-border" src="images/image6-3.jpg"/></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Key-value pair as variable length argument</h1>
            </header>

            <article>
                
<p>Under certain circumstances, there might be a situation, where the key-value pair needs to be passed as the variable length argument to the function. Let's take one example here. In the given example, the key-value pairs are passed as variable length arguments:&#160;</p>
<pre>def infocity(**var):<br/> print var<br/> for key, value in var.items():<br/> print "%s == %s" %(key,value)<br/><br/><br/>infocity(name="l4w", age = 20, city="Los Angeles")<br/>infocity(name="John",age=45, city="London", sex="male", medals=0)
</pre>
<p class="code_body">Using a for loop we print out each key-value pair that is&#160;passed to the function. On the first call, we pass only few key-value pairs, while in the second call to the function, we pass a bit more key-value pairs and we get the output as shown here:</p>
<div class="code_body CDPAlignCenter CDPAlign"><img class="image-border" src="images/image7-3.jpg"/></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Pass by reference versus pass by value</h1>
            </header>

            <article>
                
<p class="code_body"><strong>Pass by reference</strong> is the term used in some programming languages, where values to the argument of the function are passed by reference, that is, the address of the variable is passed and then the operation is done on the value stored at these addresses.&#160;</p>
<p class="code_body"><strong>Pass by value</strong> means that the value is directly passed as the value to the argument of the function. In this case, the operation is done on the value and then the value is stored at the address.</p>
<p class="code_body">In Python arguments, the values are passed by reference.&#160;During the function call, the called function<span>&#160;uses the value stored at the address passed to it and any changes to it also affect the source variable:</span></p>
<pre>def pass_ref(list1): <br/> list1.extend([23,89]) <br/> print "list inside the function: ",list1 <br/>list1 = [12,67,90] <br/>print "list before pass", list1<br/>pass_ref(list1) <br/>print "list outside the function", list1
</pre>
<p class="code_body">Here, in the function definition, we pass the list to the&#160;<kbd>pass_ref</kbd> function and then we extend the list to add two more numbers to the list and then print its value. The list extends inside the function, but the change is also reflected back in the calling function. We finally get the output by printing out different representations of the list:</p>
<div class="code_body CDPAlignCenter CDPAlign"><img class="image-border" src="images/image8-2.jpg"/></div>
<p class="code_body">Let's&#160;look at another scenario:</p>
<pre>def func(a): <br/> a=a+4 <br/> print "Inside the function", a <br/>a= 10 <br/>func(a) <br/>print "Outside the function", a
</pre>
<p class="code_body"><span>The preceding example might make&#160;you think it is called by value, as the change happening inside the Python function does not get reflected back in the calling function. It is still a pass by reference, as, in this situation inside the function, we&#160;made new assignment, that is,&#160;<kbd>a= a+4</kbd>. Although you might think&#160;that <kbd>a = a + 4</kbd> is changing the number stored in <kbd>a</kbd>, but it is actually reassigning a to point to a new value:</span></p>
<div class="code_body CDPAlignCenter CDPAlign"><img class="image-border" src="images/image9-3.jpg"/></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Scope of variables</h1>
            </header>

            <article>
                
<p>This could be an intriguing topic for you&#160;<span>to understand for the first time. But it is actually a very simple topic. Let's try to understand this with a real-life situation. You might be aware of two types of airlines: domestic and international carriers. The scope of domestic carriers will be restricted to a particular country's operation only, while an international carrier has the scope to operate on an international border. Same is the case with variables. The scope on the broader aspect defines the access level for specific variable.&#160;</span><span>There are two basic scopes of variables in Python:</span></p>
<ul>
<li>Local variables</li>
<li>Global variables</li>
</ul>
<p><span>A local variable is defined inside the Python function. Local variables are only accessible within their local scope. A g</span><span>lobal variable is defined outside the Python function. Global variables are only accessible throughout the program:</span></p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image11-4.jpg"/></div>
<p>Here, the variable <kbd>k</kbd> with value <kbd>4</kbd> is an example of a global variable, while the&#160;<kbd>list1</kbd> variable is an example of a local variable. The area marked in green inside the&#160;<kbd>main()</kbd> function shows the scope of the&#160;<kbd>list1</kbd>&#160;variable, while the area marked in yellow shows the scope within the&#160;<kbd>add()</kbd> function, and this scope is valid until&#160;the end of the&#160;<kbd>add()</kbd>&#160;function.&#160;</p>
<p><span>The succeeding example will explain both these types of variables:</span></p>
<pre>def func(): <br/> a =12 <br/> print '''Inside the function the value of <br/> a is acting as local variable''', a <br/>a= 10 <br/>func() <br/>print '''Outside function the value of a is <br/> acting as global variable''',a
</pre>
<p><span>Variable</span> a <span>is a global variable; its value remains the same outside the function compared to the value inside the function, where it is acting as a local variable:</span></p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image10-3.jpg"/></div>
<p>Let's analyze another situation:</p>
<pre>def func(): <br/> a =12 <br/> print "a inside the function is the local variable",a <br/>func() <br/>print "Trying to access the local variable outside the function.",a
</pre>
<p>Here we have declared variable a whose scope is local to the&#160;<kbd>func()</kbd>&#160;function. As we try to access the local variable, the interpreter does not support us on this and will tell you something as shown next:</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="images/image11-3.jpg"/></div>
<p>But this situation can be overcome using the&#160;<kbd>global</kbd> keyword, as we will use in our next example:</p>
<pre>def func(): <br/>    global k <br/>    k=k+7 <br/>    print "variable k is now global",k <br/>k=10<br/>func()<br/>print "Accessing the value of k outside the function",k
</pre>
<p>In this case, we declare the&#160;<kbd>k</kbd> variable as global using the&#160;<kbd>global</kbd> keyword inside the function. We can now access it from anywhere. The&#160;<kbd>global</kbd> keyword tells the interpreter that the variable is global and it should stop searching across all the functions or local scopes.</p>
<p><img class="image-border" src="images/image12-2.jpg"/></p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Memory management</h1>
            </header>

            <article>
                
<div class="code_body">
<p class="fb-like fb_iframe_widget">This is quite a fascinating topic and is also a big pain for any programmer who has to deal with memory-related issues such as memory leakage issues. However, since it is a big topic which needs to be covered at the intermediate stage, we will try to explain the very basics of the topic. In the earlier days, memory management used to be handled manually by all the programmers. Who could better understand manual memory management than C/C++ language programmers. New and modern programming languages such as Java and others&#160;are coming loaded with more advanced memory management mechanism, so programmers have to worry less in this area as every issue is taken care by the language garbage collection facility. We have already covered what is local scope and what is global scope are.<span>&#160;Local scope of the function, contains parameters and variables. The complete local scope must be stored somewhere in the RAM of the computer. Language&#160;divides the RAM into two parts called run-time stack and the heap.&#160;</span>Memory is divided into two parts in any programming language:</p>
<ul>
<li class="fb-like fb_iframe_widget">Stack or run-time stack</li>
<li class="fb-like fb_iframe_widget">Heap</li>
</ul>
<p class="fb-like fb_iframe_widget"><span>The heap is a specific area of RAM where all values (objects) are stored. The run-time stack never contains the object. The run-time stack store only references pointing toward the values stored in the heap. Let's try to understand with an example:</span></p>
<div class="fb-like fb_iframe_widget">
<pre>line 1 :k = 4<br/>line 2 :def main():<br/>line 3 :  list1 = []<br/>line 4 : def add():<br/>line 5 :      for x in xrange(k):<br/>line 6 :         list1.append(x)<br/>line 7 :     print list1<br/>line 8 :   add()<br/>line 9: main()
</pre>
</div>
</div>
<p class="fb-like fb_iframe_widget CDPAlignLeft CDPAlign"><span>During execution of&#160;lines 5, 6, and 7&#160;of the code, the run-time stack looks as shown in the next&#160;figure. There are three activation records present on run-time stack. The interpreter first puts the</span> <strong>module Activation Record</strong><span>. While executing the module, the interpreter goes from&#160;top to bottom and places the variable definition of the module scope into the activation record of the module. The activation record of the module consists of the reference</span> <strong>k</strong> <span>to the value <strong>4</strong>.</span></p>
<div class="fb-like fb_iframe_widget CDPAlignCenter CDPAlign"><img height="295" width="495" class="image-border" src="images/Stackheap.jpg"/></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>


  <div id="sbo-rt-content"><section>

            <header>
                <h1 class="header-title">Summary</h1>
            </header>

            <article>
                
<p class="fb-like fb_iframe_widget">In this chapter, we learned about functions and how to define a function. Then we discussed various types of functions such as built-in and user-defined functions. We saw various examples of user-defined functions, where we explained functions with no arguments and no return type, functions with arguments, functions with arguments and return type, functions with default arguments, and functions with variable length arguments. We also learned about key-value pairs being passed as a variable length argument to the function. We came across the scope of the variable and, finally, we examined&#160;the basic concepts of memory management where we learned&#160;about two types of memory, namely, stack and heap.</p>
<p class="fb-like fb_iframe_widget">In the next chapter we will learn about quite an interesting topic: collections.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </div>
</body>
</html>