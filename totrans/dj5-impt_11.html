<html><head></head><body>
		<div><h1 id="_idParaDest-211" class="chapter-number"><a id="_idTextAnchor217"/><st c="0">11</st></h1>
			<h1 id="_idParaDest-212"><a id="_idTextAnchor218"/><st c="3">Implementing Order and Item Models</st></h1>
			<p><st c="38">In the previous chapter, we implemented the shopping cart system and allowed users to add movies to the cart. </st><st c="149">To enable users to purchase movies, we need to store additional information in the database, specifically to store order and item information. </st><st c="292">In this chapter, we will implement the order and item models and establish a connection </st><st c="380">between them.</st></p>
			<p><st c="393">In this chapter, we will be covering the </st><st c="435">following topics:</st></p>
			<ul>
				<li><st c="452">Analyzing </st><st c="463">store invoices</st></li>
				<li><st c="477">Creating the </st><st c="491">order model</st></li>
				<li><st c="502">Creating the </st><st c="516">item model</st></li>
				<li><st c="526">Recapping the Movies Store </st><st c="554">class diagram</st></li>
			</ul>
			<p><st c="567">By the end of the chapter, we will have the complete structure for storing purchase information. </st><st c="665">Additionally, we will recap the class diagram and examine the relationship between the Django models and the classes in the </st><st c="789">class diagram.</st></p>
			<h1 id="_idParaDest-213"><a id="_idTextAnchor219"/><st c="803">Technical requirements</st></h1>
			<p><st c="826">In this chapter, we will be using </st><strong class="bold"><st c="861">Python 3.10+</st></strong><st c="873">. Additionally, we will be using the </st><strong class="bold"><st c="910">VS Code</st></strong><st c="917"> editor in this book, which you can download </st><st c="962">from </st><a href="https://code.visualstudio.com/"><st c="967">https://code.visualstudio.com/</st></a><st c="997">.</st></p>
			<p><st c="998">The code for this chapter is located </st><st c="1036">at </st><a href="https://github.com/PacktPublishing/Django-5-for-the-Impatient-Second-Edition/tree/main/Chapter11/moviesstore"><st c="1039">https://github.com/PacktPublishing/Django-5-for-the-Impatient-Second-Edition/tree/main/Chapter11/moviesstore</st></a><st c="1147">.</st></p>
			<p><st c="1148">The CiA video for this chapter can be found </st><st c="1193">at </st><a href="https://packt.link/eQzNG"><st c="1196">https://packt.link/eQzNG</st></a></p>
			<h1 id="_idParaDest-214"><a id="_idTextAnchor220"/><st c="1220">Analyzing store invoices</st></h1>
			<p><st c="1245">If you purchase something in a </st><a id="_idIndexMarker384"/><st c="1277">modern store, it is almost certain that you will receive an invoice. </st><st c="1346">Different stores manage invoices with varying information, but in most cases, you will find the same essential information. </st><em class="italic"><st c="1470">Figure 11</st></em><em class="italic"><st c="1479">.1</st></em><st c="1481"> shows a simple invoice. </st><st c="1506">We will use this as a blueprint to design and implement the Django models that we will use to store the </st><st c="1610">purchase information.</st></p>
			<div><div><img src="img/B22457_11_1.jpg" alt="Figure 11.1 – Example of a simple invoice"/><st c="1631"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="1768">Figure 11.1 – Example of a simple invoice</st></p>
			<p><st c="1809">Let’s analyze the invoice shown in </st><em class="italic"><st c="1845">Figure 11</st></em><em class="italic"><st c="1854">.1</st></em><st c="1856"> to understand the kind of information we need to store for purchase (based on orders </st><st c="1942">and items).</st></p>
			<p><st c="1953">We must store the following information for </st><st c="1998">the order:</st></p>
			<ul>
				<li><strong class="bold"><st c="2008">ID</st></strong><st c="2011">: To uniquely identify each order. </st><st c="2047">In the previous figure, it is represented </st><st c="2089">by </st><strong class="bold"><st c="2092">#1</st></strong><st c="2094">.</st></li>
				<li><strong class="bold"><st c="2095">Date</st></strong><st c="2100">: To identify the date on which the order was completed. </st><st c="2158">In the previous figure, it is represented </st><st c="2200">by </st><strong class="bold"><st c="2203">2024-04-22</st></strong><st c="2213">.</st></li>
				<li><strong class="bold"><st c="2214">Total</st></strong><st c="2220">: To identify the total amount of the order. </st><st c="2266">In the previous figure, it is represented </st><st c="2308">by </st><strong class="bold"><st c="2311">$50</st></strong><st c="2314">.</st></li>
				<li><strong class="bold"><st c="2315">User</st></strong><st c="2320">: To identify the user who made the purchase. </st><st c="2367">In the previous figure, it is represented by </st><strong class="bold"><st c="2412">1 - </st></strong><strong class="bold"><st c="2416">daniel</st></strong><st c="2422">.</st></li>
			</ul>
			<p><st c="2423">An order is composed of items, represented as the internal table in </st><em class="italic"><st c="2492">Figure 11</st></em><em class="italic"><st c="2501">.1</st></em><st c="2503">. We must store the following information for </st><st c="2549">each item:</st></p>
			<ul>
				<li><strong class="bold"><st c="2559">ID</st></strong><st c="2562">: To uniquely identify each item. </st><st c="2597">In the previous figure, the ID of the first item is represented </st><st c="2661">by </st><strong class="bold"><st c="2664">1</st></strong><st c="2665">.</st></li>
				<li><strong class="bold"><st c="2666">Quantity</st></strong><st c="2675">: To specify the quantity of the movie the user wants to purchase. </st><st c="2743">In the previous example, the quantity of the first item is represented </st><st c="2814">by </st><strong class="bold"><st c="2817">2</st></strong><st c="2818">.</st></li>
				<li><strong class="bold"><st c="2819">Price</st></strong><st c="2825">: To specify the</st><a id="_idIndexMarker385"/><st c="2842"> price of the movie at which the user purchased the item. </st><st c="2900">In the previous example, the price of the first item is represented </st><st c="2968">by </st><strong class="bold"><st c="2971">12</st></strong><st c="2973">.</st></li>
				<li><strong class="bold"><st c="2974">Movie</st></strong><st c="2980">: To specify the movie to which the item is linked. </st><st c="3033">In the previous example, the linked movie of the first item is represented by </st><strong class="bold"><st c="3111">1 - </st></strong><strong class="bold"><st c="3115">Inception</st></strong><st c="3124">.</st></li>
				<li><strong class="bold"><st c="3125">Order</st></strong><st c="3131">: To specify the order to which the item is linked. </st><st c="3184">In the previous example, the linked order of the first item is represented </st><st c="3259">by </st><strong class="bold"><st c="3262">#1</st></strong><st c="3264">.</st></li>
			</ul>
			<p><st c="3265">Now that we have grasped the functioning of these simple invoices, let’s proceed to create the </st><st c="3361">appropriate models.</st></p>
			<h1 id="_idParaDest-215"><a id="_idTextAnchor221"/><st c="3380">Creating the order model</st></h1>
			<p><st c="3405">To store the purchase information, we </st><a id="_idIndexMarker386"/><st c="3444">need to start by creating an Order Django model. </st><st c="3493">The following are the three steps for storing the </st><st c="3543">purchase information:</st></p>
			<ol>
				<li><st c="3564">Create the </st><st c="3576">Order model.</st></li>
				<li><st c="3588">Apply migrations.</st></li>
				<li><st c="3606">Add the order model to the </st><st c="3634">admin panel.</st></li>
			</ol>
			<p><st c="3646">Let’s go through them </st><st c="3669">in detail.</st></p>
			<h2 id="_idParaDest-216"><a id="_idTextAnchor222"/><st c="3679">Creating the Order model</st></h2>
			<p><st c="3704">We will start creating the Order</st><a id="_idIndexMarker387"/><st c="3737"> model. </st><st c="3745">We will create this model inside the </st><st c="3782">cart app.</st></p>
			<p><st c="3791">In </st><code><st c="3795">/cart/models.py</st></code><st c="3810"> file, add the following </st><st c="3835">in </st><em class="italic"><st c="3838">bold</st></em><st c="3842">:</st></p>
			<pre class="source-code"><st c="3844">
from django.db import models
</st><strong class="bold"><st c="3874">from django.contrib.auth.models import User</st></strong>
<strong class="bold"><st c="3917">class Order(models.Model):</st></strong>
<strong class="bold"><st c="3944">    id = models.AutoField(primary_key=True)</st></strong>
<strong class="bold"><st c="3984">    total = models.IntegerField()</st></strong>
<strong class="bold"><st c="4014">    date = models.DateTimeField(auto_now_add=True)</st></strong>
<strong class="bold"><st c="4061">    user = models.ForeignKey(User,</st></strong>
<strong class="bold"><st c="4092">        on_delete=models.CASCADE)</st></strong>
<strong class="bold"><st c="4118">    def __str__(self):</st></strong>
<strong class="bold"><st c="4137">        return str(self.id) + ' - ' + self.user.username</st></strong></pre>			<p><st c="4186">Let’s explain the </st><st c="4205">previous code:</st></p>
			<ul>
				<li><st c="4219">We import the </st><code><st c="4234">User</st></code><st c="4238"> model from Django’s </st><code><st c="4259">django.contrib.auth.models</st></code><st c="4285"> module.</st></li>
				<li><st c="4293">We define a Python class named </st><code><st c="4325">Order</st></code><st c="4330">, which inherits from </st><code><st c="4352">models.Model</st></code><st c="4364">. This means that </st><code><st c="4382">Order</st></code><st c="4387"> is a Django </st><st c="4400">model class.</st></li>
				<li><st c="4412">Inside the </st><code><st c="4424">Order</st></code><st c="4429"> class, we define </st><st c="4447">several fields:</st><ul><li><code><st c="4462">id</st></code><st c="4465">: This is an </st><code><st c="4479">AutoField</st></code><st c="4488">, which automatically increments its value for each new record added to the database. </st><st c="4574">The </st><code><st c="4578">primary_key=True</st></code><st c="4594"> parameter specifies that this field is the primary key for the table, uniquely identifying </st><st c="4686">each record.</st></li><li><code><st c="4698">total</st></code><st c="4704">: This is a </st><code><st c="4717">IntegerField</st></code><st c="4729">, which represents the total amount of the order. </st><st c="4779">It stores </st><st c="4789">integer values.</st></li><li><code><st c="4804">date</st></code><st c="4809">: This is a </st><code><st c="4822">DateTimeField</st></code><st c="4835"> , which represents the date and time when the order was created. </st><code><st c="4900">auto_now_add=True</st></code><st c="4917"> ensures that the date and time are automatically set to the current date and time when the order </st><st c="5015">is created.</st></li><li><code><st c="5026">user</st></code><st c="5031">: This is a foreign key relationship to the </st><code><st c="5076">User</st></code><st c="5080"> model, which establishes a many-to-one relationship between orders and users. </st><st c="5159">It means that each order is associated with a single user, and each user can have multiple orders. </st><code><st c="5258">on_delete=models.CASCADE</st></code><st c="5282"> specifies that if the related user is deleted, the associated orders will also </st><st c="5362">be deleted.</st></li></ul></li>
				<li><code><st c="5373">__str__</st></code><st c="5381"> is a method that</st><a id="_idIndexMarker388"/><st c="5398"> returns a string representation of the order. </st><st c="5445">In this case, it returns a string composed of the order ID and the username of the user who placed </st><st c="5544">the order.</st></li>
			</ul>
			<h2 id="_idParaDest-217"><a id="_idTextAnchor223"/><st c="5554">Applying migrations</st></h2>
			<p><st c="5574">Now that we have </st><a id="_idIndexMarker389"/><st c="5592">created the </st><code><st c="5604">Order</st></code><st c="5609"> model, let’s update our database by running one of the following commands, depending on your </st><st c="5703">operating system:</st></p>
			<ul>
				<li><st c="5720">For macOS, </st><st c="5732">run this:</st><pre class="source-code">
<strong class="bold"><st c="5741">python3 manage.py makemigrations</st></strong>
<strong class="bold"><st c="5774">python3 manage.py migrate</st></strong></pre></li>				<li><st c="5800">For Windows, </st><st c="5814">run this:</st><pre class="source-code">
<strong class="bold"><st c="5823">python manage.py makemigrations</st></strong>
<strong class="bold"><st c="5855">python manage.py migrate</st></strong></pre></li>			</ul>
			<p><st c="5880">Now, you should see something </st><st c="5911">like this:</st></p>
			<div><div><img src="img/B22457_11_2.jpg" alt="Figure 11.2 – Applying the order migration"/><st c="5921"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="6015">Figure 11.2 – Applying the order migration</st></p>
			<h2 id="_idParaDest-218"><a id="_idTextAnchor224"/><st c="6057">Adding the order model to the admin panel</st></h2>
			<p><st c="6099">To add the </st><a id="_idIndexMarker390"/><code><st c="6111">Order</st></code><st c="6116"> model to admin, go to </st><code><st c="6139">/cart/admin.py</st></code><st c="6153"> and register it by adding</st><a id="_idIndexMarker391"/><st c="6179"> the following </st><st c="6194">in </st><em class="italic"><st c="6197">bold</st></em><st c="6201">:</st></p>
			<pre class="source-code"><st c="6203">
from django.contrib import admin
</st><strong class="bold"><st c="6237">from .models import Order</st></strong>
<code><st c="6363">/admin</st></code><st c="6369">. The order model will now appear (as shown in </st><em class="italic"><st c="6416">Figure 11</st></em><em class="italic"><st c="6425">.3</st></em><st c="6427">):</st></p>
			<div><div><img src="img/B22457_11_3.jpg" alt="Figure 11.3 – Admin page with orders available"/><st c="6430"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="6824">Figure 11.3 – Admin page with orders available</st></p>
			<p><st c="6870">Now that we have created and applied our </st><code><st c="6912">Order</st></code><st c="6917"> model, let’s create the </st><code><st c="6942">Item</st></code><st c="6946"> model to complete the information </st><a id="_idIndexMarker392"/><st c="6981">required to </st><st c="6993">store purchases.</st></p>
			<h1 id="_idParaDest-219"><a id="_idTextAnchor225"/><st c="7009">Creating the Item model</st></h1>
			<p><st c="7033">Let’s continue by</st><a id="_idIndexMarker393"/><st c="7051"> creating an </st><code><st c="7064">Item</st></code><st c="7068"> model and follow </st><st c="7086">these steps:</st></p>
			<ol>
				<li><st c="7098">Create the </st><st c="7110">Item model.</st></li>
				<li><st c="7121">Apply migrations.</st></li>
				<li><st c="7139">Add the item model to the </st><st c="7166">admin panel.</st></li>
			</ol>
			<h2 id="_idParaDest-220"><a id="_idTextAnchor226"/><st c="7178">Creating the Item model</st></h2>
			<p><st c="7202">In </st><code><st c="7206">/cart/models.py</st></code><st c="7221"> file, add the following </st><st c="7246">in </st><em class="italic"><st c="7249">bold</st></em><st c="7253">:</st></p>
			<pre class="source-code"><st c="7255">
from django.db import models
from django.contrib.auth.models import User
</st><strong class="bold"><st c="7329">from movies.models import Movie</st></strong><st c="7360">
class Order(models.Model):
    …
</st><strong class="bold"><st c="7390">class Item(models.Model):</st></strong>
<strong class="bold"/><strong class="bold"><st c="7415">id = models.AutoField(primary_key=True)</st></strong>
<strong class="bold"><st c="7455">    price = models.IntegerField()</st></strong>
<strong class="bold"><st c="7485">    quantity = models.IntegerField()</st></strong>
<strong class="bold"><st c="7518">    order = models.ForeignKey(Order,</st></strong>
<strong class="bold"><st c="7551">        on_delete=models.CASCADE)</st></strong>
<strong class="bold"><st c="7577">    movie = models.ForeignKey(Movie,</st></strong>
<strong class="bold"><st c="7610">        on_delete=models.CASCADE)</st></strong>
<strong class="bold"><st c="7636">    def __str__(self):</st></strong>
<strong class="bold"><st c="7655">        return str(self.id) + ' - ' + self.movie.name</st></strong></pre>			<p><st c="7701">Let’s explain the </st><st c="7720">previous code:</st></p>
			<ul>
				<li><st c="7734">We import the </st><code><st c="7749">Movie</st></code><st c="7754"> model from the </st><code><st c="7770">movies</st></code><st c="7776"> app.</st></li>
				<li><st c="7781">We define a Python class named </st><code><st c="7813">Item</st></code><st c="7817">, which inherits from </st><code><st c="7839">models.Model</st></code><st c="7851">. This means that </st><code><st c="7869">Item</st></code><st c="7873"> is a Django </st><st c="7886">model class.</st></li>
				<li><st c="7898">Inside the </st><code><st c="7910">Item</st></code><st c="7914"> class, we </st><a id="_idIndexMarker394"/><st c="7925">define </st><st c="7932">several fields:</st><ul><li><code><st c="7947">id</st></code><st c="7950">: This is an </st><code><st c="7964">AutoField</st></code><st c="7973">, which automatically increments its value for each new record added to the database. </st><st c="8059">The </st><code><st c="8063">primary_key=True</st></code><st c="8079"> parameter specifies that this field is the primary key for the table, uniquely identifying </st><st c="8171">each record.</st></li><li><code><st c="8183">price</st></code><st c="8189">: This is an </st><code><st c="8203">IntegerField</st></code><st c="8215">, which represents the price at which the item </st><st c="8262">was purchased.</st></li><li><code><st c="8276">quantity</st></code><st c="8285">: This is an </st><code><st c="8299">IntegerField</st></code><st c="8311">, which represents the desired quantity of the item </st><st c="8363">to purchase.</st></li><li><code><st c="8375">order</st></code><st c="8381">: This is a foreign key relationship with the </st><code><st c="8428">Order</st></code><st c="8433"> model, which defines a foreign key relating each item to a </st><st c="8493">specific order.</st></li><li><code><st c="8508">movie</st></code><st c="8514">: This is a foreign key relationship with the </st><code><st c="8561">Movie</st></code><st c="8566"> model, which defines a foreign key relating each item to a </st><st c="8626">specific movie.</st></li></ul></li>
				<li><code><st c="8641">__str__</st></code><st c="8649"> is a method that returns a string representation of the item. </st><st c="8712">In this case, it returns a string composed of the item ID and the name of the </st><st c="8790">associated movie.</st></li>
			</ul>
			<h2 id="_idParaDest-221"><a id="_idTextAnchor227"/><st c="8807">Applying migrations</st></h2>
			<p><st c="8827">Now that we have created the </st><code><st c="8857">Item</st></code><st c="8861"> model, let’s update our database by running the following commands</st><a id="_idIndexMarker395"/><st c="8928"> based on your </st><st c="8943">operating system.</st></p>
			<ul>
				<li><st c="8960">For macOS, </st><st c="8972">run this:</st><pre class="source-code">
<strong class="bold"><st c="8981">python3 manage.py makemigrations</st></strong>
<strong class="bold"><st c="9014">python3 manage.py migrate</st></strong></pre></li>				<li><st c="9040">For Windows, </st><st c="9054">run this:</st><pre class="source-code">
<strong class="bold"><st c="9063">python manage.py makemigrations</st></strong>
<strong class="bold"><st c="9095">python manage.py migrate</st></strong></pre></li>			</ul>
			<p><st c="9120">Now, you should see something </st><st c="9151">like this:</st></p>
			<div><div><img src="img/B22457_11_4.jpg" alt="Figure 11.4 – Applying the item migration"/><st c="9161"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="9283">Figure 11.4 – Applying the item migration</st></p>
			<h2 id="_idParaDest-222"><a id="_idTextAnchor228"/><st c="9324">Adding the item model to the admin panel</st></h2>
			<p><st c="9365">To add the </st><a id="_idIndexMarker396"/><code><st c="9377">Item</st></code><st c="9381"> model to admin, go to </st><code><st c="9404">/cart/admin.py</st></code><st c="9418"> and register it by adding the</st><a id="_idIndexMarker397"/><st c="9448"> following </st><st c="9459">in </st><em class="italic"><st c="9462">bold</st></em><st c="9466">:</st></p>
			<pre class="source-code"><st c="9468">
from django.contrib import admin
from .models import Order</st><strong class="bold"><st c="9527">, Item</st></strong><st c="9533">
admin.site.register(Order)
</st><code><st c="9675">/admin</st></code><st c="9681">. The item model will now appear (as shown in </st><em class="italic"><st c="9727">Figure 11</st></em><em class="italic"><st c="9736">.5</st></em><st c="9738">):</st></p>
			<div><div><img src="img/B22457_11_5.jpg" alt="Figure 11.5 – Admin page with items available"/><st c="9741"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="10038">Figure 11.5 – Admin page with items available</st></p>
			<p><st c="10083">Now we have completed the data </st><a id="_idIndexMarker398"/><st c="10115">structure required to make purchases. </st><st c="10153">But before proceeding with the purchase process, let’s recap how our models relate to the project’s </st><st c="10253">class diagram.</st></p>
			<h1 id="_idParaDest-223"><a id="_idTextAnchor229"/><st c="10267">Recapping the Movies Store class diagram</st></h1>
			<p><st c="10308">The class diagram of the Movies Store that we designed in </st><a href="B22457_01.xhtml#_idTextAnchor014"><em class="italic"><st c="10367">Chapter 1</st></em></a><st c="10376"> served as a blueprint for designing the </st><a id="_idIndexMarker399"/><st c="10417">code of the Movies Store. </st><st c="10443">We have already implemented all the models required to complete the project code. </st><st c="10525">So, let’s quickly recap this relationship between models </st><st c="10582">and classes.</st></p>
			<p><em class="italic"><st c="10594">Figure 11</st></em><em class="italic"><st c="10604">.6</st></em><st c="10606"> shows the class diagram, highlighting the locations where we implemented the corresponding </st><st c="10698">Django models:</st></p>
			<div><div><img src="img/B22457_11_6.jpg" alt="Figure 11.6 – Movies Store class diagram, highlighting model locations"/><st c="10712"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="11118">Figure 11.6 – Movies Store class diagram, highlighting model locations</st></p>
			<p><st c="11188">Let’s analyze the </st><st c="11207">previous figure:</st></p>
			<ul>
				<li><st c="11223">The </st><code><st c="11228">Movie</st></code><st c="11233"> and </st><code><st c="11238">Review</st></code><st c="11244"> models were implemented inside the </st><code><st c="11280">movies</st></code><st c="11286"> app.</st></li>
				<li><st c="11291">The </st><code><st c="11296">Order</st></code><st c="11301"> and </st><code><st c="11306">Item</st></code><st c="11310"> models were implemented inside the </st><code><st c="11346">cart</st></code><st c="11350"> app.</st></li>
				<li><st c="11355">The </st><code><st c="11360">User</st></code><st c="11364"> model was not</st><a id="_idIndexMarker400"/><st c="11378"> implemented. </st><st c="11392">Instead, we took advantage of the provided Django built-in model located in the </st><code><st c="11472">admin.contrib.auth</st></code><st c="11490"> app.</st></li>
			</ul>
			<p><st c="11495">Finally, let’s review how a specific class relates to a model (</st><em class="italic"><st c="11559">Figure 11</st></em><em class="italic"><st c="11569">.7</st></em><st c="11571">):</st></p>
			<ul>
				<li><code><st c="11582">Review</st></code><st c="11588"> class name became a </st><code><st c="11609">Review</st></code><st c="11615"> Python class. </st><st c="11630">We inherited from </st><code><st c="11648">models.Model</st></code><st c="11660"> to define it as a Django </st><st c="11686">model class.</st></li>
				<li><code><st c="11706">id</st></code><st c="11708">, </st><code><st c="11710">comment</st></code><st c="11717">, and </st><code><st c="11723">date</st></code><st c="11727"> class attributes became Python class attributes. </st><st c="11777">We utilized the </st><code><st c="11793">models</st></code><st c="11799"> module to utilize available field types similar to those defined in the </st><st c="11872">class diagram.</st></li>
				<li><code><st c="11919">Review</st></code><st c="11925"> and </st><code><st c="11930">Movie</st></code><st c="11935"> classes became a Python class attribute. </st><st c="11977">We utilized the </st><code><st c="11993">models.ForeignKey</st></code><st c="12010"> method to define a foreign key relationship between the </st><st c="12067">two models.</st></li>
				<li><code><st c="12111">Review</st></code><st c="12117"> and </st><code><st c="12122">User</st></code><st c="12126"> classes became a Python class attribute. </st><st c="12168">We utilized the </st><code><st c="12184">models.ForeignKey</st></code><st c="12201"> method to define a foreign key relationship </st><a id="_idIndexMarker401"/><st c="12246">between the </st><st c="12258">two models.</st></li>
			</ul>
			<div><div><img src="img/B22457_11_7.jpg" alt="Figure 11.7 – Relationship between a class and a model"/><st c="12269"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="12531">Figure 11.7 – Relationship between a class and a model</st></p>
			<p><st c="12585">We have completed all the connections between the class diagram and the Django models. </st><st c="12673">Now, we are ready to enable users to </st><st c="12710">make purchases.</st></p>
			<h1 id="_idParaDest-224"><a id="_idTextAnchor230"/><st c="12725">Summary</st></h1>
			<p><st c="12733">In this chapter, we learned how simple invoices work. </st><st c="12788">We created a couple of models (</st><code><st c="12819">Order</st></code><st c="12825"> and </st><code><st c="12830">Item</st></code><st c="12834">). </st><st c="12838">These models will allow us to store information about the users’ purchases. </st><st c="12914">We recapitulated the process of creating Django models and applying migrations. </st><st c="12994">In the end, we reviewed how class diagrams served as a blueprint to create our project models. </st><st c="13089">In the next chapter, we will implement purchase functionality and allow users to view </st><st c="13175">their orders.</st></p>
		</div>
	<div></body></html>