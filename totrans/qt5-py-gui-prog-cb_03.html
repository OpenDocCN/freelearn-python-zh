<html><head></head><body>
  <div id="sbo-rt-content"><div class="chapter" title="Chapter 3. Look and Feel Customization"><div class="titlepage"><div><div><h1 class="title"><a id="ch03"/>Chapter 3. Look and Feel Customization</h1></div></div></div><p>In this chapter, we will customize our GUI using Python 3:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Creating message boxes – information, warning, and error</li><li class="listitem" style="list-style-type: disc">How to create independent message boxes</li><li class="listitem" style="list-style-type: disc">How to create the title of a tkinter window form</li><li class="listitem" style="list-style-type: disc">Changing the icon of the main root window</li><li class="listitem" style="list-style-type: disc">Using a spin box control</li><li class="listitem" style="list-style-type: disc">Relief, sunken, and raised appearance of widgets</li><li class="listitem" style="list-style-type: disc">Creating tooltips using Python</li><li class="listitem" style="list-style-type: disc">How to use the canvas widget</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec28"/>Introduction</h1></div></div></div><p>In this chapter, we will customize some of the widgets in our GUI by changing some of their properties. We are also introducing a few new widgets tkinter offers us.</p><p>The <span class="emphasis"><em>Creating tooltips using Python</em></span> recipe will create a ToolTip OOP-style class, which will be a part of the one single Python module we have been using up to now.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Creating message boxes – information, warning, and error"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec29"/>Creating message boxes – information, warning, and error</h1></div></div></div><p>A <a id="id76" class="indexterm"/>message box is a pop-up window that gives feedback to the user. It can be informational, hinting at potential problems, and even catastrophic errors.</p><p>Using Python to create message boxes is very easy.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec71"/>Getting ready</h2></div></div></div><p>We will add functionality to the <span class="strong"><strong>Help</strong></span> | <span class="strong"><strong>About</strong></span> menu item we created in the previous recipe. The typical feedback to the user when clicking the <span class="strong"><strong>Help</strong></span> | <span class="strong"><strong>About</strong></span> menu in most applications is informational. We start with this information and then vary the design pattern to show warnings and errors.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec72"/>How to do it...</h2></div></div></div><p>Add the <a id="id77" class="indexterm"/>following line of code to the top of the module where the import statements live:</p><div class="informalexample"><pre class="programlisting">from tkinter import messagebox as mBox</pre></div><p>Next, we will create a callback function that will display a message box. We have to locate the code of the callback above the code where we attach the callback to the menu item, because this is still procedural and not OOP code.</p><p>Add this code just above the lines where we create the help menu:</p><div class="informalexample"><pre class="programlisting"># Display a Message Box
# Callback function
def _msgBox():
    mBox.showinfo('Python Message Info Box', 'A Python GUI created using tkinter:\nThe year is 2015.')   

# Add another Menu to the Menu Bar and an item
helpMenu = Menu(menuBar, tearoff=0)
helpMenu.add_command(label="About", command=_msgBox)</pre></div><p>Clicking <span class="strong"><strong>Help</strong></span> | <span class="strong"><strong>About</strong></span> now causes the following pop-up window to appear:</p><div class="mediaobject"><img src="images/B04829_03_01.jpg" alt="How to do it..."/></div><p>Let's transform this code into a warning message box pop-up window instead. Comment out the previous line and add the following code:</p><div class="informalexample"><pre class="programlisting"># Display a Message Box
def _msgBox():
#    mBox.showinfo('Python Message Info Box', 'A Python GUI 
#      created using tkinter:\nThe year is 2015.')
    mBox.showwarning('Python Message Warning Box', 'A Python GUI created using tkinter:\nWarning: There might be a bug in this code.')</pre></div><p>Running <a id="id78" class="indexterm"/>the above code will now result in the following slightly modified message box:</p><div class="mediaobject"><img src="images/B04829_03_02.jpg" alt="How to do it..."/></div><p>Displaying an error message box is simple and usually warns the user of a serious problem. As above, so below. Comment out and add this code, as we have done here:</p><div class="informalexample"><pre class="programlisting"># Display a Message Box
def _msgBox():
#    mBox.showinfo('Python Message Info Box', 'A Python GUI 
#      created using tkinter:\nThe year is 2015.')
#    mBox.showwarning('Python Message Warning Box', 'A Python GUI 
#      created using tkinter:\nWarning: There might be a bug in 
#      this code.')
    mBox.showerror('Python Message Error Box', 'A Python GUI created using tkinter:\nError: Houston ~ we DO have a serious PROBLEM!')</pre></div><div class="mediaobject"><img src="images/B04829_03_03.jpg" alt="How to do it..."/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec73"/>How it works...</h2></div></div></div><p>We have<a id="id79" class="indexterm"/> added another callback function and attached it as a delegate to handle the click event. Now, when we click the <span class="strong"><strong>Help</strong></span> | <span class="strong"><strong>About</strong></span> menu, an action takes place. We are creating and displaying the most common pop-up message box dialogs. They are modal, so the user can't use the GUI until they click the <span class="strong"><strong>OK</strong></span> button.</p><p>In the first example we display an information box, as can be seen by the icon to the left of it. Next, we create warning and error message boxes that automatically change the icon associated with the pop-up. All we have to do is specify which mBox we want to display.</p><p>There are different message boxes that display more than one <span class="strong"><strong>OK</strong></span> button and we can program our responses according to the user's selection.</p><p>The following is a simple example that illustrates this technique:</p><div class="informalexample"><pre class="programlisting"># Display a Message Box
def _msgBox():
    answer = mBox.askyesno("Python Message Dual Choice Box", "Are you sure you really wish to do this?")
    print(answer)</pre></div><p>Running this GUI code results in a pop-up whose user response can be used to branch on the answer of this event-driven GUI loop by saving it in the <code class="literal">answer</code> variable.</p><div class="mediaobject"><img src="images/B04829_03_04.jpg" alt="How it works..."/></div><p>The <a id="id80" class="indexterm"/>console output using Eclipse shows that clicking the <span class="strong"><strong>Yes</strong></span> button results in the Boolean value of <code class="literal">True</code> being assigned to the <code class="literal">answer</code> variable.</p><div class="mediaobject"><img src="images/B04829_03_05.jpg" alt="How it works..."/></div><p>For example, we could use the following code:</p><div class="informalexample"><pre class="programlisting">If answer == True:
    &lt;do something&gt;</pre></div></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="How to create independent message boxes"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec30"/>How to create independent message boxes</h1></div></div></div><p>In this <a id="id81" class="indexterm"/>recipe, we will create our tkinter message boxes as stand-alone top-level GUI windows.</p><p>We will first notice that, by doing so, we end up with an extra window so we will explore ways to hide this window.</p><p>In the previous recipe, we invoked tkinter message boxes via our <span class="strong"><strong>Help</strong></span> | <span class="strong"><strong>About</strong></span> menu from our main GUI form.</p><p>So why would we wish to create an independent message box?</p><p>One reason is that we might customize our message boxes and reuse them in several of our GUIs. Instead of having to copy and paste the same code into every Python GUI we design, we can factor it out of our main GUI code. This can create a small reusable component, <a id="id82" class="indexterm"/>which we can then import into different Python GUIs.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec74"/>Getting ready</h2></div></div></div><p>We have already created the title of a message box in the previous recipe. We will not reuse the code from the previous recipe, but instead we will build a new GUI in very few lines of Python code.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec75"/>How to do it...</h2></div></div></div><p>We can create a simple message box like this:</p><div class="informalexample"><pre class="programlisting">from tkinter import messagebox as mBox
mBox.showinfo('A Python GUI created using tkinter:\nThe year is 2015')</pre></div><p>This will result in these two windows:</p><div class="mediaobject"><img src="images/B04829_03_06.jpg" alt="How to do it..."/></div><p>This does not look like what we had in mind. Now we have two windows, one undesired and the second having its text displayed as its title.</p><p>Oops.</p><p>Let's fix this now. We can change the Python code by adding a single or double quote, followed by a comma.</p><div class="informalexample"><pre class="programlisting">mBox.showinfo('', 'A Python GUI created using tkinter:\nThe year is 2015')</pre></div><div class="mediaobject"><img src="images/B04829_03_07.jpg" alt="How to do it..."/></div><p>The first <a id="id83" class="indexterm"/>parameter is the title and the second is the text displayed in the pop-up message box. By adding an empty pair of single or double quotes followed by a comma, we can move our text from the title into the pop-up message box.</p><p>We still need a title and we definitely want to get rid of this unnecessary second window.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note25"/>Note</h3><p>In languages like C#, the same phenomenon of a second window appears. It is basically a DOS-style debug window. Many programmers seem not to mind having this extra window floating around. I personally find it distasteful from a GUI programming perspective. We will remove it next.</p></div></div><p>The second window is caused by a Windows event loop. We can get rid of it by suppressing it.</p><p>Add the following code:</p><div class="informalexample"><pre class="programlisting">from tkinter import messagebox as mBox
from tkinter import Tk
root = Tk()
root.withdraw()
mBox.showinfo('', 'A Python GUI created using tkinter:\nThe year is 2015')</pre></div><p>Now we have only one window. The <code class="literal">withdraw()</code> function removes the debug window we are not interested in having floating around.</p><div class="mediaobject"><img src="images/B04829_03_08.jpg" alt="How to do it..."/></div><p>In order<a id="id84" class="indexterm"/> to add a title, all we have to do is place some string into our empty first argument.</p><p>For example:</p><div class="informalexample"><pre class="programlisting">from tkinter import messagebox as mBox
from tkinter import Tk
root = Tk()
root.withdraw()
mBox.showinfo('This is a Title', 'A Python GUI created using tkinter:\nThe year is 2015')</pre></div><p>Now our dialog has a title:</p><div class="mediaobject"><img src="images/B04829_03_09.jpg" alt="How to do it..."/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec76"/>How it works...</h2></div></div></div><p>We are passing more arguments into the tkinter constructor of the message box to add a title to the window form and display the text in the message box, instead of displaying it as its title. This<a id="id85" class="indexterm"/> happens due to the position of the arguments we are passing. If we leave out an empty quote or double quote, then the message box widget takes the first position of the arguments as the title, not the text to be displayed within the message box. By passing an empty quote followed by a comma, we change where the message box displays the text we are passing into the function.</p><p>We suppress the second pop-op window that automatically gets created by the tkinter message box widget by calling the <code class="literal">withdraw()</code> method on our main root window.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="How to create the title of a tkinter window form"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec31"/>How to create the title of a tkinter window form</h1></div></div></div><p>The<a id="id86" class="indexterm"/> principle of changing the title of a tkinter main root window is the same as was discussed in the previous recipe. We just pass in a string as the first argument to the constructor of the widget.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec77"/>Getting ready</h2></div></div></div><p>Instead of a pop-up dialog window, we create the main root window and give it a title.</p><p>The GUI displayed in this recipe is the code from the previous chapter. It does not build upon the previous recipe in this chapter.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec78"/>How to do it...</h2></div></div></div><p>The following code creates the main window and adds a title to it. We have already done this in previous recipes. Here, we just focus on this aspect of our GUI.</p><div class="informalexample"><pre class="programlisting">import tkinter as tk
win = tk.Tk()               # Create instance
win.title("Python GUI")     # Add a title</pre></div><div class="mediaobject"><img src="images/B04829_03_10.jpg" alt="How to do it..."/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec79"/>How it works...</h2></div></div></div><p>This gives a title to the main root window by using the built-in tkinter <code class="literal">title</code> property. After we <a id="id87" class="indexterm"/>create a <code class="literal">Tk()</code> instance we can use all of the built-in tkinter properties to customize our GUI.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Changing the icon of the main root window"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec32"/>Changing the icon of the main root window</h1></div></div></div><p>One<a id="id88" class="indexterm"/> way to customize our GUI is to give it a different icon than the default icon that ships out of the box with tkinter. Here is how we do this.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec80"/>Getting ready</h2></div></div></div><p>We are improving our GUI from the previous recipe. We will use an icon that ships with Python but you can use any icon you find useful. Make sure you have the full path to where the icon lives in your code, or you might get errors.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note26"/>Note</h3><p>While it might seem a little bit confusing which recipe of the last chapter this recipe refers to, the best approach is to just download the code for this book and then step through the code to understand it.</p></div></div></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec81"/>How to do it...</h2></div></div></div><p>Place the following code somewhere above the main event loop. The example uses the path where I installed Python 3.4. You might have to adjust it to match your installation directory.</p><p>Notice how the "feather" default icon in the top-left corner of the GUI changed.</p><div class="informalexample"><pre class="programlisting"># Change the main windows icon
win.iconbitmap(r'C:\Python34\DLLs\pyc.ico')</pre></div><div class="mediaobject"><img src="images/B04829_03_11.jpg" alt="How to do it..."/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec82"/>How it works...</h2></div></div></div><p>This is another property that ships with tkinter, which ships with Python 3.x. <code class="literal">iconbitmap</code>, is the property we are using to change the icon of our main root window form by <a id="id89" class="indexterm"/>passing in the absolute (hard-coded) path to an icon. This overrides tkinter's default icon, replacing it with our icon of choice.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note27"/>Note</h3><p>Using "r" in the string of the absolute path in the code above escapes the backslashes, so instead of writing <code class="literal">C:\\</code> we can use the "raw" string, which lets us write the more natural single backslash <code class="literal">C:\</code>. This is a neat trick Python has created for us.</p></div></div></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Using a spin box control"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec33"/>Using a spin box control</h1></div></div></div><p>In this<a id="id90" class="indexterm"/> recipe, we will use a <code class="literal">Spinbox</code> widget and we will also bind the <span class="emphasis"><em>Enter</em></span> key on the keyboard to one of our widgets.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec83"/>Getting ready</h2></div></div></div><p>We are using our tabbed GUI and will add a <code class="literal">Spinbox</code> widget above the <code class="literal">ScrolledText</code> control. This simply requires us to increment the <code class="literal">ScrolledText</code> row value by one and to insert our new <code class="literal">Spinbox</code> control in the row above the <code class="literal">Entry</code> widget.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec84"/>How to do it...</h2></div></div></div><p>First, we add the <code class="literal">Spinbox</code> control. Place the following code above the <code class="literal">ScrolledText</code> widget:</p><div class="informalexample"><pre class="programlisting"># Adding a Spinbox widget
spin = Spinbox(monty, from_=0, to=10)
spin.grid(column=0, row=2)</pre></div><p>This will modify our GUI, as shown:</p><div class="mediaobject"><img src="images/B04829_03_12.jpg" alt="How to do it..."/></div><p>Next, we <a id="id91" class="indexterm"/>will reduce the size of the <code class="literal">Spinbox</code> widget.</p><div class="informalexample"><pre class="programlisting">spin = Spinbox(monty, from_=0, to=10, width=5)</pre></div><div class="mediaobject"><img src="images/B04829_03_13.jpg" alt="How to do it..."/></div><p>Next, we add another property to customize our widget further, <code class="literal">bd</code> is a short-hand notation for the <code class="literal">borderwidth</code> property.</p><div class="informalexample"><pre class="programlisting">spin = Spinbox(monty, from_=0, to=10, width=5 , bd=8)</pre></div><div class="mediaobject"><img src="images/B04829_03_14.jpg" alt="How to do it..."/></div><p>Here, we<a id="id92" class="indexterm"/> add functionality to the widget by creating a callback and linking it to the control.</p><p>This will print the selection of the Spinbox into <code class="literal">ScrolledText</code> as well as onto stdout. The variable named <code class="literal">scr</code> is our reference to the <code class="literal">ScrolledText</code> widget.</p><div class="informalexample"><pre class="programlisting"># Spinbox callback 
def _spin():
    value = spin.get()
    print(value)
    scr.insert(tk.INSERT, value + '\n')
    
spin = Spinbox(monty, from_=0, to=10, width=5, bd=8, command=_spin)</pre></div><div class="mediaobject"><img src="images/B04829_03_15.jpg" alt="How to do it..."/></div><p>Instead <a id="id93" class="indexterm"/>of using a range, we can also specify a set of values.</p><div class="informalexample"><pre class="programlisting"># Adding a Spinbox widget using a set of values
spin = Spinbox(monty, values=(1, 2, 4, 42, 100), width=5, bd=8, command=_spin) 
spin.grid(column=0, row=2)</pre></div><p>This will create the following GUI output:</p><div class="mediaobject"><img src="images/B04829_03_16.jpg" alt="How to do it..."/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec85"/>How it works...</h2></div></div></div><p>Notice how, in the first screenshot, our new <code class="literal">Spinbox</code> control defaulted to a width of 20, pushing out the column width of all controls in this column. This is not what we want. We gave the widget a range from 0 to 10 and it defaults to show the <code class="literal">to=10</code> value, which is the highest value. If we try to reverse the <code class="literal">from_/to</code> range from 10 to 0, tkinter does not like it. Do try this out for yourself.</p><p>In the <a id="id94" class="indexterm"/>second screenshot, we reduced the width of the <code class="literal">Spinbox</code> control, which aligned it in the center of the column.</p><p>In the third screenshot, we added the <code class="literal">borderwidth</code> property of the Spinbox, which automatically made the entire <code class="literal">Spinbox</code> appear no longer flat but three-dimensional.</p><p>In the fourth screenshot, we added a callback function to display the number chosen in the <code class="literal">ScrolledText</code> widget and print it to the standard out-stream. We added "\n" to print on new lines. Notice how the default value does not get printed. It is only when we click the control that the callback function gets called. By clicking the up arrow with the default of 10, we can print the "10" value.</p><p>Lastly, we restrict the values available to a hard-coded set. This could also be read in from a data source (for example, a text or XML file).</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Relief, sunken, and raised appearance of widgets"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec34"/>Relief, sunken, and raised appearance of widgets</h1></div></div></div><p>We can control the appearance of our <code class="literal">Spinbox</code> widgets by a property that makes them look<a id="id95" class="indexterm"/> either in relief, sunken, or in a raised format.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec86"/>Getting ready</h2></div></div></div><p>We will add one more <code class="literal">Spinbox</code> control to demonstrate the available appearances of widgets using the relief property of the <code class="literal">Spinbox</code> control.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec87"/>How to do it...</h2></div></div></div><p>First, let's increase the <code class="literal">borderwidth</code> to distinguish our second <code class="literal">Spinbox</code> from the first <code class="literal">Spinbox</code>.</p><div class="informalexample"><pre class="programlisting"># Adding a second Spinbox widget 
spin = Spinbox(monty, values=(0, 50, 100), width=5, bd=20, command=_spin) 
spin.grid(column=1, row=2)</pre></div><div class="mediaobject"><img src="images/B04829_03_17.jpg" alt="How to do it..."/></div><p>Both <a id="id96" class="indexterm"/>of our Spinbox widgets above have the same relief style. The only difference is that our new widget to the right of the first Spinbox has a much larger border width.</p><p>In our code, we did not specify which relief property to use, so the relief defaulted to tk.SUNKEN.</p><p>Here are the available relief property options that can be set:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><tbody><tr><td style="text-align: left" valign="top">
<p>tk.SUNKEN</p>
</td><td style="text-align: left" valign="top">
<p>tk.RAISED</p>
</td><td style="text-align: left" valign="top">
<p>tk.FLAT</p>
</td><td style="text-align: left" valign="top">
<p>tk.GROOVE</p>
</td><td style="text-align: left" valign="top">
<p>tk.RIDGE</p>
</td></tr></tbody></table></div><p>By assigning the different available options to the <code class="literal">relief</code> property, we can create different appearances for this widget.</p><p>Assigning the tk.RIDGE relief and reducing the border width to the same value as our first Spinbox widget results in the following GUI:</p><div class="mediaobject"><img src="images/B04829_03_18.jpg" alt="How to do it..."/></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec88"/>How it works...</h2></div></div></div><p>First, <a id="id97" class="indexterm"/>we created a second <code class="literal">Spinbox</code> aligned in the second column (index == 1). It defaults to <code class="literal">SUNKEN</code>, so it looks similar to our first <code class="literal">Spinbox</code>. We distinguished the two widgets by increasing the border width of the second control (the one to the right).</p><p>Next, we implicitly set the relief property of the Spinbox widget. We made the border width the same as our first Spinbox because, by giving it a different relief, the differences became visible without having to change any other properties.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Creating tooltips using Python"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec35"/>Creating tooltips using Python</h1></div></div></div><p>This<a id="id98" class="indexterm"/> recipe will show us how to create ToolTips. When<a id="id99" class="indexterm"/> the user hovers the mouse over a widget, additional information will be available in the form of a ToolTip.</p><p>We will code this additional information into our GUI.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec89"/>Getting ready</h2></div></div></div><p>We are adding more useful functionality to our GUI. Surprisingly, adding a ToolTip to our controls should be simple, but it is not as simple as we wish it to be.</p><p>In order to achieve this desired functionality, we will place our ToolTip code into its own OOP class.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec90"/>How to do it...</h2></div></div></div><p>Add this <a id="id100" class="indexterm"/>class just<a id="id101" class="indexterm"/> below the import statements:</p><div class="informalexample"><pre class="programlisting">class ToolTip(object):
    def __init__(self, widget):
        self.widget = widget
        self.tipwindow = None
        self.id = None
        self.x = self.y = 0

    def showtip(self, text):
        "Display text in tooltip window"
        self.text = text
        if self.tipwindow or not self.text:
            return
        x, y, _cx, cy = self.widget.bbox("insert")
        x = x + self.widget.winfo_rootx() + 27
        y = y + cy + self.widget.winfo_rooty() +27
        self.tipwindow = tw = tk.Toplevel(self.widget)
        tw.wm_overrideredirect(1)
        tw.wm_geometry("+%d+%d" % (x, y))

        label = tk.Label(tw, text=self.text, justify=tk.LEFT,
   background="#ffffe0", relief=tk.SOLID, borderwidth=1,
                      font=("tahoma", "8", "normal"))

        label.pack(ipadx=1)

    def hidetip(self):
        tw = self.tipwindow
        self.tipwindow = None
        if tw:
            tw.destroy()
            
#===========================================================
def createToolTip( widget, text):
    toolTip = ToolTip(widget)
    def enter(event):
        toolTip.showtip(text)
    def leave(event):
        toolTip.hidetip()
    widget.bind('&lt;Enter&gt;', enter)
    widget.bind('&lt;Leave&gt;', leave)</pre></div><p>In an <span class="strong"><strong>object-oriented programming</strong></span> (<span class="strong"><strong>OOP</strong></span>) approach we create a new class in our Python<a id="id102" class="indexterm"/> module. Python allows us to place more than one class into the same Python module and it also enables us to "mix-and-match" classes and regular functions in the same module.</p><p>The<a id="id103" class="indexterm"/> code above is doing exactly this.</p><p>The <code class="literal">ToolTip</code> class is a Python class and in order to use it, we have to instantiate it.</p><p>If you <a id="id104" class="indexterm"/>are not familiar with OOP programming, "instantiating an object to create an instance of the class" may sound rather boring.</p><p>The principle is quite simple and very similar to creating a Python function via a <code class="literal">def</code> statement and then later in the code actually calling this function.</p><p>In a very similar manner, we first create a blueprint of a class and simply assign it to a variable by adding parentheses to the name of the class as follows:</p><div class="informalexample"><pre class="programlisting">class AClass():
    pass
instanceOfAClass = AClass()
print(instanceOfAClass)</pre></div><p>The above code prints out a memory address and also shows that our variable now has a reference to this class instance.</p><p>The cool thing about OOP is that we can create many instances of the same class.</p><p>In our preceding code, we declare a Python class and explicitly make it inherit from the object that is the foundation of all Python classes. We can also leave it out as we have done in the <code class="literal">AClass</code> code example because it is the default for all Python classes.</p><p>After all of the necessary tooltip creation code that occurs within the <code class="literal">ToolTip</code> class, we next switch over to non-OOP Python programming by creating a function just below it.</p><p>We define the function <code class="literal">createToolTip()</code> and it expects one of our GUI widgets to be passed in as an argument so we can display a ToolTip when we hover our mouse over this control.</p><p>The <code class="literal">createToolTip()</code> function actually creates a new instance of our <code class="literal">ToolTip</code> class for every widget we call it for.</p><p>We can add a tooltip for our Spinbox widget, like this:</p><div class="informalexample"><pre class="programlisting"># Add a Tooltip
createToolTip(spin, 'This is a Spin control.')</pre></div><p>As well as for all of our other GUI widgets in the very same manner. We just have to pass in the parent of the widget we wish to have a tooltip displaying some extra information. For<a id="id105" class="indexterm"/> our ScrolledText widget we made the variable <code class="literal">scr</code> point to<a id="id106" class="indexterm"/> it so this is what we pass into the constructor of our ToolTip creation function.</p><div class="informalexample"><pre class="programlisting"># Using a scrolled Text control    
scrolW  = 30; scrolH  =  3
scr = scrolledtext.ScrolledText(monty, width=scrolW, height=scrolH, wrap=tk.WORD)
scr.grid(column=0, row=3, sticky='WE', columnspan=3)

# Add a Tooltip to the ScrolledText widget
createToolTip(scr, 'This is a ScrolledText widget.')</pre></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec91"/>How it works...</h2></div></div></div><p>This is the beginning of OOP programming in this book. This might appear a little bit advanced, but do not worry, we will explain everything and it actually does work!</p><p>Well, running this code actually does NOT work or make any difference as of yet.</p><p>Add the following code just below the creation of the spinner:</p><div class="informalexample"><pre class="programlisting"># Add a Tooltip
createToolTip(spin, 'This is a Spin control.')</pre></div><p>Now, when we hover the mouse over the spinner widget, we get a tooltip, providing additional information to the user.</p><p> </p><div class="mediaobject"><img src="images/B04829_03_19.jpg" alt="How it works..."/></div><p>
</p><p>We are calling the function that creates the tooltip, and then we pass in a reference to the widget and the text we wish to display when we hover the mouse over the widget.</p><p>The rest<a id="id107" class="indexterm"/> of the recipes in this book will use OOP <a id="id108" class="indexterm"/>when it makes sense. Here, we show the simplest OOP example possible. As a default, every Python class we create inherits from the <code class="literal">object</code> base class. Python, being the pragmatic programming language that it truly is, simplifies the class creation process.</p><p>We can write this syntax:</p><div class="informalexample"><pre class="programlisting">class ToolTip(object):
    pass</pre></div><p>We can also simplify it by leaving the default base class out:</p><div class="informalexample"><pre class="programlisting">class ToolTip():
    pass</pre></div><p>In this same pattern, we can inherit and expand any tkinter class.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="How to use the canvas widget"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec36"/>How to use the canvas widget</h1></div></div></div><p>This<a id="id109" class="indexterm"/> recipe shows how to add dramatic color effects to our GUI by using the tkinter canvas widget.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec92"/>Getting ready</h2></div></div></div><p>We will improve our previous code and the look of our GUI by adding some more colors to it.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec93"/>How to do it...</h2></div></div></div><p>First, we will create a third tab in our GUI in order to isolate our new code.</p><p>Here is the code to create the new third tab:</p><div class="informalexample"><pre class="programlisting"># Tab Control introduced here --------------------------------
tabControl = ttk.Notebook(win)          # Create Tab Control

tab1 = ttk.Frame(tabControl)            # Create a tab 
tabControl.add(tab1, text='Tab 1')      # Add the tab

tab2 = ttk.Frame(tabControl)            # Add a second tab
tabControl.add(tab2, text='Tab 2')      # Make second tab visible

tab3 = ttk.Frame(tabControl)            # Add a third tab
tabControl.add(tab3, text='Tab 3')      # Make second tab visible

tabControl.pack(expand=1, fill="both")  # Pack to make visible
# ~ Tab Control introduced here -------------------------------</pre></div><p>Next, we use another built-in widget of tkinter, the canvas. A lot of people like this widget because it has powerful capabilities.</p><div class="informalexample"><pre class="programlisting"># Tab Control 3 -------------------------------
tab3 = tk.Frame(tab3, bg='blue')
tab3.pack()
for orangeColor in range(2):
    canvas = tk.Canvas(tab3, width=150, height=80, highlightthickness=0, bg='orange')
    canvas.grid(row=orangeColor, column=orangeColor)</pre></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec94"/>How it works...</h2></div></div></div><p>The following screenshot shows the result created by running the preceding code and clicking on the new <span class="strong"><strong>Tab 3</strong></span>. It really is orange and blue when you run the code. In this non-colored book, this might not be so visually obvious, but those colors are true; you can trust me on this.</p><p>You can check out the graphing and drawing capabilities by searching online. I will not go deeper into this widget in this book (but it is very cool).</p><div class="mediaobject"><img src="images/B04829_03_20.jpg" alt="How it works..."/></div></div></div></div>
</body></html>