<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Cloud Computing</span></h1>
                </header>
            
            <article>
                
<p><span><em><span class="koboSpan" id="kobo.2.1">Cloud computing</span></em><span class="koboSpan" id="kobo.3.1"> is the distribution of computing services, such as servers, storage resources, databases, networks, software, analysis, and intelligence, via the internet (</span><em><span class="koboSpan" id="kobo.4.1">the cloud</span></em><span class="koboSpan" id="kobo.5.1">). </span></span><span class="koboSpan" id="kobo.6.1">The purpose of this chapter is to provide an overview of the main cloud computing technologies in relation to the Python programming language.</span></p>
<p><span class="koboSpan" id="kobo.7.1">First, we will describe the PythonAnywhere platform, with which we will deploy Python applications on the cloud. </span><span class="koboSpan" id="kobo.7.2">In the context of cloud computing, two emerging technologies will be identified: containers and serverless technologies.</span></p>
<p><em><span class="koboSpan" id="kobo.8.1">Containers</span></em><span class="koboSpan" id="kobo.9.1"> represent the new approach to the virtualization of resources, and the </span><em><span class="koboSpan" id="kobo.10.1">serverless </span></em><span><span class="koboSpan" id="kobo.11.1">technologies </span></span><span class="koboSpan" id="kobo.12.1">represent a step forward in the field of cloud services because they can speed up the release of applications.</span></p>
<p><span class="koboSpan" id="kobo.13.1">In fact, you do not have to worry about the provisioning, the servers, or the infrastructure configurations. </span><span class="koboSpan" id="kobo.13.2">You only have to create functions (namely, Lambda functions) that can operate independently from the applications.</span></p>
<p><span class="koboSpan" id="kobo.14.1">In this chapter, we will cover the following recipes:</span></p>
<ul>
<li><span class="koboSpan" id="kobo.15.1">What is cloud computing?</span></li>
<li><span class="koboSpan" id="kobo.16.1">Understanding the cloud computing architecture</span></li>
<li><span class="koboSpan" id="kobo.17.1">Developing web applications with</span><span><span class="koboSpan" id="kobo.18.1"> </span></span><span class="koboSpan" id="kobo.19.1">PythonAnywhere</span></li>
<li><span class="koboSpan" id="kobo.20.1">Dockerizing</span><span><span class="koboSpan" id="kobo.21.1"> </span></span><span class="koboSpan" id="kobo.22.1">a Python application</span></li>
<li><span class="koboSpan" id="kobo.23.1">Introducing serverless</span><span><span class="koboSpan" id="kobo.24.1"> </span></span><span class="koboSpan" id="kobo.25.1">computing</span></li>
</ul>
<p><span><span class="koboSpan" id="kobo.26.1">We will also see how to take advantage of the </span></span><em><span class="koboSpan" id="kobo.27.1">AWS Lambda</span></em><span><span class="koboSpan" id="kobo.28.1"> framework for the development of Python applications.</span></span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">What is cloud computing?</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Cloud computing is a </span><span><span class="koboSpan" id="kobo.3.1">computational model for the distribution of services based on a set of resources, such as virtual processing, mass memory, and networking, which can be dynamically aggregated and activated as platforms to run applications, satisfying appropriate levels of service and optimizing the efficiency of resource use.</span></span></p>
<p><span class="koboSpan" id="kobo.4.1">This can be acquired and released quickly with minimum management effort or interaction with the service provider. </span><span class="koboSpan" id="kobo.4.2">This cloud model is composed of five essential characteristics, three service models, and four deployment models.</span></p>
<p><span class="koboSpan" id="kobo.5.1">In particular, the five essential characteristics are as follows:</span></p>
<ul>
<li><strong><span class="koboSpan" id="kobo.6.1">Free and on-demand access</span></strong><span class="koboSpan" id="kobo.7.1">: This allows users to access—through </span><em><span class="koboSpan" id="kobo.8.1">user friendly</span></em><span class="koboSpan" id="kobo.9.1"> interfaces—the services offered by the provider without human interaction.</span></li>
<li><strong><span class="koboSpan" id="kobo.10.1">Ubiquitous access to the network</span></strong><span class="koboSpan" id="kobo.11.1">:</span><span><span class="koboSpan" id="kobo.12.1"> R</span></span><span class="koboSpan" id="kobo.13.1">esources are available throughout the network and can be accessed—via standard devices—such as </span><em><span class="koboSpan" id="kobo.14.1">smartphones</span></em><span class="koboSpan" id="kobo.15.1">, </span><em><span class="koboSpan" id="kobo.16.1">tablets</span></em><span class="koboSpan" id="kobo.17.1">, and </span><em><span class="koboSpan" id="kobo.18.1">personal computers</span></em><span class="koboSpan" id="kobo.19.1">.</span></li>
<li><strong><span class="koboSpan" id="kobo.20.1">Quick elasticity</span></strong><span class="koboSpan" id="kobo.21.1">:</span><span><span class="koboSpan" id="kobo.22.1"> T</span></span><span class="koboSpan" id="kobo.23.1">his is the ability of the cloud to increase or reduce the resources assigned in a rapid and automatic way, such as making it seem that they are infinite to the user. </span><span class="koboSpan" id="kobo.23.2">This provides great scalability to the system.</span></li>
<li><strong><span class="koboSpan" id="kobo.24.1">Measured service</span></strong><span class="koboSpan" id="kobo.25.1">:</span><span><span class="koboSpan" id="kobo.26.1"> C</span></span><span class="koboSpan" id="kobo.27.1">loud systems constantly monitor the resources offered and optimize them automatically based on the estimated use. </span><span class="koboSpan" id="kobo.27.2">In this way, the customer only pays for the resources that are actually used in that particular session.</span></li>
<li><strong><span class="koboSpan" id="kobo.28.1">Resource sharing</span></strong><span class="koboSpan" id="kobo.29.1">:</span><span><span class="koboSpan" id="kobo.30.1"> T</span></span><span class="koboSpan" id="kobo.31.1">he provider provides its resources through a multi-tenant model so that they can be assigned and reassigned dynamically, based on the customer's request, and used by multiple consumers:</span></li>
</ul>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.32.1"><img src="assets/2ada1f6c-31da-4700-aa33-d72e0da304a4.png"/></span></p>
<div class="packt_figref CDPAlignCenter CDPAlign"><span><span class="koboSpan" id="kobo.33.1">Cloud computing main features</span></span></div>
<p><span class="koboSpan" id="kobo.34.1">However, there are many definitions of cloud computing, each of which has different interpretations and meanings. </span><span class="koboSpan" id="kobo.34.2">The </span><em><span class="koboSpan" id="kobo.35.1">National Institute of Standards and Technology</span></em><span class="koboSpan" id="kobo.36.1"> (</span><strong><span class="koboSpan" id="kobo.37.1">NIST</span></strong><span class="koboSpan" id="kobo.38.1">) has tried to provide a detailed and official explanation (</span><a href="https://csrc.nist.gov/publications/detail/sp/800-145/final"><span class="koboSpan" id="kobo.39.1">https://csrc.nist.gov/publications/detail/sp/800-145/final</span></a><span class="koboSpan" id="kobo.40.1">).</span></p>
<p><span class="koboSpan" id="kobo.41.1">Another feature (not listed in the definition of NIST, but which is the basis of cloud computing) is the concept of virtualization. </span><span class="koboSpan" id="kobo.41.2">This is the possibility of executing multiple </span><em><span class="koboSpan" id="kobo.42.1">OSes</span></em><span class="koboSpan" id="kobo.43.1"> on the same physical resources, guaranteeing numerous advantages, such as scalability, cost reduction, and greater speed in providing new resources to customers.</span></p>
<p><span class="koboSpan" id="kobo.44.1">The most common approaches to virtualization are as follows:</span></p>
<ul>
<li><span class="koboSpan" id="kobo.45.1">Containers</span></li>
<li><span class="koboSpan" id="kobo.46.1">Virtual machines</span></li>
</ul>
<p><span class="koboSpan" id="kobo.47.1">Both solutions have almost the same advantages as far as the isolation of applications is </span><span><span class="koboSpan" id="kobo.48.1">concerned</span></span><span class="koboSpan" id="kobo.49.1">, but they work at different levels of virtualization because the containers virtualize the OS and the virtual machines virtualize the hardware. This means that the containers are more portable and efficient.</span></p>
<p><span class="koboSpan" id="kobo.50.1">The most common application for virtualizing through containers is Docker. </span><span class="koboSpan" id="kobo.50.2">We will go through a brief introduction to this framework and we will see how to containerize (or dockerize) a Python application.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Understanding the cloud computing architecture</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">The architecture of cloud computing refers to a series of components and sub-components that make up the structure of the system. </span><span><span class="koboSpan" id="kobo.3.1">Typically, it can be grouped into the two main sections of </span><em><span class="koboSpan" id="kobo.4.1">F</span></em></span><em><span><span class="koboSpan" id="kobo.5.1">rontend</span></span></em> <span><span class="koboSpan" id="kobo.6.1">and </span><em><span class="koboSpan" id="kobo.7.1">B</span></em></span><span><em><span class="koboSpan" id="kobo.8.1">ackend</span></em><span class="koboSpan" id="kobo.9.1">:</span></span></p>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.10.1"><img src="assets/ee53b3a7-0361-4d4e-a48a-b3e8ec8f6bb3.png" style="width:27.67em;height:20.50em;"/></span></p>
<div class="packt_figref CDPAlignCenter CDPAlign"><span><span class="koboSpan" id="kobo.11.1">Cloud computing architecture</span></span></div>
<p><span class="koboSpan" id="kobo.12.1">Each section has a very specific meaning and scope and is linked to the other via a virtual network or an internet network.</span></p>
<p><span class="koboSpan" id="kobo.13.1">The </span><em><span><span class="koboSpan" id="kobo.14.1">F</span></span><span><span class="koboSpan" id="kobo.15.1">rontend</span></span></em><span><span class="koboSpan" id="kobo.16.1"> </span></span><span class="koboSpan" id="kobo.17.1">refers to the part of the cloud computing system that is visible to the user, which is realized through a series of interfaces and applications that allow the consumer to access the cloud system. </span><span class="koboSpan" id="kobo.17.2">Different cloud computing systems have different UIs.</span></p>
<p><span class="koboSpan" id="kobo.18.1">The </span><em><span><span class="koboSpan" id="kobo.19.1">B</span></span><span><span class="koboSpan" id="kobo.20.1">ackend</span></span></em><span class="koboSpan" id="kobo.21.1"> is the part that is not visible to the customer. </span><span class="koboSpan" id="kobo.21.2">This section contains all the resources that allow the provider to provide cloud computing services such as servers, storage systems, and virtual machines. </span><span class="koboSpan" id="kobo.21.3">The idea behind the creation of the backend is to entrust the management of the entire system to a single central server, which will, therefore, have to constantly monitor traffic and user requests, perform access control, and implement communication protocols.</span></p>
<p><span class="koboSpan" id="kobo.22.1">Among the various components of this architecture, the most important is the Hypervisor, also called the</span><strong><em><span class="koboSpan" id="kobo.23.1"> </span></em></strong><em><span class="koboSpan" id="kobo.24.1">Virtual Machine Manager</span></em><span class="koboSpan" id="kobo.25.1">. </span><span class="koboSpan" id="kobo.25.2">This is a firmware that allocates resources dynamically and also allows you to share a single instance among multiple users. In short, this is the program that realizes virtualization, which is one of the main attributes of cloud computing.</span></p>
<p><span class="koboSpan" id="kobo.26.1">After providing a definition of cloud computing and explaining the essential features, we'll introduce the </span><em><span class="koboSpan" id="kobo.27.1">service models</span></em><span class="koboSpan" id="kobo.28.1"> in which cloud computing services can be provided.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Service models</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">The c</span><span><span class="koboSpan" id="kobo.3.1">loud computing</span></span><span><span class="koboSpan" id="kobo.4.1"> </span></span><span><span class="koboSpan" id="kobo.5.1">services offered by the providers fall into three broad categories:</span></span></p>
<ul>
<li><strong><span class="koboSpan" id="kobo.6.1">S</span></strong><span class="koboSpan" id="kobo.7.1">oftware as a Service</span><span><span class="koboSpan" id="kobo.8.1"> </span></span><span><span class="koboSpan" id="kobo.9.1">(SaaS)</span></span></li>
<li><strong><span class="koboSpan" id="kobo.10.1">P</span></strong><span class="koboSpan" id="kobo.11.1">latform as a Service</span><span><span class="koboSpan" id="kobo.12.1"> </span></span><span><span class="koboSpan" id="kobo.13.1">(PaaS)</span></span></li>
<li><strong><span class="koboSpan" id="kobo.14.1">I</span></strong><span class="koboSpan" id="kobo.15.1">nfrastructure as a Service </span><span><span class="koboSpan" id="kobo.16.1">(IaaS)</span></span></li>
</ul>
<p><span><span class="koboSpan" id="kobo.17.1">This classification led to the definition of a scheme that takes the name of the </span><strong><span class="koboSpan" id="kobo.18.1">SPI</span></strong><span class="koboSpan" id="kobo.19.1"> model (see the </span><strong><span class="koboSpan" id="kobo.20.1">bold</span></strong><span class="koboSpan" id="kobo.21.1"> initials in the previous list). </span><span class="koboSpan" id="kobo.21.2">S</span></span><span><span class="koboSpan" id="kobo.22.1">ometimes it is called the</span></span><span class="koboSpan" id="kobo.23.1"> cloud computing stack</span><span><span class="koboSpan" id="kobo.24.1">, as these categories are based on each other.</span></span></p>
<p><span class="koboSpan" id="kobo.25.1">A detailed description of each of these levels will now be given, following a top-down approach.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">SaaS</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">A SaaS provider provides users with software applications on-demand, which are accessible through any internet device, such as a web browser. </span><span class="koboSpan" id="kobo.2.2">Furthermore, the provider hosts the software application and the underlying infrastructure, relieving the customer from the burden of management and maintenance activities such as software updates and the application of security patches.</span></p>
<p><span class="koboSpan" id="kobo.3.1">There are many advantages of using this model for both the user and the </span><span><span class="koboSpan" id="kobo.4.1">provider. </span><span class="koboSpan" id="kobo.4.2">For the user, </span></span><span class="koboSpan" id="kobo.5.1">there is a considerable reduction in management costs, and for the provider, they have more control over the traffic, thus allowing them to avoid any overloads. </span><span class="koboSpan" id="kobo.5.2">An example of SaaS is any web-based email service, such as </span><strong><span class="koboSpan" id="kobo.6.1">Gmail</span></strong><span class="koboSpan" id="kobo.7.1">, </span><strong><span class="koboSpan" id="kobo.8.1">Outlook</span></strong><span class="koboSpan" id="kobo.9.1">, </span><strong><span class="koboSpan" id="kobo.10.1">Salesforce</span></strong><em><span class="koboSpan" id="kobo.11.1"> </span></em><span class="koboSpan" id="kobo.12.1">and </span><strong><span class="koboSpan" id="kobo.13.1">Yahoo!</span></strong><span class="koboSpan" id="kobo.14.1">.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">PaaS</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Unlike SaaS, this service refers to the entire development environment of an application, not just its use. </span><span class="koboSpan" id="kobo.2.2">So, the PaaS solution provides a cloud platform that is accessible through a web browser for the development, testing, distribution, and management of software applications. </span><span class="koboSpan" id="kobo.2.3">Furthermore, the provider provides web-based interfaces, a multi-tenant architecture, and communication tools in order to allow developers to create </span><span><span class="koboSpan" id="kobo.3.1">applications </span></span><span class="koboSpan" id="kobo.4.1">in a simpler way. </span><span class="koboSpan" id="kobo.4.2">This supports the entire life cycle of the software and also favoring the cooperation.</span></p>
<p><span class="koboSpan" id="kobo.5.1">Examples of PaaS are </span><strong><span class="koboSpan" id="kobo.6.1">Microsoft Azure Services</span></strong><span class="koboSpan" id="kobo.7.1">, </span><strong><span class="koboSpan" id="kobo.8.1">Google App Engine</span></strong><span class="koboSpan" id="kobo.9.1">,</span><strong><span class="koboSpan" id="kobo.10.1"> </span></strong><span class="koboSpan" id="kobo.11.1">and </span><strong><span class="koboSpan" id="kobo.12.1">Amazon Web Services</span></strong><span class="koboSpan" id="kobo.13.1">.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">IaaS</span></h1>
                </header>
            
            <article>
                
<p><span><span class="koboSpan" id="kobo.2.1">IaaS</span></span><span class="koboSpan" id="kobo.3.1"> is a model that offers the computing infrastructure as an on-demand service. </span><span class="koboSpan" id="kobo.3.2">You can, therefore, purchase virtual machines, on which you can run your own software, storage resources (with the possibility of rapidly increasing or reducing the storage capacity based on </span><span><span class="koboSpan" id="kobo.4.1">your</span></span><span class="koboSpan" id="kobo.5.1"> needs), networks, and OS by paying based on what you actually use. </span><span class="koboSpan" id="kobo.5.2">A dynamic infrastructure of this type adds greater scalability, while also significantly reducing costs.</span></p>
<p><span class="koboSpan" id="kobo.6.1">This model is used both by small emerging companies that do not have large capital to invest and by established companies seeking to streamline their hardware architecture. </span><span class="koboSpan" id="kobo.6.2">The range of IaaS sellers is very wide, including </span><strong><span class="koboSpan" id="kobo.7.1">Amazon Web Services</span></strong><span class="koboSpan" id="kobo.8.1">, </span><strong><span class="koboSpan" id="kobo.9.1">IBM</span></strong><span class="koboSpan" id="kobo.10.1">, and </span><strong><span class="koboSpan" id="kobo.11.1">Oracle</span></strong><span class="koboSpan" id="kobo.12.1">.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Distribution models</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Cloud computing architectures are not all the same. </span><span class="koboSpan" id="kobo.2.2">In fact, there are four different distribution models:</span></p>
<ul>
<li><strong><span class="koboSpan" id="kobo.3.1">The public cloud</span></strong></li>
<li><strong><strong><span class="koboSpan" id="kobo.4.1">The private cloud</span></strong></strong></li>
<li><strong><span class="koboSpan" id="kobo.5.1">The cloud community</span></strong></li>
<li><strong><span class="koboSpan" id="kobo.6.1">The hybrid cloud</span></strong></li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Public cloud</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">This distribution model is open to all, both individual users and companies. </span><span class="koboSpan" id="kobo.2.2">Typically, the public cloud runs in a data center owned by the service provider that handles hardware, software, and other support infrastructure. </span><span class="koboSpan" id="kobo.2.3">In this way, the user is exempt from any maintenance activities/expenses.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Private cloud</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Also known as </span><em><span class="koboSpan" id="kobo.3.1">internal clouds</span></em><span class="koboSpan" id="kobo.4.1">, private clouds offer the same advantages as public clouds, but provide greater control over data and processes. </span><span class="koboSpan" id="kobo.4.2">This model is presented as a cloud infrastructure that works exclusively for a company and is therefore managed and hosted within the borders of the given company. </span><span class="koboSpan" id="kobo.4.3">Clearly, the organization that uses it can extend its architecture to any group that it is linked to by a business relationship.</span></p>
<p><span class="koboSpan" id="kobo.5.1">By adopting this type of solution, possible problems concerning the violation of sensitive data and industrial espionage are avoided without neglecting the possibility of using a simplified, configurable, and high-performing working provisioning system. </span><span class="koboSpan" id="kobo.5.2">Precisely for this reason, in recent years, the number of companies that use the private cloud has increased significantly.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Cloud community</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Conceptually, this model describes a shared infrastructure that is implemented and managed by several companies with common interests. </span><span class="koboSpan" id="kobo.2.2">This type of solution is rarely used because sharing the responsibilities and management activities among the various members of the community could become complicated.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Hybrid cloud</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">NIST </span><span><span class="koboSpan" id="kobo.3.1">defines this </span></span><span class="koboSpan" id="kobo.4.1">as the result of the composition of the three implementation models mentioned previously (the private, public, and community clouds), trying to take the advantages of each of the three </span><span><span class="koboSpan" id="kobo.5.1">in order to make up for where the others are weaker</span></span><span class="koboSpan" id="kobo.6.1">. </span><span class="koboSpan" id="kobo.6.2">The clouds used remain distinct entities, and this can cause a lack of operational consistency. </span><span class="koboSpan" id="kobo.6.3">Therefore, companies that adopt this model have the task of guaranteeing, through proprietary technologies, the interoperability of their servers, optimizing them for the specific roles they must play.</span></p>
<p class="mce-root"/>
<p><span class="koboSpan" id="kobo.7.1">A feature that distinguishes the hybrid cloud from all others is the cloudburst or the possibility of being able to dynamically transfer excess traffic from the private cloud to the public </span><span><span class="koboSpan" id="kobo.8.1">cloud</span></span><span class="koboSpan" id="kobo.9.1"> in the presence of large peak demand.</span></p>
<p><span class="koboSpan" id="kobo.10.1">This implementation model is adopted by those companies that intend to share their software applications while retaining their sensitive data in internal clouds.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Cloud computing platforms</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Cloud computing platforms are sets of software and technologies that enable the delivery of resources in the cloud (on-demand, scalable, and virtualized</span><span><span class="koboSpan" id="kobo.3.1"> resources</span></span><span class="koboSpan" id="kobo.4.1">). Among the most popular platforms are those of Google and, of course, the milestone of cloud computing: </span><strong><span class="koboSpan" id="kobo.5.1">Amazon Web Services</span></strong><span class="koboSpan" id="kobo.6.1"> (</span><strong><span class="koboSpan" id="kobo.7.1">AWS</span></strong><span class="koboSpan" id="kobo.8.1">). </span><span class="koboSpan" id="kobo.8.2">Both support Python as a development language.</span></p>
<p><span class="koboSpan" id="kobo.9.1">However, in the next recipe, we will focus on PythonAnywhere, which is a cloud platform developed specifically for the deployment of web applications in the Python programming language.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Developing web applications with PythonAnywhere</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">PythonAnywhere is an online hosting development and service environment based on the Python programming language. </span><span class="koboSpan" id="kobo.2.2">Once registered on the site, you will be directed to the dashboard, which includes an advanced shell and text editor that is made entirely with HTML code. </span><span class="koboSpan" id="kobo.2.3">With this, you can create, modify, and execute your own scripts.</span></p>
<p><span class="koboSpan" id="kobo.3.1">Moreover, this development environment also allows you to choose which version of Python to work with. </span><span class="koboSpan" id="kobo.3.2">In this, a simple wizard helps us to preconfigure an application.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Getting ready</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Let's first see how to get login credentials to the site.</span></p>
<p><span class="koboSpan" id="kobo.3.1">The following screenshot shows the various types of subscriptions, and also, the possibility of obtaining a free account (please go to </span><a href="https://www.pythonanywhere.com/registration/register/beginner/"><span class="koboSpan" id="kobo.4.1">https://www.pythonanywhere.com/registration/register/beginner/</span></a><span class="koboSpan" id="kobo.5.1">):</span></p>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.6.1"><img src="assets/4696816c-2cbe-451c-869b-2f40d7795d20.png"/></span></p>
<div class="packt_figref CDPAlignCenter CDPAlign"><span><span class="koboSpan" id="kobo.7.1">PythonAnywhere: Registration page</span></span></div>
<p><span class="koboSpan" id="kobo.8.1">Once access to the site has been obtained (it is recommended that you create a beginner account), we log in. Given that the Python shells that are integrated into the browsers are very useful, especially for beginners and for introductory programming courses, they are certainly not new from a technological point of view.</span></p>
<p><span><span class="koboSpan" id="kobo.9.1">Instead, </span></span><span class="koboSpan" id="kobo.10.1">the added value of PythonAnywhere is perceived as soon as you log in by accessing the personal dashboard:</span></p>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.11.1"><img src="assets/1154438e-ea7b-4dd5-aa09-ddb777bdf822.png"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.12.1">PythonAnywhere: Dashboard</span></span></div>
<p><span class="koboSpan" id="kobo.13.1">Through the personal dashboard, we can choose which version of Python to run between 2.7 and 3.7, with or without the IPython interface:</span></p>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.14.1"><img src="assets/e36f1f2e-0d04-4b54-88d6-6dbe567056e9.png" style="width:58.58em;height:38.17em;"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.15.1">PythonAnywhere: Console view</span></span></div>
<p><span class="koboSpan" id="kobo.16.1">The number of consoles that can be used varies according to the type of subscription you have. </span><span class="koboSpan" id="kobo.16.2">In our case, having made a beginner account, we can use two Python consoles</span><span><span class="koboSpan" id="kobo.17.1"> at most.</span></span><span class="koboSpan" id="kobo.18.1"> Once selecting a Python shell, such as version 3.5, the following view should open on the web browser:</span></p>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.19.1"><img src="assets/53465f5a-186d-489c-9eab-fa193e4199c4.png" style="width:44.17em;height:13.67em;"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.20.1">PythonAnywhere: Python shell</span></span></div>
<p><span class="koboSpan" id="kobo.21.1">In the following section, we want to show you how to use PythonAnywhere to write a simple web application.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">How to do it...</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Let's have a look at the following steps:</span></p>
<ol>
<li><span class="koboSpan" id="kobo.3.1">On the </span><span class="packt_screen"><span class="koboSpan" id="kobo.4.1">Dashboard</span></span><span class="koboSpan" id="kobo.5.1">, open the </span><span class="packt_screen"><span class="koboSpan" id="kobo.6.1">Web</span></span><span class="koboSpan" id="kobo.7.1"> tab:</span></li>
</ol>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.8.1"><img src="assets/688c7c96-c296-42e7-8da8-aefc386aff11.png"/></span></p>
<div class="packt_figure CDPAlignCenter CDPAlign packt_figref"><span class="hps"><span class="koboSpan" id="kobo.9.1">PythonAnywhere: Web app view</span></span></div>
<ol start="2">
<li><span class="koboSpan" id="kobo.10.1">The interface tells us that we don't have a web </span><span><span class="koboSpan" id="kobo.11.1">application </span></span><span class="koboSpan" id="kobo.12.1">yet. </span><span class="koboSpan" id="kobo.12.2">By selecting </span><span class="packt_screen"><span class="koboSpan" id="kobo.13.1">Add a new web app</span></span><span class="koboSpan" id="kobo.14.1">, the following view opens. </span><span class="koboSpan" id="kobo.14.2">It tells us that our </span><span><span class="koboSpan" id="kobo.15.1">applications </span></span><span class="koboSpan" id="kobo.16.1">will have the following web address: </span><a href="http://loginname.pythonanywhere.com"><span class="koboSpan" id="kobo.17.1">loginname.pythonanywhere.com</span></a><span class="koboSpan" id="kobo.18.1"> (for this example, the web address of the </span><span><span class="koboSpan" id="kobo.19.1">application </span></span><span class="koboSpan" id="kobo.20.1">will be </span><a href="http://giazax.pythonanywhere.com"><span class="MsoHyperlink"><span class="koboSpan" id="kobo.21.1">giazax.pythonanywhere.com</span></span></a><span class="koboSpan" id="kobo.22.1">):</span></li>
</ol>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.23.1"><img src="assets/db5b64c1-b102-47f4-b7f2-1eb5d8a79800.png" style="width:44.67em;height:22.92em;"/></span></p>
<div class="packt_figure CDPAlignCenter CDPAlign packt_figref"><span class="hps"><span class="koboSpan" id="kobo.24.1">PythonAnywhere: Web app wizard</span></span></div>
<ol start="3">
<li><span class="koboSpan" id="kobo.25.1">When we click on </span><span class="packt_screen"><span class="koboSpan" id="kobo.26.1">Next</span></span><span class="koboSpan" id="kobo.27.1">, we can select the Python web framework we want to use:</span></li>
</ol>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.28.1"><img src="assets/c2d207f8-18c7-4def-a938-e7528ea75290.png" style="width:44.67em;height:23.92em;"/></span></p>
<div class="packt_figure CDPAlignCenter CDPAlign packt_figref"><span class="hps"><span class="koboSpan" id="kobo.29.1">PythonAnywhere: Web framework wizard</span></span></div>
<ol start="4">
<li><span class="koboSpan" id="kobo.30.1">We select </span><span class="packt_screen"><span class="koboSpan" id="kobo.31.1">Flask</span></span><span class="koboSpan" id="kobo.32.1"> as a web framework, and then click on </span><span class="packt_screen"><span class="koboSpan" id="kobo.33.1">Next</span></span><span class="koboSpan" id="kobo.34.1"> to choose which Python version we want to use, as shown here:</span></li>
</ol>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.35.1"><img src="assets/e70bb841-e4bc-44ea-a3c1-6409acbcbf73.png"/></span></p>
<div class="packt_figure CDPAlignCenter CDPAlign packt_figref"><span class="hps"><span class="koboSpan" id="kobo.36.1">PythonAnywhere: Web framework wizard</span></span></div>
<div class="packt_infobox"><span class="koboSpan" id="kobo.37.1">Flask is a micro-framework for Python that is easy to install and use, and is used by companies such as Pinterest and LinkedIn.</span><br/>
<br/>
<span><span class="koboSpan" id="kobo.38.1">If you don't know what a framework for creating web applications is, then you can imagine a set of programs with the aim of facilitating the creation of web services such as web servers and APIs. </span><span class="koboSpan" id="kobo.38.2">More information on Flask can be found at </span></span><a href="http://flask.pocoo.org/docs/1.0/"><span class="koboSpan" id="kobo.39.1">http://flask.pocoo.org/docs/1.0/</span></a><span class="koboSpan" id="kobo.40.1">.</span></div>
<ol start="5">
<li><span class="koboSpan" id="kobo.41.1">In the preceding screenshot, we select </span><span class="packt_screen"><span class="koboSpan" id="kobo.42.1">Python 3.5</span></span><span class="koboSpan" id="kobo.43.1"> for </span><span class="packt_screen"><span class="koboSpan" id="kobo.44.1">Flask 1.0.2</span></span><span class="koboSpan" id="kobo.45.1">, then let's click on </span><span class="packt_screen"><span class="koboSpan" id="kobo.46.1">Next</span></span><span class="koboSpan" id="kobo.47.1"> to enter the path for a Python file to use </span><span><span class="koboSpan" id="kobo.48.1">in order </span></span><span class="koboSpan" id="kobo.49.1">to hold the Flask </span><span><span class="koboSpan" id="kobo.50.1">application</span></span><span class="koboSpan" id="kobo.51.1">. Here, the default file is selected:</span></li>
</ol>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.52.1"><img src="assets/cf31fec4-6cf0-4ff9-ad1c-214ce6194f2a.png"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.53.1">PythonAnywhere: Flask project definition</span></span></div>
<ol start="6">
<li><span class="koboSpan" id="kobo.54.1">When we click on </span><span class="packt_screen"><span class="koboSpan" id="kobo.55.1">Next</span></span><span class="koboSpan" id="kobo.56.1"> for the final time, the following screen is displayed, which summarizes the web application's configuration parameters:</span></li>
</ol>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.57.1"><img src="assets/c3ca51d3-dc99-44e5-99bb-5c5196be8342.png"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.58.1">PythonAnywhere: Configuration page for giazax.pythonanywhere.com</span></span></div>
<p><span class="koboSpan" id="kobo.59.1">Now, let's see what happens with this.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">How it works...</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">In the address bar of the web browser, type the URL of our web application, in our case, </span><kbd><span class="koboSpan" id="kobo.3.1">https://giazax.pythonanywhere.com/</span></kbd><span class="koboSpan" id="kobo.4.1">. </span><span class="koboSpan" id="kobo.4.2">The site shows a simple welcome phrase:</span></p>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.5.1"><img src="assets/5e9035b6-5b9d-421d-8aa0-3c6ecb2b0dec.png"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.6.1">giazax.pythonanywhere.com site page</span></span></div>
<p><span class="koboSpan" id="kobo.7.1">The source code for this application can be seen by selecting </span><span class="packt_screen"><span class="koboSpan" id="kobo.8.1">Go to directory</span></span><span class="koboSpan" id="kobo.9.1"> in correspondence with the </span><span class="packt_screen"><span class="koboSpan" id="kobo.10.1">Source code</span></span><span class="koboSpan" id="kobo.11.1"> label:</span></p>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.12.1"><img src="assets/df75e642-d6d0-48a7-8f8c-ed458c70f4dd.png"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.13.1">PythonAnywhere: Configuration page</span></span></div>
<p><span class="koboSpan" id="kobo.14.1">Here, it is possible to analyze the files that make up the web application:</span></p>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.15.1"><img src="assets/9d75d76e-4bb5-4a18-b904-3aabf59b9158.png"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.16.1">PythonAnywhere: Project site repository</span></span></div>
<p><span class="koboSpan" id="kobo.17.1">It is also possible to upload new files and possibly modify the contents. </span><span class="koboSpan" id="kobo.17.2">Here, we select the </span><kbd><span class="koboSpan" id="kobo.18.1">flask_app.py</span></kbd><span class="koboSpan" id="kobo.19.1"> </span><span><span class="koboSpan" id="kobo.20.1">file </span></span><span class="koboSpan" id="kobo.21.1">of our first web application. </span><span class="koboSpan" id="kobo.21.2">The content looks like a minimal Flask application:</span></p>
<pre><span class="koboSpan" id="kobo.22.1"># A very simple Flask Hello World app for you to get started with...</span><br/><br/><span class="koboSpan" id="kobo.23.1">from flask import Flask</span><br/><br/><span class="koboSpan" id="kobo.24.1">app = Flask(__name__)</span><br/><br/><span class="koboSpan" id="kobo.25.1">@app.route('/')</span><br/><span class="koboSpan" id="kobo.26.1">def hello_world():</span><br/><span class="koboSpan" id="kobo.27.1">    return 'Hello from Flask!'</span></pre>
<p><span class="koboSpan" id="kobo.28.1">The </span><kbd><span class="koboSpan" id="kobo.29.1">route()</span></kbd><span class="koboSpan" id="kobo.30.1"> decorator is used by Flask to define the URL that should trigger the </span><kbd><span class="koboSpan" id="kobo.31.1">hello_world</span></kbd><span class="koboSpan" id="kobo.32.1"> </span><span><span class="koboSpan" id="kobo.33.1">function.</span></span><span class="koboSpan" id="kobo.34.1"> This simple function returns the message displayed in the web browser.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">There's more...</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">The PythonAnywhere shell is made with HTML, making it virtually portable across multiple platforms and browsers, including Apple's mobile versions. </span><span class="koboSpan" id="kobo.2.2">It is possible to keep several shells open (in variable numbers according to the chosen account profile), share them with other users, or terminate them as needed.</span></p>
<p><span class="koboSpan" id="kobo.3.1">PythonAnywhere has a rather advanced text editor with syntax coloring and automatic indentation, through which you can create, modify, and execute your own scripts. </span><span class="koboSpan" id="kobo.3.2">The files are stored in a storage area of varying size depending on the profile of the account, but if there is </span><span><span class="koboSpan" id="kobo.4.1">not enough </span></span><span class="koboSpan" id="kobo.5.1">space or if you wanted a more fluid integration with the filesystem of your PC, then PythonAnywhere allows you to use a Dropbox account, making your shared folder accessible on the popular storage service.</span></p>
<p><span class="koboSpan" id="kobo.6.1">Each shell can contain a WSGI script that corresponds to a specific URL. </span><span class="koboSpan" id="kobo.6.2">It is also possible to start a bash shell from which to invoke Git and interact with the filesystem. </span><span class="koboSpan" id="kobo.6.3">Finally, as we have seen, there is a wizard </span><span><span class="koboSpan" id="kobo.7.1">available </span></span><span class="koboSpan" id="kobo.8.1">that allows us to preconfigure a </span><strong><span class="koboSpan" id="kobo.9.1">Django</span></strong><span class="koboSpan" id="kobo.10.1"> and </span><strong><span class="koboSpan" id="kobo.11.1">web2py</span></strong><span class="koboSpan" id="kobo.12.1"> or Flask application.</span></p>
<p><span class="koboSpan" id="kobo.13.1">Furthermore, there is the possibility of exploiting a </span><strong><span class="koboSpan" id="kobo.14.1">MySQL</span></strong><span class="koboSpan" id="kobo.15.1"> database, which is a series of cron jobs that allows us to execute certain scripts periodically. </span><span class="koboSpan" id="kobo.15.2">Therefore, we will get the true essence of PythonAnywhere</span><em><span class="koboSpan" id="kobo.16.1">:</span></em><span class="koboSpan" id="kobo.17.1"> deployment of web applications at the speed of light.</span></p>
<p><em><span class="koboSpan" id="kobo.18.1">PythonAnywhere</span></em><span class="koboSpan" id="kobo.19.1"> relies completely on the</span><span><span class="koboSpan" id="kobo.20.1"> </span></span><strong><span class="koboSpan" id="kobo.21.1">Amazon EC2</span></strong> <span><span class="koboSpan" id="kobo.22.1">infrastructure, </span></span><span class="koboSpan" id="kobo.23.1">so there should be no reason not to trust the service. </span><span class="koboSpan" id="kobo.23.2">For this reason, it is strongly recommended for those who think of making a personal use. </span><span class="koboSpan" id="kobo.23.3">The beginner account offers more resources than the corresponding one on </span><strong><span class="koboSpan" id="kobo.24.1">Heroku</span></strong><span class="koboSpan" id="kobo.25.1"> (</span><a href="https://www.heroku.com/"><span class="koboSpan" id="kobo.26.1">https://www.heroku.com/</span></a><span class="koboSpan" id="kobo.27.1">), the deployment is simpler than on </span><strong><span class="koboSpan" id="kobo.28.1">OpenShift</span></strong><span class="koboSpan" id="kobo.29.1"> (</span><a href="https://www.openshift.com/"><span class="koboSpan" id="kobo.30.1">https://www.openshift.com/</span></a><span class="koboSpan" id="kobo.31.1">), and the whole system is generally much more flexible than </span><strong><span class="koboSpan" id="kobo.32.1">Google App Engine</span></strong><span class="koboSpan" id="kobo.33.1"> (</span><a href="https://cloud.google.com/appengine/"><span class="koboSpan" id="kobo.34.1">https://cloud.google.com/appengine/</span></a><span class="koboSpan" id="kobo.35.1">).</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">See also</span></h1>
                </header>
            
            <article>
                
<ul>
<li><span class="koboSpan" id="kobo.2.1">The main resources on PythonAnywhere can be found here: </span><span><a href="https://www.pythonanywhere.com"><span class="koboSpan" id="kobo.3.1">https://www.pythonanywhere.com</span></a><span class="koboSpan" id="kobo.4.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.5.1">For web programming via Python, PythonAnywhere supports </span><strong><span class="koboSpan" id="kobo.6.1">Django</span></strong><span class="koboSpan" id="kobo.7.1"> (</span><a href="https://www.djangoproject.com/"><span class="koboSpan" id="kobo.8.1">https://www.djangoproject.com/</span></a><span class="koboSpan" id="kobo.9.1">) and </span><strong><span class="koboSpan" id="kobo.10.1">web2py</span></strong><span class="koboSpan" id="kobo.11.1"> (</span><a href="http://www.web2py.com/"><span class="koboSpan" id="kobo.12.1">http://www.web2py.com/</span></a><span class="koboSpan" id="kobo.13.1">), </span><span><span class="koboSpan" id="kobo.14.1">in addition to </span></span><strong><span class="koboSpan" id="kobo.15.1">Flask</span></strong><span class="koboSpan" id="kobo.16.1">.</span></li>
</ul>
<p><span class="koboSpan" id="kobo.17.1">As with </span><strong><span class="koboSpan" id="kobo.18.1">Flask</span></strong><span class="koboSpan" id="kobo.19.1">, </span><span><span class="koboSpan" id="kobo.20.1">it is recommended that you</span></span><span class="koboSpan" id="kobo.21.1"> visit these sites for information on how to work with these libraries.</span></p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Dockerizing a Python application</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Containers are virtualization environments. </span><span class="koboSpan" id="kobo.2.2">They include everything that the software needs, namely libraries, dependencies, filesystems, </span><span><span class="koboSpan" id="kobo.3.1">and </span></span><span class="koboSpan" id="kobo.4.1">network interfaces. </span><span class="koboSpan" id="kobo.4.2">Unlike classic virtual machines, all the aforementioned elements share the kernel with the machine they are running on. </span><span class="koboSpan" id="kobo.4.3">In this way, the impact on the use of the resources of the host node is greatly reduced.</span></p>
<p><span class="koboSpan" id="kobo.5.1">This makes the container a very attractive technology in terms of scalability, performance, and isolation. </span><span class="koboSpan" id="kobo.5.2">Containers are not young technology; they had success with the launch of Docker in 2013. </span><span class="koboSpan" id="kobo.5.3">Since then, they have completely revolutionized the standards used for application development and management.</span></p>
<p><span class="koboSpan" id="kobo.6.1">Docker is a container platform based on the implementation of </span><strong><span class="koboSpan" id="kobo.7.1">Linux Containers </span></strong><span class="koboSpan" id="kobo.8.1">(</span><strong><span class="koboSpan" id="kobo.9.1">LXC</span></strong><span class="koboSpan" id="kobo.10.1">), which extends the functionality of this technology with the ability to manage containers as self-contained images, and adds additional tools for coordinating their life cycle and saving their state.</span></p>
<p><span class="koboSpan" id="kobo.11.1">The idea of containerization is precisely to allow a given application to be executed on any type of system since all its dependencies are already included in the container itself.</span></p>
<p><span class="koboSpan" id="kobo.12.1">In this way, the application becomes highly portable and can be easily tested and deployed on any type of environment, both on-premises and, above all, in the cloud.</span></p>
<p><span><span class="koboSpan" id="kobo.13.1">Now, </span></span><span class="koboSpan" id="kobo.14.1">let's see how to dockerize a Python application using Docker.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Getting ready</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">The Docker team's </span><span><span class="koboSpan" id="kobo.3.1">intuition</span></span><span class="koboSpan" id="kobo.4.1"> was to take the concept of a container and build an ecosystem around it that would simplify its use. </span><span class="koboSpan" id="kobo.4.2">This ecosystem includes a series of tools:</span></p>
<ul>
<li><span class="koboSpan" id="kobo.5.1">Docker engine (</span><a href="https://www.docker.com/products/docker-engine"><span class="koboSpan" id="kobo.6.1">https://www.docker.com/products/docker-engine</span></a><span class="koboSpan" id="kobo.7.1">)</span></li>
<li><span class="koboSpan" id="kobo.8.1">Docker toolbox (</span><a href="https://docs.docker.com/toolbox/"><span class="koboSpan" id="kobo.9.1">https://docs.docker.com/toolbox/</span></a><span class="koboSpan" id="kobo.10.1">)</span></li>
<li><span class="koboSpan" id="kobo.11.1">Swarm (</span><a href="https://docs.docker.com/engine/swarm/"><span class="koboSpan" id="kobo.12.1">https://docs.docker.com/engine/swarm/</span></a><span class="koboSpan" id="kobo.13.1">)</span></li>
<li><span class="koboSpan" id="kobo.14.1">Kitematic (</span><a href="https://kitematic.com/"><span class="koboSpan" id="kobo.15.1">https://kitematic.com/</span></a><span class="koboSpan" id="kobo.16.1">)</span></li>
</ul>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Installing Docker for Windows</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">The installation is quite simple: once you have downloaded the installer (</span><a href="https://docs.docker.com/docker-for-windows/install/"><span class="koboSpan" id="kobo.3.1">https://docs.docker.com/docker-for-windows/install/</span></a><span class="koboSpan" id="kobo.4.1">), just run it and you're done. </span><span class="koboSpan" id="kobo.4.2">The installation process is generally very linear. </span><span class="koboSpan" id="kobo.4.3">The only thing that needs attention is the final phase of the installation, in which it might be required to enable Hyper-V features. </span><span class="koboSpan" id="kobo.4.4">If so, then we accept and restart the machine.</span></p>
<p><span class="koboSpan" id="kobo.5.1">Once the computer is restarted, the Docker icon should appear in the system tray in the bottom right of the screen.</span></p>
<p><span class="koboSpan" id="kobo.6.1">Open Command Prompt or the PowerShell console and check whether everything is okay by executing the </span><kbd><span class="koboSpan" id="kobo.7.1">docker version</span></kbd><span class="koboSpan" id="kobo.8.1"> command:</span></p>
<pre><strong><span class="koboSpan" id="kobo.9.1">C:\&gt;docker version</span></strong><br/><strong><span class="koboSpan" id="kobo.10.1">Client: Docker Engine - Community</span></strong><br/><strong><span class="koboSpan" id="kobo.11.1"> Version: 18.09.2</span></strong><br/><strong><span class="koboSpan" id="kobo.12.1"> API version: 1.39</span></strong><br/><strong><span class="koboSpan" id="kobo.13.1"> Go version: go1.10.8</span></strong><br/><strong><span class="koboSpan" id="kobo.14.1"> Git commit: 6247962</span></strong><br/><strong><span class="koboSpan" id="kobo.15.1"> Built: Sun Feb 10 04:12:31 2019</span></strong><br/><strong><span class="koboSpan" id="kobo.16.1"> OS/Arch: windows/amd64</span></strong><br/><strong><span class="koboSpan" id="kobo.17.1"> Experimental: false</span></strong><br/><br/><strong><span class="koboSpan" id="kobo.18.1">Server: Docker Engine - Community</span></strong><br/><strong><span class="koboSpan" id="kobo.19.1"> Engine:</span></strong><br/><strong><span class="koboSpan" id="kobo.20.1">  Version: 18.09.2</span></strong><br/><strong><span class="koboSpan" id="kobo.21.1">  API version: 1.39 (minimum version 1.12)</span></strong><br/><strong><span class="koboSpan" id="kobo.22.1">  Go version: go1.10.6</span></strong><br/><strong><span class="koboSpan" id="kobo.23.1">  Git commit: 6247962</span></strong><br/><strong><span class="koboSpan" id="kobo.24.1">  Built: Sun Feb 10 04:13:06 2019</span></strong><br/><strong><span class="koboSpan" id="kobo.25.1">  OS/Arch: linux/amd64</span></strong><br/><strong><span class="koboSpan" id="kobo.26.1">  Experimental: false</span></strong></pre>
<p><span class="koboSpan" id="kobo.27.1">The most interesting part of the output is the subdivision that is made between the client and the server. </span><span class="koboSpan" id="kobo.27.2">The client is our local Windows system, while the server is the Linux virtual machine that Docker instantiated behind the scenes. </span><span class="koboSpan" id="kobo.27.3">The parts communicate with each other thanks to the API layer, as mentioned in the introduction of this recipe.</span></p>
<p><span class="koboSpan" id="kobo.28.1">Now, let's see how to containerize (or dockerize) a simple Python application.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">How to do it...</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Let's imagine we want to deploy the following Python application, which we call </span><kbd><span class="koboSpan" id="kobo.3.1">dockerize.py</span></kbd><span class="koboSpan" id="kobo.4.1">:</span></p>
<pre><span class="koboSpan" id="kobo.5.1">from flask import Flask</span><br/><span class="koboSpan" id="kobo.6.1">app = Flask(__name__)</span><br/><span class="koboSpan" id="kobo.7.1">@app.route("/")</span><br/><span class="koboSpan" id="kobo.8.1">def hello():</span><br/><span class="koboSpan" id="kobo.9.1">    return "Hello World!"</span><br/><span class="koboSpan" id="kobo.10.1">if __name__ == "__main__":</span><br/><span class="koboSpan" id="kobo.11.1">    app.run(host="0.0.0.0", port=int("5000"), debug=True)</span></pre>
<p><span class="koboSpan" id="kobo.12.1">The example application uses the </span><kbd><span class="koboSpan" id="kobo.13.1">Flask</span></kbd><span class="koboSpan" id="kobo.14.1"> module. </span><span class="koboSpan" id="kobo.14.2">It implements a simple web application at the localhost address, </span><kbd><span class="koboSpan" id="kobo.15.1">5000</span></kbd><span class="koboSpan" id="kobo.16.1">.</span></p>
<p><span class="koboSpan" id="kobo.17.1">The first step is to create the following text file, with the extension of </span><kbd><span class="koboSpan" id="kobo.18.1">.py</span></kbd><span class="koboSpan" id="kobo.19.1">, which we will call </span><kbd><span class="koboSpan" id="kobo.20.1">Dockerfile.py</span></kbd><span class="koboSpan" id="kobo.21.1">:</span></p>
<pre style="padding-left: 60px"><span class="koboSpan" id="kobo.22.1">FROM python:alpine3.7</span><br/><span class="koboSpan" id="kobo.23.1">COPY . </span><span class="koboSpan" id="kobo.23.2">/app</span><br/><span class="koboSpan" id="kobo.24.1">WORKDIR /app</span><br/><span class="koboSpan" id="kobo.25.1">RUN pip install -r requirements.txt</span><br/><span class="koboSpan" id="kobo.26.1">EXPOSE 5000</span><br/><span class="koboSpan" id="kobo.27.1">CMD python ./dockerize.py</span></pre>
<p class="mce-root"><span class="koboSpan" id="kobo.28.1">The directives listed in the previous code perform the following tasks:</span></p>
<ul>
<li><kbd><span class="koboSpan" id="kobo.29.1">FROM python: alpine3.7</span></kbd><span class="koboSpan" id="kobo.30.1"> instructs Docker to use Python version 3.7.</span></li>
<li><kbd><span class="koboSpan" id="kobo.31.1">COPY</span></kbd><span class="koboSpan" id="kobo.32.1"> copies the application into the container image.</span></li>
<li><kbd><span><span class="koboSpan" id="kobo.33.1">WORKDIR</span></span></kbd><span class="koboSpan" id="kobo.34.1"> sets the working directory (</span><kbd><span class="koboSpan" id="kobo.35.1">WORKDIR</span></kbd><span><span class="koboSpan" id="kobo.36.1">)</span></span><span><span class="koboSpan" id="kobo.37.1">.</span></span></li>
<li><span><span class="koboSpan" id="kobo.38.1">The </span></span><kbd><span class="koboSpan" id="kobo.39.1">RUN</span></kbd><span><span class="koboSpan" id="kobo.40.1"> </span></span><span><span class="koboSpan" id="kobo.41.1">instruction calls the</span></span><span class="koboSpan" id="kobo.42.1"> </span><kbd><span class="koboSpan" id="kobo.43.1">pip</span></kbd><span class="koboSpan" id="kobo.44.1"> </span><span><span class="koboSpan" id="kobo.45.1">installer, pointing to the </span><kbd><span class="koboSpan" id="kobo.46.1">requirements.txt</span></kbd><span class="koboSpan" id="kobo.47.1"> file. </span><span class="koboSpan" id="kobo.47.2">It contains the list of dependencies that the application must execute (in our case the only dependence is </span><kbd><span class="koboSpan" id="kobo.48.1">flask</span></kbd><span class="koboSpan" id="kobo.49.1">).</span></span></li>
<li><span class="koboSpan" id="kobo.50.1">The </span><kbd><span class="koboSpan" id="kobo.51.1">EXPOSE</span></kbd><span class="koboSpan" id="kobo.52.1"> directive exposes to the port that is used by Flask.</span></li>
</ul>
<p><span class="koboSpan" id="kobo.53.1">So, in summary, we have written three files:</span></p>
<ul>
<li><span class="koboSpan" id="kobo.54.1">The application to be containerized: </span><kbd><span class="koboSpan" id="kobo.55.1">dockerize.py</span></kbd></li>
<li><kbd><span class="koboSpan" id="kobo.56.1">Dockerfile</span></kbd></li>
<li><span class="koboSpan" id="kobo.57.1">The dependency list file</span></li>
</ul>
<p><span class="koboSpan" id="kobo.58.1">So, we need to create an image of the </span><kbd><span class="koboSpan" id="kobo.59.1">dockerize.py</span></kbd><span><span class="koboSpan" id="kobo.60.1"> application:</span></span></p>
<pre><span class="koboSpan" id="kobo.61.1">docker build --tag dockerize.py</span></pre>
<p><span class="koboSpan" id="kobo.62.1">This will tag the </span><kbd><span class="koboSpan" id="kobo.63.1">my-python-app</span></kbd><span class="koboSpan" id="kobo.64.1"> image</span><span><span class="koboSpan" id="kobo.65.1"> </span></span><span class="koboSpan" id="kobo.66.1">and build it.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">How it works...</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">After the </span><kbd><span class="koboSpan" id="kobo.3.1">my-python-app</span></kbd> <span><span class="koboSpan" id="kobo.4.1">image</span></span><span class="koboSpan" id="kobo.5.1"> is built, you can run it as a container:</span></p>
<pre><strong><span class="koboSpan" id="kobo.6.1">docker run -p 5000:5000 dockerize.py</span></strong></pre>
<p><span class="koboSpan" id="kobo.7.1">The application is then started as a container, after which the name parameter sends the name to the container and the </span><kbd><span class="koboSpan" id="kobo.8.1">-p</span></kbd><span class="koboSpan" id="kobo.9.1"> parameter maps the </span><kbd><span class="koboSpan" id="kobo.10.1">5000</span></kbd> <span><span class="koboSpan" id="kobo.11.1">host port </span></span><span class="koboSpan" id="kobo.12.1">to the container port of </span><kbd><span class="koboSpan" id="kobo.13.1">5000</span></kbd><span class="koboSpan" id="kobo.14.1">.</span></p>
<p><span class="koboSpan" id="kobo.15.1">Next, you need to open your web browser, then on the address bar, type </span><kbd><span class="koboSpan" id="kobo.16.1">localhost: 5000</span></kbd><span class="koboSpan" id="kobo.17.1">. </span><span class="koboSpan" id="kobo.17.2">If everything worked the right way, then you should see the following web page:</span></p>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.18.1"><img src="assets/bbba23ab-e0cf-4174-9c0e-63b7b8a520b6.png"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.19.1">Docker application</span></span></div>
<p><span class="koboSpan" id="kobo.20.1">Docker runs the </span><kbd><span class="koboSpan" id="kobo.21.1">dockerize.py</span></kbd><span class="koboSpan" id="kobo.22.1"> container by using the </span><kbd><span class="koboSpan" id="kobo.23.1">run</span></kbd><span class="koboSpan" id="kobo.24.1"> command, and the result is a web application. </span><span class="koboSpan" id="kobo.24.2">The image contains the instructions necessary for the operation of the container.</span></p>
<p><span class="koboSpan" id="kobo.25.1">The correlation between container and image can be understood by referring to the object-oriented programming paradigm by associating the image with a class and the container with the class instance.</span></p>
<p><span class="koboSpan" id="kobo.26.1">It is useful to recap what happens when we create an instance of a container:</span></p>
<ul>
<li><span class="koboSpan" id="kobo.27.1">The image of the container is (if not already present) unloaded locally.</span></li>
<li><span class="koboSpan" id="kobo.28.1">An environment</span><span><span class="koboSpan" id="kobo.29.1"> in which to start the container</span></span><span class="koboSpan" id="kobo.30.1"> is created.</span></li>
<li><span class="koboSpan" id="kobo.31.1">A message is printed on the screen.</span></li>
<li><span class="koboSpan" id="kobo.32.1">The previously created environment is then abandoned.</span></li>
</ul>
<p><span class="koboSpan" id="kobo.33.1">This all takes place in a few seconds and with a simple, intuitive, and readable command.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">There's more...</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Apparently, containers and virtual machines seem to be very similar concepts. </span><span class="koboSpan" id="kobo.2.2">But although these two solutions have common characteristics, they are profoundly different technologies, in the same way, that we must start thinking about how the architectures of our applications are different. </span><span class="koboSpan" id="kobo.2.3">We can create a container with our monolithic application inside, but in this way, we will not fully exploit the strength of the containers, and therefore, of Docker.</span></p>
<p><span class="koboSpan" id="kobo.3.1">A possible software architecture suitable for a container infrastructure is the classic</span><span><span class="koboSpan" id="kobo.4.1"> </span></span><span class="koboSpan" id="kobo.5.1">microservice</span><span><span class="koboSpan" id="kobo.6.1"> </span></span><span class="koboSpan" id="kobo.7.1">architecture. </span><span class="koboSpan" id="kobo.7.2">The idea is to break down the application into many small components—each with their own specific task—that are able to exchange messages and cooperate with each other. </span><span class="koboSpan" id="kobo.7.3">The deployment of these components will then take place individually, in the form of many containers.</span></p>
<p><span class="koboSpan" id="kobo.8.1">A scenario that can be handled with microservices is absolutely impractical with a virtual machine since every new virtual machine instantiated would require a good expenditure of energy for the host machine. </span><span class="koboSpan" id="kobo.8.2">Containers, on the other hand, are very light, since they carry out completely different virtualization from that practiced by virtual machines:</span></p>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.9.1"><img src="assets/f52f2b34-c17f-4138-80f4-e59f1fc1210e.png" style="width:42.92em;height:22.58em;"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.10.1">Microservice architecture in virtual machine and Docker implementation</span></span></div>
<p><span class="koboSpan" id="kobo.11.1">In virtual machines, a tool called a</span><span><span class="koboSpan" id="kobo.12.1"> </span></span><strong><span class="koboSpan" id="kobo.13.1">Hypervisor</span></strong><span><span class="koboSpan" id="kobo.14.1"> </span></span><span class="koboSpan" id="kobo.15.1">takes care of reserving (statically or dynamically) a certain amount of resources from the host </span><span><span class="koboSpan" id="kobo.16.1">OS</span></span><span class="koboSpan" id="kobo.17.1"> to be dedicated to one or more </span><span><span class="koboSpan" id="kobo.18.1">OSes</span></span><span class="koboSpan" id="kobo.19.1">, called </span><strong><span class="koboSpan" id="kobo.20.1">guests</span></strong><span class="koboSpan" id="kobo.21.1"> or </span><strong><span class="koboSpan" id="kobo.22.1">hosts</span></strong><span class="koboSpan" id="kobo.23.1">. </span><span class="koboSpan" id="kobo.23.2">A guest </span><span><span class="koboSpan" id="kobo.24.1">OS</span></span><span class="koboSpan" id="kobo.25.1"> will be completely isolated from the host </span><span><span class="koboSpan" id="kobo.26.1">OS</span></span><span class="koboSpan" id="kobo.27.1">. </span><span class="koboSpan" id="kobo.27.2">This mechanism is very expensive in terms of resources, so the idea of combining a microservice with a virtual machine is completely impossible.</span></p>
<p><span class="koboSpan" id="kobo.28.1">Containers, on the other hand, make a completely different contribution to the issue. </span><span class="koboSpan" id="kobo.28.2">The isolation is much blander and all the running containers share the same kernel as the underlying </span><span><span class="koboSpan" id="kobo.29.1">OS</span></span><span class="koboSpan" id="kobo.30.1">. </span><span class="koboSpan" id="kobo.30.2">Hypervisor overhead completely disappears, and a single host can host hundreds of containers.</span></p>
<p><span class="koboSpan" id="kobo.31.1">When we ask Docker to run a container from its image, it must be present on the local disk, otherwise Docker will warn us of the problem (with a message reading </span><span class="packt_screen"><span class="koboSpan" id="kobo.32.1">Unable to find image 'hello-world: latest' locally</span></span><span class="koboSpan" id="kobo.33.1">) and will download it autonomously.</span></p>
<p><span class="koboSpan" id="kobo.34.1">To find out which images were downloaded from Docker on our computer, we use the </span><kbd><span class="koboSpan" id="kobo.35.1">docker images</span></kbd><span class="koboSpan" id="kobo.36.1"> </span><span><span class="koboSpan" id="kobo.37.1">command:</span></span></p>
<pre><strong><span class="koboSpan" id="kobo.38.1">C:\&gt;docker images</span></strong><br/><strong><span class="koboSpan" id="kobo.39.1">REPOSITORY TAG IMAGE ID CREATED SIZE</span></strong><br/><strong><span class="koboSpan" id="kobo.40.1">dockerize.py latest bc3d70b05ed4 23 hours ago 91.8MB</span></strong><br/><strong><span class="koboSpan" id="kobo.41.1">&lt;none&gt; &lt;none&gt; ca18efb44b3c 24 hours ago 91.8MB</span></strong><br/><strong><span class="koboSpan" id="kobo.42.1">python alpine3.7 00be2573e9f7 2 months ago 81.3MB</span></strong></pre>
<p><span class="koboSpan" id="kobo.43.1">The repository is a container of related images. </span><span class="koboSpan" id="kobo.43.2">For example, the dockerize repository contains various versions of the dockerize image. </span><span class="koboSpan" id="kobo.43.3">In the Docker world, the term </span><strong><span class="koboSpan" id="kobo.44.1">tag</span></strong><span class="koboSpan" id="kobo.45.1"> is more correctly used to express the concept of image versioning. </span><span class="koboSpan" id="kobo.45.2">In the preceding code example, the image has been tagged as the latest and is the only tag available for the dockerize repository.</span></p>
<p><span class="koboSpan" id="kobo.46.1">The latest tag is the default tag: whenever we refer to a repository without specifying the tag name, Docker will implicitly refer to the latest tag, and if this does not exist, then an error will be shown. </span><span class="koboSpan" id="kobo.46.2">T</span><span><span class="koboSpan" id="kobo.47.1">herefore, </span></span><span class="koboSpan" id="kobo.48.1">as a best practice, the repository tag form would be preferable as it allows greater predictability regarding the content of the image, avoiding possible conflicts between containers and errors due to the lack of the latest tag.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">See also</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Container</span><span><em><span class="koboSpan" id="kobo.3.1"> </span></em><span class="koboSpan" id="kobo.4.1">technology is</span></span><span class="koboSpan" id="kobo.5.1"> a very broad concept that can be explored by consulting numerous articles and examples of applications on the web. </span><span class="koboSpan" id="kobo.5.2">However, before starting this long and difficult journey, it is advisable to start from the website (</span><a href="https://www.docker.com/"><span class="koboSpan" id="kobo.6.1">https://www.docker.com/</span></a><span class="koboSpan" id="kobo.7.1">), which is</span><span><span class="koboSpan" id="kobo.8.1"> complete and fully informative.</span></span></p>
<p><span class="koboSpan" id="kobo.9.1">In the next section, we will examine the main features of serverless computing, whose main goal is to make it easier for a software developer to compose code that is designed to run on a cloud platform.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Introducing serverless computing</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">In recent years, a new service model named </span><strong><span class="koboSpan" id="kobo.3.1">Function as a Service</span></strong><span class="koboSpan" id="kobo.4.1"> (</span><strong><span class="koboSpan" id="kobo.5.1">FaaS</span></strong><span class="koboSpan" id="kobo.6.1">) </span><span><span class="koboSpan" id="kobo.7.1">has been developed, which is </span></span><span class="koboSpan" id="kobo.8.1">also known as </span><strong><span class="koboSpan" id="kobo.9.1">serverless computing</span></strong><span class="koboSpan" id="kobo.10.1">.</span></p>
<p><span class="koboSpan" id="kobo.11.1">Serverless computing is a cloud computing paradigm that allows the execution of applications without worrying about problems related to the underlying infrastructure. </span><span class="koboSpan" id="kobo.11.2">The term </span><strong><span class="koboSpan" id="kobo.12.1">serverless</span></strong><span class="koboSpan" id="kobo.13.1"> could be misleading; in fact, it could be thought that this model does not foresee the use of processing servers. </span><span class="koboSpan" id="kobo.13.2">In reality, it indicates that the provisioning, scalability, and management of the servers on which the applications are executed are administered automatically and in a completely transparent manner for the developer. </span><span class="koboSpan" id="kobo.13.3">Everything is possible thanks to a new architecture model called </span><strong><span class="koboSpan" id="kobo.14.1">serverless</span></strong><span class="koboSpan" id="kobo.15.1">.</span></p>
<p><span class="koboSpan" id="kobo.16.1">The first FaaS model dates back to </span><strong><span class="koboSpan" id="kobo.17.1">Amazon</span></strong><span class="koboSpan" id="kobo.18.1">, when the </span><strong><span class="koboSpan" id="kobo.19.1">AWS Lambda</span></strong><span class="koboSpan" id="kobo.20.1"> service was released in 2014. </span><span class="koboSpan" id="kobo.20.2">Over time, other alternatives were added to the Amazon solution, which were developed by other major vendors such as </span><strong><span class="koboSpan" id="kobo.21.1">Microsoft</span></strong><span class="koboSpan" id="kobo.22.1">, with its </span><strong><span class="koboSpan" id="kobo.23.1">Azure Functions</span></strong><span class="koboSpan" id="kobo.24.1">, and by </span><strong><span class="koboSpan" id="kobo.25.1">IBM</span></strong><span class="koboSpan" id="kobo.26.1"> and </span><strong><span class="koboSpan" id="kobo.27.1">Google</span></strong><span class="koboSpan" id="kobo.28.1">, with their own </span><strong><span class="koboSpan" id="kobo.29.1">Cloud Functions</span></strong><span class="koboSpan" id="kobo.30.1">. </span><span class="koboSpan" id="kobo.30.2">There are also valid open source solutions: among the most commonly used, we have </span><strong><span class="koboSpan" id="kobo.31.1">Apache OpenWhisk</span></strong><span class="koboSpan" id="kobo.32.1">, which is used by </span><strong><span class="koboSpan" id="kobo.33.1">IBM</span></strong><span class="koboSpan" id="kobo.34.1"> on </span><strong><span class="koboSpan" id="kobo.35.1">Bluemix</span></strong><span class="koboSpan" id="kobo.36.1"> for its serverless offering, but also </span><strong><span class="koboSpan" id="kobo.37.1">OpenLambda</span></strong><span class="koboSpan" id="kobo.38.1"> and </span><strong><span class="koboSpan" id="kobo.39.1">IronFunctions</span></strong><span class="koboSpan" id="kobo.40.1">, with the latter being based on Docker's container technology.</span></p>
<p><span class="koboSpan" id="kobo.41.1">In this recipe, we see how to implement a serverless Python function via </span><strong><span class="koboSpan" id="kobo.42.1">AWS Lambda</span></strong><span class="koboSpan" id="kobo.43.1">.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Getting ready</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">AWS is a whole class of cloud services offered and administered through a common interface. The common interface through which the services are offered in the AWS web console is reachable at </span><a href="https://console.aws.amazon.com/"><span class="koboSpan" id="kobo.3.1">https://console.aws.amazon.com/</span></a><span class="koboSpan" id="kobo.4.1">.</span></p>
<p><span class="koboSpan" id="kobo.5.1">This type of service is charged. </span><span class="koboSpan" id="kobo.5.2">However, </span><span><span class="koboSpan" id="kobo.6.1">for the first year,</span></span><span class="koboSpan" id="kobo.7.1"> a </span><em><span class="koboSpan" id="kobo.8.1">free tier</span></em><span class="koboSpan" id="kobo.9.1"> </span><span><span class="koboSpan" id="kobo.10.1">is available.</span></span><span class="koboSpan" id="kobo.11.1"> This a set of services use the minimum amount of resources and can be used for free to </span><span><span class="koboSpan" id="kobo.12.1">both </span></span><span class="koboSpan" id="kobo.13.1">evaluate the services and for the development of applications.</span></p>
<div class="packt_infobox"><span class="koboSpan" id="kobo.14.1">For details on how to create a free account with AWS, please refer to the official Amazon documentation at </span><a href="https://aws.amazon.com/"><span class="koboSpan" id="kobo.15.1">https://aws.amazon.com</span></a><span class="koboSpan" id="kobo.16.1">.</span></div>
<p><span class="koboSpan" id="kobo.17.1">In these sections, we will outline the basics of running code in AWS Lambda without having to provision or manage any servers. </span><span class="koboSpan" id="kobo.17.2">We will show how to create a </span><kbd><span class="koboSpan" id="kobo.18.1">Hello World</span></kbd><span class="koboSpan" id="kobo.19.1"> function in Lambda by using the AWS Lambda console. </span><span class="koboSpan" id="kobo.19.2">We will also explain how to manually call up the Lambda function by using sample event data and how to interpret the output parameters. </span><span class="koboSpan" id="kobo.19.3">All the operations shown in this tutorial can be performed as part of the free plan at </span><a href="https://aws.amazon.com/free"><span class="MsoHyperlink"><span class="koboSpan" id="kobo.20.1">https://aws.amazon.com</span></span><span class="MsoHyperlink"><span class="koboSpan" id="kobo.21.1">/free</span></span></a><span class="MsoHyperlink"><span class="koboSpan" id="kobo.22.1">.</span></span><a href="https://aws.amazon.com/free"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">How to do it...</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Let's have a look at the following steps:</span></p>
<ol>
<li><span class="koboSpan" id="kobo.3.1">The first thing to do is log in to the Lambda console (</span><a href="https://console.aws.amazon.com/console/home"><span class="MsoHyperlink"><span class="koboSpan" id="kobo.4.1">https://console.aws.amazon.com/console/home</span></span></a><span class="koboSpan" id="kobo.5.1">). </span><span class="koboSpan" id="kobo.5.2">Then, you need to locate and select </span><span class="packt_screen"><span class="koboSpan" id="kobo.6.1">Lambda</span></span><span class="koboSpan" id="kobo.7.1"> under compute in order to open the AWS Lambda console (which is highlighted in </span><span><span class="koboSpan" id="kobo.8.1">green </span></span><span class="koboSpan" id="kobo.9.1">in the following screenshot):</span></li>
</ol>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.10.1"><img src="assets/e9d3929c-8fd7-49e4-ad1f-2f8a4f35040c.png"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.11.1">AWS: Selecting a Lambda service</span></span></div>
<ol start="2">
<li class="packt_figure"><span class="hps"><span class="koboSpan" id="kobo.12.1">Then, in the AWS Lambda console, select </span><span class="packt_screen"><span class="koboSpan" id="kobo.13.1">Get Started Now</span></span><span class="koboSpan" id="kobo.14.1"> and then create a Lambda function:</span></span></li>
</ol>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.15.1"><img src="assets/320f0ad3-408b-4960-9122-c930eb52b466.png"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.16.1">AWS: Lambda start page</span></span></div>
<ol start="3">
<li class="packt_figure"><span class="hps"><span class="koboSpan" id="kobo.17.1">In the filter box, type </span><kbd><span class="koboSpan" id="kobo.18.1">hello-world-python</span></kbd><span class="koboSpan" id="kobo.19.1"> and select the </span><span class="packt_screen"><span class="koboSpan" id="kobo.20.1">hello-world-python</span></span><strong><span class="koboSpan" id="kobo.21.1"> </span></strong><span class="koboSpan" id="kobo.22.1">blueprint.</span></span></li>
<li class="packt_figure"><span class="koboSpan" id="kobo.23.1">Now we need to configure the Lambda function. </span><span class="koboSpan" id="kobo.23.2">The following list shows the configurations and provides example values:</span></li>
</ol>
<ul>
<li style="padding-left: 30px"><strong><span class="packt_screen"><span class="koboSpan" id="kobo.24.1">Configure function</span></span></strong><span class="koboSpan" id="kobo.25.1">:</span></li>
<li style="padding-left: 60px"><strong><span class="packt_screen"><span class="koboSpan" id="kobo.26.1">Name</span></span></strong><span class="koboSpan" id="kobo.27.1">: Enter the name of the function here. </span><span class="koboSpan" id="kobo.27.2">For this tutorial, enter </span><kbd><span class="koboSpan" id="kobo.28.1">hello-world-python</span></kbd><span class="koboSpan" id="kobo.29.1">.</span></li>
<li style="padding-left: 60px"><strong><span class="packt_screen"><span class="koboSpan" id="kobo.30.1">Description</span></span></strong><span class="koboSpan" id="kobo.31.1">: Here, you can enter a brief description of the function. </span><span class="koboSpan" id="kobo.31.2">This box is pre-filled with the phrase </span><span class="packt_screen"><span class="koboSpan" id="kobo.32.1">A starter AWS Lambda Function</span></span><span class="koboSpan" id="kobo.33.1">.</span></li>
<li style="padding-left: 60px"><strong><span class="packt_screen"><span class="koboSpan" id="kobo.34.1">Runtime</span></span></strong><span class="koboSpan" id="kobo.35.1">: At the moment, it is possible to write the code of the Lambda function in </span><span class="packt_screen"><span class="koboSpan" id="kobo.36.1">Java</span></span><span class="koboSpan" id="kobo.37.1">, </span><span class="packt_screen"><span class="koboSpan" id="kobo.38.1">Node.js</span></span><span class="koboSpan" id="kobo.39.1">, and </span><span class="packt_screen"><span class="koboSpan" id="kobo.40.1">Python 2.7</span></span><span class="koboSpan" id="kobo.41.1">, </span><span class="packt_screen"><span class="koboSpan" id="kobo.42.1">3.6</span></span><span class="koboSpan" id="kobo.43.1">, and </span><span class="packt_screen"><span class="koboSpan" id="kobo.44.1">3.7</span></span><span class="koboSpan" id="kobo.45.1">. </span><span><span class="koboSpan" id="kobo.46.1">For this tutorial, set up </span></span><span class="koboSpan" id="kobo.47.1">Python 2.7</span><span><span class="koboSpan" id="kobo.48.1"> as a runtime.</span></span></li>
<li style="padding-left: 30px"><strong><span class="packt_screen"><span class="koboSpan" id="kobo.49.1">Lambda function code</span></span></strong><span class="koboSpan" id="kobo.50.1">:</span></li>
<li style="padding-left: 60px"><span class="koboSpan" id="kobo.51.1">As you can see in the following screenshot, it is possible to review the Python sample code.</span></li>
<li style="padding-left: 30px"><strong><span class="packt_screen"><span class="koboSpan" id="kobo.52.1">Lambda function handler and role</span></span></strong><span class="koboSpan" id="kobo.53.1">:</span></li>
<li style="padding-left: 60px"><span class="packt_screen"><span class="koboSpan" id="kobo.54.1">Handler</span></span><span class="koboSpan" id="kobo.55.1">: You can specify a method in which AWS Lambda can start executing the code. </span><span class="koboSpan" id="kobo.55.2">AWS Lambda provides event data as input to the handler, which will process the events. </span><span class="koboSpan" id="kobo.55.3">In this example, Lambda identifies the event from the example code, so the field will be compiled with </span><span class="packt_screen"><span class="koboSpan" id="kobo.56.1">lambda_function.lambda_handler</span></span><span class="koboSpan" id="kobo.57.1">.</span></li>
<li style="padding-left: 60px"><span class="packt_screen"><span class="koboSpan" id="kobo.58.1">Role</span></span><span class="koboSpan" id="kobo.59.1">: Click on the drop-down menu and select </span><span class="packt_screen"><span class="koboSpan" id="kobo.60.1">Basic Execution Role</span></span><span class="koboSpan" id="kobo.61.1">:</span></li>
</ul>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.62.1"><img src="assets/7743d286-d524-4125-9c76-5b27e8bb07ed.png"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.63.1">AWS Configure function page</span></span></div>
<ol start="5">
<li><span class="koboSpan" id="kobo.64.1">At this point, it is necessary to create a role for execution (named </span><span class="packt_screen"><span class="koboSpan" id="kobo.65.1">IAM Role</span></span><span class="koboSpan" id="kobo.66.1">) with the necessary authorizations to be interpreted by AWS Lambda as the executor of the Lambda function. </span><span class="koboSpan" id="kobo.66.2">By clicking </span><span class="packt_screen"><span class="koboSpan" id="kobo.67.1">Allow</span></span><span><span class="koboSpan" id="kobo.68.1">, the</span></span> <span class="packt_screen"><span class="packt_screen"><span class="koboSpan" id="kobo.69.1">Configure</span></span><span class="koboSpan" id="kobo.70.1"> function</span></span><span class="koboSpan" id="kobo.71.1"> page </span><span><span class="koboSpan" id="kobo.72.1">will be returned, and the</span></span> <span class="packt_screen"><span class="koboSpan" id="kobo.73.1">lambda_basic_execution</span></span> <span><span class="koboSpan" id="kobo.74.1">function will be selected:</span></span></li>
</ol>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.75.1"><img src="assets/6a8575e9-23f0-41ac-952d-67f44104f573.png"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.76.1">AWS: Role summary page</span></span></div>
<ol start="6">
<li><span class="koboSpan" id="kobo.77.1">The console saves the code in a compressed file, which represents the distribution package. </span><span class="koboSpan" id="kobo.77.2">The console then loads the distribution package into AWS Lambda to create the Lambda function:</span></li>
</ol>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.78.1"><img src="assets/60142c8f-cb80-4dc5-9fa2-cb8761f5164b.png"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.79.1">AWS: Lambda review page</span></span></div>
<p><span class="koboSpan" id="kobo.80.1">It is now possible to test the functions, check the results, and display the logs:</span></p>
<ol>
<li><span class="koboSpan" id="kobo.81.1">To run our first Lambda function, click on </span><span class="packt_screen"><span class="koboSpan" id="kobo.82.1">Test</span></span><span class="koboSpan" id="kobo.83.1">:</span></li>
</ol>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.84.1"><img src="assets/1731dab3-8c0f-4dcd-8550-ecc283af3b75.png"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.85.1">AWS: Lambda testing page</span></span></div>
<ol start="2">
<li><span class="koboSpan" id="kobo.86.1">Enter an event in the pop-up editor to test the function.</span></li>
<li><span class="koboSpan" id="kobo.87.1">Select </span><span class="packt_screen"><span class="koboSpan" id="kobo.88.1">Hello World</span></span><span class="koboSpan" id="kobo.89.1"> from the </span><span class="packt_screen"><span class="koboSpan" id="kobo.90.1">Sample event template</span></span><span class="koboSpan" id="kobo.91.1"> list on the </span><span class="packt_screen"><span class="koboSpan" id="kobo.92.1">Input test event</span></span><span class="koboSpan" id="kobo.93.1"> page:</span></li>
</ol>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.94.1"><img src="assets/58d60050-f25e-4828-a340-6059c227b0ac.png"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.95.1">AWS: Lambda template</span></span></div>
<div>
<p style="padding-left: 60px"><span class="koboSpan" id="kobo.96.1">Click </span><span class="packt_screen"><span class="koboSpan" id="kobo.97.1">Save and</span></span> <span class="packt_screen"><span class="koboSpan" id="kobo.98.1">test</span></span><span class="koboSpan" id="kobo.99.1">. </span><span class="koboSpan" id="kobo.99.2">Then, AWS Lambda will perform the function on your behalf.</span></p>
</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">How it works...</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">When execution is complete, it is possible to see the results in the console:</span></p>
<ul>
<li><span class="koboSpan" id="kobo.3.1">The </span><span class="packt_screen"><span class="koboSpan" id="kobo.4.1">Execution result</span></span><span class="koboSpan" id="kobo.5.1"> section documents the correct execution of the function.</span></li>
<li><span class="koboSpan" id="kobo.6.1">The </span><span class="packt_screen"><span class="koboSpan" id="kobo.7.1">Summary</span></span><span class="koboSpan" id="kobo.8.1"> section shows the most important information reported in the </span><span class="packt_screen"><span class="koboSpan" id="kobo.9.1">Log output</span></span><span class="koboSpan" id="kobo.10.1"> section.</span></li>
<li><span class="koboSpan" id="kobo.11.1">The </span><span class="packt_screen"><span class="koboSpan" id="kobo.12.1">Log output</span></span><span class="koboSpan" id="kobo.13.1"> section shows the logs generated by the Lambda function execution:</span></li>
</ul>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.14.1"><img src="assets/12d7eb67-8089-4f9f-b9b1-9a75ab4becdd.png"/></span></p>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign"><span class="hps"><span class="koboSpan" id="kobo.15.1">AWS: Execution results</span></span></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">There's more...</span></h1>
                </header>
            
            <article>
                
<p><strong><span class="koboSpan" id="kobo.2.1">AWS Lambda</span></strong><span class="koboSpan" id="kobo.3.1"> monitors the functions and generates parameter reports automatically via </span><strong><span class="koboSpan" id="kobo.4.1">Amazon CloudWatch</span></strong><span class="koboSpan" id="kobo.5.1"> (see the following screenshot). </span><span class="koboSpan" id="kobo.5.2">To simplify the monitoring of the code during execution, AWS Lambda automatically tracks the number of requests, the latency per request, and the number of requests with errors, publishing the associated parameters:</span></p>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.6.1"><img src="assets/66a850ce-0883-45ed-ab46-5a2eb89214fb.png"/></span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">What is a Lambda function?</span></h1>
                </header>
            
            <article>
                
<p class="mce-root"><span class="koboSpan" id="kobo.2.1">A Lambda function contains code that a developer wants to execute in response to certain events. </span><span class="koboSpan" id="kobo.2.2">The developer takes care of configuring this code and specifying the requirements in terms of resources within the console of the reference provider. </span><span class="koboSpan" id="kobo.2.3">Everything else, including the sizing of resources, is managed automatically by the provider, based on the workload required.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Why serverless?</span></h1>
                </header>
            
            <article>
                
<p class="mce-root"><span class="koboSpan" id="kobo.2.1">The benefits of serverless computing are as follows:</span></p>
<ul>
<li><strong><span class="koboSpan" id="kobo.3.1">No infrastructure management:</span></strong><span><span class="koboSpan" id="kobo.4.1"> D</span></span><span class="koboSpan" id="kobo.5.1">evelopers can focus on the product to be built rather than on the operation and management of runtime servers.</span></li>
<li><strong><span class="koboSpan" id="kobo.6.1">Automatic scalability</span></strong><span class="koboSpan" id="kobo.7.1">: The resources are automatically recalibrated to cope with any type of workload, without requiring a configuration for scaling, but reacting to real-time events.</span></li>
<li><strong><span class="koboSpan" id="kobo.8.1">Resource use optimization:</span></strong><span><span class="koboSpan" id="kobo.9.1"> S</span></span><span class="koboSpan" id="kobo.10.1">ince the processing and storage resources are dynamically allocated, it is no longer necessary to invest in excess capacity in advance.</span></li>
<li><strong><span class="koboSpan" id="kobo.11.1">Cost reduction</span></strong><span class="koboSpan" id="kobo.12.1">: In traditional cloud computing, payment of running resources is expected even when they are not actually used. </span><span class="koboSpan" id="kobo.12.2">In the serverless case, the applications are event-driven, meaning that when the application code is not running, no cost is charged, so you won't have to pay for unused resources.</span></li>
<li><strong><span class="koboSpan" id="kobo.13.1">High availability:</span></strong><span><span class="koboSpan" id="kobo.14.1"> </span></span><span class="koboSpan" id="kobo.15.1">The services that manage the infrastructure and the application guarantee high availability and fault tolerance.</span></li>
<li><strong><span class="koboSpan" id="kobo.16.1">Time to Market improvement:</span></strong><span><span class="koboSpan" id="kobo.17.1"> </span></span><span class="koboSpan" id="kobo.18.1">The elimination of infrastructure management charges allows developers to focus on product quality and bring the code to production faster.</span></li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Possible problems and limitations</span></h1>
                </header>
            
            <article>
                
<p class="mce-root"><span class="koboSpan" id="kobo.2.1">There are some cons to take into consideration when evaluating the adoption of serverless computing:</span></p>
<ul>
<li><strong><span class="koboSpan" id="kobo.3.1">Possible loss of performance:</span></strong><span><span class="koboSpan" id="kobo.4.1"> I</span></span><span class="koboSpan" id="kobo.5.1">f the code is not used very frequently, then latency problems may occur in its execution. </span><span class="koboSpan" id="kobo.5.2">These are prominent in comparison to cases in which it is in continuous execution on a server, a virtual machine, or a container. </span><span class="koboSpan" id="kobo.5.3">This happens because (contrary to what occurs when using autoscaling policies) with the serverless model, the cloud provider often deallocates resources completely if the code is not used. </span><span class="koboSpan" id="kobo.5.4">This implies that if the runtime takes some time to start, then additional latency is inevitably created in the initial start phase.</span></li>
<li><strong><span class="koboSpan" id="kobo.6.1">Stateless mode</span></strong><span class="koboSpan" id="kobo.7.1">: Serverless functions operate in stateless mode. </span><span class="koboSpan" id="kobo.7.2">This means that if you want to add logic to save some elements, such as parameters to pass as arguments to a different function, then you need to add a persistent storage component to the application flow and link the events to each other. </span><span class="koboSpan" id="kobo.7.3">For example, Amazon provides an additional tool called</span><span><span class="koboSpan" id="kobo.8.1"> </span></span><strong><span class="koboSpan" id="kobo.9.1">AWS Step Functions</span></strong><span class="koboSpan" id="kobo.10.1">, which coordinates and manages the status of all microservices and distributed components of serverless applications.</span></li>
<li><strong><span class="koboSpan" id="kobo.11.1">Limit to resources:</span></strong><span><span class="koboSpan" id="kobo.12.1"> S</span></span><span class="koboSpan" id="kobo.13.1">erverless computing is not suitable for some types of workloads or use cases, particularly with high-performance ones and for the limits on the use of resources that are imposed by the cloud provider (for example, AWS limits the number of concurrent runs of Lambda functions). </span><span class="koboSpan" id="kobo.13.2">These are both due to the difficulty in provisioning the number of desired servers in a limited and fixed period of time.</span></li>
<li><strong><span class="koboSpan" id="kobo.14.1">Debugging and monitoring:</span></strong><span><span class="koboSpan" id="kobo.15.1"> I</span></span><span><span class="koboSpan" id="kobo.16.1">f you rely on non-open source solutions, then the developers will depend on vendors for debugging and monitoring applications, and therefore,</span></span><span><span class="koboSpan" id="kobo.17.1"> will</span></span> <span><span class="koboSpan" id="kobo.18.1">not be able to diagnose any problems in detail by using additional profilers or debuggers. </span><span class="koboSpan" id="kobo.18.2">Thus, they will have to rely on the tools provided by their respective providers.</span></span></li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">See also</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">As we have seen, the reference point for working with serverless architectures is the AWS framework (</span><a href="https://aws.amazon.com/"><span class="koboSpan" id="kobo.3.1">https://aws.amazon.com/</span></a><span class="koboSpan" id="kobo.4.1">). </span><span class="koboSpan" id="kobo.4.2">At the preceding URL, you can find a lot of information and tutorials, including the example described in this section.</span></p>


            </article>

            
        </section>
    </body></html>