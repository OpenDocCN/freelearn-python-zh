- en: <st c="0">8</st>
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: <st c="2">Implementing User Signup and Login</st>
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: <st c="36">The next part of our app will concern user authentication, where
    we allow users to sign up and log in.</st> <st c="140">Implementing user authentication
    is famously hard.</st> <st c="191">Fortunately, we can use Django’s powerful built-in
    authentication system to take care of the many security pitfalls that could arise
    if we were to create our own user authentication</st> <st c="373">from scratch.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="386">In this chapter, we will cover the</st> <st c="422">following topics:</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="439">Creating an</st> <st c="452">accounts app</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="464">Creating a basic</st> <st c="482">signup page</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="493">Improving a signup page to handle</st> `<st c="528">POST</st>` <st
    c="532">actions</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="540">Customizing</st> `<st c="553">UserCreationForm</st>`
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="569">Creating a</st> <st c="581">login page</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="591">Implementing the</st> <st c="609">logout functionality</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="629">By the end of this chapter, you will know how to implement an authentication
    system and handle common</st> <st c="732">authentication actions.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="755">Technical requirements</st>
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: <st c="778">In this chapter, we will use Python 3.10+.</st> <st c="822">Additionally,
    we will use the VS Code editor in this book, which you can download</st> <st c="904">from</st>
    [<st c="909">https://code.visualstudio.com/</st>](https://code.visualstudio.com/)<st
    c="939">.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="940">The code for this chapter is located</st> <st c="978">at</st> [<st
    c="981">https://github.com/PacktPublishing/Django-5-for-the-Impatient-Second-Edition/tree/main/Chapter08/moviesstore</st>](https://github.com/PacktPublishing/Django-5-for-the-Impatient-Second-Edition/tree/main/Chapter08/moviesstore)<st
    c="1089">.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="1090">The CiA video for this chapter can be found</st> <st c="1135">at</st>
    [<st c="1138">https://packt.link/XmYIk</st>](https://packt.link/XmYIk)
  prefs: []
  type: TYPE_NORMAL
- en: <st c="1162">Creating an accounts app</st>
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: <st c="1187">The</st> <st c="1192">complete user authentication system involves
    a set of functionalities such as a signup, a login, a logout, and some validations.</st>
    <st c="1321">None of these functionalities seem to belong to our</st> *<st c="1373">home</st>*
    <st c="1377">app or</st> *<st c="1385">movies</st>* <st c="1391">app, so let’s
    separate them inside a new app.</st> <st c="1438">This new app will be</st> <st
    c="1459">called</st> `<st c="1466">accounts</st>`<st c="1474">.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="1475">We will follow these steps to create and configure the</st> <st
    c="1531">new app:</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="1539">Create an</st> <st c="1550">accounts app.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="1563">Add the accounts app to the</st> <st c="1592">settings file.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="1606">Include an accounts URL file in the project-level</st> <st c="1657">URL
    file.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="1666">Let’s go through each of these steps in detail in the next</st>
    <st c="1726">few sections.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="1739">Creating an accounts app</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="1764">Navigate to the top</st> `<st c="1785">moviesstore</st>` <st c="1796">folder
    (the one that contains the</st> `<st c="1831">manage.py</st>` <st c="1840">file)
    and run the following in</st> <st c="1872">the terminal:</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="1885">For macOS, run the</st> <st c="1905">following command:</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: <st c="1959">For Windows, run the</st> <st c="1981">following command:</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '*<st c="2034">Figure 8</st>**<st c="2043">.1</st>* <st c="2045">shows the new
    project structure.</st> <st c="2079">Verify that it matches your current</st>
    <st c="2115">folder structure.</st>'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 8.1 – The MOVIESSTORE project structure containing the accounts app](img/B22457_08_1.jpg)'
  prefs: []
  type: TYPE_IMG
- en: <st c="2293">Figure 8.1 – The MOVIESSTORE project structure containing the accounts
    app</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="2367">Now, let’s add</st> <st c="2383">the accounts app to the</st> <st
    c="2407">settings file.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="2421">Adding the accounts app to the settings file</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="2466">Remember</st> <st c="2476">that we must register each newly created
    app in the</st> `<st c="2528">settings.py</st>` <st c="2539">file.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="2545">In</st> `<st c="2549">/moviesstore/settings.py</st>`<st c="2573">,
    under</st> `<st c="2581">INSTALLED_APPS</st>`<st c="2595">, add the following
    line</st> <st c="2620">in</st> **<st c="2623">bold</st>**<st c="2627">:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: <st c="2845">Now, let’s</st> <st c="2857">include the accounts URL file in</st>
    <st c="2890">our project.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="2902">Including the accounts URL file in the project-level URL file</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="2964">In</st> `<st c="2968">/moviesstore/urls.py</st>`<st c="2988">,
    add</st> <st c="2994">the following line that is</st> <st c="3021">in bold:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: <st c="3201">All the URLs defined in the</st> `<st c="3230">accounts.urls</st>`
    <st c="3243">file will contain an</st> `<st c="3265">accounts/</st>` <st c="3274">prefix
    (as defined in the previous path).</st> <st c="3317">We will create the</st> `<st
    c="3336">accounts.urls</st>` <st c="3349">file later.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="3361">Now that we have created the accounts app, let’s create the first
    functionality, the signup page.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="3460">Creating a basic signup page</st>
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: <st c="3488">The</st> <st c="3493">signup page has a complex functionality.</st>
    <st c="3534">We will need to consider many possible scenarios.</st> <st c="3584">For
    now, let’s implement a basic signup page.</st> <st c="3630">We will refactor and
    improve this functionality in the</st> <st c="3685">upcoming sections.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="3703">To implement a basic signup page, we will follow the</st> <st c="3757">following
    steps:</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="3773">Configure a</st> <st c="3786">signup URL.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="3797">Define a</st> `<st c="3807">signup</st>` <st c="3813">function.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="3823">Create an accounts</st> <st c="3843">signup template.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="3859">Add a signup link to the</st> <st c="3885">base template.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="3899">Let’s look at these steps in</st> <st c="3929">detail next.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="3941">Configuring a signup URL</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="3966">In</st> `<st c="3970">/accounts/</st>`<st c="3980">, create</st>
    <st c="3988">a new file called</st> `<st c="4007">urls.py</st>`<st c="4014">.
    This file will contain the path relating to the URLs of the accounts app.</st>
    <st c="4090">For now, fill it in with the</st> <st c="4119">following code:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: <st c="4255">We defined a</st> `<st c="4269">/signup</st>` <st c="4276">path,
    but remember that the project-level URL file defined a</st> `<st c="4338">/accounts</st>`
    <st c="4347">prefix for this</st> `<st c="4364">urls.py</st>` <st c="4371">file.</st>
    <st c="4378">So, if a URL matches the</st> `<st c="4403">/accounts/signup</st>`
    <st c="4419">path, it will execute the</st> `<st c="4446">signup</st>` <st c="4452">function
    defined in the</st> `<st c="4477">views</st>` <st c="4482">file.</st> <st c="4489">Next,
    we will implement the</st> `<st c="4517">signup</st>` <st c="4523">function.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="4533">Defining the signup function</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="4562">In</st> `<st c="4566">/accounts/views.py</st>`<st c="4584">, add</st>
    <st c="4590">the following lines that are</st> <st c="4619">in bold:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: <st c="4945">Let’s explain</st> <st c="4960">the code:</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="4969">We imported</st> `<st c="4982">UserCreationForm</st>`<st c="4998">,
    which is a built-in form class provided by Django.</st> <st c="5051">It is designed
    to facilitate the creation of user registration forms, specifically to create
    new user accounts.</st> <st c="5163">In Django, we can create our own HTML forms,
    use some of these Django forms, or even customize the Django forms.</st> <st c="5276">We
    will learn and use all these three approaches in</st> <st c="5328">this book.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="5338">We created our</st> `<st c="5354">template_data</st>` <st c="5367">variable
    and assigned it</st> <st c="5393">a title.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="5401">Then, we checked whether the current HTTP request method is</st>
    `<st c="5462">GET</st>`<st c="5465">. If it is a</st> `<st c="5478">GET</st>`
    <st c="5481">request, it means that it’s a user navigating to the signup form
    via the</st> `<st c="5555">localhost:8000/accounts/signup</st>` <st c="5585">URL,
    in which case we simply send an instance of</st> `<st c="5635">UserCreationForm</st>`
    <st c="5651">to the template.</st> <st c="5669">Finally, we rendered the</st>
    `<st c="5694">accounts/signup.html</st>` <st c="5714">template.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="5724">Now, let’s continue by creating the</st> <st c="5761">signup template.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="5777">Creating accounts signup template</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="5811">In</st> `<st c="5815">/accounts/</st>`<st c="5825">, create</st>
    <st c="5833">a</st> `<st c="5836">templates</st>` <st c="5845">folder.</st> <st
    c="5854">Then, in</st> `<st c="5863">/accounts/templates/</st>`<st c="5883">,
    create an</st> `<st c="5895">accounts</st>` <st c="5903">folder.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="5911">Now, in</st> `<st c="5920">/accounts/templates/accounts/</st>`<st
    c="5949">, create a new</st> <st c="5963">file,</st> `<st c="5970">signup.html</st>`<st
    c="5981">. For now, fill it in with</st> <st c="6008">the following:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: <st c="6482">Let’s</st> <st c="6488">explain</st> <st c="6497">this code:</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="6507">We extend the</st> `<st c="6522">base.html</st>` <st c="6531">template.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="6541">We define a heading element with the text</st> `<st c="6584">Sign
    Up</st>`<st c="6591">.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="6592">We define</st> `<st c="6603">form</st>` <st c="6607">with its method
    as</st> `<st c="6627">POST</st>`<st c="6631">. This means that when the form is
    submitted, the data will be sent to the current server URL using the HTTP</st>
    `<st c="6740">POST</st>` <st c="6745">method.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="6752">Inside the form, we use the DTL</st> `<st c="6785">csrf_token</st>`
    <st c="6795">template tag.</st> <st c="6810">It generates a</st> **<st c="6825">Cross-Site
    Request Forgery</st>** <st c="6851">(</st>**<st c="6853">CSRF</st>**<st c="6857">)
    token, which</st> <st c="6873">helps prevent CSRF attacks.</st> <st c="6901">It
    ensures that the form submission originates from the same site where the form
    is rendered.</st> <st c="6995">You should use this tag for all your</st> <st c="7032">Django
    forms.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="7045">Inside the form, we render</st> `<st c="7073">template_data.form</st>`<st
    c="7091">, which represents the</st> `<st c="7114">UserCreationForm</st>` <st
    c="7130">instance passed from the view function.</st> `<st c="7171">.as_p</st>`
    <st c="7176">renders the form fields as HTML paragraphs (</st>`<st c="7221"><p></st>`<st
    c="7225">), with each form field wrapped in its own paragraph.</st> <st c="7280">By
    default,</st> `<st c="7292">UserCreationForm</st>` <st c="7308">contains three
    form fields –</st> `<st c="7338">username</st>`<st c="7346">,</st> `<st c="7348">password</st>`<st
    c="7356">, and</st> `<st c="7362">password confirmation</st>`<st c="7383">.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="7384">Inside the form, we include a</st> `<st c="7415">submit</st>` <st
    c="7421">button.</st> <st c="7430">This button will direct to the current URL
    using the HTTP</st> `<st c="7488">POST</st>` <st c="7492">method.</st> <st c="7501">Currently,
    our signup view function only specifies the logic for a</st> `<st c="7568">GET</st>`
    <st c="7571">method.</st> <st c="7580">Later, we will implement the logic for
    the</st> `<st c="7623">POST</st>` <st c="7627">method.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="7635">Note</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="7640">In addition to</st> `<st c="7656">form.as_p</st>`<st c="7665">,
    there are other options to render form elements using different HTML tags.</st>
    <st c="7742">You can find more information</st> <st c="7772">here:</st> [<st c="7778">https://docs.djangoproject.com/en/5.0/ref/forms/api/#output-styles</st>](https://docs.djangoproject.com/en/5.0/ref/forms/api/#output-styles)<st
    c="7844">.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="7845">Now, let’s finalize by adding the signup link to the</st> <st c="7899">base
    template.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="7913">Adding the signup link to the base template</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="7957">In</st> `<st c="7961">/moviesstore/templates/base.html</st>`<st
    c="7993">, in the header section, add the following</st> <st c="8036">lines that
    are</st> <st c="8051">in bold:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: <st c="8429">Now, save those files, run the server, and go to</st> [<st c="8479">http://localhost:8000/accounts/signup</st>](http://localhost:8000/accounts/signup)<st
    c="8516">; you should see the new</st> *<st c="8542">signup</st>* <st c="8548">page
    (</st>*<st c="8555">Figure 8</st>**<st c="8564">.2</st>*<st c="8566">).</st>
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 8.2 – The Sign Up page](img/B22457_08_2.jpg)'
  prefs: []
  type: TYPE_IMG
- en: <st c="9044">Figure 8.2 – The Sign Up page</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="9073">Note that if</st> <st c="9087">you try to complete and submit the
    form, it will display an error.</st> <st c="9154">This is because we haven’t completed
    the</st> `<st c="9195">signup</st>` <st c="9201">function.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="9211">Improving the signup page to handle POST actions</st>
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: <st c="9260">When a</st> <st c="9267">user submits the signup form, we will
    have to handle the request and create a user in admin.</st> <st c="9361">To implement
    this, we will modify the</st> `<st c="9399">signup</st>` <st c="9405">function.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="9415">In</st> `<st c="9419">/accounts/views.py</st>`<st c="9437">, add
    the following lines that are</st> <st c="9472">in bold:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: '**<st c="10083">Let’s explain</st> <st c="10097">this code:</st>'
  prefs: []
  type: TYPE_NORMAL
- en: <st c="10108">We import the</st> `<st c="10123">redirect</st>` <st c="10131">function,
    which is used to redirect the user to a different URL within</st> <st c="10203">the
    application.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="10219">We add an</st> `<st c="10230">elif</st>` <st c="10234">section.</st>
    <st c="10244">This section checks whether the HTTP request method is</st> `<st
    c="10299">POST</st>`<st c="10303">, indicating that the form has</st> <st c="10334">been
    submitted.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="10349">Inside the</st> `<st c="10361">elif</st>` <st c="10365">section,
    we create an instance of the</st> `<st c="10404">UserCreationForm</st>` <st c="10420">class,
    passing the data from the request’s</st> `<st c="10464">POST</st>` <st c="10468">parameters
    (</st>`<st c="10481">request.POST</st>`<st c="10494">) to populate the form fields.</st>
    <st c="10526">This initializes the form with the</st> <st c="10561">submitted
    data.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="10576">The</st> `<st c="10581">if form.is_valid()</st>` <st c="10599">checks
    whether the submitted form data is valid, according to the validation rules defined
    in the</st> `<st c="10698">UserCreationForm</st>` <st c="10714">class.</st> <st
    c="10722">These</st> <st c="10728">validations include that the two password fields
    match, the password is not common, and the username is unique,</st> <st c="10840">among
    others.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="10853">If the form data is valid,</st> `<st c="10881">form.save()</st>`
    <st c="10892">saves the user data to the database.</st> <st c="10930">This means
    creating a new user account with the provided username and password.</st> <st
    c="11010">Also, we redirect the user to the</st> `<st c="11044">home</st>` <st
    c="11048">page based on the URL</st> <st c="11071">pattern name.</st>
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="11084">If the form data is not valid, the</st> `<st c="11120">else</st>`
    <st c="11124">section is executed, and we pass the form (including the errors)
    to the template and render the</st> `<st c="11221">accounts/signup.html</st>`
    <st c="11241">template again.</st>
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="11257">Now, run the server, and go to</st> [<st c="11289">http://localhost:8000/accounts/signup</st>](http://localhost:8000/accounts/signup)<st
    c="11326">. First, try to register a user with two passwords that don’t match
    (</st>*<st c="11395">Figure 8</st>**<st c="11404">.3</st>*<st c="11406">).</st>
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 8.3 – The Sign Up page with errors](img/B22457_08_3.jpg)'
  prefs: []
  type: TYPE_IMG
- en: <st c="11843">Figure 8.3 – The Sign Up page with errors</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="11884">Then, try to register</st> <st c="11907">a user with proper information,
    and you should be redirected to the</st> *<st c="11975">home</st>* <st c="11979">page.</st>
    <st c="11986">Then, go to</st> [<st c="11998">http://127.0.0.1:8000/admin/</st>](http://127.0.0.1:8000/admin/)<st
    c="12026">, navigate to the</st> *<st c="12044">users</st>* <st c="12049">section,
    and you should see the new user registered in the database (</st>*<st c="12119">Figure
    8</st>**<st c="12128">.4</st>*<st c="12130">).</st>
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 8.4 – The users admin page](img/B22457_08_4.jpg)'
  prefs: []
  type: TYPE_IMG
- en: <st c="12355">Figure 8.4 – The users admin page</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="12388">We can now</st> <st c="12400">register users.</st> <st c="12416">Now,
    let’s</st> <st c="12427">customize</st> `<st c="12437">UserCreationForm</st>`<st
    c="12453">.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="12454">Customizing UserCreationForm</st>
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '`<st c="12483">UserCreationForm</st>` <st c="12500">currently</st> <st c="12511">shows
    quite a lot of additional help text (included by default) that is cluttering our
    form.</st> <st c="12604">To remedy this, we can customize</st> `<st c="12637">UserCreationForm</st>`
    <st c="12653">(which is a big topic on its own).</st> <st c="12689">Here, we will
    apply some simple modifications to improve the look and feel of our</st> <st c="12771">signup
    page.</st>'
  prefs: []
  type: TYPE_NORMAL
- en: <st c="12783">To</st> <st c="12787">implement these modifications, we will follow</st>
    <st c="12833">these steps:</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="12845">Create</st> `<st c="12853">CustomUserCreationForm</st>`<st c="12875">.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="12876">Update the</st> `<st c="12888">signup</st>` <st c="12894">function
    to</st> <st c="12907">use</st> `<st c="12911">CustomUserCreationForm</st>`<st
    c="12933">.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="12934">Customize the way errors</st> <st c="12960">are displayed.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="12974">We will</st> <st c="12983">undertake each of these steps in detail
    in the next</st> <st c="13035">few subsections.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="13051">Creating CustomUserCreationForm</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="13083">In</st> `<st c="13087">/accounts/</st>`<st c="13097">, create
    a</st> <st c="13108">new file called</st> `<st c="13124">forms.py</st>`<st c="13132">.
    This file will contain the custom forms of the</st> *<st c="13181">accounts</st>*
    <st c="13189">app.</st> <st c="13195">For now, fill it in with the</st> <st c="13224">following
    code:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: <st c="13611">Let’s explain</st> <st c="13626">the code:</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="13635">We import the</st> `<st c="13650">UserCreationForm</st>` <st c="13666">class
    from Django’s</st> <st c="13687">authentication forms.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="13708">We create a new class named</st> `<st c="13737">CustomUserCreationForm</st>`<st
    c="13759">, which inherits from</st> `<st c="13781">UserCreationForm</st>`<st
    c="13797">, making it a subclass of Django’s built-in user</st> <st c="13846">creation
    form.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="13860">We define the class constructor (the</st> `<st c="13898">__init__</st>`
    <st c="13906">method).</st> <st c="13916">The constructor calls the constructor
    of the parent class (</st>`<st c="13975">UserCreationForm</st>`<st c="13992">)
    through the</st> `<st c="14007">super</st>` <st c="14012">method.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="14020">Then, we</st> <st c="14029">iterate through the fields provided
    by</st> `<st c="14069">UserCreationForm</st>`<st c="14085">. These are</st> `<st
    c="14097">'username'</st>`<st c="14107">,</st> `<st c="14109">'password1'</st>`<st
    c="14120">, and</st> `<st c="14126">'password2'</st>`<st c="14137">. For each
    field specified in the loop, we set the</st> `<st c="14188">help_text</st>` <st
    c="14197">attribute to</st> `<st c="14211">None</st>`<st c="14215">, which removes
    any help text associated with these fields.</st> <st c="14275">Finally, for each
    field specified in the loop, we add the CSS</st> `<st c="14337">form-control</st>`
    <st c="14349">class to the field’s widget.</st> <st c="14379">This is a Bootstrap
    class that improves the look and feel of</st> <st c="14440">the fields.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="14451">Next, let’s use</st> `<st c="14468">CustomUserCreationForm</st>`
    <st c="14490">in our</st> `<st c="14498">signup</st>` <st c="14504">function.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="14514">Updating the signup function to use CustomUserCreationForm</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="14573">Let’s use the new</st> <st c="14592">form to improve the look
    and feel of the</st> <st c="14633">signup page.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="14645">In</st> `<st c="14649">/accounts/views.py</st>`<st c="14667">,
    add the following lines that are</st> <st c="14702">in bold:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: <st c="15314">In the</st> <st c="15321">updated code, we removed the import
    of</st> `<st c="15361">UserCreationForm</st>` <st c="15377">and added the import
    of</st> `<st c="15402">CustomUserCreationForm</st>`<st c="15424">. Then, we replaced
    the calls of</st> `<st c="15457">UserCreationForm()</st>` <st c="15475">with the
    calls</st> <st c="15491">of</st> `<st c="15494">CustomUserCreationForm()</st>`<st
    c="15518">.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="15519">Now, save those files, run the server, go to</st> [<st c="15565">http://localhost:8000/accounts/signup</st>](http://localhost:8000/accounts/signup)<st
    c="15602">, and try to register a user with two passwords that don’t match (</st>*<st
    c="15668">Figure 8</st>**<st c="15677">.5</st>*<st c="15679">); you will see that
    the look and feel</st> <st c="15719">have improved.</st>
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 8.5 – An improved Sign Up page with errors](img/B22457_08_5.jpg)'
  prefs: []
  type: TYPE_IMG
- en: <st c="15798">Figure 8.5 – An improved Sign Up page with errors</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="15847">We can improve</st> <st c="15863">the way errors are displayed.</st>
    <st c="15893">So, let’s customize this in the</st> <st c="15925">next section.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="15938">Customizing the way errors are displayed</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="15979">Let’s customize the</st> <st c="15999">way Django forms display
    errors.</st> <st c="16033">In</st> `<st c="16036">/accounts/forms.py</st>`<st
    c="16054">, add the following lines that are</st> <st c="16089">in bold:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: <st c="16468">Let’s explain</st> <st c="16482">the code:</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="16492">We import the</st> `<st c="16507">ErrorList</st>` <st c="16516">class,
    which is a default class used to store and display validation error messages associated
    with</st> <st c="16617">form fields.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="16629">We import the</st> `<st c="16644">mark_safe</st>` <st c="16653">function,
    which is used to mark a string as safe for HTML rendering, indicating that it
    doesn’t contain any harmful content and should be rendered as-is</st> <st c="16807">without
    escaping.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="16824">We define a new class named</st> `<st c="16853">CustomErrorList</st>`<st
    c="16868">, which extends Django’s</st> `<st c="16893">ErrorList</st>` <st c="16902">class.</st>
    <st c="16910">This will be the class to define our custom error look</st> <st
    c="16965">and feel.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="16974">We override the</st> `<st c="16991">__str__()</st>` <st c="17000">method
    of the base</st> `<st c="17020">ErrorList</st>` <st c="17029">class.</st> <st
    c="17037">If the error list is empty (i.e., there are no errors), it returns an
    empty string, indicating that no HTML should be generated.</st> <st c="17166">Otherwise,
    it defines a custom HTML code that uses</st> `<st c="17217"><div></st>` <st c="17222">elements
    and Bootstrap CSS classes to improve the way the errors are displayed.</st> <st
    c="17303">It also uses the</st> `<st c="17320">mark_safe</st>` <st c="17329">function
    to render the</st> <st c="17353">code as-is.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="17364">Now that we have defined this</st> `<st c="17395">CustomErrorList</st>`
    <st c="17410">class, we just need to specify to our forms that we will</st> <st
    c="17468">use it.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="17475">In</st> `<st c="17479">/accounts/views.py</st>`<st c="17497">,
    add the following</st> <st c="17517">in bold:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: <st c="18000">We imported</st> <st c="18013">our</st> `<st c="18017">CustomErrorList</st>`
    <st c="18032">class, and we passed this class as an argument to</st> `<st c="18083">CustomUserCreationForm</st>`<st
    c="18105">. This time, if an error is found when we submit the signup form, the
    form will use our</st> `<st c="18193">CustomErrorList</st>` <st c="18208">class
    and display the errors with our custom HTML and</st> <st c="18263">CSS code.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="18272">Now, save those files, run the server, go to</st> [<st c="18318">http://localhost:8000/accounts/signup</st>](http://localhost:8000/accounts/signup)<st
    c="18355">, and try to register a user with two passwords that don’t match (</st>*<st
    c="18421">Figure 8</st>**<st c="18430">.6</st>*<st c="18432">); you will see that
    the look and feel</st> <st c="18472">have improved.</st>
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 8.6 – The Sign Up page with an improved error style](img/B22457_08_6.jpg)'
  prefs: []
  type: TYPE_IMG
- en: <st c="18581">Figure 8.6 – The Sign Up page with an improved error style</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="18639">We have improved</st> <st c="18657">the look and feel of our errors.</st>
    <st c="18690">Now, let’s implement a</st> <st c="18713">login page.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="18724">Creating a login page</st>
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: <st c="18746">Let’s</st> <st c="18753">implement the login page.</st> <st c="18779">This
    time, we won’t use Django forms; we will create our own HTML form (to learn a
    new approach).</st> <st c="18877">Let’s follow the</st> <st c="18894">following
    steps:</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="18910">Configure a</st> <st c="18923">login URL.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="18933">Define the</st> `<st c="18945">login</st>` <st c="18950">function.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="18960">Create an accounts</st> <st c="18980">login template.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="18995">Add a link to the</st> <st c="19014">base template.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="19028">Redirect a registered user to the</st> <st c="19063">login page.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="19074">We’ll see these steps to create a login page, in depth, in the
    next</st> <st c="19143">few subsections.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="19159">Configuring a login URL</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="19183">In</st> `<st c="19187">/accounts/urls.py</st>`<st c="19204">,
    add</st> <st c="19210">the following path</st> <st c="19229">in bold:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: <st c="19410">So, if a URL matches the</st> `<st c="19435">/accounts/login</st>`
    <st c="19450">path, it will execute the</st> `<st c="19477">login</st>` <st c="19482">function
    defined in the</st> `<st c="19507">views</st>` <st c="19512">file.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="19518">Now that we have the new path, let’s define the</st> `<st c="19567">login</st>`
    <st c="19572">function.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="19582">Defining login function</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="19606">In</st> `<st c="19610">/accounts/views.py</st>`<st c="19628">,
    add</st> <st c="19633">the following lines that are</st> <st c="19663">in bold:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: <st c="20434">Let’s</st> <st c="20441">explain</st> <st c="20449">the code:</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="20458">We import</st> `<st c="20469">login</st>` <st c="20474">and</st>
    `<st c="20479">authenticate</st>`<st c="20491">. These are used for user authentication.</st>
    <st c="20533">We import</st> `<st c="20543">login</st>` <st c="20548">with an
    alias (</st>`<st c="20564">auth_login</st>`<st c="20575">) to avoid confusion
    with the</st> `<st c="20606">login</st>` <st c="20611">function name.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="20626">We create the</st> `<st c="20641">login</st>` <st c="20646">function.</st>
    <st c="20657">This function defines</st> `<st c="20679">template_data</st>` <st
    c="20692">and</st> <st c="20697">checks</st> `<st c="20704">request.method</st>`<st
    c="20718">.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="20719">For</st> `<st c="20724">GET</st>` <st c="20727">requests, the
    function renders the</st> `<st c="20763">accounts/login.html</st>` <st c="20782">template.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="20792">For</st> `<st c="20797">POST</st>` <st c="20801">requests, the
    function attempts to authenticate the user using the provided</st> `<st c="20878">username</st>`
    <st c="20886">and</st> `<st c="20891">password</st>`<st c="20899">. If authentication
    fails, it renders the login template again with an error message.</st> <st c="20985">If
    authentication succeeds, it logs the user in and</st> <st c="21037">redirects
    them to the</st> *<st c="21059">home</st>* <st c="21063">page.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="21069">Now, let’s create the template that requires the</st> `<st c="21119">login</st>`
    <st c="21124">function.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="21134">Creating accounts login template</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="21167">In</st> `<st c="21171">/accounts/templates/accounts/</st>`<st
    c="21200">, create a new file,</st> `<st c="21221">login.html</st>`<st c="21231">.
    This file</st> <st c="21243">contains the HTML for the login page.</st> <st c="21281">For
    now, fill</st> <st c="21295">it in with</st> <st c="21306">the following:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: <st c="22215">Let’s</st> <st c="22222">explain</st> <st c="22230">the code:</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="22239">We extend the</st> `<st c="22254">base.html</st>` <st c="22263">template
    and define a heading element with the</st> <st c="22311">text</st> `<st c="22316">Login</st>`<st
    c="22321">.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="22322">We check whether there is an error and, if so,</st> <st c="22370">display
    it.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="22381">We create an HTML form with a</st> `<st c="22412">POST</st>` <st
    c="22416">method and the</st> `<st c="22432">csrf_token</st>` <st c="22442">token.</st>
    <st c="22450">This form contains two inputs, one for the username and another
    for the password.</st> <st c="22532">It also contains a</st> <st c="22551">submit
    button.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="22565">Let’s continue by adding the login link to the</st> <st c="22613">base
    template.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="22627">Adding the link to the base template</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="22664">Let’s</st> <st c="22671">add the login link in the base template.</st>
    <st c="22712">In</st> `<st c="22715">/moviesstore/templates/base.html</st>`<st
    c="22747">, in the header section, add the following line that is</st> <st c="22803">in
    bold:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: <st c="23175">Now, save</st> <st c="23185">those files, run the server, and
    go to</st> [<st c="23225">http://localhost:8000/accounts/login</st>](http://localhost:8000/accounts/login)<st
    c="23261">; you will see the new</st> **<st c="23285">Login</st>** <st c="23290">page
    (</st>*<st c="23297">Figure 8</st>**<st c="23306">.7</st>*<st c="23308">).</st>
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 8.7 – The Login page](img/B22457_08_7.jpg)'
  prefs: []
  type: TYPE_IMG
- en: <st c="23367">Figure 8.7 – The Login page</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="23394">Now that we have a login page, let’s redirect the user to it when
    they create</st> <st c="23473">an account.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="23484">Redirecting a registered user to the login page</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="23532">Let’s finalize</st> <st c="23547">this section by redirecting
    a user who just registered to the</st> `<st c="23625">/accounts/views.py</st>`<st
    c="23643">, add the following</st> <st c="23663">in bold:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: <st c="24079">We just modified the redirection to the</st> **<st c="24120">Login</st>**
    <st c="24125">page.</st> <st c="24132">Try to create a new user, and they should
    be redirected to the</st> **<st c="24195">Login</st>** <st c="24200">page.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="24206">Let’s finalize this chapter by implementing a</st> <st c="24253">logout
    functionality.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="24274">Implementing a logout functionality</st>
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: <st c="24310">We’ll</st> <st c="24317">follow the</st> <st c="24328">following
    steps:</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="24344">Configure a</st> <st c="24357">logout URL.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="24368">Define the</st> `<st c="24380">logout</st>` <st c="24386">function.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="24396">Add a</st> <st c="24403">link to the</st> <st c="24415">base template.</st>
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: <st c="24429">We’ll undertake these steps in the</st> <st c="24465">upcoming
    sections.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="24483">Configuring a logout URL</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="24508">In</st> `<st c="24512">/accounts/urls.py</st>`<st c="24529">,
    add</st> <st c="24534">the path that is</st> <st c="24552">in bold:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs: []
  type: TYPE_PRE
- en: <st c="24788">Now, if a URL matches the</st> `<st c="24814">/accounts/logout</st>`
    <st c="24830">path, it will execute the</st> `<st c="24857">logout</st>` <st c="24863">function
    defined in the</st> `<st c="24888">views</st>` <st c="24893">file.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="24899">Defining the logout function</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="24928">In</st> `<st c="24932">/accounts/views.py</st>`<st c="24950">,
    add</st> <st c="24956">the following lines that are</st> <st c="24985">in bold:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  prefs: []
  type: TYPE_PRE
- en: <st c="25383">Let’s explain</st> <st c="25397">the code:</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="25407">We import the</st> `<st c="25422">logout</st>` <st c="25428">function
    as</st> `<st c="25441">auth_logout</st>`<st c="25452">. This is used to log a</st>
    <st c="25476">user out.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="25485">We import</st> `<st c="25496">login_required</st>`<st c="25510">,
    which is a decorator to ensure that only authenticated users can access specific
    view functions.</st> <st c="25609">A Django</st> **<st c="25618">decorator</st>**
    <st c="25627">is a function that</st> <st c="25646">wraps another function or
    method to modify its behavior.</st> <st c="25704">Decorators are commonly used
    for things such as authentication, permissions,</st> <st c="25781">and logging.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="25793">We create the</st> `<st c="25808">logout</st>` <st c="25814">function,
    which uses the</st> `<st c="25840">login_required</st>` <st c="25854">decorator.</st>
    <st c="25866">This means that only authenticated users can access</st> <st c="25918">this
    function.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="25932">The</st> `<st c="25937">logout</st>` <st c="25943">function calls</st>
    `<st c="25959">auth_logout</st>`<st c="25970">, which is used to log out the current
    user.</st> <st c="26015">Then, the function redirects the user to the</st> *<st
    c="26060">home</st>* <st c="26064">page.</st>
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: <st c="26070">Next, let’s add the logout link to the</st> <st c="26110">base
    template.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="26124">Adding the link to the base template</st>
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: <st c="26161">In</st> `<st c="26165">/moviesstore/templates/base.html</st>`<st
    c="26197">, in the header section, add the following</st> <st c="26239">lines
    that are</st> <st c="26255">in bold:</st>
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs: []
  type: TYPE_PRE
- en: <st c="26718">We use a</st> <st c="26727">Django template tag that checks whether
    the user is authenticated (logged in).</st> <st c="26806">This validation comes
    from Django’s authentication system.</st> <st c="26865">If the user is authenticated,
    we display the</st> *<st c="26910">logout</st>* <st c="26916">option (which includes
    the username).</st> <st c="26955">Otherwise, we display the</st> *<st c="26981">login</st>*
    <st c="26986">and</st> *<st c="26991">sign</st>* *<st c="26996">up</st>* <st c="26998">options.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="27007">Now, save those files, run the server, and go to</st> [<st c="27057">http://localhost:8000/</st>](http://localhost:8000/)<st
    c="27079">; you will see how the navbar options change whether the user is logged
    in or not (</st>*<st c="27163">Figure 8</st>**<st c="27172">.8</st>*<st c="27174">).</st>
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 8.8 – The home page with the navbar updated](img/B22457_08_8.jpg)'
  prefs: []
  type: TYPE_IMG
- en: <st c="27300">Figure 8.8 – The home page with the navbar updated</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="27350">We have completed our</st> <st c="27372">user signup, login, and</st>
    <st c="27397">logout system.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="27411">Summary</st>
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: <st c="27419">In this chapter, we implemented a complete authentication system.</st>
    <st c="27486">Now, users can sign up, log in, and log out.</st> <st c="27531">We
    also learned how to take advantage of some Django forms, how to create our own
    HTML forms, and how to handle validations</st> <st c="27655">and errors.</st>
  prefs: []
  type: TYPE_NORMAL
- en: <st c="27666">In the next chapter, we will implement a movie</st> <st c="27714">review
    system.</st>**
  prefs: []
  type: TYPE_NORMAL
