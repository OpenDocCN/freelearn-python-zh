["```py\nclass Event:\n     def __init__(self, name):\n         self.name = name\n\n     def __str__(self):\n         return self.name\n```", "```py\nclass Widget:\n     def __init__(self, parent=None):\n         self.parent = parent\n```", "```py\ndef handle(self, event):\n    handler = f'handle_{event}'\n    if hasattr(self, handler):\n    method = getattr(self, handler)\n    method(event)\n    elif self.parent is not None:\n    self.parent.handle(event)\n    elif hasattr(self, 'handle_default'):\n    self.handle_default(event)\n```", "```py\nclass MainWindow(Widget):\n     def handle_close(self, event):\n         print(f'MainWindow: {event}')\n\n     def handle_default(self, event):\n         print(f'MainWindow Default: {event}')\n```", "```py\nclass SendDialog(Widget):\n     def handle_paint(self, event):\n         print(f'SendDialog: {event}')\n```", "```py\nclass MsgText(Widget):\n     def handle_down(self, event):\n         print(f'MsgText: {event}')\n```", "```py\ndef main():\n     mw = MainWindow()\n     sd = SendDialog(mw)\n     msg = MsgText(sd)\n\n     for e in ('down', 'paint', 'unhandled', 'close'):\n         evt = Event(e)\n         print(f'Sending event -{evt}- to MainWindow')\n         mw.handle(evt)\n         print(f'Sending event -{evt}- to SendDialog')\n         sd.handle(evt)\n         print(f'Sending event -{evt}- to MsgText')\n         msg.handle(evt)\n```", "```py\nSending event -down- to MainWindow\nMainWindow Default: down\nSending event -down- to SendDialog\nMainWindow Default: down\nSending event -down- to MsgText\nMsgText: down\nSending event -paint- to MainWindow\nMainWindow Default: paint\nSending event -paint- to SendDialog\nSendDialog: paint\nSending event -paint- to MsgText\nSendDialog: paint\nSending event -unhandled- to MainWindow\nMainWindow Default: unhandled\nSending event -unhandled- to SendDialog\nMainWindow Default: unhandled\nSending event -unhandled- to MsgText\nMainWindow Default: unhandled\nSending event -close- to MainWindow\nMainWindow: close\nSending event -close- to SendDialog\nMainWindow: close\nSending event -close- to MsgText\nMainWindow: close\n```"]