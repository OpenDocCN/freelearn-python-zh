<html><head></head><body>
        

            
                <h1 class="header-title">Tips and Tricks</h1>
            

            
                
<p>We have discussed different concepts of Python programming and the applications you could develop in Python using the Raspberry Pi Zero as a platform. Before we call it a day, we would like to present some tips and tricks that could be useful to you. We will also discuss topics that we promised to discuss in this chapter.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Change your Raspberry Pi's password</h1>
            

            
                
<p>As you develop applications, you will gravitate toward buying more than one Raspberry Pi Zero boards. As soon as you finish setting up the micro SD card and power up the board, change the default password for your Raspbian login. Default passwords on connected devices wreaked havoc during <strong>Mirai botnet attacks</strong> of 2016 (<a href="https://blogs.akamai.com/2016/10/620-gbps-attack-post-mortem.html">https://blogs.akamai.com/2016/10/620-gbps-attack-post-mortem.html</a>). Considering the magnitude of the attacks, the Raspberry Pi foundation released a new OS update (<a href="https://www.raspberrypi.org/blog/a-security-update-for-raspbian-pixel/">https://www.raspberrypi.org/blog/a-security-update-for-raspbian-pixel/</a>) that disables SSH access to the Raspberry Pi by default. You can change the password in the following two ways:</p>
<ul>
<li>Change it from the desktop. Go to Menu | Preferences | Raspberry Pi Configuration. Under the System tab, select Change Password.</li>
<li>Launch the command-line terminal and enter <kbd>passwd</kbd> at the prompt. It will prompt you for the current password of the Raspberry Pi desktop followed by the new password.</li>
</ul>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Updating your OS</h1>
            

            
                
<p>From time to time, there might be relevant security updates for the Raspbian OS. Subscribe to updates from the Raspberry Pi foundation's blog to keep yourself informed of such alerts. Whenever there is an update for your OS, it could be updated from the Command Prompt as follows:</p>
<pre>
    <strong>sudo apt-get update</strong><br/><strong>    sudo apt-get dist-upgrade</strong>
</pre>
<p>Sometimes, OS updates can break the stability of some interface drivers. Proceed with caution and check relevant forums for any reports of problems.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Setting up your development environment</h1>
            

            
                
<p>Let's discuss setting up your development environment in order to work on your Raspberry Pi Zero:</p>
<ol>
<li>SSH access to the Raspberry Pi is disabled by default. Launch Raspberry Pi configuration from your desktop. On the top-left corner, Go to Menu | Preferences | Raspberry Pi Configuration:</li>
</ol>
<div><img class=" image-border" height="241" src="img/image_11_001.png" width="290"/></div>
<p>Launch Raspberry Pi configuration</p>
<ol start="2">
<li>Under the Interfaces tab of the Raspberry Pi configuration, enable SSH and VNC and click on OK to save changes.</li>
</ol>
<div><img class=" image-border" height="208" src="img/image_11_002.png" width="281"/></div>
<p>Enable SSH and VNC</p>
<ol start="3">
<li>Launch the Raspberry Pi's Command Prompt and type the following command: <kbd>ifconfig</kbd>. If you connected your Raspberry Pi Zero to the network using a Wi-Fi adapter, locate the IP address of your Raspberry Pi Zero under <kbd>wlan0</kbd>, as shown in the following screenshot. In this case, the IP address is <kbd>192.168.86.111</kbd>:</li>
</ol>
<div><img class=" image-border" height="241" src="img/image_11_003.png" width="406"/></div>
<p>IP address of the Raspberry Pi Zero</p>
<ol start="4">
<li>You can also find the IP address by hovering over the Wi-Fi symbol on the top-right corner.</li>
</ol>
<p>The IP address information may not be useful if your network is behind a firewall. For example, public wireless networks, such as a coffee shop, have firewalls.</p>
<p>Now that the Raspberry Pi Zero is set up for SSH access, let's try to gain access to the Raspberry Pi remotely.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">SSH access via Windows</h1>
            

            
                
<ol>
<li>If you have a Windows laptop, download <strong>PuTTY</strong> client from (<a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html</a>). Launch <kbd>putty.exe</kbd>.</li>
</ol>
<div><img class=" image-border" height="325" src="img/image_11_004.png" width="332"/></div>
<p>Launch putty.exe</p>
<ol start="2">
<li>Enter the IP address of your Raspberry Pi Zero in the highlighted area and click on Open.</li>
<li>Select Yes if a prompt (like the one shown in the following screenshot) shows up to save the settings:</li>
</ol>
<div><img class=" image-border" height="320" src="img/image_11_005.png" width="582"/></div>
<p>Select Yes</p>
<ol start="4">
<li>Log in as <kbd>pi</kbd> and enter your Raspberry Pi's password:</li>
</ol>
<div><img class=" image-border" src="img/image_11_006.png"/></div>
<p>Log in as pi</p>
<ol start="5">
<li>You have now gained remote access of your Raspberry Pi. Try executing the commands on your desktop.</li>
</ol>
<div><img class=" image-border" height="203" src="img/image_11_007.png" width="419"/></div>
<p>Play with the remote desktop</p>
<ol start="6">
<li>If the PuTTY SSH session disconnects for some reason, right-click and select Restart Session.</li>
</ol>
<div><img class=" image-border" height="298" src="img/image_11_008.png" width="402"/></div>
<p>Restart a session with a right-click</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">SSH access via Linux/macOS</h1>
            

            
                
<p>Perform the following steps for SSH access via Linux/macOS:</p>
<ol>
<li>On a macOS, you can launch the Terminal as follows: Press command + spacebar and launch the search tool. Enter <kbd>Terminal</kbd> and click on the first option to launch a new Terminal window.</li>
</ol>
<div><img class=" image-border" height="416" src="img/image_11_009.png" width="626"/></div>
<p>Launch Terminal</p>
<ol start="2">
<li>On the Terminal, log in to your Raspberry Pi using the <kbd>ssh</kbd> command:</li>
</ol>
<pre>
       ssh pi@192.168.86.111 -p 22
</pre>
<ol start="3">
<li>Enter the password of your Raspberry Pi when prompted and gain remote access to your Raspberry Pi.</li>
</ol>
<div><img class=" image-border" height="167" src="img/image_11_010.png" width="479"/></div>
<p>Remote access via macOS terminal</p>
<ol start="4">
<li>On an Ubuntu desktop, a Terminal can be launched using the shortcut <em>Ctrl</em> + <em>Alt</em> + <em>T</em> on the keyboard. SSH access is similar to that of macOS.</li>
</ol>
<div><img class=" image-border" height="119" src="img/image_11_011.png" width="550"/></div>
<p>An SSH access via Ubuntu</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Transferring files to/from your Pi</h1>
            

            
                
<p>While writing code for your project, it would be easier to write the code on a laptop and transfer the files to the Raspberry Pi to test it remotely. This is helpful, especially while remote access is necessary (for example, the robot in <a href="6b31becd-56d1-47bc-ad5c-fdefd53c8c8f.xhtml">Chapter 9</a>, <em>Let's build a robot!</em>).</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">WinSCP</h1>
            

            
                
<ol>
<li>On a Windows machine, WinSCP (<a href="https://winscp.net/eng/index.php">https://winscp.net/eng/index.php</a>) could be used for files transfers in both directions. Download the software and install it on your laptop.</li>
<li>Launch WinSCP and enter the IP address, username, and password of the Raspberry Pi Zero in the window. Under the File protocol: drop-down menu, choose SFTP or SCP.</li>
</ol>
<div><img class=" image-border" height="385" src="img/image_11_012.png" width="567"/></div>
<p>Enter the IP address, username, and password</p>
<ol start="3">
<li>Click on Yes when the software prompts whether it is a trusted host:</li>
</ol>
<div><img class=" image-border" height="211" src="img/image_11_013.png" width="348"/></div>
<p>Click on Yes on this warning</p>
<ol start="4">
<li>If the credentials are correct, the software should provide the remote access of the Raspberry Pi Zero's filesystem. In order to download files or upload files, just right-click and choose the upload/download option (shown in the following screenshot):</li>
</ol>
<div><img class=" image-border" height="301" src="img/image_11_014.png" width="659"/></div>
<p>Upload/download files with a right-click</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Mac/Linux environment</h1>
            

            
                
<p>In a Mac/Linux OS environment, the <kbd>scp</kbd> command could be used to transfer files to/from Raspberry Pi. For example, a file could transferred to the Raspberry Pi using the following syntax:</p>
<pre>
       <strong>scp &lt;filename&gt; pi@&lt;IP address&gt;:&lt;destination&gt;</strong><br/><strong>       scp my_file pi@192.168.1.2:/home/pi/Documents</strong>
</pre>
<p>A file could be transferred from the Raspberry Pi as follows:</p>
<pre>
       <strong>scp pi@&lt;IP address&gt;:&lt;file location&gt; &lt;local destination&gt;</strong><br/><strong>       scp pi@192.168.1.2:/home/pi/Documents/myfile Documents</strong>
</pre>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Git</h1>
            

            
                
<p>Git is a version control tool that can be helpful while developing applications. It also enables sharing code samples with others. For example, this book's latest code samples are all checked into <a href="https://github.com/sai-y/pywpi.git">https://github.com/sai-y/pywpi.git</a>. Since git enables version control, it is possible to save copies of the code at different stages of the project. It is also possible to revert to a known working version if there are problems in the code.</p>
<p>While writing this book, we wrote our code using text editors, such as <em>Notepad++</em> and <em>Sublime Text editor</em>. and saved them to our repositories on <kbd>github</kbd>. On the Raspberry Pi side, we made a copy of the repository from <kbd>github</kbd> and tested our code. <kbd>Git</kbd> also enables creating branches, which is a cloned image of the code repository. <kbd>Git</kbd> branches enable working on a new feature or fix an existing problem without breaking the working version of the code. Once the feature has been implemented or a problem is fixed, we can merge the changes with the main branch of the repository. We recommend finishing this tutorial to understand the importance of <kbd>Git</kbd>, so refer to <a href="https://guides.github.com/activities/hello-world/">https://guides.github.com/activities/hello-world/</a>.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Command-line text editors</h1>
            

            
                
<p>From time to time, there might be a need to make minor changes to code files or change configuration files from the command line. It is impractical to use a graphical text editor every time. There are command-line text editors that can come handy with some practice.</p>
<p>One useful text editor that comes with the Raspbian OS is <strong>nano</strong>. <kbd>nano</kbd> is a very simple text editor, and it is very easy to use. For example, let's consider a scenario where we would like to add a secret key for an API in your code file. This could be accomplished by opening the file via the Command Prompt (SSH or the command-line terminal from the desktop):</p>
<pre>
    <strong>nano visual_aid.py</strong>
</pre>
<p>It should open the contents of the file, as shown in the following screenshot:</p>
<div><img class=" image-border" src="img/image_11_015.png"/></div>
<p>nano text editor<br/></p>
<ol>
<li>Navigate to the line that needs editing using the keyboard's arrow keys. The line could be edited manually, or the secret key could be pasted into the file (CMD + <em>V</em> on Mac, <em>Ctrl</em> + <em>Shift</em> + <em>V</em> on Ubuntu Terminal and simply right-click on PuTTY).</li>
<li>Once the file editing is complete, press <em>Ctrl</em> + <em>X</em> to finish editing and Press <em>Y</em> to save the changes:</li>
</ol>
<div><img class=" image-border" src="img/image_11_016.png"/></div>
<p>Save changes</p>
<ol start="3">
<li>Press <em>Enter</em> at the next prompt to save the contents to the file.</li>
</ol>
<div><img class=" image-border" src="img/image_11_017.png"/></div>
<p>Save contents to the original file</p>
<p>Learning to use command-line text editors can come handy while working on projects.</p>
<p>There are other text editors such as <kbd>vi</kbd> and <kbd>vim</kbd>. However, <kbd>nano</kbd> text editor is much simpler to use.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Graphical text editors</h1>
            

            
                
<p>Apart from IDLE's graphical text editor, there are many other text editors out there. On <em>Windows</em>, we recommend using Notepad++ (<a href="https://notepad-plus-plus.org/">https://notepad-plus-plus.org/</a>). It comes with a lot of plugins and features that distinguish Python keywords from other parts of the code. It also provides visual aid to indent your code properly.</p>
<div><img class=" image-border" height="431" src="img/image_11_018.png" width="480"/></div>
<p>Notepad++ editor</p>
<p>While Notepad++ is free, there is a cross-platform (there is a version for Windows, Ubuntu, and Mac) text editor named Sublime (<a href="https://www.sublimetext.com/">https://www.sublimetext.com/</a>) that comes with an evaluation license, but the license costs USD 70. We believe that it is worth the cost because it comes with a rich development environment.</p>
<div><img class=" image-border" height="470" src="img/image_11_019.png" width="398"/></div>
<p>Sublime text editor</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">SSH aliases (on Mac/Linux Terminals)</h1>
            

            
                
<p>While working on a project, SSH aliases can come handy for the remote access of the Raspberry Pi. An alias is a shortcut for any command. For example, an alias for SSH login can be implemented as follows:</p>
<pre>
    <strong>nano ~/.bash_aliases</strong>
</pre>
<p>Add the following line to the file (make sure that the IP address of the Raspberry Pi is added):</p>
<pre>
    <strong>alias my_pi='ssh pi@192.168.1.2 -p 2' </strong>
</pre>
<p>Load the alias file:</p>
<pre>
    <strong>source ~/.bash_aliases</strong>
</pre>
<p>Now, we can access the pi simply by calling <kbd>my_pi</kbd> into the Command Prompt. Try it for yourself!</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Saving SSH sessions on PuTTY</h1>
            

            
                
<p>In a Windows environment, it is possible to save SSH sessions for repeated usage. Launch Putty, enter the IP address of the Raspberry Pi, and save it with a session name, as shown in the following screenshot:</p>
<div><img class=" image-border" height="319" src="img/image_11_020.png" width="330"/></div>
<p>Save session</p>
<p>Whenever the SSH access to the Raspberry Pi is needed, launch PuTTY and load <kbd>my_session</kbd> (shown in the following screenshot):</p>
<div><img class=" image-border" height="389" src="img/image_11_021.png" width="397"/></div>
<p>Load session</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">VNC access to Raspberry Pi</h1>
            

            
                
<p>While enabling SSH, we also enabled VNC. VNC is a tool that enables remote viewing of the Raspberry Pi desktop. Because VNC is already enabled on the Raspberry Pi, download and install VNC viewer (<a href="https://www.realvnc.com/download/viewer/">https://www.realvnc.com/download/viewer/</a>). VNC viewer is available for all operating systems:</p>
<ol>
<li>Log in is very simple. Just enter the Raspberry Pi's username and password:</li>
</ol>
<div><img class=" image-border" height="353" src="img/image_11_022.png" width="385"/></div>
<p>Login</p>
<ol start="2">
<li class="packt_figure">It should take you directly to the Raspberry Pi's desktop.</li>
</ol>
<div><img class=" image-border" src="img/image_11_023.png"/></div>
<p>Raspberry Pi desktop via VNC</p>
<h3>SSH via USB OTG port</h3>
<p>This trick is meant for advanced users only.</p>
<p>We came across this nifty trick at <a href="https://gist.github.com/gbaman/975e2db164b3ca2b51ae11e45e8fd40a">https://gist.github.com/gbaman/975e2db164b3ca2b51ae11e45e8fd40a</a>. This is helpful when you do not have a USB Wi-Fi adapter and a USB OTG converter. We can connect the Raspberry Pi's USB-OTG port directly to the USB port of a computer (using a micro-USB cable) and access it via SSH. This is enabled due to the fact that the USB OTG port of the Raspberry Pi Zero enumerates as a USB-over-Ethernet device when connected to a computer:</p>
<ol>
<li>Once the micro SD card is flashed with the Raspbian Jessie OS, open the SD card's contents and locate the file <kbd>config.txt</kbd>.</li>
<li>At the end of the file, <kbd>config.txt</kbd>, add the following line to the file: <kbd>dtoverlay=dwc2</kbd>.</li>
<li>In the file, <kbd>cmdline.txt</kbd>, add <kbd>modules-load=dwc2,g_ether</kbd> after <kbd>rootwait</kbd>. Make sure that each parameter of this file is separated by a single space.</li>
<li>Save the file and insert the SD card into your Raspberry Pi Zero.</li>
<li>On a command-line terminal, log in using <kbd>ssh pi@raspberrypi.local</kbd>. This should work on Mac/Ubuntu environment. In a Windows environment, Bonjour protocol drivers are necessary (<a href="https://support.apple.com/kb/DL999?locale=en_US">https://support.apple.com/kb/DL999?locale=en_US</a>). In addition, RNDIS Ethernet drivers are also necessary (<a href="http://developer.toradex.com/knowledge-base/how-to-install-microsoft-rndis-driver-for-windows-7">http://developer.toradex.com/knowledge-base/how-to-install-microsoft-rndis-driver-for-windows-7</a>).</li>
</ol>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">The RUN switch of the Raspberry Pi Zero board</h1>
            

            
                
<p>The Raspberry Pi Zero has a terminal marked <kbd>RUN</kbd> with two pins. This terminal could be used to reset the Raspberry Pi Zero. This is especially if the Raspberry Pi Zero is installed some place inaccessible. The Raspberry Pi Zero can be reset by connecting a momentary push button across the two pins. Because a momentary contact is sufficient to reset the board, this terminal can be useful where the Raspberry Pi Zero is installed at a very distant location, and it could reset using an Internet connection (provided that there is another device that controls the RUN terminal pins).</p>
<div><img class=" image-border" height="192" src="img/image_11_024.png" width="448"/></div>
<p>The location of the Run Pins on the Raspberry Pi Zero</p>
<p>We also found this excellent tutorial to set up a reset switch for the Raspberry Pi - <a href="https://blog.adafruit.com/2014/10/10/making-a-reset-switch-for-your-raspberry-pi-model-b-run-pads-piday-raspberrypi-raspberry_pi/">https://blog.adafruit.com/2014/10/10/making-a-reset-switch-for-your-raspberry-pi-model-b-run-pads-piday-raspberrypi-raspberry_pi/</a>.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">GPIO pin mapping</h1>
            

            
                
<p>For an absolute beginner with the Raspberry Pi Zero, this GPIO mapping plate can be handy. It maps all the GPIO pins of the Raspberry Pi Zero.</p>
<div><img class=" image-border" height="192" src="img/image_11_025.png" width="259"/></div>
<p>GPIO Plate for the Raspberry Pi Zero. Picture source: adafruit.com</p>
<p class="packt_figure">It freely fits and sits directly on the top of the GPIO pins, as shown in the picture. The labels can help with prototyping.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Stackable breadboard</h1>
            

            
                
<p>This stackable breadboard is useful to a beginner in electronics. It provides access to all the GPIO pins and a breadboard is sitting right next to it. This can be helpful to quickly prototype circuits for your project needs.</p>
<div><img class=" image-border" height="386" src="img/image_11_026.png" width="379"/></div>
<p>Stackable breadboard</p>
<p class="packt_figure"/>
<p>This breadboard is available at (<a href="http://rasp.io/prohat/">http://rasp.io/prohat/</a>). We also found another enclosure with breadboard right next to it-<a href="http://a.co/dLdxaO1">http://a.co/dLdxaO1</a>.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Summary</h1>
            

            
                
<p>In this chapter, we discussed different tips and tricks to get started with Python programming using the Raspberry Pi Zero. We hope that the content provided in this chapter and all other chapters help you get started.</p>
<p>We wrote this book keeping hands-on practice in mind, and we believe that we have presented the best iteration of our idea. Good luck with your projects!</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    </body></html>