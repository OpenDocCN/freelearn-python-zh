["```py\n{\n  \"name\": \"Library Portal\",\n  \"description\": \"Portal for library members\",\n  \"author\": \"Daniel Reis\",\n  \"license\": \"AGPL-3\",\n  \"depends\": [\n      \"library_checkout\", \"portal\"\n  ],\n  \"data\": [\n    \"security/library_security.xml\",\n    \"security/ir.model.access.csv\",\n    \"views/checkout_portal_templates.xml\",\n  ],\n}\n```", "```py\n    from . import controllers\n    ```", "```py\n    from . import main\n    ```", "```py\n    from odoo import http\n    class Main(http.Controller): \n        @http.route(\"/library/catalog\", \n          auth=\"public\", website=True)\n        def catalog(self, **kwargs):\n            Book = http.request.env[\"library.book\"]\n            books = Book.sudo().search([])\n            return http.request.render(\n                \"library_portal.book_catalog\",\n                  {\"books\": books},\n            )\n    ```", "```py\n      \"data\": [\n        \"views/main_templates.xml\",\n      ]\n    ```", "```py\n    <odoo>\n    <template id=\"book_catalog\" name=\"Book List\">\n      <t t-call=\"web.frontend_layout\">\n        <t t-set=\"title\">Book Catalog</t>\n          <div class=\"oe_structure\">\n            <div class=\"container\">\n              <h1 class=\"h1-book-catalog\">\n                Book Catalog</h1>\n              <table class=\"table\">\n                <thead>\n                  <tr>\n                    <th scope=\"col\">Title</th>\n                    <th scope=\"col\">Published</th>\n                    <th scope=\"col\">Publisher</th>\n                  </tr>\n                </thead>\n                <tbody>\n          <t t-foreach=\"books\" t-as=\"book\">\n            <tr scope=\"row\">\n              <td><span t-field=\"book.name\" /></td>\n              <td><span t-field=\"book.date_published\" \n                  /></td>\n              <td><span t-field=\"book.publisher_id\" \n                  /></td>\n            </tr>\n          </t>\n                </tbody>\n              </table>\n          </div>\n        </div>\n      </t>\n    </template>\n    </odoo>\n    ```", "```py\n    .h1-book-catalog {\n        font-size: 62px;\n    }\n    ```", "```py\n        \"assets\": {\n            \"web.assets_backend\": {\n                \"library_portal/static/src/css/\n                  library.css\",\n            }\n        }\n    ```", "```py\n    id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink\n    access_book_portal,Book Portal Access,library_app.model_library_book,base.group_portal,1,0,0,0\n    access_member_portal,Member Portal Access,library_member.model_library_member,base.group_portal,1,0,0,0\n    access_stage_portal,Checkout Stage Portal Access,library_checkout.model_library_checkout_stage,base.group_portal,1,0,0,0\n    access_checkout_portal,Checkout Portal Access,library_checkout.model_library_checkout,base.group_portal,1,0,0,0\n    access_checkout_portal_line,Checkout Portal Line Access,library_checkout.model_library_checkout_line,base.group_portal,1,0,0,0\n    ```", "```py\n    <odoo>\n      <data noupdate=\"1\">\n        <record id=\"member_portal_rule\" model=\"ir.rule\">\n          <field name=\"name\">\n            Library Member Portal Access</field>\n          <field name=\"model_id\" \n                 ref=\n                   \"library_member.model_library_member\"/>\n          <field name=\"domain_force\"\n            >[('partner_id', '=', \n             user.partner_id.id)]</field>\n          <field name=\"groups\" \n            eval=\"[(4,ref('base.group_portal'))]\"/>\n        </record>\n        <record id=\"checkout_portal_rule\" model=\"ir.rule\">\n          <field name=\"name\">\n            Library Checkout Portal Access</field>\n          <field name=\"model_id\"\n             ref=\n               \"library_checkout.model_library_checkout\"/>\n          <field name=\"domain_force\"\n            >[('member_id.partner_id', '=', \n               user.partner_id.id)]</field>\n          <field name=\"groups\"\n                 eval=\"[(4,ref('base.group_portal'))]\"/>\n        </record>\n      </data>\n    </odoo>\n    ```", "```py\n      \"data\": [\n        \"security/ir.model.access.csv\",\n        \"security/library_security.xml\",\n        \"views/assets.xml\",\n        \"views/main_templates.xml\",\n      ],\n    ```", "```py\n    from . import main\n    from . import portal\n    ```", "```py\n    from odoo.http import route, request\n    from odoo.addons.portal.controllers import portal\n    class CustomerPortal(portal.CustomerPortal):\n        def _prepare_home_portal_values(self, counters):\n            values = super()\n              ._prepare_home_portal_values(counters)\n            if \"book_checkout_count\" in counters:\n                count = \n               request.env[\n                \"library.checkout\"].search_count([])\n                values[\"book_checkout_count\"] = count\n            return values\n    ```", "```py\n    <odoo>\n        <template id=\"portal_my_home\" \n          inherit_id=\"portal.portal_my_home\"\n            name=\"Show Book Checkouts\" priority=\"100\"\n            customize_show=\"True\">\n            <xpath expr=\"//div[hasclass('o_portal_docs')]\"\n                position=\"inside\">\n                <t t-call=\"portal.portal_docs_entry\">\n                    <t t-set=\"title\">Book Checkouts</t>\n                    <t t-set=\"url\" \n                      t-value=\"'/my/book-checkouts'\"/>\n                    <t t-set=\"placeholder_count\"\n                       t-value=\"'book_checkout_count'\"/>\n                </t>\n            </xpath>\n        </template>\n    </odoo>\n    ```", "```py\n      \"data\": [\n        \"security/library_security.xml\",\n        \"security/ir.model.access.csv\",\n        \"views/assets.xml\",\n        \"views/main_templates.xml\",\n        \"views/portal_templates.xml\",\n      ],\n    ```", "```py\n    @route(\n      [\"/my/book-checkouts\", \"/my/book-checkouts/\n          page/<int:page>\"],\n      auth=\"user\",\n      website=True,\n    )\n    def my_book_checkouts(self, page=1, **kw):\n        Checkout = request.env[\"library.checkout\"]\n        domain = []\n        # Prepare pager data\n        checkout_count = Checkout.search_count(domain)\n        pager_data = portal.pager(\n            url=\"/my/book_checkouts\",\n            total=checkout_count,\n            page=page,\n            step=self._items_per_page,\n        )\n        # Recordset according to pager and domain filter\n        checkouts = Checkout.search(\n            domain,\n            limit=self._items_per_page,\n            offset=pager_data[\"offset\"],\n        )\n        # Prepare template values and render\n        values = self._prepare_portal_layout_values()\n        values.update(\n            {\n                \"checkouts\": checkouts,\n                \"page_name\": \"book-checkouts\",\n                \"default_url\": \"/my/book-checkouts\",\n                \"pager\": pager_data,\n            }\n        )\n        return request.render(\n            \"library_portal.my_book_checkouts\",\n            values\n        )\n```", "```py\n    <template id=\"my_book_checkouts\" name=\n      \"My Book Checkouts\">\n      <t t-call=\"portal.portal_layout\">\n        <t t-if=\"checkouts\" t-call=\"portal.portal_table\">\n          <thead>\n            <tr>\n              <th>Title</th>\n              <th>Request Date</th>\n              <th>Stage</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr t-foreach=\"checkouts\" t-as=\"doc\">\n              <td>\n                <a t-attf-href=\n                  \"/my/book-checkout/{{slug(doc)}}\">\n                  <span t-field=\"doc.name\"/>\n                </a>\n              </td>\n              <td>\n                <span t-field=\"doc.request_date\"/>\n              </td>\n              <td>\n                <span t-field=\"doc.stage_id.name\"\n                      class=\"badge badge-pill badge-info\"/>\n              </td>\n            </tr>\n          </tbody>\n        </t>\n        <t t-else=\"\">\n          <div class=\"alert alert-warning\" role=\"alert\">\n            There are no book checkouts.\n          </div>\n        </t>\n      </t>\n    </template>\n```", "```py\n    @route(\n        [\"/my/book-checkout/\n           <model('library.checkout'):doc>\"],\n        auth=\"user\",\n        website=True,\n    )\n    def portal_my_project(self, doc=None, **kw):\n        return request.render(\n            \"library_portal.book_checkout\",\n            {\"doc\": doc},\n        )\n```", "```py\n    <template id=\"book_checkout\" name=\"Checkout Form\">\n      <t t-call=\"portal.portal_layout\">\n        <t t-call=\"portal.portal_record_layout\">\n          <t t-set=\"card_header\">\n            <div class=\"row\">\n              <div class=\"col\">\n                <h5 class=\"text-truncate\" \n                  t-field=\"doc.name\" />\n              </div>\n              <div class=\"col text-right\">\n                <span t-field=\"doc.stage_id.name\"\n                      class=\"badge badge-pill badge-info\"\n                      title=\"Current stage\"/>\n              </div>\n            </div>\n          </t>\n          <t t-set=\"card_body\">\n            <!-- Member details -->\n            <div class=\"row\">\n              <strong>Member</strong>\n            </div>\n            <div class=\"row\">\n              <div t-if=\"doc.member_id.image_1024\"\n                   class=\"col flex-grow-0\">\n<img class=\"rounded-circle mt-1 o_portal_contact_img\"\n  t-att-src=\"img/image_data_uri(doc.member_id.image_1024)\"\n  alt=\"Contact\"/>\n              </div>\n              <div class=\"col pl-sm-0\">\n                <address t-field=\"doc.member_id\"\n                         t-options='{\n                           \"widget\": \"contact\",\n                           \"fields\": [\"name\", \"email\", \n                             \"phone\"]\n                         }' />\n              </div>\n            </div>\n            <!-- Checkout books -->\n            <div class=\"row\">\n              <strong>Borrowed books</strong>\n            </div>\n            <div class=\"row\">\n              <div class=\"col\">\n                <ul>\n                  <li t-foreach=\"doc.line_ids\" t-as=\"line\">\n                    <span t-field=\n                      \"line.book_id.display_name\" />\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </t>\n        </t>\n      </t>\n    </template>\n```", "```py\n    <template id=\"portal_layout\"\n              name=\"Portal breadcrumb: book checkout\"\n              inherit_id=\"portal.portal_breadcrumbs\">\n      <xpath expr=\"//ol[hasclass('o_portal_submenu')]\"\n             position=\"inside\">\n        <li t-if=\"page_name == 'book-checkouts' or doc\"\n            class=\"col-lg-2\"\n            t-attf-class=\"breadcrumb-item\n                         #{'active ' if not doc else ''}\">\n          <a t-if=\"doc\"\n             t-attf-href=\"/my/book-checkouts?{{ \n               keep_query() }}\">\n             Checkouts\n           </a>\n           <t t-else=\"\">Checkouts</t>\n        </li>\n        <li t-if=\"doc\" class=\"breadcrumb-item \n          active text-truncate\n                              col-8 col-lg-10\">\n          <t t-esc=\"doc.name\"/>\n        </li>\n      </xpath>\n    </template>\n```"]