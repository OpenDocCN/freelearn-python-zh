<html><head></head><body><div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Extending Our GUI with the wxPython Library</h1>
                </header>
            
            <article>
                
<p>In this chapter, we will introduce another Python GUI toolkit that does not ship with Python. It is called wxPython. There are two versions of this library. The original is called <strong>Classic</strong>, while the newest is called by its development project code name, which is <strong>Phoenix</strong>.</p>
<div class="packt_infobox">The older Classic version does not work with Python 3.x, and we will not look further into this version but instead concentrate on the Phoenix software version.</div>
<p>In this book, we are solely programming using Python 3.7 and later, and because the new Phoenix project is also aimed at supporting Python 3.7 and later, this is the version of wxPython we will use in this chapter.</p>
<p>First, we will install the framework. Then, we will create a simple wxPython GUI, and after that, we will try to connect the <kbd>tkinter</kbd>-based GUIs we developed in this book with the new wxPython library.</p>
<div class="packt_infobox">wxPython is a Python binding to wxWidgets. The <em>w</em> in wxPython stands for the Windows OS, and the <em>x</em> stands for Unix-based OSes, such as Linux and Apple's <span>macOS</span>.</div>
<p>While <kbd>tkinter</kbd> ships with Python, it is valuable to have experience using other GUI frameworks that work with Python. This will improve your Python GUI programming skills, and you can choose which framework to use in your projects.</p>
<p>Here is the overview of Python modules for this chapter:</p>
<div class="CDPAlignCenter CDPAlign"><img class="image-border" src="Images/9eeacd50-9d24-4357-bef7-4d4bee6f6f6e.png" style="width:17.75em;height:13.92em;" width="260" height="203"/></div>
<p class="mce-root">In this chapter, we will enhance our Python GUI by using the<span> </span>wxPython<span> </span>library. We will cover the following recipes:</p>
<ul>
<li>Installing the wxPython library</li>
<li>Creating our GUI in wxPython</li>
<li>Quickly adding controls using wxPython</li>
<li>Trying to embed a main wxPython app in a main tkinter app</li>
<li>Trying to embed our tkinter GUI code into wxPython</li>
<li>Using Python to control two different GUI frameworks</li>
<li>Communicating between two connected GUIs</li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Installing the wxPython library</h1>
                </header>
            
            <article>
                
<p>The wxPython library does not ship with Python, so in order to use it, we first have to install it. This recipe will show us where and how to find the right version to install in order to match both the installed version of Python and the OS we are running.</p>
<div class="packt_infobox">The wxPython third-party library has been around for more than 18 years, which indicates that it is a robust library.</div>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>In order to use wxPython with Python 3.7 and later, we have to install the wxPython Phoenix version. Here is a link to the downloads page: <a href="https://wxpython.org/pages/downloads/">https://wxpython.org/pages/downloads/</a>. We will use this link to download and install the wxPython GUI framework.</p>
<p>And this is a link to PyPI with good information about how to use wxPython: <a href="https://pypi.org/project/wxPython/">https://pypi.org/project/wxPython/</a>.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p>While only a few years ago it was a little tricky to find the right wxPython version for Python 3, we can now simply use <kbd>pip</kbd>. Let's see how in detail:</p>
<ol>
<li>Open a Command Prompt or PowerShell window.</li>
<li>Type <kbd>pip install wxPython</kbd>.</li>
<li>The result should look similar to this:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/52b8865c-1242-4453-a3bb-7a2e2d554e7a.png" width="994" height="212"/></p>
<ol start="4">
<li class="packt_figure CDPAlignLeft CDPAlign">Verify that you have a new folder named <kbd>wx</kbd> in your Python <kbd>site-packages</kbd> folder:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="Images/b6aa1996-b340-4146-b17e-fd611b147eef.png" style="width:20.67em;height:13.42em;" width="390" height="253"/></div>
<p class="mce-root"/>
<ol start="5">
<li>Create a new module and call it <kbd>Hello_wxPython.py</kbd>.</li>
<li>Add the following code:</li>
</ol>
<pre style="padding-left: 60px">import wx <br/>app = wx.App() <br/>frame = wx.Frame(None, -1, "Hello World") <br/>frame.Show() <br/>app.MainLoop() </pre>
<ol start="7">
<li>Running the preceding Python 3.7 script creates the following GUI using wxPython/Phoenix:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="Images/8ed2506f-82d4-41fa-a68c-da02a09d0099.png" style="width:18.92em;height:5.92em;" width="243" height="77"/></div>
<div>Now, let's go behind the scenes to understand the code better.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p>First, we use <kbd>pip</kbd> to install the wxPython framework. Then, we verify that we have the new <kbd>wx</kbd> folder.</p>
<div class="packt_infobox"><kbd>wx</kbd><span> is the name of the folder that the</span> wxPython <span>Phoenix library was installed into. We will</span> import <span>this module into our Python code using the name <kbd>wx</kbd>.</span></div>
<p><span>We can verify that our installation worked by executing this simple demo script from the official</span> wxPython<span>/Phoenix website. The link to the </span>official <span>website is <a href="https://wxpython.org/pages/overview/#hello-world">https://wxpython.org/pages/overview/#hello-world</a>.</span></p>
<p>In this recipe, we successfully installed the correct version of the wxPython toolkit that we can use with Python 3.7. We found the Phoenix project for this GUI toolkit, which is the current and active development line. Phoenix will replace the classic wxPython toolkit in time and is specifically designed to work well with Python 3.7.</p>
<p>After successfully installing the wxPython/Phoenix toolkit, we then created a GUI using this toolkit in only five lines of code.</p>
<p class="mce-root"/>
<div class="packt_infobox">We previously achieved the same results by using <kbd>tkinter</kbd>.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating our GUI in wxPython</h1>
                </header>
            
            <article>
                
<p>In this recipe, we will start creating our Python GUIs using the wxPython GUI toolkit. We will first recreate several of the widgets we previously created using <kbd>tkinter</kbd>, which ships with Python. Then, we will explore some of the widgets the wxPython GUI toolkit offers, which are not that easy to create by using <kbd>tkinter</kbd>.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>The previous recipe showed you how to install the correct version of wxPython that matches both your version of Python and the OS you are running. A good place to start exploring the wxPython GUI toolkit is by going to the following URL: <a href="http://wxpython.org/Phoenix/docs/html/gallery.html"><span class="URLPACKT">http://wxpython.org/Phoenix/docs/html/gallery.html</span></a>.</p>
<p>This web page displays many wxPython widgets and, by clicking on any of them, we are taken to their documentation, which is a very helpful feature if you want to quickly learn about a wxPython control:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="Images/17476260-120b-455a-86da-3a4a4ef96824.png" style="width:40.50em;height:20.67em;" width="769" height="393"/></div>
<p>Let's now use the wxPython library.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p><span>We can very quickly create a working window that comes with a title, a menu bar, and also a status bar. This status bar displays the text of a menu item when hovering the mouse over it. Moving forward, perform the following steps:</span></p>
<ol>
<li><span>Create a new Python module and name it <kbd>wxPython_frame_GUI.py</kbd></span>.</li>
<li>Add the following code:</li>
</ol>
<pre style="padding-left: 60px"># Import wxPython GUI toolkit <br/>import wx <br/><br/># Subclass wxPython frame <br/>class GUI(wx.Frame): <br/>    def __init__(self, parent, title, size=(200,100)): <br/>        # Initialize super class <br/>        wx.Frame.__init__(self, parent, title=title, size=size) <br/><br/>        # Change the frame background color  <br/>        self.SetBackgroundColour('white') <br/><br/>        # Create Status Bar <br/>        self.CreateStatusBar()  <br/><br/>        # Create the Menu <br/>        menu= wx.Menu() <br/><br/>        # Add Menu Items to the Menu <br/>        menu.Append(wx.ID_ABOUT, "About", "wxPython GUI") <br/>        menu.AppendSeparator() <br/>        menu.Append(wx.ID_EXIT,"Exit"," Exit the GUI") <br/><br/>        # Create the MenuBar <br/>        menuBar = wx.MenuBar() <br/><br/>        # Give the Menu a Title <br/>        menuBar.Append(menu,"File")  <br/><br/>        # Connect the MenuBar to the frame <br/>        self.SetMenuBar(menuBar)   <br/><br/>        # Display the frame <br/>        self.Show() <br/><br/># Create instance of wxPython application <br/>app = wx.App() <br/><br/># Call sub-classed wxPython GUI increasing default Window size <br/>GUI(None, "Python GUI using wxPython", (300,150)) <br/><br/># Run the main GUI event loop <br/>app.MainLoop() </pre>
<ol start="3">
<li>This creates the following GUI, which is written in Python using the wxPython library:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="Images/48fe8b61-d6b9-4479-8afb-30c5f82916a8.png" style="width:31.25em;height:12.08em;" width="424" height="164"/></div>
<ol start="4">
<li><span>Create a new module and name it <kbd><span>wxPython_panel_GUI.py</span></kbd></span>.</li>
<li>Add the following code:</li>
</ol>
<pre style="padding-left: 60px">import wx                                  # Import wxPython GUI toolkit <br/>class GUI(wx.Panel):                       # Subclass wxPython Panel <br/>    def __init__(self, parent): <br/><br/>        # Initialize super class <br/>        wx.Panel.__init__(self, parent) <br/><br/>        # Create Status Bar <br/>        parent.CreateStatusBar()  <br/><br/>        # Create the Menu <br/>        menu= wx.Menu() <br/><br/>        # Add Menu Items to the Menu <br/>        menu.Append(wx.ID_ABOUT, "About", "wxPython GUI") <br/>        menu.AppendSeparator() <br/>        menu.Append(wx.ID_EXIT,"Exit"," Exit the GUI") <br/><br/>        # Create the MenuBar <br/>        menuBar = wx.MenuBar() <br/><br/>        # Give the Menu a Title <br/>        menuBar.Append(menu,"File")  <br/><br/>        # Connect the MenuBar to the frame <br/>        parent.SetMenuBar(menuBar)   <br/><br/>        # Create a Print Button <br/>        button = wx.Button(self, label="Print", pos=(0,60)) <br/><br/>        # Connect Button to Click Event method  <br/>        self.Bind(wx.EVT_BUTTON, self.printButton, button) <br/><br/>        # Create a Text Control widget  <br/>        self.textBox = wx.TextCtrl(self, size=(280,50), <br/>        style=wx.TE_MULTILINE) <br/><br/>    # callback event handler     <br/>    def printButton(self, event): <br/>        self.textBox.AppendText(<br/>        "The Print Button has been clicked!")  <br/><br/>app = wx.App()      # Create instance of wxPython application <br/>                    # Create frame<br/>frame = wx.Frame(None, title="Python GUI using wxPython", size=(300,180))  <br/>GUI(frame)          # Pass frame into GUI <br/>frame.Show()        # Display the frame <br/>app.MainLoop()      # Run the main GUI event loop </pre>
<ol start="7">
<li>Running the preceding code and clicking our wxPython button widget results in the following GUI output:</li>
</ol>
<p class="packt_figure CDPAlignCenter CDPAlign"><img src="Images/69c05a45-6eb8-4e6e-8d68-4b8e1527968a.png" style="width:24.50em;height:12.58em;" width="317" height="163"/></p>
<p class="mce-root">Now, let's go behind the scenes to understand the code better.</p>
<p> </p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p>In the <kbd><span>wxPython_frame_GUI.py</span></kbd> code, we inherit from<span> </span><kbd>wx.Frame</kbd>. In the next code, we inherit from<span> </span><kbd>wx.Panel</kbd><span> </span>and we pass in<span> </span><kbd>wx.Frame</kbd><span> </span>to the<span> </span><kbd>__init__()</kbd><span> </span>method of our class.</p>
<div class="packt_infobox">In<span> </span>wxPython, the top-level GUI window is called a frame. There cannot be a wxPython GUI without a frame, and the frame has to be created as part of a wxPython application. We create both the application and the frame at the bottom of our code.</div>
<p>In order to add widgets to our GUI, we have to attach them to a panel. The parent of the panel is the frame (our top-level window), and the parent of the widgets we place into the panel is the panel. <span>In the <kbd>wxPython_panel_GUI.py</kbd> code, the </span>parent<span> is a </span><kbd>wx.Frame</kbd><span> we are passing into the GUI initializer. </span>We also add a button widget to the panel widget, which, when clicked, prints out some text to the<span> </span>textbox.</p>
<p>We have created our own GUI in this recipe using the mature wxPython GUI toolkit. In only a few lines of Python code, we were able to create a fully functional GUI that comes with minimize, maximize, and exit buttons. We added a menu bar, a multi-line text control, and a button. We also created a status bar that displays text when we select a menu item. We placed all these widgets into a panel container widget. We hooked up the button to print to the text control. When hovering over a menu item, some text gets displayed in the status bar.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Quickly adding controls using wxPython</h1>
                </header>
            
            <article>
                
<p>In this recipe, we will recreate the GUI we originally created earlier in this book with <kbd>tkinter</kbd>, but this time, we will be using the wxPython library. We will see how easy and quick it is to use the wxPython GUI toolkit to create our own Python GUIs.</p>
<p>We will not recreate the entire functionality we created in the previous chapters. For example, we will not internationalize our wxPython GUI, nor connect it to a MySQL database. We will recreate the visual aspects of the GUI and add some functionality.</p>
<div class="packt_infobox">Comparing different libraries gives us the choice of which toolkits to use for our own Python GUI development, and we can combine several of those toolkits in our own Python code.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>Ensure you have the wxPython module installed to follow this recipe.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p>Let's see how to perform this recipe:</p>
<ol>
<li>First, we create our Python <kbd>OOP</kbd> class as we did before when using <kbd>tkinter</kbd>, but this time we inherit from and extend the <kbd>wx.Frame</kbd> class. We name the class <kbd>MainFrame</kbd>.</li>
<li>Create a new Python module and call it <kbd>GUI_wxPython.py</kbd>.</li>
<li>Add the following code:</li>
</ol>
<pre style="padding-left: 60px">import wx <br/>BACKGROUNDCOLOR = (240, 240, 240, 255) <br/><br/>class MainFrame(wx.Frame): <br/>    def __init__(self, *args, **kwargs): <br/>        wx.Frame.__init__(self, *args, **kwargs) <br/>        self.createWidgets() <br/>        self.Show() <br/><br/>    def exitGUI(self, event):       # callback <br/>        self.Destroy() <br/><br/>    def createWidgets(self):    <br/>        self.CreateStatusBar()      # wxPython built-in method <br/>        self.createMenu() <br/>        self.createNotebook() </pre>
<ol start="4">
<li>Add the following code to create a <kbd>notebook</kbd> widget:</li>
</ol>
<pre> #---------------------------------------------------------- <br/>    def createNotebook(self): <br/>        panel = wx.Panel(self) <br/>        notebook = wx.Notebook(panel) <br/>        widgets = Widgets(notebook) # Custom class explained below <br/>        notebook.AddPage(widgets, "Widgets") <br/>        notebook.SetBackgroundColour(BACKGROUNDCOLOR)  <br/>        # layout <br/>        boxSizer = wx.BoxSizer() <br/>        boxSizer.Add(notebook, 1, wx.EXPAND) <br/>        panel.SetSizerAndFit(boxSizer)   </pre>
<ol start="5">
<li>Add a new class and name it <kbd>Widgets</kbd>:</li>
</ol>
<pre style="padding-left: 60px">class Widgets(wx.Panel): <br/>    def __init__(self, parent): <br/>        wx.Panel.__init__(self, parent) <br/>        self.createWidgetsFrame() <br/>        self.addWidgets() <br/>        self.layoutWidgets() </pre>
<ol start="6">
<li>Add these methods:</li>
</ol>
<pre>    #------------------------------------------------------ <br/>    def createWidgetsFrame(self): <br/>        self.panel = wx.Panel(self) <br/>        staticBox = wx.StaticBox(self.panel, -1, "Widgets Frame")     <br/>        self.statBoxSizerV = wx.StaticBoxSizer(staticBox, wx.VERTICAL) <br/>    #----------------------------------------------------- <br/>    def layoutWidgets(self):          <br/>        boxSizerV = wx.BoxSizer(wx.VERTICAL) <br/>        boxSizerV.Add(self.statBoxSizerV, 1, wx.ALL) <br/>        self.panel.SetSizer(boxSizerV) <br/>        boxSizerV.SetSizeHints(self.panel)               <br/>    #------------------------------------------------------ <br/>    def addWidgets(self): <br/>        self.addCheckBoxes()         <br/>        self.addRadioButtons() <br/>        self.addStaticBoxWithLabels() </pre>
<ol start="7">
<li>Add the <kbd>addStaticBoxWithLabels</kbd> method:</li>
</ol>
<pre>    def addStaticBoxWithLabels(self): <br/>        boxSizerH = wx.BoxSizer(wx.HORIZONTAL) <br/>        staticBox = wx.StaticBox(self.panel, -1, "Labels within a Frame") <br/>        staticBoxSizerV = wx.StaticBoxSizer(staticBox, wx.VERTICAL) <br/>        boxSizerV = wx.BoxSizer( wx.VERTICAL ) <br/>        staticText1 = wx.StaticText(self.panel, -1, "Choose a number:") <br/>        boxSizerV.Add(staticText1, 0, wx.ALL) <br/>        staticText2 = wx.StaticText(self.panel, -1,"Label 2") <br/>        boxSizerV.Add(staticText2, 0, wx.ALL) <br/>        #------------------------------------------------------ <br/>        staticBoxSizerV.Add(boxSizerV, 0, wx.ALL) <br/>        boxSizerH.Add(staticBoxSizerV) <br/>        #------------------------------------------------------ <br/>        boxSizerH.Add(wx.TextCtrl(self.panel)) <br/>        # Add local boxSizer to main frame <br/>        self.statBoxSizerV.Add(boxSizerH, 1, wx.ALL) </pre>
<ol start="8">
<li>Add the following methods and call them in <kbd>__init__</kbd>:</li>
</ol>
<pre style="padding-left: 60px">class Widgets(wx.Panel): <br/>    def __init__(self, parent): <br/>        wx.Panel.__init__(self, parent) <br/>        self.panel = wx.Panel(self) <br/>        self.createWidgetsFrame() <br/>        self.createManageFilesFrame() <br/>        self.addWidgets() <br/>        self.addFileWidgets() <br/>        self.layoutWidgets()    <br/>    #---------------------------------------------------------- <br/>    def createWidgetsFrame(self): <br/>        staticBox = wx.StaticBox(self.panel, -1, "Widgets Frame", <br/>        size=(285, -1))    <br/>        self.statBoxSizerV = wx.StaticBoxSizer(staticBox, <br/>        wx.VERTICAL)    <br/>    #---------------------------------------------------------- <br/>    def createManageFilesFrame(self): <br/>        staticBox = wx.StaticBox(self.panel, -1, "Manage Files", <br/>        size=(285, -1))    <br/>        self.statBoxSizerMgrV = wx.StaticBoxSizer(staticBox, <br/>        wx.VERTICAL) <br/>    #---------------------------------------------------------- <br/>    def layoutWidgets(self):          <br/>        boxSizerV = wx.BoxSizer( wx.VERTICAL ) <br/>        boxSizerV.Add( self.statBoxSizerV, 1, wx.ALL ) <br/>        boxSizerV.Add( self.statBoxSizerMgrV, 1, wx.ALL ) <br/><br/>        self.panel.SetSizer( boxSizerV ) <br/>        boxSizerV.SetSizeHints( self.panel ) <br/>    #---------------------------------------------------------- <br/>    def addFileWidgets(self):    <br/>        boxSizerH = wx.BoxSizer(wx.HORIZONTAL) <br/>        boxSizerH.Add(wx.Button(self.panel, label='Browse to <br/>        File...'))    <br/>        boxSizerH.Add(wx.TextCtrl(self.panel, size=(174, -1), <br/>        value= "Z:" )) <br/><br/>        boxSizerH1 = wx.BoxSizer(wx.HORIZONTAL) <br/>        boxSizerH1.Add(wx.Button(self.panel, label=<br/>        'Copy File To: '))  <br/>        boxSizerH1.Add(wx.TextCtrl(self.panel, size=(174, -1),  <br/>        value="Z:Backup" ))     <br/><br/>        boxSizerV = wx.BoxSizer(wx.VERTICAL) <br/>        boxSizerV.Add(boxSizerH) <br/>        boxSizerV.Add(boxSizerH1)         <br/><br/>        self.statBoxSizerMgrV.Add( boxSizerV, 1, wx.ALL ) </pre>
<ol start="9">
<li>At the bottom of the module, add the code to call <kbd>MainLoop</kbd>:</li>
</ol>
<pre style="padding-left: 60px">#====================== <br/># Start GUI <br/>#====================== <br/>app = wx.App() <br/>MainFrame(None, , size=(350,450)) <br/>app.MainLoop() </pre>
<ol start="10">
<li>Run <span><kbd>GUI_wxPython.py</kbd>. </span>The final result of our wxPython GUI looks as follows:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img style="font-size: 1em;width:20.67em;height:27.33em;" src="Images/7ca130af-7909-462d-9f27-15b61ae2c341.png" width="331" height="438"/></div>
<p>Now, let's go behind the scenes to understand the code better.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p>First, we create a new Python module. For reasons of clarity, we no<span> </span>longer call our class <kbd>OOP</kbd> but, instead, rename it as<span> </span><kbd>MainFrame</kbd>.</p>
<div class="packt_infobox">In<span> </span>wxPython, the main GUI window is called a frame.</div>
<p>We also create a callback method that closes the GUI when we click the<span> </span><span class="packt_screen">Exit</span> menu item and declare a light-gray<span> </span>tuple<span> </span>as the background color for our GUI. We then add a tabbed control to our GUI by creating an instance of the wxPython<span> </span><kbd>Notebook</kbd><span> </span>class and assign it as the parent of our own custom class named<span> </span><kbd>Widgets</kbd>. The<span> </span><kbd>Notebook</kbd><span> </span>class instance variable has<span> </span><kbd>wx.Panel</kbd><span> </span>as its parent.</p>
<div class="packt_infobox">In wxPython, the tabbed widget is named<span> </span><kbd>Notebook</kbd>, just like in <kbd>tkinter</kbd>.</div>
<p>Every<span> </span><kbd>Notebook</kbd><span> </span>widget needs to have a parent and, in order to lay out widgets in the<span> </span><kbd>Notebook</kbd><span> </span>in wxPython, we use different kinds of<span> </span>sizers.</p>
<div class="packt_infobox">wxPython<span> </span>sizers<span> </span>are layout managers, similar to grid layout manager of <kbd>tkinter</kbd>.</div>
<p>Next, we add controls to our <kbd>Notebook</kbd> page, and we do this by creating a separate class, <span><kbd>Widgets</kbd>,</span> that inherits from<span> </span><kbd>wx.Panel</kbd><span>. We modularize our GUI code by breaking it into small methods, following Python OOP programming best practices, which keeps our code manageable and understandable.</span></p>
<div class="packt_infobox">When using wxPython<span> </span><kbd>StaticBox</kbd><span> </span>widgets, in order to successfully lay them out, we use a combination of <kbd>StaticBoxSizer</kbd><span> </span>and a regular<span> </span><kbd>BoxSizer</kbd>. The wxPython<span> </span><kbd>StaticBox</kbd><span> </span>is very similar to the<span> </span><kbd>LabelFrame</kbd><span> </span>widget of <kbd>tkinter</kbd>.</div>
<p class="mce-root"/>
<p>Embedding a<span> </span><kbd>StaticBox</kbd><span> </span>within another<span> </span><kbd>StaticBox</kbd><span> </span>is straightforward in <kbd>tkinter</kbd>, but using wxPython is a little non-intuitive. One way to make it work is shown in the<span> </span><kbd>addStaticBoxWithLabels</kbd><span> </span>method.</p>
<p>After this, we create a horizontal<span> </span><kbd>BoxSizer</kbd>. Next, we create a vertical<span> </span><kbd>StaticBoxSizer</kbd><span> </span>because we want to arrange two labels in a vertical layout in this frame. In order to arrange another widget to the right of the embedded<span> </span><kbd>StaticBox</kbd>, we have to assign both the embedded<span> </span><kbd>StaticBox</kbd><span> </span>with its children controls and the next widget to the horizontal<span> </span><kbd>BoxSizer</kbd><span>. Next, we need to </span>assign this<span> </span><kbd>BoxSizer</kbd>, which now contains both our embedded<span> </span><kbd>StaticBox</kbd><span> </span>and our other widgets, to the main<span> </span><kbd>StaticBox</kbd>.</p>
<p>Does this sound confusing?</p>
<p>Just experiment with these<span> </span>sizers<span> </span>to get a feel of how to use them. Start with the code for this recipe and comment out some code or modify some<span> </span><em>x</em><span> </span>and<span> </span><em>y</em><span> </span>coordinates to see the effects. It is also good to read the official wxPython documentation to learn more.</p>
<div class="packt_infobox">The important thing is knowing where to add the different<span> </span>sizers in the code in order to achieve the layout we wish.</div>
<p>In order to create the second<span> </span><kbd>StaticBox</kbd><span> </span>below the first, we create separate<span> </span><kbd>StaticBoxSizer</kbd><span> </span>and assign them to the same panel. We design and lay out our wxPython GUI in several classes. Once we have done this, in the bottom section of our Python module, we create an instance of the wxPython application. Next, we instantiate our wxPython GUI code.</p>
<p>After that, we call the main GUI event loop, which executes all of our Python code running within this application process. This displays our wxPython GUI.</p>
<p>This recipe used OOP to show how to use the wxPython GUI toolkit.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Trying to embed a main wxPython app in a main tkinter app</h1>
                </header>
            
            <article>
                
<p>Now that we have created the same GUI using both Python's built-in <kbd>tkinter</kbd> library as well as the wxPython wrapper of the wxWidgets library, we really would like to combine the GUIs we created using these technologies.</p>
<p class="mce-root"/>
<div class="packt_infobox">Both the wxPython and the <kbd>tkinter</kbd> libraries have their own advantages. In online forums, such as <a href="http://stackoverflow.com/"><span class="URLPACKT">http://stackoverflow.com/</span></a>, we often see questions such as which one is better, which GUI toolkit should I use, and so on. This suggests that we have to make an either-or decision. In reality, we do not have to make such a decision.</div>
<p>One of the main challenges in doing so is that each GUI toolkit must have its own event loop. In this recipe, we will try to embed a simple wxPython GUI by calling it from our <kbd>tkinter</kbd> GUI.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>We will reuse the <kbd>tkinter</kbd> GUI we built in the <em>Combo box widgets </em><span>recipe </span><span>in</span> <a href="" target="_blank"><span class="ChapterrefPACKT">Chapter 1</span></a><span>,</span> <em>Creating the GUI Form and Adding Widgets</em><span>.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p>We will start from a simple <kbd>tkinter</kbd> GUI:</p>
<ol>
<li>Create a new module and name it <kbd>Embed_wxPython.py</kbd>.</li>
<li>Add the following code:</li>
</ol>
<pre style="padding-left: 60px">#=========================================================== <br/>import tkinter as tk <br/>from tkinter import ttk, scrolledtext  <br/><br/>win = tk.Tk()          <br/>win.title("Python GUI") <br/>aLabel = ttk.Label(win, text="A Label") <br/>aLabel.grid(column=0, row=0)     <br/>ttk.Label(win, text="Enter a name:").grid(column=0, row=0) <br/>name = tk.StringVar() <br/>nameEntered = ttk.Entry(win, width=12, textvariable=name) <br/>nameEntered.grid(column=0, row=1) <br/>ttk.Label(win, text="Choose a number:").grid(column=1, row=0) <br/>number = tk.StringVar() <br/>numberChosen = ttk.Combobox(win, width=12, textvariable=number) <br/>numberChosen['values'] = (1, 2, 4, 42, 100) <br/>numberChosen.grid(column=1, row=1) <br/>numberChosen.current(0) <br/>scrolW = 30 <br/>scrolH =  3 <br/>scr = scrolledtext.ScrolledText(win, width=scrolW, height=scrolH, wrap=tk.WORD) <br/>scr.grid(column=0, sticky='WE', columnspan=3) <br/>nameEntered.focus()   <br/>action = ttk.Button(win, text="Call wxPython GUI") <br/>action.grid(column=2, row=1) <br/>#====================== <br/># Start GUI <br/>#====================== <br/>win.mainloop() </pre>
<ol start="3">
<li>Run the code and observe the following output:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="Images/0c44febd-10d9-4bae-bf6e-9fd9023cef35.png" style="width:21.42em;height:10.08em;" width="302" height="142"/></div>
<ol start="4">
<li>Create a new function, <kbd><span>wxPythonApp</span></kbd>, and place it above the main loop:</li>
</ol>
<pre style="padding-left: 60px"><br/>#=========================================================== <br/>def wxPythonApp(): <br/> import wx <br/>    app = wx.App() <br/>    frame = wx.Frame(None, -1, "wxPython GUI", size=(200,150)) <br/>    frame.SetBackgroundColour('white') <br/>    frame.CreateStatusBar() <br/>    menu= wx.Menu() <br/>    menu.Append(wx.ID_ABOUT, "About", "wxPython GUI") <br/>    menuBar = wx.MenuBar() <br/>    menuBar.Append(menu,"File")  <br/>    frame.SetMenuBar(menuBar)      <br/>    frame.Show() <br/>    app.MainLoop() <br/><br/>#=============== Bottom of module =================<br/>action = ttk.Button(win, text="Call wxPython GUI", command=wxPythonApp) <br/>action.grid(column=2, row=1) <br/><br/>#====================== <br/># Start GUI <br/>#====================== <br/>win.mainloop()</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<ol start="5">
<li>Running the preceding code starts a wxPython GUI from our <kbd>tkinter</kbd> GUI after clicking the <kbd>tkinter</kbd> button control:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="Images/ed9f5eaf-d5f4-4d7f-ba13-3677091cc514.png" style="width:41.58em;height:10.25em;" width="689" height="170"/></div>
<p>Now, let's go behind the scenes to understand the code better.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p>First, we create a simple <kbd>tkinter</kbd> GUI and run it by itself. <span>Next, we try to invoke a simple</span> wxPython <span>GUI, which we created in a previous recipe in this chapter.</span></p>
<p>We create a new function, <kbd><span>wxPythonApp</span></kbd>, which has the wxPython code, and we place it above the <kbd>tkinter</kbd> button. After that, we set the <kbd>command</kbd> attribute of the button to this function:</p>
<pre>action = ttk.Button(win, text="Call wxPython GUI", command=wxPythonApp)   # &lt;====</pre>
<p>The important part is that we place the entire wxPython code into its own function, which we named <kbd>def wxPythonApp()</kbd>. In the callback function for the button-click event, we simply call this code.</p>
<div class="packt_infobox">One thing to note is that we have to close the wxPython GUI before we can continue using the <kbd>tkinter</kbd> GUI.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Trying to embed our tkinter GUI code into wxPython</h1>
                </header>
            
            <article>
                
<p>In this recipe, we will go in the opposite direction of the previous recipe and try to call our <kbd>tkinter</kbd> GUI code from within a wxPython GUI.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>We will reuse some of the wxPython GUI code we created in a previous recipe in this chapter.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p>We will start from a simple wxPython GUI:</p>
<ol>
<li>Create a new module and name it <kbd>Embed_tkinter.py</kbd>.</li>
<li>Add the following code:</li>
</ol>
<pre style="padding-left: 60px"><br/>#============================================================= <br/>import wx <br/>app = wx.App() <br/>frame = wx.Frame(None, -1, "wxPython GUI", size=(270,180)) <br/>frame.SetBackgroundColour('white') <br/>frame.CreateStatusBar() <br/>menu= wx.Menu() <br/>menu.Append(wx.ID_ABOUT, "About", "wxPython GUI") <br/>menuBar = wx.MenuBar() <br/>menuBar.Append(menu,"File")  <br/>frame.SetMenuBar(menuBar)  <br/>textBox = wx.TextCtrl(frame, size=(250,50), style=wx.TE_MULTILINE) <br/><br/>def tkinterEmbed(event): <br/>    tkinterApp()                             # &lt;==== we create this function next<br/><br/>button = wx.Button(frame, label="Call tkinter GUI", pos=(0,60))  <br/>frame.Bind(wx.EVT_BUTTON, tkinterEmbed, button) <br/>frame.Show() <br/><br/>#====================== <br/># Start wxPython GUI <br/>#====================== <br/>app.MainLoop()</pre>
<ol start="3">
<li>Run the code and observe the following output:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="Images/6fb9e9b9-6499-4942-b2ac-6049b59b3e74.png" style="width:15.17em;height:10.58em;" width="266" height="186"/></div>
<ol start="4">
<li>Add the following code to the very top of the module:</li>
</ol>
<pre style="padding-left: 60px">#============================================================= <br/>def tkinterApp(): <br/>    import tkinter as tk <br/>    from tkinter import ttk <br/>    win = tk.Tk()     <br/>    win.title("Python GUI") <br/>    aLabel = ttk.Label(win, text="A Label") <br/>    aLabel.grid(column=0, row=0)     <br/>    ttk.Label(win, text="Enter a name:").grid(column=0, row=0) <br/>    name = tk.StringVar() <br/>    nameEntered = ttk.Entry(win, width=12, textvariable=name) <br/>    nameEntered.grid(column=0, row=1) <br/>    nameEntered.focus() <br/><br/>    def buttonCallback(): <br/>        action.configure(text='Hello ' + name.get()) <br/>    action = ttk.Button(win, text="Print", command=buttonCallback) <br/>    action.grid(column=2, row=1) <br/>    win.mainloop()<br/>#=============== Bottom of module =================<br/>import wx<br/># ... </pre>
<ol start="5">
<li>Run the code and click the <span class="packt_screen">Call tkinter GUI</span> button.</li>
<li>In the <kbd>tkinter</kbd> GUI, enter some text and click the <span class="packt_screen">Print</span> button.</li>
</ol>
<ol start="7">
<li>Type into the wxPython <kbd>TextCtrl</kbd><span> widget:</span></li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="Images/0e005ca7-8bd0-4a4e-b977-99f4d91c369b.png" style="width:25.42em;height:9.17em;" width="532" height="192"/></div>
<ol start="8">
<li><span>Run the code and</span> click the <span class="packt_screen">Call tkinter GUI</span> button sever<span>al times.</span></li>
<li>Type into the <kbd>tkinter</kbd> <span>GUIs and click the <span class="packt_screen">Print</span> button:</span></li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="Images/ea624762-f334-46f2-bcb8-1498672c97d8.png" style="width:36.00em;height:12.75em;" width="766" height="272"/></div>
<div>Now, let's go behind the scenes to understand the code better.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p>In this recipe, we went in the opposite direction of the previous recipe by first creating a GUI using wxPython and then, from within it, creating several GUI instances built using <kbd>tkinter</kbd>.</p>
<p><span>Running the <kbd>Embed_tkinter.py</kbd> code starts a</span> <kbd>tkinter</kbd> <span>GUI from our</span> wxPython <span>GUI after clicking the</span> wxPython <span>button widget. We can then enter text into the</span> <kbd>tkinter</kbd> <span>textbox and, by clicking its button, the button text gets updated with the name.</span></p>
<p>After starting the <kbd>tkinter</kbd> event loop, the wxPython GUI is still responsive because we can still type into the<span> </span><kbd>TextCtrl</kbd><span> </span>widget while the <kbd>tkinter</kbd> GUI is up and running.</p>
<div class="packt_infobox">In the previous recipe, we could not use our <kbd>tkinter</kbd> GUI until we had closed the wxPython GUI. Being aware of this difference can help our design decisions if we want to combine the two Python GUI technologies.</div>
<p>We can also create several <kbd>tkinter</kbd> GUI instances by clicking the wxPython GUI button several times. We cannot, however, close the wxPython GUI while any <kbd>tkinter</kbd> GUIs are still running. We have to close them first.</p>
<p>The wxPython GUI remained responsive while one or more <kbd>tkinter</kbd> GUIs were running. However, clicking the <kbd>tkinter</kbd> button only updated its button text in the first instance.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using Python to control two different GUI frameworks</h1>
                </header>
            
            <article>
                
<p>In this recipe, we will explore ways to control the <kbd>tkinter</kbd> and wxPython GUI frameworks from Python. We have already used the Python threading module to keep our GUI responsive in <a href="802f3638-4c00-4d83-8f04-3acdb39b53ec.xhtml">Chapter 6</a>, <em>Threads and Networking</em>, so here we will attempt to use the same approach.</p>
<p>We will see that things don't always work in a way that would be intuitive. However, we will improve our <kbd>tkinter</kbd> GUI from being unresponsive while we invoke an instance of the wxPython GUI from within it.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>This recipe will extend a previous recipe from this chapter, <em>Trying to embed a main wxPython app in a main tkinter app</em>, in which we successfully tried to embed a main wxPython GUI into our <kbd>tkinter</kbd> GUI.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p>When we created an instance of a wxPython GUI from our <kbd>tkinter</kbd> GUI, we could no longer use the <kbd>tkinter</kbd> GUI controls until we closed the one instance of the wxPython GUI. Let's improve on this now:</p>
<ol>
<li>Create a new module and name it <kbd>Control_Frameworks_NOT_working.py</kbd>.</li>
</ol>
<p class="mce-root"/>
<ol start="2">
<li>Write the following code:</li>
</ol>
<pre style="padding-left: 60px">#==================================================================<br/>import tkinter as tk<br/>from tkinter import ttk<br/>from tkinter import scrolledtext<br/>from threading import Thread<br/><br/>win = tk.Tk() <br/>     <br/>win.title("Python GUI")<br/>aLabel = ttk.Label(win, text="A Label")<br/>aLabel.grid(column=0, row=0) <br/>ttk.Label(win, text="Enter a name:").grid(column=0, row=0)<br/>name = tk.StringVar()<br/>nameEntered = ttk.Entry(win, width=12, textvariable=name)<br/>nameEntered.grid(column=0, row=1)<br/>ttk.Label(win, text="Choose a number:").grid(column=1, row=0)<br/>number = tk.StringVar()<br/>numberChosen = ttk.Combobox(win, width=12, textvariable=number)<br/>numberChosen['values'] = (1, 2, 4, 42, 100)<br/>numberChosen.grid(column=1, row=1)<br/>numberChosen.current(0)<br/>scrolW = 30<br/>scrolH = 3<br/>scr = scrolledtext.ScrolledText(win, width=scrolW, height=scrolH, wrap=tk.WORD)<br/>scr.grid(column=0, sticky='WE', columnspan=3)<br/>nameEntered.focus() <br/><br/>#================================================================== <br/># NOT working - CRASHES Python -----------------------------------<br/>def wxPythonApp():<br/>    import wx<br/>    app = wx.App()<br/>    frame = wx.Frame(None, -1, "wxPython GUI", size=(200,150))<br/>    frame.SetBackgroundColour('white')<br/>    frame.CreateStatusBar()<br/>    menu= wx.Menu()<br/>    menu.Append(wx.ID_ABOUT, "About", "wxPython GUI")<br/>    menuBar = wx.MenuBar()<br/>    menuBar.Append(menu,"File") <br/>    frame.SetMenuBar(menuBar) <br/>    frame.Show()<br/>    app.MainLoop()<br/><br/>def tryRunInThread():<br/>    runT = Thread(target=wxPythonApp)       # &lt;==== calling wxPythonApp in thread<br/>    runT.setDaemon(True) <br/>    runT.start()<br/>    print(runT)<br/>    print('createThread():', runT.isAlive()) <br/>        <br/>action = ttk.Button(win, text="Call wxPython GUI", command=tryRunInThread) <br/>action.grid(column=2, row=1)<br/>#-----------------------------------------------------------------<br/>    <br/>#======================<br/># Start GUI<br/>#======================<br/>win.mainloop()</pre>
<ol start="3">
<li> Run the code. Open some wxPython GUIs and type into the <kbd>tkinter</kbd> GUI:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="Images/d8121b9a-45da-4611-a14b-4bb191345a5a.png" style="width:30.92em;height:13.83em;" width="639" height="287"/></div>
<ol start="4">
<li>Close the GUIs:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="Images/ea830be4-e15a-4f17-a850-3d5b4b90fb39.png" width="876" height="364"/></div>
<p style="padding-left: 60px">In order to avoid this crashing of the <kbd>Python.exe</kbd> executable process as shown in the preceding screenshot, instead of trying to run the entire wxPython application in a thread, we can change the code to make only the wxPython <kbd>app.MainLoop</kbd> run in a thread.</p>
<ol start="5">
<li>Create a new module and name it <kbd>Control_Frameworks.py</kbd>.</li>
<li>Write the following code and run it:</li>
</ol>
<pre style="padding-left: 60px">#==================================================================<br/>import tkinter as tk<br/>from tkinter import ttk<br/>from tkinter import scrolledtext<br/>from threading import Thread<br/><br/>win = tk.Tk() <br/>     <br/>win.title("Python GUI")<br/>aLabel = ttk.Label(win, text="A Label")<br/>aLabel.grid(column=0, row=0) <br/>ttk.Label(win, text="Enter a name:").grid(column=0, row=0)<br/>name = tk.StringVar()<br/>nameEntered = ttk.Entry(win, width=12, textvariable=name)<br/>nameEntered.grid(column=0, row=1)<br/>ttk.Label(win, text="Choose a number:").grid(column=1, row=0)<br/>number = tk.StringVar()<br/>numberChosen = ttk.Combobox(win, width=12, textvariable=number)<br/>numberChosen['values'] = (1, 2, 4, 42, 100)<br/>numberChosen.grid(column=1, row=1)<br/>numberChosen.current(0)<br/>scrolW = 30<br/>scrolH = 3<br/>scr = scrolledtext.ScrolledText(win, width=scrolW, height=scrolH, wrap=tk.WORD)<br/>scr.grid(column=0, sticky='WE', columnspan=3)<br/>nameEntered.focus() <br/><br/>#================================================================== <br/>## working <br/>def wxPythonApp():<br/>    import wx<br/>    app = wx.App()<br/>    frame = wx.Frame(None, -1, "wxPython GUI", size=(200,150))<br/>    frame.SetBackgroundColour('white')<br/>    frame.CreateStatusBar()<br/>    menu= wx.Menu()<br/>    menu.Append(wx.ID_ABOUT, "About", "wxPython GUI")<br/>    menuBar = wx.MenuBar()<br/>    menuBar.Append(menu,"File") <br/>    frame.SetMenuBar(menuBar) <br/>    frame.Show()<br/>    <br/>    runT = Thread(target=app.MainLoop)        # &lt;==== Thread for MainLoop only<br/>    runT.setDaemon(True) <br/>    runT.start()<br/>    print(runT)<br/>    print('createThread():', runT.isAlive())<br/><br/>action = ttk.Button(win, text="Call wxPython GUI", command=wxPythonApp) <br/>action.grid(column=2, row=1)<br/>#================================================================== <br/>#======================<br/># Start GUI<br/>#======================<br/>win.mainloop()</pre>
<p>Let's comprehend the steps in detail in the next section.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p>We first tried to run the entire wxPython GUI application in a thread, <kbd><span>Control_Frameworks_NOT_working.py</span></kbd>, but this did not work because the wxPython main event loop expects to be the main thread of the application.</p>
<p><span>At first, </span><span><kbd>Control_Frameworks_NOT_working.py</kbd> </span><span>seems to be working, which would be intuitive, as the</span> <kbd>tkinter</kbd> <span>controls are no longer disabled and we can create several instances of the</span> wxPython <span>GUI by clicking the button. We can also type into the</span> wxPython <span>GUI and select the other</span> <kbd>tkinter</kbd> <span>widgets. </span><span>However, once we try to close the GUIs, we get an error from </span>wxWidgets<span> and our Python executable crashes.</span></p>
<p>We found a workaround, <kbd><span>Control_Frameworks.py</span></kbd>, for this by only running the wxPython <kbd>app.MainLoop</kbd> in a thread that tricks it into believing it is the main thread. One side effect of this approach is that we can no longer individually close all of the wxPython GUI instances. At least one of them only closes when we close the wxPython GUI that created the threads as daemons. You can test this out by clicking the <span class="packt_screen">Call wxPython GUI</span> button once or several times and then try to close all the created wxPython window forms. We cannot close the last one until we close the calling <kbd>tkinter</kbd> GUI!</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p>I am not quite sure why this is. Intuitively, we might expect to be able to close all daemon threads without having to wait for the main thread that created them to close first. It possibly has to do with a reference counter not having been set to zero while our main thread is still running. On a pragmatic level, this is how it currently works.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Communicating between the two connected GUIs</h1>
                </header>
            
            <article>
                
<p><span>lIn this recipe, we will explore ways to make the two GUIs talk to each other.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Getting ready</h1>
                </header>
            
            <article>
                
<p>Reading the previous recipe might be a good preparation for this one.</p>
<p>In this recipe, we will use the slightly modified GUI code with respect to the previous recipe, but most of the basic GUI-building code is the same.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How to do it…</h1>
                </header>
            
            <article>
                
<p>We will write Python code that makes the two GUIs communicate with each other to a certain degree:</p>
<ol>
<li>Create a new module and name it <kbd>Communicate.py</kbd>.</li>
<li>Add the following code:</li>
</ol>
<pre style="padding-left: 60px">#==================================================================<br/>import tkinter as tk<br/>from tkinter import ttk<br/>from threading import Thread<br/><br/>win = tk.Tk() <br/>win.title("Python GUI") <br/>ttk.Label(win, text="Enter a name:").grid(column=0, row=0)<br/><br/>name = tk.StringVar()<br/>nameEntered = ttk.Entry(win, width=12, textvariable=name)<br/>nameEntered.grid(column=0, row=1)<br/>nameEntered.focus() <br/><br/>ttk.Label(win, text="Choose a number:").grid(column=1, row=0)<br/>number = tk.StringVar()<br/>numberChosen = ttk.Combobox(win, width=12, textvariable=number)<br/>numberChosen['values'] = (1, 2, 4, 42, 100)<br/>numberChosen.grid(column=1, row=1)<br/>numberChosen.current(0)<br/><br/>text = tk.Text(win, height=10, width=40, borderwidth=2, wrap='word')<br/>text.grid(column=0, sticky='WE', columnspan=3)<br/><br/>#================================================================== <br/>from multiprocessing import Queue <br/>sharedQueue = Queue()<br/>dataInQueue = False<br/><br/>def putDataIntoQueue(data):<br/>    global dataInQueue<br/>    dataInQueue = True<br/>    sharedQueue.put(data)<br/>    <br/>def readDataFromQueue():<br/>    global dataInQueue<br/>    dataInQueue = False<br/>    return sharedQueue.get()<br/>     <br/>#================================================================== <br/>import wx <br/>class GUI(wx.Panel): <br/>    def __init__(self, parent):<br/>        wx.Panel.__init__(self, parent)<br/>        parent.CreateStatusBar() <br/>        menu= wx.Menu()<br/>        menu.Append(wx.ID_ABOUT, "About", "wxPython GUI")<br/>        menuBar = wx.MenuBar()<br/>        menuBar.Append(menu, "File") <br/>        parent.SetMenuBar(menuBar) <br/>        button = wx.Button(self, label="Print", pos=(0,60))<br/>        self.Bind(wx.EVT_BUTTON, self.writeToSharedQueue, button)<br/>        self.textBox = wx.TextCtrl(self, size=(280,50), style=wx.TE_MULTILINE) <br/><br/>    #-----------------------------------------------------------------<br/>    def writeToSharedQueue(self, event):<br/>        self.textBox.AppendText(<br/>                        "The Print Button has been clicked!\n") <br/>        putDataIntoQueue('Hi from wxPython via Shared Queue.\n')<br/>        if dataInQueue: <br/>            data = readDataFromQueue()<br/>            self.textBox.AppendText(data)<br/>            <br/>            text.insert('0.0', data) # insert data into tkinter GUI<br/><br/>#================================================================== <br/>def wxPythonApp():<br/>        app = wx.App() <br/>        frame = wx.Frame(<br/>            None, title="Python GUI using wxPython", size=(300,180))<br/>        GUI(frame) <br/>        frame.Show() <br/>        runT = Thread(target=app.MainLoop)<br/>        runT.setDaemon(True) <br/>        runT.start()<br/>        print(runT)<br/>        print('createThread():', runT.isAlive())<br/>        <br/>#================================================================== <br/>action = ttk.Button(win, text="Call wxPython GUI", command=wxPythonApp) <br/>action.grid(column=2, row=1)<br/><br/>#======================<br/># Start GUI<br/>#======================<br/>win.mainloop() </pre>
<ol start="3">
<li>Run the code and then perform the next step.</li>
</ol>
<ol start="4">
<li>Click both buttons and type into the controls:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="image-border" src="Images/f332d976-ae5e-4838-8a7f-a28dc1150470.png" width="766" height="391"/></div>
<p>Now, let's go behind the scenes to understand the code better.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">How it works…</h1>
                </header>
            
            <article>
                
<p><span>Running the </span><span><kbd>Communicate.py</kbd> </span><span>code first creates the</span> <kbd>tkinter</kbd> <span>part of the program, and when we click the button in this GUI, it runs the</span> wxPython <span>GUI. Both are running at the same time as before, but this time there is an extra level of communication between the two GUIs.</span></p>
<p>The <kbd>tkinter</kbd> GUI is shown on the left-hand side in the preceding screenshot, and by clicking the <span class="packt_screen">Call wxPython GUI</span> button, we invoke an instance of the wxPython GUI. We can create several instances by clicking the button several times.</p>
<div class="packt_infobox">All of the created GUIs remain responsive. They do not crash nor freeze.</div>
<p class="mce-root"/>
<p class="mce-root"/>
<p>Clicking the <span class="packt_screen">Print</span> button on any of the wxPython GUI instances writes one sentence to its own <kbd>TextCtrl</kbd> widget and then writes another line to itself, as well as to the <kbd>tkinter</kbd> GUI. You will have to scroll up to see the first sentence in the wxPython GUI.</p>
<div class="packt_infobox">The way this works is by using a module-level queue and a <kbd>Text</kbd> widget of <kbd>tkinter</kbd>.</div>
<p>One important element to note is that we create a thread to run the wxPython <kbd>app.MainLoop</kbd>, as we did in the previous recipe:</p>
<pre>def wxPythonApp(): <br/>    app = wx.App() <br/>    frame = wx.Frame(None, title="Python GUI using wxPython", <br/>                     size=(300,180)) <br/>    GUI(frame)           <br/>    frame.Show()         <br/>    runT = Thread(target=app.MainLoop) <br/>    runT.setDaemon(True)     <br/>    runT.start() </pre>
<p>We created a class that inherits from <kbd>wx.Panel</kbd> and named it <kbd>GUI</kbd> and then instantiated an instance of this class in the preceding code.</p>
<p>We created a button-click event callback method in this class, which then calls the code that was written above it. Because of this, the class has access to the functions and can write to the shared queue:</p>
<pre>    #------------------------------------------------------ <br/>    def writeToSharedQueue(self, event): <br/>        self.textBox.AppendText("The Print Button has been clicked!n")  <br/>        putDataIntoQueue('Hi from wxPython via Shared Queue.n') <br/>        if dataInQueue:  <br/>            data = readDataFromQueue() <br/>            self.textBox.AppendText(data) <br/>            text.insert('0.0', data) # insert data into tkinter</pre>
<p>We first check whether the data has been placed in the shared queue in the preceding method and, if that is the case, print the common data to both GUIs.</p>
<div class="packt_infobox">The <kbd>putDataIntoQueue()</kbd> line places data into the queue and <kbd>readDataFromQueue()</kbd> reads it back out, saving it in the <kbd>data</kbd> variable. <kbd>text.insert('0.0', data)</kbd> is the line that writes this data into the <kbd>tkinter</kbd> GUI from the <span class="packt_screen">Print</span> button's wxPython callback method.</div>
<p>The following functions are called in the code and make it work:</p>
<pre>from multiprocessing import Queue <br/>sharedQueue = Queue() <br/>dataInQueue = False <br/><br/>def putDataIntoQueue(data): <br/>    global dataInQueue <br/>    dataInQueue =  True <br/>    sharedQueue.put(data) <br/><br/>def readDataFromQueue(): <br/>    global dataInQueue <br/>    dataInQueue = False <br/>    return sharedQueue.get() </pre>
<p>We used a simple boolean flag named <kbd>dataInQueue</kbd> to communicate when the data is available in the queue.</p>
<p>In this recipe, we have successfully combined the two GUIs we created in a similar fashion, but which were previously standalone and not talking to each other. However, in this recipe, we connected them further by making one GUI launch another and, via a simple multiprocessing Python queue mechanism, we were able to make them communicate with each other, writing data from a shared queue into both GUIs.</p>
<div class="packt_infobox">There are many more advanced and complicated technologies available to connect different processes, threads, pools, locks, pipes, TCP/IP connections, and so on.</div>
<p>In the Pythonic spirit, we found a simple solution that works for us. Once our code becomes more complicated, we might have to refactor it, but this is a good beginning.</p>


            </article>

            
        </section>
    </div>



  </body></html>