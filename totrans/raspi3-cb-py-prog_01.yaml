- en: Getting Started with a Raspberry Pi 3 Computer
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Raspberry Pi 3电脑入门
- en: 'In this chapter, we will cover the following recipes:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍以下食谱：
- en: Connecting peripherals to Raspberry Pi
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将外围设备连接到树莓派
- en: Using NOOBS to set up your Raspberry Pi SD card
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用NOOBS设置您的树莓派SD卡
- en: Networking and connecting your Raspberry Pi to the internet via the LAN connector
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过LAN连接器将你的树莓派连接到互联网进行网络连接
- en: Using built-in Wi-Fi and Bluetooth on Raspberry Pi
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用树莓派内置的Wi-Fi和蓝牙
- en: Configuring your network manually
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 手动配置您的网络
- en: Networking directly to a laptop or computer
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 直接连接到笔记本电脑或计算机
- en: Networking and connecting your Raspberry Pi to the internet via a USB Wi-Fi
    dongle
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过USB Wi-Fi网卡将你的树莓派连接到互联网进行网络连接
- en: Connecting to the internet through a proxy server
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过代理服务器连接到互联网
- en: Connecting remotely to Raspberry Pi over the network using VNC
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过 VNC 在网络上远程连接到 Raspberry Pi
- en: Connecting remotely to Raspberry Pi over the network using SSH (and X11 forwarding)
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过SSH（以及X11转发）远程连接到Raspberry Pi网络
- en: Sharing the home folder of Raspberry Pi with SMB
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将树莓派的主文件夹通过SMB共享
- en: Keeping Raspberry Pi up to date
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 保持树莓派更新
- en: Introduction
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: This chapter introduces Raspberry Pi and the process of setting it up for the
    first time. We will connect Raspberry Pi to a suitable display, power, and peripherals.
    We will install an operating system on an SD card. This is required for the system
    to boot. Next, we will ensure that we can connect successfully to the internet
    through a local network.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍了树莓派及其首次设置的流程。我们将把树莓派连接到合适的显示器、电源和外设。我们将在SD卡上安装操作系统。这是系统启动所必需的。接下来，我们将确保可以通过本地网络成功连接到互联网。
- en: Finally, we will make use of the network to provide ways to remotely connect
    to and/or control Raspberry Pi from other computers and devices, as well as to
    ensure that the system is kept up to date.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们将利用网络提供远程连接到和/或控制Raspberry Pi的方法，以及确保系统保持更新的途径。
- en: Once you have completed the steps within this chapter, your Raspberry Pi will
    be ready
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦完成本章中的步骤，您的树莓派（Raspberry Pi）将准备就绪
- en: for you to use for programming. If you already have your Raspberry Pi set up
    and running, ensure that you take a look through the following sections, as there
    are many helpful tips.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 为您用于编程。如果您已经设置了并运行了您的树莓派，请确保您浏览以下部分，因为这里有许多有用的提示。
- en: Introducing Raspberry Pi
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍 Raspberry Pi
- en: The Raspberry Pi is a single-board computer created by the **Raspberry Pi Foundation**,
    a charity formed with the primary purpose of re-introducing low-level computer
    skills to children in the UK. The aim was to rekindle the microcomputer revolution
    of the 1980s, which produced a whole generation of skilled programmers.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 树莓派是由**树莓派基金会**创建的单板计算机，该基金会是一个慈善机构，其主要目的是将低级计算机技能重新介绍给英国的孩子们。目标是重新点燃20世纪80年代的微型计算机革命，这场革命培养了一代熟练的程序员。
- en: 'Even before the computer was released at the end of February 2012, it was clear
    that Raspberry Pi had gained a huge following worldwide and, at the time of writing
    this book, has sold over 10 million units. The following image shows several different
    Raspberry Pi models:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 即使在2012年2月底电脑发布之前，很明显Raspberry Pi已经在全球范围内获得了巨大的追随者群体，并且在撰写本书时，销量已超过1000万部。以下图片展示了几个不同的Raspberry
    Pi型号：
- en: '![](img/a83efc22-7483-42f7-98fc-2f3ee92727bb.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/a83efc22-7483-42f7-98fc-2f3ee92727bb.png)'
- en: The Raspberry Pi Model 3B, Model A+, and Pi Zero
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 树莓派3B、Model A+和Pi Zero
- en: What's with the name?
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这个名字是什么意思？
- en: The name, Raspberry Pi, was a combination of the desire to create an alternative
    computer with a fruit-based name (such as Apple, BlackBerry, and Apricot) and
    a nod to the original concept of a simple computer that could be programmed using
    **Python** (shortened to **Pi**).
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: Raspberry Pi 这个名字是结合了想要创造一个以水果命名的替代电脑（例如 Apple、BlackBerry 和 Apricot）的愿望，以及对原始概念的一种致敬，即一个可以用
    **Python**（简称 **Pi**）编程的简单电脑。
- en: In this book, we will take this little computer, find out how to set it up,
    and then explore its capabilities chapter by chapter, using the Python programming
    language.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，我们将使用这个小电脑，了解如何设置它，然后逐章探索其功能，使用Python编程语言。
- en: Why Python?
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为什么选择 Python？
- en: It is often asked, "Why has Python been selected as the language to use on Raspberry
    Pi?" The fact is that Python is just one of the many programming languages that
    can be used on Raspberry Pi.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 经常有人问，“为什么选择Python作为在树莓派上使用的语言？”事实上，Python只是可以在树莓派上使用的众多编程语言之一。
- en: There are many programming languages that you can choose, from high-level graphical
    block programming, such as **Scratch**, to traditional **C**, right down to **BASIC**,
    and even the raw **machine code assembler**. A good programmer often has to be
    code multilingual to be able to play to the strengths and weaknesses of each language
    to best meet the needs of their desired application. It is useful to understand
    how different languages (and programming techniques) try to overcome the challenge
    of converting *what you want* into *what you get*, as this is what you are trying
    to do as well while you program.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以选择许多编程语言，从高级图形块编程，例如**Scratch**，到传统的**C**语言，再到**BASIC**，甚至原始的**机器代码汇编器**。一个好的程序员通常需要成为代码多语言者，以便能够发挥每种语言的优势和劣势，以最好地满足他们期望的应用需求。了解不同的语言（以及编程技术）如何尝试克服将*你想要的*转换为*你得到的*的挑战是有用的，因为这也是你在编程时试图做到的事情。
- en: Python has been selected as a good place to start when learning about programming,
    as it provides a rich set of coding tools while still allowing simple programs
    to be written without fuss. This allows beginners to gradually be introduced to
    the concepts and methods on which modern programming languages are based without
    requiring them to know it all from the start. It is very modular with lots of
    additional libraries that can be imported to quickly extend the functionality.
    You will find that, over time, this encourages you to do the same, and you will
    want to create your own modules that you can plug into your own programs, thus
    taking your first steps into structured programming.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: Python被选为学习编程的绝佳起点，因为它提供了一套丰富的编码工具，同时仍然允许在不费周折的情况下编写简单的程序。这使得初学者可以逐步接触并了解现代编程语言所基于的概念和方法，而无需一开始就全部掌握。它非常模块化，拥有许多可以导入的附加库，可以快速扩展功能。你会发现，随着时间的推移，这会鼓励你做同样的事情，你将想要创建自己的模块，并将它们集成到自己的程序中，从而迈出结构化编程的第一步。
- en: Python addresses formatting and presentation concerns. As indentation will add
    better readability, indents matter a lot in Python. They define how blocks of
    code are grouped together. Generally, Python is slow; since it is interpreted,
    it takes time to create a module while it is running the program. This can be
    a problem if you need to respond to time-critical events. However, you can precompile
    Python or use modules written in other languages to overcome this.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: Python 解决了格式和展示方面的问题。由于缩进可以增加更好的可读性，因此在 Python 中缩进非常重要。它们定义了代码块是如何组合在一起的。一般来说，Python
    运行较慢；因为它被解释，所以在运行程序时创建模块需要花费时间。如果你需要响应时间敏感的事件，这可能会成为一个问题。然而，你可以预编译 Python 或使用用其他语言编写的模块来克服这个问题。
- en: It hides the details; this is both an advantage and a disadvantage. It is excellent
    for beginners but can be difficult when you have to second-guess aspects such
    as datatypes. However, this in turn forces you to consider all the possibilities,
    which can be a good thing.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 它隐藏了细节；这既是优点也是缺点。对于初学者来说非常好，但当你需要猜测诸如数据类型等细节时可能会有些困难。然而，这也迫使你考虑所有可能性，这可能是件好事。
- en: Python 2 and Python 3
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Python 2 和 Python 3
- en: A massive source of confusion for beginners is that there are two versions of
    Python on Raspberry Pi (**Version 2.7** and **Version 3.6**), which are not compatible
    with each other, so code written for Python 2.7 may not run with Python 3.6 (and
    vice versa).
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 对于初学者来说，一个巨大的困惑来源是，树莓派上有两个版本的Python（**版本2.7**和**版本3.6**），它们彼此不兼容，因此为Python 2.7编写的代码可能无法在Python
    3.6上运行（反之亦然）。
- en: The **Python Software Foundation** is continuously working to improve and move
    forward with the language, which sometimes means they have to sacrifice backward
    compatibility to embrace new improvements (and, importantly, remove redundant
    and legacy ways of doing things).
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '**Python软件基金会**持续致力于改进和推动语言的发展，这有时意味着他们必须牺牲向后兼容性以接纳新的改进（并且，重要的是，移除冗余和过时的做法）。'
- en: Supporting Python 2 and Python 3
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 支持Python 2和Python 3
- en: There are many tools that will ease the transition from Python 2 to Python 3,
    including converters such as `2to3`, which will parse and update your code to
    use Python 3 methods. This process is not perfect, and in some cases you'll need
    to manually rewrite sections and fully retest everything. You can write the code
    and libraries that will support both. The `import __future__` statement allows
    you to import the friendly methods of Python 3 and run them using Python 2.7.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多工具可以帮助您从 Python 2 转换到 Python 3，包括像 `2to3` 这样的转换器，它将解析并更新您的代码以使用 Python 3
    方法。这个过程并不完美，在某些情况下，您可能需要手动重写部分代码并全面重新测试所有内容。您可以编写同时支持两者的代码和库。`import __future__`
    语句允许您导入 Python 3 的友好方法，并使用 Python 2.7 运行它们。
- en: Which version of Python should you use?
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 你应该使用哪个版本的 Python？
- en: Essentially, the selection of which version to use will depend on what you intend
    to do. For instance, you may require Python 2.7 libraries, which are not yet available
    for Python 3.6\. Python 3 has been available since 2008, so these tend to be older
    or larger libraries that have not been translated. In many cases, there are new
    alternatives to legacy libraries; however, their support can vary.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，选择使用哪个版本将取决于你的意图。例如，你可能需要 Python 2.7 库，这些库在 Python 3.6 中尚未提供。Python 3 自
    2008 年以来就已经可用，因此这些往往是较旧或较大的库，尚未被翻译。在许多情况下，有新的替代方案可以替代旧库；然而，它们的支持情况可能有所不同。
- en: In this book, we have used Python 3.6, which is also compatible with Python
    3.5 and 3.3.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，我们使用了Python 3.6，它也兼容Python 3.5和3.3。
- en: The Raspberry Pi family – a brief history of Pi
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Raspberry Pi系列 - Pi的简要历史
- en: Since its release, Raspberry Pi has come in various iterations, featuring both
    small and large updates and improvements to the original Raspberry Pi Model B
    unit. Although it can be confusing at first, there are three basic types of Raspberry
    Pi available (and one special model).
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 自从发布以来，树莓派经历了各种迭代，包括对原始树莓派B型单元的小型和大型的更新与改进。尽管一开始可能会感到困惑，但市面上有三种基本的树莓派型号（以及一个特殊型号）。
- en: The main flagship model is called **Model B**. This has all the connections
    and features, as well as the maximum RAM and the latest processor. Over the years,
    there have been several versions, most notably Model B (which had 256 MB and then
    512 MB RAM) and then Model B+ (which increased the 26-pin GPIO to 40 pins, switched
    to using a microSD card slot, and had four USB ports instead of two). These original
    models all used the Broadcom BCM2835 **system on chip** (**SOC**), consisting
    of a single core 700 MHz ARM11 and VideoCore IV **graphical processing unit**
    (**GPU**).
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 主要旗舰型号被称为**Model B**。这款型号拥有所有连接和功能，以及最大RAM和最新的处理器。多年来，已经推出了几个版本，最显著的是**Model
    B**（最初有256 MB RAM，后来升级到512 MB RAM）以及**Model B+**（将26针GPIO增加到40针，改为使用microSD卡槽，并且有四个USB端口而不是两个）。这些原始型号都使用了Broadcom
    BCM2835 **系统级芯片**（**SOC**），由一个700 MHz的ARM11核心和VideoCore IV **图形处理单元**（**GPU**）组成。
- en: The release of Raspberry Pi 2 Model B (also referred to as 2B) in 2015 introduced
    a new Broadcom BCM2836 SOC, providing a quad-core 32-bit ARM Cortex A7 1.2 GHz
    processor and GPU, with 1 GB of RAM. The improved SOC added support for Ubuntu
    and Windows 10 IoT. Finally, we had the latest Raspberry Pi 3 Model B, using another
    new Broadcom BCM2837 SOC, which provides a quad-core 64-bit ARM Cortex-A53 and
    GPU, alongside on-board Wi-Fi and Bluetooth.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 2015年发布的树莓派2B型（也称为2B）引入了新的Broadcom BCM2836系统单芯片（SOC），提供了一款四核32位ARM Cortex-A7
    1.2 GHz处理器和GPU，以及1 GB的RAM。改进的SOC增加了对Ubuntu和Windows 10 IoT的支持。最后，我们迎来了最新的树莓派3B型，它使用了另一款新的Broadcom
    BCM2837 SOC，该SOC提供了一款四核64位ARM Cortex-A53处理器和GPU，同时还集成了板载Wi-Fi和蓝牙。
- en: '**Model A** has always been targeted as a cut-down version. While having the
    same SOC as Model B, there are limited connections consisting of a single USB
    port and no wired network (LAN). Model A+ again added more GPIO pins and a microSD
    slot. However, the RAM was later upgraded to 512 MB of RAM and again there was
    only a single USB port/no LAN. The Broadcom BCM2835 SOC on Model A has not been
    updated so far (so is still a single core ARM11); however, a Model 3A (most likely
    using the BCM2837).'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '**模型A** 一直被视为一个简化版本。虽然与模型B具有相同的SOC，但连接有限，仅包含一个USB端口，没有有线网络（LAN）。模型A+又增加了更多的GPIO引脚和一个microSD插槽。然而，内存后来升级到512
    MB RAM，但仍然只有一个USB端口/没有LAN。模型A上的Broadcom BCM2835 SOC至今未更新（因此仍然是单核ARM11）；然而，有一个模型3A（很可能是使用BCM2837）。'
- en: The **Pi Zero** is an ultra-compact version of Raspberry Pi intended for embedded
    applications where cost and space are a premium. It has the same 40-pin GPIO and
    microSD card slot as the other models, but lacks the on-board display (CSI and
    DSI) connection. It does still have HDMI (via a mini-HDMI) and a single micro
    USB **on-the-go** (**OTG**) connection. Although not present in the first revision
    of the Pi Zero, the most recent model also includes a CSI connection for the on-board
    camera.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**Pi Zero** 是一种超紧凑的 Raspberry Pi 版本，专为成本和空间至关重要的嵌入式应用而设计。它拥有与其他型号相同的 40 引脚
    GPIO 和 microSD 卡槽，但缺少了板载显示（CSI 和 DSI）连接。它仍然配备了 HDMI（通过 mini-HDMI）和一个单独的 micro
    USB **on-the-go** （**OTG**）连接。尽管在 Pi Zero 的第一版中并未提供，但最新的型号也包括了用于板载摄像头的 CSI 连接。'
- en: Pi Zero was famously released in 2015 and was given away with Raspberry Pi foundation's
    magazine *The MagPi*, giving the magazine the benefit of being the first magazine
    to give away a computer on its cover! This did make me rather proud since (as
    you may have read in my biography at the start of this book) I was one of the
    founders of the magazine.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: Pi Zero于2015年闻名发布，并随Raspberry Pi基金会的杂志《The MagPi》一同赠送，这使得该杂志成为首个在封面上赠送电脑的杂志！这确实让我感到相当自豪，因为（正如你可能在本书开头的传记中读到的那样）我是该杂志的创始人之一。
- en: The special model is known as the **compute module**. This takes the form of
    a 200-pin SODIMM card. It is intended for industrial use or within commercial
    products, where all the external interfaces would be provided by a host/motherboard,
    into which the module would be inserted. Example products include the Slice Media
    Player ([http://fiveninjas.com](http://fiveninjas.com)) and the OTTO camera. The
    current module uses the BCM2835, although an updated compute module (CM3).
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 该特殊型号被称为**计算模块**。它采用200针SODIMM卡的形式。它适用于工业用途或商业产品中，其中所有外部接口都由主机/主板提供，模块将被插入其中。例如产品包括Slice媒体播放器([http://fiveninjas.com](http://fiveninjas.com))和OTTO相机。当前模块使用BCM2835，尽管有一个更新的计算模块（CM3）。
- en: 'The Raspberry Pi Wikipedia page provides a full list of the all different variants
    and their specifications:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: Raspberry Pi 的维基百科页面提供了所有不同变体及其规格的完整列表：
- en: '[https://en.wikipedia.org/wiki/Raspberry_Pi#Specifications](https://en.wikipedia.org/wiki/Raspberry_Pi#Specifications%20)'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://zh.wikipedia.org/wiki/Raspberry_Pi#规格](https://zh.wikipedia.org/wiki/Raspberry_Pi#规格)'
- en: 'Also, the Raspberry Pi product page gives you the details about the models
    available and the accessories'' specifications: [https://www.raspberrypi.org/products/](https://www.raspberrypi.org/products/)'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，Raspberry Pi产品页面提供了关于可用型号和配件规格的详细信息：[https://www.raspberrypi.org/products/](https://www.raspberrypi.org/products/)
- en: Which Pi to choose?
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 应该选择哪个 Pi？
- en: All sections of this book are compatible will all current versions of Raspberry
    Pi, but Model 3B is recommended as the best model to start with. This offers the
    best performance (particularly useful for the GPU examples in [Chapter 7](0796b645-246a-463a-a52c-ec76a81e7512.xhtml),
    *Creating 3D Graphics*, and the OpenCV examples used in [Chapter 6](f4dead87-95fc-4a6e-af39-4b46b1493cb3.xhtml),
    *Detecting Edges and Contours in Images*), lots of connections, and built-in Wi-Fi,
    which can be very convenient.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的所有章节都与所有当前的 Raspberry Pi 版本兼容，但建议从 Model 3B 开始，因为它是最适合入门的最佳型号。这提供了最佳的性能（尤其是对于[第
    7 章](0796b645-246a-463a-a52c-ec76a81e7512.xhtml)，*创建 3D 图形*，以及[第 6 章](f4dead87-95fc-4a6e-af39-4b46b1493cb3.xhtml)，*检测图像中的边缘和轮廓*）中使用的
    OpenCV 示例非常有用），众多连接端口，以及内置 Wi-Fi，这可以非常方便。
- en: Pi Zero is recommended for projects where you want low power usage or reduced
    weight/size but do not need the full processing power of Model 3B. However, due
    to its ultra-low cost, Pi Zero is ideal for deploying a completed project after
    you have developed it.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: Pi Zero推荐用于那些需要低功耗或减小重量/尺寸但不需要Model 3B完整处理能力的项目。然而，由于其超低成本，Pi Zero在你开发完项目后部署完成项目是理想的。
- en: Connecting to Raspberry Pi
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 连接到树莓派
- en: There are many ways to wire up Raspberry Pi and use the various interfaces to
    view and control content. For typical use, most users will require power, display
    (with audio), and a method of input such as a keyboard and mouse. To access the
    internet, refer to the *Networking and connecting your Raspberry Pi to the internet
    via the LAN connector* or *Using built-in Wi-Fi and Bluetooth on Raspberry Pi*
    recipes.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多方法可以连接 Raspberry Pi 并使用各种接口来查看和控制内容。对于典型使用，大多数用户将需要电源、显示（带音频）以及一种输入方法，例如键盘和鼠标。要访问互联网，请参考
    *通过 LAN 连接器连接 Raspberry Pi 到互联网的网络和连接* 或 *在 Raspberry Pi 上使用内置 Wi-Fi 和蓝牙* 的食谱。
- en: Getting ready
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备就绪
- en: Before you can use your Raspberry Pi, you will need an SD card with an operating
    system installed or with the **New Out Of Box System** (**NOOBS**) on it, as discussed
    in the *Using NOOBS to set up your Raspberry Pi SD card* recipe.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在您可以使用您的树莓派之前，您需要一个安装了操作系统或带有**新开箱系统**（**NOOBS**）的SD卡，正如在*使用NOOBS设置您的树莓派SD卡*菜谱中所述。
- en: The following section will detail the types of devices you can connect to Raspberry
    Pi and, importantly, how and where to plug them in.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 以下部分将详细介绍您可以连接到树莓派的设备类型，以及如何和在哪里将它们插入。
- en: 'As you will discover later, once you have your Raspberry Pi set up, you may
    decide to connect remotely and use it through a network link, in which case you
    only need power and a network connection. Refer to the following sections: *Connecting
    remotely to Raspberry Pi over the Network using VNC* and *Connecting Remotely
    to Raspberry Pi over the Network using SSH (and X11 Forwarding)*.'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 如您稍后会发现，一旦您设置了您的Raspberry Pi，您可能会决定通过远程连接并通过网络链路使用它，在这种情况下，您只需要电源和网络连接。请参考以下章节：*通过VNC远程连接到Raspberry
    Pi的网络*和*通过SSH（以及X11转发）远程连接到Raspberry Pi的网络*。
- en: How to do it...
  id: totrans-61
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: 'The layout of Raspberry Pi is shown in the following diagram:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: Raspberry Pi 的布局如图所示：
- en: '![](img/323c235f-486c-4971-986c-16c78cb87e0b.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/323c235f-486c-4971-986c-16c78cb87e0b.jpg)'
- en: The Raspberry Pi connection layout (Model 3 B, Model A+, and Pi Zero)
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: Raspberry Pi 连接布局（型号 3 B、型号 A+ 和 Pi Zero）
- en: 'More information about the preceding figure is listed as follows:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 关于前述图示的更多信息如下：
- en: '**Display**: The Raspberry Pi supports the following three main display connections;
    if both HDMI and composite video are connected, it will default to HDMI only:'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显示**：树莓派支持以下三种主要显示连接；如果同时连接了HDMI和复合视频，它将默认只使用HDMI：'
- en: '**HDMI**: For best results, use a TV or monitor that has an HDMI connection,
    thus allowing the best resolution display (1080p) and also digital audio output.
    If your display has a DVI connection, you may be able to use an adapter to connect
    through the HDMI. There are several types of DVI connection; some support analogue
    (DVI-A), some digital (DVI-D), and some both (DVI-I). Raspberry Pi is only able
    to provide a digital signal through the HDMI, so an HDMI-to-DVI-D adapter is recommended
    (shown with a tick mark in the following screenshot). This lacks the four extra
    analogue pins (shown with a cross mark in the following screenshot), thus allowing
    it to fit into both DVI-D and DVI-I type sockets:'
  id: totrans-67
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**HDMI**: 为了获得最佳效果，请使用具有HDMI连接的电视或显示器，从而实现最佳分辨率显示（1080p）以及数字音频输出。如果您的显示器有DVI连接，您可能可以使用适配器通过HDMI连接。DVI连接有几种类型；一些支持模拟（DVI-A），一些支持数字（DVI-D），还有一些两者都支持（DVI-I）。树莓派只能通过HDMI提供数字信号，因此建议使用HDMI-to-DVI-D适配器（以下截图中有勾选标记）。这缺少了四个额外的模拟引脚（以下截图中有叉号标记），因此可以适配DVI-D和DVI-I类型的插座：'
- en: '![](img/bed2cae1-2bc2-428c-83d4-5c6223cefbbc.png)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/bed2cae1-2bc2-428c-83d4-5c6223cefbbc.png)'
- en: HDMI-to-DVI connection (DVI-D adaptor)
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: HDMI至DVI连接（DVI-D适配器）
- en: 'If you wish to use an older monitor (with a VGA connection), an additional
    HDMI-to-VGA converter is required. Raspberry Pi also supports a rudimentary VGA
    adaptor (VGA Gert666 Adaptor), which is driven directly off of the GPIO pins.
    However, this does use up all but four pins of the 40-pin header (older 26-pin
    models will not support the VGA output):'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你希望使用老式的显示器（带有VGA连接），则需要一个额外的HDMI-to-VGA转换器。树莓派也支持一个基本的VGA适配器（VGA Gert666
    适配器），该适配器直接由GPIO引脚驱动。然而，这会占用40引脚头上的所有引脚，除了四个（较老的26引脚型号将不支持VGA输出）：
- en: '![](img/63fbf682-54ec-4ba1-8bb9-17ee97c47a3b.jpg)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/63fbf682-54ec-4ba1-8bb9-17ee97c47a3b.jpg)'
- en: HDMI-to-VGA adapter
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: HDMI转VGA适配器
- en: '**Analogue**: An alternative display method is to use the analogue composite
    video connection (via the phono socket); this can also be attached to an S-Video
    or European SCART adapter. However, the analogue video output has a maximum resolution
    of 640 x 480 pixels, so it is not ideal for general use:'
  id: totrans-73
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**模拟**: 另一种显示方法是使用模拟复合视频连接（通过电话插座）；这也可以连接到S-Video或欧洲SCART适配器。然而，模拟视频输出的最大分辨率为640
    x 480像素，因此它并不适合一般用途：'
- en: '![](img/4837bee0-73a4-4f11-8584-fe4a654f2489.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/4837bee0-73a4-4f11-8584-fe4a654f2489.jpg)'
- en: 3.5 mm phono analogue connections
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 3.5 毫米电话模拟连接
- en: 'When using the RCA connection or a DVI input, audio has to be provided separately
    by the analogue audio connection. To simplify the manufacturing process (by avoiding
    through-hole components), the Pi Zero does not have analogue audio or an RCA socket
    for analogue video (although they can be added with some modifications):'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用RCA连接或DVI输入时，音频必须通过模拟音频连接单独提供。为了简化制造过程（通过避免通孔组件），Pi Zero没有模拟音频或RCA插孔用于模拟视频（尽管可以通过一些修改添加它们）：
- en: '**Direct Display DSI**: A touch display produced by Raspberry Pi Foundation
    will connect directly into the DSI socket. This can be connected and used at the
    same time as the HDMI or analogue video output to create a dual display setup.'
  id: totrans-77
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**直接显示DSI**: 由树莓派基金会生产的触摸显示屏将直接连接到DSI插槽。这可以在同时连接和使用HDMI或模拟视频输出的情况下创建一个双显示设置。'
- en: '**Stereo analogue audio (all except Pi Zero)**: This provides an analogue audio
    output for headphones or amplified speakers. The audio can be switched via Raspberry
    Pi configuration tool on the desktop between analog (stereo socket) and digital
    (HDMI), or via the command line using `amixer` or `alsamixer`.'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**立体声模拟音频（除Pi Zero外）**：这为耳机或放大扬声器提供模拟音频输出。可以通过桌面上的Raspberry Pi配置工具在模拟（立体声插座）和数字（HDMI）之间切换音频，或者使用`amixer`或`alsamixer`命令行工具进行切换。'
- en: 'To find out more information about a particular command in the Terminal, you
    can use the following `man` command before the terminal reads the manual (most
    commands should have one):'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 要获取终端中特定命令的更多信息，你可以在终端读取手册之前使用以下`man`命令（大多数命令都应该有一个）：
- en: '` man amixer`'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '`man amixer`'
- en: 'Some commands also support the `--help` option for more concise help, shown
    as follows:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 一些命令也支持`--help`选项以获得更简洁的帮助，如下所示：
- en: '` amixer --help`'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '`amixer --help`'
- en: '**Network (excluding models A and Pi Zero)**: The network connection is discussed
    in the *Networking and connecting your Raspberry Pi to the internet via the LAN
    connector* recipe later in this chapter. If we use the Model A Raspberry Pi, it
    is possible to add a USB network adapter to add wired or even wireless networking
    (refer to the *Networking and connecting your Raspberry Pi to the internet via
    a USB Wi-Fi dongle* recipe).'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网络（不包括模型A和Pi Zero）**：网络连接将在本章后面的*通过LAN连接器连接Raspberry Pi到互联网的网络和连接*部分进行讨论。如果我们使用Model
    A Raspberry Pi，则可以添加USB网络适配器以添加有线网络甚至无线网络（请参阅*通过USB Wi-Fi外置设备连接Raspberry Pi到互联网的网络和连接*部分）。'
- en: '**Onboard Wi-Fi and Bluetooth (Model 3 B only)**: The Model 3 B has built-in
    802.11n Wi-Fi and Bluetooth 4.1; see the *Using the built-in Wi-Fi and Bluetooth
    on Raspberry Pi* recipe.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**USB (1x Model A/Zero, 2x Model 1 B, 4x Model 2 B and 3 B)**: Using a keyboard
    and mouse:'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**USB (1x 型号A/零，2x 型号1 B，4x 型号2 B和3 B)**: 使用键盘和鼠标：'
- en: Raspberry Pi should work with most USB keyboards and mice. You can also use
    wireless mice and keyboards, which use RF dongles. However, additional configuration
    is required for items that use the Bluetooth dongles.
  id: totrans-86
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Raspberry Pi 应该与大多数 USB 键盘和鼠标兼容。您还可以使用无线鼠标和键盘，这些设备使用射频（RF）适配器。然而，对于使用蓝牙适配器的设备，需要额外的配置。
- en: If there is a lack of power supplied by your power supply or the devices are
    drawing too much current, you may experience the keyboard keys appearing to stick,
    and, in severe cases, corruption of the SD card.
  id: totrans-87
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果电源供应不足或设备消耗电流过多，您可能会遇到键盘按键似乎粘滞的情况，在严重情况下，还可能导致SD卡损坏。
- en: USB power can be more of an issue with the early Model B revision 1 boards that
    were available prior to October 2012\. They included additional **Polyfuses**
    on the USB output and tripped if an excess of 140 mA was drawn. The Polyfuses
    can take several hours or days to recover completely, thus causing unpredictable
    behavior to remain even when the power is improved.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: USB电源可能在2012年10月之前可用的早期Model B修订1版板上成为一个更大的问题。这些板子上增加了额外的**Polyfuses**在USB输出端，如果超过140
    mA的电流被抽取，它们会跳闸。Polyfuses可能需要几个小时或几天才能完全恢复，因此即使在电源得到改善的情况下，也可能保持不可预测的行为。
- en: You can identify a revision 1 board, as it lacks the four mounting holes that
    are present in the later models.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过缺少后来型号中存在的四个安装孔来识别修订版1的电路板。
- en: Debian Linux (upon which Raspbian is based) supports many common USB devices,
    such as flash storage drives, hard-disk drives (external power may be required),
    cameras, printers, Bluetooth, and Wi-Fi adapters. Some devices will be detected
    automatically, while others will require drivers to be installed.
  id: totrans-90
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
  zh: Debian Linux（Raspbian基于此）支持许多常见的USB设备，例如闪存驱动器、硬盘驱动器（可能需要外部电源），相机、打印机、蓝牙和Wi-Fi适配器。一些设备将自动检测，而其他设备则需要安装驱动程序。
- en: '**Micro USB power**: The Raspberry Pi requires a 5V power supply that can comfortably
    supply at least 1,000 mA (1,500 mA or more is recommended, particularly with the
    more power-hungry Model 2 and Model 3) with a micro USB connection. It is possible
    to power the unit using portable battery packs, such as the ones suitable for
    powering or recharging tablets. Again, ensure that they can supply 5V at 1,000
    mA or over.'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**微型USB电源**：树莓派需要一个能够舒适地提供至少1,000 mA（推荐1,500 mA或更多，尤其是对于更耗电的2型和3型）的5V电源，通过微型USB连接。可以使用便携式电池组为设备供电，例如适合为平板电脑供电或充电的电池组。再次强调，确保它们能够提供至少1,000
    mA或更多的5V电源。'
- en: You should aim to make all other connections to Raspberry Pi before connecting
    the power. However, USB devices, audio, and networks may be connected and removed
    while it is running, without problems.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在连接电源之前，你应该尽量完成所有其他与树莓派的连接。然而，在运行过程中，USB设备、音频和网络可以连接和移除，而不会出现问题。
- en: There's more...
  id: totrans-93
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: In addition to the standard primary connections you would expect to see on a
    computer, Raspberry Pi also has a number of other connections.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 除了您在电脑上预期看到的常规主要连接外，树莓派还有许多其他连接。
- en: Secondary hardware connections
  id: totrans-95
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 二级硬件连接
- en: 'Each of the following connections provides additional interfaces for Raspberry
    Pi:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 以下每个连接都为 Raspberry Pi 提供了额外的接口：
- en: '**20 x 2 GPIO pin header (Model A+, B+, 2 B, 3 B, and Pi Zero)**: This is the
    main 40-pin GPIO header of Raspberry Pi used for interfacing directly with hardware
    components. We use this connection in [Chapters 6](f4dead87-95fc-4a6e-af39-4b46b1493cb3.xhtml),
    *Detecting Edges and Contours in Images*, [Chapter 7](0796b645-246a-463a-a52c-ec76a81e7512.xhtml), *Creating
    3D Graphics*, [Chapter 9](7cf87b89-8982-4d64-852c-ddfcbf742be5.xhtml), *Using
    Python to Drive Hardware*, and [Chapter 10](18a915b2-803e-465d-a84a-0b9accdb54f2.xhtml),
    *Sensing and Displaying Real-world Data*. The recipes in this book are also compatible
    with older models of Raspberry Pi that have a 13 x 2 GPIO pin header.'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**20 x 2 GPIO引脚头（Model A+、B+、2 B、3 B和Pi Zero）**：这是Raspberry Pi的主要40引脚GPIO引脚头，用于直接与硬件组件进行接口连接。我们在[第6章](f4dead87-95fc-4a6e-af39-4b46b1493cb3.xhtml)，*在图像中检测边缘和轮廓*，[第7章](0796b645-246a-463a-a52c-ec76a81e7512.xhtml)，*创建3D图形*，[第9章](7cf87b89-8982-4d64-852c-ddfcbf742be5.xhtml)，*使用Python驱动硬件*，以及[第10章](18a915b2-803e-465d-a84a-0b9accdb54f2.xhtml)，*感知和显示现实世界数据*中使用这个连接。本书中的食谱也适用于具有13
    x 2 GPIO引脚头的较老型号的Raspberry Pi。'
- en: '**P5 8 x 2 GPIO pin header (Model 1 B revision 2.0 only)**: We do not use this
    in the book.'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**P5 8 x 2 GPIO引脚排针（仅限型号1 B版本2.0）**：我们在书中没有使用这个。'
- en: '**Reset connection**: This is present on later models (no pins fitted). A reset
    is triggered when Pin 1 (reset) and Pin 2 (GND) are connected together. We use
    this in the *A controlled shutdown button* recipe in [Chapter 9](7cf87b89-8982-4d64-852c-ddfcbf742be5.xhtml),
    *Using Python to Drive Hardware*.'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**重置连接**：这在较晚的型号上存在（没有安装引脚）。当引脚1（重置）和引脚2（地）连接在一起时，会触发重置。我们在[第9章](7cf87b89-8982-4d64-852c-ddfcbf742be5.xhtml)的*使用Python驱动硬件*食谱中使用了这个功能，*可控关机按钮*。'
- en: '**GPU/LAN JTAG**: The **Joint Test Action Group** (**JTAG**) is a programming
    and debugging interface used to configure and test processors. These are present
    on newer models as surface pads. A specialist JTAG device is required to use this
    interface. We do not use this in the book.'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**GPU/LAN JTAG**: 联合测试行动小组（**JTAG**）是一种编程和调试接口，用于配置和测试处理器。这些接口在新型号上以表面焊盘的形式存在。使用此接口需要专用JTAG设备。本书中我们不使用此接口。'
- en: '**Direct camera CSI**: This connection supports Raspberry Pi Camera Module.
    Note that the Pi Zero has a smaller CSI connector than the other models, so it
    requires a different ribbon connector.'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**直接相机CSI接口**：此连接支持树莓派相机模块。请注意，Pi Zero的CSI接口比其他型号更小，因此需要不同的排线连接器。'
- en: '**Direct Display DSI**: This connection supports a directly connected display,
    such as a 7-inch 800 x 600 capacitive touch screen.'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**直接显示DSI**：此连接支持直接连接的显示设备，例如7英寸800 x 600电容式触摸屏。'
- en: Using NOOBS to set up your Raspberry Pi SD card
  id: totrans-103
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用NOOBS设置您的树莓派SD卡
- en: The Raspberry Pi requires the operating system to be loaded onto an SD card
    before it starts up. The easiest way to set up the SD card is to use **NOOBS**;
    you may find that you can buy an SD card with NOOBS already loaded on it.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: Raspberry Pi 需要在启动前将操作系统加载到 SD 卡上。设置 SD 卡最简单的方法是使用 **NOOBS**；你可能发现你可以购买已经预装了
    NOOBS 的 SD 卡。
- en: NOOBS provides an initial start menu that provides options to install several
    of the available operating systems on to your SD card.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: NOOBS 提供了一个初始启动菜单，该菜单提供了将多个可用的操作系统安装到您的 SD 卡上的选项。
- en: Getting ready
  id: totrans-106
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备就绪
- en: Since NOOBS creates a **RECOVERY** partition to keep the original installation
    images, an 8 GB SD card or larger is recommended. You will also need an SD card
    reader (experience has shown that some built-in card readers can cause issues,
    so an external USB type reader is recommended).
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 由于NOOBS创建了一个**恢复**分区以保留原始安装镜像，建议使用8 GB SD卡或更大容量。您还需要一个SD卡读卡器（经验表明，某些内置读卡器可能会引起问题，因此建议使用外部USB类型读卡器）。
- en: If you are using an SD card that you have used previously, you may need to reformat
    it to remove any previous partitions and data. NOOBS expects the SD card to consist
    of a single FAT32 partition.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在使用之前使用过的SD卡，你可能需要重新格式化它以删除任何之前的分区和数据。NOOBS期望SD卡只包含一个FAT32分区。
- en: 'If using Windows or macOS X, you can use the SD Association''s formatter, as
    shown in the following screenshot (available at [https://www.sdcard.org/downloads/formatter_4/](https://www.sdcard.org/downloads/formatter_4/)):'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '如果使用 Windows 或 macOS X，您可以使用 SD 协会提供的格式化工具，如图下截图所示（可在[https://www.sdcard.org/downloads/formatter_4/](https://www.sdcard.org/downloads/formatter_4/)
    获取）:'
- en: '![](img/895c1424-aa96-4a13-9c7c-13fe0af431a4.png)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/895c1424-aa96-4a13-9c7c-13fe0af431a4.png)'
- en: Getting rid of any partitions on the SD card, using SD formatter
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 使用SD格式化工具清除SD卡上的任何分区
- en: From the Option Setting dialog box, set FORMAT SIZE ADJUSTMENT. This will remove
    all the SD card partitions that were created previously.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 从选项设置对话框中，设置**格式大小调整**。这将移除之前创建的所有SD卡分区。
- en: If using Linux, you can use `gparted` to clear any previous partitions and reformat
    it as a FAT32 partition.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 如果使用 Linux 系统，您可以使用 `gparted` 工具清除任何之前的分区并将其重新格式化为 FAT32 分区。
- en: The full NOOBS package (typically just over 1 GB) contains Raspbian, the most
    popular Raspberry Pi operating system image built in. A lite version of NOOBS
    is also available that has no preloaded operating systems (although a smaller
    initial download of 20 MB and a network connection on Raspberry Pi are required
    to directly download the operating system you intend to use).
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 完整的NOOBS软件包（通常超过1 GB）包含Raspbian，这是内置的最受欢迎的树莓派操作系统镜像。同时，也提供了一种轻量级的NOOBS版本，该版本没有预装操作系统（尽管需要下载一个较小的初始文件20
    MB，并在树莓派上建立网络连接，以便直接下载您打算使用的操作系统）。
- en: NOOBS is available at [http://www.raspberrypi.org/downloads](http://www.raspberrypi.org/downloads),
    with the documentation available at [https://github.com/raspberrypi/noobs](https://github.com/raspberrypi/noobs).
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: NOOBS 可在 [http://www.raspberrypi.org/downloads](http://www.raspberrypi.org/downloads)
    获取，相关文档可在 [https://github.com/raspberrypi/noobs](https://github.com/raspberrypi/noobs)
    查阅。
- en: How to do it...
  id: totrans-116
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: 'By performing the following steps, we will prepare the SD card to run NOOBS.
    This will then allow us to select and install the operating system we want to
    use:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 通过执行以下步骤，我们将准备SD卡以运行NOOBS。这样我们就可以选择并安装我们想要使用的操作系统：
- en: Get your SD card ready.
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 准备好您的SD卡。
- en: 'On a freshly formatted or new SD card, copy the contents of the `NOOBS_vX.zip`
    file. When it has finished copying, you should end up with something like the
    following screenshot of the SD card:'
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在格式化后或新的SD卡上，复制`NOOBS_vX.zip`文件的内容。当复制完成后，你应该得到类似于以下SD卡截图的内容：
- en: '![](img/98031698-7bd6-4aed-b41a-43a6d375c3ad.png)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/98031698-7bd6-4aed-b41a-43a6d375c3ad.png)'
- en: NOOBS files extracted onto the SD card
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: NOOBS 文件已提取到 SD 卡上
- en: The files may vary slightly with different versions of NOOBS, and the icons
    displayed may be different on your computer.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 文件可能因NOOBS的不同版本而略有差异，您电脑上显示的图标也可能不同。
- en: You can now put the card into your Raspberry Pi, connect it to a keyboard and
    display, and turn the power on. Refer to the *Connecting to Raspberry Pi* recipe
    for details on what you need, and how to do this.
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您现在可以将这张卡插入到您的Raspberry Pi中，连接键盘和显示器，然后打开电源。有关所需物品和如何操作的详细信息，请参阅*连接到Raspberry
    Pi*菜谱。
- en: 'By default, NOOBS will display via the HDMI connection. If you have another
    type of screen (or you don''t see anything), you will need to manually select
    the output type by pressing 1, 2, 3, or 4, according to the following functions:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，NOOBS将通过HDMI连接显示。如果您有另一种类型的屏幕（或者您什么都没有看到），您需要通过按1、2、3或4来手动选择输出类型，具体功能如下：
- en: Key 1 stands for the Standard HDMI mode (the default mode)
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关键词1代表标准HDMI模式（默认模式）
- en: Key 2 stands for the Safe HDMI mode (alternative HDMI settings if the output
    has not been detected)
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关键2代表安全HDMI模式（如果未检测到输出，则为替代HDMI设置）
- en: Key 3 stands for Composite PAL (for connections made via the RCA analogue video
    connection)
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关键3代表复合PAL（用于通过RCA模拟视频连接进行的连接）
- en: Key 4 stands for Composite NTSC (again, for connections via the RCA connector)
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第四个键代表复合NTSC（再次强调，通过RCA连接器进行连接）
- en: This display setting will also be set for the installed operating system.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 此显示设置也将应用于已安装的操作系统。
- en: After a short while, you will see the NOOBS selection screen that lists the
    available distributions (the offline version only includes Raspbian). There are
    many more distributions that are available, but only the selected ones are available
    directly through the NOOBS system. Click on Raspbian, as this is the operating
    system being used in this book.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 稍等片刻，你将看到NOOBS选择屏幕，该屏幕列出了可用的发行版（离线版本仅包括Raspbian）。还有更多可用的发行版，但只有选中的那些可以通过NOOBS系统直接访问。点击Raspbian，因为这个书中使用的是这个操作系统。
- en: Press *Enter* or click on Install OS, and confirm that you wish to overwrite
    all the data on
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 按下 *Enter* 键或点击安装操作系统，并确认您希望覆盖所有数据
- en: the card. This will overwrite any distributions previously installed using NOOBS
    but will not remove the NOOBS system; you can return to it at any time by pressing
    *Shift* when you turn the power on.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 这张卡。这将覆盖之前使用NOOBS安装的任何分布，但不会删除NOOBS系统；您可以在开机时按*Shift*键随时返回到它。
- en: It will take around 20 to 40 minutes to write the data to the card depending
    on its speed. When it completes and the Image Applied Successfully message appears,
    click on OK, and Raspberry Pi will start to boot into `Raspberry Pi Desktop`.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 根据其速度，将数据写入卡片大约需要20到40分钟。当操作完成并且出现“图像应用成功”的消息时，点击“确定”，树莓派将开始启动进入`树莓派桌面`。
- en: How it works...
  id: totrans-134
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The purpose of writing the image file to the SD card in this manner is to ensure
    that the SD card is formatted with the expected filesystem partitions and files
    required to correctly boot the operating system.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 以这种方式将图像文件写入SD卡的目的，是为了确保SD卡格式化成预期的文件系统分区和文件，以便正确引导操作系统。
- en: When Raspberry Pi powers up, it loads some special code contained within the
    GPU's internal memory (commonly referred to as **binary blob** by Raspberry Pi
    Foundation). The binary blob provides the instructions required to read the `BOOT`
    partition on the SD card, which (in the case of a NOOBS install) will load NOOBS
    from the `RECOVERY` partition. If at this point *Shift* is pressed, NOOBS will
    load the recovery and installation menu. Otherwise, NOOBS will begin loading the
    OS as specified by the preferences stored in the `SETTINGS` partition.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 当树莓派启动时，它会加载存储在GPU内部内存中的一些特殊代码（通常由树莓派基金会称为**二进制blob**）。这个二进制blob提供了读取SD卡上`BOOT`分区的指令，这在NOOBS安装的情况下，将从`RECOVERY`分区加载NOOBS。如果此时按下*Shift*键，NOOBS将加载恢复和安装菜单。否则，NOOBS将开始加载存储在`SETTINGS`分区中的偏好设置所指定的操作系统。
- en: 'When loading the operating system, it will boot via the `BOOT` partition, using
    the settings defined in `config.txt` and options in `cmdline.txt` to finally load
    to the desktop on the `root` partition. Refer to the following diagram:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 当加载操作系统时，它将通过`BOOT`分区启动，使用`config.txt`中定义的设置和`cmdline.txt`中的选项，最终加载到`root`分区上的桌面。请参考以下图示：
- en: '![](img/bd8de90b-eb75-48b9-85fa-a3e7e1a3c5cb.png)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/bd8de90b-eb75-48b9-85fa-a3e7e1a3c5cb.png)'
- en: NOOBS creates several partitions on the SD card to allow the installation of
    multiple
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: NOOBS 在 SD 卡上创建多个分区，以便安装多个
- en: operating systems and to provide recovery
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 操作系统并提供恢复功能
- en: NOOBS allows the user to optionally install multiple operating systems on the
    same card and provides a boot menu to choose between them (with an option to set
    a default value in the event of a time-out period).
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: NOOBS 允许用户选择性地在同一张卡上安装多个操作系统，并提供一个启动菜单来在这些操作系统之间进行选择（在超时期间可以选择设置一个默认值）。
- en: If you later add, remove, or re-install an operating system, ensure first that
    you make a copy of any files, including system settings you wish to keep, as NOOBS
    may overwrite everything on the SD card.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您以后添加、删除或重新安装操作系统，请首先确保您复制了所有文件，包括您希望保留的系统设置，因为NOOBS可能会覆盖SD卡上的所有内容。
- en: There's more...
  id: totrans-143
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'When you power up Raspberry Pi for the first time directly, the desktop will
    be loaded. You can configure the system settings using the Raspberry Pi Configuration
    menu (under the Preferences menu on the Desktop or via the `sudo raspi-config`
    command). With this menu, you can make changes to your SD card or set up your
    general preferences:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 当您第一次直接启动 Raspberry Pi 时，桌面将会加载。您可以使用 Raspberry Pi 配置菜单（位于桌面上的“首选项”菜单下或通过 `sudo
    raspi-config` 命令）来配置系统设置。使用此菜单，您可以更改您的 SD 卡或设置您的常规偏好设置：
- en: '![](img/0f0fc9d2-9346-4047-9013-1da5dd321a52.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/0f0fc9d2-9346-4047-9013-1da5dd321a52.png)'
- en: Changing the default user password
  id: totrans-146
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更改默认用户密码
- en: 'Ensure that you change the default password for the `pi` user account once
    you have logged in, as the default password is well known. This is particularly
    important if you connect to public networks. You can do this with the `passwd`
    command, as shown in the following screenshot:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您在登录后更改`pi`用户账户的默认密码，因为默认密码是众所周知的。这一点在连接到公共网络时尤为重要。您可以使用`passwd`命令来完成此操作，如下面的截图所示：
- en: '![](img/b36c20c8-eede-4302-828b-24e9e411487f.png)'
  id: totrans-148
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/b36c20c8-eede-4302-828b-24e9e411487f.png)'
- en: Setting a new password for the Pi user
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 为 Pi 用户设置新密码
- en: This provides greater confidence because if you later connect to another network,
    only you will be able to access your files and take control of your Raspberry
    Pi.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 这提供了更大的信心，因为如果你后来连接到另一个网络，只有你才能访问你的文件并控制你的树莓派。
- en: Ensuring that you shut down safely
  id: totrans-151
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 确保您安全关闭
- en: 'To avoid any data corruption, you must ensure that you correctly shut down
    Raspberry Pi by issuing a `shutdown` command, as follows:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 为了避免任何数据损坏，您必须确保通过发出`shutdown`命令正确关闭Raspberry Pi，如下所示：
- en: '[PRE0]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Or, use this one:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，使用这个：
- en: '[PRE1]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: You must wait until this command completes before you remove power from Raspberry
    Pi (wait for at least 10 seconds after the SD card access light has stopped flashing).
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 您必须在从 Raspberry Pi 上移除电源之前等待此命令完成（在 SD 卡访问指示灯停止闪烁后至少等待 10 秒）。
- en: 'You can also restart the system with the `reboot` command, as follows:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以使用`reboot`命令重新启动系统，如下所示：
- en: '[PRE2]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Preparing an SD card manually
  id: totrans-159
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 手动准备SD卡
- en: An alternative to using NOOBS is to manually write the operating system image
    to the SD card. While this was originally the only way to install the operating
    system, some users still prefer it. It allows the SD cards to be prepared before
    they are used in Raspberry Pi. It can also provide easier access to startup and
    configuration files, and it leaves more space available for the user (unlike NOOBS,
    a `RECOVERY` partition isn't included).
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 使用NOOBS的另一种选择是手动将操作系统镜像写入SD卡。虽然这最初是安装操作系统的唯一方式，但一些用户仍然更喜欢这种方式。它允许在将SD卡用于Raspberry
    Pi之前对其进行准备。它还可以提供更方便的访问启动和配置文件的方法，并且为用户留下更多可用空间（与NOOBS不同，不包括`RECOVERY`分区）。
- en: The default Raspbian image actually consists of two partitions, `BOOT` and `SYSTEM`,
    which will fit into a 2 GB SD card (4 GB or more is recommended).
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 默认的 Raspbian 系统镜像实际上由两个分区组成，`BOOT` 和 `SYSTEM`，它们可以适应一个 2 GB 的 SD 卡（建议使用 4 GB
    或更大）。
- en: You need a computer running Windows/Mac OS X/Linux (although it is possible
    to use another Raspberry Pi to write your card; be prepared for a very long wait).
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要一个运行 Windows/Mac OS X/Linux 的计算机（尽管使用另一台 Raspberry Pi 来编写您的卡片也是可能的；请做好长时间等待的准备）。
- en: Download the latest version of the operating system you wish to use. For the
    purpose of this book, it is assumed you are using the latest version of Raspbian
    available at [http://www.raspberrypi.org/downloads](http://www.raspberrypi.org/downloads).
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 下载您希望使用的操作系统最新版本。为了本书的目的，假设您正在使用可在[http://www.raspberrypi.org/downloads](http://www.raspberrypi.org/downloads)找到的最新版本的Raspbian。
- en: Perform the following steps depending on the type of computer you plan to use
    to write to the SD card (the `.img` file you need is sometimes compressed, so
    before you start, you will need to extract the file).
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 根据您计划用于写入SD卡（您需要的`.img`文件有时是压缩的，因此在开始之前，您需要提取该文件）的计算机类型，执行以下步骤。
- en: 'The following steps are for Windows:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤适用于Windows：
- en: Ensure that you have downloaded the Raspbian image, as previously detailed,
    and extracted it to a convenient folder to obtain an `.img` file.
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保您已下载如前所述的 Raspbian 镜像，并将其提取到方便的文件夹中，以获得一个 `.img` 文件。
- en: Obtain the `Win32DiskImager.exe` file available at [http://www.sourceforge.net/projects/win32diskimager](http://www.sourceforge.net/projects/win32diskimager).
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取位于[http://www.sourceforge.net/projects/win32diskimager](http://www.sourceforge.net/projects/win32diskimager)的`Win32DiskImager.exe`文件。
- en: Run `Win32DiskImager.exe` from your downloaded location.
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从您下载的位置运行 `Win32DiskImager.exe`。
- en: Click on the folder icon and navigate to the location of the `.img` file and
    click on Save.
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击文件夹图标，导航到`.img`文件的位置，然后点击保存。
- en: If you haven't already done so, insert your SD card into your card reader and
    plug it into your computer.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您还没有这样做，请将您的SD卡插入卡读卡器，并将其连接到您的电脑。
- en: Select the Device drive letter that corresponds to your SD card from the small
    drop-down box. Double-check that this is the correct device (as the program will
    overwrite whatever is on the device when you write the image).
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从小下拉框中选择与您的SD卡对应的设备驱动器字母。请务必确认这是正确的设备（因为当您写入镜像时，程序将覆盖设备上的所有内容）。
- en: The drive letter may not be listed until you select a source image file.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 驱动器字母可能直到您选择源映像文件时才会列出。
- en: 'Finally, click on the Write button and wait for the program to write the image
    to the SD card, as shown in the following screenshot:'
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，点击“写入”按钮，等待程序将图像写入SD卡，如下所示截图：
- en: '![](img/e086099a-c257-4789-abec-4bf4c2b1bca2.png)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/e086099a-c257-4789-abec-4bf4c2b1bca2.png)'
- en: Manually writing operating system images to the SD card, using Disk Imager
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Disk Imager手动将操作系统镜像写入SD卡
- en: Once completed, you can exit the program. Your SD card is ready.
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦完成，您就可以退出程序。您的SD卡已准备就绪。
- en: 'The following steps should work for the most common Linux distributions, such
    as Ubuntu and Debian:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤适用于大多数常见的 Linux 发行版，例如 Ubuntu 和 Debian：
- en: Using your preferred web browser, download the Raspbian image and save it in
    a suitable place.
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您偏好的网络浏览器，下载 Raspbian 图像并将其保存在合适的位置。
- en: 'Extract the file from the file manager or locate the folder in the terminal
    and unzip the `.img` file with the following command:'
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从文件管理器中提取文件或在终端中定位文件夹，然后使用以下命令解压`.img`文件：
- en: '[PRE3]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: If you haven't already done so, insert your SD card into your card reader and
    plug it into your computer.
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您还没有这样做，请将您的SD卡插入卡读卡器，并将其连接到您的电脑。
- en: Use the `df -h` command and identify the **sdX** identifier for the SD card.
    Each partition will be displayed as sdX1, sdX2, and so on, where X will be `a`,
    `b`, `c`, `d`, and so on for the device ID.
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 `df -h` 命令并识别 SD 卡的 **sdX** 标识符。每个分区将显示为 sdX1、sdX2 等等，其中 X 将是设备 ID 的 `a`、`b`、`c`、`d`
    等等。
- en: Ensure that all the partitions on the SD card are unmounted using the
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保使用以下命令卸载SD卡上的所有分区
- en: '`umount /dev/sdXn` command for each partition, where `sdXn` is the partition
    being unmounted.'
  id: totrans-184
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`umount /dev/sdXn` 命令用于每个分区，其中 `sdXn` 是正在卸载的分区。'
- en: 'Write the image file to the SD card, with the following command:'
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令将图片文件写入SD卡：
- en: '[PRE4]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The process will take some time to write to the SD card, returning to the Terminal
    prompt when complete.
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据写入SD卡的过程需要一些时间，完成后会返回到终端提示符。
- en: 'Unmount the SD card before removing it from the computer, using the following
    command:'
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在从电脑中移除SD卡之前，请使用以下命令卸载它：
- en: '[PRE5]'
  id: totrans-189
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The following steps should work for most of the versions of OS X:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤适用于大多数版本的 OS X：
- en: Using your preferred web browser, download the Raspbian image and save it somewhere
    suitable.
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您偏好的网络浏览器，下载 Raspbian 镜像并将其保存在合适的位置。
- en: 'Extract the file from the file manager or locate the folder in the terminal
    and unzip the `.img` file, with the following command:'
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从文件管理器中提取文件或在终端中定位文件夹，然后使用以下命令解压`.img`文件：
- en: '[PRE6]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: If you haven't already done so, insert your SD card into your card reader and
    plug it into your computer.
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您还没有这样做，请将您的SD卡插入卡读卡器，并将其连接到您的电脑。
- en: 'Use the `diskutil list` command and identify the **disk#** identifier for the
    SD card. Each partition will be displayed as disk#s1, disk#s2, and so on, where
    # will be `1`, `2`, `3`, `4`, and so on, for the device ID.'
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '使用 `diskutil list` 命令并识别 SD 卡的 **disk#** 标识符。每个分区将显示为 disk#s1, disk#s2，等等，其中
    # 将是 `1`、`2`、`3`、`4` 等等，代表设备 ID。'
- en: If rdisk# is listed, use this for faster writing (this uses a raw path and skips
    data buffering).
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 如果列出 rdisk#，则使用此方法进行更快的写入（这使用原始路径并跳过数据缓冲）。
- en: Ensure that the SD card is unmounted using the `unmountdisk /dev/diskX` command,
    where `diskX` is the device being unmounted.
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保使用`unmountdisk /dev/diskX`命令卸载SD卡，其中`diskX`是要卸载的设备。
- en: 'Write the image file to the SD card, with the following command:'
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令将图片文件写入SD卡：
- en: '[PRE7]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: The process will take some time to write to the SD card, returning to the Terminal
    prompt when complete.
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将数据写入SD卡的过程需要一些时间，完成后会返回到终端提示符。
- en: Unmount the SD card before removing it from the computer, using the
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在从电脑中移除SD卡之前，请先卸载SD卡，使用
- en: 'following command:'
  id: totrans-202
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以下命令：
- en: '[PRE8]'
  id: totrans-203
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Refer to the following diagram:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 参考以下图示：
- en: '![](img/4942ab10-afef-456c-b5af-e6c7130fa8b1.png)'
  id: totrans-205
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/4942ab10-afef-456c-b5af-e6c7130fa8b1.png)'
- en: The boot process of a manually installed OS image
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 手动安装的操作系统镜像的引导过程
- en: Expanding the system to fit in your SD card
  id: totrans-207
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将系统扩展以适应您的SD卡
- en: A manually written image will be of a fixed size (usually made to fit the smallest-sized
    SD card possible). To make full use of the SD card, you will need to expand the
    system partition to fill the remainder of the SD card. This can be achieved using
    the Raspberry Pi Configuration tool.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 手写生成的镜像将具有固定的大小（通常制作成适合可能的最小尺寸SD卡）。为了充分利用SD卡，您需要将系统分区扩展以填充SD卡的剩余部分。这可以通过使用Raspberry
    Pi配置工具来实现。
- en: 'Select `Expand Filesystem,` as shown in the following screenshot:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 选择“展开文件系统”，如图下所示：
- en: '![](img/4092f51e-0314-49de-91ce-da6b9d934e1e.png)'
  id: totrans-210
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/4092f51e-0314-49de-91ce-da6b9d934e1e.png)'
- en: Raspberry Pi Configuration tool
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 树莓派配置工具
- en: Accessing the RECOVERY/BOOT partition
  id: totrans-212
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 访问 RECOVERY/BOOT 分区
- en: Windows and macOS X do not support the `ext4` format, so when you read the SD
    card, only the **File Allocation Table** (**FAT**) partitions will be accessible.
    In addition, Windows only supports the first partition on an SD card, so if you've
    installed NOOBS, only the `RECOVERY` partition will be visible. If you've written
    your card manually, you will be able to access the `BOOT` partition.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: Windows 和 macOS X 不支持 `ext4` 格式，因此当你读取 SD 卡时，只有 **文件分配表** (**FAT**) 分区可访问。此外，Windows
    只支持 SD 卡上的第一个分区，所以如果你已安装 NOOBS，则只能看到 `RECOVERY` 分区。如果你是手动写入的卡，你将能够访问 `BOOT` 分区。
- en: The `data` partition (if you installed one via NOOBS) and the `root` partition
    are in `ext4` format and won't usually be visible on non-Linux systems.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: '`data`分区（如果你是通过NOOBS安装的）和`root`分区都是`ext4`格式，通常在非Linux系统上不可见。'
- en: If you do need to read files from the SD card using Windows, a freeware program,
    **Linux Reader** (available at [www.diskinternals.com/linux-reader](https://www.diskinternals.com/linux-reader))
    can provide read-only access to all of the partitions on the SD card.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你确实需要在 Windows 系统下读取 SD 卡中的文件，一款免费软件 **Linux Reader**（可在 [www.diskinternals.com/linux-reader](https://www.diskinternals.com/linux-reader)
    获取）可以提供对 SD 卡上所有分区的只读访问权限。
- en: 'Access the partitions from Raspberry Pi. To view the currently mounted partitions,
    use `df`, as shown in the following screenshot:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 从树莓派访问分区。要查看当前挂载的分区，请使用 `df` 命令，如下截图所示：
- en: '![](img/81761226-e597-4807-9e27-dac154b06ea6.png)'
  id: totrans-217
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/81761226-e597-4807-9e27-dac154b06ea6.png)'
- en: The result of the df command
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: df 命令的结果
- en: 'To access the `BOOT` partition from within Raspbian, use the following command:'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 要从 Raspbian 内部访问 `BOOT` 分区，请使用以下命令：
- en: '[PRE9]'
  id: totrans-220
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: To access the `RECOVERY` or `data` partition, we have to mount it by performing
    the
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 要访问`RECOVERY`或`data`分区，我们必须通过执行以下操作来挂载它：
- en: 'following steps:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤：
- en: 'Determine the name of the partition as the system refers to it by listing all
    the partitions, even the unmounted ones. The `sudo fdisk -l` command lists the
    partitions, as shown in the following screenshot:'
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/e42f1e61-2ab0-4b9f-8eee-e9d95207835d.png)'
  id: totrans-224
  prefs: []
  type: TYPE_IMG
- en: NOOBS installation and data partition
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
- en: The following table shows the names of partitions and their meanings
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
- en: '| **Partition name** | **Meaning** |'
  id: totrans-227
  prefs: []
  type: TYPE_TB
- en: '| `mmcblk0p1` | (`VFAT`) `RECOVERY` |'
  id: totrans-228
  prefs: []
  type: TYPE_TB
- en: '| `mmcblk0p2` | (Extended partition) contains (`root`, `data`, `BOOT`) |'
  id: totrans-229
  prefs: []
  type: TYPE_TB
- en: '| `mmcblk0p5` | (`ext4`) `root` |'
  id: totrans-230
  prefs: []
  type: TYPE_TB
- en: '| `mmcblk0p6` | (`VFAT`) `BOOT` |'
  id: totrans-231
  prefs: []
  type: TYPE_TB
- en: '| `mmcblk0p7` | (`ext4`) `SETTINGS` |'
  id: totrans-232
  prefs: []
  type: TYPE_TB
- en: If you have installed additional operating systems on the same card, the partition
    identifiers shown in the preceding table will be different.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
- en: 'Create a folder and set it as the mount point for the partition; for the `RECOVERY`
    partition, use the following command:'
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE10]'
  id: totrans-235
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'To ensure that they are mounted each time the system is started, perform the
    following steps:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
- en: 'Add the `sudo` mount commands to `/etc/rc.local` before `exit 0`. If you have
    a different username, you will need to change `pi` to match:'
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE11]'
  id: totrans-238
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter*.
  id: totrans-239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Commands added to `/etc/rc.local` will be run for any user who logs on to Raspberry
    Pi. If you only want the drive to be mounted for the current user, the commands
    can be added to `.bash_profile` instead.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
- en: If you have to install additional operating systems on the same card, the partition
    identifiers shown here will be different.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
- en: Using the tools to back up your SD card in case of failure
  id: totrans-242
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can use **Win32 Disk Imager** to make a full backup image of your SD card
    by inserting your SD card into your reader, starting the program, and creating
    a filename to store the image in. Simply click on the Read button instead to read
    the image from the SD card and write it to a new image file.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
- en: To make a backup of your system, or to clone to another SD card using Raspberry
    Pi, use the SD Card Copier (available from the desktop menu via the Accessories
    | SD Card Copier).
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
- en: 'Insert an SD card into a card reader into a spare USB port of Raspberry Pi
    and select the new storage device, as shown in the following screenshot:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/1db6599d-f7c5-421f-aec1-213aed1b409f.png)'
  id: totrans-246
  prefs: []
  type: TYPE_IMG
- en: SD Card Copier program
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
- en: Before continuing, the SD Card Copier will confirm that you wish to format and
    overwrite the target device and, if there is sufficient space, make a clone of
    your system.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
- en: 'The `dd` command can similarly be used to back up the card, as follows:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
- en: 'For Linux, replacing `sdX` with your device ID, use this command:'
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE12]'
  id: totrans-251
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'For OS X, replacing `diskX` with your device ID, use the following command:'
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE13]'
  id: totrans-253
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'You can also use `gzip` and split to compress the contents of the card and
    split them into multiple files, if required, for easy archiving, as follows:'
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE14]'
  id: totrans-255
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'To restore the split image, use the following command:'
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE15]'
  id: totrans-257
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Networking and connecting your Raspberry Pi to the internet via an Ethernet
    port, using a CAT6 Ethernet cable
  id: totrans-258
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The simplest way to connect Raspberry Pi to the internet is by using the built-in
    LAN connection on the Model B. If you are using a Model A Raspberry Pi, a USB-to-LAN
    adapter can be used (refer to the *There's more...* section of the *Networking
    and connecting your Raspberry Pi to the internet via a USB Wi-Fi dongle* recipe
    for details of how to configure this).
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-260
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You will need access to a suitable wired network, which will be connected to
    the internet, and a standard network cable (with an **RJ45** type connector for
    connecting to Raspberry Pi).
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  id: totrans-262
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Many networks connect and configure themselves automatically using the **Dynamic
    Host Configuration Protocol** (**DHCP**), which is controlled by the router or
    switch. If this is the case, simply plug the network cable into a spare network
    port on your router or network switch (or wall network socket if applicable).
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
- en: Alternatively, if a DHCP server is not available, you shall have to configure
    the settings manually (refer to the *There's more...* section for details).
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
- en: 'You can confirm this is functioning successfully with the following steps:'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
- en: Ensure that the two LEDs on either side of Raspberry Pi light up (the left orange
    LED indicates a connection and the green LED on the right shows activity by flashing).
    This will indicate that there is a physical connection to the router and that
    the equipment is powered and functioning.
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Test the link to your local network using the `ping` command. First, find out
    the IP address of another computer on the network (or the address of your router,
    perhaps, often `192.168.0.1` or `192.168.1.254`). Now, on the Raspberry Pi Terminal,
    use the `ping` command (the `-c 4` parameter is used to send just four messages;
    otherwise, press *Ctrl* + *C* to stop) to ping the IP address, as follows:'
  id: totrans-267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE16]'
  id: totrans-268
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Test the link to the internet (this will fail if you usually connect to the
    internet through a proxy server) as follows:'
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE17]'
  id: totrans-270
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Finally, you can test the link back to Raspberry Pi by discovering the
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: IP address using `hostname -I` on Raspberry Pi. You can then use the ping command
    on another computer on the network to ensure it is accessible (using Raspberry
    Pi's IP address in place of [www.raspberrypi.org](https://www.raspberrypi.org/)).
    The Windows version of the `ping` command will perform five pings and stop automatically,
    and will not need the `-c 4` option.
  id: totrans-272
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: If the aforementioned tests fail, you will need to check your connections and
    then confirm the correct configuration for your network.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
- en: There's more...
  id: totrans-274
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you find yourself using your Raspberry Pi regularly on the network, you won't
    want to have to look up the IP address each time you want to connect to it.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
- en: On some networks, you may be able to use Raspberry Pi's hostname instead of
    its IP address (the default is `raspberrypi`). To assist with this, you may need
    some additional software, such as **Bonjour**, to ensure hostnames on the network
    are correctly registered. If you have macOS X, you will have Bonjour running already.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
- en: On Windows, you can either install iTunes (if you haven't got it), which also
    includes the service, or you can install it separately (via the Apple Bonjour
    Installer available from [https://support.apple.com/kb/DL999](https://support.apple.com/kb/DL999)).
    Then you can use the hostname, `raspberrypi` or `raspberrypi.local`, to connect
    to Raspberry Pi over the network. If you need to change the hostname, then you
    can do so with the Raspberry Pi configuration tool, shown previously.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
- en: Alternatively, you may find it helpful to fix the IP address to a known value
    by manually setting the IP address. However, remember to switch it back to use
    DHCP when connecting to another network.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
- en: Some routers will also have an option to set a **Static IP DHCP address**, so
    the same address is always given to Raspberry Pi (how this is set will vary depending
    on the router itself).
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
- en: Knowing your Raspberry Pi's IP address or using the hostname is particularly
    useful if you intend to use one of the remote access solutions described later
    on, which avoids the need for a display.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
- en: Using built-in Wi-Fi and Bluetooth on Raspberry Pi
  id: totrans-281
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Many home networks provide a wireless network over Wi-Fi; if you have Raspberry
    Pi 3, then you can make use of the on-board Broadcom Wi-Fi to connect to it. Raspberry
    Pi 3 also supports Bluetooth, so you can connect most standard Bluetooth devices
    and use them like you would on any other computer.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
- en: This method should also work for any supported USB Wi-Fi and Bluetooth devices;
    see the *Networking and connecting your Raspberry Pi to the internet via a USB
    Wi-Fi dongle* recipe for extra help on identifying devices and installing firmware
    (if required).
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-284
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The latest version of Raspbian includes helpful utilities to quickly and easily
    configure your Wi-Fi and Bluetooth through the graphical interface.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
- en: '**Note**: If you need to configure the Wi-Fi via the command line, then see
    the *Networking and connecting your Raspberry Pi to the internet via a USB Wi-Fi
    dongle* recipe for details.![](img/1e5efb8a-9613-4d81-8bc7-4dfa1221269d.png)'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
- en: Wi-Fi and Bluetooth configuration applications
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
- en: You can use the built-in Bluetooth to connect a wireless keyboard, a mouse,
    or even wireless speakers. This can be exceptionally helpful for projects where
    additional cables and wires are an issue, such as robotic projects, or when Raspberry
    Pi is installed in hard-to-reach locations (acting as a server or security camera).
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  id: totrans-289
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Here are the various methods.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
- en: Connecting to your Wi-Fi network
  id: totrans-291
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To configure your Wi-Fi connection, click on the networking symbol to list
    the local available Wi-Fi networks:'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/db8d8411-bb64-46df-8393-98d4dedeab13.png)'
  id: totrans-293
  prefs: []
  type: TYPE_IMG
- en: Wi-Fi listing of the available access points in the area
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
- en: 'Select the required network (for example, `Demo`) and, if required, enter your
    password (also known as a `Pre Shared Key`):'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/f137d485-7ee9-435b-8910-4f27dd5b2640.png)'
  id: totrans-296
  prefs: []
  type: TYPE_IMG
- en: Providing the password for the access point
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
- en: After a short while, you should see that you have connected to the network and
    the icon
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
- en: 'will change to a Wi-Fi symbol. If you encounter problems, ensure you have the
    correct password/key:'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/34798842-cffd-42d9-9762-a3e7204b1d9f.png)'
  id: totrans-300
  prefs: []
  type: TYPE_IMG
- en: Successful connection to an access point
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
- en: That is it; it's as easy as that!
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
- en: 'You can now test your connection and ensure it is working by using the web
    browser to navigate to a website or by using the following command in the terminal:'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  id: totrans-304
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Connecting to Bluetooth devices
  id: totrans-305
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To start, we need to put the Bluetooth device into discoverable mode by clicking
    on the Bluetooth icon and selecting **Make Discoverable**. You will also need
    to make the device you want to connect to discoverable and ready to pair; this
    may vary from device to device (such as pressing a pairing button):'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/dd0c6e5c-5084-481f-98d3-137f061905b1.png)'
  id: totrans-307
  prefs: []
  type: TYPE_IMG
- en: Setting the Bluetooth up as discoverable
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, select **Add Device...** and select the target device and **Pair**:'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/8077ebd4-27ed-4eff-b927-8af6b9517b70.png)'
  id: totrans-310
  prefs: []
  type: TYPE_IMG
- en: Selecting and pairing the required device
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
- en: 'The pairing process will then start; for example, the BTKB-71DB keyboard will
    need the pairing code `467572` to be entered onto the keyboard for the pairing
    to complete. Other devices may use default pairing codes, often set to 0000, 1111,
    1234, or similar:'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/80c622e4-70a0-492e-a242-704bce1896dc.png)'
  id: totrans-313
  prefs: []
  type: TYPE_IMG
- en: Following the instructions to pair the device with the required pairing code
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
- en: Once the process has completed, the device will be listed and will connect automatically
    each time the devices are present and booted.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
- en: Configuring your network manually
  id: totrans-316
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If your network does not include a DHCP server or it is disabled (typically,
    these are built into most modern ADSL/cable modems or routers), you may need to
    configure your network settings manually.
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-318
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Before you start, you will need to determine the network settings for your network.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
- en: 'You will need to find out the following information from your router''s settings
    or another computer connected to the network:'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
- en: '**IPv4 address**: This address will need to be selected to be similar to other
    computers on the network (typically, the first three numbers should match, that
    is, `192.168.1.X` if `netmask` is `255.255.255.0`), but it should not already
    be used by another computer. However, avoid `x.x.x.255` as the last address, since
    this is reserved as a broadcast address.'
  id: totrans-321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Subnet mask**: This number determines the range of addresses the computer
    will respond to (for a home network, it is typically `255.255.255.0`, which allows
    up to 254 addresses). This is also sometimes referred to as the **netmask**.'
  id: totrans-322
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Default gateway address**: This address is usually your router''s IP address,
    through which the computers connect to the internet.'
  id: totrans-323
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**DNS servers**: The **Domain Name Service** (**DNS**) server converts names
    into IP addresses by looking them up. Usually, they will already be configured
    on your router, in which case you can use your router''s address. Alternatively,
    your **Internet Service Provider** (**ISP**) may provide some addresses, or you
    can use Google''s public DNS servers at the addresses `8.8.8.8` and `8.8.4.4`.
    These are also called **nameservers** in some systems.'
  id: totrans-324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'For Windows, you can obtain this information by connecting to the internet
    and running the following command:'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  id: totrans-326
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Locate the active connection (usually called `Local Area Connection 1` or similar
    if you are using a wired connection, or if you are using Wi-Fi, it is called a
    wireless network connection) and find the information required, as follows:'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/c2c85281-cb24-42d1-a003-39ab4b83111c.png)'
  id: totrans-328
  prefs: []
  type: TYPE_IMG
- en: The ipconfig/all command shows useful information about your network settings
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
- en: 'For Linux and macOS X, you can obtain the required information with the following
    command (note that it is `ifconfig` rather than `ipconfig`):'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  id: totrans-331
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'The DNS servers are called nameservers and are usually listed in the `resolv.conf`
    file. You can use the `less` command as follows to view its contents (press Q
    to quit when you have finished viewing it):'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]'
  id: totrans-333
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: How to do it...
  id: totrans-334
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: To set the network interface settings, edit `/etc/network/interfaces` using
    the
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
- en: 'following code:'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE22]'
  id: totrans-337
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Now perform the following steps:'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
- en: 'We can add the details for our particular network, the IP `address` number
    we want to allocate to it, the `netmask` address of the network, and the `gateway`
    address, as follows:'
  id: totrans-339
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE23]'
  id: totrans-340
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter*.
  id: totrans-341
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'To set the name servers for DNS, edit `/etc/resolv.conf` using the following
    code:'
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE24]'
  id: totrans-343
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Add the addresses for your DNS servers as follows:'
  id: totrans-344
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE25]'
  id: totrans-345
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter*.
  id: totrans-346
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: There's more...
  id: totrans-347
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can configure the network settings by editing `cmdline.txt` in the `BOOT`
    partition and adding settings to the startup command line with `ip`.
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
- en: 'The `ip` option takes the following form:'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE26]'
  id: totrans-350
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: The `client-ip` option is the IP address you want to allocate to Raspberry Pi
  id: totrans-351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `gw-ip` option will set the gateway server address if you need to set it
    manually
  id: totrans-352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `netmask` option will directly set the `netmask` of the network
  id: totrans-353
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `hostname` option will allow you to change the default `raspberrypi` hostname
  id: totrans-354
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `device` option allows you to specify a default network device if more than
    one network device is present
  id: totrans-355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `autoconf` option allows the automatic configuration to be switched on or
    off
  id: totrans-356
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Networking directly to a laptop or computer
  id: totrans-357
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'It is possible to connect Raspberry Pi LAN port directly to a laptop or computer
    using a single network cable. This will create a local network link between the
    computers, allowing all the things you can do if connected to a normal network
    without the need for a hub or a router, including connection to the internet,
    if **Internet Connection Sharing** (**ICS**) is used, as follows:'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/ff605239-8efe-47d7-9912-8b925ebe0a52.png)'
  id: totrans-359
  prefs: []
  type: TYPE_IMG
- en: Make use of Raspberry Pi, with just a network cable, a standard imaged SD card,
    and power.
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
- en: ICS allows Raspberry Pi to connect to the internet through another computer.
    However, some additional configuration is required for the computers to communicate
    across the link, as Raspberry Pi does not automatically allocate its own IP address.
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
- en: We will use the ICS to share a connection from another network link, such as
    a built-in Wi-Fi on a laptop. Alternatively, we can use a direct network link
    (refer to the *Direct network link* section under the *There's more...* section)
    if the internet is not required or if the computer has only a single network adapter.
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
- en: Although this setup should work for most computers, some setups are more difficult
    than the others. For additional information, see [www.pihardware.com/guides/direct-network-connection](http://www.pihardware.com/guides/direct-network-connection).
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-364
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You will need Raspberry Pi with power and a standard network cable.
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
- en: Raspberry Pi Model B LAN chip includes **Auto-MDIX** (**Automatic Medium-Dependent
    Interface Crossover**). Removing the need to use a special crossover cable (a
    special network cable wired so that the transmit lines connect to receive lines
    for direct network links), the chip will decide and change the setup as required
    automatically.
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
- en: It may also be helpful to have a keyboard and monitor available to perform additional
    testing, particularly if this is the first time you have tried this.
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
- en: To ensure that you can restore your network settings to their original values,
    you should check whether it has a fixed IP address or the network is configured
    automatically.
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
- en: 'To check the network settings on Windows 10, perform these steps:'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
- en: Open Settings from the start menu, then select Network and Internet, then Ethernet,
    and click on Change adapter options from the list of Related Settings.
  id: totrans-370
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'To check the network settings on Windows 7 and Vista, perform the following
    steps:'
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
- en: Open Network and Sharing Center from the Control Panel and click on Change adapter
    settings on the left-hand side.
  id: totrans-372
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To check the network settings on Windows XP, open Network Connections from the
    Control Panel.
  id: totrans-373
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Find the item that relates to your wired network adapter (by default, this
    is usually called Ethernet or Local Area Connection, as shown in the following
    screenshot):'
  id: totrans-374
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/eb0b79f5-7171-4f5e-867f-893f0ebed712.png)'
  id: totrans-375
  prefs: []
  type: TYPE_IMG
- en: Locating your wired network connection
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
- en: 'Right-click on its icon and click on Properties. A dialog box will appear,
    as shown in this screenshot:'
  id: totrans-377
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/d42b1795-f576-48e1-813c-fc468f17f728.png)'
  id: totrans-378
  prefs: []
  type: TYPE_IMG
- en: Selecting the TCP/IP properties and checking the settings
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
- en: Select the item called Internet Protocol (TCP/IP) or Internet Protocol Version
    4 (TCP/IPv4) if there are two versions (the other is Version 6), and click on
    the Properties button.
  id: totrans-380
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You can confirm that your network is set by using automatic settings or a specific
    IP address (if so, take note of this address and the remaining details as you
    may want to revert the settings at a later point).
  id: totrans-381
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'To check the network settings on Linux, perform the following steps:'
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
- en: 'Open the Network Settings dialog box and select Configure Interface. Refer
    to the following screenshot:'
  id: totrans-383
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/73d01356-e03e-419b-8fb7-29c8d053f54e.png)'
  id: totrans-384
  prefs: []
  type: TYPE_IMG
- en: Linux Network Settings dialog box
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
- en: If any settings are manually set, ensure you take note of them so that you can
    restore them later if you want.
  id: totrans-386
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'To check the network settings on macOS X, perform the following steps:'
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
- en: Open System Preferences and click on Networks. You can then confirm whether
    the IP address is allocated automatically (using DHCP) or not.
  id: totrans-388
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Ensure that if any settings are manually set you take note of them so you can
    restore them later if you want to. Refer to the following screenshot:'
  id: totrans-389
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/b5d0596f-57cd-4c4e-8920-1ad64eea125c.png)'
  id: totrans-390
  prefs: []
  type: TYPE_IMG
- en: OS X Network Settings dialog box
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
- en: If you just need to access or control Raspberry Pi without an internet connection,
    refer to the *Direct network link* section in the *There's more...*section.
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  id: totrans-393
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: First, we need to enable ICS on our network devices. In this case, we will be
    sharing the internet, which is available on Wireless Network Connection through
    the Ethernet connection to Raspberry Pi.
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
- en: 'For Windows, perform these steps:'
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
- en: Return to the list of network adapters, right-click on the connection that links
  id: totrans-396
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'to the internet (in this case, the WiFi or Wireless Network Connection device),
    and click on Properties:'
  id: totrans-397
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![](img/18f97b8b-df58-4342-8723-619207dd2511.png)'
  id: totrans-398
  prefs: []
  type: TYPE_IMG
- en: Locating your wired network connection
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
- en: 'At the top of the window, select the second tab (in Windows XP, it is called
    Advanced; in Windows 7 and Windows 10, it is called Sharing), as shown in the
    following screenshot:'
  id: totrans-400
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/b9b9004d-ca91-4e8e-9d24-cfaea38019ab.png)'
  id: totrans-401
  prefs: []
  type: TYPE_IMG
- en: Selecting the TCP/IP properties and noting the allocated IP address
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
- en: 'In the Internet Connection Sharing section, check the box for Allow other network
    users to connect through this computer''s Internet connection (if present, use
    the drop-down box to select the Home networking connection: option as Ethernet
    or Local Area Connection). Click on OK and confirm whether you previously had
    a fixed IP address set for Local Area Connection.'
  id: totrans-403
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'For macOS X, to enable the ICS, perform the following steps:'
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
- en: Click on System Preferences and then click on Sharing.
  id: totrans-405
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on Internet Sharing and select the connection from which we want to share
    the internet (in this case, it will be the Wi-Fi AirPort). Then select the connection
    that we will connect Raspberry Pi to (in this case, Ethernet).
  id: totrans-406
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'For Linux to enable the ICS, perform the following steps:'
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
- en: From the System menu, click on Preferences and then on Network Connections.
    Select the connection you want to share (in this case, Wireless) and click on
    Edit or Configure. In the IPv4 Settings tab, change the Method option to Shared
    to other computers.
  id: totrans-408
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The IP address of the network adapter will be the **Gateway IP** address to
    be used on Raspberry Pi, and will be assigned an IP address within the same range
    (it will all match, except the last number). For instance, if the computer's wired
    connection now has `192.168.137.1`, the Gateway IP of Raspberry Pi will be `192.168.137.1`
    and its own IP address might be set to `192.168.137.10`.
  id: totrans-409
  prefs: []
  type: TYPE_NORMAL
- en: Fortunately, thanks to updates in the operating system, Raspbian will now automatically
    allocate a suitable IP address to join the network and set the gateway appropriately.
    However, unless we have a screen attached to Raspberry Pi or scan for devices
    on our network, we do not know what IP address Raspberry PI has given itself.
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
- en: Fortunately (as mentioned in the *Networking and connecting your Raspberry Pi
    to the internet via the LAN connector* recipe in the *There's more...* section),
    Apple's **Bonjour** software will automatically ensure hostnames on the network
    are correctly registered. As stated previously, if you have a Mac OS X, you will
    have Bonjour running already. On Windows, you can either install iTunes, or you
    can install it separately (available from [https://support.apple.com/kb/DL999](https://support.apple.com/kb/DL999)).
    By default, the hostname **raspberrypi** can be used.
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
- en: 'We are now ready to test the new connection, as follows:'
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
- en: Connect the network cable to Raspberry Pi and the computer's network port, and
    then power up Raspberry Pi, ensuring that you have re-inserted the SD card if
    you previously removed it. To reboot Raspberry Pi, if you edited the file there,
    use `sudo reboot` to restart it.
  id: totrans-413
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Allow a minute or two for Raspberry Pi to fully power up. We can now test the
    connection.
  id: totrans-414
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'From the connected laptop or computer, test the connection by pinging with
    the hostname of Raspberry Pi, as shown in the following command (on Linux or OS
    X, add `-c 4` to limit to four messages or press Ctrl + C to exit):'
  id: totrans-415
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE27]'
  id: totrans-416
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: Hopefully, you will find you have a working connection and receive replies from
    the
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
- en: Raspberry Pi.
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
- en: If you have a keyboard and a screen connected to Raspberry Pi, you can perform
    the
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
- en: 'following steps:'
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
- en: 'You can ping the computer in return (for example, `192.168.137.1`) from Raspberry
    Pi Terminal as follows:'
  id: totrans-421
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE28]'
  id: totrans-422
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'You can test the link to the internet by using `ping` to connect to a well-known
    website as follows, assuming you do not access the internet through a proxy server:'
  id: totrans-423
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE29]'
  id: totrans-424
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: If all goes well, you will have full internet available through your computer
    to Raspberry Pi, allowing you to browse the web as well as update and install
    new software.
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
- en: 'If the connection fails, perform the following steps:'
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
- en: Repeat the process, ensuring that the first three sets of numbers match with
    Raspberry Pi and the network adapter IP addresses.
  id: totrans-427
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'You can also check that when Raspberry Pi powers up, the correct IP address
    is being set using the following command:'
  id: totrans-428
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE30]'
  id: totrans-429
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Check your firewall settings to ensure your firewall is not blocking internal
    network connections.
  id: totrans-430
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: How it works...
  id: totrans-431
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: When we enable ICS on the primary computer, the operating system will automatically
    allocate a new IP address to the computer. Once connected and powered up, Raspberry
    Pi will set itself to a compatible IP address and use the primary computer IP
    address as an Internet Gateway.
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
- en: By using Apple Bonjour, we are able to use `raspberrypi` hostname to connect
    to Raspberry Pi from the connected computer.
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
- en: Finally, we check whether the computer can communicate over the direct network
    link to Raspberry Pi, back the other way, and also through to the internet.
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
- en: There's more...
  id: totrans-435
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'If you do not require the internet on Raspberry Pi, or your computer has only
    a single network adapter, you can still connect the computers together through
    a direct network link. Refer to the following diagram:'
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/edfe1b0c-9d0f-4379-a2c9-b1e1bde0c01d.png)'
  id: totrans-437
  prefs: []
  type: TYPE_IMG
- en: Connecting and using Raspberry Pi with just a network cable, a standard imaged
    SD card, and power
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
- en: Direct network link
  id: totrans-439
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: For a network link to work between two computers, they need to be using the
    same address range. The allowable address range is determined by the subnet mask
    (for example, `255.255.0.0` or `255.255.255.0` would mean all IP addresses should
    be the same except for the last two, or just the last number in the IP address;
    otherwise, they will be filtered).
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
- en: To use a direct link without enabling ICS, check the IP settings of the adapter
    you are
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
- en: going to connect to and determine whether it is automatically allocated or fixed
    to a
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
- en: specific IP address.
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
- en: Most PCs connected directly to another computer will allocate an IP address
    in the range `169.254.X.X` (with a subnet mask of `255.255.0.0`). However, we
    must ensure that the network adaptor is set to Obtain an IP address automatically.
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
- en: For Raspberry Pi to be able to communicate through the direct link, it needs
    to have an IP address in the same address range, `169.254.X.X`. As mentioned before,
    Raspberry Pi will automatically give itself a suitable IP address and connect
    to the network.
  id: totrans-445
  prefs: []
  type: TYPE_NORMAL
- en: Therefore, assuming we have Apple Bonjour (mentioned previously), we only need
    to know the hostname given to Raspberry Pi (`raspberrypi`).
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL
- en: See also
  id: totrans-447
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you don't have a keyboard or screen connected to Raspberry Pi, you can use
    this network link to remotely access Raspberry Pi just as you would on a normal
    network (just use the new IP address you have set for the connection). Refer to
    the *Connecting remotely to Raspberry Pi over the network using VNC* and *Connecting
    remotely to Raspberry Pi over the network using SSH (and X11 Forwarding)* recipes.
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
- en: There is lots of additional information available on my website, [https://pihw.wordpress.com/guides/direct-network-connection](https://pihw.wordpress.com/guides/direct-network-connection),
    including additional troubleshooting tips and several other ways to connect to
    your Raspberry Pi without needing a dedicated screen and keyboard.
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
- en: Networking and connecting your Raspberry Pi to the internet via a USB Wi-Fi
    dongle
  id: totrans-450
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: By adding a **USB Wi-Fi dongle** to Raspberry Pi's USB port, even models without
    built-in Wi-Fi can connect to and use the Wi-Fi network.
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-452
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You will need to obtain a suitable USB Wi-Fi dongle, and, in some cases, you
    may require a powered USB hub (this will depend on the hardware version of Raspberry
    Pi you have and the quality of your power supply). General suitability of USB
    Wi-Fi dongles will vary depending on the chipset that is used inside and the level
    of Linux support available. You may find that some USB Wi-Fi dongles will work
    without installing additional drivers (in which case you can jump to configuring
    it for the wireless network).
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
- en: A list of supported Wi-Fi adapters is available at [http://elinux.org/RPi_USB_Wi-Fi_Adapters](http://elinux.org/RPi_USB_Wi-Fi_Adapters).
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
- en: You will need to ensure that your Wi-Fi adapter is also compatible with your
    intended network; for example, it supports the same types of signals **802.11bgn**
    and the encryptions **WEP**, **WPA**, and **WPA2** (although most networks are
    backward compatible).
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
- en: 'You will also need the following details of your network:'
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
- en: '**Service set identifier (SSID)**: This is the name of your Wi-Fi network and
    should be visible if you use the following command:'
  id: totrans-457
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE31]'
  id: totrans-458
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: '**Encryption type and key**: This value will be None, WEP, WPA, or WPA2, and
    the key will be the code you normally enter when you connect your phone or laptop
    to the wireless network (sometimes, it is printed on the router).'
  id: totrans-459
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'You will require a working internet connection (that is, wired Ethernet) to
    download the required drivers. Otherwise, you may be able to locate the required
    firmware files (they will be the `.deb` files) and copy them to Raspberry Pi (that
    is, via a USB flash drive; the drive should be automatically mounted if you are
    running in desktop mode). Copy the file to a suitable location and install it,
    using the following command:'
  id: totrans-460
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE32]'
  id: totrans-461
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: How to do it...
  id: totrans-462
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'This task has two stages: first, we identify and install firmware for the Wi-Fi
    adapter, and then we need to configure it for the wireless network.'
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
- en: We will try to identify the chipset of your Wi-Fi adapter (the part that handles
    the connection); this may not match the actual manufacturer of the device.
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
- en: 'An approximate list of supported firmware can be found with this command:'
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE33]'
  id: totrans-466
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'This will produce results similar to the following output (disregarding any
    results without `firmware` in the package title):'
  id: totrans-467
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE34]'
  id: totrans-468
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'To find out the chipset of your wireless adapter, plug the Wi-Fi-adapter into
    Raspberry Pi, and from the terminal, run the following command:'
  id: totrans-469
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE35]'
  id: totrans-470
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: This command stitches together two commands into one. First, `dmesg` displays
    the message buffer of the kernel (this is an internal record of system events
    that have occurred since power on, such as detected USB devices). You can try
    the command on its own to observe the complete output.
  id: totrans-471
  prefs: []
  type: TYPE_NORMAL
- en: The `|` (pipe) sends the output to the `grep` command; `grep 'Product:|Manufacturer'`
    checks it and only returns lines that contain `Product` or `Manufacturer` (so
    we should get a summary of any items that are listed as `Product` and `Manufacturer`).
    If you don't find anything or want to see all your USB devices, try the `grep
    'usb'` command instead.
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
- en: 'This should return something similar to the following output—in this case,
    I''ve got a `ZyXEL` device, which has a `ZyDAS` chipset (a quick Google search
    reveals that `zd1211-firmware` is for `ZyDAS` devices):'
  id: totrans-473
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE36]'
  id: totrans-474
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'Once you have identified your device and the correct firmware, you can install
    it as you would any other package available through `apt-get` (where `zd1211-firmware`
    can be replaced with your required firmware). This is shown in the following command:'
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE37]'
  id: totrans-476
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'Remove and reinsert the USB Wi-Fi dongle to allow it to be detected and the
    drivers loaded. We can now test whether the new adapter is correctly installed
    with `ifconfig`. The output is shown as follows:'
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE38]'
  id: totrans-478
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: The command will show the network adapters present on the system. For Wi-Fi,
    this is usually `wlan0` or `wlan1` and so on if you have installed more than one.
    If not, double-check the selected firmware and perhaps try an alternative or check
    on the site for troubleshooting tips.
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
- en: 'Once we have the firmware installed for the Wi-Fi adapter, we will need to
    configure it for the network we wish to connect to. We can use the GUI as shown
    in the previous recipe, or we can manually configure it through the Terminal,
    as shown in the following steps:'
  id: totrans-480
  prefs: []
  type: TYPE_NORMAL
- en: 'We will need to add the wireless adapter to the list of network interfaces,
    which is set in `/etc/network/interfaces`, as follows:'
  id: totrans-481
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE39]'
  id: totrans-482
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'Using the previous `wlan#` value in place of `wlan0` if required, add the following
    command:'
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE40]'
  id: totrans-484
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: When the changes have been made, save and exit by pressing *Ctrl* + *X*, *Y*,
    and *Enter*.
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
- en: 'We will now store the Wi-Fi network settings of our network in the `wpa_supplicant.conf`
    file (don''t worry if your network doesn''t use the `wpa` encryption; it is just
    the default name for the file):'
  id: totrans-486
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE41]'
  id: totrans-487
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'It should include the following:'
  id: totrans-488
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE42]'
  id: totrans-489
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'The network settings can be written within this file as follows (that is, if
    the SSID is set as `theSSID`):'
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
- en: 'If no encryption is used, use this code:'
  id: totrans-491
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE43]'
  id: totrans-492
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'With the `WEP` encryption (that is, if the `WEP` key is set as `theWEPkey`),
    use the following code:'
  id: totrans-493
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE44]'
  id: totrans-494
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'For the `WPA` or `WPA2` encryption (that is, if the `WPA` key is set as `theWPAkey`),
    use the following code:'
  id: totrans-495
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE45]'
  id: totrans-496
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'You can enable the adapter with the following command (again, replace `wlan0`
    if required):'
  id: totrans-497
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE46]'
  id: totrans-498
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'Use the following command to list the wireless network connections:'
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE47]'
  id: totrans-500
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'You should see your wireless network connected with your SSID listed, as follows:'
  id: totrans-501
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE48]'
  id: totrans-502
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: If not, adjust your settings and use `sudo ifdown wlan0` to switch off the network
    interface, and then `sudo ifup wlan0` to switch it back on. This will confirm
    that you have successfully connected to your Wi-Fi network.
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
- en: Finally, we will need to check whether we have access to the internet. Here,
    we have assumed that the network is automatically configured with DHCP and no
    proxy server is used. If not, refer to the *Connecting to the internet through
    a proxy server* recipe.
  id: totrans-504
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Unplug the wired network cable, if still connected, and see whether you can
    ping the Raspberry Pi website, as follows:'
  id: totrans-505
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE49]'
  id: totrans-506
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: If you want to quickly know the IP address currently in use by Raspberry Pi,
    you can use `hostname -I`, or to find out which adapter is connected to which
    IP address, use `ifconfig`.
  id: totrans-507
  prefs: []
  type: TYPE_NORMAL
- en: There's more...
  id: totrans-508
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The Model A version of Raspberry Pi does not have a built-in network port, so
    to get a network connection, a USB network adapter will have to be added (either
    a Wi-Fi dongle, as explained in the preceding section, or a LAN-to-USB adapter,
    as described in the following section).
  id: totrans-509
  prefs: []
  type: TYPE_NORMAL
- en: Using USB wired network adapters
  id: totrans-510
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Just like USB Wi-Fi, the adapter support will depend on the chipset used and
    the drivers available. Unless the device comes with Linux drivers, you may have
    to search the internet to obtain the suitable Debian Linux drivers.
  id: totrans-511
  prefs: []
  type: TYPE_NORMAL
- en: 'If you find a suitable `.deb` file, you can install it with the following command:'
  id: totrans-512
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE50]'
  id: totrans-513
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: Also, check using `ifconfig`, as some devices will be supported automatically,
    appear as `eth1` (or `eth0` on Model A), and be ready for use immediately.
  id: totrans-514
  prefs: []
  type: TYPE_NORMAL
- en: Connecting to the internet through a proxy server
  id: totrans-515
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Some networks, such as ones within workplaces or schools, often require you
    to connect to the internet through a proxy server.
  id: totrans-516
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-517
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You will need the address of the proxy server you are trying to connect to,
    including the username and password, if one is required.
  id: totrans-518
  prefs: []
  type: TYPE_NORMAL
- en: You should confirm that Raspberry Pi is already connected to the network and
    that you can access the proxy server.
  id: totrans-519
  prefs: []
  type: TYPE_NORMAL
- en: 'Use the `ping` command to check this, as follows:'
  id: totrans-520
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE51]'
  id: totrans-521
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: If this fails (you get no responses), you will need to ensure your network settings
    are correct before continuing.
  id: totrans-522
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  id: totrans-523
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Create a new file using `nano` as follows (if there is already some content
    in the file, you can add the code at the end):'
  id: totrans-524
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE52]'
  id: totrans-525
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'To allow basic web browsing through programs such as **Midori** while using
    a proxy server, you can use the following script:'
  id: totrans-526
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE53]'
  id: totrans-527
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: Once done, save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter.*
  id: totrans-528
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The script is added to the user's own `.bash_profile` file, which is run when
    that particular user logs in. This will ensure that the proxy settings are kept
    separately for each user. If you want all users to use the same settings, you
    can add the code to `/etc/rc.local` instead (this file must have `exit 0` at the
    end).
  id: totrans-529
  prefs: []
  type: TYPE_NORMAL
- en: How it works...
  id: totrans-530
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Many programs that make use of the internet will check for the `http_proxy`
    or `HTTP_PROXY` environment variables before connecting. If they are present,
    they will use the proxy settings to connect through. Some programs may also use
    the `HTTPS` and `FTP` protocols, so we can set the proxy setting for them here
    too.
  id: totrans-531
  prefs: []
  type: TYPE_NORMAL
- en: If a username is required for the proxy server, a password will be prompted
    for. It is generally not recommended to store your passwords inside scripts unless
    you are confident that no one else will have access to your device (either physically
    or through the internet).
  id: totrans-532
  prefs: []
  type: TYPE_NORMAL
- en: The last part allows any programs that execute using the `sudo` command to use
    the proxy
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
- en: environment variables while acting as the super user (most programs will try
    accessing
  id: totrans-534
  prefs: []
  type: TYPE_NORMAL
- en: the network using normal privileges first, even if running as a super user,
    so it isn't
  id: totrans-535
  prefs: []
  type: TYPE_NORMAL
- en: always needed).
  id: totrans-536
  prefs: []
  type: TYPE_NORMAL
- en: There's more...
  id: totrans-537
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We also need to allow the proxy settings to be used by some programs, which
    use superuser permissions while accessing the network (this will depend on the
    program; most don''t need this). We need to add the commands into a file stored
    in `/etc/sudoers.d/` by performing the following steps:'
  id: totrans-538
  prefs: []
  type: TYPE_NORMAL
- en: 'Use the following command to open a new `sudoer` file:'
  id: totrans-539
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE54]'
  id: totrans-540
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'Enter the following text in the file (on a single line):'
  id: totrans-541
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE55]'
  id: totrans-542
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: Once done, save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter;* don't change
    the `proxy.tmp` filename (this is normal for `visudo`; it will change it to proxy
    when finished).
  id: totrans-543
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If prompted `What now?`, there is an error in the command. Press *X* to exit
    without saving and retype the command.
  id: totrans-544
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'After a reboot (using `sudo reboot`), you will be able to use the following
    commands to enable and disable the proxy respectively:'
  id: totrans-545
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE56]'
  id: totrans-546
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: It is important to use `visudo` here, as it ensures the permissions of the file
    are created correctly for the `sudoers` directory (read only by the `root` user).
  id: totrans-547
  prefs: []
  type: TYPE_NORMAL
- en: Connecting remotely to Raspberry Pi over the network using VNC
  id: totrans-548
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Often, it is preferable to remotely connect to and control Raspberry Pi across
    the network, for instance, using a laptop or desktop computer as a screen and
    keyboard, or while Raspberry Pi is connected elsewhere, perhaps even connected
    to some hardware it needs to be close to.
  id: totrans-549
  prefs: []
  type: TYPE_NORMAL
- en: VNC is just one way in which you can remotely connect to Raspberry Pi. It will
    create a new desktop session that will be controlled and accessed remotely. The
    VNC session here is separate from the one that may be active on Raspberry Pi's
    display.
  id: totrans-550
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-551
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Ensure that your Raspberry Pi is powered up and connected to the internet. We
    will use the internet connection to install a program using `apt-get`. This is
    a program that allows us to find and install applications directly from the official
    repositories.
  id: totrans-552
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  id: totrans-553
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'First, we need to install the TightVNC server on Raspberry Pi with the following
    commands. It is advisable to run an `update` command first to get the latest version
    of the package you want to install, as follows:'
  id: totrans-554
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE57]'
  id: totrans-555
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'Accept the prompt to install and wait until it completes. To start a session,
    use the following command:'
  id: totrans-556
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE58]'
  id: totrans-557
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: The first time you run this, it will ask you to enter a password (of no more
    than eight characters) to access the desktop (you will use this when you connect
    from your computer).
  id: totrans-558
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The following message should confirm that a new desktop session has been started:'
  id: totrans-559
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE59]'
  id: totrans-560
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: If you do not already know the IP address of Raspberry Pi, use `hostname -I`
    and take note of it.
  id: totrans-561
  prefs: []
  type: TYPE_NORMAL
- en: Next, we need to run a VNC client. **VNC Viewer** is suitable program, which
    is available at [http://www.realvnc.com/](http://www.realvnc.com/) and should
    work on Windows, Linux, and OS X.
  id: totrans-562
  prefs: []
  type: TYPE_NORMAL
- en: When you run VNC Viewer, you will be prompted for the Server address and Encryption
    type. Use the IP address of your Raspberry Pi with `:1`. That is, for the IP address
    `192.168.1.69`, use the `192.168.1.69:1` address.
  id: totrans-563
  prefs: []
  type: TYPE_NORMAL
- en: You can leave the Encryption type as Off or Automatic.
  id: totrans-564
  prefs: []
  type: TYPE_NORMAL
- en: Depending on your network, you may be able to use the hostname; the default
    is `raspberrypi`, that is `raspberrypi:1`.
  id: totrans-565
  prefs: []
  type: TYPE_NORMAL
- en: You may have a warning about not having connected to the computer before or
    having no encryption. You should enable encryption if you are using a public network
    or if you are performing connections over the internet (to stop others from being
    able to intercept your data).
  id: totrans-566
  prefs: []
  type: TYPE_NORMAL
- en: There's more...
  id: totrans-567
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'You can add options to the command line to specify the resolution and also
    the color depth of the display. The higher the resolution and color depth (can
    be adjusted to use 8-bits to 32-bits per pixel to provide low or high color detail),
    the more data has to be transferred through the network link. If you find the
    refresh rate a little slow, try reducing these numbers as follows:'
  id: totrans-568
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE60]'
  id: totrans-569
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: To allow the VNC server to start automatically when you switch on, you can add
    the `vncserver` command to `.bash_profile` (this is executed each time Raspberry
    Pi starts).
  id: totrans-570
  prefs: []
  type: TYPE_NORMAL
- en: 'Use the `nano` editor as follows (the `-c` option allows the line numbers to
    be displayed):'
  id: totrans-571
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE61]'
  id: totrans-572
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'Add the following line to the end of the file:'
  id: totrans-573
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE62]'
  id: totrans-574
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: The next time you power up, you should be able to remotely connect using VNC
    from
  id: totrans-575
  prefs: []
  type: TYPE_NORMAL
- en: another computer.
  id: totrans-576
  prefs: []
  type: TYPE_NORMAL
- en: Connecting remotely to Raspberry Pi over the network using SSH (and X11 forwarding)
  id: totrans-577
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: An **Secure Shell** (**SSH**) is often the preferred method for making remote
    connections, as it allows only the Terminal connections and typically requires
    fewer resources.
  id: totrans-578
  prefs: []
  type: TYPE_NORMAL
- en: 'An extra feature of SSH is the ability to transfer the **X11** data to an **X
    Windows** server running on your machine. This allows you to start programs that
    would normally run on Raspberry Pi desktop, and they will appear in their own
    Windows on the local computer, as follows:'
  id: totrans-579
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/4c231427-6573-4023-8f6c-0f06e6d8631b.png)'
  id: totrans-580
  prefs: []
  type: TYPE_IMG
- en: X11 forwarding on a local display
  id: totrans-581
  prefs: []
  type: TYPE_NORMAL
- en: X11 forwarding can be used to display applications which are running on Raspberry
    Pi on a Windows computer.
  id: totrans-582
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-583
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If you are running the latest version of Raspbian, SSH, and X11 forwarding will
    be enabled by default (otherwise, double-check the settings explained in the *How
    it works...* section).
  id: totrans-584
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  id: totrans-585
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Linux and OS X have built-in support for X11 forwarding, but if you are using
    Windows, you will need to install and run the X Windows server on your computer.
  id: totrans-586
  prefs: []
  type: TYPE_NORMAL
- en: Download and run `xming` from the **Xming** site ([http://sourceforge.net/projects/xming/](http://sourceforge.net/projects/xming/)).
  id: totrans-587
  prefs: []
  type: TYPE_NORMAL
- en: Install `xming`, following the installation steps, including the installation
    of **PuTTY** if you don't have it already. You can also download PuTTY separately
    from [http://www.putty.org/](http://www.putty.org/).
  id: totrans-588
  prefs: []
  type: TYPE_NORMAL
- en: Next, we need to ensure that the SSH program we use has X11 enabled when we
    connect.
  id: totrans-589
  prefs: []
  type: TYPE_NORMAL
- en: For Windows, we shall use PuTTY to connect to Raspberry Pi.
  id: totrans-590
  prefs: []
  type: TYPE_NORMAL
- en: 'In the PuTTY Configuration dialog box, navigate to Connection | SSH | X11 and
    tick the checkbox for Enable X11 forwarding. If you leave the X display location
    option blank, it will assume the default `Server 0:0` as follows (you can confirm
    the server number by moving your mouse over the Xming icon in the system tray
    when it is running):'
  id: totrans-591
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/0ded537c-c55b-4e78-8baa-30c73a321b3f.jpg)'
  id: totrans-592
  prefs: []
  type: TYPE_IMG
- en: Enabling X11 forwarding within the PuTTY configuration
  id: totrans-593
  prefs: []
  type: TYPE_NORMAL
- en: Enter the IP address of Raspberry Pi in the Session settings (you may also find
    that you can use Raspberry Pi's hostname here instead; the default hostname is
    `raspberrypi`).
  id: totrans-594
  prefs: []
  type: TYPE_NORMAL
- en: Save the setting using a suitable name, `RaspberryPi`, and click on Open to
    connect to your Raspberry Pi.
  id: totrans-595
  prefs: []
  type: TYPE_NORMAL
- en: 'You are likely to see a warning message pop up stating you haven''t connected
    to the computer before (this allows you to check whether you have everything right
    before continuing):'
  id: totrans-596
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/1d7048eb-d422-48a9-b276-4d6cf6c03eb5.jpg)'
  id: totrans-597
  prefs: []
  type: TYPE_IMG
- en: Opening an SSH connection to Raspberry Pi using PuTTY
  id: totrans-598
  prefs: []
  type: TYPE_NORMAL
- en: For OS X or Linux, click on Terminal to open a connection to Raspberry Pi.
  id: totrans-599
  prefs: []
  type: TYPE_NORMAL
- en: 'To connect with the default `pi` username, with an IP address of `192.168.1.69`,
    use the following command; the `-X` option enables X11 forwarding:'
  id: totrans-600
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE63]'
  id: totrans-601
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: All being well, you should be greeted with a prompt for your password (remember
    the default value for the `pi` user is `raspberry`).
  id: totrans-602
  prefs: []
  type: TYPE_NORMAL
- en: Ensure that you have Xming running by starting the Xming program from your computer's
    Start menu. Then, in the Terminal window, type a program that normally runs within
    Raspberry Pi desktop, such as `leafpad` or `scratch`. Wait a little while and
    the program should appear on your computer's desktop (if you get an error, you
    have probably forgotten to start Xming, so run it and try again).
  id: totrans-603
  prefs: []
  type: TYPE_NORMAL
- en: How it works...
  id: totrans-604
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: X Windows and X11 is what provides the method by which Raspberry Pi (and many
    other Linux-based computers) can display and control graphical Windows as part
    of a desktop.
  id: totrans-605
  prefs: []
  type: TYPE_NORMAL
- en: 'For X11 forwarding to work over a network connection, we need both SSH and
    X11 forwarding enabled on Raspberry Pi. Perform the following steps:'
  id: totrans-606
  prefs: []
  type: TYPE_NORMAL
- en: To switch on (or off) SSH, you can access Raspberry Pi Configuration
  id: totrans-607
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'program under the Preferences menu on the Desktop and click on SSH within the
    Interfaces tab, as shown in the following screenshot (SSH is often enabled by
    default for most distributions to help allow remote connections without needing
    a monitor to configure it):'
  id: totrans-608
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![](img/43c715d3-2574-44d7-8f2e-b670d33f38b0.png)'
  id: totrans-609
  prefs: []
  type: TYPE_IMG
- en: The advanced settings menu in the raspi-config tool
  id: totrans-610
  prefs: []
  type: TYPE_NORMAL
- en: Ensure that X11 forwarding is enabled on Raspberry Pi (again, most distributions
    now have this enabled by default).
  id: totrans-611
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Use `nano` with the following command:'
  id: totrans-612
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE64]'
  id: totrans-613
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'Look for a line in the `/etc/ssh/sshd_config` file that controls X11 forwarding
    and ensure that it says `yes` (with no `#` sign before it), as follows:'
  id: totrans-614
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE65]'
  id: totrans-615
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'Save if required by pressing *Ctrl* + *X*, *Y*, and *Enter* and reboot (if
    you need to change it) as follows:'
  id: totrans-616
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE66]'
  id: totrans-617
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: There's more...
  id: totrans-618
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: SSH and X11 forwarding is a convenient way to control Raspberry Pi remotely;
    we will explore some additional tips on how to use it effectively in the following
    sections.
  id: totrans-619
  prefs: []
  type: TYPE_NORMAL
- en: Running multiple programs with X11 forwarding
  id: totrans-620
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'If you want to run an **X program**, but still be able to use the same Terminal
    console for other stuff, you can run the command in the background with `&` as
    follows:'
  id: totrans-621
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE67]'
  id: totrans-622
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: Just remember that the more programs you run, the slower everything will get.
    You can switch to the background program by typing `fg` and check for background
    tasks with `bg`.
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
- en: Running as a desktop with X11 forwarding
  id: totrans-624
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can even run a complete desktop session through X11, although it isn't particularly
  id: totrans-625
  prefs: []
  type: TYPE_NORMAL
- en: user friendly and VNC will produce better results. To achieve this, you have
    to use `lxsession` instead of `startx` (in the way you would normally start the
    desktop from the Terminal).
  id: totrans-626
  prefs: []
  type: TYPE_NORMAL
- en: An alternative is to use `lxpanel`, which provides the program menu bar from
    which you can start and run programs from the menu as you would on the desktop.
  id: totrans-627
  prefs: []
  type: TYPE_NORMAL
- en: Running Pygame and Tkinter with X11 forwarding
  id: totrans-628
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'You can get the following error (or similar) when running the **Pygame** or
    **Tkinter** scripts:'
  id: totrans-629
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE68]'
  id: totrans-630
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'In this case, use the following command to fix the error:'
  id: totrans-631
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE69]'
  id: totrans-632
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: Sharing the home folder of Raspberry Pi with SMB
  id: totrans-633
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: When you have Raspberry Pi connected to your network, you can access the home
    folder by setting up file sharing; this makes it much easier to transfer files
    and provides a quick and easy way to back up your data. **Server Message Block**
    (**SMB**) is a protocol that is compatible with Windows file sharing, OS X, and
    Linux.
  id: totrans-634
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-635
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Ensure that you have Raspberry Pi powered and running with a working connection
    to the internet.
  id: totrans-636
  prefs: []
  type: TYPE_NORMAL
- en: You will also need another computer on the same local network to test the new
    share.
  id: totrans-637
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  id: totrans-638
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'First, we need to install `samba`, a piece of software that handles folder
    sharing in a format that is compatible with Windows sharing methods:'
  id: totrans-639
  prefs: []
  type: TYPE_NORMAL
- en: 'Ensure that you use `update` as follows to obtain the latest list of available
    packages:'
  id: totrans-640
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE70]'
  id: totrans-641
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: The install will require around 20 MB of space and take a few minutes.
  id: totrans-642
  prefs: []
  type: TYPE_NORMAL
- en: 'Once the installation has completed, we can make a copy of the configuration
    file as follows to allow us to restore defaults if needed:'
  id: totrans-643
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE71]'
  id: totrans-644
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: Scroll down and find the section named `Authentication`; change the `# security
    = user` line to `security = user`.
  id: totrans-645
  prefs: []
  type: TYPE_NORMAL
- en: As described in the file, this setting ensures that you have to enter your username
    and password for Raspberry Pi in order to access the files (this is important
    for shared networks).
  id: totrans-646
  prefs: []
  type: TYPE_NORMAL
- en: Find the section called `Share Definitions` and `[homes]`, and change the `read
    only = yes` line to `read only = no`.
  id: totrans-647
  prefs: []
  type: TYPE_NORMAL
- en: This will allow us to view and also write files to the shared home folder. Once
    done, save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter.*
  id: totrans-648
  prefs: []
  type: TYPE_NORMAL
- en: If you have changed the default user from `pi` to something else, substitute
    it in the following instructions.
  id: totrans-649
  prefs: []
  type: TYPE_NORMAL
- en: 'Now, we can add `pi` (the default user) to use `samba`:'
  id: totrans-650
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE72]'
  id: totrans-651
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: 'Now, enter a password (you can use the same password as your login or select
    a different one, but avoid using the default Raspberry password, which would be
    very easy for someone to guess). Restart `samba` to use the new configuration
    file, as follows:'
  id: totrans-652
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE73]'
  id: totrans-653
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: 'To test, you will need to know either Raspberry Pi''s `hostname` (the default
    `hostname` is `raspberrypi`) or its IP address. You can find both of these with
    the following command:'
  id: totrans-654
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE74]'
  id: totrans-655
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 'For the IP address, add `-I`:'
  id: totrans-656
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE75]'
  id: totrans-657
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: On another computer on the network, enter the `\raspberrypipi` address in the
  id: totrans-658
  prefs: []
  type: TYPE_NORMAL
- en: explorer path.
  id: totrans-659
  prefs: []
  type: TYPE_NORMAL
- en: Depending on your network, the computer should locate Raspberry Pi on the network
    and prompt for a username and password. If it can't find the share using the `hostname`,
    you can use the IP address directly, where `192.168.1.69` should be changed to
    match the IP address `\192.168.1.69pi`.
  id: totrans-660
  prefs: []
  type: TYPE_NORMAL
- en: Keeping Raspberry Pi up to date
  id: totrans-661
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The Linux image used by Raspberry Pi is often updated to include enhancements,
    fixes, and improvements to the system, as well as adding support for new hardware
    or changes made to the latest board. Many of the packages that you install can
    be updated too.
  id: totrans-662
  prefs: []
  type: TYPE_NORMAL
- en: This is particularly important if you plan on using the same system image on
    another Raspberry Pi board (particularly a newer one), as older images will lack
    support for any wiring changes or alternative RAM chips. New firmware should work
    on older Raspberry Pi boards, but older firmware may not be compatible with the
    latest hardware.
  id: totrans-663
  prefs: []
  type: TYPE_NORMAL
- en: Fortunately, you need not reflash your SD card every time there is a new release,
    since you can update it instead.
  id: totrans-664
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-665
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You will need to be connected to the internet to update your system. It is always
    advisable to make a backup of your image first (and at a minimum, make a copy
    of your important files).
  id: totrans-666
  prefs: []
  type: TYPE_NORMAL
- en: 'You can check your current version of firmware with the `uname -a` command,
    as follows:'
  id: totrans-667
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE76]'
  id: totrans-668
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: 'The GPU firmware can be checked using the `/opt/vc/bin/vcgencmd version` command,
    as follows:'
  id: totrans-669
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE77]'
  id: totrans-670
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: This is important if you are using an older version of firmware (pre-November
    2012) on a newer board, since the original Model B board was only 254 MB RAM.
    Upgrading allows the firmware to make use of the extra memory if available.
  id: totrans-671
  prefs: []
  type: TYPE_NORMAL
- en: 'The `free -h` command will detail the RAM available to the main processor (the
    total RAM is split between the GPU and ARM cores) and will give the following
    output:'
  id: totrans-672
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE78]'
  id: totrans-673
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: You can then recheck the preceding output following a reboot to confirm that
    they have been updated (although they may have already been the latest).
  id: totrans-674
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  id: totrans-675
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Before running any upgrades or installing any packages, it is worth ensuring
    you have the latest list of packages in the repository. The `update` command gets
    the latest list of available software and versions:'
  id: totrans-676
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE79]'
  id: totrans-677
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: 'If you just want to obtain an upgrade of your current packages, `upgrade` will
    bring them all up to date:'
  id: totrans-678
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE80]'
  id: totrans-679
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: 'To ensure that you are running the latest release of Raspbian, you can run
    `dist-upgrade` (be warned: this can take an hour or so depending on the amount
    that needs to be upgraded). This will perform all the updates that `upgrade` will
    perform but will also remove redundant packages and clean up:'
  id: totrans-680
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE81]'
  id: totrans-681
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: Both methods will upgrade the software, including the firmware used at boot
    and startup (`bootcode.bin` and `start.elf`).
  id: totrans-682
  prefs: []
  type: TYPE_NORMAL
- en: 'To update the firmware, the following command can be used:'
  id: totrans-683
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE82]'
  id: totrans-684
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: There's more...
  id: totrans-685
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'You will often find that you will want to perform a clean installation of your
    setup, however, this will mean you will have to install everything from scratch.
    To avoid this, I developed the Pi-Kitchen project ([https://github.com/PiHw/Pi-Kitchen](https://github.com/PiHw/Pi-Kitchen)),
    based on the groundwork of *Kevin Hill*. This aims to provide a flexible platform
    for creating customized setups that can be automatically deployed to an SD card:'
  id: totrans-686
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/79524f97-5421-4f40-b496-13b24f9aceea.png)'
  id: totrans-687
  prefs: []
  type: TYPE_IMG
- en: Pi Kitchen allows Raspberry Pi to be configured before powering up
  id: totrans-688
  prefs: []
  type: TYPE_NORMAL
- en: The Pi-Kitchen allows a range of flavors to be configured, which can be selected
    from the NOOBS menu. Each flavor consists of a list of recipes, each providing
    a specific function or feature to the final operating system. Recipes can range
    from setting up custom drivers for Wi-Fi devices, to mapping shared drives on
    your network, to providing a fully functional web server out of the box, all combining
    to make your required setup.
  id: totrans-689
  prefs: []
  type: TYPE_NORMAL
- en: This project is in beta, developed as a proof of concept, but once you have
    everything configured, it can be incredibly useful to deploy fully working setups
    directly onto an SD card. Ultimately, the project could be combined with Kevin
    Hill's advanced version of NOOBS, called **PINN Is Not NOOBS** (**PINN**), which
    aims to allow extra features for advanced users, such as allowing operating systems
    and configurations to be stored on your network or on an external USB memory stick.
  id: totrans-690
  prefs: []
  type: TYPE_NORMAL
