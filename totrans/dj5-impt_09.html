<html><head></head><body>
		<div><h1 id="_idParaDest-159" class="chapter-number"><a id="_idTextAnchor165"/><st c="0">9</st></h1>
			<h1 id="_idParaDest-160"><a id="_idTextAnchor166"/><st c="2">Letting Users Create, Read, Update, and Delete  Movie Reviews</st></h1>
			<p><st c="62">Having implemented the authentication system, it is now time to let logged-in users perform the standard CRUD operations on reviews for movies. </st><st c="207">This chapter will teach you how to perform complete CRUD operations and how to </st><st c="286">manage authorizations.</st></p>
			<p><st c="308">In this chapter, we will cover the </st><st c="344">following topics:</st></p>
			<ul>
				<li><st c="361">Creating a </st><st c="373">review model</st></li>
				<li><st c="385">Creating reviews</st></li>
				<li><st c="402">Reading reviews</st></li>
				<li><st c="418">Updating </st><st c="428">a review</st></li>
				<li><st c="436">Deleting </st><st c="446">a review</st></li>
			</ul>
			<p><st c="454">By the end of the chapter, you will have learned how to create CRUD operations for your models and handle authorizations. </st><st c="577">You will also recap how to use forms and how to manage different </st><st c="642">HTTP methods.</st></p>
			<h1 id="_idParaDest-161"><a id="_idTextAnchor167"/><st c="655">Technical requirements</st></h1>
			<p><st c="678">In this chapter, we will be using Python 3.10 or above. </st><st c="735">Additionally, we will be using the </st><strong class="bold"><st c="770">VS Code</st></strong><st c="777"> editor in this book, which you can download </st><st c="822">from </st><a href="https://code.visualstudio.com/"><st c="827">https://code.visualstudio.com/</st></a><st c="857">.</st></p>
			<p><st c="858">The code for this chapter is located </st><st c="896">at </st><a href="https://github.com/PacktPublishing/Django-5-for-the-Impatient-Second-Edition/tree/main/Chapter09/moviesstore"><st c="899">https://github.com/PacktPublishing/Django-5-for-the-Impatient-Second-Edition/tree/main/Chapter09/moviesstore</st></a><st c="1007">.</st></p>
			<p><st c="1008">The CiA video for this chapter can be found </st><st c="1053">at </st><a href="https://packt.link/dsqdR"><st c="1056">https://packt.link/dsqdR</st></a></p>
			<h1 id="_idParaDest-162"><a id="_idTextAnchor168"/><st c="1080">Creating a review model</st></h1>
			<p><st c="1104">To store the movies’ review </st><a id="_idIndexMarker292"/><st c="1133">information, we need to create a review Django model and follow the </st><st c="1201">next steps:</st></p>
			<ol>
				<li><st c="1212">Create the </st><st c="1224">review model.</st></li>
				<li><st c="1237">Apply migrations.</st></li>
				<li><st c="1255">Add the review model to the </st><st c="1284">admin panel.</st></li>
			</ol>
			<h2 id="_idParaDest-163"><a id="_idTextAnchor169"/><st c="1296">Create the review model</st></h2>
			<p><st c="1320">The review information is closely connected to movies. </st><st c="1376">Therefore, we will include this model in the </st><code><st c="1421">movies</st></code><st c="1427"> app. </st><st c="1433">In the </st><code><st c="1440">/movies/models.py</st></code><st c="1457"> file, add the following parts that are highlighted </st><st c="1509">in bold:</st></p>
			<pre class="source-code"><st c="1517">
from django.db import models
</st><strong class="bold"><st c="1547">from django.contrib.auth.models import User</st></strong><st c="1590">
class Movie(models.Model):
    …
</st><strong class="bold"><st c="1620">class Review(models.Model):</st></strong>
<strong class="bold"><st c="1647">    id = models.AutoField(primary_key=True)</st></strong>
<strong class="bold"><st c="1687">    comment = models.CharField(max_length=255)</st></strong>
<strong class="bold"><st c="1730">    date = models.DateTimeField(auto_now_add=True)</st></strong>
<strong class="bold"><st c="1777">    movie = models.ForeignKey(Movie,</st></strong>
<strong class="bold"><st c="1810">        on_delete=models.CASCADE)</st></strong>
<strong class="bold"><st c="1836">    user = models.ForeignKey(User,</st></strong>
<strong class="bold"/><strong class="bold"><st c="1867">on_delete=models.CASCADE)</st></strong>
<strong class="bold"><st c="1893">    def __str__(self):</st></strong>
<strong class="bold"><st c="1912">        return str(self.id) + ' - ' + self.movie.name</st></strong></pre>			<p><st c="1958">Let’s explain the </st><st c="1977">preceding code:</st></p>
			<ul>
				<li><st c="1992">We import the </st><code><st c="2007">User</st></code><st c="2011"> model from Django’s </st><code><st c="2032">django.contrib.auth.models</st></code><st c="2058"> module.</st></li>
				<li><st c="2066">We define a Python class named </st><code><st c="2098">Review</st></code><st c="2104">, which inherits from </st><code><st c="2126">models.Model</st></code><st c="2138">. This means that </st><code><st c="2156">Review</st></code><st c="2162"> is a Django </st><st c="2175">model class.</st></li>
				<li><st c="2187">Inside the </st><code><st c="2199">Review</st></code><st c="2205"> class, we define </st><st c="2223">several fields:</st><ul><li><code><st c="2238">id</st></code><st c="2241"> is an </st><code><st c="2248">AutoField</st></code><st c="2257">, which automatically increments its value for each new record added to the database. </st><st c="2343">The </st><code><st c="2347">primary_key=True</st></code><st c="2363"> parameter specifies that this field is</st><a id="_idIndexMarker293"/><st c="2402"> the primary key for the table, uniquely identifying </st><st c="2455">each record.</st></li><li><code><st c="2467">comment</st></code><st c="2475"> is a </st><code><st c="2481">CharField</st></code><st c="2490">, which represents a string field with a maximum length of 255 characters. </st><st c="2565">It stores the movie </st><st c="2585">review text.</st></li><li><code><st c="2597">date</st></code><st c="2602"> is a </st><code><st c="2608">DateTimeField</st></code><st c="2621"> , which is used for date and time data. </st><st c="2661">The </st><code><st c="2665">auto_now_add=True</st></code><st c="2682"> ensures that the date and time are automatically set to the current date and time when the review </st><st c="2781">is created.</st></li><li><code><st c="2792">movie</st></code><st c="2798"> is a foreign key relationship to the </st><code><st c="2836">Movie</st></code><st c="2841"> model. </st><st c="2849">A review is associated with a movie. </st><st c="2886">The </st><code><st c="2890">on_delete</st></code><st c="2899"> parameter specifies how to handle the deletion of a movie that a review is associated with. </st><st c="2992">In this case, </st><code><st c="3006">on_delete=models.CASCADE</st></code><st c="3030"> means that if the related movie is deleted, the associated review will also </st><st c="3107">be deleted.</st></li><li><code><st c="3118">user</st></code><st c="3123"> is another foreign key relationship but to the </st><code><st c="3171">User</st></code><st c="3175"> model. </st><st c="3183">A review is associated with a user (the person who wrote the review). </st><st c="3253">Similar to the </st><code><st c="3268">movie</st></code><st c="3273"> attribute, </st><code><st c="3285">on_delete=models.CASCADE</st></code><st c="3309"> specifies that if the related user is deleted, the associated review will also </st><st c="3389">be deleted.</st></li></ul></li>
				<li><code><st c="3400">__str__</st></code><st c="3408"> is a method that returns a string representation of the review. </st><st c="3473">In this case, it returns a string that is composed of the review ID and the name of the movie associated with </st><st c="3583">the</st><a id="_idIndexMarker294"/><st c="3586"> review.</st></li>
			</ul>
			<h2 id="_idParaDest-164"><a id="_idTextAnchor170"/><st c="3594">Apply migrations</st></h2>
			<p><st c="3611">Now that we have created the </st><code><st c="3641">Review</st></code><st c="3647"> model, let’s apply those changes to our database by running the following </st><a id="_idIndexMarker295"/><st c="3722">commands according to your </st><st c="3749">operating system:</st></p>
			<ul>
				<li><st c="3766">For macOS, </st><st c="3778">run this:</st></li>
			</ul>
			<pre class="console"><st c="3787">
python3 manage.py makemigrations
python3 manage.py migrate</st></pre>			<ul>
				<li><st c="3846">For Windows, </st><st c="3860">run this:</st></li>
			</ul>
			<pre class="console"><st c="3869">
python manage.py makemigrations
python manage.py migrate</st></pre>			<p><st c="3926">Now, you should see something like in </st><em class="italic"><st c="3965">Figure 9</st></em><em class="italic"><st c="3973">.1</st></em><st c="3975">:</st></p>
			<div><div><img src="img/B22457_09_1.jpg" alt="Figure 9.1 – Applying the review migration"/><st c="3977"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="4052">Figure 9.1 – Applying the review migration</st></p>
			<h2 id="_idParaDest-165"><a id="_idTextAnchor171"/><st c="4094">Add the review model to the admin panel</st></h2>
			<p><st c="4134">To add the </st><a id="_idIndexMarker296"/><code><st c="4146">Review</st></code><st c="4152"> model to </st><code><st c="4162">admin</st></code><st c="4167">, go back to </st><code><st c="4180">/movies/admin.py</st></code><st c="4196"> and register it by adding the </st><a id="_idIndexMarker297"/><st c="4227">following parts that are highlighted </st><st c="4264">in bold:</st></p>
			<pre class="source-code"><st c="4272">
from django.contrib import admin
from .models import Movie</st><strong class="bold"><st c="4331">, Review</st></strong><st c="4339">
class MovieAdmin(admin.ModelAdmin):
    ordering = ['name']
    search_fields = ['name']
admin.site.register(Movie, MovieAdmin)
</st><code><st c="4561">/admin</st></code><st c="4567">. The review model will now show up (as shown in </st><em class="italic"><st c="4616">Figure 9</st></em><em class="italic"><st c="4624">.2</st></em><st c="4626">):</st></p>
			<div><div><img src="img/B22457_09_2.jpg" alt="Figure 9.2 – The admin page with reviews available"/><st c="4629"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="4812">Figure 9.2 – The admin page with reviews available</st></p>
			<p><st c="4862">Now that we have created and applied our </st><code><st c="4904">Review</st></code><st c="4910"> model, let’s create the functionality to </st><st c="4952">create reviews.</st></p>
			<h1 id="_idParaDest-166"><a id="_idTextAnchor172"/><st c="4967">Creating reviews</st></h1>
			<p><st c="4984">To allow users to</st><a id="_idIndexMarker299"/><st c="5002"> create reviews, we need to follow the </st><st c="5041">next steps:</st></p>
			<ol>
				<li><st c="5052">Update the </st><code><st c="5064">movies.show</st></code><st c="5075"> template.</st></li>
				<li><st c="5085">Define the </st><code><st c="5097">create_review</st></code><st c="5110"> function.</st></li>
				<li><st c="5120">Configure</st><a id="_idIndexMarker300"/><st c="5130"> the </st><code><st c="5135">create </st></code><code><st c="5142">review</st></code><st c="5148"> URL.</st></li>
			</ol>
			<h2 id="_idParaDest-167"><a id="_idTextAnchor173"/><st c="5153">Updating the movies.show template</st></h2>
			<p><st c="5187">We will include a form to</st><a id="_idIndexMarker301"/><st c="5213"> allow authenticated users to create reviews. </st><st c="5259">This form will be included in the </st><code><st c="5293">movies.show</st></code><st c="5304"> template. </st><st c="5315">In the </st><code><st c="5322">/movies/templates/movies/show.html</st></code><st c="5356"> file, add the following, as presented </st><st c="5395">in bold:</st></p>
			<pre class="source-code"><st c="5403">
        …
        &lt;p&gt;&lt;b&gt;Price:&lt;/b&gt; ${{ template_data.movie.price }}&lt;/p&gt;
        </st><strong class="bold"><st c="5459">{% if user.is_authenticated %}</st></strong>
<strong class="bold"><st c="5489">        &lt;div class="container mt-4"&gt;</st></strong>
<strong class="bold"><st c="5518">          &lt;div class="row justify-content-center"&gt;</st></strong>
<strong class="bold"><st c="5559">            &lt;div class="col-12"&gt;</st></strong>
<strong class="bold"><st c="5580">              &lt;div class="card shadow p-3 mb-4 rounded"&gt;</st></strong>
<strong class="bold"><st c="5623">                &lt;div class="card-body"&gt;</st></strong>
<strong class="bold"><st c="5647">                  &lt;b class="text-start"&gt;Create a review</st></strong>
<strong class="bold"/><strong class="bold"><st c="5685">&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;</st></strong>
<strong class="bold"><st c="5702">                  &lt;form method="POST" action=</st></strong>
<strong class="bold"><st c="5730">                    "{% url 'movies.create_review'</st></strong>
<strong class="bold"><st c="5761">                    id=template_data.movie.id %}"&gt;</st></strong>
<strong class="bold"><st c="5792">                    {% csrf_token %}</st></strong>
<strong class="bold"><st c="5809">                    &lt;p&gt;</st></strong>
<strong class="bold"><st c="5813">                      &lt;label for="comment"&gt;Comment:&lt;/label&gt;</st></strong>
<strong class="bold"><st c="5851">                      &lt;textarea name="comment" required</st></strong>
<strong class="bold"><st c="5885">                      class="form-control"</st></strong>
<strong class="bold"><st c="5906">                      id="comment"&gt;&lt;/textarea&gt;</st></strong>
<strong class="bold"/><strong class="bold"><st c="5931">&lt;/p&gt;</st></strong>
<strong class="bold"><st c="5936">                    &lt;div class="text-center"&gt;</st></strong>
<strong class="bold"><st c="5962">                      &lt;button type="submit"</st></strong>
<strong class="bold"><st c="5984">                        class="btn bg-dark text-white"&gt;</st></strong>
<strong class="bold"><st c="6016">                        Add Review</st></strong>
<strong class="bold"><st c="6027">                      &lt;/button&gt;</st></strong>
<strong class="bold"><st c="6037">                    &lt;/div&gt;</st></strong>
<strong class="bold"><st c="6044">                  &lt;/form&gt;</st></strong>
<strong class="bold"><st c="6052">                &lt;/div&gt;</st></strong>
<strong class="bold"><st c="6059">              &lt;/div&gt;</st></strong>
<strong class="bold"><st c="6066">            &lt;/div&gt;</st></strong>
<strong class="bold"><st c="6073">          &lt;/div&gt;</st></strong>
<strong class="bold"><st c="6080">        &lt;/div&gt;</st></strong>
<strong class="bold"><st c="6087">        {% endif %}</st></strong><st c="6099">
      &lt;/div&gt;
      &lt;div class="col-md-6 mx-auto mb-3 text-center"&gt;
        &lt;img src="img/{{ template_data.movie.image.url }}"
          class="rounded img-card-400" /&gt;
      &lt;/div&gt;
      …
{% endblock content %}</st></pre>			<p><st c="6264">Let’s explain the</st><a id="_idIndexMarker302"/> <st c="6282">preceding code:</st></p>
			<ul>
				<li><st c="6298">We use the </st><code><st c="6310">{% if user.is_authenticated %}</st></code><st c="6340"> DTL conditional statement that checks whether the user is authenticated (logged in). </st><st c="6426">If the user is authenticated, the block of HTML code within the </st><code><st c="6490">if</st></code><st c="6492"> statement will be rendered </st><st c="6520">and displayed.</st></li>
				<li><st c="6534">We create an HTML form with the </st><code><st c="6567">POST</st></code><st c="6571"> method and the </st><code><st c="6587">csrf_token</st></code><st c="6597"> token. </st><st c="6605">This form contains a single input named </st><code><st c="6645">comment</st></code><st c="6652">. This input stores the review text. </st><st c="6689">The form also contains a </st><st c="6714">submit button.</st></li>
				<li><st c="6728">The form is linked</st><a id="_idIndexMarker303"/><st c="6747"> to the </st><code><st c="6755">movies.create_review</st></code><st c="6775"> URL, and it also passes the movie ID to that URL. </st><st c="6826">The movie ID will be used to link the current comment with the movie that </st><st c="6900">it represents.</st></li>
			</ul>
			<h2 id="_idParaDest-168"><a id="_idTextAnchor174"/><st c="6914">Defining the create_review function</st></h2>
			<p><st c="6950">In </st><code><st c="6954">/movies/views.py</st></code><st c="6970">, add the following, as </st><a id="_idIndexMarker304"/><st c="6994">presented </st><st c="7004">in bold:</st></p>
			<pre class="source-code"><st c="7012">
from django.shortcuts import render</st><strong class="bold"><st c="7048">, redirect</st></strong><st c="7058">
from .models import Movie</st><strong class="bold"><st c="7084">, Review</st></strong>
<strong class="bold"><st c="7092">from django.contrib.auth.decorators import login_required</st></strong><st c="7150">
def index(request):
    …
def show(request):
    …
</st><strong class="bold"><st c="7194">@login_required</st></strong>
<strong class="bold"><st c="7209">def create_review(request, id):</st></strong>
<strong class="bold"><st c="7241">    if request.method == 'POST' and request.POST['comment']</st></strong>
<strong class="bold"/><strong class="bold"><st c="7297">!= '':</st></strong>
<strong class="bold"><st c="7303">        movie = Movie.objects.get(id=id)</st></strong>
<strong class="bold"><st c="7336">        review = Review()</st></strong>
<strong class="bold"><st c="7354">        review.comment = request.POST['comment']</st></strong>
<strong class="bold"><st c="7395">        review.movie = movie</st></strong>
<strong class="bold"><st c="7416">        review.user = request.user</st></strong>
<strong class="bold"><st c="7443">        review.save()</st></strong>
<strong class="bold"><st c="7457">        return redirect('movies.show', id=id)</st></strong>
<strong class="bold"><st c="7495">    else:</st></strong>
<strong class="bold"><st c="7501">        return redirect('movies.show', id=id)</st></strong></pre>			<p><st c="7539">Let’s explain the </st><st c="7558">preceding code:</st></p>
			<ul>
				<li><st c="7573">We import the </st><code><st c="7588">redirect</st></code><st c="7596"> function, which is </st><a id="_idIndexMarker305"/><st c="7616">used to redirect the user to a </st><st c="7647">different URL.</st></li>
				<li><st c="7661">We import the </st><code><st c="7676">Review</st></code><st c="7682"> model, which will be used to create </st><st c="7719">new reviews.</st></li>
				<li><st c="7731">We import </st><code><st c="7742">login_required</st></code><st c="7756">, which is used to verify that only logged users can access the </st><code><st c="7820">create_review</st></code><st c="7833"> function. </st><st c="7844">If a guest user attempts to access this function via the corresponding URL, they will be redirected to the </st><st c="7951">login page.</st></li>
				<li><st c="7962">We create the </st><code><st c="7977">create_review</st></code><st c="7990"> function that handles creating </st><st c="8022">a review.</st></li>
				<li><st c="8031">The </st><code><st c="8036">create_review</st></code><st c="8049"> takes two arguments: the </st><code><st c="8075">request</st></code><st c="8082"> that contains information about the HTTP request, and the </st><code><st c="8141">id</st></code><st c="8143">, which represents the ID of the movie for which a review is </st><st c="8204">being created.</st></li>
				<li><st c="8218">Then, we check whether the request method is </st><code><st c="8264">POST</st></code><st c="8268"> and the </st><code><st c="8277">comment</st></code><st c="8284"> field in the request’s </st><code><st c="8308">POST</st></code><st c="8312"> data is not empty. </st><st c="8332">If that is </st><code><st c="8343">TRUE</st></code><st c="8347">, the </st><st c="8353">following happens:</st></li>
				<li><st c="8371">We retrieve the movie using </st><code><st c="8400">Movie.objects.get(id=id)</st></code><st c="8424"> based on the </st><st c="8438">provided </st><code><st c="8447">id</st></code><st c="8449">.</st><ul><li><st c="8450">We create a new </st><code><st c="8467">Review</st></code><st c="8473"> object.</st></li><li><st c="8481">We set the review properties </st><st c="8511">as follows:</st><ul><li><st c="8522">We set the </st><code><st c="8534">comment</st></code><st c="8541"> based on the comments collected in </st><st c="8577">the form</st></li><li><st c="8585">We set the </st><code><st c="8597">movie</st></code><st c="8602">, based on the retrieved movie from </st><st c="8638">the database</st></li><li><st c="8650">We set the </st><code><st c="8662">user</st></code><st c="8666">, based on the </st><a id="_idIndexMarker306"/><st c="8681">authenticated user who submitted </st><st c="8714">the form.</st></li></ul></li><li><st c="8723">Finally, we save the review to the database and redirect the user to the movie </st><st c="8803">show page.</st></li></ul></li>
				<li><st c="8813">In the </st><code><st c="8821">else</st></code><st c="8825"> case, we redirect the user to the movie show page using the </st><code><st c="8886">redirect('movies.show', </st></code><code><st c="8910">id=id)</st></code><st c="8916"> code.</st></li>
			</ul>
			<h2 id="_idParaDest-169"><a id="_idTextAnchor175"/><st c="8922">Configuring the create review URL</st></h2>
			<p><st c="8956">In </st><code><st c="8960">/movies/urls.py</st></code><st c="8975">, add the next path as highlighted </st><st c="9010">in</st><a id="_idIndexMarker307"/><st c="9012"> bold:</st></p>
			<pre class="source-code"><st c="9018">
from django.urls import path
from . </st><st c="9055">import views
urlpatterns = [
    path('', views.index, name='movies.index'),
    path('&lt;int:id&gt;/', views.show, name='movies.show'),
    </st><strong class="bold"><st c="9179">path('&lt;int:id&gt;/review/create/', views.create_review,</st></strong>
<strong class="bold"><st c="9231">        name='movies.create_review'),</st></strong><st c="9261">
]</st></pre>			<p><st c="9263">Let’s analyze the new path. </st><st c="9291">The </st><code><st c="9295">&lt;int:id&gt;</st></code><st c="9303"> part indicates that this path expects an integer value to be passed from the URL and that the integer value will be associated with a variable named </st><code><st c="9453">id</st></code><st c="9455">. The </st><code><st c="9461">id</st></code><st c="9463"> variable will be used to identify to which movie the review that we want to create is linked. </st><st c="9558">For example, if the form is submitted to </st><code><st c="9599">movies/1/review/create</st></code><st c="9621">, it indicates that the new review will be associated with the movie </st><st c="9690">with </st><code><st c="9695">id</st></code><st c="9697">=</st><code><st c="9699">1</st></code><st c="9700">.</st></p>
			<p><st c="9701">Now save those files, run the </st><a id="_idIndexMarker308"/><st c="9732">server, and go to </st><code><st c="9750">http://localhost:8000/movies</st></code><st c="9778">. Click on a specific movie and you will see the form to create reviews (</st><em class="italic"><st c="9851">Figure 9</st></em><em class="italic"><st c="9860">.3</st></em><st c="9862">).</st></p>
			<div><div><img src="img/B22457_09_3.jpg" alt="Figure 9.3 – A movie page with the review form"/><st c="9865"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="10073">Figure 9.3 – A movie page with the review form</st></p>
			<p><st c="10119">Then, enter a comment and click </st><strong class="bold"><st c="10152">Add Review</st></strong><st c="10162">. A new review should be created, and you should be redirected to the movie show page. </st><st c="10249">Go to the admin panel, click </st><strong class="bold"><st c="10278">Reviews</st></strong><st c="10285">, and you will see the new review there (</st><em class="italic"><st c="10326">Figure 9</st></em><em class="italic"><st c="10335">.4</st></em><st c="10337">).</st></p>
			<div><div><img src="img/B22457_09_4.jpg" alt="Figure 9.4 – The reviews admin page"/><st c="10340"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="10478">Figure 9.4 – The reviews admin page</st></p>
			<p><st c="10513">Let’s now include a</st><a id="_idIndexMarker309"/><st c="10533"> functionality to read and list reviews from our </st><st c="10582">web application.</st></p>
			<h1 id="_idParaDest-170"><a id="_idTextAnchor176"/><st c="10598">Reading reviews</st></h1>
			<p><st c="10614">To be able to read and list reviews, we </st><a id="_idIndexMarker310"/><st c="10655">need to follow the steps </st><st c="10680">that follow:</st></p>
			<ol>
				<li><st c="10692">Update the </st><code><st c="10704">movies.show</st></code><st c="10715"> template.</st></li>
				<li><st c="10725">Update the </st><code><st c="10737">show</st></code><st c="10741"> function.</st></li>
			</ol>
			<h2 id="_idParaDest-171"><a id="_idTextAnchor177"/><st c="10751">Updating the movies.show template</st></h2>
			<p><st c="10785">We will list the</st><a id="_idIndexMarker311"/><st c="10802"> reviews in the </st><code><st c="10818">movies.show</st></code><st c="10829"> template. </st><st c="10840">In the </st><code><st c="10847">/movies/templates/movies/show.html</st></code><st c="10881"> file, add the following, as highlighted </st><st c="10922">in bold:</st></p>
			<pre class="source-code"><st c="10930">
        …
        &lt;p&gt;&lt;b&gt;Price:&lt;/b&gt; ${{ template_data.movie.price }}
          &lt;/p&gt;
        </st><strong class="bold"><st c="10987">&lt;h2&gt;Reviews&lt;/h2&gt;</st></strong>
<strong class="bold"><st c="11003">        &lt;hr /&gt;</st></strong>
<strong class="bold"><st c="11010">        &lt;ul class="list-group"&gt;</st></strong>
<strong class="bold"><st c="11034">          {% for review in template_data.reviews %}</st></strong>
<strong class="bold"><st c="11076">          &lt;li class="list-group-item pb-3 pt-3"&gt;</st></strong>
<strong class="bold"><st c="11115">            &lt;h5 class="card-title"&gt;</st></strong>
<strong class="bold"><st c="11139">              Review by {{ review.user.username }}</st></strong>
<strong class="bold"><st c="11176">            &lt;/h5&gt;</st></strong>
<strong class="bold"><st c="11182">            &lt;h6 class="card-subtitle mb-2 text-muted"&gt;</st></strong>
<strong class="bold"><st c="11225">              {{ review.date }}</st></strong>
<strong class="bold"><st c="11243">            &lt;/h6&gt;</st></strong>
<strong class="bold"><st c="11249">            &lt;p class="card-text"&gt;{{ review.comment }}&lt;/p&gt;</st></strong>
<strong class="bold"><st c="11295">          &lt;/li&gt;</st></strong>
<strong class="bold"><st c="11301">          {% endfor %}</st></strong>
<strong class="bold"><st c="11314">        &lt;/ul&gt;</st></strong><st c="11320">
        {% if user.is_authenticated %}
        …</st></pre>			<p><st c="11353">We have added a new section inside the template. </st><st c="11403">This section iterates through the </st><code><st c="11437">reviews</st></code><st c="11444"> and displays</st><a id="_idIndexMarker312"/><st c="11457"> the review </st><code><st c="11469">date</st></code><st c="11473"> and </st><code><st c="11478">comment</st></code><st c="11485">, as well as the username of the user who created </st><st c="11535">the review.</st></p>
			<h2 id="_idParaDest-172"><a id="_idTextAnchor178"/><st c="11546">Updating the show function</st></h2>
			<p><st c="11573">In </st><code><st c="11577">/movies/views.py</st></code><st c="11593">, add the following, as</st><a id="_idIndexMarker313"/><st c="11616"> highlighted </st><st c="11629">in bold:</st></p>
			<pre class="source-code"><st c="11637">
…
def show(request, id):
    movie =  Movie.objects.get(id=id)
    </st><strong class="bold"><st c="11695">reviews = Review.objects.filter(movie=movie)</st></strong><st c="11739">
    template_data = {}
    template_data['title'] = movie.name
    template_data['movie'] = movie
    </st><strong class="bold"><st c="11826">template_data['reviews'] = reviews</st></strong><st c="11860">
    return render(request, 'movies/show.html',
        {'template_data': template_data})
…</st></pre>			<p><st c="11939">Let’s explain the </st><st c="11958">preceding code.</st></p>
			<ul>
				<li><st c="11973">We retrieve all review objects that are associated with the movie that we are showing. </st><st c="12061">To do this, we use the </st><code><st c="12084">filter</st></code><st c="12090"> method to limit the query to reviews related to the </st><st c="12143">specific movie.</st></li>
				<li><st c="12158">We add those reviews to the </st><code><st c="12187">template_data</st></code><st c="12200"> dictionary, which is passed to the </st><code><st c="12236">movies/show.html</st></code><st c="12252"> template.</st></li>
			</ul>
			<p><st c="12262">Now, save those files, run the server, and go to </st><code><st c="12312">http://localhost:8000/movies</st></code><st c="12340">. Click on a specific movie that contains reviews and you will see the movie information, including its corresponding reviews (</st><em class="italic"><st c="12467">Figure 9</st></em><em class="italic"><st c="12476">.5</st></em><st c="12478">).</st></p>
			<div><div><img src="img/B22457_09_5.jpg" alt="Figure 9.5 – A movie page with reviews"/><st c="12481"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="12700">Figure 9.5 – A movie page with reviews</st></p>
			<p><st c="12738">Now, let’s move on</st><a id="_idIndexMarker314"/><st c="12757"> to </st><st c="12761">updating reviews.</st></p>
			<h1 id="_idParaDest-173"><a id="_idTextAnchor179"/><st c="12778">Updating a review</st></h1>
			<p><st c="12796">To be able to update reviews, we need to </st><a id="_idIndexMarker315"/><st c="12838">follow </st><st c="12845">these steps:</st></p>
			<ol>
				<li><st c="12857">Update the </st><code><st c="12869">movies.show</st></code><st c="12880"> template.</st></li>
				<li><st c="12890">Create the </st><code><st c="12902">movies </st></code><code><st c="12909">edit_review</st></code><st c="12920"> template.</st></li>
				<li><st c="12930">Define the </st><code><st c="12942">edit_review</st></code><st c="12953"> function.</st></li>
				<li><st c="12963">Configure the </st><code><st c="12978">edit </st></code><code><st c="12983">review</st></code><st c="12989"> URL.</st></li>
			</ol>
			<h2 id="_idParaDest-174"><a id="_idTextAnchor180"/><st c="12994">Updating movies.show template</st></h2>
			<p><st c="13024">In </st><code><st c="13028">/movies/templates/movies/show.html</st></code><st c="13062"> file, add the following </st><st c="13087">bold text:</st></p>
			<pre class="source-code"><st c="13097">
          …
          {% for review in template_data.reviews %}
          &lt;li class="list-group-item pb-3 pt-3"&gt;
            &lt;h5 class="card-title"&gt;
              Review by {{ review.user.username }}
            &lt;/h5&gt;
            &lt;h6 class="card-subtitle mb-2 text-muted"&gt;
              {{ review.date }}
            &lt;/h6&gt;
            &lt;p class="card-text"&gt;{{ review.comment }}&lt;/p&gt;
            </st><strong class="bold"><st c="13360">{% if user.is_authenticated and user ==</st></strong>
<strong class="bold"><st c="13399">              review.user %}</st></strong>
<strong class="bold"><st c="13414">            &lt;a class="btn btn-primary"</st></strong>
<strong class="bold"><st c="13441">              href="{% url 'movies.edit_review'</st></strong>
<strong class="bold"><st c="13475">              id=template_data.movie.id</st></strong>
<strong class="bold"><st c="13501">              review_id=review.id %}"&gt;Edit</st></strong>
<strong class="bold"><st c="13530">            &lt;/a&gt;</st></strong>
<strong class="bold"><st c="13535">            {% endif %}</st></strong><st c="13547">
          &lt;/li&gt;
          {% endfor %}
          …</st></pre>			<p><st c="13568">We added a code snippet for </st><a id="_idIndexMarker316"/><st c="13597">each review that is displayed. </st><st c="13628">That code checks whether a user is authenticated and whether the user is the one who wrote a specific review. </st><st c="13738">If both of these conditions are true, it will render the </st><code><st c="13827">movies.edit_review</st></code><st c="13845"> URL.</st></p>
			<h2 id="_idParaDest-175"><a id="_idTextAnchor181"/><st c="13850">Creating the movies edit_review template</st></h2>
			<p><st c="13891">Now, in </st><code><st c="13900">/movies/templates/movies/</st></code><st c="13925">, create a new file, </st><code><st c="13946">edit_review.html</st></code><st c="13962">. For now, fill it in with </st><st c="13989">the </st><a id="_idIndexMarker317"/><st c="13993">following:</st></p>
			<pre class="source-code"><st c="14003">
{% extends 'base.html' %}
{% block content %}
&lt;div class="p-3"&gt;
  &lt;div class="container"&gt;
    &lt;div class="row mt-3"&gt;
      &lt;div class="col mx-auto mb-3"&gt;
        &lt;h2&gt;Edit Review&lt;/h2&gt;
        &lt;hr /&gt;
        &lt;form method="POST"&gt;
          {% csrf_token %}
          &lt;p&gt;
            &lt;label for="comment"&gt;Comment:&lt;/label&gt;
            &lt;textarea name="comment" required
            class="form-control" id="comment"&gt;{{
            template_data.review.comment }}&lt;/textarea&gt;
          &lt;/p&gt;
          &lt;div class="text-start"&gt;
            &lt;button type="submit"
              class="btn bg-dark text-white"&gt;Edit Review
            &lt;/button&gt;
          &lt;/div&gt;
        &lt;/form&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
{% endblock content %}</st></pre>			<p><st c="14538">We have created a form to edit the review. </st><st c="14582">This form is very similar to the review creation form. </st><st c="14637">The differences </st><a id="_idIndexMarker318"/><st c="14653">are </st><st c="14657">as follows:</st></p>
			<ul>
				<li><st c="14668">We removed the form action, which means that the form will be submitted to the </st><st c="14748">current URL</st></li>
				<li><st c="14759">We displayed the current review comment value inside the </st><st c="14817">text area</st></li>
				<li><st c="14826">We modified the </st><st c="14843">button text</st></li>
			</ul>
			<h2 id="_idParaDest-176"><a id="_idTextAnchor182"/><st c="14854">Defining the edit_review function</st></h2>
			<p><st c="14888">In </st><code><st c="14892">/movies/views.py</st></code><st c="14908">, add the</st><a id="_idIndexMarker319"/><st c="14917"> following, as highlighted </st><st c="14944">in bold:</st></p>
			<pre class="source-code"><st c="14952">
from django.shortcuts import render, redirect</st><strong class="bold"><st c="14998">, get_object_or_404</st></strong><st c="15017">
…
</st><strong class="bold"><st c="15019">@login_required</st></strong>
<strong class="bold"><st c="15034">def edit_review(request, id, review_id):</st></strong>
<strong class="bold"><st c="15075">    review = get_object_or_404(Review, id=review_id)</st></strong>
<strong class="bold"><st c="15124">    if request.user != review.user:</st></strong>
<strong class="bold"><st c="15156">        return redirect('movies.show', id=id)</st></strong>
<strong class="bold"><st c="15194">    if request.method == 'GET':</st></strong>
<strong class="bold"><st c="15222">        template_data = {}</st></strong>
<strong class="bold"><st c="15241">        template_data['title'] = 'Edit Review'</st></strong>
<strong class="bold"><st c="15280">        template_data['review'] = review</st></strong>
<strong class="bold"><st c="15313">        return render(request, 'movies/edit_review.html',</st></strong>
<strong class="bold"/><strong class="bold"><st c="15363">{'template_data': template_data})</st></strong>
<strong class="bold"><st c="15397">    elif request.method == 'POST' and</st></strong>
<strong class="bold"><st c="15431">    request.POST['comment'] != '':</st></strong>
<strong class="bold"><st c="15462">        review = Review.objects.get(id=review_id)</st></strong>
<strong class="bold"><st c="15504">        review.comment = request.POST['comment']</st></strong>
<strong class="bold"><st c="15545">        review.save()</st></strong>
<strong class="bold"><st c="15559">        return redirect('movies.show', id=id)</st></strong>
<strong class="bold"><st c="15597">    else:</st></strong>
<strong class="bold"><st c="15603">        return redirect('movies.show', id=id)</st></strong></pre>			<p><st c="15641">Let’s explain the </st><st c="15660">preceding code:</st></p>
			<ul>
				<li><st c="15675">We import the </st><code><st c="15690">get_object_or_404</st></code><st c="15707"> function, which retrieves an object from the database or</st><a id="_idIndexMarker320"/><st c="15764"> raises an HTTP 404 (Not Found) error (if the object is </st><st c="15820">not found).</st></li>
				<li><st c="15831">We use the </st><code><st c="15843">@login_required</st></code><st c="15858"> decorator to ensure that the </st><code><st c="15888">edit_review</st></code><st c="15899"> function can only be accessed by authenticated users. </st><st c="15954">If an unauthenticated user tries to access this function, they will be redirected to the </st><st c="16043">login page.</st></li>
				<li><st c="16054">We define the </st><code><st c="16069">edit_review</st></code><st c="16080"> function, which takes three parameters: the request, the movie ID, and the </st><st c="16156">review ID.</st></li>
				<li><st c="16166">We retrieve the </st><code><st c="16183">Review</st></code><st c="16189"> object with the given </st><code><st c="16212">review_id</st></code><st c="16221">. If the review does not exist, a 404 error will </st><st c="16270">be raised.</st></li>
				<li><st c="16280">We check whether the current user (</st><code><st c="16316">request.user</st></code><st c="16329">) is the owner of the review to be edited (</st><code><st c="16373">review.user</st></code><st c="16385">). </st><st c="16389">If the user does not own the review, the function redirects them to the </st><code><st c="16461">movie.show</st></code><st c="16471"> page.</st></li>
				<li><st c="16477">Then, we check whether the request method is </st><code><st c="16523">GET</st></code><st c="16526">. In that case, the function prepares data for the template and renders the </st><code><st c="16602">edit_review.html</st></code><st c="16618"> template.</st></li>
				<li><st c="16628">If the request method is </st><code><st c="16654">POST</st></code><st c="16658"> and the </st><code><st c="16667">comment</st></code><st c="16674"> field in the request’s </st><code><st c="16698">POST</st></code><st c="16702"> data is not empty, the</st><a id="_idIndexMarker321"/><st c="16725"> function proceeds to update the review and redirects the user to the movie </st><st c="16801">show page.</st></li>
				<li><st c="16811">In any other case, the function redirects the user to the movie </st><st c="16876">show page.</st></li>
			</ul>
			<p class="callout-heading"><st c="16886">Note</st></p>
			<p class="callout"><st c="16891">You can improve the look and feel of these functionalities by including your own error messages. </st><st c="16989">You can use the </st><code><st c="17005">login</st></code><st c="17010"> template and the </st><code><st c="17028">login</st></code><st c="17033"> function, which uses and passes a </st><code><st c="17068">template_data.error</st></code><st c="17087">, as </st><st c="17092">a base.</st></p>
			<h2 id="_idParaDest-177"><a id="_idTextAnchor183"/><st c="17099">Configuring the edit_review URL</st></h2>
			<p><st c="17131">In </st><code><st c="17135">/movies/urls.py</st></code><st c="17150">, add the next path, as shown </st><st c="17180">in</st><a id="_idIndexMarker322"/><st c="17182"> bold:</st></p>
			<pre class="source-code"><st c="17188">
from django.urls import path
from . </st><st c="17225">import views
urlpatterns = [
    path('', views.index, name='movies.index'),
    path('&lt;int:id&gt;/', views.show, name='movies.show'),
    path('&lt;int:id&gt;/review/create/', views.create_review,
        name='movies.create_review'),
    </st><strong class="bold"><st c="17432">path('&lt;int:id&gt;/review/&lt;int:review_id&gt;/edit/',</st></strong><strong class="bold"><st c="17477">views.edit_review, name='movies.edit_review'),</st></strong><st c="17524">
]</st></pre>			<p><st c="17526">This path captures two integer values (the movie ID and review ID) from the URL and passes them to the </st><code><st c="17629">edit_review</st></code><st c="17640"> function</st><a id="_idIndexMarker323"/> <st c="17649">as arguments.</st></p>
			<p><st c="17663">Now, save those files, run the server, and go to </st><code><st c="17713">http://localhost:8000/movies</st></code><st c="17741">. Click on a specific movie that contains a review you created, then click the </st><strong class="bold"><st c="17820">Edit</st></strong><st c="17824"> button (</st><em class="italic"><st c="17833">Figure 9</st></em><em class="italic"><st c="17842">.6</st></em><st c="17844">).</st></p>
			<div><div><img src="img/B22457_09_6.jpg" alt="Figure 9.6 – A movie page with reviews and an edit button"/><st c="17847"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="18050">Figure 9.6 – A movie page with reviews and an edit button</st></p>
			<p><st c="18107">An edit form will be shown. </st><st c="18136">Modify the review and click the </st><strong class="bold"><st c="18168">Edit Review</st></strong><st c="18179"> button (</st><em class="italic"><st c="18188">Figure 9</st></em><em class="italic"><st c="18197">.7</st></em><st c="18199">).</st></p>
			<div><div><img src="img/B22457_09_7.jpg" alt="Figure 9.7 – The Edit Review page"/><st c="18202"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="18270">Figure 9.7 – The Edit Review page</st></p>
			<p><st c="18303">You will be redirected to the movie show page. </st><st c="18351">The new review comment </st><st c="18374">should appear.</st></p>
			<p><st c="18388">We just learned how to update</st><a id="_idIndexMarker324"/><st c="18418"> reviews and models in general, so let’s move to the final functionality and learn how to </st><st c="18508">delete information.</st></p>
			<h1 id="_idParaDest-178"><a id="_idTextAnchor184"/><st c="18527">Deleting a review</st></h1>
			<p><st c="18545">To be able to delete reviews, we </st><a id="_idIndexMarker325"/><st c="18579">need to follow the </st><st c="18598">ensuing steps:</st></p>
			<ol>
				<li><st c="18612">Update the </st><code><st c="18624">movies.show</st></code><st c="18635"> template.</st></li>
				<li><st c="18645">Define the </st><code><st c="18657">delete_review</st></code><st c="18670"> function.</st></li>
				<li><st c="18680">Configure the </st><code><st c="18695">delete </st></code><code><st c="18702">review</st></code><st c="18708"> URL.</st></li>
			</ol>
			<h2 id="_idParaDest-179"><a id="_idTextAnchor185"/><st c="18713">Updating the movies.show template</st></h2>
			<p><st c="18747">In the </st><code><st c="18755">/movies/templates/movies/show.html</st></code><st c="18789"> file, add the</st><a id="_idIndexMarker326"/><st c="18803"> following </st><st c="18814">bolded code:</st></p>
			<pre class="source-code"><st c="18826">
            …
            &lt;h5 class="card-title"&gt;
              Review by {{ review.user.username }}
            &lt;/h5&gt;
            &lt;h6 class="card-subtitle mb-2 text-muted"&gt;
              {{ review.date }}
            &lt;/h6&gt;
            &lt;p class="card-text"&gt;{{ review.comment }}&lt;/p&gt;
            {% if user.is_authenticated and user ==
              review.user %}
            &lt;a class="btn btn-primary"
              href="{% url 'movies.edit_review'
              id=template_data.movie.id
              review_id=review.id %}"&gt;Edit
            &lt;/a&gt;
            </st><strong class="bold"><st c="19184">&lt;a class="btn btn-danger"</st></strong>
<strong class="bold"><st c="19209">              href="{% url 'movies.delete_review'</st></strong>
<strong class="bold"><st c="19245">              id=template_data.movie.id</st></strong>
<strong class="bold"><st c="19271">              review_id=review.id %}"&gt;Delete</st></strong>
<strong class="bold"><st c="19302">            &lt;/a&gt;</st></strong><st c="19307">
            {% endif %}
            …</st></pre>			<p><st c="19321">We have added a new delete</st><a id="_idIndexMarker327"/><st c="19348"> button. </st><st c="19357">This button links to the </st><code><st c="19382">movies.delete_review</st></code><st c="19402"> URL, and much like the </st><strong class="bold"><st c="19426">Edit</st></strong><st c="19430"> button, it passes the movie ID and the </st><st c="19470">review ID.</st></p>
			<h2 id="_idParaDest-180"><a id="_idTextAnchor186"/><st c="19480">Defining the delete_review function</st></h2>
			<p><st c="19516">In </st><code><st c="19520">/movies/views.py</st></code><st c="19536">, add the following</st><a id="_idIndexMarker328"/><st c="19555"> bold code at the end of </st><st c="19580">the file:</st></p>
			<pre class="source-code"><st c="19589">
…
</st><strong class="bold"><st c="19591">@login_required</st></strong>
<strong class="bold"><st c="19606">def delete_review(request, id, review_id):</st></strong>
<strong class="bold"/><strong class="bold"><st c="19649">review = get_object_or_404(Review, id=review_id,</st></strong>
<strong class="bold"><st c="19698">        user=request.user)</st></strong>
<strong class="bold"><st c="19717">    review.delete()</st></strong>
<strong class="bold"><st c="19733">    return redirect('movies.show', id=id)</st></strong></pre>			<p><st c="19771">Let’s explain the </st><st c="19790">preceding code:</st></p>
			<ul>
				<li><st c="19805">We use the </st><code><st c="19817">@login_required</st></code><st c="19832"> decorator to ensure that the </st><code><st c="19862">delete_review</st></code><st c="19875"> function can be only accessed by authenticated users. </st><st c="19930">If an unauthenticated user tries to access this function, they will be redirected to the </st><st c="20019">login page.</st></li>
				<li><st c="20030">We retrieve the </st><code><st c="20047">Review</st></code><st c="20053"> object with the given </st><code><st c="20076">review_id</st></code><st c="20085"> that belongs to the current user (</st><code><st c="20120">request.user</st></code><st c="20133">). </st><st c="20137">If the review does not exist, or if the user does not own the review, an HTTP 404 error will </st><st c="20230">be raised.</st></li>
				<li><st c="20240">We delete the review from the database using the Django model’s </st><code><st c="20305">delete()</st></code><st c="20313"> method.</st></li>
				<li><st c="20321">We redirect to the previous movie </st><st c="20356">show page.</st></li>
			</ul>
			<h2 id="_idParaDest-181"><a id="_idTextAnchor187"/><st c="20366">Configuring the delete_review URL</st></h2>
			<p><st c="20400">In </st><code><st c="20404">/movies/urls.py</st></code><st c="20419">, add the following path, as highlighted</st><a id="_idIndexMarker329"/> <st c="20459">in bold:</st></p>
			<pre class="source-code"><st c="20468">
…
urlpatterns = [
    …
    path('&lt;int:id&gt;/review/&lt;int:review_id&gt;/edit/',
        views.edit_review, name='movies.edit_review'),
    </st><strong class="bold"><st c="20581">path('&lt;int:id&gt;/review/&lt;int:review_id&gt;/delete/',</st></strong>
<strong class="bold"><st c="20628">        views.delete_review, name='movies.delete_review'),</st></strong><st c="20679">
]</st></pre>			<p><st c="20681">This path captures two integer values (the movie ID and the review ID) from the URL and passes them as arguments to the </st><code><st c="20801">delete_review</st></code><st c="20814"> function.</st></p>
			<p><st c="20824">Now, save those files, run</st><a id="_idIndexMarker330"/><st c="20851"> the server, and go to </st><code><st c="20874">http://localhost:8000/movies</st></code><st c="20902">. Click on a specific movie that contains a review that you created, then click the </st><strong class="bold"><st c="20986">Delete</st></strong><st c="20992"> button (</st><em class="italic"><st c="21001">Figure 9</st></em><em class="italic"><st c="21010">.8</st></em><st c="21012">).</st></p>
			<div><div><img src="img/B22457_09_8.jpg" alt="Figure 9.8 – A movie page with reviews and a Delete button"/><st c="21015"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="21226">Figure 9.8 – A movie page with reviews and a Delete button</st></p>
			<p><st c="21284">The review should be deleted, and</st><a id="_idIndexMarker331"/><st c="21318"> you should be redirected to the movie </st><st c="21357">show page.</st></p>
			<h1 id="_idParaDest-182"><a id="_idTextAnchor188"/><st c="21367">Summary</st></h1>
			<p><st c="21375">In this chapter, we implemented a complete CRUD for movie reviews. </st><st c="21443">With the tools we’ve developed, we can now create various CRUD systems by applying the knowledge gained in this chapter to other projects and models. </st><st c="21593">As for the </st><em class="italic"><st c="21604">Movies Store</st></em><st c="21616"> project, users can now create, read, update, and delete reviews. </st><st c="21682">Additionally, we have acquired the skills to manage application authorization, restricting access to certain routes and functions for </st><st c="21816">non-logged-in users.</st></p>
			<p><st c="21836">In the next chapter, we will learn how to create a </st><st c="21888">shopping cart.</st></p>
		</div>
	<div></body></html>