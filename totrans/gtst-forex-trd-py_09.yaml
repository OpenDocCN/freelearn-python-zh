- en: '9'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '9'
- en: Trading Strategies and Their Core Elements
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 交易策略及其核心要素
- en: 'In previous chapters, we considered **algorithmic** (**algo**) and systematic
    trading from two standpoints: we learned about the market itself, its participants,
    the way it operates, and how all this is reflected in the pricing; on the other
    hand, we did some preparation work in programming, so now we can retrieve and
    process market data, build technical indicators, and do some charts and plots.
    In other words, we have the heart and the bones of the body of our future trading
    application, and now it’s time to add brains and limbs: the trading logic that
    generates orders, and the order execution control mechanism that finally connects
    the app with the final destination – an exchange, a broker, or an **electronic
    communication** **network** (**ECN**).'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的章节中，我们从两个角度考虑了**算法交易**（**algo**）和系统化交易：我们学习了市场本身、其参与者、其运作方式以及所有这些如何反映在定价上；另一方面，我们在编程方面做了一些准备工作，因此现在我们可以检索和处理市场数据，构建技术指标，并进行一些图表和绘图。换句话说，我们已经拥有了未来交易应用身体的灵魂和骨架，现在是时候添加大脑和四肢了：生成订单的交易逻辑，以及最终将应用与最终目的地——交易所、经纪商或**电子通信网络**（**ECN**）连接的订单执行控制机制。
- en: In this chapter, we will consider the most important classes of trading strategies
    that are typically used to trade the FX markets. We will learn about the sources
    of profit generation, consider typical trading ideas and their practical implementations,
    and understand their technical requirements.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将考虑通常用于交易外汇市场的最重要的交易策略类别。我们将了解盈利来源，考虑典型的交易想法及其实际应用，并了解它们的技术要求。
- en: 'Note that we are not going to develop actual codes implementing strategies
    of all these types. Some of them may be available only to institutional traders
    while others require sophisticated and expensive infrastructure, such as the colocation
    of trading servers directly with the exchange or ECN servers, special hardware
    such as **field programmable gate arrays** (**FPGAs**), and so on. There are two
    reasons why we mention them in this book. First, it’s definitely useful to know
    alternative approaches to algo trading. Second, you never know where you will
    find yourself in the future: for example, as a bank dealer or researcher at a
    hedge fund, and, in that case, this knowledge, even quite surface-level, will
    be very helpful.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，我们不会开发实现所有这些类型策略的实际代码。其中一些可能仅对机构交易员可用，而另一些则需要复杂且昂贵的基础设施，例如直接与交易所或ECN服务器放置的交易服务器，特殊硬件如**现场可编程门阵列**（**FPGAs**）等。我们在这本书中提到它们有两个原因。首先，了解算法交易的替代方法肯定是有用的。其次，你永远不知道未来你会在哪里：例如，作为银行交易员或对冲基金的研究员，在这种情况下，这种知识，即使是非常表面的，也将非常有帮助。
- en: 'In this chapter, you will learn about the following topics:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将学习以下主题：
- en: Alpha and beta as sources of profit generation
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阿尔法和贝塔作为盈利来源
- en: Options pricing – the most science-consuming risk models
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 期权定价——最消耗科学的风险模型
- en: Alpha classics – trend-following, mean reversion, and breakout
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阿尔法经典——趋势跟踪、均值回归和突破
- en: Arbitrage – let’s earn from others’ mistakes
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 套利——让我们从他人的错误中获利
- en: Statistical arbitrage
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 统计套利
- en: Event-driven trading strategies
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 事件驱动交易策略
- en: Market making – profiting from liquidity provision and associated risks
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 做市商——从提供流动性和相关风险中获利
- en: High frequency, low latency – where Python fails
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高频，低延迟——Python 失败的地方
- en: Alpha and beta – widely used, widely confused
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 阿尔法与贝塔——广泛使用，广泛混淆
- en: If you have ever read any article or book on algo or systematic trading or just
    ever listened to CNBC, most likely you have already heard about **alpha**- and
    **beta**-generating programs (strategies, systems, funds, you name it). And as
    is quite often the case with heavily used terms, not everyone who uses them really
    understand their meaning. Let’s shed some light on this terminology, as understanding
    it will really help sort out the kaleidoscopic variety of trading strategies.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你曾经阅读过任何关于算法交易或系统化交易的文章或书籍，或者只是曾经听过CNBC，你很可能已经听说过**阿尔法**和**贝塔**生成程序（策略、系统、基金等）。正如经常使用的大量术语一样，使用它们的人并不一定真正理解它们的含义。让我们来澄清这个术语，因为理解它将真正有助于整理出千变万化的交易策略。
- en: Alpha – earn from changes in price
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 阿尔法——从价格变动中获利
- en: According to the general definition of alpha (which you can find, for example,
    at InvestmentU – [https://investmentu.com/what-is-alpha-investing/](https://investmentu.com/what-is-alpha-investing/)),
    **alpha** (α) “*is a specific measurement of the worth of an investment based
    on its performance relative to the market. Specifically, alpha measures the ability
    of an investment to beat* *market returns.*”
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 根据alpha（α）的一般定义（例如，您可以在InvestmentU上找到，见[https://investmentu.com/what-is-alpha-investing/](https://investmentu.com/what-is-alpha-investing/)），**alpha**（α）“*是衡量投资价值的一种特定测量，基于其相对于市场的表现。具体来说，alpha衡量的是投资超越*市场回报*的能力。””
- en: Sounds familiar? Most likely yes if you are interested in markets and trading
    (otherwise, why would you be reading this book?)
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 听起来熟悉吗？如果您对市场和交易感兴趣，很可能是的（否则，您为什么会读这本书？）
- en: But is it clear and understandable? No, as this *definition* replaces one unknown
    term (*alpha*) with another (*beat the market*, which is often also called **edge**).
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 但这清楚易懂吗？不，因为这个*定义*用一个未知术语（*alpha*）替换了另一个（*beat the market*，这通常也被称为**优势**）。
- en: The article goes on with *“Alpha is synonymous with abnormal rate of return.”*
    Why *abnormal*? Because the efficient market theory claims that there is no way
    to systematically outperform the market, thus any excess return can be considered
    *abnormal*. This makes much more sense, as now we understand that alpha is a metric
    that compares the return of a strategy, portfolio, or investment to a benchmark
    (referred to as **broad market** in the preceding article).
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 文章继续说“*alpha等同于异常回报率。”*为什么*异常*？因为有效市场理论声称没有一种方法可以系统地超越市场，因此任何超额回报都可以被认为是*异常的*。这更有意义，因为我们现在理解alpha是一个比较策略、投资组合或投资回报与基准（在上一篇文章中称为**广泛市场**）的指标。
- en: In simpler words, there is a benchmark and there’s the return of a trading strategy.
    If the latter is greater than the former, then the strategy generates alpha.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 用更简单的语言来说，有一个基准和交易策略的回报。如果后者大于前者，那么该策略就产生了alpha。
- en: Simple? Yes, but we have to make two important remarks.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 简单吗？是的，但我们必须提出两个重要的观点。
- en: First, it is essential to note here that by *beating the market*, the alpha
    approach only considers the manipulation of underlying assets, such as selling
    short, exiting positions and re-entering at different prices, changing the proportion
    of assets in a portfolio, and so on.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，在这里必须注意的是，通过*超越市场*，alpha方法仅考虑对基础资产的操纵，例如卖空、退出头寸并在不同价格重新进入、改变投资组合中资产的比例等等。
- en: Note
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: In other words, generating alpha normally means the active manipulation of the
    assets themselves, without the use of derivatives or sell-side activities, such
    as market making.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，产生alpha通常意味着对资产本身的积极操纵，而不使用衍生品或卖方活动，如做市。
- en: 'Second, there is a problem that is frequently overlooked: we do need that very
    benchmark against which we’re going to compare the returns of a trading strategy.'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 第二，有一个经常被忽视的问题：我们确实需要那个我们将要比较交易策略回报的基准。
- en: 'When we talk about investment, the benchmark is obvious: a stock index. One
    of the most popular benchmarks of this kind is the S&P 500 – the index of 500
    large-capitalization US companies. You can buy shares from all these companies
    and follow the index by holding them, for example, for 1 year. Alternatively,
    you can buy only some shares in a proportion other than in the index, buy different
    shares, sell some shares and replace them with others, or make any other active
    investment – but when you compare your returns with the return of the index at
    the end of that very year, and *if you did better than the index itself by manipulating
    the market exposure, then you can say that you* *generated alpha.*'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们谈论投资时，基准是显而易见的：一个股票指数。这类最受欢迎的基准之一是标准普尔500指数——500家大型美国公司的指数。您可以从这些公司中购买股票，并通过持有它们来跟踪指数，例如，持有1年。或者，您可以选择购买与指数比例不同的股票，购买不同的股票，卖出一些股票并用其他股票替换，或者进行任何其他积极投资——但当你比较你在那一年的回报与指数回报时，并且*如果您通过操纵市场敞口比指数本身做得更好，那么您可以说您*产生了alpha*。
- en: Why does this approach make sense in equities investing?
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 为什么这种方法在股票投资中合理？
- en: If we look at the entire history of the S&P 500 index, we can immediately see
    that the US stock markets always grow over time. Yes, there are recessions, and
    there was even the Great Depression, but in the very long run, if you buy shares
    from all companies from this index and wait for over 30 years, then you will almost
    for sure make a profit.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们审视标准普尔500指数的整个历史，我们可以立即看出美国股市总是随着时间的推移而增长。是的，有经济衰退，甚至还有大萧条，但在非常长的时期内，如果你从这个指数中的所有公司购买股票并等待超过30年，那么你几乎可以肯定能获得利润。
- en: 'Don’t take my words for granted: check any source for S&P 500 historical data
    and you will see it yourself. The following is a chart by Yahoo! Finance in semi-log
    scale (check it out yourself at [https://yhoo.it/3U6I5rm](https://yhoo.it/3U6I5rm)):'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 不要轻信我的话：检查任何标准普尔500指数历史数据的来源，你自己就会看到。以下是由雅虎财经提供的半对数图表（你自己去[https://yhoo.it/3U6I5rm](https://yhoo.it/3U6I5rm)查看）：
- en: '![Figure 9.1 – Historical data of the S&P 500 index shows that the US stock
    markets have a strong tendency to grow over time](img/B19145_9_01.jpg)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![图9.1 – 标准普尔500指数的历史数据显示美国股市有很强的增长趋势](img/B19145_9_01.jpg)'
- en: Figure 9.1 – Historical data of the S&P 500 index shows that the US stock markets
    have a strong tendency to grow over time
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.1 – 标准普尔500指数的历史数据显示，美国股市有很强的增长趋势
- en: With FX trading, it’s more complex and confusing because currencies are not
    normally used as long-term investment vehicles – at least as widely as equities.
    The reason is that currencies feature interest rates, something that makes them
    radically different from traditional investment assets (see the *Economic news*
    section in [*Chapter 6*](B19145_06.xhtml#_idTextAnchor101)*,* *Basics of Fundamental
    Analysis and Its Possible Use in FX Trading*, for a discussion on *carry trading*)
    and these interest rates change over time based on central banks' decisions. So,
    when you buy and hold a stock, it normally brings you dividends, or in the worst
    case, you just don’t receive anything if the board decides not to pay dividends
    this year. However, if you buy and hold a currency, it’s quite possible that you
    pay for the luxury of having this currency in your portfolio – if the difference
    in the interest rates between the two currencies in a pair is negative.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 在外汇交易中，情况更为复杂和令人困惑，因为货币通常不作为长期投资工具使用——至少不像股票那样广泛。原因是货币具有利率，这使得它们与传统投资资产（参见[*第6章*](B19145_06.xhtml#_idTextAnchor101)中的[*“经济新闻”*]部分，讨论[*“基本分析及其在FX交易中的可能用途”*]，关于[*“息差交易”*]的讨论）有根本性的不同，而这些利率会根据中央银行的决定而随时间变化。因此，当你购买并持有股票时，通常能带来股息，或者在最坏的情况下，如果董事会决定今年不支付股息，你将一无所获。然而，如果你购买并持有货币，你很可能要为在投资组合中拥有这种货币的奢侈付费——如果一对货币之间的利率差异为负。
- en: Using and abusing S&P 500 as a benchmark
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 将S&P 500作为基准的使用和滥用
- en: Because of the enormous popularity of the S&P 500 index, it is frequently used
    as a benchmark for everything, not only investing in stocks. I have even witnessed
    a comparison of this index to the performance of a high-frequency trading fund.
    Of course, this has nothing in common with the traditional meaning of alpha, beta,
    and other metrics.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 由于标准普尔500指数的巨大普及度，它经常被用作各种事物的基准，而不仅仅是股票投资。我甚至目睹过将这个指数与高频交易基金的业绩进行比较。当然，这与alpha、beta和其他指标的传统意义毫无共同之处。
- en: So, it’s clear that we need a benchmark that is adequate for the specifics of
    the FX market. What can we use as such a benchmark then?
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，很明显，我们需要一个适合外汇市场特定情况的基准。那么，我们可以用什么呢？
- en: The simplest benchmark for FX trading strategies could be the currency itself.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 外汇交易策略的最简单基准可能是货币本身。
- en: Using currency rates as a benchmark
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将汇率作为基准
- en: 'We can use exactly the same approach as with a stock index: compare the return
    of the trading strategy to the return in the currency itself for the same given
    period of time. For example, if we look at the historical rates of EURUSD from
    January 2021 to January 2022, we can see that they declined from about 1.2240
    to about 1.1290, which is down 8%. So, if you bought the euro at the beginning
    of 2021 and held it until the end of the same year, then your "*investment"* would
    have made about -8% (and in reality, even worse because of the difference in the
    interest rates). But if you actively managed your investment by closing long positions
    and opening short positions when the rates were going down, you would probably
    have made, say, only -5%. Technically, you could even say that you *beat the market*,
    although, from a practical standpoint, such an investment would hardly make sense.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用与股票指数完全相同的方法：比较交易策略的回报与同一给定时期内货币本身的回报。例如，如果我们查看2021年1月至2022年1月的历史汇率EURUSD，我们可以看到它们从大约1.2240下降到大约1.1290，下降了8%。所以，如果你在2021年初购买了欧元并持有到同年年底，那么你的“投资”将亏损大约8%（实际上，由于利率差异，亏损可能更大）。但如果你在利率下降时积极管理你的投资，关闭多头头寸并开仓空头头寸，你可能只会亏损大约5%。从技术上讲，你甚至可以说你“打败了市场”，尽管从实际角度来看，这样的投资几乎没有什么意义。
- en: The good news in FX trading is that you can easily buy and sell currencies –
    quite unlike stocks where selling short a stock that you don’t own (to profit
    from falling prices) may be problematic. So, the most reasonable way to generate
    alpha in FX trading is to change the direction of your positions according to
    the direction of the market price movements.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 外汇交易的好消息是你可以轻松地买卖货币——这与股票不同，卖空你并不拥有的股票（从价格下跌中获利）可能存在问题。因此，在外汇交易中产生alpha的最合理方式是根据市场价格走势的方向改变你的头寸方向。
- en: But what to do in case you trade not just one currency pair but a portfolio
    of currencies? Are there benchmarks that could be used to evaluate the alpha in
    such a case?
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 但如果你交易的不是单一货币对，而是一篮子货币呢？在这种情况下，有没有可以用来评估alpha的基准？
- en: Yes, and one of the most acknowledged benchmarks of this kind is the **US Dollar**
    **Index** (**USDX**).
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 是的，这类最被认可的基准之一就是**美元指数**（**USDX**）。
- en: Common FX benchmarks – the USDX
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 常见的外汇基准——美元指数
- en: The USDX (ticker DXY) is *“a live measure of the performance of the US dollar
    against a basket of other currencies”* (see Forex.com, [https://www.forex.com/en-us/news-and-analysis/what-is-the-dollar-index/](https://www.forex.com/en-us/news-and-analysis/what-is-the-dollar-index/)).
    If we are to interpret it in terms of investment, then it is quite similar to
    stock investment, but instead of stocks, you buy or sell the US dollar versus
    a basket of currencies (which at the moment consists of the euro, the British
    pound, the Swiss franc, the Canadian dollar, the Japanese yen, and the Swedish
    krona).
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 美元指数（代号DXY）是“**美元相对于一篮子其他货币的表现的实时衡量指标**”（参见Forex.com，[https://www.forex.com/en-us/news-and-analysis/what-is-the-dollar-index/](https://www.forex.com/en-us/news-and-analysis/what-is-the-dollar-index/))。如果我们从投资的角度来解释它，那么它与股票投资非常相似，但不同的是，你购买或出售的是美元相对于一篮子货币（目前包括欧元、英镑、瑞士法郎、加拿大元、日元和瑞典克朗）。
- en: For example, if the DXY’s value was 100 at the beginning of a year, and at the
    end of the year, its value was 110, that would equate to a gain of 10%. If you
    had bought dollars for this basket of currencies at the beginning of the year,
    then you would have had a gain of 10% for your investment – again, in terms of
    that same basket of foreign currencies.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果DXY在年初的价值是100，而到了年底，其价值是110，那么这相当于10%的收益。如果你在年初用这篮子货币购买了美元，那么你的投资收益将是10%——同样，这是相对于同一篮子外国货币而言的。
- en: The USDX is useful for the evaluation of FX trading strategies and portfolios
    because it’s already cleared of the interest rates and we may say that it presents
    the potential alpha in the FX market in its purest form.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 美元指数对于评估外汇交易策略和投资组合非常有用，因为它已经消除了利率的影响，我们可以说它以最纯粹的形式呈现了外汇市场的潜在alpha值。
- en: 'If we look at the historical values of the USDX in the following chart, we
    can see that quite unlike the S&P 500, it cannot be used as a long-term investment
    – the same as is the case with any single currency:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们查看以下图表中美元指数的历史值，我们可以看到，它与标准普尔500指数截然不同，不能用作长期投资——这与任何单一货币的情况相同：
- en: '![Figure 9.2 – Historical chart of the USDX (chart by TradingView)](img/B19145_9_02.jpg)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![图9.2 – USDX的历史图表（由TradingView提供）](img/B19145_9_02.jpg)'
- en: Figure 9.2 – Historical chart of the USDX (chart by TradingView)
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.2 – USDX的历史图表（由TradingView提供）
- en: Generally speaking, if you outperform this index by manipulating the currencies
    in it (buying, selling, or adjusting proportions in the basket), you generate
    alpha relative to this index.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 一般而言，如果你通过操作其中的货币（买入、卖出或调整篮子中的比例）超越这个指数，你相对于这个指数就产生了alpha。
- en: The USDX is not the only FX index. Many large institutions offer their own indices
    that aim to evaluate various segments of the FX markets or even various trading
    or investment approaches. Let’s have a look at a few indices provided by the most
    important international banks, as these indices are frequently used as benchmarks
    not only for passive investment but also for active trading.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: USDX并非唯一的FX指数。许多大型机构提供他们自己的指数，旨在评估FX市场的各个部分或甚至各种交易或投资方法。让我们看看一些由最重要的国际银行提供的指数，因为这些指数不仅经常被用作被动投资的基准，也常被用作主动交易的基准。
- en: Bank indices – more details, more confusion
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 银行指数 – 更多细节，更多困惑
- en: 'These indices sometimes only serve indicative purposes; others are tradable
    instruments. For example, Deutsche Bank lists ([https://index.db.com/dbiqweb2/home.     do?redirect=productpagelist&region=All&regionHidden=All&assetClass     =FX&assetClassHidden=FX&returnStream=ALL&returnStreamHidden=ALL](https://index.db.com/dbiqweb2/home.do?redirect=productpagelist&region=All&regionHidden=All&assetClass=FX&assetClassHidden=FX&returnStream=ALL&returnStreamHidden=ALL))
    plenty of FX indices. Some of them represent classical buy and hold while others
    track Deutsche Bank’s own active investment. So, if you develop an alpha-generating
    strategy, then it makes more sense to compare its performance against one of these
    indices. Let’s consider an example.'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 这些指数有时仅起指示性作用；而另一些则是可交易工具。例如，德意志银行列出了许多FX指数（[https://index.db.com/dbiqweb2/home.do?redirect=productpagelist&region=All&regionHidden=All&assetClass=FX&assetClassHidden=FX&returnStream=ALL&returnStreamHidden=ALL](https://index.db.com/dbiqweb2/home.do?redirect=productpagelist&region=All&regionHidden=All&assetClass=FX&assetClassHidden=FX&returnStream=ALL&returnStreamHidden=ALL)）。其中一些代表经典的买入并持有策略，而另一些则追踪德意志银行的自身主动投资。因此，如果你开发了一个产生alpha的策略，那么与这些指数之一进行比较更有意义。让我们考虑一个例子。
- en: 'Suppose you develop a basket trading strategy that buys undervalued currencies
    and sells overvalued ones. Then, it makes sense to compare the performance of
    your strategy to the Deutsche Bank FX Momentum USD Index ([https://index.db.com/dbiqweb2/servlet/indexsummary?     redirect=benchmarkIndexSummary&indexid=99800323&currencyreturn type=USD-Local&rebalperiod=2&pricegroup=STD&history=4&reporting     frequency=1&returncategory=ER&indexStartDate=20191103&priceDate=     20221103&isnew=true](https://index.db.com/dbiqweb2/servlet/indexsummary?redirect=benchmarkIndexSummary&indexid=99800323&currencyreturntype=USD-Local&rebalperiod=2&pricegroup=STD&history=4&reportingfrequency=1&returncategory=ER&indexStartDate=20191103&priceDate=20221103&isnew=true))
    and if your strategy delivers greater returns with lower volatility, then great
    – you make alpha with your strategy:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你开发了一个篮子交易策略，该策略购买低估的货币并卖出高估的货币。那么，将你的策略的表现与德意志银行FX动量美元指数（[https://index.db.com/dbiqweb2/servlet/indexsummary?redirect=benchmarkIndexSummary&indexid=99800323&currencyreturntype=USD-Local&rebalperiod=2&pricegroup=STD&history=4&reportingfrequency=1&returncategory=ER&indexStartDate=20191103&priceDate=20221103&isnew=true](https://index.db.com/dbiqweb2/servlet/indexsummary?redirect=benchmarkIndexSummary&indexid=99800323&currencyreturntype=USD-Local&rebalperiod=2&pricegroup=STD&history=4&reportingfrequency=1&returncategory=ER&indexStartDate=20191103&priceDate=20221103&isnew=true)）进行比较是有意义的，如果你的策略在较低波动性的情况下提供了更高的回报，那么太好了
    – 你通过你的策略创造了alpha：
- en: '![Figure 9.3 – Deutsche Bank FX Momentum USD Index chart](img/B19145_9_03.jpg)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![图9.3 – 德意志银行FX动量美元指数图表](img/B19145_9_03.jpg)'
- en: Figure 9.3 – Deutsche Bank FX Momentum USD Index chart
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.3 – 德意志银行FX动量美元指数图表
- en: Overall, currency rates do not tend to grow over time perpetually. That’s why
    using their rates for a single currency or a basket of currencies as a benchmark
    does not make as much sense as using a stock index as a benchmark for investing.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 总体来说，货币汇率并不倾向于随着时间的推移持续增长。这就是为什么使用单一货币或货币篮子的汇率作为基准，并不像使用股票指数作为投资基准那样有意义。
- en: Let’s summarize all of this. In the world of FX trading, by generating alpha,
    we assume that we will outperform any of the relevant FX indices – including the
    buy-and-hold return for a single currency – by actively manipulating the currencies
    in a portfolio. In this sense almost all *buy-side* strategies fall into this
    category (see [*Chapter 1*](B19145_01.xhtml#_idTextAnchor014), *Developing Trading
    Strategies – Why They Are Different*, to refresh your memory on buy-side and sell-side
    market participants). This is the very kind of strategy we’re going to consider
    further in this book.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们总结一下。在FX交易的世界里，通过生成alpha，我们假设我们将通过积极操纵投资组合中的货币，超越任何相关的FX指数——包括单一货币的买入并持有回报。从这个意义上说，几乎所有*买方*策略都属于这一类别（参见[*第一章*](B19145_01.xhtml#_idTextAnchor014)，“开发交易策略——为什么它们不同”，以刷新你对买方和卖方市场参与者的记忆）。这正是本书将进一步考虑的策略类型。
- en: Key takeaway
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 主要收获
- en: In the simplest terms, by alpha in FX trading, we mean making profits when the
    price goes anywhere, up or down. So, for alpha-generating strategies, the worst
    market is the one where the price doesn’t move sufficiently.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 以最简单的术语来说，在FX交易中，我们所说的alpha是指无论价格上涨还是下跌，都能从中获利。因此，对于生成alpha的策略来说，最糟糕的市场就是价格没有足够波动的市场。
- en: But is this really a problem? Do these markets exist – those where prices don’t
    change substantially?
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 但这真的是一个问题吗？这些市场存在吗——那些价格没有实质性变化的市场？
- en: 'Of course they do. Any FX market may become more or less volatile, mostly thanks
    to changes in liquidity and sometimes special conditions imposed by central banks.
    For example, let’s look at the chart of the euro versus the Swiss franc from April
    to September 2012, the time when the **Swiss National Bank** (**SNB**) decided
    to artificially peg the rate of the Swiss franc to the euro:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，它们确实会。任何FX市场都可能或多或少地变得波动，这主要归功于流动性的变化，有时也归功于中央银行施加的特殊条件。例如，让我们看看2012年4月至9月欧元对瑞士法郎的图表，当时**瑞士国家银行**（**SNB**）决定人为地将瑞士法郎的汇率与欧元挂钩：
- en: '![Figure 9.4 – Chart of the historical quotes of EURCHF (source: TradingView)](img/B19145_9_04.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![图9.4 – EURCHF历史报价图表（来源：TradingView）](img/B19145_9_04.jpg)'
- en: 'Figure 9.4 – Chart of the historical quotes of EURCHF (source: TradingView)'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.4 – EURCHF历史报价图表（来源：TradingView）
- en: We can see that this currency pair had traded within a narrow range of only
    26 pips for almost 5 months! Just to compare, the average daily range of the same
    currency pair as of November 2022 is 60 pips. Clearly, it was virtually impossible
    to generate any alpha in such a *stable* market.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到，这个货币对在近5个月内仅在26个基点的狭窄范围内交易！仅作比较，截至2022年11月，同一货币对的平均每日波动范围为60个基点。显然，在这样的*稳定*市场中几乎不可能产生任何alpha。
- en: But is there a way to still generate profits when the price doesn’t go anywhere?
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 但有没有一种方法可以在价格没有变动的情况下仍然获利？
- en: 'The answer is yes, and now enter the second character of the play: beta.'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 答案是肯定的，现在进入戏剧的第二个人物：beta。
- en: Beta – earn on volatility
  id: totrans-68
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Beta – 从波动性中获利
- en: The concept of beta also originates in stock investment. It refers to the volatility
    of the returns achieved by the portfolio – and as in the case with alpha, again,
    versus a benchmark. Sure, in the case of stock trading, this is also usually a
    stock index, with the S&P 500 again being the most common example.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: beta的概念也起源于股票投资。它指的是投资组合实现的回报波动性——并且，就像alpha的情况一样，与基准相比。当然，在股票交易的情况下，这通常也是一个股票指数，S&P
    500再次是最常见的例子。
- en: We already discussed market volatility in the *Volatility indicators* section
    of [*Chapter 7*](B19145_07.xhtml#_idTextAnchor114), *Technical Analysis and Its
    Implementation in Python*. The volatility of returns from an investment or a trading
    strategy can be studied in a more or less similar way. In investment and trading,
    beta is a measure of the risk of how much you can potentially afford to lose in
    order to achieve the expected profit.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经在[*第七章*](B19145_07.xhtml#_idTextAnchor114)的[*“波动性指标”*](B19145_07.xhtml#_idTextAnchor114)部分讨论了市场波动性。投资或交易策略的回报波动性可以通过或多或少相似的方式进行研究。在投资和交易中，beta是衡量你为了实现预期利润可能承担的损失风险的指标。
- en: To better understand the volatility of returns, let’s consider the example of
    traveling. Say, you want to get from London to New York. The most straightforward
    way to get from the starting point to your target is to take a direct plane. This
    route will be our benchmark. You can also enjoy a two-week trip by sea, which
    will be much slower and less straightforward. Otherwise, you can travel by car
    to France, then by train and bus to Norway, then by ship to Iceland, then by plane
    to Canada, and from there to New York by car, train, or bus.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好地理解回报的波动性，让我们考虑旅行的例子。比如说，你想从伦敦到纽约。从起点到达目标最直接的方式是乘坐直飞航班。这条路线将是我们的基准。你也可以享受一个两周的海上之旅，这将慢得多，也不那么直接。否则，你可以开车去法国，然后乘坐火车和公共汽车去挪威，然后乘船去冰岛，然后乘飞机去加拿大，然后从那里开车、乘火车或公共汽车去纽约。
- en: See the difference? In all three cases, you get from the starting point to your
    target, but the volatility of your path will differ dramatically.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 你看出了区别吗？在所有三种情况下，你都是从起点到达目标，但你的路径波动性会有很大的不同。
- en: 'It’s the same with returns: let’s chart the hypothetical returns for two trading
    strategies (or investment portfolios, it doesn’t matter) over time. One of them
    would be less volatile and the other one more so:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 返还情况也是如此：让我们绘制两种交易策略（或投资组合，这并不重要）随时间推移的假设回报。其中一种策略的波动性会小一些，另一种则会更大：
- en: '![](img/B19145_9_05.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B19145_9_05.jpg)'
- en: Figure 9.5 – Same start and destination, different volatility of a road trip
    or an investment
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.5 – 同样的起点和目的地，不同波动性的公路旅行或投资
- en: It’s clear that the volatility of returns for the right-hand chart is greater
    than in the left-hand one, and any normal investor or trader would prefer the
    latter. In the language of risk metrics, we say that *the beta in the right-hand
    chart is greater than the beta in the* *left-hand one*.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 很明显，右侧图表的回报波动性大于左侧图表，任何正常的投资者或交易者都会更喜欢后者。在风险度量语言中，我们说*右侧图表的beta大于左侧图表的beta*。
- en: If we now look at the FX markets from the same standpoint as in the previous
    section, we can see that as is the case with alpha, it’s difficult to assess an
    *investment versus a benchmark* because no one invests in currencies like in stocks.
    So in FX trading, the beta could be interpreted as volatility of the market itself,
    and if a strategy profits from this volatility, then we say that this is a beta-generating
    strategy.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们现在从上一节相同的视角来看外汇市场，我们可以看到，就像alpha一样，评估*投资与基准之间的差异*是很困难的，因为没有人像股票那样投资货币。所以在外汇交易中，beta可以解释为市场的波动性本身，如果一个策略从这种波动性中获利，那么我们就说这是一个产生beta的策略。
- en: How can we earn on volatility rather than price movements?
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 我们如何从波动性中获利，而不是从价格变动中获利呢？
- en: It is possible by using one of the most complex yet powerful financial instruments
    – options.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以通过使用最复杂但也是最强大的金融工具之一——期权来实现。
- en: Options – stable income with unlimited risk
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 期权——稳定的收入与无限的风险
- en: This subheading sounds ridiculous, doesn’t it? How can stable income go hand
    in hand with unlimited risk?
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 这个副标题听起来很荒谬，不是吗？稳定的收入怎么可能和无限的风险并存呢？
- en: To understand it, let’s first understand what an option is and how it’s possible
    to trade them.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 要理解它，我们首先需要了解期权是什么，以及如何进行交易。
- en: An **option** is a derivative (see [*Chapter 1*](B19145_01.xhtml#_idTextAnchor014),
    *Developing Trading Strategies – Why They Are Different*, for a brief explanation
    of the underlying and derivatives) that gives its holder the right but not the
    obligation to buy or sell the underlying asset at a certain price in the future.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '**期权**是一种衍生品（参见[*第一章*](B19145_01.xhtml#_idTextAnchor014)，*开发交易策略 – 为什么它们不同*，其中对标的资产和衍生品进行了简要解释），它赋予其持有者在未来以特定价格买卖标的资产的权利，但没有义务。'
- en: I know that it’s really hard to understand at first, so let’s consider an example.
    Say, it’s October and a kilo of apples costs $1 at the moment. I think that its
    price will grow to $2 by December, but another market participant thinks that
    even if it grows, it won’t exceed $1.5\. So, this market participant writes an
    option to buy apples at $1.5 in December and sells this option to me for a premium.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 我知道一开始理解起来真的很困难，所以让我们考虑一个例子。比如说，现在是十月，一公斤苹果的价格是1美元。我认为到十二月，它的价格会增长到2美元，但另一个市场参与者认为，即使价格上涨，也不会超过1.5美元。所以，这个市场参与者写了一个在十二月以1.5美元购买苹果的期权，并将这个期权以溢价卖给我。
- en: Now, if I am wrong and a kilo of apples in December indeed costs less than $1.5,
    then I will lose the amount of money I paid to my counterparty as the premium
    and the counterparty will make a profit (this very premium), but if I am right
    and a kilo of apples costs $2 or higher, then I realize my right to buy apples
    at $1.5 and immediately sell them at $2, thus making a profit. And this profit
    is obviously covered by my counterparty who sold me such a right.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，如果我是错的，12月份一公斤苹果的价格确实低于1.5美元，那么我会损失我支付给对方的溢价金额，而对方将获得（正是这个溢价）利润，但如果是我的判断正确，一公斤苹果的价格是2美元或更高，那么我就实现了以1.5美元购买苹果的权利，并立即以2美元的价格卖出，从而获利。而这个利润显然是由卖给我这种权利的对方承担的。
- en: 'As you can see, *the option writer earns purely on volatility*: for them, it
    really doesn’t matter where the price goes; they earn if the volatility doesn’t
    exceed a certain level.'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，*期权卖方纯粹从波动性中获利*：对他们来说，价格走向真的无关紧要；只要波动性不超过某个水平，他们就能获利。
- en: Can you see the problem here?
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 你能在这里看到问题吗？
- en: For option sellers or writers, the profit is always fixed and equal to the premium,
    but the potential loss is unlimited. In our example, what if apples traded at
    $20 rather than $2? Such an unexpected and sharp growth in price could hurt the
    option writer significantly.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 对于期权卖方或写作者来说，利润总是固定的，等于溢价，但潜在损失是无限的。在我们的例子中，如果苹果的价格是20美元而不是2美元会怎样？这种意外和急剧的价格上涨可能会对期权卖方造成重大损失。
- en: To illustrate how it is possible to earn selling options, let’s go back to the
    example of EURCHF from the previous section. If a market trades in a narrow range,
    it is possible to write options to buy above this range (they are called **call
    options**) and options to sell below this range (they are called **put options**)
    and collect a premium, which works as a stable income.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 为了说明通过卖出期权赚钱的可能性，让我们回顾一下上一节中提到的EURCHF的例子。如果市场在一个狭窄的范围内交易，就有可能卖出购买该范围之上的期权（它们被称为**看涨期权**）和卖出该范围之下的期权（它们被称为**看跌期权**），并收取溢价，这可以作为稳定的收入。
- en: But we all know that there’s no trade without risk, and if the market suddenly
    goes outside of the range (and quite frankly, it’s not a matter of *if* but of
    *when*), option writers may suffer from severe losses.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 但我们都知道，没有无风险的交易，如果市场突然超出范围（坦白说，这不是一个“是否”的问题，而是一个“何时”的问题），期权卖方可能会遭受严重的损失。
- en: 'Let’s see how it actually happened with that same EURCHF. The SNB maintained
    the rate of the franc pegged to the euro and this caused this market trade within
    a narrow range, as we saw previously. But one day – on January 15, 2015 – SNB
    decided to unpeg the franc from the euro. As the result, EURCHF plunged by over
    20 figures (a figure is 100 pips) or almost 20% in a moment, and option writers
    who sold put options (and a put option is the right to sell at a certain price)
    suffered from unbelievable losses because there was no opportunity to liquidate
    their massively losing positions. *Figure 9**.6* illustrates this price jump (or,
    rather, an asteroid downfall) and you can see how volatility exceeded any imaginable
    and believable limits in a few minutes:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看同样的EURCHF是如何实际发生的。瑞士国民银行（SNB）维持了法郎与欧元的汇率挂钩，这导致市场交易在一个狭窄的范围内，正如我们之前看到的。但有一天——2015年1月15日——SNB决定将法郎从欧元中脱钩。结果，EURCHF在瞬间下跌超过20个点（一个点等于100个基点）或几乎20%，卖出看跌期权的期权卖方（看跌期权是卖出特定价格的权利）遭受了难以置信的损失，因为他们没有机会清算他们大量亏损的头寸。*图9.6*展示了这一价格跳跃（或者说，更确切地说，是一次小行星般的下跌），你可以看到波动性在几分钟内超过了任何可想象和可信的极限：
- en: '![Figure 9.6 – Sharp fall of EURCHF on the decision of the SNB to unpeg the
    franc from the euro](img/B19145_9_06.jpg)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![图9.6 – SNB决定将法郎从欧元中脱钩后EURCHF的急剧下跌](img/B19145_9_06.jpg)'
- en: Figure 9.6 – Sharp fall of EURCHF on the decision of the SNB to unpeg the franc
    from the euro
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.6 – SNB决定将法郎从欧元中脱钩后EURCHF的急剧下跌
- en: All in all, although not risk-free, it is possible to trade on volatility regardless
    of the actual direction of price movements, and strategies of this kind are referred
    to as beta-generating strategies.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 总的来说，尽管不是无风险的，但无论价格的实际走势方向如何，都有可能在波动性上进行交易，这类策略被称为产生β的策略。
- en: Typically, option traders use various volatility models that help calculate
    *safe* price levels and adequate premiums for writing options. This approach is
    called **options pricing** and it is one of the most science-consuming domains
    in algo trading. We are not going to consider it in this book because it requires
    quite advanced knowledge in specific areas of mathematics.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，期权交易者使用各种波动率模型来帮助计算*安全*的价格水平和撰写期权的适当溢价。这种方法被称为**期权定价**，它是算法交易中最科学密集的领域之一。我们不会在本书中考虑它，因为它需要相当高级的特定数学领域的知识。
- en: Now that we are familiar with the idea of generating alpha and beta, let’s consider
    some of the most popular alpha-generating strategies.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经熟悉了生成alpha和beta的想法，让我们考虑一些最受欢迎的alpha生成策略。
- en: Alpha classics – trend-following, mean reversion, breakout, and momentum
  id: totrans-97
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Alpha经典策略 – 趋势跟踪、均值回归、突破和动量
- en: 'Let’s quickly recap the idea of generating alpha: we want to beat the market
    or perform better than an index (or just the rate itself in FX trading) by actively
    managing the position in the market. This means we try to buy when we expect the
    price to go up and we try to sell when we expect the price to go down.'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们快速回顾一下生成alpha的想法：我们希望通过积极管理市场中的头寸来打败市场或表现优于指数（或在外汇交易中只是利率本身）。这意味着我们试图在预期价格上升时买入，在预期价格下降时卖出。
- en: 'Therefore, in order to successfully generate alpha, we basically have only
    two options: either we suppose that the price will continue moving in an already
    established direction, or we anticipate a change. In the former case, we make
    an attempt to buy when prices go higher and sell when they go down. In the latter
    case, we try to buy when prices go down and sell when they go up.'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，为了成功生成alpha，我们基本上只有两个选择：要么我们假设价格将继续按照已经确立的方向移动，要么我们预测一个变化。在前一种情况下，我们试图在价格上升时买入，在价格下降时卖出。在后一种情况下，我们试图在价格下降时买入，在价格上升时卖出。
- en: Note for nerds
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 仅供专业人士参考
- en: In all the discussions and examples here, I intentionally don’t go deep into
    mathematics. We are focusing on the qualitative side of these phenomena to better
    understand their nature, and we will consider some of the specific mathematical
    models that describe these phenomena later in this book. I have also intentionally
    left some of the market models and trading strategies without practical implementations
    because they are too complex to consider within one chapter.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里的所有讨论和例子中，我故意没有深入数学。我们专注于这些现象的定性方面，以便更好地理解它们的本质，我们将在本书的后面部分考虑一些描述这些现象的具体数学模型。我还故意留下了一些市场模型和交易策略没有实际应用，因为它们太复杂，无法在一个章节内考虑。
- en: Now that we understand our (somewhat limited) options, we will consider each
    option in detail. Let’s start with a classical strategy that attempts to join
    the already established price movement and stay with it.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 既然我们已经了解了我们的（某种程度上有限）选择，我们将详细考虑每个选项。让我们从一个试图加入已经确立的价格走势并保持其走势的经典策略开始。
- en: Trend following
  id: totrans-103
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 趋势跟踪
- en: This is probably the most well-known trading strategy ever. It was born in stock
    markets and as we already know, stock markets tend to perpetually grow over time.
    So, when trading stocks, it indeed makes sense to buy and hold the position following
    the overall upside trend.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 这可能是迄今为止最著名的交易策略。它起源于股票市场，正如我们所知，股票市场往往会随着时间的推移而持续增长。因此，在交易股票时，跟随整体上涨趋势进行买入并持有确实是合理的。
- en: 'Funnily enough, a trend in trading is one of those terms that does not have
    a strict formal definition. Some authors define a trend as a sequence of higher
    highs and higher lows or vice versa – lower highs and lower lows in the market
    price, but such a definition is ambiguous because it misses the volatility (see
    the example about traveling from London to New York in the *Beta – earn from volatility*
    section). We can say that the market is in trend if the following applies for
    a given period of time:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 有趣的是，交易中的趋势是那些没有严格正式定义的术语之一。一些作者将趋势定义为市场价格中一系列更高的高点和更高的低点，或者相反——更低的高点和更低的低点，但这样的定义是模糊的，因为它忽略了波动性（参见*Beta
    – 从波动性中获利*部分中的例子）。我们可以这样说，如果以下情况在给定时间段内适用，则市场处于趋势中：
- en: Prices change substantially (that is, the difference in price between the start
    and the end of the observed interval is greater by absolute value than the average)
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 价格发生显著变化（即，观察区间开始和结束之间的价格差异的绝对值大于平均值）
- en: The market has low beta – that is, the volatility is less than the change in
    prices
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 市场贝塔值低 – 即波动性小于价格变化
- en: 'The observed time interval is substantial: its duration is several orders of
    magnitude greater than the duration of a single sample (for example, if the data
    resolution is 1 day, then we can consider a trend on a timespan of 50-200 days)'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 观察的时间间隔相当大：其持续时间比单个样本的持续时间大几个数量级（例如，如果数据分辨率为1天，那么我们可以考虑50-200天的趋势时间跨度）
- en: 'Let’s look at a couple of examples. These charts illustrate trending (in the
    right-hand chart) and non-trending (in the left-hand chart) markets:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看几个例子。这些图表说明了趋势（在右侧图表中）和非趋势（在左侧图表中）市场：
- en: '![](img/B19145_9_07.jpg)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B19145_9_07.jpg)'
- en: Figure 9.7 – Trending (right) and non-trending (left) markets according to a
    beta-based definition (charts by Multicharts)
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.7 – 根据基于贝塔的定义（Multicharts图表）的趋势（右侧）和非趋势（左侧）市场
- en: This figure clearly shows the inconsistency of the classical definition of a
    trend (higher highs and higher lows or lower highs and lower lows). In both charts,
    there is a certain downward trend in the price. In both charts, we can see a sequence
    of lower highs and lower lows. However, considering beta makes it clear that the
    left-hand chart represents a non-trending market and the right one depicts a trending
    market.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 此图清楚地显示了经典趋势定义的不一致性（更高的高点和更低低点或更低的高点和更低低点）。在两个图表中，价格都存在一定的下降趋势。在两个图表中，我们都可以看到一系列更低的高点和更低的低点。然而，考虑到贝塔值，可以清楚地看出左侧图表代表非趋势市场，而右侧图表描绘的是趋势市场。
- en: If we calculate the volatility as standard deviation and plot it above and below
    the regression line in the middle, we can see that the width of the resulting
    regression channel is greater in the left chart while the price itself has a greater
    absolute value of change in the right chart. To simplify the analysis, we added
    an indicator below each chart that plots the maximum value of the standard deviation
    for the period in consideration – thus, the line represents the latest actual
    value of volatility. You can see that in the right-hand chart, the alpha is greater
    and the beta is lower than in the left one, so we can say that according to our
    definition, the right chart represents a true trend.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们将波动性计算为标准差，并在中间回归线之上和之下绘制，我们可以看到左侧图表中产生的回归通道宽度更大，而价格本身在右侧图表中的变化绝对值更大。为了简化分析，我们在每个图表下方添加了一个指标，该指标绘制了考虑期间标准差的最大值
    – 因此，该线代表最新的实际波动值。您可以看到，在右侧图表中，alpha值更大，beta值低于左侧图表，因此我们可以说，根据我们的定义，右侧图表代表一个真正的趋势。
- en: If we can identify a trend, preferably at the beginning, join this long-term
    price movement, and exit before it reverses, then we can potentially generate
    alpha. Of course, since we are in systematic trading, we need a *technical trading
    setup*, a set of mathematical formulae that qualify trending or non-trending markets
    with a certain degree of probability. I intentionally won’t go into math now;
    the purpose of this chapter is just to familiarize you with the concepts. There
    are a few classical technical setups for identifying trends, mostly based on moving
    averages (see [*Chapter 7*](B19145_07.xhtml#_idTextAnchor114), *Technical Analysis
    and Its Implementation in Python*) and linear regression. We will see the implementation
    of such a technique in [*Chapter 12*](B19145_12.xhtml#_idTextAnchor203), *Sample
    Strategy –* *Trend-Following*.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们能够识别出趋势，最好是开始时，加入这个长期的价格运动，并在它反转之前退出，那么我们有可能产生alpha。当然，由于我们是系统交易，我们需要一个*技术交易设置*，一套数学公式，以一定程度的概率确定趋势或非趋势市场。我故意现在不深入数学；本章的目的只是让你熟悉这些概念。有一些经典的技术设置用于识别趋势，大多基于移动平均线（见[*第7章*](B19145_07.xhtml#_idTextAnchor114)，*技术分析和其在Python中的实现*）和线性回归。我们将在[*第12章*](B19145_12.xhtml#_idTextAnchor203)，*样本策略
    – 趋势跟踪*中看到这种技术的实现。
- en: Mean reversion
  id: totrans-115
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 均值回归
- en: The idea behind this type of trading strategy was originally born again in stock
    trading. Despite the fact that in the long term, markets always tends to grow,
    in the shorter term, we can always see rises and falls in the market price. Therefore,
    we can assume that there is a certain mean price that grows over time and consider
    deviations as temporary, so the price will eventually go back to that mean value.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 这种交易策略背后的想法最初在股票交易中再次出现。尽管从长远来看，市场总是倾向于增长，但在短期内，我们总能看到市场价格的起伏。因此，我们可以假设存在一个随时间增长的平均价格，并将偏差视为暂时的，因此价格最终会回到那个均值值。
- en: From this standpoint, even the Great Depression was only a deviation, and indeed,
    if you were bold enough to buy US stocks in the 1930s and lived long enough to
    hold them until 1950, then you could have easily doubled or tripled your fortune,
    at least its notional value (if you didn't consider inflation, then you may be
    quite surprised to discover that you cannot buy three times as many goods with
    your tripled amount of money).
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 从这个角度来看，即使是大萧条也只是一个偏差，事实上，如果你在20世纪30年代足够大胆地买入美国股票，并且活的时间足够长，直到1950年持有它们，那么你很容易就能使你的财富翻倍或三倍，至少是其名义价值（如果你不考虑通货膨胀，那么你可能会非常惊讶地发现，你不能用三倍的钱购买三倍数量的商品）。
- en: 'The point in **mean reversion** is thus the observed time interval. If we consider
    a short time span, say, 1 year or less, we can see any type of market effects
    there: trending up (or a **bullish market**), ranges, flattening, or trending
    down (or a **bearish market**). However, from a long-term perspective, it appears
    that almost all bearish markets are only temporary pullbacks from a hypothetical
    mean value that is constantly growing.'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，**均值回归**的关键在于观察的时间间隔。如果我们考虑一个较短的时间跨度，比如说，1年或更少，我们可以在那里看到任何类型的市场效应：上升趋势（或**牛市**）、区间波动、平缓或下降趋势（或**熊市**）。然而，从长期角度来看，似乎几乎所有熊市都只是从不断增长的假设均值值中的一次暂时回调。
- en: 'As we already know, currency markets do not exhibit the same long-term upside
    bias as stock markets, so it’s impossible to just buy every significant pullback
    and be on the positive side in 10-20 years. Instead, we have an advantage: we
    can buy and sell any currency versus any other equally easily. Therefore, the
    concept of mean reversion in currency markets is slightly different: if we can
    identify the current price as being too far from the theoretical mean value, then
    we enter the market in the direction toward this mean, that is, opposite to the
    current direction of the price movement.'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们已知的那样，货币市场并不像股票市场那样表现出相同的长期上涨倾向，因此不可能简单地购买每一次显著的回调，并在10-20年内保持正面。相反，我们有一个优势：我们可以轻松地买卖任何货币与任何其他货币。因此，货币市场的均值回归概念略有不同：如果我们能识别当前价格与理论均值相差太远，那么我们就进入市场，朝着这个均值的方向进行交易，也就是说，与价格运动当前方向相反。
- en: 'Mean reversion is also frequently referred to as **counter-trend trading**
    (or, to be more precise, counter-trend trading is a variation of mean reversion)
    because with counter-trend trading, we don’t just buy or sell and then hold the
    position for a long time, but rather enter the market for a relatively short time
    against the direction of the main price movement. The following figure illustrates
    possible counter-trend trades placed inside quite an established trend:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 均值回归也经常被称为**逆势交易**（或者更准确地说，逆势交易是均值回归的一种变体），因为在逆势交易中，我们不仅买入或卖出，然后长时间持有头寸，而是相对于主要价格运动的方向进入市场进行相对较短时间的交易。以下图示了在相当稳定的趋势中进行的可能的逆势交易：
- en: '![Figure 9.8 – Hypothetical counter-trend trades placed during a long-term
    trend (chart by Multicharts)](img/B19145_9_08.jpg)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![图9.8 – 在长期趋势期间假设的逆势交易（由Multicharts图表）](img/B19145_9_08.jpg)'
- en: Figure 9.8 – Hypothetical counter-trend trades placed during a long-term trend
    (chart by Multicharts)
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.8 – 在长期趋势期间假设的逆势交易（由Multicharts图表）
- en: In this figure, big grey down arrows mark potential entries against the trend
    (that is, when we would be able to sell the British pound and buy the Japanese
    yen) and thin black lines mark the potential profit that could be achieved if
    we stayed in a counter-trend position for that amount of time (assuming we exit
    at the end of each line). As you can see, counter-trend trades are way shorter
    in time than trend-following and they are much more frequent.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个图表中，大的灰色向下箭头标记了潜在的逆势入场点（即我们能够卖出英镑并买入日元的时刻），细黑线标记了如果我们保持逆势头寸这么长时间可能实现的潜在利润（假设我们在每条线的末端退出）。正如你所看到的，逆势交易的时间比趋势跟踪短得多，而且它们出现的频率也更高。
- en: 'You may ask: why place counter-trend trades if we could just buy GBPJPY in
    September 2020 and sell in May 2021?'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会问：如果我们可以在2020年9月买入GBPJPY并在2021年5月卖出，为什么还要进行逆势交易？
- en: There are two serious reasons for that.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 这有两个严重的原因。
- en: First, trends in the currency markets are quite infrequent. A trend-following
    strategy may place only 4-6 trades in 3 years, and there’s no guarantee that all
    of them will be profitable (as with any systematic trades).
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，货币市场的趋势相当罕见。趋势跟踪策略可能在3年内只进行4-6次交易，而且不能保证所有这些交易都会盈利（就像任何系统交易一样）。
- en: Second, the longer we stay in a position, the greater risk that the market will
    eventually go against us. Besides that, the volatility of returns from a trend-following
    position (beta of returns) will be high because it will replicate the volatility
    of the market itself. So, placing multiple counter-trend trades that stay in the
    market for a considerably shorter period could possibly improve the beta of the
    overall strategy performance.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，我们保持头寸的时间越长，市场最终与我们作对的风险就越大。除此之外，趋势跟踪头寸的回报波动性（回报的beta值）将很高，因为它会复制市场的波动性。因此，放置多个逆势交易，这些交易在市场上停留的时间相对较短，可能会提高整体策略表现的beta值。
- en: 'Currency markets also have quite an interesting feature: the shorter the timeframe,
    the more mean-reverting the market. Using daily data, it is possible to find really
    long-term trends, although not many. If you consider sampling market data at 4-hour
    intervals (you can refresh your memory about market data sampling in the *Data
    compression – keep the amounts to the reasonable minimum* section in [*Chapter
    5*](B19145_05.xhtml#_idTextAnchor086), *Retrieving and Handling Market Data with
    Python*), it will already become problematic to identify tradable trends: methods
    that work on daily data will yield a lot of *false* trends. And if you go down
    in data compression to 1 hour, 1 minute, or less, you will see that the proportion
    of duration of trending to non-trending market phases will degrade so much that
    mean reversion becomes almost the only trading technique that can be successfully
    used.'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 货币市场还有一个非常有趣的特点：时间跨度越短，市场越具有均值回归性。使用每日数据，虽然数量不多，但可以找到真正长期的趋势。如果你考虑以4小时为间隔采样市场数据（你可以在[*第五章*](B19145_05.xhtml#_idTextAnchor086)的*数据压缩
    – 保持数量在合理最低值*部分中刷新你对市场数据采样的记忆），那么识别可交易趋势就已经变得有难度了：在每日数据上有效的方法会产生大量*虚假*趋势。如果你将数据压缩到1小时、1分钟或更短，你会发现趋势与非趋势市场阶段的持续时间比例会大幅下降，以至于均值回归几乎成为唯一可以成功使用的交易技术。
- en: Why does it happen this way?
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 为什么会发生这样的事情？
- en: 'One of the key factors that destroys trend-following in shorter timeframes
    in currency markets is that all of them exhibit strong intraday periodicity. This
    periodicity is explained by the nature of this market: it is open 24 hours, 5
    days a week, but the activity of market participants is quite different during
    different hours of the day.'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 在货币市场中，导致趋势跟踪在较短时间内失效的关键因素之一是它们都表现出强烈的日内周期性。这种周期性是由市场的性质决定的：它每周开放24小时，5天，但市场参与者的活动在一天中的不同时间差异很大。
- en: 'Midday (from here on assuming we are in the GMT time zone) features greater
    liquidity and greater trading volume, and equally, important economic news is
    released during London and New York work hours. Night always has lower liquidity
    and lower trading volumes, and there is no important economic news, with the exception
    of the Asia Pacific region. So, intraday price volatility inevitably exhibits
    strong periodicity, thus making identifying tradable intraday trends quite problematic.
    In *Figure 9**.9*, you can see one of the simplest representations of volatility
    (just the range of each bar, that is, the difference between the bar’s high and
    low) and it’s clear that intraday periodicity is really strong in the FX markets:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 中午时分（从现在开始假设我们处于GMT时区）具有更高的流动性和更大的交易量，同样，在伦敦和纽约的工作时间内也会发布同等重要的经济新闻。夜间总是具有较低的流动性和较低的交易量，除了亚太地区外，没有重要的经济新闻。因此，日内价格波动不可避免地表现出强烈的周期性，这使得识别可交易的日内趋势相当困难。在*图9*.*9*中，你可以看到波动性（仅指每个柱子的范围，即柱子的高点和低点之间的差异）的最简单表示，很明显，在FX市场中日内周期性非常强：
- en: '![Figure 9.9 – Intraday (1 minute) price chart and volatility (chart by Multicharts)](img/B19145_9_09.jpg)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![图9.9 – 日内（1分钟）价格图表和波动性（由Multicharts图表）](img/B19145_9_09.jpg)'
- en: Figure 9.9 – Intraday (1 minute) price chart and volatility (chart by Multicharts)
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.9 – 日内（1分钟）价格图表和波动性（由Multicharts图表）
- en: In this figure, we can clearly see first (left to right) something that looks
    like a trend, but it lasts for only 2 days and after that, turns into a sideways
    (range) market. At the same time, volatility (plotted as simply the difference
    between the high and the low for each bar below the price chart) maintains this
    strong periodicity, and if you look carefully at the figure, you can see that
    every day, with no exception, we have periods of slowly changing prices and fast-changing
    prices. So, this factor significantly contributes to the overall intraday price
    behavior of currency markets, being more mean-reverting than trending.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个图表中，我们可以清楚地看到（从左到右）看起来像趋势的东西，但它只持续了2天，之后转变为横向（区间）市场。同时，波动性（在价格图表下方简单地表示为每个柱子的高低差）保持这种强烈的周期性，如果你仔细观察图表，你会看到每天，无一例外，我们都有价格缓慢变化和快速变化的时期。因此，这个因素显著地影响了货币市场的整体日内价格行为，比趋势更倾向于均值回归。
- en: As with trend-following, we are not going into a discussion of particular trading
    setups for trading mean reversion. Normally, technical indicators such as the
    RSI or a stochastic oscillator are used to determine the direction of the price
    movement and *overbought* and *oversold* zones, and then a trade is placed against
    the movement once the price is in such a zone. In [*Chapter 14*](B19145_14.xhtml#_idTextAnchor231),
    *Where to Go Now?*, I will provide links to a few resources on these technical
    setups, which you can use in your own strategies.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 与趋势跟踪一样，我们不会深入讨论特定交易设置来交易均值回归。通常，技术指标如RSI或随机振荡器被用来确定价格变动的方向以及*超买*和*超卖*区域，然后一旦价格进入这样的区域，就会进行与该变动相反的交易。在[*第14章*](B19145_14.xhtml#_idTextAnchor231)“现在去哪里？”中，我将提供一些关于这些技术设置的链接，您可以在自己的策略中使用。
- en: 'The prominent intraday periodicity in the market activity should make us think:
    isn’t there a way to systematically trade this periodical process? The answer
    is yes, although not directly and not in all markets. Let’s look at the breakout
    trading technique.'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 市场活动中突出的日内周期性应该让我们思考：有没有一种方法可以系统地交易这个过程？答案是肯定的，尽管不是直接也不是在所有市场中。让我们看看突破交易技术。
- en: Breakouts
  id: totrans-137
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 突破
- en: 'Both trend-following and mean reversion are attempts to trade the changes in
    price itself. **Breakouts** are a different beast: it’s an attempt to trade changes
    in volatility.'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 趋势跟踪和均值回归都是试图交易价格本身的变化。**突破**是另一种不同的生物：它是试图交易波动性的变化。
- en: 'The idea behind the breakout is based on the assumption that periods when market
    is trading in a narrow range and periods when it bursts into sharp price movements
    interleave with one another. In the language of volatility, this means that low-volatility
    periods eventually turn into periods of high volatility. Thus, the breakout market
    model assumes that the price movements consist only of these two phases: low and
    high volatility, and if we can identify the former, then we can possibly enter
    the market as soon as it leaves its "*comfort zone"* and join the freshly establishing
    price movement. With breakout trading, we don’t care about trends, mean reversion,
    or any other factors; we focus only on the relatively short-term process of changing
    the volatility from low to high.'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 突破背后的想法基于市场在狭窄范围内交易和突然出现剧烈价格波动的周期交替的假设。在波动率的语言中，这意味着低波动率期最终会转变为高波动率期。因此，突破市场模型假设价格波动只由这两个阶段组成：低波动和高波动，如果我们能识别前者，那么我们就可以在价格一旦离开其“舒适区”并加入新建立的价格运动时立即进入市场。在突破交易中，我们不在乎趋势、均值回归或任何其他因素；我们只关注从低波动率到高波动率的相对短期变化过程。
- en: The following figure illustrates a typical breakout setup. We can see that from
    11:30 until about 13:30, GBPJPY traded in a narrow range (shown by two horizontal
    lines on the price chart) and the volatility was also low (below the average shown
    as the horizontal line on the volatility chart below). Then, something happened;
    the price left the range and steadily went up for a distance three times the width
    of the original range. Volatility also increased and remained above average during
    the entire movement.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 下图说明了典型的突破设置。我们可以看到，从11:30到大约13:30，GBPJPY在狭窄的范围内交易（在价格图表上由两条水平线表示），波动率也很低（低于下方的波动率图表上的水平线表示的平均值）。然后，发生了某种情况；价格离开了范围，并稳步上升，距离是原始范围宽度的三倍。波动率也增加了，并在整个运动过程中保持在平均值之上。
- en: '![Figure 9.10 – Typical breakout intraday trading setup (chart by Multicharts)](img/B19145_9_10.jpg)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![图9.10 – 典型的突破日内交易设置（图表由Multicharts提供）](img/B19145_9_10.jpg)'
- en: Figure 9.10 – Typical breakout intraday trading setup (chart by Multicharts)
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.10 – 典型的突破日内交易设置（图表由Multicharts提供）
- en: Although breakout trading looks very attractive and quite natural for FX trading
    given the intrinsic alternation of low and high volatility periods intraday, it’s
    not a Holy Grail of trading – as with any trading technique. I intentionally presented
    you with an *ideal* breakout chart, but in reality, situations such as this are
    quite infrequent in all FX markets. Besides that, the definition of a breakout
    setup is very vague and has many degrees of freedom.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然突破交易看起来非常吸引人，对于日内交易来说，由于日内低波动和高波动期的内在交替，这似乎非常自然，但它并不是交易的圣杯——就像任何交易技术一样。我故意向您展示了一个**理想**的突破图表，但在现实中，这种情况在所有外汇市场中都相当罕见。此外，突破设置的界定非常模糊，具有许多自由度。
- en: Indeed, we say that price should first trade *in a narrow range*, but how do
    we define *narrow*? Then, we say that the price should leave this range and volatility
    should also exceed its mean, but even in this idealistic example, we can see a
    number of *false breakouts* – when volatility exceeded the average, but the price
    didn’t go anywhere.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 事实上，我们说价格首先应该在**狭窄的范围内**交易，但如何定义**狭窄**呢？然后，我们说价格应该离开这个范围，波动率也应该超过其平均值，即使在这样一个理想化的例子中，我们也可以看到许多**假突破**——当波动率超过平均值时，但价格却没有移动。
- en: So, in order to take advantage of breakouts, we need to have a robust formal
    mathematical description of what a *narrow range* is, what *the price leaving
    the range* means, and how we consider volatility to be *greater* *than average*.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，为了利用突破机会，我们需要有一个稳健的正式数学描述，即什么是**狭窄范围**，**价格离开范围**意味着什么，以及我们如何认为波动率是**大于平均**的。
- en: Now, we have been acquainted with the most popular alpha-generating trading
    strategies and these are what we will explore further. Unfortunately, it is impossible
    to consider all kinds of trading strategies in equal detail in one book (otherwise
    it would become a multi-volume encyclopedia!), but we will take a quick look at
    them so you know that the world of systematic and algo trading is enormously wide
    and diverse. Maybe it will ignite your interest in other applications of algo
    trading, or – who knows? – maybe it will help you make a career in finance.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们已经了解了最流行的alpha生成交易策略，这些策略就是我们接下来要深入探讨的内容。不幸的是，在一本书中不可能对各种交易策略进行同等详细的讨论（否则它将变成一部多卷本的百科全书！），但我们将会快速浏览它们，以便你知道系统性和算法交易的世界是极其广泛和多样化的。也许这会激发你对算法交易其他应用的兴趣，或者——谁知道呢？——也许这会帮助你实现金融职业。
- en: Arbitrage – let’s earn from others’ mistakes
  id: totrans-147
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 套利——让我们从他人的错误中获利
- en: '**Arbitrage** in financial markets means taking advantage of situations when
    the same asset is priced differently at different trading venues. Such a situation
    is usually called **mispricing** (there are other meanings of this term, and we
    will get back to it in the very next section about statistical arbitrage). Due
    to the colossal fragmentation of the FX market (see [*Chapter 3*](B19145_03.xhtml#_idTextAnchor044),
    *FX Market Overview from a Developer’s Standpoint*) mispricing there is not infrequent,
    so an arbitrage strategy looks pretty straightforward: as soon as we see that,
    say, EURUSD is priced at 1.00012 at LMAX and 1.00013 at IS Prime, then we simultaneously
    buy at LMAX and sell at IS Prime, pocketing one-tenth of a pip.'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 在金融市场上的**套利**意味着利用同一资产在不同交易场所价格不同的情况。这种情况通常被称为**定价错误**（这个术语还有其他含义，我们将在下一节关于统计套利的下一节中回到这个话题）。由于外汇市场的巨大碎片化（参见[*第3章*](B19145_03.xhtml#_idTextAnchor044)，*从开发者角度的外汇市场概述*），定价错误并不少见，因此套利策略看起来相当直接：一旦我们看到，比如说，EURUSD在LMAX的价格是1.00012，而在IS
    Prime的价格是1.00013，那么我们就同时在LMAX买入，在IS Prime卖出，赚取十分之一的点差。
- en: I think you can clearly see some problems with arbitrage, which directly follow
    from its description.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 我想你可以清楚地看到套利中存在的一些问题，这些问题直接源于其描述。
- en: 'First, the potential profit from a single trade is ridiculously small, so you
    have to make lots of trades in order to be consistently profitable. And don’t
    forget about trading costs: commissions, trading server maintenance fees, and
    so on. Your trade should cover them all; otherwise, you will only achieve what
    traders refer to as **paper profit**.'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，单次交易的潜在利润非常小，因此您必须进行大量的交易才能持续盈利。别忘了交易成本：佣金、交易服务器维护费等等。您的交易应该覆盖所有这些成本；否则，您只会实现交易者所说的**纸上利润**。
- en: 'The second (and main problem) with classical arbitrage is the number of arbitrageurs
    – they act so quickly that the price may change before your order is executed.
    Then, you have two options: either wait in hope that the price returns to a level
    where trade is profitable or liquidate your position with a loss. In this sense,
    the type of risk in arbitrage is somewhat similar to that of market making (see
    the *Market makers – comfortable, sophisticated, expensive* section [*Chapter
    3*](B19145_03.xhtml#_idTextAnchor044), *FX Market Overview from a Developer’s
    Standpoint*) although the former is an alpha-generating buy-side trading activity,
    and the latter is a beta-earning sell-side trading activity.'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 经典套利的第二个（也是主要问题）是套利者的数量——他们行动如此迅速，以至于在您的订单执行之前价格可能已经改变。然后，您有两个选择：要么等待希望价格回到交易有利可图的水平，要么以损失了结您的头寸。从这个意义上说，套利的风险类型与市场做市商的风险类型有些相似（参见*市场做市商——舒适、复杂、昂贵*部分[*第3章*](B19145_03.xhtml#_idTextAnchor044)，*从开发者角度的外汇市场概述*），尽管前者是生成alpha的买方交易活动，而后者是赚取beta的卖方交易活动。
- en: FX markets also feature a unique form of arbitrage, which is called **triangle
    arbitrage**. This kind of arbitrage exists only because we don’t buy and sell
    assets for currency, but trade currencies against each other. So, we can search
    for opportunities for mispricing in so-called synthetic currency pairs. Let’s
    consider an example.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 外汇市场还特有一种独特的套利形式，被称为**三角形套利**。这种套利之所以存在，仅仅是因为我们不是用货币买卖资产，而是用货币相互交易。因此，我们可以在所谓的合成货币对中寻找定价错误的机会。让我们来看一个例子。
- en: Let’s suppose that the EURUSD is traded at 0.99745\. At the same time, the USDJPY
    is traded at 146.336\. If we calculate the rate of the euro versus the Japanese
    yen using these two rates, we will get the rate of EURJPY at 145.963, but when
    we look at the real market, we find that the actual rate of EURJPY at a particular
    trading venue is 145.972\. The difference between the real currency pair (EURJPY)
    and our synthetically calculated rate is 0.9 pips. So, we immediately sell USDJPY
    (thus, we have JPY and have sold USD) and EURUSD (thus we have USD and have sold
    EUR), which efficiently creates a short position in EURJPY. At the same time,
    we buy EURJPY, from where it’s traded at a mispriced rate and makes a profit of
    0.9 pips.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 假设EURUSD的汇率为0.99745。同时，USDJPY的汇率为146.336。如果我们使用这两个汇率来计算欧元对日元的汇率，我们将得到EURJPY的汇率为145.963，但当我们查看实际市场时，我们发现特定交易场所EURJPY的实际汇率为145.972。实际货币对（EURJPY）与我们的合成计算汇率之间的差异为0.9个点。因此，我们立即卖出USDJPY（因此，我们拥有JPY并卖出了USD），以及EURUSD（因此，我们拥有USD并卖出了EUR），这有效地在EURJPY上创造了一个空头头寸。同时，我们从被错误定价的汇率处买入EURJPY，从中获利0.9个点。
- en: 'Of course, triangle arbitrage is prone to the same diseases as *plain* arbitrage:
    speed is crucial, and potential losses are always much greater than potential
    profits. Therefore, normally, arbitrage is the realm of financial institutions,
    and we have considered it here briefly only so that you knew how it works (and
    let me repeat again, who knows where you will find yourself working next year?)'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，三角形套利容易受到与*普通*套利相同的疾病的影响：速度至关重要，潜在损失总是远大于潜在利润。因此，通常，套利是金融机构的领域，我们在这里只是简要地讨论了它，以便你知道它是如何工作的（并且让我再次重复，谁知道你明年会在哪里工作？）
- en: Statistical arbitrage
  id: totrans-155
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 统计套利
- en: 'As we saw in the previous section, arbitrage is based on the idea of mispricing:
    a situation in which an asset is priced incorrectly. But to say whether something
    is priced incorrectly or correctly, we need a reference that is known to be priced
    correctly, don’t we?'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，套利基于错误定价的想法：资产被错误定价的情况。但要说某物定价是否正确，我们需要一个已知定价正确的参考，不是吗？
- en: In classical arbitrage, such a reference is the asset price itself, and we take
    advantage of mispricing across different trading venues trading the same asset.
    **Statistical arbitrage** (**stat arb**) uses the concept of fair value to determine
    whether the asset is mispriced. In simple terms, with classical arbitrage, we
    compare the price of the asset versus another price of the asset that exists at
    the same moment in time. With stat arb, we compare the price of the asset to a
    theoretical fair value to which we expect the price to revert in the future.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 在经典套利中，这样的参考是资产价格本身，我们利用同一资产在不同交易场所之间的错误定价。**统计套利**（**stat arb**）使用公允价值的概念来确定资产是否被错误定价。简单来说，在经典套利中，我们比较同一时刻存在的资产价格与另一资产价格。在统计套利中，我们比较资产价格与一个理论上的公允价值，我们期望价格在未来会回归到这个价值。
- en: In a certain sense, stat arb is a modification or extension of the concept of
    mean reversion. Indeed, a successful mean reversion strategy is based on the statistical
    analysis of various price-volume-volatility setups, with the assumption that if
    the price is too far from a certain mean value, then it will return to it sooner
    or later. Stat arb replaces the mean value with a fair value, which can be derived
    from multiple factors, from money flows to political situations.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 在某种意义上，统计套利是对均值回归概念的修改或扩展。确实，一个成功的均值回归策略是基于对各种价格-量-波动性设置的统计分析，假设如果价格偏离某个均值太远，那么它迟早会回归到这个均值。统计套利将均值替换为公允价值，这可以从多个因素中得出，从资金流动到政治局势。
- en: One of the most popular applications of stat arb is **derivatives trading**.
    We already quickly mentioned derivatives in the *Trade mechanics – again some
    terminology* section of [*Chapter 3*](B19145_03.xhtml#_idTextAnchor044), *FX Market
    Overview from a Developer’s Standpoint*. Let’s get a bit deeper into this complex
    yet very interesting domain.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 统计套利最流行的应用之一是**衍生品交易**。我们已经在[*第三章*](B19145_03.xhtml#_idTextAnchor044)的*交易机制
    – 再次一些术语*部分中简要提到了衍生品，*从开发者的角度来看的FX市场概述*。让我们更深入地探讨这个复杂但非常有趣的领域。
- en: 'In simple terms, a derivative is a financial instrument that gives its owner
    either a right to buy or sell an asset or the obligation to buy or sell an asset
    at a certain price on a certain date. Note these two mandatory attributes of a
    derivate: *at a certain price on a certain date*. This makes derivatives priced
    differently from the asset (which is called the **underlying**) – because they
    all have an **expiration**, a date on which the final settlement should be made.'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 简单来说，衍生品是一种金融工具，它赋予其所有者购买或出售资产的权利，或者在某些日期以特定价格购买或出售资产的责任。注意衍生品的这两个强制性属性：*在特定日期以特定价格*。这使得衍生品的价格与资产（称为**标的资产**）不同——因为它们都有**到期日**，即最终结算应进行的日期。
- en: It indeed sounds sophisticated if you’re not familiar with derivatives, but
    in fact, it’s quite simple. Let’s consider an example.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你不太熟悉衍生品，这确实听起来很复杂，但实际上却相当简单。让我们来看一个例子。
- en: Suppose that today is January 1 and the current price of EURUSD is 1.00000\.
    I think that the price will grow by the third Friday of March to 1.02000\. You
    think that it will not exceed 1.01000\. So, you sell a **future contract**, which
    is an obligation to sell the euro at 1.01000, and I buy this contract, which for
    me, means an obligation to buy the euro from you on the same date – the third
    Friday of March. This date is called the expiration date of the future contract,
    and the process of mutual buying and selling on expiration is called **settlement**.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 假设今天是1月1日，EURUSD的当前价格为1.00000。我认为价格将在3月的第三个星期五增长到1.02000。你认为它不会超过1.01000。因此，你卖出**期货合约**，即以1.01000的价格出售欧元的义务，而我购买了这份合约，对我来说，这意味着在相同的日期——3月的第三个星期五——从你那里购买欧元的义务。这个日期被称为期货合约的到期日，到期日相互买卖的过程称为**结算**。
- en: I think it’s clear what may happen with our positions on the expiration date.
    If I am right and the price of the euro has indeed raised to 1.02000, then I buy
    the euro from you at 1.01000 and immediately sell at 1.02000, which means I made
    a profit of 100 pips. Subsequently, you have to sell the euro to me at 1.01000,
    and given its market price is now 1.02000, you suffer a loss of 100 pips.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 我认为在到期日我们的头寸可能发生什么应该是很清楚的。如果我说对了，欧元的价格确实上涨到了1.02000，那么我将以1.01000的价格从你那里购买欧元，并立即以1.02000的价格卖出，这意味着我赚了100个点。随后，你必须以1.01000的价格将欧元卖给我，考虑到其市场价格现在是1.02000，你将损失100个点。
- en: 'The expiration date significantly affects the price of the future contract.
    Typically, the more distant the expiration date, the greater the difference in
    the price of the respective future contract compared to today’s price, or the
    spot price. The following figure illustrates this difference:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 到期日显著影响期货合约的价格。通常，到期日越远，与今天的价格或现货价格相比，相应的期货合约价格差异就越大。以下图表说明了这种差异：
- en: '![Figure 9.11 – Prices of CME FX euro futures with various expiration dates
    (source: CME)](img/B19145_9_11.jpg)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![图9.11 – 不同到期日的CME外汇欧元期货价格（来源：CME）](img/B19145_9_11.jpg)'
- en: 'Figure 9.11 – Prices of CME FX euro futures with various expiration dates (source:
    CME)'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.11 – 不同到期日的CME外汇欧元期货价格（来源：CME）
- en: You can see that the more distant the expiration date, the greater the price
    of the respective future contract. This means that the overall sentiment in the
    market at the moment of this snapshot is bullish – most traders think the euro
    will grow over time.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以看到，到期日越远，相应的期货合约价格就越高。这意味着在这个快照时刻的市场整体情绪是看涨的——大多数交易者认为欧元将会随着时间的推移而增长。
- en: 'Of course, this sentiment can’t be traded as is – because the price of the
    underlying can go down and then the prices of future contracts will also decrease.
    However, differences in prices open doors to stat arb between them: we can assume
    that eventually – by the expiration date – the price of the future should revert
    to the *fair value*, which will be the spot price of the euro itself. Thus, buying
    contracts with earlier expiration dates and selling those that expire later, or
    vice versa, could be a kind of stat arb between the derivatives markets.'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，这种情绪不能直接交易——因为标的资产的价格可能会下跌，然后期货合约的价格也会下降。然而，价格差异为统计套利打开了大门：我们可以假设最终——到到期日——期货的价格应该回归到**公平价值**，这将等于欧元本身的现货价格。因此，购买到期日较早的合约并卖出到期日较晚的合约，或者相反，可以在衍生品市场之间进行一种统计套利。
- en: Normally, a stat arb setup includes hundreds of markets, and sometimes thousands,
    looking for statistically confirmed potential mispricing (potential – because
    they do not exist in a single moment of time, but may be realized in the future).
    We are not going to consider stat arb in detail, as this domain is so large that
    it deserves a separate book.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，统计套利设置包括数百个市场，有时甚至数千个，寻找统计上确认的潜在定价错误（潜在——因为它们不会在某一时刻存在，但可能在将来实现）。我们不会详细考虑统计套利，因为这个领域如此之大，值得有一本单独的书来讨论。
- en: However unlike classical arbitrage, stat arb is surely available to any trader
    (with sufficient funding to afford to have dozens of concurrently open positions),
    so if you are interested in learning more about it, I’d recommend starting with
    some mathematics, namely, learning about correlation ([https://en.wikipedia.org/wiki/Correlation](https://en.wikipedia.org/wiki/Correlation))
    and cointegration ([https://en.wikipedia.org/wiki/Cointegration](https://en.wikipedia.org/wiki/Cointegration)),
    and then reading a short but quite informative article by Sabir Jana, CFA ([https://medium.com/analytics-vidhya/statistical-arbitrage-with-pairs-trading-and-backtesting-ec657b25a368](https://medium.com/analytics-vidhya/statistical-arbitrage-with-pairs-trading-and-backtesting-ec657b25a368)),
    in which the author explains the basics of building a stat arb setup using stocks
    – but the same approach can be applied to currencies and their derivatives.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，与经典套利不同，统计套利对任何交易者（只要有足够的资金来承担数十个同时开放的头寸）都是可用的，所以如果你对它感兴趣并想了解更多，我建议从一些数学知识开始，即学习关于相关性([https://en.wikipedia.org/wiki/Correlation](https://en.wikipedia.org/wiki/Correlation))和协整([https://en.wikipedia.org/wiki/Cointegration](https://en.wikipedia.org/wiki/Cointegration))，然后阅读Sabir
    Jana，CFA写的一篇简短但信息量很大的文章([https://medium.com/analytics-vidhya/statistical-arbitrage-with-pairs-trading-and-backtesting-ec657b25a368](https://medium.com/analytics-vidhya/statistical-arbitrage-with-pairs-trading-and-backtesting-ec657b25a368))，其中作者解释了使用股票构建统计套利设置的基本原理——但同样的方法也可以应用于货币及其衍生品。
- en: So far, we have considered alpha-generating strategies that base their entries
    on various setups in terms of price, volume, and volatility. However, there is
    a class of strategies that do not consider this market information at all, or
    at least partly. These are event-driven strategies – and don’t confuse them with
    the event-driven architecture of applications!
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经考虑了基于价格、成交量以及波动率等不同设置的alpha生成策略。然而，存在一类策略根本不考虑这种市场信息，或者至少部分不考虑。这些是事件驱动策略——而且不要把它们与应用程序的事件驱动架构混淆！
- en: Event-driven trading strategies
  id: totrans-172
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 事件驱动交易策略
- en: An **event-driven strategy** mostly relies on non-market data such as economic
    or political news. We already considered the impact of these events on the market
    price (see [*Chapter 6*](B19145_06.xhtml#_idTextAnchor101), *Basics of Fundamental
    Analysis and Its Possible Use in FX Trading*). So, an event-driven strategy can
    attempt to enter when significant news hits the market and exit soon after.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 事件驱动策略主要依赖于非市场数据，如经济或政治新闻。我们已经考虑了这些事件对市场价格的影响（参见[*第6章*](B19145_06.xhtml#_idTextAnchor101)，*基本面分析的基础及其在FX交易中的可能用途*)。因此，事件驱动策略可以在重大新闻冲击市场时尝试进入，并在之后不久退出。
- en: 'The problem with strategies of this kind was also considered in detail in the
    same chapter: due to insufficient liquidity around the time of a news release,
    the price may jump in virtually any direction at an arbitrary distance, so you
    have no chance to place a trade at the desired price. At the same time, the return
    of liquidity may drive the price in the opposite direction, completely eliminating
    the potential for a profit in a few minutes (see [*Chapter 6*](B19145_06.xhtml#_idTextAnchor101)
    again for an example with the British pound and the release of the UK’s GDP figures).'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 同一章节中也详细考虑了这类策略的问题：由于新闻发布时流动性不足，价格可能在任意距离上几乎向任何方向跳跃，因此你几乎没有机会在期望的价格上成交。同时，流动性的回归可能会将价格推向相反方向，几分钟内完全消除盈利的可能性（再次参见[*第6章*](B19145_06.xhtml#_idTextAnchor101)中的例子，涉及英镑和英国GDP数据的发布）。
- en: I can confirm that profitable news traders used to exist in the early 2000s,
    but it has been really hard to make this trading consistent after 2010\. So, we
    are not going to use non-price information in our strategies for any purpose other
    than, probably, stopping the execution of the strategy before potentially high-impact
    news.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 我可以确认，在2000年代初，曾经存在过盈利的新闻交易员，但自2010年以来，要使这种交易持续下去确实非常困难。因此，我们不会在我们的策略中出于任何目的使用非价格信息，除了可能是在潜在的高影响新闻发布之前停止策略的执行。
- en: Market-making – profiting on liquidity provision and associated risks
  id: totrans-176
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 做市——从流动性提供和相关风险中获利
- en: We already considered market-making in detail in the *Market makers – comfortable,
    sophisticated, expensive* section in [*Chapter 3*](B19145_03.xhtml#_idTextAnchor044),
    *FX Market Overview from a Developer’s Standpoint*, so there’s no need to repeat
    ourselves here. We will mention market-making here only for consistency as an
    example of a sell-side trading strategy. If we want to classify market-making
    as pertaining to alpha- or beta-generating strategies, probably we could qualify
    it as beta-generating. However, at the same time, high values of beta are harmful
    to market-making. In general, market making requires the trader not only to be
    sufficiently funded but also to meet various regulatory requirements, which makes
    this activity available mostly to institutions.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经在[*第三章*](B19145_03.xhtml#_idTextAnchor044)的“做市商——舒适、复杂、昂贵”部分详细考虑了做市，所以在这里没有必要重复。我们在这里仅为了保持一致性，将其作为一个卖方交易策略的例子提及。如果我们想要将做市归类为与alpha或beta生成策略相关，我们可能可以将它归类为beta生成策略。然而，与此同时，高beta值对做市是有害的。一般来说，做市要求交易者不仅要有足够的资金，还要满足各种监管要求，这使得这项活动主要对机构开放。
- en: This is no surprise that market making requires not only direct access to the
    order book, with the ability to update the best bid and ask there, but also assumes
    that you are able to send your own bids and asks and match client orders faster
    than others. In this way, we are entering the realm of low-latency and **high-frequency**
    **trading** (**HFT**).
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 做市需要不仅能够直接访问订单簿，并有能力在那里更新最佳买入价和卖出价，而且还假定你能够比其他人更快地发送自己的买入价和卖出价以及匹配客户订单。通过这种方式，我们进入了低延迟和高频交易（HFT）的领域。
- en: High frequency, low latency – where Python fails
  id: totrans-179
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 高频、低延迟——Python的失败之处
- en: Our overview would be incomplete without mentioning HFT. Its roots are in the
    financial crisis of 2008 when liquidity became the main issue in most, if not
    all, developed markets. Exchanges started to offer an incentive to those who provided
    liquidity, waiving many restrictions that previously required liquidity providers
    to be regulated. As a result, many market participants started to offer liquidity,
    or, rather, demonstrated this liquidity in the order book – because they sent
    an order only to withdraw it from the book some milliseconds later. In other words,
    they started to bluff creating an illusion of liquidity.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 如果不提及高频交易（HFT），我们的概述将是不完整的。其根源在于2008年的金融危机，当时流动性成为大多数，如果不是所有发达市场的主要问题。交易所开始向提供流动性的个人提供激励，取消了之前要求流动性提供者受监管的许多限制。因此，许多市场参与者开始提供流动性，或者更确切地说，在订单簿中展示了这种流动性——因为他们只发送了一个订单，几毫秒后从簿中撤回。换句话说，他们开始制造骗局，创造流动性的错觉。
- en: Of course, to be successful here, you need to be able to process thousands of
    transactions per second and reduce the latency (that is, the time between the
    order is sent to the exchange and the time it appears in the order book) to the
    absolute minimum. That’s why HFT requires very expensive computers located at
    very expensive data centers as close to the exchange servers as possible.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，要想在这里取得成功，你需要能够每秒处理数千笔交易，并将延迟（即从订单发送到交易所到订单出现在订单簿中的时间）降低到绝对最小。这就是为什么高频交易（HFT）需要位于非常昂贵的数据中心、尽可能靠近交易所服务器的昂贵计算机。
- en: 'HFT was heavily criticized, especially after two events known as **flash crashes**:
    situations in which the price drops a significant amount (over 10%) without any
    visible reason. It is quite possible that if an HFT trader sent a large order,
    then a buy-side market participant decided to trade against this order, and the
    HFT trader withdrew the order a fraction of a millisecond before the trade, then
    the buy-side order would swipe the order book, moving the price to levels that,
    of course, were neither expected nor desirable (see the *Exchange and order book*
    section in [*Chapter 3*](B19145_03.xhtml#_idTextAnchor044), *FX Market Overview
    from a* *Developer’s Standpoint*).'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 高频交易受到了严厉的批评，尤其是在两次被称为 **闪电崩盘** 的事件之后：在这些情况下，价格在没有明显原因的情况下大幅下跌（超过 10%）。完全有可能的是，如果一位高频交易员发送了一个大订单，那么买方市场参与者决定与这个订单进行交易，并且高频交易员在交易前的一小部分毫秒内撤回了订单，那么买方订单就会扫清订单簿，将价格移动到当然既不是预期也不是希望达到的水平（参见
    [*第 3 章*](B19145_03.xhtml#_idTextAnchor044) 中的 *“交易所和订单簿”* 部分，*从开发者角度的 FX 市场概述*）。
- en: So, it’s clear that HFT is a domain in which Python will fail because of its
    speed. Most HFT algos are written in C++ or sometimes in C, with the most critical
    parts sometimes in Assembler. It’s worth mentioning again that compilers such
    as Numba or Cython may dramatically increase the speed of Python code; however,
    they cannot achieve the speed of compiled C or C++ code. Besides that, all Python-based
    solutions have very limited support for FPGAs, so sometimes professional algo
    traders say that Python is suitable only for *slow HFT* algorithms (which work
    in milliseconds not microseconds).
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，很明显，由于速度问题，Python 将会在高频交易（HFT）领域失败。大多数高频交易算法是用 C++ 编写的，有时也用 C 编写，其中最关键的部分有时是用汇编语言编写的。再次值得一提的是，像
    Numba 或 Cython 这样的编译器可以显著提高 Python 代码的速度；然而，它们无法达到编译后的 C 或 C++ 代码的速度。除此之外，所有基于
    Python 的解决方案对 FPGA 的支持都非常有限，因此有时专业的算法交易员会说 Python 只适合于 *慢速 HFT* 算法（这些算法以毫秒而不是微秒为单位工作）。
- en: With all these considerations in mind, there’s no wonder that we are not going
    to consider HFT trading strategies in this book. Just be aware when you see a
    nice order in the order book, you cannot always grasp it for your profit!
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到所有这些因素，我们在这本书中不会考虑高频交易策略也就不足为奇了。只是当你看到订单簿中一个不错的订单时，要意识到你并不总能抓住它以获取利润！
- en: Summary
  id: totrans-185
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we learned about the key terms and concepts of systematic and
    algo trading. We familiarized ourselves with alpha and beta as risk metrics in
    investment and at the same time, as different methods for profit generation in
    algo trading. We considered a few popular alpha-generating trading strategies
    and learned about their advantages, shortcomings, and associated risks. We also
    touched on the complex domain of options trading as the primary method to earn
    on market beta and gave a quick look at other trading strategies, such as arbitrage
    and stat arb, market-making, and HFT.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们学习了系统交易和算法交易的关键术语和概念。我们熟悉了 alpha 和 beta 作为投资中的风险指标，同时，作为算法交易中利润生成的方法。我们考虑了几种流行的
    alpha 生成交易策略，并了解了它们的优点、缺点和相关的风险。我们还简要介绍了期权交易这一复杂领域，作为在市场 beta 上盈利的主要方法，并快速浏览了其他交易策略，如套利、统计套利、做市和
    HFT。
- en: Now that we know the conditions under which a certain strategy may enter or
    exit the market, the last obstacle on our way to a first trading application is
    the mechanism that generates orders according to the strategy rules, sends them
    to the market, and controls their execution. Recalling the analogy at the beginning
    of this chapter, now we have added the brains to our trading app, and it’s time
    to add the limbs with which it will be able to move. This is what we are going
    to develop in the very next chapter.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们知道了某些策略可能进入或退出市场的情况，我们通往第一个交易应用的道路上的最后一个障碍就是根据策略规则生成订单、将它们发送到市场并控制它们执行机制的机制。回忆一下本章开头提到的类比，现在我们已经为我们的交易应用添加了大脑，现在是时候添加它将能够移动的肢体了。这正是我们将在下一章中开发的。
