<html><head></head><body>
  <div class="Basic-Text-Frame" id="_idContainer256">
   <h1 class="chapterNumber">
    <span class="koboSpan" id="kobo.1.1">
     16
    </span>
   </h1>
   <h1 class="chapterTitle" id="_idParaDest-387">
    <span class="koboSpan" id="kobo.2.1">
     Packaging Python Applications
    </span>
   </h1>
   <blockquote class="packt_quote">
    <p class="quote">
     <span class="koboSpan" id="kobo.3.1">
      ”Do you have any cheese at all?”
     </span>
     <span class="koboSpan" id="kobo.3.2">
      “No.”
     </span>
    </p>
    <p class="cite">
     <span class="koboSpan" id="kobo.4.1">
      – Monty Python, the “Cheese Shop” sketch
     </span>
    </p>
   </blockquote>
   <p class="normal">
    <span class="koboSpan" id="kobo.5.1">
     In this chapter, we are going to learn how to create an installable package for a Python project and publish it for others to use.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.6.1">
     There are many reasons why you should publish your code.
    </span>
    <span class="koboSpan" id="kobo.6.2">
     In
    </span>
    <em class="chapterRef">
     <span class="koboSpan" id="kobo.7.1">
      Chapter 1, A Gentle Introduction to Python
     </span>
    </em>
    <span class="koboSpan" id="kobo.8.1">
     , we said that one of the benefits of Python is the vast ecosystem of third-party packages that you can install for free using
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.9.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.10.1">
     .
    </span>
    <span class="koboSpan" id="kobo.10.2">
     Most of these were created by developers just like you and, by contributing with your own projects, you will be helping to ensure that the community keeps thriving.
    </span>
    <span class="koboSpan" id="kobo.10.3">
     In the long term, it will also help to improve your code, since exposing it to more users means bugs might be discovered sooner.
    </span>
    <span class="koboSpan" id="kobo.10.4">
     Finally, if you are trying to get a job as a software developer, it really helps to be able to point to projects that you have worked on.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.11.1">
     The best way to learn about packaging is to go through the process of creating a package and publishing it.
    </span>
    <span class="koboSpan" id="kobo.11.2">
     That is what we are going to do in this chapter.
    </span>
    <span class="koboSpan" id="kobo.11.3">
     The project that we will be working with is the Railway
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.12.1">
      command-line interface
     </span>
    </strong>
    <span class="koboSpan" id="kobo.13.1">
     (
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.14.1">
      CLI
     </span>
    </strong>
    <span class="koboSpan" id="kobo.15.1">
     ) application we developed in
    </span>
    <em class="chapterRef">
     <span class="koboSpan" id="kobo.16.1">
      Chapter 15, CLI Applications
     </span>
    </em>
    <span class="koboSpan" id="kobo.17.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.18.1">
     In this chapter, we are going to learn about the following:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.19.1">
      How to create a distribution package for your project
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.20.1">
      How to publish your package
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.21.1">
      The different tools for packaging
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.22.1">
     Before we start packaging and publishing our project, we will give you a brief introduction to the
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.23.1">
      Python Package Index
     </span>
    </strong>
    <span class="koboSpan" id="kobo.24.1">
     (
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.25.1">
      PyPI
     </span>
    </strong>
    <span class="koboSpan" id="kobo.26.1">
     ) and some important terminology around Python packaging.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-388">
    <span class="koboSpan" id="kobo.27.1">
     The Python Package Index
    </span>
   </h1>
   <p class="normal">
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.28.1">
      PyPI
     </span>
    </strong>
    <span class="koboSpan" id="kobo.29.1">
     is an online
    </span>
    <a id="_idIndexMarker1348">
    </a>
    <span class="koboSpan" id="kobo.30.1">
     repository of Python packages, hosted
    </span>
    <a id="_idIndexMarker1349">
    </a>
    <span class="koboSpan" id="kobo.31.1">
     at
    </span>
    <a href="https://pypi.org">
     <span class="url">
      <span class="koboSpan" id="kobo.32.1">
       https://pypi.org
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.33.1">
     .
    </span>
    <span class="koboSpan" id="kobo.33.2">
     It has a web interface that can be used to browse or search for packages and view their details.
    </span>
    <span class="koboSpan" id="kobo.33.3">
     It also has APIs for tools like
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.34.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.35.1">
     to
    </span>
    <a id="_idIndexMarker1350">
    </a>
    <span class="koboSpan" id="kobo.36.1">
     find and download packages to install.
    </span>
    <span class="koboSpan" id="kobo.36.2">
     PyPI is open for anybody to register and distribute their projects for free.
    </span>
    <span class="koboSpan" id="kobo.36.3">
     Anybody can also install any package from PyPI for free.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.37.1">
     The repository is organized into
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.38.1">
      projects
     </span>
    </strong>
    <span class="koboSpan" id="kobo.39.1">
     ,
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.40.1">
      releases
     </span>
    </strong>
    <span class="koboSpan" id="kobo.41.1">
     , and
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.42.1">
      distribution packages
     </span>
    </strong>
    <span class="koboSpan" id="kobo.43.1">
     .
    </span>
    <span class="koboSpan" id="kobo.43.2">
     A project
    </span>
    <a id="_idIndexMarker1351">
    </a>
    <span class="koboSpan" id="kobo.44.1">
     is a library, script, or application with its associated data or resources.
    </span>
    <span class="koboSpan" id="kobo.44.2">
     For example,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.45.1">
      FastAPI
     </span>
    </em>
    <span class="koboSpan" id="kobo.46.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.47.1">
      Requests
     </span>
    </em>
    <span class="koboSpan" id="kobo.48.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.49.1">
      pandas
     </span>
    </em>
    <span class="koboSpan" id="kobo.50.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.51.1">
      SQLAlchemy
     </span>
    </em>
    <span class="koboSpan" id="kobo.52.1">
     , and our Railway CLI application are all projects.
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.53.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.54.1">
     itself is a project as well.
    </span>
    <span class="koboSpan" id="kobo.54.2">
     A release is a particular version (or snapshot in time) of a project.
    </span>
    <span class="koboSpan" id="kobo.54.3">
     Releases
    </span>
    <a id="_idIndexMarker1352">
    </a>
    <span class="koboSpan" id="kobo.55.1">
     are identified by version numbers.
    </span>
    <span class="koboSpan" id="kobo.55.2">
     For example,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.56.1">
      pip
     </span>
    </code>
    <em class="italic">
     <span class="koboSpan" id="kobo.57.1">
      24.2
     </span>
    </em>
    <span class="koboSpan" id="kobo.58.1">
     is a release of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.59.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.60.1">
     project.
    </span>
    <span class="koboSpan" id="kobo.60.2">
     Releases are distributed in the form of distribution packages.
    </span>
    <span class="koboSpan" id="kobo.60.3">
     These are archive files, tagged with the release version, which contain the Python modules, data files, and so on, that make up the release.
    </span>
    <span class="koboSpan" id="kobo.60.4">
     Distribution packages
    </span>
    <a id="_idIndexMarker1353">
    </a>
    <span class="koboSpan" id="kobo.61.1">
     also contain metadata about the project and release, such as the name of the project, the authors, the release version, and dependencies that also need to be installed.
    </span>
    <span class="koboSpan" id="kobo.61.2">
     Distribution packages are also referred to as
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.62.1">
      distributions
     </span>
    </strong>
    <span class="koboSpan" id="kobo.63.1">
     or
    </span>
    <a id="_idIndexMarker1354">
    </a>
    <span class="koboSpan" id="kobo.64.1">
     just
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.65.1">
      packages
     </span>
    </strong>
    <span class="koboSpan" id="kobo.66.1">
     .
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.67.1">
      In Python, the word
     </span>
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.68.1">
       package
      </span>
     </strong>
     <span class="koboSpan" id="kobo.69.1">
      is also used to refer to an importable module that can contain other modules, usually in the form of a folder containing a
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.70.1">
       __init__.py
      </span>
     </code>
     <span class="koboSpan" id="kobo.71.1">
      file.
     </span>
     <span class="koboSpan" id="kobo.71.2">
      It is important not to confuse this type of importable package with a distribution package.
     </span>
     <span class="koboSpan" id="kobo.71.3">
      In this chapter, we will mostly use the term package to refer to a distribution package.
     </span>
     <span class="koboSpan" id="kobo.71.4">
      Where there is ambiguity, we will use the
     </span>
     <a id="_idIndexMarker1355">
     </a>
     <span class="koboSpan" id="kobo.72.1">
      terms
     </span>
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.73.1">
       importable package
      </span>
     </strong>
     <span class="koboSpan" id="kobo.74.1">
      or
     </span>
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.75.1">
       distribution package
      </span>
     </strong>
     <span class="koboSpan" id="kobo.76.1">
      .
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.77.1">
     Distribution packages
    </span>
    <a id="_idIndexMarker1356">
    </a>
    <span class="koboSpan" id="kobo.78.1">
     can be either
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.79.1">
      source distributions
     </span>
    </strong>
    <span class="koboSpan" id="kobo.80.1">
     (also known as
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.81.1">
      sdists
     </span>
    </strong>
    <span class="koboSpan" id="kobo.82.1">
     ), which
    </span>
    <a id="_idIndexMarker1357">
    </a>
    <span class="koboSpan" id="kobo.83.1">
     require a build step before they can be installed, or
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.84.1">
      built distributions
     </span>
    </strong>
    <span class="koboSpan" id="kobo.85.1">
     , which only require the archive contents to be moved
    </span>
    <a id="_idIndexMarker1358">
    </a>
    <span class="koboSpan" id="kobo.86.1">
     to the correct locations during installation.
    </span>
    <span class="koboSpan" id="kobo.86.2">
     The current format of source distributions was originally defined by PEP 517.
    </span>
    <span class="koboSpan" id="kobo.86.3">
     The
    </span>
    <a id="_idIndexMarker1359">
    </a>
    <span class="koboSpan" id="kobo.87.1">
     formal specification can be found at
    </span>
    <a href="https://packaging.python.org/specifications/source-distribution-format/">
     <span class="url">
      <span class="koboSpan" id="kobo.88.1">
       https://packaging.python.org/specifications/source-distribution-format/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.89.1">
     .
    </span>
    <span class="koboSpan" id="kobo.89.2">
     The standard built distribution format is called a
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.90.1">
      wheel
     </span>
    </strong>
    <span class="koboSpan" id="kobo.91.1">
     and
    </span>
    <a id="_idIndexMarker1360">
    </a>
    <span class="koboSpan" id="kobo.92.1">
     was originally defined in PEP 427.
    </span>
    <span class="koboSpan" id="kobo.92.2">
     The current version of the wheel specification can be found at
    </span>
    <a href="https://packaging.python.org/specifications/binary-distribution-format/">
     <span class="url">
      <span class="koboSpan" id="kobo.93.1">
       https://packaging.python.org/specifications/binary-distribution-format/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.94.1">
     .
    </span>
    <span class="koboSpan" id="kobo.94.2">
     The wheel format
    </span>
    <a id="_idIndexMarker1361">
    </a>
    <span class="koboSpan" id="kobo.95.1">
     replaced the (now deprecated)
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.96.1">
      egg
     </span>
    </strong>
    <span class="koboSpan" id="kobo.97.1">
     built
    </span>
    <a id="_idIndexMarker1362">
    </a>
    <span class="koboSpan" id="kobo.98.1">
     distribution format.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.99.1">
      PyPI was initially
     </span>
     <a id="_idIndexMarker1363">
     </a>
     <span class="koboSpan" id="kobo.100.1">
      nicknamed the Cheese Shop, after the famous Monty Python sketch that we quoted at the beginning of the chapter.
     </span>
     <span class="koboSpan" id="kobo.100.2">
      Thus, the wheel distribution format is not named after the wheels of a car, but after wheels of cheese.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.101.1">
     To help understand all of this, let us go through a quick example of what happens when we run
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.102.1">
      pip install
     </span>
    </code>
    <span class="koboSpan" id="kobo.103.1">
     .
    </span>
    <span class="koboSpan" id="kobo.103.2">
     We will use
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.104.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.105.1">
     to install release
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.106.1">
      2.32.3
     </span>
    </em>
    <span class="koboSpan" id="kobo.107.1">
     of the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.108.1">
      requests
     </span>
    </em>
    <span class="koboSpan" id="kobo.109.1">
     project.
    </span>
    <span class="koboSpan" id="kobo.109.2">
     To allow us to see exactly what
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.110.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.111.1">
     is doing, we will use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.112.1">
      -v
     </span>
    </code>
    <span class="koboSpan" id="kobo.113.1">
     command line option three times, to make the output as verbose as possible.
    </span>
    <span class="koboSpan" id="kobo.113.2">
     We will also add the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.114.1">
      --no-cache
     </span>
    </code>
    <span class="koboSpan" id="kobo.115.1">
     command-line option to force
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.116.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.117.1">
     to download packages from PyPI and not use any locally cached packages it might have.
    </span>
    <span class="koboSpan" id="kobo.117.2">
     The output looks something like this (note that we have trimmed the output to fit on the page and omitted several lines; you can find the complete output in the source code for this chapter in the file
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.118.1">
      pip_install.txt
     </span>
    </code>
    <span class="koboSpan" id="kobo.119.1">
     ):
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.120.1">$ pip install -vvv --no-cache requests==2.32.3
Using pip 24.2 from ... </span><span class="koboSpan" id="kobo.120.2">(python 3.12)
...
</span><span class="koboSpan" id="kobo.120.3">1 location(s) to search for versions of requests:
* https://pypi.org/simple/requests/
</span></code></pre>
   <p class="normal">
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.121.1">
      Pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.122.1">
     tells us
    </span>
    <a id="_idIndexMarker1364">
    </a>
    <span class="koboSpan" id="kobo.123.1">
     that it has found information about the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.124.1">
      requests
     </span>
    </code>
    <span class="koboSpan" id="kobo.125.1">
     project
    </span>
    <a id="_idIndexMarker1365">
    </a>
    <span class="koboSpan" id="kobo.126.1">
     at
    </span>
    <a href="https://pypi.org/simple/requests/">
     <span class="url">
      <span class="koboSpan" id="kobo.127.1">
       https://pypi.org/simple/requests/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.128.1">
     .
    </span>
    <span class="koboSpan" id="kobo.128.2">
     The output continues with a list of all the available distributions of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.129.1">
      requests
     </span>
    </code>
    <span class="koboSpan" id="kobo.130.1">
     project:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.131.1">  Found link https://.../requests-0.2.0.tar.gz..., version: 0.2.0
  ...
  </span><span class="koboSpan" id="kobo.131.2">Found link https://.../requests-2.32.3-py3-none-any.whl...
    </span><span class="koboSpan" id="kobo.131.3">(requires-python:&gt;=3.8), version: 2.32.3
  Found link https://.../requests-2.32.3.tar.gz...
    </span><span class="koboSpan" id="kobo.131.4">(requires-python:&gt;=3.8), version: 2.32.3
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.132.1">
     Now,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.133.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.134.1">
     collects the distribution for the release we requested.
    </span>
    <span class="koboSpan" id="kobo.134.2">
     It downloads the metadata for the wheel distribution:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.135.1">Collecting requests==2.32.3
  ...
  </span><span class="koboSpan" id="kobo.135.2">Downloading requests-2.32.3-py3-none-any.whl.metadata (4.6 kB)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.136.1">
     Next,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.137.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.138.1">
     extracts the list of dependencies from the package metadata and proceeds to find and collect their metadata in the same way.
    </span>
    <span class="koboSpan" id="kobo.138.2">
     Once all the required packages have been found, they can be downloaded and installed:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.139.1">Downloading requests-2.32.3-py3-none-any.whl (64 kB)
...
</span><span class="koboSpan" id="kobo.139.2">Installing collected packages: urllib3, ..., certifi, requests
...
</span><span class="koboSpan" id="kobo.139.3">Successfully installed ... </span><span class="koboSpan" id="kobo.139.4">requests-2.32.3 ...
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.140.1">
     If
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.141.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.142.1">
     had downloaded a source distribution for any of the packages (which might happen if no suitable wheel is available), it would have needed to build the package before installing it.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.143.1">
     Now that we know the difference between a project, a release, and a package, we can start working on preparing a release and building distribution packages for the Railway CLI application.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-389">
    <span class="koboSpan" id="kobo.144.1">
     Packaging with Setuptools
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.145.1">
     We will be using the
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.146.1">
      Setuptools
     </span>
    </strong>
    <span class="koboSpan" id="kobo.147.1">
     library
    </span>
    <a id="_idIndexMarker1366">
    </a>
    <span class="koboSpan" id="kobo.148.1">
     to package our project.
    </span>
    <span class="koboSpan" id="kobo.148.2">
     Setuptools is the oldest actively developed packaging tool for Python, and still the most popular.
    </span>
    <span class="koboSpan" id="kobo.148.3">
     It is an extension of the original, standard library
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.149.1">
      distutils
     </span>
    </code>
    <span class="koboSpan" id="kobo.150.1">
     packaging system.
    </span>
    <span class="koboSpan" id="kobo.150.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.151.1">
      distutils
     </span>
    </code>
    <span class="koboSpan" id="kobo.152.1">
     module
    </span>
    <a id="_idIndexMarker1367">
    </a>
    <span class="koboSpan" id="kobo.153.1">
     was deprecated in Python 3.10 and removed from the standard library in Python 3.12.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.154.1">
     In this section, we will be looking at how to set up our project to build packages with Setuptools.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-390">
    <span class="koboSpan" id="kobo.155.1">
     Project layout
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.156.1">
     There are two popular conventions for laying out files in a Python project:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.157.1">
      In the
     </span>
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.158.1">
       src layout,
      </span>
     </strong>
     <span class="koboSpan" id="kobo.159.1">
      the
     </span>
     <a id="_idIndexMarker1368">
     </a>
     <span class="koboSpan" id="kobo.160.1">
      importable packages that need to be distributed are
     </span>
     <a id="_idIndexMarker1369">
     </a>
     <span class="koboSpan" id="kobo.161.1">
      placed in a folder named
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.162.1">
       src
      </span>
     </code>
     <span class="koboSpan" id="kobo.163.1">
      within the main project folder.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.164.1">
      In the
     </span>
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.165.1">
       flat layout,
      </span>
     </strong>
     <span class="koboSpan" id="kobo.166.1">
      the
     </span>
     <a id="_idIndexMarker1370">
     </a>
     <span class="koboSpan" id="kobo.167.1">
      importable packages are placed directly in the
     </span>
     <a id="_idIndexMarker1371">
     </a>
     <span class="koboSpan" id="kobo.168.1">
      top-level project folder.
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.169.1">
     The src layout has the
    </span>
    <a id="_idIndexMarker1372">
    </a>
    <span class="koboSpan" id="kobo.170.1">
     advantage of being explicit about which files will be included in the distribution.
    </span>
    <span class="koboSpan" id="kobo.170.2">
     This reduces the likelihood of accidentally including other files, such as
    </span>
    <a id="_idIndexMarker1373">
    </a>
    <span class="koboSpan" id="kobo.171.1">
     scripts that are only meant for use during development.
    </span>
    <span class="koboSpan" id="kobo.171.2">
     The src layout can, however, be less convenient during development as it is not possible to import the package from a script or Python console running in the top-level project folder without first installing the distribution in a virtual environment.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.172.1">
      Proponents of the src layout argue that being forced to install the distribution package during development is actually a benefit, as it increases the likelihood that mistakes in creating the distribution package will be discovered during development.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.173.1">
     For this project, we have
    </span>
    <a id="_idIndexMarker1374">
    </a>
    <span class="koboSpan" id="kobo.174.1">
     chosen to
    </span>
    <a id="_idIndexMarker1375">
    </a>
    <span class="koboSpan" id="kobo.175.1">
     use the src layout:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.176.1">$ tree -a railway-project
railway-project
├── .flake8
├── CHANGELOG.md
├── LICENSE
├── README.md
├── pyproject.toml
├── src
│   └── railway_cli
│       ├── __init__.py
│       └── ...
</span><span class="koboSpan" id="kobo.176.2">└── test
    ├── __init__.py
    └── test_get_station.py
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.177.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.178.1">
      src/railway_cli
     </span>
    </code>
    <span class="koboSpan" id="kobo.179.1">
     folder contains the code for the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.180.1">
      railway_cli
     </span>
    </code>
    <span class="koboSpan" id="kobo.181.1">
     importable package.
    </span>
    <span class="koboSpan" id="kobo.181.2">
     We also added some tests, as an example for you to expand on, in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.182.1">
      test
     </span>
    </code>
    <span class="koboSpan" id="kobo.183.1">
     folder.
    </span>
    <span class="koboSpan" id="kobo.183.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.184.1">
      .flake8
     </span>
    </code>
    <span class="koboSpan" id="kobo.185.1">
     file contains configuration for
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.186.1">
      flake8
     </span>
    </code>
    <span class="koboSpan" id="kobo.187.1">
     , a Python code style checker that can help to point out PEP 8 violations in our code.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.188.1">
     We will describe each of the remaining files in more detail below.
    </span>
    <span class="koboSpan" id="kobo.188.2">
     Before that, though, let us look at how to install the project in a virtual environment during development.
    </span>
   </p>
   <h3 class="heading-3" id="_idParaDest-391">
    <span class="koboSpan" id="kobo.189.1">
     Development installation
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.190.1">
     The most common
    </span>
    <a id="_idIndexMarker1376">
    </a>
    <span class="koboSpan" id="kobo.191.1">
     approach to working with an src layout is to use a
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.192.1">
      development installation
     </span>
    </strong>
    <span class="koboSpan" id="kobo.193.1">
     , also known as
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.194.1">
      development mode
     </span>
    </strong>
    <span class="koboSpan" id="kobo.195.1">
     , or an
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.196.1">
      editable installation
     </span>
    </strong>
    <span class="koboSpan" id="kobo.197.1">
     .
    </span>
    <span class="koboSpan" id="kobo.197.2">
     This will build and install a wheel for the project.
    </span>
    <span class="koboSpan" id="kobo.197.3">
     However, instead of copying the code into the virtual environment, it will add a link in the virtual environment to the source code in your project folder.
    </span>
    <span class="koboSpan" id="kobo.197.4">
     This allows you to import and run the code as if it is installed, but any changes you make to the code will take effect without needing to rebuild and reinstall.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.198.1">
     Let us try this now.
    </span>
    <span class="koboSpan" id="kobo.198.2">
     Open a console, go to the source code folder for this chapter, create a new virtual environment, activate it, and run the following command:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.199.1">$ pip install -e railway-project
Obtaining file:///.../ch16/railway-project
  Installing build dependencies ... </span><span class="koboSpan" id="kobo.199.2">done
  Checking if build backend supports build_editable ... </span><span class="koboSpan" id="kobo.199.3">done
  Getting requirements to build editable ... </span><span class="koboSpan" id="kobo.199.4">done
  Preparing editable metadata (pyproject.toml) ... </span><span class="koboSpan" id="kobo.199.5">done
...
</span><span class="koboSpan" id="kobo.199.6">Building wheels for collected packages: railway-cli
  Building editable for railway-cli (pyproject.toml) ... </span><span class="koboSpan" id="kobo.199.7">done
  Created wheel for railway-cli: filename=...
  </span><span class="koboSpan" id="kobo.199.8">...
</span><span class="koboSpan" id="kobo.199.9">Successfully built railway-cli
Installing collected packages: ... </span><span class="koboSpan" id="kobo.199.10">railway-cli
Successfully installed ... </span><span class="koboSpan" id="kobo.199.11">railway-cli-0.0.1 ...
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.200.1">
     As the output shows, when we run
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.201.1">
      pip install
     </span>
    </code>
    <span class="koboSpan" id="kobo.202.1">
     with the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.203.1">
      -e
     </span>
    </code>
    <span class="koboSpan" id="kobo.204.1">
     (or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.205.1">
      --editable
     </span>
    </code>
    <span class="koboSpan" id="kobo.206.1">
     ) option and give it the path to a project folder, it builds an editable wheel and installs it in the virtual environment.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.207.1">
     Now, if you run:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.208.1">$ python -m railway_cli
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.209.1">
     It should work as it did in the previous chapter.
    </span>
    <span class="koboSpan" id="kobo.209.2">
     You can verify that we really have an editable installation by changing something in the code (for example, add a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.210.1">
      print()
     </span>
    </code>
    <span class="koboSpan" id="kobo.211.1">
     statement) and
    </span>
    <a id="_idIndexMarker1377">
    </a>
    <span class="koboSpan" id="kobo.212.1">
     running it again.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.213.1">
     Now that we have a working editable installation of the project, let us discuss each of the files in the project folder in more detail.
    </span>
   </p>
   <h3 class="heading-3" id="_idParaDest-392">
    <span class="koboSpan" id="kobo.214.1">
     Changelog
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.215.1">
     Although it is not required, it is considered good practice to include a change log file with your project.
    </span>
    <span class="koboSpan" id="kobo.215.2">
     This file summarizes the changes made in each release of your project.
    </span>
    <span class="koboSpan" id="kobo.215.3">
     The change log
    </span>
    <a id="_idIndexMarker1378">
    </a>
    <span class="koboSpan" id="kobo.216.1">
     is useful for informing your users of new features that are available or of changes in the behavior of your software that they need to be aware of.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.217.1">
     Our changelog file is named
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.218.1">
      CHANGELOG.md
     </span>
    </code>
    <span class="koboSpan" id="kobo.219.1">
     and is written
    </span>
    <a id="_idIndexMarker1379">
    </a>
    <span class="koboSpan" id="kobo.220.1">
     in
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.221.1">
      Markdown
     </span>
    </strong>
    <span class="koboSpan" id="kobo.222.1">
     format.
    </span>
   </p>
   <h3 class="heading-3" id="_idParaDest-393">
    <span class="koboSpan" id="kobo.223.1">
     License
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.224.1">
     You should include a license
    </span>
    <a id="_idIndexMarker1380">
    </a>
    <span class="koboSpan" id="kobo.225.1">
     that defines the terms under which your code is distributed.
    </span>
    <span class="koboSpan" id="kobo.225.2">
     There are many software licenses that you can use.
    </span>
    <span class="koboSpan" id="kobo.225.3">
     If you are not sure which to choose, the website
    </span>
    <a href="https://choosealicense.com/">
     <span class="url">
      <span class="koboSpan" id="kobo.226.1">
       https://choosealicense.com/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.227.1">
     is a useful resource that can help you.
    </span>
    <span class="koboSpan" id="kobo.227.2">
     However, if you are at all in doubt about the legal implications, or need advice, you should consult a legal professional.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.228.1">
     We are distributing our Railway CLI project under the MIT License.
    </span>
    <span class="koboSpan" id="kobo.228.2">
     This is a simple license that allows anyone to use, distribute, or modify the code as long as they include our original copyright notice and license.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.229.1">
     By convention, the license is included in a text file named
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.230.1">
      LICENSE
     </span>
    </code>
    <span class="koboSpan" id="kobo.231.1">
     or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.232.1">
      LICENSE.txt
     </span>
    </code>
    <span class="koboSpan" id="kobo.233.1">
     , although some projects also use other names, such as
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.234.1">
      COPYING
     </span>
    </code>
    <span class="koboSpan" id="kobo.235.1">
     .
    </span>
   </p>
   <h3 class="heading-3" id="_idParaDest-394">
    <span class="koboSpan" id="kobo.236.1">
     README
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.237.1">
     Your project should
    </span>
    <a id="_idIndexMarker1381">
    </a>
    <span class="koboSpan" id="kobo.238.1">
     also include a
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.239.1">
      README
     </span>
    </em>
    <span class="koboSpan" id="kobo.240.1">
     file
    </span>
    <a id="_idIndexMarker1382">
    </a>
    <span class="koboSpan" id="kobo.241.1">
     describing the project, why it exists, and even some basic usage instructions.
    </span>
    <span class="koboSpan" id="kobo.241.2">
     The file can be in plain text format or use a markup syntax
    </span>
    <a id="_idIndexMarker1383">
    </a>
    <span class="koboSpan" id="kobo.242.1">
     like
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.243.1">
      reStructuredText
     </span>
    </strong>
    <span class="koboSpan" id="kobo.244.1">
     or
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.245.1">
      Markdown
     </span>
    </strong>
    <span class="koboSpan" id="kobo.246.1">
     .
    </span>
    <span class="koboSpan" id="kobo.246.2">
     The
    </span>
    <a id="_idIndexMarker1384">
    </a>
    <span class="koboSpan" id="kobo.247.1">
     file is typically called
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.248.1">
      README
     </span>
    </code>
    <span class="koboSpan" id="kobo.249.1">
     or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.250.1">
      README.txt
     </span>
    </code>
    <span class="koboSpan" id="kobo.251.1">
     if it is a plain text file,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.252.1">
      README.rst
     </span>
    </code>
    <span class="koboSpan" id="kobo.253.1">
     for reStructuredText, or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.254.1">
      README.md
     </span>
    </code>
    <span class="koboSpan" id="kobo.255.1">
     for Markdown.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.256.1">
     Our
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.257.1">
      README.md
     </span>
    </code>
    <span class="koboSpan" id="kobo.258.1">
     file contains
    </span>
    <a id="_idIndexMarker1385">
    </a>
    <span class="koboSpan" id="kobo.259.1">
     a short paragraph describing the purpose of
    </span>
    <a id="_idIndexMarker1386">
    </a>
    <span class="koboSpan" id="kobo.260.1">
     the project and some simple usage instructions.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.261.1">
      Markdown and reStructuredText are widely used markup languages that are designed to be easy to read or write in raw form but can also easily be converted to HTML to
     </span>
     <a id="_idIndexMarker1387">
     </a>
     <span class="koboSpan" id="kobo.262.1">
      create simple
     </span>
     <a id="_idIndexMarker1388">
     </a>
     <span class="koboSpan" id="kobo.263.1">
      web pages.
     </span>
     <span class="koboSpan" id="kobo.263.2">
      You can read more about them at
     </span>
     <a href="https://daringfireball.net/projects/markdown/">
      <span class="url">
       <span class="koboSpan" id="kobo.264.1">
        https://daringfireball.net/projects/markdown/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.265.1">
      and
     </span>
     <a href="https://docutils.sourceforge.io/rst.html">
      <span class="url">
       <span class="koboSpan" id="kobo.266.1">
        https://docutils.sourceforge.io/rst.html
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.267.1">
      .
     </span>
    </p>
   </div>
   <h3 class="heading-3" id="_idParaDest-395">
    <span class="koboSpan" id="kobo.268.1">
     pyproject.toml
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.269.1">
     This file was
    </span>
    <a id="_idIndexMarker1389">
    </a>
    <span class="koboSpan" id="kobo.270.1">
     introduced
    </span>
    <a id="_idIndexMarker1390">
    </a>
    <span class="koboSpan" id="kobo.271.1">
     by PEP 518 (
    </span>
    <a href="https://peps.python.org/pep-0518/">
     <span class="url">
      <span class="koboSpan" id="kobo.272.1">
       https://peps.python.org/pep-0518/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.273.1">
     ) and extended by PEP 517 (
    </span>
    <a href="https://peps.python.org/pep-0517/">
     <span class="url">
      <span class="koboSpan" id="kobo.274.1">
       https://peps.python.org/pep-0517/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.275.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.275.2">
     The aim of these PEPs was to define standards to allow projects to specify their build dependencies and to specify what build tool should be used to build their packages.
    </span>
    <span class="koboSpan" id="kobo.275.3">
     For a project using Setuptools, this looks like:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.276.1"># railway-project/pyproject.toml</span></span><span class="koboSpan" id="kobo.277.1">
[build-system]
requires = [</span><span class="hljs-string"><span class="koboSpan" id="kobo.278.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.279.1">setuptools&gt;=66.1.0"</span></span><span class="koboSpan" id="kobo.280.1">, </span><span class="hljs-string"><span class="koboSpan" id="kobo.281.1">"wheel"</span></span><span class="koboSpan" id="kobo.282.1">]
build-backend = </span><span class="hljs-string"><span class="koboSpan" id="kobo.283.1">"setuptools.build_meta"</span></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.284.1">
     Here, we have specified that we require at least version 66.1.0 of Setuptools (this is the oldest version that is compatible with Python 3.12) and any release of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.285.1">
      wheel
     </span>
    </code>
    <span class="koboSpan" id="kobo.286.1">
     project, which is the reference implementation of the wheel distribution format.
    </span>
    <span class="koboSpan" id="kobo.286.2">
     Note that the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.287.1">
      requires
     </span>
    </code>
    <span class="koboSpan" id="kobo.288.1">
     field here does not list dependencies for running our code, only for building a distribution package.
    </span>
    <span class="koboSpan" id="kobo.288.2">
     We will talk about how to specify dependencies for running our project later in this chapter.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.289.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.290.1">
      build-backend
     </span>
    </code>
    <span class="koboSpan" id="kobo.291.1">
     field specifies the Python object that will be used to build packages.
    </span>
    <span class="koboSpan" id="kobo.291.2">
     For Setuptools, this is the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.292.1">
      build_meta
     </span>
    </code>
    <span class="koboSpan" id="kobo.293.1">
     module in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.294.1">
      setuptools
     </span>
    </code>
    <span class="koboSpan" id="kobo.295.1">
     (importable) package.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.296.1">
     PEP 518 also allows you to
    </span>
    <a id="_idIndexMarker1391">
    </a>
    <span class="koboSpan" id="kobo.297.1">
     put configurations for other development
    </span>
    <a id="_idIndexMarker1392">
    </a>
    <span class="koboSpan" id="kobo.298.1">
     tools in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.299.1">
      pyproject.toml
     </span>
    </code>
    <span class="koboSpan" id="kobo.300.1">
     file.
    </span>
    <span class="koboSpan" id="kobo.300.2">
     Of course, the tools in question also need to support reading their configuration from this file:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.301.1"># railway-project/pyproject.toml</span></span><span class="koboSpan" id="kobo.302.1">
[tool.black]
line-length = </span><span class="hljs-number"><span class="koboSpan" id="kobo.303.1">66</span></span><span class="koboSpan" id="kobo.304.1">
[tool.isort]
profile = </span><span class="hljs-string"><span class="koboSpan" id="kobo.305.1">'black'</span></span><span class="koboSpan" id="kobo.306.1">
line_length = </span><span class="hljs-number"><span class="koboSpan" id="kobo.307.1">66</span></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.308.1">
     We have added configuration for
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.309.1">
      black
     </span>
    </em>
    <span class="koboSpan" id="kobo.310.1">
     , a popular code formatting tool, and
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.311.1">
      isort
     </span>
    </em>
    <span class="koboSpan" id="kobo.312.1">
     , a tool for sorting imports alphabetically, to our
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.313.1">
      pyproject.toml
     </span>
    </code>
    <span class="koboSpan" id="kobo.314.1">
     file.
    </span>
    <span class="koboSpan" id="kobo.314.2">
     We have configured both tools to use a line length of 66 characters to ensure our code will fit on a book page.
    </span>
    <span class="koboSpan" id="kobo.314.3">
     We have also configured
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.315.1">
      isort
     </span>
    </code>
    <span class="koboSpan" id="kobo.316.1">
     to maintain compatibility with
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.317.1">
      black
     </span>
    </code>
    <span class="koboSpan" id="kobo.318.1">
     .
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.319.1">
      You can learn more
     </span>
     <a id="_idIndexMarker1393">
     </a>
     <span class="koboSpan" id="kobo.320.1">
      about
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.321.1">
       black
      </span>
     </code>
     <span class="koboSpan" id="kobo.322.1">
      and
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.323.1">
       isort
      </span>
     </code>
     <span class="koboSpan" id="kobo.324.1">
      on their websites
     </span>
     <a id="_idIndexMarker1394">
     </a>
     <span class="koboSpan" id="kobo.325.1">
      at
     </span>
     <a href="https://black.readthedocs.io/">
      <span class="url">
       <span class="koboSpan" id="kobo.326.1">
        https://black.readthedocs.io/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.327.1">
      and
     </span>
     <a href="https://pycqa.github.io/isort">
      <span class="url">
       <span class="koboSpan" id="kobo.328.1">
        https://pycqa.github.io/isort
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.329.1">
      .
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.330.1">
     PEP 621 (
    </span>
    <a href="https://peps.python.org/pep-0621/">
     <span class="url">
      <span class="koboSpan" id="kobo.331.1">
       https://peps.python.org/pep-0621/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.332.1">
     ) introduced the ability to specify all project metadata in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.333.1">
      pyproject.toml
     </span>
    </code>
    <span class="koboSpan" id="kobo.334.1">
     file.
    </span>
    <span class="koboSpan" id="kobo.334.2">
     This has been supported in Setuptools since version 61.0.0.
    </span>
    <span class="koboSpan" id="kobo.334.3">
     We will take a closer look at this in the next section.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-396">
    <span class="koboSpan" id="kobo.335.1">
     Package metadata
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.336.1">
     The project metadata
    </span>
    <a id="_idIndexMarker1395">
    </a>
    <span class="koboSpan" id="kobo.337.1">
     is defined in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.338.1">
      project
     </span>
    </code>
    <span class="koboSpan" id="kobo.339.1">
     table in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.340.1">
      pyproject.toml
     </span>
    </code>
    <span class="koboSpan" id="kobo.341.1">
     file.
    </span>
    <span class="koboSpan" id="kobo.341.2">
     Let us go through it a few entries at a time:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.342.1"># railway-project/pyproject.toml</span></span><span class="koboSpan" id="kobo.343.1">
[project]
name = </span><span class="hljs-string"><span class="koboSpan" id="kobo.344.1">"railway-cli"</span></span><span class="koboSpan" id="kobo.345.1">
authors = [
  {name=</span><span class="hljs-string"><span class="koboSpan" id="kobo.346.1">"</span></span><span class="hljs-string"><span class="koboSpan" id="kobo.347.1">Heinrich Kruger"</span></span><span class="koboSpan" id="kobo.348.1">, email=</span><span class="hljs-string"><span class="koboSpan" id="kobo.349.1">"heinrich@example.com"</span></span><span class="koboSpan" id="kobo.350.1">},
  {name=</span><span class="hljs-string"><span class="koboSpan" id="kobo.351.1">"Fabrizio Romano"</span></span><span class="koboSpan" id="kobo.352.1">, email=</span><span class="hljs-string"><span class="koboSpan" id="kobo.353.1">"fabrizio@example.com"</span></span><span class="koboSpan" id="kobo.354.1">},
]
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.355.1">
     The table starts with the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.356.1">
      [project]
     </span>
    </code>
    <span class="koboSpan" id="kobo.357.1">
     heading.
    </span>
    <span class="koboSpan" id="kobo.357.2">
     Our first two metadata entries consist of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.358.1">
      name
     </span>
    </code>
    <span class="koboSpan" id="kobo.359.1">
     of our project and the list of authors with names and email addresses.
    </span>
    <span class="koboSpan" id="kobo.359.2">
     We have used fake email addresses for this example project, but for a real project, you should use your real email address.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.360.1">
     PyPI requires that all projects must have unique names.
    </span>
    <span class="koboSpan" id="kobo.360.2">
     It is a good idea to check this when you start your project, to make sure that no other project has already used the name you want.
    </span>
    <span class="koboSpan" id="kobo.360.3">
     It is also advisable to make sure your project name will not easily be confused with another; this will reduce the chances of anyone accidentally installing the wrong package.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.361.1">
     The next entries in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.362.1">
      project
     </span>
    </code>
    <span class="koboSpan" id="kobo.363.1">
     table are descriptions of our project:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.364.1"># railway-project/pyproject.toml</span></span><span class="koboSpan" id="kobo.365.1">
[project]
...
</span><span class="koboSpan" id="kobo.365.2">description = </span><span class="hljs-string"><span class="koboSpan" id="kobo.366.1">"A CLI client for the railway API"</span></span><span class="koboSpan" id="kobo.367.1">
readme = </span><span class="hljs-string"><span class="koboSpan" id="kobo.368.1">"README.md"</span></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.369.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.370.1">
      description
     </span>
    </code>
    <span class="koboSpan" id="kobo.371.1">
     field should be a short, single-sentence summary of the project, while
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.372.1">
      readme
     </span>
    </code>
    <span class="koboSpan" id="kobo.373.1">
     should point to the README file containing a more detailed description.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.374.1">
      The
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.375.1">
       readme
      </span>
     </code>
     <span class="koboSpan" id="kobo.376.1">
      can also be specified as a TOML table, in which case it should contain a
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.377.1">
       content-type
      </span>
     </code>
     <span class="koboSpan" id="kobo.378.1">
      key and either a
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.379.1">
       file
      </span>
     </code>
     <span class="koboSpan" id="kobo.380.1">
      key with the path to the README file or a
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.381.1">
       text
      </span>
     </code>
     <span class="koboSpan" id="kobo.382.1">
      key with the full README text.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.383.1">
     The project’s license should also be specified in the metadata:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.384.1"># railway-project/pyproject.toml</span></span><span class="koboSpan" id="kobo.385.1">
[project]
...
</span><span class="koboSpan" id="kobo.385.2">license = {file = </span><span class="hljs-string"><span class="koboSpan" id="kobo.386.1">"LICENSE"</span></span><span class="koboSpan" id="kobo.387.1">}
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.388.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.389.1">
      license
     </span>
    </code>
    <span class="koboSpan" id="kobo.390.1">
     field is a
    </span>
    <a id="_idIndexMarker1396">
    </a>
    <span class="koboSpan" id="kobo.391.1">
     TOML table containing either a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.392.1">
      file
     </span>
    </code>
    <span class="koboSpan" id="kobo.393.1">
     key with the path to the license file for the project, or a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.394.1">
      text
     </span>
    </code>
    <span class="koboSpan" id="kobo.395.1">
     key with the full text of the license.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.396.1">
     The next couple of metadata entries are meant to help potential users find our project on PyPI:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.397.1"># railway-project/pyproject.toml</span></span><span class="koboSpan" id="kobo.398.1">
[project]
...
</span><span class="koboSpan" id="kobo.398.2">classifiers = [
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.399.1">"Environment :: Console"</span></span><span class="koboSpan" id="kobo.400.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.401.1">"License :: OSI Approved :: MIT License"</span></span><span class="koboSpan" id="kobo.402.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.403.1">"Operating System :: MacOS"</span></span><span class="koboSpan" id="kobo.404.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.405.1">"Operating System :: Microsoft :: Windows"</span></span><span class="koboSpan" id="kobo.406.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.407.1">"Operating System :: POSIX :: Linux"</span></span><span class="koboSpan" id="kobo.408.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.409.1">"Programming Language :: Python :: 3"</span></span><span class="koboSpan" id="kobo.410.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.411.1">"Programming Language :: Python :: 3.10"</span></span><span class="koboSpan" id="kobo.412.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.413.1">"Programming Language :: Python :: 3.11"</span></span><span class="koboSpan" id="kobo.414.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.415.1">"Programming Language :: Python :: 3.12"</span></span><span class="koboSpan" id="kobo.416.1">,
]
keywords = [</span><span class="hljs-string"><span class="koboSpan" id="kobo.417.1">"packaging example"</span></span><span class="koboSpan" id="kobo.418.1">, </span><span class="hljs-string"><span class="koboSpan" id="kobo.419.1">"CLI"</span></span><span class="koboSpan" id="kobo.420.1">]
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.421.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.422.1">
      classifiers
     </span>
    </code>
    <span class="koboSpan" id="kobo.423.1">
     field can be used to specify a list of
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.424.1">
      trove classifiers
     </span>
    </em>
    <span class="koboSpan" id="kobo.425.1">
     , which are used to categorize projects on PyPI.
    </span>
    <span class="koboSpan" id="kobo.425.2">
     The PyPI website allows users to filter by trove classifier when searching for projects.
    </span>
    <span class="koboSpan" id="kobo.425.3">
     Your project’s classifiers must be chosen from the list of official classifiers at
    </span>
    <a href="https://pypi.org/classifiers/">
     <span class="url">
      <span class="koboSpan" id="kobo.426.1">
       https://pypi.org/classifiers/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.427.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.428.1">
     We have used classifiers to indicate that our project is meant to be used in a console environment, that it is released under the MIT License, that it works on macOS, Windows, and Linux, and that it is compatible with Python 3 (specifically versions 3.10, 3.11, and 3.12).
    </span>
    <span class="koboSpan" id="kobo.428.2">
     Note that the classifiers are there purely to provide information to users and help them find your project on the PyPI website.
    </span>
    <span class="koboSpan" id="kobo.428.3">
     They have no impact on which operating systems or Python versions your package can be installed on.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.429.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.430.1">
      keywords
     </span>
    </code>
    <span class="koboSpan" id="kobo.431.1">
     field
    </span>
    <a id="_idIndexMarker1397">
    </a>
    <span class="koboSpan" id="kobo.432.1">
     can be used to provide additional keywords to help users find your project.
    </span>
    <span class="koboSpan" id="kobo.432.2">
     Unlike the classifiers, there are no restrictions on what keywords you can use.
    </span>
   </p>
   <h3 class="heading-3" id="_idParaDest-397">
    <span class="koboSpan" id="kobo.433.1">
     Versioning and dynamic metadata
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.434.1">
     The project metadata must contain a
    </span>
    <a id="_idIndexMarker1398">
    </a>
    <span class="koboSpan" id="kobo.435.1">
     version number.
    </span>
    <span class="koboSpan" id="kobo.435.2">
     Instead of specifying the version directly (via a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.436.1">
      version
     </span>
    </code>
    <span class="koboSpan" id="kobo.437.1">
     key), we have chosen to make the version a
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.438.1">
      dynamic field
     </span>
    </strong>
    <span class="koboSpan" id="kobo.439.1">
     .
    </span>
    <span class="koboSpan" id="kobo.439.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.440.1">
      pyproject.toml
     </span>
    </code>
    <span class="koboSpan" id="kobo.441.1">
     specification allows any project metadata except the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.442.1">
      name
     </span>
    </code>
    <span class="koboSpan" id="kobo.443.1">
     to be specified dynamically by other tools.
    </span>
    <span class="koboSpan" id="kobo.443.2">
     The names of dynamic fields are specified via the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.444.1">
      dynamic
     </span>
    </code>
    <span class="koboSpan" id="kobo.445.1">
     key:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.446.1"># railway-project/pyproject.toml</span></span><span class="koboSpan" id="kobo.447.1">
[project]
...
</span><span class="koboSpan" id="kobo.447.2">dynamic = [</span><span class="hljs-string"><span class="koboSpan" id="kobo.448.1">"version"</span></span><span class="koboSpan" id="kobo.449.1">]
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.450.1">
     To use dynamic
    </span>
    <a id="_idIndexMarker1399">
    </a>
    <span class="koboSpan" id="kobo.451.1">
     metadata with Setuptools, we need to use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.452.1">
      tool.setuptools.dynamic
     </span>
    </code>
    <span class="koboSpan" id="kobo.453.1">
     table to specify how to compute the values.
    </span>
    <span class="koboSpan" id="kobo.453.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.454.1">
      version
     </span>
    </code>
    <span class="koboSpan" id="kobo.455.1">
     can either be read from a file (specified using a table with a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.456.1">
      file
     </span>
    </code>
    <span class="koboSpan" id="kobo.457.1">
     key) or from an attribute in a Python module (specified using a table with an
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.458.1">
      attr
     </span>
    </code>
    <span class="koboSpan" id="kobo.459.1">
     key).
    </span>
    <span class="koboSpan" id="kobo.459.2">
     For this project, we take the version from the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.460.1">
      __version__
     </span>
    </code>
    <span class="koboSpan" id="kobo.461.1">
     attribute of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.462.1">
      railway_cli
     </span>
    </code>
    <span class="koboSpan" id="kobo.463.1">
     importable package:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.464.1"># railway-project/pyproject.toml</span></span><span class="koboSpan" id="kobo.465.1">
[tool.setuptools.dynamic]
version = {</span><span class="hljs-string"><span class="koboSpan" id="kobo.466.1">"attr"</span></span><span class="koboSpan" id="kobo.467.1"> = </span><span class="hljs-string"><span class="koboSpan" id="kobo.468.1">"railway_cli.__version__"</span></span><span class="koboSpan" id="kobo.469.1">}
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.470.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.471.1">
      __version__
     </span>
    </code>
    <span class="koboSpan" id="kobo.472.1">
     attribute is defined in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.473.1">
      railway_cli/__init__.py
     </span>
    </code>
    <span class="koboSpan" id="kobo.474.1">
     file:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.475.1"># railway-project/src/railway_cli/__init__.py</span></span><span class="koboSpan" id="kobo.476.1">
__version__ = </span><span class="hljs-string"><span class="koboSpan" id="kobo.477.1">"0.0.1"</span></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.478.1">
     Using a
    </span>
    <a id="_idIndexMarker1400">
    </a>
    <span class="koboSpan" id="kobo.479.1">
     dynamic field means that we can use the same version number in our code and project metadata without needing to define it twice.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.480.1">
     You can choose any versioning scheme that makes sense for your project, but it must comply with the rules defined in PEP 440 (
    </span>
    <a href="https://peps.python.org/pep-0440/">
     <span class="url">
      <span class="koboSpan" id="kobo.481.1">
       https://peps.python.org/pep-0440/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.482.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.482.2">
     A PEP 440-compatible
    </span>
    <a id="_idIndexMarker1401">
    </a>
    <span class="koboSpan" id="kobo.483.1">
     version consists of a sequence of numbers, separated by dots, followed by optional pre-release, post-release, or developmental release indicators.
    </span>
    <span class="koboSpan" id="kobo.483.2">
     A pre-release indicator can consist of the letter
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.484.1">
      a
     </span>
    </code>
    <span class="koboSpan" id="kobo.485.1">
     (for
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.486.1">
      alpha
     </span>
    </em>
    <span class="koboSpan" id="kobo.487.1">
     ),
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.488.1">
      b
     </span>
    </code>
    <span class="koboSpan" id="kobo.489.1">
     (for
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.490.1">
      beta
     </span>
    </em>
    <span class="koboSpan" id="kobo.491.1">
     ), or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.492.1">
      rc
     </span>
    </code>
    <span class="koboSpan" id="kobo.493.1">
     (for
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.494.1">
      release-candidate
     </span>
    </em>
    <span class="koboSpan" id="kobo.495.1">
     ), followed by a number.
    </span>
    <span class="koboSpan" id="kobo.495.2">
     A post-release indicator consists of the word
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.496.1">
      post
     </span>
    </code>
    <span class="koboSpan" id="kobo.497.1">
     followed by a number.
    </span>
    <span class="koboSpan" id="kobo.497.2">
     A developmental release indicator consists of the word
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.498.1">
      dev
     </span>
    </code>
    <span class="koboSpan" id="kobo.499.1">
     followed by a number.
    </span>
    <span class="koboSpan" id="kobo.499.2">
     A version number without a release indicator is referred to as a
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.500.1">
      final
     </span>
    </em>
    <span class="koboSpan" id="kobo.501.1">
     release.
    </span>
    <span class="koboSpan" id="kobo.501.2">
     For example:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.502.1">
       1.0.0.dev1
      </span>
     </code>
     <span class="koboSpan" id="kobo.503.1">
      is the first developmental release of version 1.0.0 of our project.
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.504.1">
       1.0.0.a1
      </span>
     </code>
     <span class="koboSpan" id="kobo.505.1">
      is the first alpha release.
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.506.1">
       1.0.0.b1
      </span>
     </code>
     <span class="koboSpan" id="kobo.507.1">
      is the first beta release.
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.508.1">
       1.0.0.rc1
      </span>
     </code>
     <span class="koboSpan" id="kobo.509.1">
      is the first release candidate.
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.510.1">
       1.0.0
      </span>
     </code>
     <span class="koboSpan" id="kobo.511.1">
      is the final release of version 1.0.0.
     </span>
    </li>
    <li class="bulletList">
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.512.1">
       1.0.0.post1
      </span>
     </code>
     <span class="koboSpan" id="kobo.513.1">
      is the first post-release.
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.514.1">
     Developmental releases, pre-releases, final releases, and post-releases with the same main version number are ordered as in the list above.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.515.1">
     Popular versioning schemes
    </span>
    <a id="_idIndexMarker1402">
    </a>
    <span class="koboSpan" id="kobo.516.1">
     include
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.517.1">
      semantic versioning
     </span>
    </strong>
    <span class="koboSpan" id="kobo.518.1">
     , which aims to convey information about compatibility between releases through the versioning
    </span>
    <a id="_idIndexMarker1403">
    </a>
    <span class="koboSpan" id="kobo.519.1">
     scheme, and
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.520.1">
      date-based versioning
     </span>
    </strong>
    <span class="koboSpan" id="kobo.521.1">
     , which typically uses the year and month of a release to indicate the version.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.522.1">
      Semantic versioning
     </span>
     <a id="_idIndexMarker1404">
     </a>
     <span class="koboSpan" id="kobo.523.1">
      uses a version number consisting of three numbers, called the
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.524.1">
       major
      </span>
     </em>
     <span class="koboSpan" id="kobo.525.1">
      ,
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.526.1">
       minor
      </span>
     </em>
     <span class="koboSpan" id="kobo.527.1">
      , and
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.528.1">
       patch
      </span>
     </em>
     <span class="koboSpan" id="kobo.529.1">
      versions, separated by dots.
     </span>
     <span class="koboSpan" id="kobo.529.2">
      This results in a version that looks like
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.530.1">
       major.minor.patch
      </span>
     </code>
     <span class="koboSpan" id="kobo.531.1">
      .
     </span>
     <span class="koboSpan" id="kobo.531.2">
      If a new release is completely compatible with its predecessor, only the patch number is incremented; usually, such a release only contains small bug fixes.
     </span>
     <span class="koboSpan" id="kobo.531.3">
      For a release that adds new functionality without breaking compatibility with previous releases, the minor number should be incremented.
     </span>
     <span class="koboSpan" id="kobo.531.4">
      The major number should be incremented if the release is incompatible with older versions.
     </span>
     <span class="koboSpan" id="kobo.531.5">
      You can read all about semantic versioning at
     </span>
     <a href="https://semver.org/">
      <span class="url">
       <span class="koboSpan" id="kobo.532.1">
        https://semver.org/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.533.1">
      .
     </span>
    </p>
   </div>
   <h3 class="heading-3" id="_idParaDest-398">
    <span class="koboSpan" id="kobo.534.1">
     Specifying dependencies
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.535.1">
     As we saw at the beginning of the
    </span>
    <a id="_idIndexMarker1405">
    </a>
    <span class="koboSpan" id="kobo.536.1">
     chapter, a distribution package can provide a list of projects it depends on, and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.537.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.538.1">
     will ensure that releases of those projects are installed when it installs the package.
    </span>
    <span class="koboSpan" id="kobo.538.2">
     These dependencies should be specified in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.539.1">
      dependencies
     </span>
    </code>
    <span class="koboSpan" id="kobo.540.1">
     key of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.541.1">
      project
     </span>
    </code>
    <span class="koboSpan" id="kobo.542.1">
     table:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.543.1"># railway-project/pyproject.toml</span></span><span class="koboSpan" id="kobo.544.1">
[project]
...
</span><span class="koboSpan" id="kobo.544.2">dependencies = [
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.545.1">"pydantic[email]&gt;=2.8.2,&lt;3.0.0"</span></span><span class="koboSpan" id="kobo.546.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.547.1">"pydantic-settings~=2.4.0"</span></span><span class="koboSpan" id="kobo.548.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.549.1">"requests~=2.0"</span></span><span class="koboSpan" id="kobo.550.1">,
]
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.551.1">
     Our project depends on the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.552.1">
      pydantic
     </span>
    </code>
    <span class="koboSpan" id="kobo.553.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.554.1">
      pydantic-settings
     </span>
    </code>
    <span class="koboSpan" id="kobo.555.1">
     , and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.556.1">
      requests
     </span>
    </code>
    <span class="koboSpan" id="kobo.557.1">
     projects.
    </span>
    <span class="koboSpan" id="kobo.557.2">
     The word
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.558.1">
      [email]
     </span>
    </code>
    <span class="koboSpan" id="kobo.559.1">
     in square brackets for the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.560.1">
      pydantic
     </span>
    </code>
    <span class="koboSpan" id="kobo.561.1">
     dependency indicates that we also require some optional dependencies of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.562.1">
      pydantic
     </span>
    </code>
    <span class="koboSpan" id="kobo.563.1">
     project related to dealing with email addresses.
    </span>
    <span class="koboSpan" id="kobo.563.2">
     We will discuss optional dependencies in more detail in a moment.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.564.1">
     We can use
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.565.1">
      version specifiers
     </span>
    </strong>
    <span class="koboSpan" id="kobo.566.1">
     to
    </span>
    <a id="_idIndexMarker1406">
    </a>
    <span class="koboSpan" id="kobo.567.1">
     indicate which
    </span>
    <a id="_idIndexMarker1407">
    </a>
    <span class="koboSpan" id="kobo.568.1">
     releases of dependencies we require.
    </span>
    <span class="koboSpan" id="kobo.568.2">
     Besides the normal Python comparison operators, version specifiers can also use
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.569.1">
      ~=
     </span>
    </code>
    <span class="koboSpan" id="kobo.570.1">
     to indicate a
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.571.1">
      compatible release
     </span>
    </em>
    <span class="koboSpan" id="kobo.572.1">
     .
    </span>
    <span class="koboSpan" id="kobo.572.2">
     The compatible release specifier is a way of indicating releases that may be expected to be compatible under a semantic versioning scheme.
    </span>
    <span class="koboSpan" id="kobo.572.3">
     For example,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.573.1">
      requests~=2.0
     </span>
    </code>
    <span class="koboSpan" id="kobo.574.1">
     means that we require any 2.x version of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.575.1">
      requests
     </span>
    </code>
    <span class="koboSpan" id="kobo.576.1">
     project, from 2.0 up to 3.0 (not included).
    </span>
    <span class="koboSpan" id="kobo.576.2">
     A version specifier can also take a comma-separated list of version clauses that must all be satisfied.
    </span>
    <span class="koboSpan" id="kobo.576.3">
     For example,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.577.1">
      pydantic&gt;=2.8.2,&lt;3.0.0
     </span>
    </code>
    <span class="koboSpan" id="kobo.578.1">
     means that we want at least version 2.8.2 of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.579.1">
      pydantic
     </span>
    </code>
    <span class="koboSpan" id="kobo.580.1">
     , but not version 3.0.0 or greater.
    </span>
    <span class="koboSpan" id="kobo.580.2">
     Note that this is not the same as
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.581.1">
      pydantic~=2.8.2
     </span>
    </code>
    <span class="koboSpan" id="kobo.582.1">
     , which would mean at least version 2.8.2, but not version 2.9.0 or greater.
    </span>
    <span class="koboSpan" id="kobo.582.2">
     For the full details of the dependency syntax and how versions are matched, please refer to PEP 508 (
    </span>
    <a href="https://peps.python.org/pep-0508/">
     <span class="url">
      <span class="koboSpan" id="kobo.583.1">
       https://peps.python.org/pep-0508/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.584.1">
     ).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.585.1">
     You should be careful not to make your dependency version specifiers too strict.
    </span>
    <span class="koboSpan" id="kobo.585.2">
     Bear in mind that your package is likely to be installed alongside various other packages in the same virtual environment.
    </span>
    <span class="koboSpan" id="kobo.585.3">
     This is particularly true of libraries or tools for developers.
    </span>
    <span class="koboSpan" id="kobo.585.4">
     Allowing as much freedom as possible in the required versions of your dependencies means that projects that depend on yours are less likely to encounter dependency conflicts between your package and those of other projects they depend on.
    </span>
    <span class="koboSpan" id="kobo.585.5">
     Making your version specifiers too restrictive also means that your users will not benefit from bug fixes or security patches in one of your dependencies unless you also publish a new release to update your version specifier.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.586.1">
     Apart from dependencies on other projects, you can also specify which versions of Python your project requires.
    </span>
    <span class="koboSpan" id="kobo.586.2">
     In our project, we use features that were added in Python 3.10, so we specify that we require at least Python 3.10:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.587.1"># railway-project/pyproject.toml</span></span><span class="koboSpan" id="kobo.588.1">
[project]
...
</span><span class="koboSpan" id="kobo.588.2">requires-python = </span><span class="hljs-string"><span class="koboSpan" id="kobo.589.1">"&gt;=3.10"</span></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.590.1">
     As with
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.591.1">
      dependencies
     </span>
    </code>
    <span class="koboSpan" id="kobo.592.1">
     , it is best to avoid limiting the Python versions you support too much.
    </span>
    <span class="koboSpan" id="kobo.592.2">
     You should only restrict the Python version if you know your code will not work on all actively supported versions of Python 3.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.593.1">
      You can find a list of
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.594.1">
       Active Python Releases
      </span>
     </em>
     <span class="koboSpan" id="kobo.595.1">
      on the official Python download page:
     </span>
     <a href="https://www.python.org/downloads/">
      <span class="url">
       <span class="koboSpan" id="kobo.596.1">
        https://www.python.org/downloads/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.597.1">
      .
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.598.1">
     You should make sure that
    </span>
    <a id="_idIndexMarker1408">
    </a>
    <span class="koboSpan" id="kobo.599.1">
     your code really does work on all the versions of Python and the dependencies that you support in your setup configuration.
    </span>
    <span class="koboSpan" id="kobo.599.2">
     One way of doing this is to create several virtual environments with different Python versions and different versions of your dependencies installed.
    </span>
    <span class="koboSpan" id="kobo.599.3">
     Then, you can run your test suite in all these environments.
    </span>
    <span class="koboSpan" id="kobo.599.4">
     Doing this manually would be very time-consuming.
    </span>
    <span class="koboSpan" id="kobo.599.5">
     Fortunately, there are tools that will automate this process for you.
    </span>
    <span class="koboSpan" id="kobo.599.6">
     The most popular of these tools is called
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.600.1">
      tox
     </span>
    </em>
    <span class="koboSpan" id="kobo.601.1">
     .
    </span>
    <span class="koboSpan" id="kobo.601.2">
     You can find out more about it at
    </span>
    <a href="https://tox.wiki/">
     <span class="url">
      <span class="koboSpan" id="kobo.602.1">
       https://tox.wiki/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.603.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.604.1">
     You can also specify optional dependencies for your package.
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.605.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.606.1">
     will only install such dependencies if a user specifically requests it.
    </span>
    <span class="koboSpan" id="kobo.606.2">
     This is useful if some dependencies are only required for a feature that many users are not likely to need.
    </span>
    <span class="koboSpan" id="kobo.606.3">
     Users who want the extra feature can then install the optional dependency and everyone else gets to save disk space and network bandwidth.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.607.1">
     For example, the PyJWT project, which we used in
    </span>
    <em class="chapterRef">
     <span class="koboSpan" id="kobo.608.1">
      Chapter 9, Cryptography and Tokens
     </span>
    </em>
    <span class="koboSpan" id="kobo.609.1">
     , depends on the cryptography project to sign JWTs using asymmetric keys.
    </span>
    <span class="koboSpan" id="kobo.609.2">
     Many users of PyJWT do not use this feature, so the developers made cryptography an optional dependency.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.610.1">
     Optional (or extra) dependencies are specified in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.611.1">
      project.optional-dependencies
     </span>
    </code>
    <span class="koboSpan" id="kobo.612.1">
     table in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.613.1">
      pyproject.toml
     </span>
    </code>
    <span class="koboSpan" id="kobo.614.1">
     file.
    </span>
    <span class="koboSpan" id="kobo.614.2">
     This section can contain any number of named lists of optional dependencies.
    </span>
    <span class="koboSpan" id="kobo.614.3">
     These lists are referred to as
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.615.1">
      extras
     </span>
    </strong>
    <span class="koboSpan" id="kobo.616.1">
     .
    </span>
    <span class="koboSpan" id="kobo.616.2">
     In our project, we have one extra called
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.617.1">
      dev
     </span>
    </code>
    <span class="koboSpan" id="kobo.618.1">
     :
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.619.1"># railway-project/pyproject.toml</span></span><span class="koboSpan" id="kobo.620.1">
dev = [
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.621.1">"black"</span></span><span class="koboSpan" id="kobo.622.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.623.1">"isort"</span></span><span class="koboSpan" id="kobo.624.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.625.1">"flake8"</span></span><span class="koboSpan" id="kobo.626.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.627.1">"mypy"</span></span><span class="koboSpan" id="kobo.628.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.629.1">"types-requests"</span></span><span class="koboSpan" id="kobo.630.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.631.1">"pytest"</span></span><span class="koboSpan" id="kobo.632.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.633.1">"pytest-mock"</span></span><span class="koboSpan" id="kobo.634.1">,
    </span><span class="hljs-string"><span class="koboSpan" id="kobo.635.1">"requests-mock"</span></span><span class="koboSpan" id="kobo.636.1">,
]
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.637.1">
     This is a common convention for listing tools that are useful during the development of a project as optional dependencies.
    </span>
    <span class="koboSpan" id="kobo.637.2">
     Many projects also have an extra
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.638.1">
      test
     </span>
    </code>
    <span class="koboSpan" id="kobo.639.1">
     dependency for installing packages that are only needed to run the project’s test suite.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.640.1">
     To include optional
    </span>
    <a id="_idIndexMarker1409">
    </a>
    <span class="koboSpan" id="kobo.641.1">
     dependencies when installing a package, you have to add the names of the extras you want in square brackets when you run
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.642.1">
      pip install
     </span>
    </code>
    <span class="koboSpan" id="kobo.643.1">
     .
    </span>
    <span class="koboSpan" id="kobo.643.2">
     For example, to do an editable install of our project with the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.644.1">
      dev
     </span>
    </code>
    <span class="koboSpan" id="kobo.645.1">
     dependencies included, you can run:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.646.1">$ pip install -e './railway-project[dev]'
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.647.1">
     Note that we needed to use quotes in this
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.648.1">
      pip install
     </span>
    </code>
    <span class="koboSpan" id="kobo.649.1">
     command to prevent the shell from interpreting the square brackets as a filename pattern.
    </span>
   </p>
   <h3 class="heading-3" id="_idParaDest-399">
    <span class="koboSpan" id="kobo.650.1">
     Project URLs
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.651.1">
     You can also include a
    </span>
    <a id="_idIndexMarker1410">
    </a>
    <span class="koboSpan" id="kobo.652.1">
     list of URLs for websites related to your project in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.653.1">
      urls
     </span>
    </code>
    <span class="koboSpan" id="kobo.654.1">
     sub-table of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.655.1">
      project
     </span>
    </code>
    <span class="koboSpan" id="kobo.656.1">
     metadata table:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.657.1"># railway-project/pyproject.toml</span></span><span class="koboSpan" id="kobo.658.1">
[project.urls]
Homepage = </span><span class="hljs-string"><span class="koboSpan" id="kobo.659.1">"https://github.com/PacktPublishing/Learn-Python-..."</span></span>
<span class="hljs-string"><span class="koboSpan" id="kobo.660.1">"Learn Python Programming Book"</span></span><span class="koboSpan" id="kobo.661.1"> = </span><span class="hljs-string"><span class="koboSpan" id="kobo.662.1">"https://www.packtpub.com/..."</span></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.663.1">
     The keys of the URLs table can be arbitrary strings describing the URLs.
    </span>
    <span class="koboSpan" id="kobo.663.2">
     It is quite common for projects to include a link to their source code on a code-hosting service, such as GitHub or GitLab.
    </span>
    <span class="koboSpan" id="kobo.663.3">
     Many projects also link to online documentation or bug trackers.
    </span>
    <span class="koboSpan" id="kobo.663.4">
     We have used this field to add links to the source code repository for this book on GitHub and to information about the book on the publisher’s website.
    </span>
   </p>
   <h3 class="heading-3" id="_idParaDest-400">
    <span class="koboSpan" id="kobo.664.1">
     Scripts and entry points
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.665.1">
     So far, we have been
    </span>
    <a id="_idIndexMarker1411">
    </a>
    <span class="koboSpan" id="kobo.666.1">
     running our application by typing:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.667.1">$ python -m railway_cli
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.668.1">
     This is not particularly user-friendly.
    </span>
    <span class="koboSpan" id="kobo.668.2">
     It would be much better if we could run our application by just typing:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.669.1">$ railway-cli
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.670.1">
     We can achieve this by
    </span>
    <a id="_idIndexMarker1412">
    </a>
    <span class="koboSpan" id="kobo.671.1">
     configuring script
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.672.1">
      entry points
     </span>
    </strong>
    <span class="koboSpan" id="kobo.673.1">
     for our distribution.
    </span>
    <span class="koboSpan" id="kobo.673.2">
     A script entry point is a function that we want to be able to execute as a command-line or GUI script.
    </span>
    <span class="koboSpan" id="kobo.673.3">
     When our package is installed,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.674.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.675.1">
     will automatically generate scripts that import the specified functions and run them.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.676.1">
     We configure script entry points in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.677.1">
      project.scripts
     </span>
    </code>
    <span class="koboSpan" id="kobo.678.1">
     table in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.679.1">
      pyproject.toml
     </span>
    </code>
    <span class="koboSpan" id="kobo.680.1">
     file:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.681.1"># railway-project/pyproject.toml</span></span><span class="koboSpan" id="kobo.682.1">
[project.scripts]
railway-cli = </span><span class="hljs-string"><span class="koboSpan" id="kobo.683.1">"railway_cli.cli:main"</span></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.684.1">
     Each key in this table defines the name of a script that should be generated when the package is installed.
    </span>
    <span class="koboSpan" id="kobo.684.2">
     The corresponding value is an object reference pointing to the function that should be called when the script is executed.
    </span>
    <span class="koboSpan" id="kobo.684.3">
     If we were packaging a GUI application, we would need to use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.685.1">
      project.gui-scripts
     </span>
    </code>
    <span class="koboSpan" id="kobo.686.1">
     table instead.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.687.1">
      The Windows operating system treats console and GUI applications differently.
     </span>
     <span class="koboSpan" id="kobo.687.2">
      Console applications are launched in a console window and can print to the screen and read keyboard input through the console.
     </span>
     <span class="koboSpan" id="kobo.687.3">
      GUI applications are launched without a console window.
     </span>
     <span class="koboSpan" id="kobo.687.4">
      On other operating systems, there is no difference between
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.688.1">
       scripts
      </span>
     </code>
     <span class="koboSpan" id="kobo.689.1">
      and
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.690.1">
       gui-scripts
      </span>
     </code>
     <span class="koboSpan" id="kobo.691.1">
      .
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.692.1">
     Now, when we install the project in a virtual environment,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.693.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.694.1">
     will generate a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.695.1">
      railway-cli
     </span>
    </code>
    <span class="koboSpan" id="kobo.696.1">
     script in the virtual environment
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.697.1">
      bin
     </span>
    </code>
    <span class="koboSpan" id="kobo.698.1">
     folder (or the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.699.1">
      Scripts
     </span>
    </code>
    <span class="koboSpan" id="kobo.700.1">
     folder on Windows).
    </span>
    <span class="koboSpan" id="kobo.700.2">
     It looks like this:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.701.1">#!/.../ch16/railway-project/venv/bin/python</span></span>
<span class="hljs-comment"><span class="koboSpan" id="kobo.702.1"># -*- coding: utf-8 -*-</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.703.1">import</span></span><span class="koboSpan" id="kobo.704.1"> re
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.705.1">import</span></span><span class="koboSpan" id="kobo.706.1"> sys
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.707.1">from</span></span><span class="koboSpan" id="kobo.708.1"> railway_cli.cli </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.709.1">import</span></span><span class="koboSpan" id="kobo.710.1"> main
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.711.1">if</span></span><span class="koboSpan" id="kobo.712.1"> __name__ == </span><span class="hljs-string"><span class="koboSpan" id="kobo.713.1">'__main__'</span></span><span class="koboSpan" id="kobo.714.1">:
    sys.argv[</span><span class="hljs-number"><span class="koboSpan" id="kobo.715.1">0</span></span><span class="koboSpan" id="kobo.716.1">] = re.sub(
        </span><span class="hljs-string"><span class="koboSpan" id="kobo.717.1">r'(-script\.pyw|\.exe)?$'</span></span><span class="koboSpan" id="kobo.718.1">, </span><span class="hljs-string"><span class="koboSpan" id="kobo.719.1">''</span></span><span class="koboSpan" id="kobo.720.1">, sys.argv[</span><span class="hljs-number"><span class="koboSpan" id="kobo.721.1">0</span></span><span class="koboSpan" id="kobo.722.1">]
    )
    sys.exit(main())
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.723.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.724.1">
      #!/.../ch16/railway-project/venv/bin/python
     </span>
    </code>
    <span class="koboSpan" id="kobo.725.1">
     comment
    </span>
    <a id="_idIndexMarker1413">
    </a>
    <span class="koboSpan" id="kobo.726.1">
     at the top of the file is
    </span>
    <a id="_idIndexMarker1414">
    </a>
    <span class="koboSpan" id="kobo.727.1">
     called a
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.728.1">
      shebang
     </span>
    </strong>
    <span class="koboSpan" id="kobo.729.1">
     (from hash + bang – bang is another name for an exclamation mark).
    </span>
    <span class="koboSpan" id="kobo.729.2">
     It
    </span>
    <a id="_idIndexMarker1415">
    </a>
    <span class="koboSpan" id="kobo.730.1">
     specifies the path to the Python executable that will be used to run the script.
    </span>
    <span class="koboSpan" id="kobo.730.2">
     The script imports the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.731.1">
      main()
     </span>
    </code>
    <span class="koboSpan" id="kobo.732.1">
     function from the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.733.1">
      railway_cli.main
     </span>
    </code>
    <span class="koboSpan" id="kobo.734.1">
     module, performs some manipulation of the program name in
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.735.1">
      sys.argv[0]
     </span>
    </code>
    <span class="koboSpan" id="kobo.736.1">
     , and then calls
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.737.1">
      main()
     </span>
    </code>
    <span class="koboSpan" id="kobo.738.1">
     and passes the return value to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.739.1">
      sys.exit()
     </span>
    </code>
    <span class="koboSpan" id="kobo.740.1">
     .
    </span>
   </p>
   <div class="packt_tip">
    <p class="normal">
     <span class="koboSpan" id="kobo.741.1">
      Apart from script entry points, it is also possible to create arbitrary entry-point groups.
     </span>
     <span class="koboSpan" id="kobo.741.2">
      Such groups are defined by sub-tables under the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.742.1">
       project.entry-points
      </span>
     </code>
     <span class="koboSpan" id="kobo.743.1">
      table.
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.744.1">
       pip
      </span>
     </code>
     <span class="koboSpan" id="kobo.745.1">
      will not generate scripts for entry points in other groups, but they can be useful for other purposes.
     </span>
     <span class="koboSpan" id="kobo.745.2">
      Specifically, many projects that support extending their functionality via plugins use particular entry point group names for plugin discovery.
     </span>
     <span class="koboSpan" id="kobo.745.3">
      This is a more advanced subject that we won’t discuss in detail here, but if you are interested, you can read about it in the entry-points specification:
     </span>
     <a href="https://packaging.python.org/specifications/entry-points/">
      <span class="url">
       <span class="koboSpan" id="kobo.746.1">
        https://packaging.python.org/specifications/entry-points/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.747.1">
      .
     </span>
    </p>
   </div>
   <h3 class="heading-3" id="_idParaDest-401">
    <span class="koboSpan" id="kobo.748.1">
     Defining the package contents
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.749.1">
     For projects that use
    </span>
    <a id="_idIndexMarker1416">
    </a>
    <span class="koboSpan" id="kobo.750.1">
     the src layout, Setuptools can usually automatically determine which Python modules to include in the distribution.
    </span>
    <span class="koboSpan" id="kobo.750.2">
     For flat layouts, automatic discovery only works if there is only one importable package present in the project folder.
    </span>
    <span class="koboSpan" id="kobo.750.3">
     If there are any other Python files present, you will need to configure the packages and modules to include or exclude via the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.751.1">
      tools.setuptools
     </span>
    </code>
    <span class="koboSpan" id="kobo.752.1">
     table in
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.753.1">
      pyproject.toml
     </span>
    </code>
    <span class="koboSpan" id="kobo.754.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.755.1">
     If you use an src layout, you only need additional configuration if you use a name other than
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.756.1">
      src
     </span>
    </code>
    <span class="koboSpan" id="kobo.757.1">
     for the folder containing the code, or if there are some modules in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.758.1">
      src
     </span>
    </code>
    <span class="koboSpan" id="kobo.759.1">
     folder that need to be excluded from the distribution.
    </span>
    <span class="koboSpan" id="kobo.759.2">
     In our railway-cli project, we rely on automatic discovery, so we do not have any package discovery configuration in our
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.760.1">
      pyproject.toml
     </span>
    </code>
    <span class="koboSpan" id="kobo.761.1">
     file.
    </span>
    <span class="koboSpan" id="kobo.761.2">
     You can read more about Setuptools’s automatic discovery and how to customize it in the Setuptools user guide:
    </span>
    <a href="https://setuptools.pypa.io/en/latest/userguide/">
     <span class="url">
      <span class="koboSpan" id="kobo.762.1">
       https://setuptools.pypa.io/en/latest/userguide/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.763.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.764.1">
     Our package metadata configuration is now complete.
    </span>
    <span class="koboSpan" id="kobo.764.2">
     Before we move on to building and publishing a package, we will take a brief look at how we can access the metadata in our code.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-402">
    <span class="koboSpan" id="kobo.765.1">
     Accessing metadata in your code
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.766.1">
     We have already
    </span>
    <a id="_idIndexMarker1417">
    </a>
    <span class="koboSpan" id="kobo.767.1">
     seen how we can use dynamic metadata to share the version number between the distribution configuration and the code.
    </span>
    <span class="koboSpan" id="kobo.767.2">
     For other dynamic metadata, Setuptools only supports loading from files, not from attributes in the code.
    </span>
    <span class="koboSpan" id="kobo.767.3">
     Such files will not be included in the wheel distribution unless we add explicit configuration for this.
    </span>
    <span class="koboSpan" id="kobo.767.4">
     There is, however, a more convenient way to access distribution metadata from the code.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.768.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.769.1">
      importlib.metadata
     </span>
    </code>
    <span class="koboSpan" id="kobo.770.1">
     standard library module provides interfaces to access the distribution metadata of any installed package.
    </span>
    <span class="koboSpan" id="kobo.770.2">
     To demonstrate this, we have added a command-line option for displaying the project license to the Railway CLI application:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword"><span class="koboSpan" id="kobo.771.1">from</span></span><span class="koboSpan" id="kobo.772.1"> importlib.metadata </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.773.1">import</span></span><span class="koboSpan" id="kobo.774.1"> metadata, packages_distributions
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.775.1">def</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.776.1">get_arg_parser</span></span><span class="koboSpan" id="kobo.777.1">() -&gt; argparse.ArgumentParser:
    ...
    </span><span class="koboSpan" id="kobo.777.2">parser.add_argument(
        </span><span class="hljs-string"><span class="koboSpan" id="kobo.778.1">"-L"</span></span><span class="koboSpan" id="kobo.779.1">,
        </span><span class="hljs-string"><span class="koboSpan" id="kobo.780.1">"--license"</span></span><span class="koboSpan" id="kobo.781.1">,
        action=</span><span class="hljs-string"><span class="koboSpan" id="kobo.782.1">"version"</span></span><span class="koboSpan" id="kobo.783.1">,
        version=get_license(),
    )
    ...
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.784.1">def</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.785.1">get_license</span></span><span class="koboSpan" id="kobo.786.1">() -&gt; </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.787.1">str</span></span><span class="koboSpan" id="kobo.788.1">:
    default = </span><span class="hljs-string"><span class="koboSpan" id="kobo.789.1">"License not found"</span></span><span class="koboSpan" id="kobo.790.1">
    all_distributions = packages_distributions()
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.791.1">try</span></span><span class="koboSpan" id="kobo.792.1">:
        distribution = all_distributions[__package__][</span><span class="hljs-number"><span class="koboSpan" id="kobo.793.1">0</span></span><span class="koboSpan" id="kobo.794.1">]
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.795.1">except</span></span><span class="koboSpan" id="kobo.796.1"> KeyError:
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.797.1">return</span></span><span class="koboSpan" id="kobo.798.1"> default
    meta = metadata(distribution)
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.799.1">return</span></span><span class="koboSpan" id="kobo.800.1"> meta[</span><span class="hljs-string"><span class="koboSpan" id="kobo.801.1">"License"</span></span><span class="koboSpan" id="kobo.802.1">] </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.803.1">or</span></span><span class="koboSpan" id="kobo.804.1"> default
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.805.1">
     We use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.806.1">
      "version"
     </span>
    </code>
    <span class="koboSpan" id="kobo.807.1">
     argument
    </span>
    <a id="_idIndexMarker1418">
    </a>
    <span class="koboSpan" id="kobo.808.1">
     parser action to print the license string and exit if the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.809.1">
      -L
     </span>
    </code>
    <span class="koboSpan" id="kobo.810.1">
     or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.811.1">
      --license
     </span>
    </code>
    <span class="koboSpan" id="kobo.812.1">
     option is present on the command line.
    </span>
    <span class="koboSpan" id="kobo.812.2">
     To get the license text, we first need to find the distribution corresponding to our importable package.
    </span>
    <span class="koboSpan" id="kobo.812.3">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.813.1">
      packages_distributions()
     </span>
    </code>
    <span class="koboSpan" id="kobo.814.1">
     function returns a dictionary whose keys are the names of importable packages in the virtual environment.
    </span>
    <span class="koboSpan" id="kobo.814.2">
     The values are lists of distribution packages that provide the corresponding importable packages.
    </span>
    <span class="koboSpan" id="kobo.814.3">
     We assume that no other installed distributions provide a package of the same name as ours, so we just take the first element of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.815.1">
      all_distributions[__package__]
     </span>
    </code>
    <span class="koboSpan" id="kobo.816.1">
     list.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.817.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.818.1">
      metadata
     </span>
    </code>
    <span class="koboSpan" id="kobo.819.1">
     function returns a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.820.1">
      dict
     </span>
    </code>
    <span class="koboSpan" id="kobo.821.1">
     -like object with the metadata.
    </span>
    <span class="koboSpan" id="kobo.821.2">
     The keys are similar to, but not quite the same as, the names of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.822.1">
      pyproject.toml
     </span>
    </code>
    <span class="koboSpan" id="kobo.823.1">
     entries we use to define the metadata.
    </span>
    <span class="koboSpan" id="kobo.823.2">
     Details of all the keys and their meanings can be found in the metadata specification at
    </span>
    <a href="https://packaging.python.org/specifications/core-metadata/">
     <span class="url">
      <span class="koboSpan" id="kobo.824.1">
       https://packaging.python.org/specifications/core-metadata/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.825.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.826.1">
     Note that if our package is not installed, we will get a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.827.1">
      KeyError
     </span>
    </code>
    <span class="koboSpan" id="kobo.828.1">
     when we try to look it up in the dictionary returned by
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.829.1">
      packages_distributions()
     </span>
    </code>
    <span class="koboSpan" id="kobo.830.1">
     .
    </span>
    <span class="koboSpan" id="kobo.830.2">
     In this case, or in the case where there is no
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.831.1">
      "License"
     </span>
    </code>
    <span class="koboSpan" id="kobo.832.1">
     specified in the project metadata, we return a default value to indicate that the license could not be found.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.833.1">
     Let us see what the output looks like:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.834.1">$ railway-cli -L
Copyright (c) 2024 Heinrich Kruger, Fabrizio Romano
Permission is hereby granted, free of charge, ...
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.835.1">
     We have trimmed
    </span>
    <a id="_idIndexMarker1419">
    </a>
    <span class="koboSpan" id="kobo.836.1">
     the output here to save space, but if you run it yourself, you should see the full license text printed out.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.837.1">
     Now, we are ready to proceed with building and publishing distribution packages.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-403">
    <span class="koboSpan" id="kobo.838.1">
     Building and publishing packages
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.839.1">
     We will use the package builder provided by
    </span>
    <a id="_idIndexMarker1420">
    </a>
    <span class="koboSpan" id="kobo.840.1">
     the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.841.1">
      build
     </span>
    </em>
    <span class="koboSpan" id="kobo.842.1">
     project (
    </span>
    <a href="https://pypi.org/project/build/">
     <span class="url">
      <span class="koboSpan" id="kobo.843.1">
       https://pypi.org/project/build/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.844.1">
     ) to build our distribution package.
    </span>
    <span class="koboSpan" id="kobo.844.2">
     We will also need
    </span>
    <a id="_idIndexMarker1421">
    </a>
    <span class="koboSpan" id="kobo.845.1">
     the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.846.1">
      twine
     </span>
    </em>
    <span class="koboSpan" id="kobo.847.1">
     (
    </span>
    <a href="https://pypi.org/project/twine/">
     <span class="url">
      <span class="koboSpan" id="kobo.848.1">
       https://pypi.org/project/twine/
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.849.1">
     ) utility to upload our packages to PyPI.
    </span>
    <span class="koboSpan" id="kobo.849.2">
     You can install these tools from the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.850.1">
      requirements/build.txt
     </span>
    </code>
    <span class="koboSpan" id="kobo.851.1">
     file provided with the source code of this chapter.
    </span>
    <span class="koboSpan" id="kobo.851.2">
     We recommend installing these in a new virtual environment.
    </span>
   </p>
   <div class="packt_tip">
    <p class="normal">
     <span class="koboSpan" id="kobo.852.1">
      Because project names on PyPI must be unique, you will not be able to upload the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.853.1">
       railway-cli
      </span>
     </code>
     <span class="koboSpan" id="kobo.854.1">
      project without changing the name first.
     </span>
     <span class="koboSpan" id="kobo.854.2">
      You should change the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.855.1">
       name
      </span>
     </code>
     <span class="koboSpan" id="kobo.856.1">
      in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.857.1">
       pyptoject.toml
      </span>
     </code>
     <span class="koboSpan" id="kobo.858.1">
      file to something unique before building distribution packages.
     </span>
     <span class="koboSpan" id="kobo.858.2">
      Bear in mind that this means that the filenames of your distribution packages will also be different from ours.
     </span>
    </p>
   </div>
   <h2 class="heading-2" id="_idParaDest-404">
    <span class="koboSpan" id="kobo.859.1">
     Building
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.860.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.861.1">
      build
     </span>
    </code>
    <span class="koboSpan" id="kobo.862.1">
     project
    </span>
    <a id="_idIndexMarker1422">
    </a>
    <span class="koboSpan" id="kobo.863.1">
     provides a
    </span>
    <a id="_idIndexMarker1423">
    </a>
    <span class="koboSpan" id="kobo.864.1">
     simple script for building packages according to the PEP 517 specification.
    </span>
    <span class="koboSpan" id="kobo.864.2">
     It will take care of all the details of building distribution packages for us.
    </span>
    <span class="koboSpan" id="kobo.864.3">
     When we run it,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.865.1">
      build
     </span>
    </code>
    <span class="koboSpan" id="kobo.866.1">
     will do the following:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <span class="koboSpan" id="kobo.867.1">
      Create a virtual environment.
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.868.1">
      Install the build requirements listed in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.869.1">
       pyproject.toml
      </span>
     </code>
     <span class="koboSpan" id="kobo.870.1">
      file in the virtual environment.
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.871.1">
      Import the build backend specified in the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.872.1">
       pyproject.toml
      </span>
     </code>
     <span class="koboSpan" id="kobo.873.1">
      file and run it to build a source distribution.
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.874.1">
      Create another virtual environment and install the build requirements.
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.875.1">
      Import the build backend and use it to build a wheel from the source distribution built in
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.876.1">
       step 3
      </span>
     </em>
     <span class="koboSpan" id="kobo.877.1">
      .
     </span>
    </li>
   </ol>
   <p class="normal">
    <span class="koboSpan" id="kobo.878.1">
     Let us see it in action.
    </span>
    <span class="koboSpan" id="kobo.878.2">
     Enter the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.879.1">
      railway-project
     </span>
    </code>
    <span class="koboSpan" id="kobo.880.1">
     folder in the chapter’s source code, and run the following command:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.881.1">$ python -m build
* Creating isolated environment: venv+pip...
</span><span class="koboSpan" id="kobo.881.2">* Installing packages in isolated environment:
  - setuptools&gt;=66.1.0
  - wheel
* Getting build dependencies for sdist...
</span><span class="koboSpan" id="kobo.881.3">...
</span><span class="koboSpan" id="kobo.881.4">* Building sdist...
</span><span class="koboSpan" id="kobo.881.5">...
</span><span class="koboSpan" id="kobo.881.6">* Building wheel from sdist
* Creating isolated environment: venv+pip...
</span><span class="koboSpan" id="kobo.881.7">* Installing packages in isolated environment:
  - setuptools&gt;=66.1.0
  - wheel
* Getting build dependencies for wheel...
</span><span class="koboSpan" id="kobo.881.8">...
</span><span class="koboSpan" id="kobo.881.9">* Building wheel...
</span><span class="koboSpan" id="kobo.881.10">...
</span><span class="koboSpan" id="kobo.881.11">Successfully built railway_cli-0.0.1.tar.gz and
railway_cli-0.0.1-py3-none-any.whl
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.882.1">
     We have removed a lot of lines from the output to make it easier to see how it follows the steps we listed above.
    </span>
    <span class="koboSpan" id="kobo.882.2">
     If you look at the content of your
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.883.1">
      railway-project
     </span>
    </code>
    <span class="koboSpan" id="kobo.884.1">
     folder, you will notice there is a new folder called
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.885.1">
      dist
     </span>
    </code>
    <span class="koboSpan" id="kobo.886.1">
     with two files:
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.887.1">
      railway_cli-0.0.1.tar.gz
     </span>
    </code>
    <span class="koboSpan" id="kobo.888.1">
     is our source distribution, and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.889.1">
      railway_cli-0.0.1-py3-none-any.whl
     </span>
    </code>
    <span class="koboSpan" id="kobo.890.1">
     is the wheel.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.891.1">
     Before uploading your
    </span>
    <a id="_idIndexMarker1424">
    </a>
    <span class="koboSpan" id="kobo.892.1">
     package, it is advisable to do a couple of checks to make sure it is built correctly.
    </span>
    <span class="koboSpan" id="kobo.892.2">
     First, we can use
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.893.1">
      twine
     </span>
    </code>
    <span class="koboSpan" id="kobo.894.1">
     to verify that the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.895.1">
      readme
     </span>
    </code>
    <span class="koboSpan" id="kobo.896.1">
     will render correctly on the PyPI website:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.897.1">$ twine check dist/*
Checking dist/railway_cli-0.0.1-py3-none-any.whl: PASSED
Checking dist/railway_cli-0.0.1.tar.gz: PASSED
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.898.1">
     If
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.899.1">
      twine
     </span>
    </code>
    <span class="koboSpan" id="kobo.900.1">
     reports any problems, you should fix them and rebuild the package.
    </span>
    <span class="koboSpan" id="kobo.900.2">
     In our case, the checks passed, so let us install our wheel and make sure it works.
    </span>
    <span class="koboSpan" id="kobo.900.3">
     In a separate virtual environment, run:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.901.1">$ pip install dist./railway_cli-0.0.1-py3-none-any.whl
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.902.1">
     With the wheel installed in your virtual environment, try to run the application, preferably from outside the project directory.
    </span>
    <span class="koboSpan" id="kobo.902.2">
     If you encounter any errors during installation or when running your code, check your configuration carefully for typos.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.903.1">
     Our package seems to have been built successfully, so let us move on to publishing it.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-405">
    <span class="koboSpan" id="kobo.904.1">
     Publishing
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.905.1">
     Since this is only an
    </span>
    <a id="_idIndexMarker1425">
    </a>
    <span class="koboSpan" id="kobo.906.1">
     example project, we will upload it to TestPyPI instead of the real PyPI.
    </span>
    <span class="koboSpan" id="kobo.906.2">
     This is a separate instance of the package index that was created specifically to allow developers to test package uploads and experiment with packaging tools and processes.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.907.1">
     Before you can upload packages, you will need to register an account.
    </span>
    <span class="koboSpan" id="kobo.907.2">
     You can do this now, by going to the TestPyPI website at
    </span>
    <a href="https://test.pypi.org">
     <span class="url">
      <span class="koboSpan" id="kobo.908.1">
       https://test.pypi.org
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.909.1">
     and clicking on
    </span>
    <strong class="screenText">
     <span class="koboSpan" id="kobo.910.1">
      Register
     </span>
    </strong>
    <span class="koboSpan" id="kobo.911.1">
     .
    </span>
    <span class="koboSpan" id="kobo.911.2">
     Once you have completed the registration process and verified your email address, you will need to generate an API token.
    </span>
    <span class="koboSpan" id="kobo.911.3">
     You can do so on the
    </span>
    <strong class="screenText">
     <span class="koboSpan" id="kobo.912.1">
      Account Settings
     </span>
    </strong>
    <span class="koboSpan" id="kobo.913.1">
     page of the TestPyPI website.
    </span>
    <span class="koboSpan" id="kobo.913.2">
     Make sure you copy the token and save it before closing the page.
    </span>
    <span class="koboSpan" id="kobo.913.3">
     You should save your token to a file named
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.914.1">
      .pypirc
     </span>
    </code>
    <span class="koboSpan" id="kobo.915.1">
     in your user home directory.
    </span>
    <span class="koboSpan" id="kobo.915.2">
     The file should look like this:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="koboSpan" id="kobo.916.1">[testpypi]
  username = __token__
  password = pypi-...
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.917.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.918.1">
      password
     </span>
    </code>
    <span class="koboSpan" id="kobo.919.1">
     value
    </span>
    <a id="_idIndexMarker1426">
    </a>
    <span class="koboSpan" id="kobo.920.1">
     should be replaced with your actual token.
    </span>
   </p>
   <div class="packt_tip">
    <p class="normal">
     <span class="koboSpan" id="kobo.921.1">
      We strongly recommend that you enable two-factor authentication for both your TestPyPI account and especially your real PyPI account.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.922.1">
     Now, you are ready to run
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.923.1">
      twine
     </span>
    </code>
    <span class="koboSpan" id="kobo.924.1">
     to upload your distribution packages:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.925.1">$ twine upload --repository testpypi dist/*
Uploading distributions to https://test.pypi.org/legacy/
Uploading railway_cli-0.0.1-py3-none-any.whl
100% ━━━━━━━━━━━━━━━━━━ 19.3/19.3 kB • 00:00 • 7.3 MB/s
Uploading railway_cli-0.0.1.tar.gz
100% ━━━━━━━━━━━━━━━━━━ 17.7/17.7 kB • 00:00 • 9.4 MB/s
View at:
https://test.pypi.org/project/railway-cli/0.0.1/
</span></code></pre>
   <p class="normal">
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.926.1">
      twine
     </span>
    </code>
    <span class="koboSpan" id="kobo.927.1">
     displays progress bars to show how the uploads are progressing.
    </span>
    <span class="koboSpan" id="kobo.927.2">
     Once the upload is complete, it prints out a URL where you can see details of your package.
    </span>
    <span class="koboSpan" id="kobo.927.3">
     Open it in your browser, and you should see our project description with the contents of our
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.928.1">
      README.md
     </span>
    </code>
    <span class="koboSpan" id="kobo.929.1">
     file.
    </span>
    <span class="koboSpan" id="kobo.929.2">
     On the left of the page, you will see links for the project URLs, the author details, license information, keywords, and classifiers.
    </span>
   </p>
   <figure class="mediaobject">
    <span class="koboSpan" id="kobo.930.1">
     <img alt="A screenshot of a computer  Description automatically generated" src="../Images/B30992_16_01.png"/>
    </span>
   </figure>
   <p class="packt_figref">
    <span class="koboSpan" id="kobo.931.1">
     Figure 16.1: Our project page on the TestPyPI website
    </span>
   </p>
   <p class="normal">
    <em class="italic">
     <span class="koboSpan" id="kobo.932.1">
      Figure 16.1
     </span>
    </em>
    <span class="koboSpan" id="kobo.933.1">
     shows what
    </span>
    <a id="_idIndexMarker1427">
    </a>
    <span class="koboSpan" id="kobo.934.1">
     this page looks like for our railway-cli project.
    </span>
    <span class="koboSpan" id="kobo.934.2">
     You should check all the information on the page carefully and make sure it matches what you expect to see.
    </span>
    <span class="koboSpan" id="kobo.934.3">
     If not, you will have to fix the metadata in your
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.935.1">
      pyproject.toml
     </span>
    </code>
    <span class="koboSpan" id="kobo.936.1">
     , rebuild, and re-upload.
    </span>
   </p>
   <div class="packt_tip">
    <p class="normal">
     <span class="koboSpan" id="kobo.937.1">
      PyPI will not let you re-upload distributions with the same filenames as previously uploaded packages.
     </span>
     <span class="koboSpan" id="kobo.937.2">
      To fix your metadata, you will have to increment the version of your package.
     </span>
     <span class="koboSpan" id="kobo.937.3">
      Using developmental release numbers until you are 100% sure everything is correct can help you avoid unnecessary version increments just to fix packaging mistakes.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.938.1">
     Now, we can install our package from the TestPyPI repository.
    </span>
    <span class="koboSpan" id="kobo.938.2">
     Run the following in a new virtual environment:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.939.1">pip install --index-url https://test.pypi.org/simple/ \
    --extra-index-url https://pypi.org/simple/ railway-cli==1.0.0
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.940.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.941.1">
      --index-url
     </span>
    </code>
    <span class="koboSpan" id="kobo.942.1">
     option tells
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.943.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.944.1">
     to use
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.945.1">
      https://test.pypi.org/simple/
     </span>
    </code>
    <span class="koboSpan" id="kobo.946.1">
     as the main package index.
    </span>
    <span class="koboSpan" id="kobo.946.2">
     We use
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.947.1">
      --extra-index-url https://pypi.org/simple/
     </span>
    </code>
    <span class="koboSpan" id="kobo.948.1">
     to tell
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.949.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.950.1">
     to also look up packages in standard PyPI so that dependencies that are not available in TestPyPI can be installed.
    </span>
    <span class="koboSpan" id="kobo.950.2">
     The package was installed successfully, which confirms that our package was built and uploaded correctly.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.951.1">
     If this were a real project, we would now proceed to upload to the real PyPI.
    </span>
    <span class="koboSpan" id="kobo.951.2">
     The process is the same as for TestPyPI.
    </span>
    <span class="koboSpan" id="kobo.951.3">
     When you save your PyPI API key, you should add it to your existing
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.952.1">
      .pypirc
     </span>
    </code>
    <span class="koboSpan" id="kobo.953.1">
     file under the heading
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.954.1">
      [pypi]
     </span>
    </code>
    <span class="koboSpan" id="kobo.955.1">
     , like this:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="koboSpan" id="kobo.956.1">[pypi]
  username = __token__
  password = pypi-…
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.957.1">
     You also do not need
    </span>
    <a id="_idIndexMarker1428">
    </a>
    <span class="koboSpan" id="kobo.958.1">
     to use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.959.1">
      --repository
     </span>
    </code>
    <span class="koboSpan" id="kobo.960.1">
     option to upload your package to the real PyPI; you can just run the following:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.961.1">$ twine upload dist/*
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.962.1">
     As you can see, it is not difficult to package and publish a project, but there are quite a few details to take care of.
    </span>
    <span class="koboSpan" id="kobo.962.2">
     The good news is that most of the work only needs to be done once: when you publish your first release.
    </span>
    <span class="koboSpan" id="kobo.962.3">
     For subsequent releases, you usually just need to update the version and maybe adjust your dependencies.
    </span>
    <span class="koboSpan" id="kobo.962.4">
     In the next section, we will give you some advice that should make the process easier.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-406">
    <span class="koboSpan" id="kobo.963.1">
     Advice for starting new projects
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.964.1">
     It can be a tedious
    </span>
    <a id="_idIndexMarker1429">
    </a>
    <span class="koboSpan" id="kobo.965.1">
     process to do all the preparation work for packaging in one go.
    </span>
    <span class="koboSpan" id="kobo.965.2">
     It is also easy to make a mistake like forgetting to list a required dependency if you try to write all your package configurations just before publishing your package for the first time.
    </span>
    <span class="koboSpan" id="kobo.965.3">
     It is much easier to start with a simple
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.966.1">
      pyproject.toml
     </span>
    </code>
    <span class="koboSpan" id="kobo.967.1">
     , containing only the essential configuration and metadata.
    </span>
    <span class="koboSpan" id="kobo.967.2">
     You can then add to your metadata and configuration as you work on your project.
    </span>
    <span class="koboSpan" id="kobo.967.3">
     For example, every time you start using a new third-party project in your code, you can immediately add it to your
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.968.1">
      dependencies
     </span>
    </code>
    <span class="koboSpan" id="kobo.969.1">
     list.
    </span>
    <span class="koboSpan" id="kobo.969.2">
     It also helps to start writing your README file early on and then expanding it as you progress.
    </span>
    <span class="koboSpan" id="kobo.969.3">
     You may even find that writing a paragraph or two describing your project helps you to think more clearly about what it is you are trying to achieve.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.970.1">
     To help you, we have created an initial skeleton for a new project.
    </span>
    <span class="koboSpan" id="kobo.970.2">
     You can find it in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.971.1">
      skeleton-project
     </span>
    </code>
    <span class="koboSpan" id="kobo.972.1">
     folder in this chapter’s source code:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.973.1">$ tree skeleton-project
skeleton-project
├── README.md
├── pyproject.toml
├── src
│   └── example
│       └── __init__.py
└── tests
    └── __init__.py
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.974.1">
     Copy this, modify
    </span>
    <a id="_idIndexMarker1430">
    </a>
    <span class="koboSpan" id="kobo.975.1">
     it as you wish, and use it as a starting point for your own projects.
    </span>
   </p>
   <div class="packt_tip">
    <p class="normal">
     <span class="koboSpan" id="kobo.976.1">
      The cookiecutter project (
     </span>
     <a href="https://cookiecutter.readthedocs.io">
      <span class="url">
       <span class="koboSpan" id="kobo.977.1">
        https://cookiecutter.readthedocs.io
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.978.1">
      ) allows you to create templates to use
     </span>
     <a id="_idIndexMarker1431">
     </a>
     <span class="koboSpan" id="kobo.979.1">
      as starting points for projects.
     </span>
     <span class="koboSpan" id="kobo.979.2">
      This can make the process of starting a new project much simpler.
     </span>
    </p>
   </div>
   <h1 class="heading-1" id="_idParaDest-407">
    <span class="koboSpan" id="kobo.980.1">
     Other files
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.981.1">
     The configuration files
    </span>
    <a id="_idIndexMarker1432">
    </a>
    <span class="koboSpan" id="kobo.982.1">
     we showed you in this chapter are all you need to package and distribute most modern Python projects.
    </span>
    <span class="koboSpan" id="kobo.982.2">
     There are, however, a few other files that you are likely to encounter if you look at other projects on PyPI:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.983.1">
      In early versions of
     </span>
     <a id="_idIndexMarker1433">
     </a>
     <span class="koboSpan" id="kobo.984.1">
      Setuptools, every project needed to include a setup.py script, which was used to build the project.
     </span>
     <span class="koboSpan" id="kobo.984.2">
      Most such scripts consisted only of a call to the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.985.1">
       setuptools.setup()
      </span>
     </code>
     <span class="koboSpan" id="kobo.986.1">
      function with project metadata specified as parameters.
     </span>
     <span class="koboSpan" id="kobo.986.2">
      The use of
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.987.1">
       setup.py
      </span>
     </code>
     <span class="koboSpan" id="kobo.988.1">
      has not been deprecated and this is still a valid method of configuring Setuptools.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.989.1">
      Setuptools also supports
     </span>
     <a id="_idIndexMarker1434">
     </a>
     <span class="koboSpan" id="kobo.990.1">
      reading its configuration from a
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.991.1">
       setup.cfg
      </span>
     </code>
     <span class="koboSpan" id="kobo.992.1">
      file.
     </span>
     <span class="koboSpan" id="kobo.992.2">
      Before the widespread adoption of
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.993.1">
       pyproject.toml
      </span>
     </code>
     <span class="koboSpan" id="kobo.994.1">
      , this was the preferred way of configuring Setuptools.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.995.1">
      If you need to include data files or other non-standard files in your distribution packages, you will need to use a
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.996.1">
       MANIFEST.in
      </span>
     </code>
     <span class="koboSpan" id="kobo.997.1">
      file to specify the files to include.
     </span>
     <span class="koboSpan" id="kobo.997.2">
      You can learn more about the use of this file at
     </span>
     <a href="https://packaging.python.org/guides/using-manifest-in/">
      <span class="url">
       <span class="koboSpan" id="kobo.998.1">
        https://packaging.python.org/guides/using-manifest-in/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.999.1">
      .
     </span>
    </li>
   </ul>
   <h1 class="heading-1" id="_idParaDest-408">
    <span class="koboSpan" id="kobo.1000.1">
     Alternative tools
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.1001.1">
     Before we finish the chapter, let us briefly discuss some alternative options that you have for packaging your projects.
    </span>
    <span class="koboSpan" id="kobo.1001.2">
     Before PEP 517 and PEP 518, it was difficult to use anything other than Setuptools to build packages.
    </span>
    <span class="koboSpan" id="kobo.1001.3">
     There was no way for projects to specify what libraries were required to build them or how they should be built, so
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1002.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.1003.1">
     and other tools just assumed that packages should be built using Setuptools.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1004.1">
     Thanks to the build-system information in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1005.1">
      pyproject.toml
     </span>
    </code>
    <span class="koboSpan" id="kobo.1006.1">
     file, it is now easy to use any packaging library you want.
    </span>
    <span class="koboSpan" id="kobo.1006.2">
     There are several alternatives to choose from, including:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1007.1">
      The Flit project (
     </span>
     <a href="https://flit.pypa.io">
      <span class="url">
       <span class="koboSpan" id="kobo.1008.1">
        https://flit.pypa.io
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.1009.1">
      ) was instrumental in inspiring the development
     </span>
     <a id="_idIndexMarker1435">
     </a>
     <span class="koboSpan" id="kobo.1010.1">
      of the PEP 517 and PEP 518 standards (the creator of Flit was a co-author of PEP 517).
     </span>
     <span class="koboSpan" id="kobo.1010.2">
      Flit aims to make packaging simple, pure Python projects that do not require complex build steps (like compiling C code) as easy as possible.
     </span>
     <span class="koboSpan" id="kobo.1010.3">
      Flit also provides a CLI for building packages and uploading them to PyPI (so you do not need the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1011.1">
       build
      </span>
     </code>
     <span class="koboSpan" id="kobo.1012.1">
      tool or
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1013.1">
       twine
      </span>
     </code>
     <span class="koboSpan" id="kobo.1014.1">
      ).
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1015.1">
      Poetry (
     </span>
     <a href="https://python-poetry.org/">
      <span class="url">
       <span class="koboSpan" id="kobo.1016.1">
        https://python-poetry.org/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.1017.1">
      ) also provides both a CLI for building and
     </span>
     <a id="_idIndexMarker1436">
     </a>
     <span class="koboSpan" id="kobo.1018.1">
      publishing packages and a lightweight PEP 517 build backend.
     </span>
     <span class="koboSpan" id="kobo.1018.2">
      Where Poetry really shines, though, is in its advanced dependency management features.
     </span>
     <span class="koboSpan" id="kobo.1018.3">
      Poetry can even manage virtual environments for you.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1019.1">
      Hatch (
     </span>
     <a href="https://hatch.pypa.io">
      <span class="url">
       <span class="koboSpan" id="kobo.1020.1">
        https://hatch.pypa.io
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.1021.1">
      ) is an extensible project manager tool for Python.
     </span>
     <span class="koboSpan" id="kobo.1021.2">
      It includes
     </span>
     <a id="_idIndexMarker1437">
     </a>
     <span class="koboSpan" id="kobo.1022.1">
      tools for installing and managing Python versions, managing virtual environments, running tests, and more.
     </span>
     <span class="koboSpan" id="kobo.1022.2">
      It also includes a PEP 517 build backend named hatchling.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1023.1">
      PDM (
     </span>
     <a href="https://pdm-project.org/">
      <span class="url">
       <span class="koboSpan" id="kobo.1024.1">
        https://pdm-project.org/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.1025.1">
      ) is
     </span>
     <a id="_idIndexMarker1438">
     </a>
     <span class="koboSpan" id="kobo.1026.1">
      another package and dependency manager that includes a build backend.
     </span>
     <span class="koboSpan" id="kobo.1026.2">
      Like Hatch, it can be used to manage virtual environments and install Python versions.
     </span>
     <span class="koboSpan" id="kobo.1026.3">
      There are also many plugins available to extend PDM’s functionality.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1027.1">
      Enscons (
     </span>
     <a href="https://dholth.github.io/enscons/">
      <span class="url">
       <span class="koboSpan" id="kobo.1028.1">
        https://dholth.github.io/enscons/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.1029.1">
      ) is
     </span>
     <a id="_idIndexMarker1439">
     </a>
     <span class="koboSpan" id="kobo.1030.1">
      based on the
     </span>
     <a id="_idIndexMarker1440">
     </a>
     <span class="koboSpan" id="kobo.1031.1">
      SCons (
     </span>
     <a href="https://scons.org/">
      <span class="url">
       <span class="koboSpan" id="kobo.1032.1">
        https://scons.org/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.1033.1">
      ) general-purpose build system.
     </span>
     <span class="koboSpan" id="kobo.1033.2">
      This means that, unlike Flit or Poetry, enscons can be used to build distributions that include C language extensions.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1034.1">
      Meson (
     </span>
     <a href="https://mesonbuild.com/">
      <span class="url">
       <span class="koboSpan" id="kobo.1035.1">
        https://mesonbuild.com/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.1036.1">
      ) is
     </span>
     <a id="_idIndexMarker1441">
     </a>
     <span class="koboSpan" id="kobo.1037.1">
      another popular general-purpose build system.
     </span>
     <span class="koboSpan" id="kobo.1037.2">
      The
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1038.1">
       meson-python
      </span>
     </code>
     <span class="koboSpan" id="kobo.1039.1">
      (
     </span>
     <a href="https://mesonbuild.com/meson-python/">
      <span class="url">
       <span class="koboSpan" id="kobo.1040.1">
        https://mesonbuild.com/meson-python/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.1041.1">
      )project provides a PEP 517 build backend that is built on top of Meson.
     </span>
     <span class="koboSpan" id="kobo.1041.2">
      This means that it can build distributions that include extension modules built with Meson.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1042.1">
      Maturin (
     </span>
     <a href="https://www.maturin.rs/">
      <span class="url">
       <span class="koboSpan" id="kobo.1043.1">
        https://www.maturin.rs/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.1044.1">
      ) is another
     </span>
     <a id="_idIndexMarker1442">
     </a>
     <span class="koboSpan" id="kobo.1045.1">
      build tool that can be used to build distributions with extension modules implemented in the Rust programming language.
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.1046.1">
     The tools we have discussed in this chapter are all focused on distributing packages through PyPI.
    </span>
    <span class="koboSpan" id="kobo.1046.2">
     Depending on your target audience, this might not always be the best choice, though.
    </span>
    <span class="koboSpan" id="kobo.1046.3">
     PyPI exists mainly for distributing projects such as libraries and development tools for use by Python developers.
    </span>
    <span class="koboSpan" id="kobo.1046.4">
     Installing and using packages from PyPI also requires having a working Python installation and at least enough Python knowledge to know how to install packages with
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1047.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.1048.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1049.1">
     If your project is an application aimed at a less technically adept audience, you may want to consider other options.
    </span>
    <span class="koboSpan" id="kobo.1049.2">
     The Python Packaging User Guide has a useful overview of various options for distributing applications; it is available at
    </span>
    <a href="https://packaging.python.org/overview/#packaging-applications">
     <span class="url">
      <span class="koboSpan" id="kobo.1050.1">
       https://packaging.python.org/overview/#packaging-applications
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.1051.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1052.1">
     This brings us to the end of our packaging journey.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-409">
    <span class="koboSpan" id="kobo.1053.1">
     Further reading
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.1054.1">
     We will finish this chapter with a few links to resources where you can read more about packaging:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1055.1">
      The
     </span>
     <a id="_idIndexMarker1443">
     </a>
     <span class="koboSpan" id="kobo.1056.1">
      Python Packaging Authority’s Packaging History page (
     </span>
     <a href="https://www.pypa.io/en/latest/history/">
      <span class="url">
       <span class="koboSpan" id="kobo.1057.1">
        https://www.pypa.io/en/latest/history/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.1058.1">
      ) is a useful resource for understanding the evolution of Python packaging.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1059.1">
      The Python Packaging
     </span>
     <a id="_idIndexMarker1444">
     </a>
     <span class="koboSpan" id="kobo.1060.1">
      User Guide (
     </span>
     <a href="https://packaging.python.org/">
      <span class="url">
       <span class="koboSpan" id="kobo.1061.1">
        https://packaging.python.org/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.1062.1">
      ) has useful tutorials and guides, as well as a packaging glossary, links to packaging specifications, and a summary of various interesting projects related to packaging.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1063.1">
      The Setuptools
     </span>
     <a id="_idIndexMarker1445">
     </a>
     <span class="koboSpan" id="kobo.1064.1">
      documentation (
     </span>
     <a href="https://setuptools.readthedocs.io/">
      <span class="url">
       <span class="koboSpan" id="kobo.1065.1">
        https://setuptools.readthedocs.io/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.1066.1">
      ) contains a lot of useful information.
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1067.1">
      If you are distributing a library that uses type hinting, you may want to distribute type information so that developers who depend on your library can run type checks against their code.
     </span>
     <span class="koboSpan" id="kobo.1067.2">
      The Python typing documentation
     </span>
     <a id="_idIndexMarker1446">
     </a>
     <span class="koboSpan" id="kobo.1068.1">
      includes some useful information on distributing type information:
     </span>
     <a href="https://typing.readthedocs.io/en/latest/spec/distributing.html">
      <span class="url">
       <span class="koboSpan" id="kobo.1069.1">
        https://typing.readthedocs.io/en/latest/spec/distributing.html
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.1070.1">
      .
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.1071.1">
      In this chapter, we showed you how to access distribution metadata in your code.
     </span>
     <span class="koboSpan" id="kobo.1071.2">
      Most packaging tools also allow you to include data files in your distribution packages.
     </span>
     <span class="koboSpan" id="kobo.1071.3">
      The standard library
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1072.1">
       importlib.resources
      </span>
     </code>
     <span class="koboSpan" id="kobo.1073.1">
      module
     </span>
     <a id="_idIndexMarker1447">
     </a>
     <span class="koboSpan" id="kobo.1074.1">
      provides access to these
     </span>
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.1075.1">
       package resources
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1076.1">
      .
     </span>
     <span class="koboSpan" id="kobo.1076.2">
      You can read about it at
     </span>
     <a href="https://docs.python.org/3/library/importlib.resources.html">
      <span class="url">
       <span class="koboSpan" id="kobo.1077.1">
        https://docs.python.org/3/library/importlib.resources.html
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.1078.1">
      .
     </span>
    </li>
   </ul>
   <p class="normal">
    <span class="koboSpan" id="kobo.1079.1">
     As you read about these (and other packaging resources), it is worth bearing in mind that although PEP 517, PEP 518, and PEP 621 were finalized a few years ago, many projects have not fully migrated to using PEP 517 builds, or configuring project metadata in
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1080.1">
      pyproject.toml
     </span>
    </code>
    <span class="koboSpan" id="kobo.1081.1">
     files.
    </span>
    <span class="koboSpan" id="kobo.1081.2">
     Much of the available documentation also still refers to older ways of doing things.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-410">
    <span class="koboSpan" id="kobo.1082.1">
     Summary
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.1083.1">
     In this chapter, we looked at how to package and distribute Python projects through PyPI.
    </span>
    <span class="koboSpan" id="kobo.1083.2">
     We started with some theory about packaging and introduced the concepts of projects, releases, and distributions on PyPI.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1084.1">
     We learned about Setuptools, the most widely used packaging library for Python, and worked through the process of preparing a project for packaging with Setuptools.
    </span>
    <span class="koboSpan" id="kobo.1084.2">
     In the process, we saw various files that need to be added to a project to package it and what each of them is for.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1085.1">
     We discussed the metadata that you should provide to describe your project and help users find it on PyPI, as well as how to add code to the distribution, how to specify our dependencies, and how to define entry points so that
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1086.1">
      pip
     </span>
    </code>
    <span class="koboSpan" id="kobo.1087.1">
     will automatically generate scripts for us.
    </span>
    <span class="koboSpan" id="kobo.1087.2">
     We also looked at the tools that Python provides for accessing the distribution metadata.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1088.1">
     We moved on to talking about how to build distribution packages and how to use
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1089.1">
      twine
     </span>
    </code>
    <span class="koboSpan" id="kobo.1090.1">
     to upload those packages to PyPI.
    </span>
    <span class="koboSpan" id="kobo.1090.2">
     We also gave you some advice on starting new projects.
    </span>
    <span class="koboSpan" id="kobo.1090.3">
     We concluded our tour of packaging by briefly talking about some alternatives to Setuptools and pointing you to some resources where you can learn more about packaging.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1091.1">
     We really do encourage you to start distributing your code on PyPI.
    </span>
    <span class="koboSpan" id="kobo.1091.2">
     No matter how trivial you think it might be, someone else somewhere in the world will probably find it useful.
    </span>
    <span class="koboSpan" id="kobo.1091.3">
     It really does feel good to contribute and give back to the community, and besides, it looks good on your CV.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1092.1">
     The next chapter will introduce you to the world of competitive programming.
    </span>
    <span class="koboSpan" id="kobo.1092.2">
     We are going to deviate a little bit from professional programming to learn a few things about programming challenges and why they can be so much fun, and useful, too.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-411">
    <span class="koboSpan" id="kobo.1093.1">
     Join our community on Discord
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.1094.1">
     Join our community’s Discord space for discussions with the authors and other readers:
    </span>
   </p>
   <p class="normal">
    <a href="Chapter_16.xhtml">
     <span class="url">
      <span class="koboSpan" id="kobo.1095.1">
       https://discord.com/invite/uaKmaz7FEC
      </span>
     </span>
    </a>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1096.1">
     <img alt="img" src="../Images/QR_Code119001106417026468.png"/>
    </span>
   </p>
  </div>
 </body></html>