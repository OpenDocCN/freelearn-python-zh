<html><head></head><body>
		<div id="_idContainer027">
			<h1 id="_idParaDest-24" class="chapter-number"><a id="_idTextAnchor023"/><a id="_idTextAnchor024"/><st c="0">2</st></h1>
			<h1 id="_idParaDest-25"><a id="_idTextAnchor025"/><st c="2">Understanding the Project Structure and Creating Our First App</st></h1>
			<p><st c="64">Django projects contain a predefined structure with some key folders and files. </st><st c="145">In this chapter, we will discuss the Django project structure and how some of those folders and files are used to configure our web applications. </st><st c="291">Furthermore, Django projects are composed of one or more apps. </st><st c="354">We will learn how to create a “home” app, composed of “home” and “about” sections, and how to register it inside our </st><span class="No-Break"><st c="471">Django project.</st></span></p>
			<p><st c="486">In this chapter, we will cover the </st><span class="No-Break"><st c="522">following topics:</st></span></p>
			<ul>
				<li><st c="539">Understanding the </st><span class="No-Break"><st c="558">project structure</st></span></li>
				<li><st c="575">Creating our </st><span class="No-Break"><st c="589">first app</st></span></li>
				<li><st c="598">Creating a </st><span class="No-Break"><st c="610">home page</st></span></li>
				<li><st c="619">Creating an </st><span class="No-Break"><st c="632">about page</st></span></li>
			</ul>
			<p><st c="642">With all of these topics completed, you will know how to create Django apps and </st><span class="No-Break"><st c="723">web pages.</st></span></p>
			<h1 id="_idParaDest-26"><a id="_idTextAnchor026"/><st c="733">Technical requirements</st></h1>
			<p><st c="756">In this chapter, we will be using Python 3.10+. </st><st c="805">Additionally, we will be using the </st><strong class="bold"><st c="840">Visual Studio (VS) Code</st></strong><st c="863"> editor in this book, which you can download </st><span class="No-Break"><st c="908">from </st></span><a href="https://code.visualstudio.com/"><span class="No-Break"><st c="913">https://code.visualstudio.com/</st></span></a><span class="No-Break"><st c="943">.</st></span></p>
			<p><st c="944">The code for this chapter is located </st><span class="No-Break"><st c="982">at </st></span><a href="https://github.com/PacktPublishing/Django-5-for-the-Impatient-Second-Edition/tree/main/Chapter02/moviesstore"><span class="No-Break"><st c="985">https://github.com/PacktPublishing/Django-5-for-the-Impatient-Second-Edition/tree/main/Chapter02/moviesstore</st></span></a><span class="No-Break"><st c="1093">.</st></span></p>
			<p><st c="1094">The CiA video for this chapter can be found </st><span class="No-Break"><st c="1139">at </st></span><a href="https://packt.link/rzU25"><span class="No-Break"><st c="1142">https://packt.link/rzU25</st></span></a></p>
			<h1 id="_idParaDest-27"><a id="_idTextAnchor027"/><st c="1166">Understanding the project structure</st></h1>
			<p><st c="1202">Let’s look at the</st><a id="_idIndexMarker049"/><st c="1220"> project files that were created for us in </st><a href="B22457_01.xhtml#_idTextAnchor014"><span class="No-Break"><em class="italic"><st c="1263">Chapter 1</st></em></span></a><st c="1272">, in the </st><em class="italic"><st c="1281">Creating and running a Django project</st></em><st c="1318"> section. </st><st c="1328">Open the </st><strong class="source-inline"><st c="1337">moviesstore</st></strong><st c="1348"> project folder in VS Code. </st><st c="1376">You will see the elements shown in </st><span class="No-Break"><em class="italic"><st c="1411">Figure 2</st></em></span><span class="No-Break"><em class="italic"><st c="1419">.1</st></em></span><span class="No-Break"><st c="1421">:</st></span></p>
			<div>
				<div id="_idContainer019" class="IMG---Figure">
					<img src="image/B22457_02_01.jpg" alt="Figure 2.1 – The MOVIESSTORE directory structure"/><st c="1423"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="1455">Figure 2.1 – The MOVIESSTORE directory structure</st></p>
			<p><st c="1503">Let’s learn about each of </st><span class="No-Break"><st c="1530">these elements.</st></span></p>
			<h2 id="_idParaDest-28"><a id="_idTextAnchor028"/><st c="1545">The moviesstore folder</st></h2>
			<p><st c="1568">As you can </st><a id="_idIndexMarker050"/><st c="1580">see </st><a id="_idIndexMarker051"/><st c="1584">in </st><span class="No-Break"><em class="italic"><st c="1587">Figure 2</st></em></span><em class="italic"><st c="1595">.1</st></em><st c="1597">, there is a folder with the same name as the folder we opened in VS Code originally – </st><strong class="source-inline"><st c="1684">moviesstore</st></strong><st c="1695">. The </st><strong class="source-inline"><st c="1701">moviesstore</st></strong><st c="1712"> folder contains a set of files to configure the Django project. </st><span class="No-Break"><em class="italic"><st c="1777">Figure 2</st></em></span><em class="italic"><st c="1785">.2</st></em><st c="1787"> shows the content of the </st><span class="No-Break"><strong class="source-inline"><st c="1813">moviesstore</st></strong></span><span class="No-Break"><st c="1824"> folder:</st></span></p>
			<div>
				<div id="_idContainer020" class="IMG---Figure">
					<img src="image/B22457_02_02.jpg" alt="Figure 2.2 – The moviesstore folder content structure"/><st c="1832"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="1952">Figure 2.2 – The moviesstore folder content structure</st></p>
			<p><st c="2005">Let’s briefly look at</st><a id="_idIndexMarker052"/><st c="2027"> all the</st><a id="_idIndexMarker053"/> <a id="_idIndexMarker054"/><st c="2035">elements under the </st><span class="No-Break"><strong class="source-inline"><st c="2055">moviesstore</st></strong></span><span class="No-Break"><st c="2066"> folder:</st></span></p>
			<ul>
				<li><strong class="source-inline"><st c="2074">__pycache__</st></strong><st c="2086">: This folder</st><a id="_idIndexMarker055"/><st c="2100"> stores compiled bytecode when we generate our project. </st><st c="2156">You can largely ignore this folder. </st><st c="2192">Its purpose is to make your project start up a little faster by caching the compiled code, which can then be </st><span class="No-Break"><st c="2301">readily executed.</st></span></li>
				<li><strong class="source-inline"><st c="2318">__init__.py</st></strong><st c="2330">: This file indicates to Python that this directory should be considered a Python package. </st><st c="2422">We can ignore </st><span class="No-Break"><st c="2436">this file.</st></span></li>
				<li><strong class="source-inline"><st c="2446">asgi.py</st></strong><st c="2454">: Django, being a web framework, needs a web server to operate. </st><st c="2519">And since most web servers don’t natively speak Python, we need an interface to make that communication happen. </st><st c="2631">Django currently supports two interfaces – </st><strong class="bold"><st c="2674">Web Server Gateway Interface</st></strong><st c="2702"> (</st><strong class="bold"><st c="2704">WSGI</st></strong><st c="2708">) and </st><strong class="bold"><st c="2715">Asynchronous Server Gateway Interface</st></strong><st c="2752"> (</st><strong class="bold"><st c="2754">ASGI</st></strong><st c="2758">). </st><st c="2762">The </st><strong class="source-inline"><st c="2766">asgi.py</st></strong><st c="2773"> file contains an entry point for ASGI-compatible web servers to serve your </st><span class="No-Break"><st c="2849">project asynchronously.</st></span></li>
				<li><strong class="source-inline"><st c="2872">settings.py</st></strong><st c="2884">: The </st><strong class="source-inline"><st c="2891">settings.py</st></strong><st c="2902"> file is an important file that controls our project’s settings. </st><st c="2967">It contains several properties; let’s analyze some </st><span class="No-Break"><st c="3018">of them:</st></span><ul><li><strong class="source-inline"><st c="3026">BASE_DIR</st></strong><st c="3035">: Determines where on your machine the project </st><span class="No-Break"><st c="3083">is situated.</st></span></li><li><strong class="source-inline"><st c="3095">SECRET_KEY</st></strong><st c="3106">: This is a secret key for a particular Django project. </st><st c="3163">It is used to provide cryptographic signing and should be set to a unique, unpredictable value. </st><st c="3259">In a production environment, it should be replaced with a securely </st><span class="No-Break"><st c="3326">generated key.</st></span></li><li><strong class="source-inline"><st c="3340">DEBUG</st></strong><st c="3346">: Our site can run in debug mode or not. </st><st c="3388">In debug mode, we get detailed information on errors, which is very useful when we develop our applications. </st><st c="3497">For instance, if we try to run </st><strong class="source-inline"><st c="3528">http://localhost:8000/123</st></strong><st c="3553"> in the browser, we will see a </st><strong class="bold"><st c="3584">Page not found (404)</st></strong><st c="3604"> error (see </st><span class="No-Break"><em class="italic"><st c="3616">Figure 2.3</st></em></span><span class="No-Break"><st c="3626">):</st></span></li></ul></li>
			</ul>
			<div>
				<div id="_idContainer021" class="IMG---Figure">
					<img src="image/B22457_02_03.jpg" alt="Figure 2.3 – Accessing an invalid application route"/><st c="3629"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="4091">Figure 2.3 – Accessing an invalid application route</st></p>
			<ul>
				<li><strong class="source-inline"><st c="4142">INSTALLED_APPS</st></strong><st c="4157">: This</st><a id="_idIndexMarker056"/><st c="4164"> setting specifies the</st><a id="_idIndexMarker057"/><st c="4186"> list of all Django applications that are enabled for this project. </st><st c="4254">Each string in the list represents the Python path to a Django application. </st><st c="4330">By default, Django includes several built-in applications, such as admin, auth, contenttypes, and sessions. </st><st c="4438">We will see later in this chapter how to create our own applications and how to include them in </st><span class="No-Break"><st c="4534">this configuration.</st></span></li>
				<li><strong class="source-inline"><st c="4553">MIDDLEWARE</st></strong><st c="4564">: Middleware in Django intercepts and manages the request and response processing flow. </st><st c="4653">The listed middleware is provided by Django and handles various aspects of request/response processing, including security, session management, authentication, </st><span class="No-Break"><st c="4813">and more.</st></span></li>
				<li><strong class="source-inline"><st c="4822">ROOT_URLCONF</st></strong><st c="4835">: Specifies the Python path to the root URL configuration for the </st><span class="No-Break"><st c="4902">Django project.</st></span></li>
				<li><strong class="source-inline"><st c="4917">TEMPLATES</st></strong><st c="4927">: Defines the configuration for Django’s template system. </st><st c="4986">It includes information regarding the list of directories that the system should look in for template source files and other specific </st><span class="No-Break"><st c="5120">template settings.</st></span></li>
				<li><st c="5138">There are some other properties in </st><strong class="source-inline"><st c="5174">settings.py</st></strong><st c="5185">, such as </st><strong class="source-inline"><st c="5195">DATABASES</st></strong><st c="5204">, </st><strong class="source-inline"><st c="5206">LANGUAGE_CODE</st></strong><st c="5219">, and </st><strong class="source-inline"><st c="5225">TIME_ZONE</st></strong><st c="5234">, but we focused on the more important properties in the preceding list. </st><st c="5307">We will later revisit this file and see how relevant it is when developing </st><span class="No-Break"><st c="5382">our site.</st></span></li>
			</ul>
			<ul>
				<li><strong class="source-inline"><st c="5391">urls.py</st></strong><st c="5399">: This file contains the URL declarations for this Django project. </st><st c="5467">It could link specific URL paths to functions, classes, or other URL files to generate a response, or to render a page in response to a browser or URL request. </st><st c="5627">We will later add paths to this file and better understand how </st><span class="No-Break"><st c="5690">it works.</st></span></li>
				<li><strong class="source-inline"><st c="5699">wsgi.py</st></strong><st c="5707">: This file contains an entry point for WSGI-compatible web servers to serve your project. </st><st c="5799">By </st><a id="_idIndexMarker058"/><st c="5802">default, when we run the server with </st><a id="_idIndexMarker059"/><st c="5839">the </st><strong class="source-inline"><st c="5843">python manage.py runserver</st></strong><st c="5869"> command, it uses the </st><span class="No-Break"><st c="5891">WSGI configuration.</st></span></li>
			</ul>
			<h2 id="_idParaDest-29"><a id="_idTextAnchor029"/><st c="5910">manage.py</st></h2>
			<p><st c="5920">The </st><strong class="source-inline"><st c="5925">manage.py</st></strong><st c="5934"> file </st><a id="_idIndexMarker060"/><st c="5940">seen </st><a id="_idIndexMarker061"/><st c="5945">in </st><span class="No-Break"><em class="italic"><st c="5948">Figure 2</st></em></span><em class="italic"><st c="5956">.1</st></em><st c="5958"> and </st><span class="No-Break"><em class="italic"><st c="5963">Figure 2</st></em></span><em class="italic"><st c="5971">.2</st></em><st c="5973"> is a crucial element that we will extensively use throughout this book. </st><st c="6046">This file provides a command-line utility that lets you interact with a Django project and perform some administrative operations. </st><st c="6177">For example, we earlier ran the following command in </st><a href="B22457_01.xhtml#_idTextAnchor014"><span class="No-Break"><em class="italic"><st c="6230">Chapter 1</st></em></span></a><st c="6239">, in the </st><em class="italic"><st c="6248">Creating and running a Django </st></em><span class="No-Break"><em class="italic"><st c="6278">project</st></em></span><span class="No-Break"><st c="6285"> section:</st></span></p>
			<pre class="console"><st c="6294">
python manage.py runserver</st></pre>			<p><st c="6321">The purpose of the command was to start the local web server. </st><st c="6384">We will later illustrate more administrative</st><a id="_idIndexMarker062"/><st c="6428"> functions, such as one to create</st><a id="_idIndexMarker063"/><st c="6461"> a new app – </st><strong class="source-inline"><st c="6474">python </st></strong><span class="No-Break"><strong class="source-inline"><st c="6481">manage.py startapp</st></strong></span><span class="No-Break"><st c="6499">.</st></span></p>
			<h2 id="_idParaDest-30"><a id="_idTextAnchor030"/><st c="6500">db.sqlite3</st></h2>
			<p><st c="6511">The </st><strong class="source-inline"><st c="6516">db.sqlite3</st></strong><st c="6526"> file is the</st><a id="_idIndexMarker064"/><st c="6538"> default SQLite database</st><a id="_idIndexMarker065"/><st c="6562"> file that Django uses for development purposes. </st><strong class="bold"><st c="6611">SQLite</st></strong><st c="6617"> is a lightweight, serverless, and self-contained SQL database engine that doesn’t require a separate server process to operate. </st><st c="6746">It stores an entire database (including tables, indexes, and data) as a single file (into the </st><strong class="source-inline"><st c="6840">db.sqlite3</st></strong><st c="6850"> file). </st><st c="6858">We will not use this file for now; however, we will discuss it in </st><a href="B22457_05.xhtml#_idTextAnchor088"><span class="No-Break"><em class="italic"><st c="6924">Chapter 5</st></em></span></a><span class="No-Break"><st c="6933">.</st></span></p>
			<p><st c="6934">We have learned about the Django project structure and some of its main elements. </st><st c="7017">Now, let’s create our first </st><span class="No-Break"><st c="7045">Django app.</st></span></p>
			<h1 id="_idParaDest-31"><a id="_idTextAnchor031"/><st c="7056">Creating our first app</st></h1>
			<p><st c="7079">A </st><strong class="bold"><st c="7082">Django app</st></strong><st c="7092"> is a self-contained </st><a id="_idIndexMarker066"/><st c="7113">package of code that performs a specific functionality or serves a particular purpose within a </st><span class="No-Break"><st c="7208">Django project.</st></span></p>
			<p><st c="7223">A single Django project can contain one or more apps that work together to power a web application. </st><st c="7324">Django uses the concept of projects and apps to keep code clean </st><span class="No-Break"><st c="7388">and readable.</st></span></p>
			<p><st c="7401">For example, on a movie review site such as </st><em class="italic"><st c="7446">Rotten Tomatoes</st></em><st c="7461">, as shown in </st><span class="No-Break"><em class="italic"><st c="7475">Figure 2</st></em></span><em class="italic"><st c="7483">.4</st></em><st c="7485">, we can have an app for listing movies, an app for listing news, an app for payments, an app for user authentication, and </st><span class="No-Break"><st c="7608">so on:</st></span></p>
			<div>
				<div id="_idContainer022" class="IMG---Figure">
					<img src="image/B22457_02_04.jpg" alt="Figure 2.4 – The Rotten Tomatoes website"/><st c="7614"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="7753">Figure 2.4 – The Rotten Tomatoes website</st></p>
			<p><st c="7793">Apps in Django are like pieces of a website. </st><st c="7839">You can create an entire website with one single app, but it is useful to break it up into different apps, each representing a </st><span class="No-Break"><st c="7966">clear function.</st></span></p>
			<p><st c="7981">Our </st><em class="italic"><st c="7986">Movies Store</st></em><st c="7998"> site will begin with one app. </st><st c="8029">We will later add more as we progress. </st><st c="8068">To add an app, in the Terminal, stop the server by pressing </st><em class="italic"><st c="8128">Cmd</st></em><st c="8131">+ </st><em class="italic"><st c="8134">C</st></em><st c="8135">. Navigate to the top </st><strong class="source-inline"><st c="8157">moviesstore</st></strong><st c="8168"> folder (the one that contains the </st><strong class="source-inline"><st c="8203">manage.py</st></strong><st c="8212"> file) and run the following in </st><span class="No-Break"><st c="8244">the Terminal:</st></span></p>
			<p><st c="8257">For macOS, run the </st><span class="No-Break"><st c="8277">following command:</st></span></p>
			<pre class="console"><st c="8295">
python3 manage.py startapp home</st></pre>			<p><st c="8327">For Windows, run the </st><span class="No-Break"><st c="8349">following command:</st></span></p>
			<pre class="console"><st c="8367">
python manage.py startapp home</st></pre>			<p><st c="8398">A new folder, </st><strong class="source-inline"><st c="8413">home</st></strong><st c="8417">, will be added to the project (see </st><span class="No-Break"><em class="italic"><st c="8453">Figure 2</st></em></span><em class="italic"><st c="8461">.5</st></em><st c="8463">). </st><st c="8467">As we progress in the book, we will explain </st><a id="_idIndexMarker067"/><st c="8511">the files that are inside </st><span class="No-Break"><st c="8537">the folder.</st></span></p>
			<div>
				<div id="_idContainer023" class="IMG---Figure">
					<img src="image/B22457_02_05.jpg" alt="Figure 2.5 – The MOVIESSTORE project structure containing the home app"/><st c="8548"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="8683">Figure 2.5 – The MOVIESSTORE project structure containing the home app</st></p>
			<p><st c="8753">Although our new </st><strong class="source-inline"><st c="8771">home</st></strong><st c="8775"> app exists in our Django project, Django doesn’t recognize it till we explicitly add it. </st><st c="8865">To do so, we need to specify it in </st><strong class="source-inline"><st c="8900">settings.py</st></strong><st c="8911">. So, go to </st><strong class="source-inline"><st c="8923">/moviesstore/settings.py</st></strong><st c="8947">, under </st><strong class="source-inline"><st c="8955">INSTALLED_APPS</st></strong><st c="8969">, and you will see six built-in apps </st><span class="No-Break"><st c="9006">already there.</st></span></p>
			<p><st c="9020">Add the app name, as highlighted in the following (this should be done whenever a new app </st><span class="No-Break"><st c="9111">is created):</st></span></p>
			<pre class="source-code"><st c="9123">
…
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
</st><strong class="bold"><st c="9306">    'home',</st></strong><st c="9313">
]
…</st></pre>			<p><st c="9317">We have successfully </st><a id="_idIndexMarker068"/><st c="9339">created our first app and included it in our Django settings project. </st><st c="9409">Now, we are going to create and serve two pages inside </st><span class="No-Break"><st c="9464">this app.</st></span></p>
			<h1 id="_idParaDest-32"><a id="_idTextAnchor032"/><st c="9473">Creating a home page</st></h1>
			<p><st c="9494">Creating a simple</st><a id="_idIndexMarker069"/><st c="9512"> page or section in Django usually involves </st><span class="No-Break"><st c="9556">three steps:</st></span></p>
			<ol>
				<li><st c="9568">Configure </st><span class="No-Break"><st c="9579">a URL.</st></span></li>
				<li><st c="9585">Define a view function </st><span class="No-Break"><st c="9609">or class.</st></span></li>
				<li><st c="9618">Create </st><span class="No-Break"><st c="9626">a template.</st></span></li>
			</ol>
			<p><st c="9637">Let’s see how to apply those steps to create a simple “home” page that will display a “welcome” message to</st><a id="_idIndexMarker070"/><st c="9744"> the </st><span class="No-Break"><st c="9749">final user.</st></span></p>
			<h2 id="_idParaDest-33"><a id="_idTextAnchor033"/><st c="9760">Configuring an URL</st></h2>
			<p><strong class="bold"><st c="9779">Django URLs</st></strong><st c="9791"> (</st><strong class="bold"><st c="9793">Uniform Resource Locators</st></strong><st c="9818">) are</st><a id="_idIndexMarker071"/><st c="9824"> patterns used to map incoming HTTP requests to</st><a id="_idIndexMarker072"/><st c="9871"> the appropriate view functions or classes that handle those requests. </st><st c="9942">They define the routing mechanism for your Django project, specifying which views should be called for </st><span class="No-Break"><st c="10045">different URLs.</st></span></p>
			<p><st c="10060">There is a main URL configuration file located at </st><strong class="source-inline"><st c="10111">/moviesstore/urls.py</st></strong><st c="10131"> that currently has the </st><span class="No-Break"><st c="10155">following code:</st></span></p>
			<pre class="source-code"><st c="10170">
…
from django.contrib import admin
from django.urls import path
urlpatterns = [
    path('admin/', admin.site.urls),
]</st></pre>			<p><st c="10284">When a user types a URL (related to our Django application) in the browser, a request first passes through the </st><strong class="source-inline"><st c="10396">/moviesstore/urls.py</st></strong><st c="10416"> file, and it will try to match a </st><strong class="source-inline"><st c="10450">path</st></strong><st c="10454"> object in </st><strong class="source-inline"><st c="10465">urlpatterns</st></strong><st c="10476"> – for example, if a user enters </st><strong class="source-inline"><st c="10509">http://localhost:8000/admin</st></strong><st c="10536"> into the browser, the URL will match the </st><strong class="source-inline"><st c="10578">admin/</st></strong><st c="10584"> path. </st><st c="10591">The server will then respond with the Django admin page (as shown in </st><span class="No-Break"><em class="italic"><st c="10660">Figure 2</st></em></span><em class="italic"><st c="10668">.6</st></em><st c="10670">), which we will </st><span class="No-Break"><st c="10688">explore later:</st></span></p>
			<div>
				<div id="_idContainer024" class="IMG---Figure">
					<img src="image/B22457_02_06.jpg" alt="Figure 2.6 – The /admin route – the admin page"/><st c="10702"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="10799">Figure 2.6 – The /admin route – the admin page</st></p>
			<p><st c="10845">Conversely, if a user enters </st><strong class="source-inline"><st c="10875">localhost:8000/hello</st></strong><st c="10895">, Django will return a </st><strong class="source-inline"><st c="10918">404 not found</st></strong><st c="10931"> page because </st><a id="_idIndexMarker073"/><st c="10945">there aren’t any matching paths</st><a id="_idIndexMarker074"/><st c="10976"> in the URL </st><span class="No-Break"><st c="10988">configuration file.</st></span></p>
			<h3><st c="11007">Creating a path for the home page</st></h3>
			<p><st c="11041">There are two </st><a id="_idIndexMarker075"/><st c="11056">ways to create a custom path for </st><span class="No-Break"><st c="11089">a page:</st></span></p>
			<ul>
				<li><st c="11096">Create the path in the project-level URL file (</st><span class="No-Break"><st c="11144">in </st></span><span class="No-Break"><strong class="source-inline"><st c="11148">/moviesstore/urls.py</st></strong></span><span class="No-Break"><st c="11168">)</st></span></li>
				<li><st c="11170">Create the path in a </st><strong class="source-inline"><st c="11191">urls.py</st></strong><st c="11198"> file, defined at the app level (</st><span class="No-Break"><st c="11231">in </st></span><span class="No-Break"><strong class="source-inline"><st c="11235">/home/urls.py</st></strong></span><span class="No-Break"><st c="11248">).</st></span></li>
			</ul>
			<p><st c="11251">We will use the second option in this book, since it allows us to keep our URLs separate </st><span class="No-Break"><st c="11341">and organized.</st></span></p>
			<p><st c="11355">In </st><strong class="source-inline"><st c="11359">/home/</st></strong><st c="11365">, create a new file called </st><strong class="source-inline"><st c="11392">urls.py</st></strong><st c="11399">. This file will contain the path relating to the URLs of the home app. </st><st c="11471">For now, fill it in with </st><span class="No-Break"><st c="11496">the following:</st></span></p>
			<pre class="source-code"><st c="11510">
from django.urls import path
from . </st><st c="11547">import views
urlpatterns = [
    path('', views.index, name='home.index'),
]</st></pre>			<p><st c="11619">Let’s explain the </st><span class="No-Break"><st c="11638">previous code:</st></span></p>
			<ul>
				<li><st c="11652">We import the </st><strong class="source-inline"><st c="11667">path</st></strong><st c="11671"> function, which is used to define URL patterns </st><span class="No-Break"><st c="11719">in Django.</st></span></li>
				<li><st c="11729">We import the </st><strong class="source-inline"><st c="11744">views</st></strong><st c="11749"> file. </st><st c="11756">In the next section, we will implement an </st><strong class="source-inline"><st c="11798">index</st></strong><st c="11803"> function inside the </st><strong class="source-inline"><st c="11824">views</st></strong><st c="11829"> file. </st><st c="11836">That function will render a template that contains a “</st><span class="No-Break"><st c="11890">welcome” message.</st></span></li>
				<li><st c="11908">We define the </st><strong class="source-inline"><st c="11923">urlpatterns</st></strong><st c="11934"> for the home app. </st><st c="11953">In this case, inside the </st><strong class="source-inline"><st c="11978">urlpatterns</st></strong><st c="11989"> list, we add a new path object with </st><span class="No-Break"><st c="12026">three arguments:</st></span><ul><li><st c="12042">The first argument, </st><strong class="source-inline"><st c="12063">''</st></strong><st c="12065">, represents the URL pattern itself. </st><st c="12102">In this case, it’s an empty string, indicating the root URL. </st><st c="12163">This means that when the root URL of the application is accessed (</st><strong class="source-inline"><st c="12229">localhost:8000/</st></strong><st c="12245">), it will match </st><span class="No-Break"><st c="12263">this path.</st></span></li><li><st c="12273">The second argument, </st><strong class="source-inline"><st c="12295">views.index</st></strong><st c="12306">, refers to the view function that will handle the HTTP request. </st><st c="12371">Here, </st><strong class="source-inline"><st c="12377">views.index</st></strong><st c="12388"> indicates that the </st><strong class="source-inline"><st c="12408">index</st></strong><st c="12413"> function in the </st><strong class="source-inline"><st c="12430">views</st></strong><st c="12435"> file is responsible for processing </st><span class="No-Break"><st c="12471">the request.</st></span></li><li><st c="12483">The third argument, </st><strong class="source-inline"><st c="12504">name='home.index'</st></strong><st c="12521">, is the name of the URL pattern. </st><st c="12555">This name is used to uniquely identify the URL pattern and can be referenced in </st><a id="_idIndexMarker076"/><st c="12635">other parts of the Django project, such as templates or other </st><span class="No-Break"><st c="12697">URL patterns.</st></span></li></ul></li>
			</ul>
			<p><st c="12710">Now, let’s proceed to define the </st><strong class="source-inline"><st c="12744">views.index</st></strong> <span class="No-Break"><st c="12755">function code.</st></span></p>
			<h3><st c="12770">Defining a view function</st></h3>
			<p><strong class="bold"><st c="12795">Django views</st></strong><st c="12808"> are Python </st><a id="_idIndexMarker077"/><st c="12820">functions or classes that receive web requests and return web responses. </st><st c="12893">They contain the logic to process HTTP requests and generate appropriate HTTP responses, typically in the form of HTML content to be rendered in the user’s </st><span class="No-Break"><st c="13049">web browser.</st></span></p>
			<p><st c="13061">Our home app already includes a </st><strong class="source-inline"><st c="13094">views.py</st></strong><st c="13102"> file; let’s take advantage of it and make a simple modification. </st><st c="13168">In </st><strong class="source-inline"><st c="13171">/home/views.py</st></strong><st c="13185">, add the following </st><span class="No-Break"><st c="13205">in </st></span><span class="No-Break"><strong class="bold"><st c="13208">bold</st></strong></span><span class="No-Break"><st c="13212">:</st></span></p>
			<pre class="source-code"><st c="13214">
from django.shortcuts import render
</st><strong class="bold"><st c="13251">def index(request):</st></strong>
<strong class="bold"><st c="13270">    return render(request, 'home/index.html')</st></strong></pre>			<p><st c="13312">Let’s explain the </st><span class="No-Break"><st c="13331">previous code:</st></span></p>
			<ul>
				<li><st c="13345">By default, the </st><strong class="source-inline"><st c="13362">views</st></strong><st c="13367"> file imports the </st><strong class="source-inline"><st c="13385">render</st></strong><st c="13391"> function, which is used to render templates and return an HTTP response with the </st><span class="No-Break"><st c="13473">rendered content.</st></span></li>
				<li><st c="13490">We define an </st><strong class="source-inline"><st c="13504">index</st></strong><st c="13509"> function. </st><st c="13520">This function takes one parameter, </st><strong class="source-inline"><st c="13555">request</st></strong><st c="13562">, which represents the HTTP request received by </st><span class="No-Break"><st c="13610">the server.</st></span></li>
				<li><st c="13621">Finally, the </st><strong class="source-inline"><st c="13635">index</st></strong><st c="13640"> function returns a rendered template. </st><st c="13679">The </st><strong class="source-inline"><st c="13683">render</st></strong><st c="13689"> function takes the </st><strong class="source-inline"><st c="13709">request</st></strong><st c="13716"> as the first argument, and the second argument (</st><strong class="source-inline"><st c="13765">'home/index.html'</st></strong><st c="13783">) represents the path to the template file to be rendered. </st><st c="13843">In the next section, we will create </st><span class="No-Break"><st c="13879">that template.</st></span></li>
			</ul>
			<p><st c="13893">We have now connected the </st><strong class="source-inline"><st c="13920">''</st></strong><st c="13922"> path with the proper </st><strong class="source-inline"><st c="13944">views.index</st></strong><st c="13955"> function, but we are missing the</st><a id="_idIndexMarker078"/><st c="13988"> connection between the </st><strong class="source-inline"><st c="14012">views.index</st></strong><st c="14023"> function and the </st><strong class="source-inline"><st c="14041">'home/index.html'</st></strong><st c="14058"> template. </st><st c="14069">So, let’s implement </st><span class="No-Break"><st c="14089">the template.</st></span></p>
			<h3><st c="14102">Creating a template</st></h3>
			<p><strong class="bold"><st c="14122">Django templates</st></strong><st c="14139"> are text </st><a id="_idIndexMarker079"/><st c="14149">files containing HTML, along with </st><strong class="bold"><st c="14183">Django template language</st></strong><st c="14207"> (</st><strong class="bold"><st c="14209">DTL</st></strong><st c="14212">) syntax, which describes the structure of a web page. </st><st c="14268">Django templates allow you to dynamically generate HTML content by inserting variables, loops, conditionals, and other logic into the </st><span class="No-Break"><st c="14402">HTML markup.</st></span></p>
			<p><st c="14414">Our “home” app doesn’t include a location to store templates, so let’s create it. </st><st c="14497">In </st><strong class="source-inline"><st c="14500">/home/</st></strong><st c="14506">, create a </st><strong class="source-inline"><st c="14517">templates</st></strong><st c="14526"> folder. </st><st c="14535">Then, in </st><strong class="source-inline"><st c="14544">/home/templates/</st></strong><st c="14560">, create a </st><span class="No-Break"><strong class="source-inline"><st c="14571">home</st></strong></span><span class="No-Break"><st c="14575"> folder.</st></span></p>
			<p><st c="14583">Now, in </st><strong class="source-inline"><st c="14592">/home/templates/home/</st></strong><st c="14613">, create a </st><a id="_idIndexMarker080"/><st c="14624">new file, </st><strong class="source-inline"><st c="14634">index.html</st></strong><st c="14644">. This will be the full HTML page for the “home” page. </st><st c="14699">For now, fill it in with </st><span class="No-Break"><st c="14724">the following:</st></span></p>
			<pre class="source-code"><st c="14738">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Home page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Welcome to the Home Page&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;</st></pre>			<p><st c="14858">This file contains a simple HTML code with a “</st><span class="No-Break"><st c="14905">welcome” message.</st></span></p>
			<p class="callout-heading"><st c="14923">Note</st></p>
			<p class="callout"><st c="14928">We suggest storing your app templates under the next directory structure – </st><strong class="source-inline"><st c="15004">app_name/templates/app_name/my_template.html</st></strong><st c="15048">. Sometimes, different apps can contain templates with the same name, which could lead to potential name conflicts in template resolution. </st><st c="15187">By using the previous strategy, you can define templates with the same name in different Django apps without any potential </st><span class="No-Break"><st c="15310">name conflict.</st></span></p>
			<p><st c="15324">We have completed the connection between the URL, view function, and template. </st><st c="15404">However, Django </st><a id="_idIndexMarker081"/><st c="15420">doesn’t know how to use our </st><strong class="source-inline"><st c="15448">/home/urls.py</st></strong><st c="15461"> file. </st><st c="15468">So, let’s connect this file to our main URL configuration file, and then we will have completed </st><span class="No-Break"><st c="15564">the puzzle.</st></span></p>
			<h3><st c="15575">Connecting a project-level URL file with an app-level URL file</st></h3>
			<p><st c="15638">In </st><strong class="source-inline"><st c="15642">/moviesstore/urls.py</st></strong><st c="15662">, add </st><a id="_idIndexMarker082"/><st c="15668">the following </st><span class="No-Break"><st c="15682">in </st></span><span class="No-Break"><strong class="bold"><st c="15685">bold</st></strong></span><span class="No-Break"><st c="15689">:</st></span></p>
			<pre class="source-code"><st c="15691">
…
from django.contrib import admin
from django.urls import path</st><strong class="bold"><st c="15754">, include</st></strong><st c="15763">
urlpatterns = [
    path('admin/', admin.site.urls),
</st><strong class="bold"><st c="15813">    path('', include('home.urls')),</st></strong><st c="15844">
]</st></pre>			<p><st c="15846">Let’s explain the </st><span class="No-Break"><st c="15864">previous code:</st></span></p>
			<ul>
				<li><st c="15878">We modify the code to also import the </st><strong class="source-inline"><st c="15917">include</st></strong><st c="15924"> function, which is used to include URLs from other URL </st><span class="No-Break"><st c="15980">configuration files.</st></span></li>
				<li><st c="16000">We add a new path object to the </st><strong class="source-inline"><st c="16033">urlpatterns</st></strong><st c="16044"> list. </st><st c="16051">The empty string, </st><strong class="source-inline"><st c="16069">''</st></strong><st c="16071">, represents the base URL to include the URLs from the </st><span class="No-Break"><strong class="source-inline"><st c="16126">home.urls</st></strong></span><span class="No-Break"><st c="16135"> file.</st></span></li>
			</ul>
			<p><st c="16141">Now, save those files, run the server, and go back to </st><strong class="source-inline"><st c="16196">http://localhost:8000</st></strong><st c="16217">; you should </st><a id="_idIndexMarker083"/><st c="16231">see the home page displayed (</st><span class="No-Break"><em class="italic"><st c="16260">Figure 2</st></em></span><span class="No-Break"><em class="italic"><st c="16269">.7</st></em></span><span class="No-Break"><st c="16271">):</st></span></p>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer025" class="IMG---Figure">
					<img src="image/B22457_02_07.jpg" alt="Figure 2.7 – The home page"/><st c="16274"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="16324">Figure 2.7 – The home page</st></p>
			<p class="callout-heading"><st c="16350">Note</st></p>
			<p class="callout"><st c="16355">When we make changes to a file and save it, Django observes the file changes and reloads the server with them. </st><st c="16467">Therefore, we don’t have to manually restart the server each time there is a </st><span class="No-Break"><st c="16544">code change.</st></span></p>
			<p><st c="16556">Now that we have our “home” page up and running, let’s repeat the process to create the “</st><span class="No-Break"><st c="16646">about” page.</st></span></p>
			<h1 id="_idParaDest-34"><a id="_idTextAnchor034"/><st c="16659">Creating an about page</st></h1>
			<p><st c="16682">Now that we learned how to </st><a id="_idIndexMarker084"/><st c="16710">create a simple page, let’s repeat the process </st><a id="_idIndexMarker085"/><st c="16757">to create the about page. </st><st c="16783">We will follow these </st><span class="No-Break"><st c="16804">three steps:</st></span></p>
			<ol>
				<li><st c="16816">Configure the </st><span class="No-Break"><st c="16831">about URL.</st></span></li>
				<li><st c="16841">Define the </st><span class="No-Break"><st c="16853">about function.</st></span></li>
				<li><st c="16868">Create the </st><span class="No-Break"><st c="16880">about template.</st></span></li>
			</ol>
			<p><span class="No-Break"><st c="16895">Let’s start.</st></span></p>
			<h2 id="_idParaDest-35"><a id="_idTextAnchor035"/><st c="16908">Configuring the about URL</st></h2>
			<p><st c="16934">In </st><strong class="source-inline"><st c="16938">/home/urls.py</st></strong><st c="16951">, add the</st><a id="_idIndexMarker086"/><st c="16960"> following path </st><span class="No-Break"><st c="16976">in </st></span><span class="No-Break"><strong class="bold"><st c="16979">bold</st></strong></span><span class="No-Break"><st c="16983">:</st></span></p>
			<pre class="source-code"><st c="16985">
from django.urls import path
from . </st><st c="17022">import views
urlpatterns = [
    path('', views.index, name='home.index'),
</st><strong class="bold"><st c="17093">    path('about', views.about, name='home.about'),</st></strong><st c="17139">
]</st></pre>			<p><st c="17141">So, if a URL matches the </st><strong class="source-inline"><st c="17166">/about</st></strong><st c="17172"> path, it will execute the </st><strong class="source-inline"><st c="17199">about</st></strong><st c="17204"> function defined in the </st><span class="No-Break"><strong class="source-inline"><st c="17229">views</st></strong></span><span class="No-Break"><st c="17234"> file.</st></span></p>
			<h2 id="_idParaDest-36"><a id="_idTextAnchor036"/><st c="17240">Defining about function</st></h2>
			<p><st c="17264">In </st><strong class="source-inline"><st c="17268">/home/views.py</st></strong><st c="17282">, add </st><a id="_idIndexMarker087"/><st c="17288">the following </st><span class="No-Break"><st c="17302">in </st></span><span class="No-Break"><strong class="bold"><st c="17305">bold</st></strong></span><span class="No-Break"><st c="17309">:</st></span></p>
			<pre class="source-code"><st c="17311">
from django.shortcuts import render
def index(request):
    return render(request, 'home/index.html')
</st><strong class="bold"><st c="17410">def about(request):</st></strong>
<strong class="bold"><st c="17429">    return render(request, 'home/about.html')</st></strong></pre>			<p><st c="17471">The </st><strong class="source-inline"><st c="17476">about</st></strong><st c="17481"> function is similar to the </st><strong class="source-inline"><st c="17509">index</st></strong><st c="17514"> function. </st><st c="17525">This function renders the </st><strong class="source-inline"><st c="17551">'home/about.html'</st></strong><st c="17568"> template, which</st><a id="_idIndexMarker088"/><st c="17584"> will be </st><span class="No-Break"><st c="17593">implemented next.</st></span></p>
			<h2 id="_idParaDest-37"><a id="_idTextAnchor037"/><st c="17610">Creating about template</st></h2>
			<p><st c="17634">Now, in </st><strong class="source-inline"><st c="17643">/home/templates/home/</st></strong><st c="17664">, create a </st><a id="_idIndexMarker089"/><st c="17675">new file, </st><strong class="source-inline"><st c="17685">about.html</st></strong><st c="17695">. This file contains the HTML for the about page. </st><st c="17745">For now, fill it in with </st><span class="No-Break"><st c="17770">the following:</st></span></p>
			<pre class="source-code"><st c="17784">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;About page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Welcome to the About Page&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;</st></pre>			<p><st c="17906">Save the files, and when you navigate to </st><strong class="source-inline"><st c="17948">localhost:8000/about</st></strong><st c="17968">, it will show the about page (</st><span class="No-Break"><em class="italic"><st c="17999">Figure 2</st></em></span><span class="No-Break"><em class="italic"><st c="18008">.8</st></em></span><span class="No-Break"><st c="18010">):</st></span></p>
			<div>
				<div id="_idContainer026" class="IMG---Figure">
					<img src="image/B22457_02_08.jpg" alt="Figure 2.8 – The about page"/><st c="18013"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="18090">Figure 2.8 – The about page</st></p>
			<p class="callout-heading"><st c="18117">Note</st></p>
			<p class="callout"><st c="18122">When we executed the command to create the home app, some folders and files were automatically created for us. </st><st c="18234">For the home app, we won’t use many of them. </st><st c="18279">So, you can optionally delete the following folders and files to keep your application clean and simple – </st><strong class="source-inline"><st c="18385">migrations/</st></strong><st c="18396">, </st><strong class="source-inline"><st c="18398">admin.py</st></strong><st c="18406">, </st><strong class="source-inline"><st c="18408">models.py</st></strong><st c="18417">, </st><span class="No-Break"><st c="18419">and </st></span><span class="No-Break"><strong class="source-inline"><st c="18423">tests.py</st></strong></span><span class="No-Break"><st c="18431">.</st></span></p>
			<p><st c="18432">We quickly created our second page, “about.” Now, we hope you have a better understanding of how URLs, views, and </st><a id="_idIndexMarker090"/><span class="No-Break"><st c="18547">templates connect.</st></span></p>
			<h1 id="_idParaDest-38"><a id="_idTextAnchor038"/><st c="18565">Summary</st></h1>
			<p><st c="18573">In this chapter, we discussed the Django project structure. </st><st c="18634">We analyzed some of the most important project folders, files, and their functionalities. </st><st c="18724">We saw how a web project can be composed of several applications, and we learned how to create a Django app. </st><st c="18833">We also learned how URLs, views, and templates connect to create web pages. </st><st c="18909">We created a couple of pages and loaded them into our local web server. </st><st c="18981">In the next chapter, we will see how to improve the look and feel of our Django applications by using base templates and a </st><span class="No-Break"><st c="19104">CSS framework.</st></span></p>
		</div>
	<div id="charCountTotal" value="19118"/></body></html>