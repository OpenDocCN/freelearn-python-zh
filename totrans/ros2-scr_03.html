<html><head></head><body>
		<div id="_idContainer015" class="calibre2">
			<h1 class="chapter-number" id="_idParaDest-30"><a id="_idTextAnchor048" class="pcalibre calibre4 pcalibre1"/>2</h1>
			<h1 id="_idParaDest-31" class="calibre6"><a id="_idTextAnchor049" class="pcalibre calibre4 pcalibre1"/>Installing and Setting Up ROS 2</h1>
			<p class="calibre3">Before using ROS 2, we need to install it and set it up. Doing this is not as trivial as just downloading and <a id="_idIndexMarker035" class="pcalibre calibre4 pcalibre1"/>installing a basic program. There are several ROS 2 versions (called <strong class="bold">distributions</strong>), and we need to choose which one is the most appropriate. We also need to pick an Ubuntu version as ROS and Ubuntu distributions are <span>closely linked.</span></p>
			<p class="calibre3">Once you know which ROS/Ubuntu combination you need, you have to install the corresponding <a id="_idIndexMarker036" class="pcalibre calibre4 pcalibre1"/>Ubuntu <strong class="bold">operating system</strong> (<strong class="bold">OS</strong>). Although being familiar with Linux is a prerequisite for this book, I will still do a recap on how to install <a id="_idIndexMarker037" class="pcalibre calibre4 pcalibre1"/>Ubuntu on a <strong class="bold">virtual machine</strong> (<strong class="bold">VM</strong>), just in case, so you won’t be lost and can continue with <span>this book.</span></p>
			<p class="calibre3">Then, we will install ROS 2 on Ubuntu, set it up in our environment, and install additional tools that will allow you to have a better <span>development experience.</span></p>
			<p class="calibre3">By the end of this chapter, you will have everything ready on your computer so that you can use ROS 2 and write <span>custom programs.</span></p>
			<p class="calibre3">Even if all the installation steps sound a bit daunting, don’t worry—it’s not that hard, and it gets easier to do with every new installation. To give you an idea, with a stable internet connection, it takes me about 1 hour to install a fresh version of Ubuntu and 20 minutes to install ROS (most of that time is spent waiting for the installation <span>to finish).</span></p>
			<p class="calibre3">In this chapter, we are going to cover the <span>following topics:</span></p>
			<ul class="calibre9">
				<li class="calibre10">Which ROS 2 distribution <span>to choose</span></li>
				<li class="calibre10">Installing the <span>OS (Ubuntu)</span></li>
				<li class="calibre10">Installing <span>ROS 2</span></li>
				<li class="calibre10">Setting up the environment for <span>ROS 2</span></li>
				<li class="calibre10">Extra tools for ROS <span>2 developme<a id="_idTextAnchor050" class="pcalibre calibre4 pcalibre1"/>nt</span></li>
			</ul>
			<h1 id="_idParaDest-32" class="calibre6"><a id="_idTextAnchor051" class="pcalibre calibre4 pcalibre1"/>Which ROS 2 distribution to choose</h1>
			<p class="calibre3">Before you <a id="_idIndexMarker038" class="pcalibre calibre4 pcalibre1"/>install ROS 2, it’s important to know which distribution you need to use. To make that decision, you first need to understand a bit more about what ROS 2 distributions are, and what specificities each <span>one h<a id="_idTextAnchor052" class="pcalibre calibre4 pcalibre1"/>as.</span></p>
			<h2 id="_idParaDest-33" class="calibre6"><a id="_idTextAnchor053" class="pcalibre calibre4 pcalibre1"/>What is a ROS 2 distribution?</h2>
			<p class="calibre3">ROS 2 is a project in continuous development, constantly receiving new features or improvements to <span>existing ones.</span></p>
			<p class="calibre3">A distribution <a id="_idIndexMarker039" class="pcalibre calibre4 pcalibre1"/>is simply a <em class="italic">freeze</em> in the development at some given point to create a stable release. With this, you can be sure that the core packages for one given distribution will not have any breaking changes. Without distributions, it would be impossible to have a stable system, and you would need to update your <span>code constantly.</span></p>
			<p class="calibre3">Every year, a new ROS 2 distribution is released on May 23. This day corresponds to <em class="italic">World Turtle Day</em>. As you will be able to observe, all ROS distributions have a turtle as a logo; there’s a mobile robot <a id="_idIndexMarker040" class="pcalibre calibre4 pcalibre1"/>platform named <strong class="bold">TurtleBot</strong> and even a 2D educational <a id="_idIndexMarker041" class="pcalibre calibre4 pcalibre1"/>tool named <strong class="bold">Turtlesim</strong>. This is based on a reference to an educational programming language from 1967 named <em class="italic">Logo</em>, which included a feature to move some kind of <em class="italic">turtle robot</em> on the screen. So, if you were confused about why there are so many turtles everywhere, now you know—and that’s the end of this <span>turtle parenthesis.</span></p>
			<p class="calibre3">You can <a id="_idIndexMarker042" class="pcalibre calibre4 pcalibre1"/>see all ROS 2 distributions on the ROS 2 documentation releases <span>page: </span><a href="https://docs.ros.org/en/rolling/Releases.html" class="pcalibre calibre4 pcalibre1"><span>https://docs.ros.org/en/rolling/Releases.html</span></a><span>.</span></p>
			<p class="calibre3">You will see one new distribution every year in May. As for the order, there is no number; instead, the names are in alphabetical order. The first official release was named <em class="italic">Ardent Apalone</em>, then <em class="italic">Bouncy Bolson</em>, and so on. In May 2024, <strong class="bold">ROS Jazzy Jalisco</strong> was released. Following <a id="_idIndexMarker043" class="pcalibre calibre4 pcalibre1"/>this, you can expect to have <em class="italic">ROS K</em> in 2025, <em class="italic">ROS L</em> in 2026, and so on. The name of a new release is usually announced 1 year <span>in advance.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">ROS distributions contain two names, but it’s common practice just to refer to the first one. So, instead of talking about <a id="_idIndexMarker044" class="pcalibre calibre4 pcalibre1"/>ROS Jazzy Jalisco, we will talk about <strong class="bold">ROS Jazzy</strong>. We could also write <em class="italic">ROS 2 Jazzy</em> to specify that this distribution is for ROS 2, not ROS 1, but this isn’t needed since Jazzy is a name only used for ROS 2, hence <span>ROS Jazzy.</span></p>
			<p class="calibre3">On top of all the displayed distributions, there is another one that exists in parallel: <strong class="bold">ROS Rolling</strong>. This <a id="_idIndexMarker045" class="pcalibre calibre4 pcalibre1"/>distribution is a bit special and is the distribution where all new developments are made. To make an analogy with Git and versioned systems, it’s just like having a <em class="italic">development</em> branch and using this branch to release stable versions once a year. Thus, ROS Rolling is not a stable distribution, and I don’t recommend using it for learning or to release a product. This is a distribution you can use if you want to test brand-new <a id="_idIndexMarker046" class="pcalibre calibre4 pcalibre1"/>features before they are officially released into the next stable distribution—or if you want to contribute to the ROS code. However, if you’re reading this book, you’re not <span>there yet.</span></p>
			<p class="calibre3">Now that you know what ROS 2 distributions are and how to find them, let’s start to look at the differences between them. This will allow us to choose the<a id="_idTextAnchor054" class="pcalibre calibre4 pcalibre1"/> <span>right one.</span></p>
			<h2 id="_idParaDest-34" class="calibre6"><a id="_idTextAnchor055" class="pcalibre calibre4 pcalibre1"/>LTS and non-LTS distributions</h2>
			<p class="calibre3">If you look a bit closer, you’ll see that some distributions are supported for 5 years, others <a id="_idIndexMarker047" class="pcalibre calibre4 pcalibre1"/>for 1.5 years (this only applies after 2022). You can <a id="_idIndexMarker048" class="pcalibre calibre4 pcalibre1"/>see this by comparing the release date with the <strong class="bold">end-of-life</strong> (<strong class="bold">EOL</strong>) date. Currently supported distributions also have a green <a id="_idIndexMarker049" class="pcalibre calibre4 pcalibre1"/>background on the screen, so you can easily <span>spot them.</span></p>
			<p class="calibre3">When a distribution reaches its EOL date, it just means that it will not receive official support and package updates anymore. This doesn’t mean you can’t use it (in fact, lots of companies are still using legacy versions from 5 years ago or more), but you won’t get <span>any updates.</span></p>
			<p class="calibre3">The first official ROS 2 distribution was <em class="italic">ROS Ardent</em>, released in December 2017. After that, the first few distributions were still not quite complete, and the development team preferred to release shorter distributions so that the development could <span>go faster.</span></p>
			<p class="calibre3"><em class="italic">ROS Humble</em> was the <a id="_idIndexMarker050" class="pcalibre calibre4 pcalibre1"/>first <strong class="bold">Long-Term Support</strong> (<strong class="bold">LTS</strong>) release supported for 5 <span>years (2022-2027).</span></p>
			<p class="calibre3"><em class="italic">ROS Jazzy</em> is also an LTS version, with official support from 2024 to 2029. From this, you can expect that every 2 years (even number: 2024, 2026, 2028, and so on), a new LTS distribution will be released in May and supported for <span>5 years.</span></p>
			<p class="calibre3">A few LTS distributions can coexist. In 2026, for example, with the release of the <em class="italic">ROS L</em> distribution, you will be able to use ROS Humble and ROS Jazzy <span>as well.</span></p>
			<p class="calibre3">Then, you have non-LTS distributions. Those are released on odd years (2023, 2025, 2027, and so on) and are supported for 1.5 years only. Those distributions are released just so you <a id="_idIndexMarker051" class="pcalibre calibre4 pcalibre1"/>can have access to new development <a id="_idIndexMarker052" class="pcalibre calibre4 pcalibre1"/>in a somehow stable release without having to wait for 2 years. However, due to the short lifespan of non-LTS distributions and the fact that they will probably be less stable (and less supported), it is best not to use them if your goal is learning, teaching, or using ROS for a <span>commercial application.</span></p>
			<p class="calibre3">With this, you can see that we can discard half of the distributions and now focus only on the LTS ones that are currently supported. Let’s finish this section and choose the distribution that we will u<a id="_idTextAnchor056" class="pcalibre calibre4 pcalibre1"/>se for <span>this book.</span></p>
			<h2 id="_idParaDest-35" class="calibre6"><a id="_idTextAnchor057" class="pcalibre calibre4 pcalibre1"/>How to choose a ROS distribution</h2>
			<p class="calibre3">What I recommend is to use the latest available LTS distribution. However, I wouldn’t necessarily <a id="_idIndexMarker053" class="pcalibre calibre4 pcalibre1"/>use an LTS distribution just after it’s been released because it can still contain some bugs and problems. Also, some of the plugins and other community packages you need might not have been ported yet. Generally, if you want to work with a stable system, it’s sometimes best not to stay too close to the new and shiny technology and wait <span>a bit.</span></p>
			<p class="calibre3">For example, ROS Humble was released in May 2022. Right after it was available, I tested it, but to use it in a production environment, I would have had to wait until September or even November, just to be sure everything was <span>working correctly.</span></p>
			<p class="calibre3">So, for this book, we will use ROS Jazzy, which was released in <span>May 2024.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">You can learn with one distribution and then start a project with another one. If you have a project or job that requires you to use a different ROS 2 distribution, you can still start to learn with ROS Jazzy. The gap between distributions is very small, especially for the core functionalities. 99% of this book can be applied to any ROS 2 LTS distribution re<a id="_idTextAnchor058" class="pcalibre calibre4 pcalibre1"/>leased <span>after 2022.</span></p>
			<h1 id="_idParaDest-36" class="calibre6"><a id="_idTextAnchor059" class="pcalibre calibre4 pcalibre1"/>Installing the OS (Ubuntu)</h1>
			<p class="calibre3">ROS 2 works on three OSs: Ubuntu, Windows, and macOS. Although Ubuntu and Windows get Tier 1 support, macOS has only Tier 3 support, meaning “best effort,” not “fully tested.” You can <a id="_idIndexMarker054" class="pcalibre calibre4 pcalibre1"/>learn more about what Tier 1, 2, and 3 mean on the REP 2000, which describes the timeline and target platforms for ROS 2 <span>releases: </span><a href="https://www.ros.org/reps/rep-2000.html" class="pcalibre calibre4 pcalibre1"><span>https://www.ros.org/reps/rep-2000.html</span></a><span>.</span></p>
			<p class="calibre3">This means that using macOS for ROS 2 is not necessarily the best choice for learning (if you’re an Apple user). We’re left with Windows <span>or Ubuntu.</span></p>
			<p class="calibre3">From teaching experience, I saw that even if ROS could work well on Windows, it’s not easy to install and use it correctly. Lots of bugs can occur, especially with the 2D and 3D tools. When you’re learning ROS, you want a smooth experience, and you want to spend time learning the features, not fixing <span>the configuration.</span></p>
			<p class="calibre3">Hence, the best overall option is to use Ubuntu. If you don’t have Ubuntu and are using Windows/macOS, you can either install Ubuntu natively as a dual boot on your computer or use a VM (there are a few other options, but I won’t cover <span>those here).</span></p>
			<p class="calibre3">Now that we have selected ROS Jazzy, and we want to run it on Ubuntu, the question is: on which Ubuntu distributio<a id="_idTextAnchor060" class="pcalibre calibre4 pcalibre1"/>n do we <span>install it?</span></p>
			<h2 id="_idParaDest-37" class="calibre6"><a id="_idTextAnchor061" class="pcalibre calibre4 pcalibre1"/>The relationship between ROS 2 and Ubuntu</h2>
			<p class="calibre3">If you go <a id="_idIndexMarker055" class="pcalibre calibre4 pcalibre1"/>to the Jazzy release page (<a href="https://docs.ros.org/en/rolling/Releases/Release-Jazzy-Jalisco.html" class="pcalibre calibre4 pcalibre1">https://docs.ros.org/en/rolling/Releases/Release-Jazzy-Jalisco.html</a>), you’ll see that ROS <a id="_idIndexMarker056" class="pcalibre calibre4 pcalibre1"/>Jazzy is supported on <strong class="bold">Ubuntu 24.04</strong> (and not any other <a id="_idIndexMarker057" class="pcalibre calibre4 pcalibre1"/>previous or future <span>Ubuntu distributions).</span></p>
			<p class="calibre3">There is a close relationship between ROS and Ubuntu distributions. This relationship is quite simple: for every new Ubuntu LTS distribution (every 2 years on an even number), there is a new ROS 2 <span>LTS distribution:</span></p>
			<ul class="calibre9">
				<li class="calibre10"><strong class="bold">Ubuntu 22.04</strong>: <span>ROS Humble</span></li>
				<li class="calibre10"><strong class="bold">Ubuntu 24.04</strong>: <span>ROS Jazzy</span></li>
				<li class="calibre10"><strong class="bold">Ubuntu 26.04</strong>: <span>ROS L</span></li>
			</ul>
			<p class="calibre3">It’s important to use the correct combination. Thus, before installing ROS Jazzy, the first thing you must do is make sure you have Ubuntu 24.04 installed on your computer. If you happen to have an older version, I strongly encourage you to upgrade or simply install Ubuntu 24.04 <span>from scratch.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">If you have to use another Ubuntu distribution because, for example, you’re using a computer from school/work and you can’t change the OS, then use the corresponding ROS distribution. However, I recommend <strong class="bold">not</strong> using anything older than ROS Humble and avoiding non-LTS distributions. You could also install Ubuntu 24.04 on a VM (as described a <span>bit later).</span></p>
			<p class="calibre3">You have <a id="_idIndexMarker058" class="pcalibre calibre4 pcalibre1"/>probably already installed a Linux OS at some point in your life, but, from experience, I know some people reading this could get a bit lost with the installation. Hence, I will provide additional installation instructions—an overview of dual boot and detailed instructions for VMs. Feel free to skip this and go to the ROS 2 installation section if you already<a id="_idTextAnchor062" class="pcalibre calibre4 pcalibre1"/> have <span>installed Ubuntu.</span></p>
			<h2 id="_idParaDest-38" class="calibre6"><a id="_idTextAnchor063" class="pcalibre calibre4 pcalibre1"/>Installing Ubuntu 24.04 natively with a dual boot</h2>
			<p class="calibre3">The best option is to have Ubuntu installed natively on your computer. This will allow you to <a id="_idIndexMarker059" class="pcalibre calibre4 pcalibre1"/>follow this book and then go further without any problems. I won’t provide a complete tutorial on how to do that here; you can easily find lots of free tutorials on <span>the internet.</span></p>
			<p class="calibre3">Here are the high-level important steps you have <span>to follow:</span></p>
			<ol class="calibre11">
				<li class="calibre10">Free some space on your disk so that you can create a new partition. I recommend a minimum of 70 GB, more <span>if possible.</span></li>
				<li class="calibre10">Download an Ubuntu <strong class="source-inline">.iso</strong> file from the official Ubuntu website (Ubuntu <span>24.04 LTS).</span></li>
				<li class="calibre10">Flash this image on an SD card or USB key (with a tool such as <span>Balena Etcher).</span></li>
				<li class="calibre10">Reboot your computer and choose to boot from the <span>external device.</span></li>
				<li class="calibre10">Follow the installation instructions. <strong class="bold">Important</strong>: When asked how you want to install, select <strong class="bold">Alongside Windows</strong>, for example—don’t erase all <span>your disk.</span></li>
				<li class="calibre10">Complete <a id="_idIndexMarker060" class="pcalibre calibre4 pcalibre1"/>the installation. Now, when you boot your computer, you should get a menu where you can select whether you want to start Ubuntu <span>or Windows.</span></li>
			</ol>
			<p class="calibre3">Those are the main steps to follow; you can find all the information <a id="_idTextAnchor064" class="pcalibre calibre4 pcalibre1"/>you need on <span>the internet.</span></p>
			<h2 id="_idParaDest-39" class="calibre6"><a id="_idTextAnchor065" class="pcalibre calibre4 pcalibre1"/>Installing Ubuntu 24.04 on a VM</h2>
			<p class="calibre3">If you can’t install Ubuntu as a dual boot (due to technical restrictions, lack of admin rights <a id="_idIndexMarker061" class="pcalibre calibre4 pcalibre1"/>on the computer, or something else), or if you want to get started quickly with not too much effort, just for the sake of learning ROS, then you might wish to use <span>a VM.</span></p>
			<p class="calibre3">A VM is quite easy to set up and is useful for teaching and learning purposes. As an example, when I teach ROS offline in a workshop for beginners, I often provide a VM that contains everything already installed. With that, it’s easier for the participants to get started quickly with ROS. Later, when they have more knowledge, they can take the time to set up a proper OS <span>by themselves.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout"><em class="italic">Part 3</em> of this book (regarding 3D simulation and Gazebo) will probably not work well on a VM. You can still use a VM for most of this book and set up a dual boot at <span>the end.</span></p>
			<p class="calibre3">I will now show you how to install Ubuntu 24.04 on a VM so that you can do it even with no prior knowledge of how to create and run <span>a VM.</span></p>
			<h3 class="calibre8">Step 1 – downloading the Ubuntu .iso file</h3>
			<p class="calibre3">Download <a id="_idIndexMarker062" class="pcalibre calibre4 pcalibre1"/>the Ubuntu 24.04 <strong class="source-inline1">.iso</strong> file <a href="https://releases.ubuntu.com/noble/" class="pcalibre calibre4 pcalibre1">https://releases.ubuntu.com/noble/</a>. Note that, just like ROS, Ubuntu distributions also have a name. For Ubuntu 24.04, the name is <em class="italic">Ubuntu Noble Numbat</em>. We usually only use the first name, so <strong class="bold">Ubuntu Noble</strong> in <span>this case.</span></p>
			<p class="calibre3">Click on <strong class="bold">64-bit PC (AMD64) desktop image</strong>. The file should be 5 to 6 GB, so make sure you have a good internet connection before <span>downloading it.</span></p>
			<h3 class="calibre8">Step 2 – installing VirtualBox</h3>
			<p class="calibre3">You can start <em class="italic">Step 2</em> while the Ubuntu <strong class="source-inline1">.iso</strong> file is <span>being downloaded.</span></p>
			<p class="calibre3">Two <a id="_idIndexMarker063" class="pcalibre calibre4 pcalibre1"/>popular VM managers have a free version: VMware Workstation and VirtualBox. Both would work, but here, I will focus on VirtualBox as it’s slightly easier <span>to use.</span></p>
			<p class="calibre3">Go to the download page of the official VirtualBox website: <a href="https://www.virtualbox.org/wiki/Downloads" class="pcalibre calibre4 pcalibre1">https://www.virtualbox.org/wiki/Downloads</a>. Under <strong class="bold">VirtualBox Platform Packages</strong>, select the current OS you are running. If you want to install VirtualBox on Windows, for example, choose <span><strong class="bold">Windows hosts</strong></span><span>.</span></p>
			<p class="calibre3">Download the installer, then install VirtualBox like any <span>other software.</span></p>
			<h3 class="calibre8">Step 3 – creating a new VM</h3>
			<p class="calibre3">Once <a id="_idIndexMarker064" class="pcalibre calibre4 pcalibre1"/>you’ve installed VirtualBox and downloaded the Ubuntu <strong class="source-inline1">.iso</strong> file, open the VirtualBox software (VirtualBox Manager) and click <strong class="bold">New</strong>. This will open a pop-up window where you can start to configure the <span>new VM:</span></p>
			<div class="calibre2">
				<div class="img---figure" id="_idContainer009">
					<img alt="Figure 2.1 – Starting the VM setup process" src="image/B22403_02_1.jpg" class="calibre5"/>
				</div>
			</div>
			<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 2.1 – Starting the VM setup process</p>
			<p class="calibre3">Here, we <a id="_idIndexMarker065" class="pcalibre calibre4 pcalibre1"/>have the <span>following values:</span></p>
			<ul class="calibre9">
				<li class="calibre10"><strong class="bold">Name</strong>: Name the machine. This can be anything you want, just so you can recognize the machine—for example, <strong class="source-inline">Ubuntu 24.04 - </strong><span><strong class="source-inline">book</strong></span><span>.</span></li>
				<li class="calibre10"><strong class="bold">Folder</strong>: By default, VirtualBox will create a <strong class="source-inline">VirtualBox VMs</strong> folder in your user directory, where it will install all the VMs. You can keep this or change it if <span>you want.</span></li>
				<li class="calibre10"><strong class="bold">ISO Image</strong>: This is where you select the Ubuntu <strong class="source-inline">.iso</strong> file that you’ve <span>just downloaded.</span></li>
				<li class="calibre10"><strong class="bold">Type</strong>: This should <span>be </span><span><strong class="source-inline">Linux</strong></span><span>.</span></li>
				<li class="calibre10"><strong class="bold">Version</strong>: This should be <span><strong class="source-inline">Ubuntu (64-bit)</strong></span><span>.</span></li>
				<li class="calibre10"><strong class="bold">Skip Unattended Installation</strong>: Make sure you check this box. Leaving this unchecked could be a cause of <span>issues later.</span></li>
			</ul>
			<p class="calibre3">Click <strong class="bold">Next</strong>. Here, you’ll need to choose how much CPU and RAM you want to allocate for <span>the machine:</span></p>
			<div class="calibre2">
				<div class="img---figure" id="_idContainer010">
					<img alt="Figure 2.2 – Allocating hardware resources for the VM" src="image/B22403_02_2.jpg" class="calibre5"/>
				</div>
			</div>
			<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 2.2 – Allocating hardware resources for the VM</p>
			<p class="calibre3">This will <a id="_idIndexMarker066" class="pcalibre calibre4 pcalibre1"/>depend on your <span>computer’s configuration.</span></p>
			<p class="calibre3">Here’s what I recommend for the RAM allocation (<strong class="bold">Base Memory</strong> <span>on VirtualBox):</span></p>
			<ul class="calibre9">
				<li class="calibre10">If you have 16 GB or more on your computer, allocate 6 GB (like I did in <span><em class="italic">Figure 2</em></span><em class="italic">.2</em>) or a bit more; this is going to <span>be enough.</span></li>
				<li class="calibre10">If you have 8 GB RAM, allocate <span>4 GB.</span></li>
				<li class="calibre10">For less than 8 GB, adjust the RAM value (you can set a value now and modify it later in the settings) so that you can start the VM, open <strong class="bold">VS Code</strong> and Firefox with a few tabs, and your machine doesn’t slow down too much. If things get too slow, consider using a more powerful machine for <span>learning ROS.</span></li>
			</ul>
			<p class="calibre3">For the CPU allocation, allocate half of your CPUs. So, if your computer has 8 CPUs, set the value to 4. In my setup, I have 4 CPUs and 8 logical processors, so I chose 4 CPUs. Try not to go under 2 as it will be very slow with only 1 CPU. If in doubt, try one setting now; you can change <span>it later.</span></p>
			<p class="calibre3">All in all, it’s better to stay in the green zone. If you have to push to the orange zone, then <a id="_idIndexMarker067" class="pcalibre calibre4 pcalibre1"/>make sure that when you run your VM, you don’t run anything else on your computer (or maybe just a web browser with one tab or a PDF reader for <span>this book).</span></p>
			<p class="calibre3">Click <strong class="bold">Next</strong>. The last thing to do for now is to configure the virtual hard disk that will be created for <span>the VM:</span></p>
			<div class="calibre2">
				<div class="img---figure" id="_idContainer011">
					<img alt="Figure 2.3 – Creating a virtual disk for the VM" src="image/B22403_02_3.jpg" class="calibre5"/>
				</div>
			</div>
			<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 2.3 – Creating a virtual disk for the VM</p>
			<p class="calibre3">Here are the settings you must choose for <span>this screen:</span></p>
			<ol class="calibre11">
				<li class="calibre10">You can keep the default option (<strong class="bold">Create a Virtual Hard Disk Now</strong>). The default size is 25 GB. To learn ROS 2, I recommend using 30 to 40 GB minimum. Anyway, the size of the VM will start low and expand as you install more things, so you can set a higher maximum without <span>blocking resources.</span></li>
				<li class="calibre10">Keep the <strong class="bold">Pre-allocate Full Size</strong> <span>box unchecked.</span></li>
			</ol>
			<p class="calibre3">Click <strong class="bold">Next</strong>. You will now get a recap of all options you chose in the previous steps. Then, click <strong class="bold">Finish</strong>. You will see the newly created VM on the left in <span>VirtualBox Manager.</span></p>
			<p class="calibre3">Before you start the VM, there are a few more things we need to configure. Open the settings for the VM (either select it and click on the <strong class="bold">Settings</strong> button or right-click on the VM and <span>choose </span><span><strong class="bold">Settings</strong></span><span>).</span></p>
			<p class="calibre3">Modify the following <span>three settings:</span></p>
			<ul class="calibre9">
				<li class="calibre10"><strong class="bold">System</strong> | <strong class="bold">Acceleration</strong>: Uncheck the <strong class="bold">Enable Nested </strong><span><strong class="bold">Paging</strong></span><span> box</span></li>
				<li class="calibre10"><strong class="bold">Display</strong>: Uncheck the <strong class="bold">Enable 3D Acceleration</strong> box (this one may already <span>be unchecked)</span></li>
				<li class="calibre10"><strong class="bold">Display</strong>: Increase <strong class="bold">Video Memory</strong> to 128 MB <span>if possible</span></li>
			</ul>
			<p class="calibre3">With <a id="_idIndexMarker068" class="pcalibre calibre4 pcalibre1"/>these settings, you can probably avoid unexpected behaviors and problems with the graphical interface in <span>the VM.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">Every computer is different, with different hardware configurations. What works for me and lots of people might not work the same for you. If you experience weird behavior when running the VM, maybe try again by modifying those previous three settings. Test only one change at <span>a time.</span></p>
			<h3 class="calibre8">Step 4 – starting the VM and finishing the installation</h3>
			<p class="calibre3">Now that the VM has been configured correctly, we need to start it to install Ubuntu, using <a id="_idIndexMarker069" class="pcalibre calibre4 pcalibre1"/>the Ubuntu <strong class="source-inline1">.iso</strong> file that we’ve downloaded <a id="_idIndexMarker070" class="pcalibre calibre4 pcalibre1"/>and added to <span>the settings.</span></p>
			<p class="calibre3">To start the VM, double-click on it in <strong class="bold">VirtualBox Manager</strong>, or select it and click on the <span><strong class="bold">Start</strong></span><span> button.</span></p>
			<p class="calibre3">You will get a boot menu. The first choice is <strong class="bold">Try or Install Ubuntu</strong> and it should already be selected. <span>Press </span><span><em class="italic">Enter</em></span><span>.</span></p>
			<p class="calibre3">Wait a few seconds; Ubuntu will start with the installation screen. Follow the configuration through the <span>different windows:</span></p>
			<ol class="calibre11">
				<li class="calibre10">Choose your language. I recommend you keep <strong class="bold">English</strong> so you have the same configuration <span>as me.</span></li>
				<li class="calibre10">Skip the <strong class="bold">Accessibility</strong> menu, unless you need to set up a bigger font size, <span>for example.</span></li>
				<li class="calibre10">Select your <span>keyboard layout.</span></li>
				<li class="calibre10">Connect <a id="_idIndexMarker071" class="pcalibre calibre4 pcalibre1"/>to the internet. To do so, choose <strong class="bold">Use </strong><span><strong class="bold">wired connection</strong></span><span>.</span></li>
				<li class="calibre10">At this <a id="_idIndexMarker072" class="pcalibre calibre4 pcalibre1"/>point, you might have a screen asking you to update the installer. In this case, click <strong class="bold">Update now</strong>. Once finished, click <strong class="bold">Close installer</strong>. Look for <strong class="bold">Install Ubuntu 24.04 LTS</strong> on the VM desktop and double-click on it. This will start the installation again from <em class="italic">Step 1</em>; repeat <em class="italic">Steps 1</em> <span>to </span><span><em class="italic">4</em></span><span>.</span></li>
				<li class="calibre10">When you’re asked how you would like to install Ubuntu, choose <span><strong class="bold">Interactive installation</strong></span><span>.</span></li>
				<li class="calibre10">For the applications to install with Ubuntu, go with <strong class="bold">Default selection</strong>. This will reduce the space used by the VM and you still get a web browser, as well as all the core basics—we don’t need more than that to install <span>ROS 2.</span></li>
				<li class="calibre10">When asked if you want to install recommended proprietary software, choose <strong class="bold">Install third-party software for graphics and </strong><span><strong class="bold">Wi-Fi hardware</strong></span><span>.</span></li>
				<li class="calibre10">For the disk setup, select <strong class="bold">Erase disk and install Ubuntu</strong>. There’s no risk here as we’re <em class="italic">erasing</em> the empty virtual disk we’ve just created (if you were installing Ubuntu as a dual boot, you would have to choose <span>another option).</span></li>
				<li class="calibre10">Choose a username, computer name, and password. Keep things simple here. For example, I use <strong class="source-inline">ed</strong> for the user and <strong class="source-inline">ed-vm</strong> for the computer’s name. Also, make sure that the password is typed correctly, especially if you’ve changed the keyboard <span>layout previously.</span></li>
				<li class="calibre10">Select your <span>time zone.</span></li>
				<li class="calibre10">On the recap menu, click <strong class="bold">Install</strong> and wait a <span>few minutes.</span></li>
				<li class="calibre10">When the installation is complete, a popup will ask you to restart. Click <span><strong class="bold">Restart now</strong></span><span>.</span></li>
				<li class="calibre10">You will see a message stating <strong class="bold">Please remove the installation medium, then press ENTER</strong>. There’s no need to do anything here—just <span>press </span><span><em class="italic">Enter</em></span><span>.</span></li>
				<li class="calibre10">After booting, you will get another welcome screen popup. You can skip all the steps and click <strong class="bold">Finish</strong> to exit <span>the popup.</span></li>
			</ol>
			<p class="calibre3">With <a id="_idIndexMarker073" class="pcalibre calibre4 pcalibre1"/>that, Ubuntu has <span>been installed.</span></p>
			<p class="calibre3">Just to <a id="_idIndexMarker074" class="pcalibre calibre4 pcalibre1"/>finish things properly, open a Terminal window and upgrade the existing packages (it’s not because you just installed Ubuntu that all packages are up <span>to date):</span></p>
			<pre class="console">
$ sudo apt update
$ sudo apt upgrade</pre>			<p class="calibre3">That’s it for the installation. However, there’s one more thing specific to VirtualBox that we must do so that the VM window <span>works correctly.</span></p>
			<h3 class="calibre8">Step 5 – Guest Additions CD Image</h3>
			<p class="calibre3">At this point, if you try to resize the window where the VM is running, you will see that the <a id="_idIndexMarker075" class="pcalibre calibre4 pcalibre1"/>desktop resolution doesn’t change. Also, if you try to copy/paste some text or code between your host and the VM, it probably <span>won’t work.</span></p>
			<p class="calibre3">To fix this, we need to install what’s called the <em class="italic">Guest Additions </em><span><em class="italic">CD Image</em></span><span>.</span></p>
			<p class="calibre3">First, open a Terminal and run the following command (note that copy/paste doesn’t work yet, so you have to type it manually). This will install a few dependencies, all of which are required for the <span>next step:</span></p>
			<pre class="console">
$ sudo apt install build-essential gcc make perl dkms</pre>			<p class="calibre3">Then, on the top menu of the VM window, click <strong class="bold">Devices</strong> | <strong class="bold">Insert Guest Additions </strong><span><strong class="bold">CD image</strong></span><span>.</span></p>
			<p class="calibre3">You will see a new CD image on the Ubuntu menu (on the left). Click on it—this will open a file manager. Inside the file manager, right-click on the empty space and choose <strong class="bold">Open in Terminal</strong>. See the following figure for <span>more clarification:</span></p>
			<div class="calibre2">
				<div class="img---figure" id="_idContainer012">
					<img alt="Figure 2.4 – Opening the Guest Additions CD Image folder in the Terminal" src="image/B22403_02_4.jpg" class="calibre5"/>
				</div>
			</div>
			<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 2.4 – Opening the Guest Additions CD Image folder in the Terminal</p>
			<p class="calibre3">You <a id="_idIndexMarker076" class="pcalibre calibre4 pcalibre1"/>will then be inside a Terminal, where you can find a file named <strong class="source-inline1">VBoxLinuxAdditions.run</strong>. You need to run this file with <span>admin privileges:</span></p>
			<pre class="console">
$ sudo ./VBoxLinuxAdditions.run</pre>			<p class="calibre3">After this, you might get a popup asking you to reboot the VM. Click <strong class="bold">Restart Now</strong>. If you don’t get this popup, simply run <strong class="source-inline1">sudo reboot</strong> in <span>the Terminal.</span></p>
			<p class="calibre3">When the VM starts again, the screen should resize automatically when you change the size of the window. If it doesn’t work the first time, I found that running the command once again (<strong class="source-inline1">sudo ./VBoxLinuxAdditions.run</strong>) and rebooting may solve <span>the problem.</span></p>
			<p class="calibre3">You can then right-click on the disk and choose <strong class="bold">Eject</strong>, and you’re all set. To enable copy/paste between the host and the VM, go to the top menu and click <strong class="bold">Devices</strong> | <strong class="bold">Shared Clipboard </strong>| <span><strong class="bold">Bidirectional</strong></span><span>.</span></p>
			<p class="calibre3">Now, your <a id="_idIndexMarker077" class="pcalibre calibre4 pcalibre1"/>VM is fully installed and configured. If you’ve chosen that path, this will allow you to complete at least <em class="italic">Part 1</em> and <em class="italic">Part 2</em> of this book. For <em class="italic">Part 3</em>, as mentioned previously, you might encounter some issues, especially when using Gazebo. When you reach this point, I suggest that you ins<a id="_idTextAnchor066" class="pcalibre calibre4 pcalibre1"/><a id="_idTextAnchor067" class="pcalibre calibre4 pcalibre1"/><a id="_idTextAnchor068" class="pcalibre calibre4 pcalibre1"/><a id="_idTextAnchor069" class="pcalibre calibre4 pcalibre1"/><a id="_idTextAnchor070" class="pcalibre calibre4 pcalibre1"/><a id="_idTextAnchor071" class="pcalibre calibre4 pcalibre1"/>tall Ubuntu natively with a <span>dual boot.</span></p>
			<h1 id="_idParaDest-40" class="calibre6"><a id="_idTextAnchor072" class="pcalibre calibre4 pcalibre1"/>Installing ROS 2 on Ubuntu</h1>
			<p class="calibre3">Now that you have Ubuntu 24.04 installed on your computer (either as a dual boot or in a VM), let’s install ROS 2. As discussed previously, we will install ROS Jazzy here. If you’re using a <a id="_idIndexMarker078" class="pcalibre calibre4 pcalibre1"/>different Ubuntu distribution, make sure to use the appropriate ROS <span>2 distribution.</span></p>
			<p class="calibre3">The best way to install ROS 2 is to follow the instructions on the official documentation website, for binary packages installation: <a href="https://docs.ros.org/en/jazzy/Installation/Ubuntu-Install-Debians.html" class="pcalibre calibre4 pcalibre1">https://docs.ros.org/en/jazzy/Installation/Ubuntu-Install-Debians.html</a>. There are quite a few commands to run, but don’t worry— all you need to do is copy and paste them one <span>by one.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">As the installation instructions are often updated, the following commands you see in this book may differ slightly from the ones from the official documentation. If so, copy/paste from the <span>official instructions.</span></p>
			<p class="calibre3">N<a id="_idTextAnchor073" class="pcalibre calibre4 pcalibre1"/>ow, let’s start the ROS <span>2 installation.</span></p>
			<h2 id="_idParaDest-41" class="calibre6"><a id="_idTextAnchor074" class="pcalibre calibre4 pcalibre1"/>Setting the locale</h2>
			<p class="calibre3">Make <a id="_idIndexMarker079" class="pcalibre calibre4 pcalibre1"/>sure you have a locale that <span>supports UTF-8:</span></p>
			<pre class="console">
$ locale</pre>			<p class="calibre3">With this, you can check that you have UTF-8. If in doubt, just run those commands one by one (I do this <span>every time):</span></p>
			<pre class="console">
$ sudo apt update &amp;&amp; sudo apt install locales
$ sudo locale-gen en_US en_US.UTF-8
$ sudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8
$ export LANG=en_US.UTF-8</pre>			<p class="calibre3">Now, check <a id="_idIndexMarker080" class="pcalibre calibre4 pcalibre1"/>ag<a id="_idTextAnchor075" class="pcalibre calibre4 pcalibre1"/>ain; you’ll see UTF-8 <span>this time:</span></p>
			<pre class="console">
$ locale</pre>			<h2 id="_idParaDest-42" class="calibre6"><a id="_idTextAnchor076" class="pcalibre calibre4 pcalibre1"/>Setting up the sources</h2>
			<p class="calibre3">Run those <a id="_idIndexMarker081" class="pcalibre calibre4 pcalibre1"/>five commands one by one (note that it’s better to copy/paste them from the official <span>documentation directly):</span></p>
			<pre class="console">
$ sudo apt install software-properties-common
$ sudo add-apt-repository universe
$ sudo apt update &amp;&amp; sudo apt install curl -y
$ sudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro\/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg
$ echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr\/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2\/ubuntu $(. /etc/os-release &amp;&amp; echo $UBUNTU_CODENAME) main" | sudo\tee /etc/apt/sources.list.d/ros2.list &gt; /dev/null</pre>			<p class="calibre3">The main goal of these commands is to add the ROS packages server to your <strong class="source-inline1">apt</strong> sources. Run the <span>following command:</span></p>
			<pre class="console">
$ sudo apt update</pre>			<p class="calibre3">You should now see additional lines, something <span>like this:</span></p>
			<pre class="console">
Get:5 http://packages.ros.org/ros2/ubuntu noble InRelease [4,667 B]
Get:6 http://packages.ros.org/ros2/ubuntu noble/main amd64 Packages [922 kB]</pre>			<p class="calibre3">Those new sources (<strong class="source-inline1">packages.ros.org</strong>) will allow you to fetch the ROS 2 packages when installing <a id="_idIndexMarker082" class="pcalibre calibre4 pcalibre1"/>with <strong class="source-inline1">apt</strong>. Here, you can also see <strong class="source-inline1">noble</strong>, which means the ROS 2 packages are for Ubuntu Noble (24.04). Since you know how Ubuntu and ROS distributions are linked, this also means <span>ROS Jazzy.</span></p>
			<p class="calibre3">Now that we have the cor<a id="_idTextAnchor077" class="pcalibre calibre4 pcalibre1"/>rect sources, we can finally install <span>ROS 2.</span></p>
			<h2 id="_idParaDest-43" class="calibre6"><a id="_idTextAnchor078" class="pcalibre calibre4 pcalibre1"/>Installing ROS 2 packages</h2>
			<p class="calibre3">As a best <a id="_idIndexMarker083" class="pcalibre calibre4 pcalibre1"/>practice, upgrade all your existing packages before you install any ROS <span>2 packages:</span></p>
			<pre class="console">
$ sudo apt update
$ sudo apt upgrade</pre>			<p class="calibre3">Now, you can install ROS 2 packages. As shown in the documentation, you can choose between <strong class="bold">Desktop Install</strong> or <span><strong class="bold">ROS-Base Install</strong></span><span>.</span></p>
			<p class="calibre3">ROS 2 is not just one piece of software or package. It’s a collection of <span>many packages:</span></p>
			<ul class="calibre9">
				<li class="calibre10"><strong class="bold">ROS-Base</strong>: This contains <a id="_idIndexMarker084" class="pcalibre calibre4 pcalibre1"/>the bare minimum packages to make ROS 2 <span>work correctly</span></li>
				<li class="calibre10"><strong class="bold">ROS Desktop</strong>: This contains <a id="_idIndexMarker085" class="pcalibre calibre4 pcalibre1"/>all the packages in ROS-Base, plus lots of additional packages, so you get access to more tools, simulations, demos, and <span>so on</span></li>
			</ul>
			<p class="calibre3">Since you’re installing ROS 2 on a computer with a desktop, and you want to have access to as many functionalities as you can, choose ROS Desktop Install. If you were to install ROS on a limited environment, such as Ubuntu Server (no desktop) on a Raspberry Pi board, then ROS-Base would <span>make sense.</span></p>
			<p class="calibre3">Install ROS Desktop by running the <span>following command:</span></p>
			<pre class="console">
$ sudo apt install ros-&lt;distro&gt;-desktop</pre>			<p class="calibre3">Replace <strong class="source-inline1">&lt;distro&gt;</strong> with the distribution name (using lowercase). So, if you want to install ROS Jazzy, you will use the <span>following command:</span></p>
			<pre class="console">
$ sudo apt install ros-jazzy-desktop</pre>			<p class="calibre3">As you can see, when you run this command, a few hundred new packages will be installed. This can take some time, depending on your internet connection speed, as well as the performance of your computer (<span>or VM).</span></p>
			<p class="calibre3">If you see <a id="_idIndexMarker086" class="pcalibre calibre4 pcalibre1"/>an error stating <em class="italic">unable to locate package ros-jazzy-desktop</em>, for example, it probably means you’re trying to install a ROS 2 distribution on the wrong Ubuntu version. This is a common error, so make sure to use the correct Ubuntu/ROS 2 pairing (as seen previously in <span>this chapter).</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">From this, it’s quite easy to see how to install any other ROS 2 package. You just need to write <strong class="source-inline">ros</strong>, then the distribution name, and then the package name (using dashes, not underscores): <strong class="source-inline">ros-&lt;distro&gt;-package-name</strong>. For example, if you want to install the <strong class="source-inline">abc_def</strong> package on ROS Jazzy, then you will need to run <strong class="source-inline">sudo apt </strong><span><strong class="source-inline">install ros-jazzy-abc-def</strong></span><span>.</span></p>
			<p class="calibre3">Once the installation is done, you can also install the ROS development tools. We’ll need these in the remainder of this book to compile our code and create ROS programs. For this command, no ROS distribution needs to be specified; it’s the same for all <span>of them:</span></p>
			<pre class="console">
$ sudo apt install ros-dev-tools</pre>			<p class="calibre3">Once you’ve done this, ROS 2 will be installed, and you’ll have all the ROS 2 tools <span>you need.</span></p>
			<p class="calibre3">I also recommend that you frequently update the ROS 2 packages you’ve installed. To do so, simply run <strong class="source-inline1">sudo apt update</strong> and <strong class="source-inline1">sudo apt upgrade</strong>, like you would update any <span>other package.</span></p>
			<h1 id="_idParaDest-44" class="calibre6"><a id="_idTextAnchor079" class="pcalibre calibre4 pcalibre1"/>Setting up the environment for ROS 2</h1>
			<p class="calibre3">At this <a id="_idIndexMarker087" class="pcalibre calibre4 pcalibre1"/>point, open a Terminal and run the <span>following command:</span></p>
			<pre class="console">
$ ros2
ros2: command not found</pre>			<p class="calibre3">You will get an error message saying that the <strong class="source-inline1">ros2</strong> command can’t be found. As we will see later, <strong class="source-inline1">ros2</strong> is a command-line tool we can use to run and test our programs from the Terminal. If this command isn’t working, it means that ROS 2 hasn’t been set <span>up correctly.</span></p>
			<p class="calibre3">Even if ROS 2 is installed, there’s one more thing you need to do in every new session (or Terminal) where you want to use <a id="_idTextAnchor080" class="pcalibre calibre4 pcalibre1"/>ROS 2: you need to <strong class="bold">source</strong> it in <span>the environment.</span></p>
			<h2 id="_idParaDest-45" class="calibre6"><a id="_idTextAnchor081" class="pcalibre calibre4 pcalibre1"/>Sourcing ROS 2 in the environment</h2>
			<p class="calibre3">To do <a id="_idIndexMarker088" class="pcalibre calibre4 pcalibre1"/>that, source this bash script from where ROS 2 <span>is installed:</span></p>
			<pre class="console">
$ source /opt/ros/&lt;distro&gt;/setup.bash</pre>			<p class="calibre3">Replace <strong class="source-inline1">&lt;distro&gt;</strong> with the current distribution name you are using. For ROS Jazzy, run the <span>following command:</span></p>
			<pre class="console">
$ source /opt/ros/jazzy/setup.bash</pre>			<p class="calibre3">After you run this, try executing the <strong class="source-inline1">ros2</strong> command again. This time, you should get a different message (usage message). This means that ROS 2 is correctly installed and set up in <span>your environment.</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">We will see how to use the <strong class="source-inline">ros2</strong> command line later in this book. For now, you can just use it <a id="_idTextAnchor082" class="pcalibre calibre4 pcalibre1"/>to see if ROS 2 has been set up correctly <span>or not.</span></p>
			<h2 id="_idParaDest-46" class="calibre6"><a id="_idTextAnchor083" class="pcalibre calibre4 pcalibre1"/>Adding the source line to the .bashrc file</h2>
			<p class="calibre3">You must source this bash script every time you open a new session or Terminal. To make things easier and so you don’t forget about it, let’s just add this command line to the <strong class="source-inline1">.</strong><span><strong class="source-inline1">bashrc</strong></span><span> file.</span></p>
			<p class="calibre3">If you <a id="_idIndexMarker089" class="pcalibre calibre4 pcalibre1"/>don’t know what <strong class="source-inline1">.bashrc</strong> is, simply put, it’s a bash script that will run every time you open a new session (that can be an SSH session, a new Terminal window, and so on). This <strong class="source-inline1">.bashrc</strong> file is specific to each user, so you will find it in your home directory (as a hidden file because of the <span>leading dot).</span></p>
			<p class="calibre3">You can add the source line to the <strong class="source-inline1">.bashrc</strong> file with <span>this command:</span></p>
			<pre class="console">
$ echo 'source /opt/ros/&lt;distro&gt;/setup.bash' &gt;&gt; ~/.bashrc</pre>			<p class="calibre3">Replace <strong class="source-inline1">&lt;distro&gt;</strong> with your ROS distribution name. You could also just open the <strong class="source-inline1">.bashrc</strong> file directly with any text editor—gedit, nano, or Vim—and add the source line at the end. Make sure it’s only <span>added once.</span></p>
			<p class="calibre3">Once you’ve done this, any time you open a new Terminal, you can be sure that this Terminal is correctly sourced, and thus you can use ROS 2 <span>in it.</span></p>
			<p class="calibre3">Now, to make a final check, open a Terminal and run this command (there’s no need to understand anything for now; it’s just to verify <span>the installation):</span></p>
			<pre class="console">
$ ros2 run turtlesim turtlesim_node</pre>			<p class="calibre3">This will print a few logs, and you should see a new window with a turtle in the middle. To stop the program, press <em class="italic">Ctrl</em> + <em class="italic">C</em> in the Terminal where you ran <span>the command.</span></p>
			<p class="calibre3">That’s it for installing and configuring ROS 2. I will just give you a few more tips on what develop<a id="_idTextAnchor084" class="pcalibre calibre4 pcalibre1"/>ment tools can be useful when developing <span>with ROS.</span></p>
			<h1 id="_idParaDest-47" class="calibre6"><a id="_idTextAnchor085" class="pcalibre calibre4 pcalibre1"/>Extra tools for ROS development</h1>
			<p class="calibre3">Apart from <a id="_idIndexMarker090" class="pcalibre calibre4 pcalibre1"/>the mandatory previous steps to install and set up ROS 2, any other development tool is up to you. If you have your favorite way of working <a id="_idIndexMarker091" class="pcalibre calibre4 pcalibre1"/>with a Terminal, your favorite text editor, or your favorite <strong class="bold">integrated development environment</strong> (<strong class="bold">IDE</strong>), this is <span>perfectly fine.</span></p>
			<p class="calibre3">In this section, I will show you a few tools that lots of ROS developers use (me included) and that I think can help y<a id="_idTextAnchor086" class="pcalibre calibre4 pcalibre1"/>ou get a better experience when developing <span>with ROS.</span></p>
			<h2 id="_idParaDest-48" class="calibre6"><a id="_idTextAnchor087" class="pcalibre calibre4 pcalibre1"/>Visual Studio Code</h2>
			<p class="calibre3"><strong class="bold">Visual Studio Code</strong> (<strong class="bold">VS Code</strong>) is a quite popular IDE used by many developers. What <a id="_idIndexMarker092" class="pcalibre calibre4 pcalibre1"/>makes it nice for us is its good support for <span>ROS development.</span></p>
			<p class="calibre3">VS Code <a id="_idIndexMarker093" class="pcalibre calibre4 pcalibre1"/>is free to use and open source; you can even find its code on GitHub. To install VS Code, open a Terminal and run the <span>following command:</span></p>
			<pre class="console">
$ sudo snap install code --classic</pre>			<p class="calibre3">The installation just requires one line and uses Ubuntu’s Snap feature. After installing it, you can open VS Code by searching for it in the Ubuntu applications, or simply by running <strong class="source-inline1">code</strong> in <span>the Terminal.</span></p>
			<p class="calibre3">Now, start VS Code and go to the <strong class="bold">Extensions</strong> panel—you can find it on the <span>left menu.</span></p>
			<p class="calibre3">There, you can search for the ROS extension by typing <strong class="source-inline1">ros</strong>. There are quite a few; choose the one developed by Microsoft. This extension is compatible with both ROS 1 and ROS 2, so there’s no <span>problem here:</span></p>
			<div class="calibre2">
				<div class="img---figure" id="_idContainer013">
					<img alt="Figure 2.5 – The ROS extension to install in VS Code" src="image/B22403_02_5.jpg" class="calibre5"/>
				</div>
			</div>
			<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 2.5 – The ROS extension to install in VS Code</p>
			<p class="calibre3">Install this extension. This will also install a bunch of other extensions, notably Python and C++ extensions, which are quite useful when <span>writing code.</span></p>
			<p class="calibre3">On top of this, I also <a id="_idIndexMarker094" class="pcalibre calibre4 pcalibre1"/>usually install the <strong class="bold">CMake</strong> extension by <strong class="source-inline1">twxs</strong> (just type <strong class="source-inline1">cmake</strong> and you’ll find it). With this, we get nice syntax highlighting when writing into <strong class="source-inline1">CMakeLists.txt</strong> files, which i<a id="_idTextAnchor088" class="pcalibre calibre4 pcalibre1"/>s something we will have to do quite often with <span>ROS 2.</span></p>
			<h2 id="_idParaDest-49" class="calibre6"><a id="_idTextAnchor089" class="pcalibre calibre4 pcalibre1"/>The Terminal and other tools</h2>
			<p class="calibre3">As you develop with ROS 2, you will often need to open several Terminals: one for compiling and installing, a few to run the different programs of your application, and a few more for introspection <span>and debugging.</span></p>
			<p class="calibre3">It can <a id="_idIndexMarker095" class="pcalibre calibre4 pcalibre1"/>become quite difficult to keep track of all the Terminals you use, so as best practice, it’s nice to have a tool that can easily handle multiple Terminals in <span>one window.</span></p>
			<p class="calibre3">There are quite <a id="_idIndexMarker096" class="pcalibre calibre4 pcalibre1"/>a few tools for doing this. The one I’m going to talk about here is called <strong class="bold">terminator</strong>. Not only does it have a funny name, but it’s also super practical <span>to use.</span></p>
			<p class="calibre3">To install <strong class="source-inline1">terminator</strong>, run the <span>following command:</span></p>
			<pre class="console">
$ sudo apt install terminator</pre>			<p class="calibre3">Then, you can find it from the applications menu, run it, right-click on the left bar menu, and choose <strong class="bold">Pin to Dash</strong> so that it stays there and becomes easy <span>to start.</span></p>
			<p class="calibre3">You can find all the commands for <strong class="source-inline1">terminator</strong> online, but here are the most important ones to <span>get started:</span></p>
			<ul class="calibre9">
				<li class="calibre10"><em class="italic">Ctrl</em> + <em class="italic">Shift</em> + <em class="italic">O</em>: split the selected <span>Terminal horizontally.</span></li>
				<li class="calibre10"><em class="italic">Ctrl</em> + <em class="italic">Shift</em> + <em class="italic">E</em>: split the selected <span>Terminal vertically.</span></li>
				<li class="calibre10"><em class="italic">Ctrl</em> + <em class="italic">Shift</em> + <em class="italic">X</em>: make the current Terminal fill the entire window. Use again <span>to revert.</span></li>
				<li class="calibre10"><em class="italic">Ctrl</em> + <em class="italic">Shift</em> + <em class="italic">W</em>: close <span>a Terminal.</span></li>
			</ul>
			<div class="calibre2">
				<div class="img---figure" id="_idContainer014">
					<img alt="Figure 2.6 – Terminator with four Terminals" src="image/B22403_02_6.jpg" class="calibre5"/>
				</div>
			</div>
			<p class="img---caption" lang="en-US" xml:lang="en-US">Figure 2.6 – Terminator with four Terminals</p>
			<p class="calibre3">Whenever <a id="_idIndexMarker097" class="pcalibre calibre4 pcalibre1"/>you split a Terminal, this Terminal becomes two different Terminals, each being one session. Thus, you can easily split your <a id="_idIndexMarker098" class="pcalibre calibre4 pcalibre1"/>Terminal into four or six; this will be enough to run most of your ROS 2 applications. Since we previously added the line to source ROS 2 in the <strong class="source-inline1">.bash<a id="_idTextAnchor090" class="pcalibre calibre4 pcalibre1"/>rc</strong> file, you can use ROS 2 directly in each <span>new Terminal.</span></p>
			<h1 id="_idParaDest-50" class="calibre6"><a id="_idTextAnchor091" class="pcalibre calibre4 pcalibre1"/>Summary</h1>
			<p class="calibre3">When choosing a ROS 2 distribution, I recommend that you pick the latest LTS distribution, given that it’s a few months old and contains all the functionalities <span>you need.</span></p>
			<p class="calibre3">To install and set up ROS 2, you first need to have Ubuntu installed. Each ROS 2 distribution is linked to a specific <span>Ubuntu distribution.</span></p>
			<p class="calibre3">For ROS 2 Jazzy, you must install Ubuntu 24.04. The best option is to have it natively with a dual boot, but to get started quickly, you can also choose to install it in a VM. Then, you can install the ROS <span>2 packages.</span></p>
			<p class="calibre3">After this, it’s important to source the environment for ROS 2 by sourcing a bash script from the ROS installation folder. You can add the line to source this script into your <strong class="source-inline1">.bashrc</strong> file so that you don’t need to do this every time you open a <span>new Terminal.</span></p>
			<p class="calibre3">Finally, to get a better development experience with ROS, I suggest using VS Code with the ROS extension, and a tool that allows you to split the Terminal into multiple Terminals, such <span>as </span><span><strong class="source-inline1">terminator</strong></span><span>.</span></p>
			<p class="calibre3">With this setup, you are fully ready to start using ROS 2. In the next chapter, you will run your first ROS 2 programs and discover the <span>core concepts.</span></p>
		</div>
	</body></html>