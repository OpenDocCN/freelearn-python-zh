<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Getting Started with BeagleBone</h1></div></div></div><p>If you are reading this book right now, it means that you have taken your first step to get started with your BeagleBone board to build real-time physical computing systems using your BeagleBone board and Python programming language. This chapter will teach you how to set up your BeagleBone board for the first time and write your first few Python codes on it.</p><p>By end of this book, you would have learned the basics of interfacing electronics to BeagleBone boards and coding it using Python which will allow you to build almost anything from a home automation system to a robot through examples given in this book.</p><p>Firstly, in this chapter, you will learn how to set up your BeagleBone board for the first time with a new operating system, followed by usage of some basic Linux Shell commands that will help you out while we work on the Shell Terminal to write and execute python codes and do much more like installing different libraries and software on your BeagleBone board. Once you get familiar with usage of the Linux terminal, you will write your first code on python that will run on your BeagleBone board. Once you are comfortable with that, we will modify the code to make it do something more in the next chapters. Most of the time, we will be using the freely available open-source codes and libraries available on the Internet to write programs on top of it and using it to make the program work for our requirement instead of entirely writing a code from scratch to build our embedded systems using BeagleBone board. The contents of this chapter are divided into the following sections:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Prerequisites</li><li class="listitem" style="list-style-type: disc">About the single board computer - BeagleBone board</li><li class="listitem" style="list-style-type: disc">Know your BeagleBone board</li><li class="listitem" style="list-style-type: disc">Setting up your BeagleBone board</li><li class="listitem" style="list-style-type: disc">Working on Linux Shell</li><li class="listitem" style="list-style-type: disc">Coding on Python in BeagleBone board</li></ul></div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec08"/>Prerequisites</h1></div></div></div><p>This topic will cover what parts you need<a id="id0" class="indexterm"/> to get started with BeagleBone Black. You can buy them online or pick them up from any electronics store that is available in your locality. </p><p>The following is the list of materials needed to get started:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">1x BeagleBone Black</li><li class="listitem" style="list-style-type: disc">1x miniUSB type B to type A cable</li><li class="listitem" style="list-style-type: disc">1x microSD Card (4 GB or More)</li><li class="listitem" style="list-style-type: disc">1x microSD Card Reader</li><li class="listitem" style="list-style-type: disc">1x 5V DC, 2A Power Supply</li><li class="listitem" style="list-style-type: disc">1x Ethernet Cable</li></ul></div><div><div><h3 class="title"><a id="note02"/>Note</h3><p>There are different variants of BeagleBone boards like BeagleBone, BeagleBone Black, BeagleBone Green<a id="id1" class="indexterm"/> and some more old variants. This book will <a id="id2" class="indexterm"/> mostly have the BeagleBone Black shown<a id="id3" class="indexterm"/> in the pictures. Note that BeagleBone Black can replace any of the other BeagleBone boards such as the BeagleBone or BeagleBone Green for most of the projects. These boards have their own extra features so to say. For example, the BeagleBone Black has more RAM, it has almost double the size of RAM available in BeagleBone and an in-built eMMC to store operating system instead of booting it up only through operating system installed on microSD card in BeagleBone White. Keeping in mind that this book should be able to guide people with most of the BeagleBone board variants, the tutorials in this book will be based on operating system booted from microSD card inserted on the BeagleBone board. We will discuss about this in detail in the Setting up your BeagleBone board and installing operating system's topics of this chapter.</p></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec09"/>BeagleBone Black – a single board computer</h1></div></div></div><p>This topic will give you<a id="id4" class="indexterm"/> brief information about single board computers to make you understand what they are and where BeagleBone boards fit inside this category.</p><p>Have you ever wondered how your smartphones, smart TVs, and set-top boxes work?</p><p>All these devices run custom firmware developed for specific applications based on the different Linux and<a id="id5" class="indexterm"/> Unix kernels. When you hear the word Linux and if you are familiar with Linux, you will get in your mind that it's nothing but an operating system, just like Windows or Mac OS X that runs on desktops and server computers. But in the recent years the Linux kernel is being used in most of the embedded systems including consumer electronics such as your smartphones, smart TVs, set-top boxes, and much more. Most people know Android and iOS as an operating system on their smart phones. But only a few know that, both these operating systems are based on Linux and Unix kernels.</p><p>Did you ever question how they would develop such devices? There should be a development board right? What are they? </p><p>This is where Linux Development boards like our BeagleBone boards are used.</p><p>By adding peripherals such as touch screens, GSM modules, microphones, and speakers to these single board computers and writing the software that is the operating system with graphical user interface to make them interact with the physical world, we have so many smart devices now that people use every day.</p><p>Nowadays you have proximity sensors, accelerometers, gyroscopes, cameras, IR blasters, and much more on your smartphones. These sensors and transmitters are connected to the CPU on your phone through the Input Output ports on the CPU, and there is a small piece of software that is running to communicate with these electronics when the whole operating system is running in the smartphone to get the readings from these sensors in real-time. Like the autorotation of screen on the latest smartphones. There is a small piece of software that is reading the data from accelerometer and gyroscope sensors on the phone and based on the orientation of the phone it turns the graphical display.</p><p>So, all these Linux development boards are tools and base boards using which you can build awesome real world smart devices or we can call them physical computing systems as they interact with the physical world and respond with an output.</p></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Getting to know your board – BeagleBone Black</h1></div></div></div><p>BeagleBone Black can be described as low cost single board computer that can be plugged into a computer<a id="id6" class="indexterm"/> monitor or TV via a HDMI cable for output and uses standard keyboard and mouse for input. It's capable of doing everything you'd expect a desktop computer to do, like playing videos, word processing, browsing the Internet, and so on. You can even setup a web server on your BeagleBone Black just like you would do if you want to set up a webserver on a Linux or Windows PC.</p><div><img src="img/4602_01_01.jpg" alt="Getting to know your board – BeagleBone Black"/></div><p>But, differing from your desktop computer, the BeagleBone boards has the ability to interact with the physical<a id="id7" class="indexterm"/> world using the GPIO pins available on the board, and has been used in various physical computing applications. Starting from Internet of Things, Home Automation projects, to Robotics, or tweeting shark intrusion systems. The BeagleBone boards are being used by hardware makers around the world to build awesome physical computing systems which are turning into commercial products also in the market. OpenROV, an underwater robot being one good example of what someone can build using a BeagleBone Black that can turn into a successful commercial product.</p></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Hardware specification of BeagleBone Black</h1></div></div></div><p>
<em>A picture is worth a thousand words</em>. The following picture describes about the hardware specifications of the<a id="id8" class="indexterm"/> BeagleBone Black. But you will get some more details about every part of the board as you read the content in the following picture.</p><div><img src="img/4602_01_02.jpg" alt="Hardware specification of BeagleBone Black"/></div><p>If you are familiar with the basic setup of a computer. You will know that it has a CPU with RAM<a id="id9" class="indexterm"/> and Hard Disk. To the CPU you can connect your Keyboard, Mouse, and Monitor which are powered up using a power system. </p><p>The same setup is here in BeagleBone Black also. There is a 1GHz Processor with 512MB of DDR3 RAM and 4GB on board eMMC storage, which replaces the Hard Disk to store the operating system. Just in case you want more storage to boot up using a different operating system, you can use an external microSD card that can have the operating system that you can insert into the microSD card slot for extra storage.</p><p>As in every computer, the board consists of a power button to turn on and turn off the board and a reset button to reset the board. In addition, there is a boot button which is used to boot the board when the operating system is loaded on the microSD card instead of the eMMC. We will be learning about usage of this button in detail in the installing operating systems topic of this chapter.</p><p>There is a type A USB Host port to which you can connect peripherals such as USB Keyboard, USB Mouse, USB Camera, and much more, provided that the Linux drivers are available for the peripherals you connect to the BeagleBone Black.</p><div><div><h3 class="title"><a id="tip02"/>Tip</h3><p>It is to be noted that the BeagleBone Black has only one USB Host Port, so you need to get an USB Hub to get multiple USB ports for connecting more number of USB devices at a time. I would recommend using a wireless Keyboard and Mouse to eliminate an extra USB Hub when you connect your BeagleBone Black to monitor using the HDMI port available.</p></div></div><p>The microHDMI port available on the BeagleBone Black gives the board the ability to give output<a id="id10" class="indexterm"/> to HDMI monitors and HDMI TVs just like any computer will give.</p><p>You can power up the BeagleBone Black using the DC Barrel jack available on the left hand side corner of the board using a 5V DC, 2A adapter. There is an option to power the board using USB, although it is not recommended due to the current limit on USB ports. We will see about this in detail in the upcoming chapters when we connect USB Wi-Fi dongle and USB camera to the BeagleBone Black. </p><p>There are 4 LEDs on board to indicate the status of the board and help us for identifications to boot up the BeagleBone Black from microSD card. The LEDs are linked with the GPIO pins on the BeagleBone Black which can be used whenever needed.</p><p>You can connect the BeagleBone Black to the LAN or Internet using the Ethernet port available on the board using an Ethernet cable. You can even use a USB Wi-Fi module to give Internet access to your BeagleBone Black. In <a class="link" href="ch05.html" title="Chapter 5. Connecting Physical Computing Systems to the Internet">Chapter 5</a>, <em>Connecting Physical Computing Systems to the Internet</em>, you will learn how to do this.</p><p>The expansion headers which are in general called the General Purpose Input Output (GPIO) pins include 65 digital pins. These pins can be used as digital input or output pins to which you can connect switches, LEDs and many more digital input output components, 7 analog inputs to which you can connect analog sensors like a potentiometer or an analog temperature sensor, 4 Serial Ports to which you can connect Serial Bluetooth or Xbee Modules for wireless communication or anything else, 2 SPI and 2 I2C Ports to connect different modules such as sensors or any other modules using SPI or I2C communication. It also has 8 PWM output pins that can be used for applications like fading and LED or in robotic applications for varying the speed of a motor which we will be discussing later in the upcoming chapters.</p><p>We also have the serial debugging port to view the low-level firmware pre-boot and post-shutdown/reboot messages via a serial monitor using an external serial to USB converter while the system is loading up and running. After booting up the operating system, this also acts as a fully interactive Linux console.</p></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Setting up your BeagleBone board</h1></div></div></div><p>Your first step to get started with BeagleBone boards with your hands on will be to set it up and test it<a id="id11" class="indexterm"/> as suggested by the BeagleBone Community with the Debian distribution of Linux running on BeagleBone Black that comes preloaded on the eMMC on board. This section will walk you through that process followed by installing different operating system on your BeagleBone board and log in into it. And then get into start working with files and executing Linux Shell commands via SSH.</p><div><ol class="orderedlist arabic"><li class="listitem">Connect your BeagleBone Black using the USB cable to your Laptop or PC.<p>This is the simplest method to get your BeagleBone Black up and running. Once you connect your BeagleBone Black, it will start to boot using the operating system on the eMMC storage. To log in into the operating system and start working on it, the BeagleBone Black has to connect to a network and the drivers that are provided by the BeagleBoard manufacturers allow us to create a local network between your BeagleBone Black and your computer when you connect it via the USB cable. For this, you need to download and install the device drivers provided by BeagleBone board makers on your PC as explained in step 2.</p><div><img src="img/4602_01_03.jpg" alt="Setting up your BeagleBone board"/></div></li><li class="listitem">Download<a id="id12" class="indexterm"/> and install device drivers.<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Goto <a class="ulink" href="http://beagleboard.org/getting-started">http://beagleboard.org/getting-started</a></li><li class="listitem" style="list-style-type: disc">Click and <a id="id13" class="indexterm"/>download the driver package based on your operating system. Mine is Windows (64-bit), so I am going to download that</li></ul></div><div><img src="img/4602_01_04.jpg" alt="Setting up your BeagleBone board"/></div><p>Once the installation is complete, click on <strong>Finish</strong>. It is shown in the following screenshot:</p><div><img src="img/4602_01_05.jpg" alt="Setting up your BeagleBone board"/></div><p>Once the installation is done, restart your PC. Make sure that the Wi-Fi on your laptop is off and also there is no Ethernet connected to your Laptop. Because now the BeagleBone Black device drivers will try to create a LAN connection between you laptop and BeagleBone Black so that you can access the webserver running by default on the BeagleBone Black to test it's all good, up, and running. Once you reboot your PC, get to step 3.</p></li><li class="listitem">Connect<a id="id14" class="indexterm"/> to the Web Server Running on BeagleBone Black.<p>Open your favorite web browser and enter the IP address <code class="literal">192.168.7.2</code> on the URL bar, which is the default static IP assigned to BeagleBone Black.</p><p>This should open up the webpage as shown in the following screenshot:</p><div><img src="img/4602_01_06.jpg" alt="Setting up your BeagleBone board"/></div><p>If you<a id="id15" class="indexterm"/> get a green check mark with the message your board is connected. You can make sure that you got the previous steps correct and you have successfully connected to your board.</p><div><div><h3 class="title"><a id="tip03"/>Tip</h3><p>If you don't get this message, try removing the USB cable connected to the BeagleBone Black, reconnect it and check again. If you still don't get it. Then check whether you did the first two steps correctly.</p></div></div></li><li class="listitem">Play with on board LEDs via the web server.<p>If you Scroll down on the web page to which we got connected, you will find the section as shown in the following screenshot:</p><div><img src="img/4602_01_07.jpg" alt="Setting up your BeagleBone board"/></div></li></ol></div><p>This is a sample setup made by BeagleBone makers as the first time interaction interface to make you understand<a id="id16" class="indexterm"/> what is possible using BeagleBone Black. In this section of the webpage, you can run a small script. When you click on <strong>Run</strong>, the On board status LEDs that are flashing depending on the status of the operating system will stop its function and start working based on the script that you see on the page. The code is running based on a JavaScript library built by BeagleBone makers called the<a id="id17" class="indexterm"/> <strong>BoneScript</strong>. We will not look into this in detail as we will be concentrating more on writing our own programs using python to work with GPIOs on the board. But to make you understand, here is a simple explanation on what is there on the script and what happens when you click on the run button on the webpage.</p><p>The <code class="literal">pinMode</code> function defines the on board LED pins as outputs and the <code class="literal">digitalWrite</code> function sets the state of the output either as HIGH or LOW. And the <code class="literal">setTimeout</code> function will restore the LEDs back to its normal function after the set timeout, that is, the program will stop running after the time that was set in the <code class="literal">setTimeout</code> function.</p><p>Say I modify the code to what is shown in the following screenshot:</p><div><img src="img/4602_01_08.jpg" alt="Setting up your BeagleBone board"/></div><div><div><h3 class="title"><a id="note03"/>Note</h3><p>You can notice that, I have changed the states of two LEDs to LOW and other two are HIGH and the timeout is set to 10,000 milliseconds.</p></div></div><p>So when you click<a id="id18" class="indexterm"/> on the <code class="literal">Run</code> button. The LEDs will switch to these states and stay like that for 10 seconds and then restore back to its normal status indication routine, that is, blinking.</p><p>You can play around with different combinations of HIGH and LOW states and setTimeout values so that you can see and understand what is happening.</p><p>You can see the LED output state of BeagleBone Black in the following screenshot for the program we executed earlier:</p><div><img src="img/4602_01_09.jpg" alt="Setting up your BeagleBone board"/></div><p>You can see that<a id="id19" class="indexterm"/> the two LEDs in the middle are in LOW state. It stays like this for 10 seconds when you run the script and then it will restore back to its usual routine. You can try with different timeout values and states of LEDs on the script given in the webpage and try clicking on the <code class="literal">Run</code> button to see how it works.</p><p>Like this we will be writing our own python programs and setting up servers to use the GPIOs available on the BeagleBone Black to make them work the way we desire to build different applications in each project that is available in this book.</p></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec13"/>Installing operating systems</h1></div></div></div><p>We can make<a id="id20" class="indexterm"/> the BeagleBone Black boot up and run using different operating systems just like any computer can do. Mostly Linux is used on these boards which is free and open source, but it is to be noted that specific distributions of Linux, Android, and Windows CE have been made available for these boards as well which you can try out.</p><p>The stable<a id="id21" class="indexterm"/> versions of these operating systems are made available at <a class="ulink" href="http://beagleboard.org/latest-images">http://beagleboard.org/latest-images</a>.</p><p>By default, the BeagleBone Black comes preloaded with a Debian distribution of Linux on the eMMC of the board. However, if you want, you can flash this eMMC just like you do to your Hard Drive on your computer and install different operating systems on it.</p><div><div><h3 class="title"><a id="note04"/>Note</h3><p>As mentioned in the note at the beginning of this chapter, considering all the tutorials in this book should be useful to people who own BeagleBone as well as the BeagleBone Black. We will<a id="id22" class="indexterm"/> choose the recommended Debian package by <a class="ulink" href="http://www.BeagleBoard.org">www.BeagleBoard.org</a> Foundation and we will boot the board every time using the operating system on microSD card.</p></div></div><p>Perform the<a id="id23" class="indexterm"/> following steps to prepare the microSD card and<a id="id24" class="indexterm"/> boot<a id="id25" class="indexterm"/> BeagleBone using that:</p><div><ol class="orderedlist arabic"><li class="listitem">Goto: <a class="ulink" href="http://beagleboard.org/latest-images">http://beagleboard.org/latest-images</a>.</li><li class="listitem">Download<a id="id26" class="indexterm"/> the latest Debian Image.<p>The following screenshot highlights the latest Debian Image available for flashing on microSD card:</p><div><img src="img/4602_01_10.jpg" alt="Installing operating systems"/></div></li><li class="listitem">Extract the image file inside the RAR file that was downloaded:<div><img src="img/4602_01_11.jpg" alt="Installing operating systems"/></div><div><div><h3 class="title"><a id="tip04"/>Tip</h3><p>You might have to install WinRAR or any <code class="literal">.rar</code> file extracting software if it is not available in your computer already.</p></div></div></li><li class="listitem">Install Win32 Disk Imager software.<p>To write <a id="id27" class="indexterm"/>the image file to a microSD card, we need <a id="id28" class="indexterm"/>this software. You can go to Google or <a id="id29" class="indexterm"/>any other search engine and type <code class="literal">win32 disk imager</code> as keyword and search to get the web link to download this software as shown in the following screenshot:</p><div><img src="img/4602_01_12.jpg" alt="Installing operating systems"/></div><p>The web link, where you can find this software is <a class="ulink" href="http://sourceforge.net/projects/win32diskimager/">http://sourceforge.net/projects/win32diskimager/</a>. But this keeps changing often<a id="id30" class="indexterm"/> that's why I suggest you can search it via any search engine with the keyword.</p></li><li class="listitem">Once you download the software and install it. You should be able to see the window as shown<a id="id31" class="indexterm"/> in the following screenshot when <a id="id32" class="indexterm"/>you open the Win32 Disk Imager:<div><img src="img/4602_01_13.jpg" alt="Installing operating systems"/></div><p>Now that you <a id="id33" class="indexterm"/>are all set with the software, using which you can flash the operating system image that we downloaded. Let's move to the next step where you can use Win32 Disk Imager software to flash the microSD card.</p></li><li class="listitem">Flashing the microSD card.<p>Insert the microSD into a microSD card reader and plug it onto your computer. It might take some time for the card reader to show up your microSD card. Once it shows up, you should be able to select the USB drive as shown in the following screenshot on the Win32 Disk Imager software.</p><div><img src="img/4602_01_14.jpg" alt="Installing operating systems"/></div></li><li class="listitem">Now, click on the icon highlighted in the following screenshot to open the file explorer and select the image file that we extracted in step 3:<div><img src="img/4602_01_15.jpg" alt="Installing operating systems"/></div></li><li class="listitem">Go to<a id="id34" class="indexterm"/> the folder where you extracted the latest<a id="id35" class="indexterm"/> Debian<a id="id36" class="indexterm"/> image file and select it.<div><img src="img/4602_01_16.jpg" alt="Installing operating systems"/></div></li><li class="listitem">Now you<a id="id37" class="indexterm"/> can write the image file to microSD <a id="id38" class="indexterm"/>card by clicking on the <strong>Write</strong> button on<a id="id39" class="indexterm"/> the Win32 Disk Imager. If you get a prompt as shown in the following screenshot, click on <strong>Yes</strong> and continue:<div><img src="img/4602_01_17.jpg" alt="Installing operating systems"/></div></li><li class="listitem">Once you<a id="id40" class="indexterm"/> click on <strong>Yes</strong>, the flashing process will<a id="id41" class="indexterm"/> start and the image file will be written on<a id="id42" class="indexterm"/> to the microSD card. The following screenshot shows the flashing process progressing:<div><img src="img/4602_01_18.jpg" alt="Installing operating systems"/></div><p>Once the flashing is completed, you will get a message as shown in the following screenshot:</p><div><img src="img/4602_01_19.jpg" alt="Installing operating systems"/></div></li><li class="listitem">Now you can click on <strong>OK</strong>, exit the Win32 Disk Imager software and safely remove the microSD card from your computer.</li></ol></div><p>Now you have<a id="id43" class="indexterm"/> successfully prepared your microSD card with the <a id="id44" class="indexterm"/>latest Debian operating system available for <a id="id45" class="indexterm"/>BeagleBone Black. This process is same for all other operating systems that are available for BeagleBone boards. You can try out different operating systems such as the Angstrom Linux, Android, or Windows CE others, once you get familiar with your BeagleBone board by end of this book.</p><p>For Mac users, you<a id="id46" class="indexterm"/> can refer to either <a class="ulink" href="https://learn.adafruit.com/ssh-to-beaglebone-black-over-usb/installing-drivers-mac">https://learn.adafruit.com/ssh-to-beaglebone-black-over-usb/installing-drivers-mac</a> or <a class="ulink" href="https://learn.adafruit.com/beaglebone-black-installing-operating-systems/mac-os-x">https://learn.adafruit.com/beaglebone-black-installing-operating-systems/mac-os-x</a>.</p></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec14"/>Booting your BeagleBone board from a SD card</h1></div></div></div><p>Since you have the<a id="id47" class="indexterm"/> operating system on your <a id="id48" class="indexterm"/>microSD card now, let us go ahead and boot your BeagleBone board from that microSD card and see how to login and access the filesystem via Linux Shell.</p><p>You will need your computer connected to your Router either via Ethernet or Wi-Fi and an Ethernet cable which you should connect between your Router and the BeagleBone board. The last but most important thing is an External Power Supply using which you will power up your BeagleBone board because power supply via a USB will be not be enough to run the BeagleBone board when it is booted from a microSD card.</p><div><ol class="orderedlist arabic"><li class="listitem">Insert the microSD card into BeagleBone board.<p>Now you<a id="id49" class="indexterm"/> should insert<a id="id50" class="indexterm"/> the microSD card that you have prepared into the microSD card slot available on your BeagleBone board.</p><div><img src="img/4602_01_20.jpg" alt="Booting your BeagleBone board from a SD card"/></div></li><li class="listitem">Connect your BeagleBone to your LAN.<p>Now connect your BeagleBone board to your Internet router using an Ethernet cable.</p><div><img src="img/4602_01_21.jpg" alt="Booting your BeagleBone board from a SD card"/></div><p>You need<a id="id51" class="indexterm"/> to make sure<a id="id52" class="indexterm"/> that your BeagleBone board and your computer are connected to the same router to follow the next steps.</p></li><li class="listitem">Connect external power supply to your BeagleBone board.<div><img src="img/4602_01_22.jpg" alt="Booting your BeagleBone board from a SD card"/></div></li><li class="listitem">Boot your BeagleBone board from microSD card.<p>On BeagleBone Black and BeagleBone Green, you have a Boot Button which you need<a id="id53" class="indexterm"/> to hold on while<a id="id54" class="indexterm"/> turning on your BeagleBone board so that it starts booting from the microSD card instead of the default mode where it starts to boot from the onboard eMMC storage which holds the operating system. In case of BeagleBone White, you don't have this button, it starts to boot from the microSD card itself as it doesn't have onboard eMMC storage.</p><div><img src="img/4602_01_23.jpg" alt="Booting your BeagleBone board from a SD card"/></div></li></ol></div><p>Depending on the board that you have, you can decide whether to boot the board from microSD card or eMMC. Consider you have a BeagleBone Black just like the one I have shown in the preceding picture. You hold down the User Boot button that is highlighted on the image and turn on the power supply. Once you turn on the board while holding the button down, the four on-board LEDs will light up and stay HIGH as shown in the following picture for 1 or 2 seconds, then they will start to blink randomly.</p><div><img src="img/4602_01_24.jpg" alt="Booting your BeagleBone board from a SD card"/></div><p>Once they start blinking, you can leave the button.</p><p>Now your BeagleBone<a id="id55" class="indexterm"/> board must have started<a id="id56" class="indexterm"/> Booting from the microSD card, so our next step will be to log in to the system and start working on it. The next topic will walk you through the steps on how to do this.</p></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec15"/>Logging into the board via SSH over Ethernet</h1></div></div></div><p>If you are familiar with Linux operations, then you might have guessed what this section is about. But for those people who are not daily Linux users or have never heard the term SSH, <strong>Secure Shell</strong> (<strong>SSH</strong>) is<a id="id57" class="indexterm"/> a network protocol that allows network<a id="id58" class="indexterm"/> services and remote login to<a id="id59" class="indexterm"/> be able to operate <a id="id60" class="indexterm"/>over an unsecured network in a secure manner. In basic terms, it's a protocol through which you can log in to a computer and assess its filesystem and also work on that system using specific commands to create and work with files on the system.</p><p>In the steps ahead, you will work with some Linux commands that will make you understand this method of logging into a system and working on it.</p><div><ol class="orderedlist arabic"><li class="listitem">Setup SSH Software.<p>To get started, log in to your BeagleBone board now, from a Windows PC, you need to install any SSH terminal software for Windows.</p><div><img src="img/4602_01_25.jpg" alt="Logging into the board via SSH over Ethernet"/></div><p>My favorite <a id="id61" class="indexterm"/>is PuTTY, so I <a id="id62" class="indexterm"/>will be <a id="id63" class="indexterm"/>using that in the steps ahead. If you are new to using SSH, I would suggest you also get PuTTY.</p><p>The software interface of PuTTY will be as shown in the following screenshot:</p><div><img src="img/4602_01_26.jpg" alt="Logging into the board via SSH over Ethernet"/></div><p>You need to know the IP address or the Host Name of your BeagleBone Black to log in to it via SSH. The default Host Name is <code class="literal">beaglebone</code> but in some routers, depending on their security settings, this method<a id="id64" class="indexterm"/> of login doesn't<a id="id65" class="indexterm"/> work<a id="id66" class="indexterm"/> with Host Name. So, I would suggest you try to login entering the hostname first. If you are not able to login, follow step 2. If you successfully connect and get the login prompt with Host Name, you can skip step 2 and go to Step 3.</p><div><img src="img/4602_01_27.jpg" alt="Logging into the board via SSH over Ethernet"/></div><p>But if you get an error as shown in the following screenshot, perform Step 2.</p><div><img src="img/4602_01_28.jpg" alt="Logging into the board via SSH over Ethernet"/></div></li><li class="listitem">Find an IP address assigned to BeagleBone board.<p>Whenever you connect a device to your Router, say your computer, printer, or mobile phone. The router assigns a unique IP to these devices. The<a id="id67" class="indexterm"/> same way, the <a id="id68" class="indexterm"/>router must have assigned an IP to your BeagleBone board <a id="id69" class="indexterm"/>also. We can get this detail on the router's configuration page of your router from any browser of a computer that is connected to that router.</p><p>In most cases, the router can be assessed by entering the IP <code class="literal">192.168.1.1</code> but some router manufacturers have a different IP in very rare cases. If you are not able to assess your router using this IP <code class="literal">192.168.1.1</code>, refer your router manual for getting access to this page.</p><div><div><h3 class="title"><a id="note05"/>Note</h3><p>The images that are shown in this section are to give you an idea about how to log in to your router and get the IP address details assigned to your BeagleBone board from your router. The configuration pages and how the devices are shown on the router will look different depending on the router that you own.</p></div></div><p>Enter the <code class="literal">192.168.1.1</code> address in you browser.</p><div><img src="img/4602_01_29_R.jpg" alt="Logging into the board via SSH over Ethernet"/></div><p>When it asks for <strong>User Name</strong> and <strong>Password</strong>, enter <code class="literal">admin</code> as <strong>User Name</strong> and <code class="literal">password</code> as <strong>Password</strong>
</p><p>These are<a id="id70" class="indexterm"/> the mostly <a id="id71" class="indexterm"/>used<a id="id72" class="indexterm"/> credentials by default in most of the routers. Just in case you fail in this step, check your router's user manual.</p><p>Considering you logged into your router configuration page successfully, you will see the screen with details as shown in the following screenshot:</p><div><img src="img/4602_01_30_R.jpg" alt="Logging into the board via SSH over Ethernet"/></div><p>If you click on the highlighted part, <strong>Attached Devices</strong>, you will be able to see the list of devices with their IP as shown in the following screenshot, where you can find the details of the IP address that is assigned to your BeagleBone board.</p><div><img src="img/4602_01_31.jpg" alt="Logging into the board via SSH over Ethernet"/></div><p>So now you<a id="id73" class="indexterm"/> can note<a id="id74" class="indexterm"/> down<a id="id75" class="indexterm"/> the IP that has been assigned to your BeagleBone board. It can be seen that it's <code class="literal">192.168.1.14</code> in the preceding screenshot for my beaglebone board. We will be using this IP address to connect to the BeagleBone board via SSH in the next step.</p></li><li class="listitem">Connect via SSH using IP Address.<div><img src="img/4602_01_32.jpg" alt="Logging into the board via SSH over Ethernet"/></div><p>Once <a id="id76" class="indexterm"/>you <a id="id77" class="indexterm"/>click <a id="id78" class="indexterm"/>on <strong>Open</strong> you might get a security prompt as shown in the following screenshot. Click on <strong>Yes</strong> and continue.</p><div><img src="img/4602_01_33.jpg" alt="Logging into the board via SSH over Ethernet"/></div><p>Now you will get the login prompt on the terminal screen as shown in the following screenshot:</p><div><img src="img/4602_01_34.jpg" alt="Logging into the board via SSH over Ethernet"/></div><p>If you <a id="id79" class="indexterm"/>got this far<a id="id80" class="indexterm"/> successfully, then it is time to log in to your BeagleBone board <a id="id81" class="indexterm"/>and start working on it via Linux Shell.</p></li><li class="listitem">Log in to BeagleBone board.<p>When you get the login prompt as shown in the preceding screenshot, you need to enter the default username which is <code class="literal">debian</code> and default password which is <code class="literal">temppwd</code>. Now you should have logged into Linux Shell of your BeagleBone board as user with username <code class="literal">debian</code>.</p><div><img src="img/4602_01_35.jpg" alt="Logging into the board via SSH over Ethernet"/></div></li></ol></div><p>Now that you<a id="id82" class="indexterm"/> have successfully<a id="id83" class="indexterm"/> logged into your BeagleBone board's Linux Shell, you can start working on it using Linux Shell commands like <a id="id84" class="indexterm"/>anyone does on any computer that is running Linux.</p><p>The next section will walk you through some basic Linux Shell commands that will come in handy for you to work with any Linux system.</p></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec16"/>Working on Linux Shell</h1></div></div></div><p>Simply put, the<a id="id85" class="indexterm"/> shell is a program that takes commands from the keyboard and gives them to the operating system to perform. Since we will be working on BeagleBone board as a development board to build electronics projects, plugging it to a Monitor, Keyboard, and Mouse every time to work on it like a computer might be unwanted most of the times and you might need more resources also which is unnecessary all the time. So we will be using the shell command-line interface to work on the BeagleBone boards. If you want to learn more about the <a id="id86" class="indexterm"/>Linux command-line interfaces, I would suggest you visit to <a class="ulink" href="http://linuxcommand.org/">http://linuxcommand.org/</a>.</p><p>Now let's go ahead and try some basic shell commands and do something on your BeagleBone board.</p><p>You can see the<a id="id87" class="indexterm"/> kernel version using the command <code class="literal">uname -r</code>. Just type the command and hit enter on your keyboard, the command will get executed and you will see the output as shown here:</p><div><img src="img/4602_01_36.jpg" alt="Working on Linux Shell"/></div><p>Next, let us check the <code class="literal">date</code> on your BeagleBone board:</p><div><img src="img/4602_01_37.jpg" alt="Working on Linux Shell"/></div><p>Like this shell will execute your commands and you can work on your BeagleBone boards via the shell.</p><p>Getting kernel version and date was just for a sample test. Now let's move ahead and start working with the filesystem.</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">ls</code>: This<a id="id88" class="indexterm"/> stands for list command. This command will list out and display the names of folders and files available in the current working directory on which you are working.<div><img src="img/4602_01_38.jpg" alt="Working on Linux Shell"/></div></li><li class="listitem" style="list-style-type: disc"><code class="literal">pwd</code>: This<a id="id89" class="indexterm"/> stands for print working directory command. This command prints the current working directory in which you are present.<div><img src="img/4602_01_39.jpg" alt="Working on Linux Shell"/></div></li><li class="listitem" style="list-style-type: disc"><code class="literal">mkdir</code>: This <a id="id90" class="indexterm"/>stands for make directory command. This command will create a directory in other words a folder, but you need to mention the name of the directory you want to create in the command <a id="id91" class="indexterm"/>followed by it.</li></ul></div><p>Say I want to create a folder with the name <code class="literal">WorkSpace</code>, I should enter the command as follows:</p><div><img src="img/4602_01_40.jpg" alt="Working on Linux Shell"/></div><p>When you execute this command, it will create a folder named <code class="literal">WorkSpace</code> inside the current working directory you are in, to check whether the directory was created. You can try the ls command again and see that the directory named <code class="literal">WorkSpace</code> has been created.</p><div><img src="img/4602_01_41.jpg" alt="Working on Linux Shell"/></div><p>To change the working<a id="id92" class="indexterm"/> directory and go inside the <code class="literal">WorkSpace</code> directory, you can use the next command that we will be seeing.</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">cd</code>: This <a id="id93" class="indexterm"/>stands for change directory command. This command will help you switch between directories depending on the path you provide along with this command.</li></ul></div><p>Now to switch and get inside the <code class="literal">WorkSpace</code> directory that you created, you can type the command as follows:</p><div><pre class="programlisting">
<strong>cd WorkSpace</strong>
</pre></div><p>You can note that whenever you type a command, it executes in the current working that you are in. So the execution of <code class="literal">cd WorkSpace</code> now will be equivalent to cd <code class="literal">/home/debian/WorkSpace</code> as your current working directory is <code class="literal">/home/debian</code>.</p><div><img src="img/4602_01_42.jpg" alt="Working on Linux Shell"/></div><p>Now you can see that you have got inside the <code class="literal">WorkSpace</code> folder, which is empty right now, so if you type the <code class="literal">ls</code> command now, it will just go to the next line on the shell terminal, it will not output anything as the folder is empty.</p><div><img src="img/4602_01_43.jpg" alt="Working on Linux Shell"/></div><p>Now if you execute the <code class="literal">pwd</code> command, you will see that your current working directory has changed.</p><div><img src="img/4602_01_44.jpg" alt="Working on Linux Shell"/></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">cat</code>: This <a id="id94" class="indexterm"/>stands for the cat command. This is one of the most basic commands that is used to read, write, and append data to files in shell.</li></ul></div><p>To create a text file and add some content to it, you just need to type the <code class="literal">cat</code> command <code class="literal">cat &gt; filename.txt</code>
</p><p>Say I want to create a sample.txt file, I would type the command as shown next:</p><div><img src="img/4602_01_45.jpg" alt="Working on Linux Shell"/></div><p>Once you type, the cursor will be waiting for the text you want to type inside the text file you created. Now you can type whatever text you want to type and when you are done press <em>Ctrl </em>+ <em>D</em>. It will save the file and get back to the command-line interface.</p><p>Say I typed <strong>This is a test</strong> and then pressed <em>Ctrl + D</em>. The shell will look as shown next.</p><div><img src="img/4602_01_46.jpg" alt="Working on Linux Shell"/></div><p>Now if you type <code class="literal">ls</code> command, you can see the text file inside the <code class="literal">WorkSpace</code> directory.</p><div><img src="img/4602_01_47.jpg" alt="Working on Linux Shell"/></div><p>If you want to read<a id="id95" class="indexterm"/> the contents of the <code class="literal">sample.txt</code> file, again you can use the <code class="literal">cat</code> command as follows:</p><div><img src="img/4602_01_48.jpg" alt="Working on Linux Shell"/></div><p>Alternatively, you can even use the <code class="literal">more</code> command which we will be using mostly:</p><div><img src="img/4602_01_50.jpg" alt="Working on Linux Shell"/></div><p>Now that we saw how we can create a file, let's see how to delete what we created.</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">rm</code>: This<a id="id96" class="indexterm"/> stands for remove command. This will let you delete any file by typing the filename or filename along with path followed by the command.</li></ul></div><p>Say now we want to delete the <code class="literal">sample.txt</code> file we created, the command can be either <code class="literal">rm sample.txt</code> which will be equivalent to <code class="literal">rm /home/debian/WorkSpace/sample.txt</code> as your current working directory is <code class="literal">/home/debian/Workspace</code>.</p><div><img src="img/4602_01_51.jpg" alt="Working on Linux Shell"/></div><p>After you execute this command, if you try to list the contents of the directory, you will notice that the file has been deleted and now the directory is empty.</p><div><img src="img/4602_01_52.jpg" alt="Working on Linux Shell"/></div><p>Like this, you can make use of the shell commands work on your BeagleBone board via SSH over Ethernet or Wi-Fi. We will be seeing how to connect your BeagleBone board to Wi-Fi in <a class="link" href="ch05.html" title="Chapter 5. Connecting Physical Computing Systems to the Internet">Chapter 5</a>, <em>Connecting Physical Computing Systems to the Internet</em> where you can setup your<a id="id97" class="indexterm"/> BeagleBone board to connect to your router via Wi-Fi instead of Ethernet to give wireless access to your BeagleBone board.</p><p>Now that you have got a clear idea and hands-on experience on using the Linux Shell, let's go ahead<a id="id98" class="indexterm"/> and start working with python and write a sample program on a text editor on Linux and test it in the next and last topic of this chapter.</p></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec17"/>Writing your own Python program on BeagleBone board</h1></div></div></div><p>In this section, we will write our first few Python codes on your BeagleBone board. That will take <a id="id99" class="indexterm"/>an input and make a <a id="id100" class="indexterm"/>decision based on the input and print out an output depending on the code that we write. There are three sample codes in this topic as examples, which will help you cover some fundamentals of any programming language, including defining variables, using arithmetic operators, taking input and printing output, loops and decision making algorithm.</p><p>Before we write and execute a python program, let us get into python's interactive shell interface via the Linux shell and try some basic things like creating a variable and performing math operations on those variables.</p><p>To open the python shell interface, you just have the type python on the Linux shell like you did for any Linux shell command in the previous section of this chapter.</p><p>Once you type <code class="literal">python</code> and hit <em>Enter</em>, you should be able to see the terminal as shown in the following screenshot:</p><div><img src="img/4602_01_53.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>Now you are into python's interactive shell interface where every line that you type is the code that you are <a id="id101" class="indexterm"/>writing and executing simultaneously in every step. To learn more about this, visit <a class="ulink" href="https://www.python.org/shell/">https://www.python.org/shell/</a> or to get started and learn python programming language you can get our <em>Python By Example</em> book in our publication.</p><p>Let's execute a series of syntax in python's interactive shell interface to see whether it's working.</p><p>Let's create a variable <code class="literal">A</code> and assign value <code class="literal">20</code> to it:</p><div><img src="img/4602_01_54.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>Now let's <code class="literal">print A</code> to check what value it is assigned:</p><div><img src="img/4602_01_55.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>You can see<a id="id102" class="indexterm"/> that it prints out the value that<a id="id103" class="indexterm"/> we stored on it.</p><p>Now let's create another variable named <code class="literal">B</code> and store value <code class="literal">30</code> to it:</p><div><img src="img/4602_01_56.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>Let's try adding these two variables and store the result in another variable named <code class="literal">C</code>. Then <code class="literal">print C</code> where you can see the result of <em>A+B</em>, that is, <code class="literal">50</code>.</p><div><img src="img/4602_01_57.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>That is the very basic calculation we performed on a programming interface. We created two variables with different values and then performed an arithmetic operation of adding two values on those variables and printed out the result.</p><p>Now, let's get a little more ahead and store string of characters in a variable and print them.</p><div><img src="img/4602_01_58.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>Wasn't that simple. Like this you can play around with python's interactive shell interface to learn coding. But any programmer would like to write a code and execute the program to get the output on a single command right.</p><p>Let's see how<a id="id104" class="indexterm"/> that can be done<a id="id105" class="indexterm"/> now.</p><p>To get out of the Python's Interactive Shell and get back to the current working directory on Linux Shell, just hold the <em>Ctrl</em> button and press <em>D</em>, that is, <em>Ctrl</em> + <em>D</em> on the keyboard. You will be back on the Linux Shell interface as shown next:</p><div><img src="img/4602_01_60.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>Now let's go ahead and write the program to perform the same action that we tried executing on python's interactive shell. That is to store two values on different variables and print out the result when both of them are added. Let's add some spice to it by doing multiple arithmetic operations on the variables that we create and print out the values of addition and subtraction.</p><p>You will need a text editor to write programs and save them. You can do it using the <code class="literal">cat</code> command also. But in future when you use indentation and more editing on the programs, the basic cat command usage will be difficult. So, let's start using the available text editor on Linux named nano, which is one of my favorite text editors in Linux. If you have a different choice and you are familiar with other text editors on Linux, such as vi or anything else, you can go ahead and continue the next steps using them to write programs.</p><p>To create a python file and start writing the code on it using nano, you need to use the nano command followed by the filename with extension <code class="literal">.py</code>.</p><p>Let's create a file named <code class="literal">ArithmeticOperations.py</code>.</p><div><img src="img/4602_01_61.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>Once you<a id="id106" class="indexterm"/> type this command, the<a id="id107" class="indexterm"/> text editor will open up.</p><div><img src="img/4602_01_62.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>Here you can type your code and save it using the keyboard command <em>Ctrl</em> + <em>X</em>.</p><p>Let's go ahead and write the code which is shown in the following screenshot and let's save the file using <em>Ctrl</em> + <em>X</em>:</p><div><img src="img/4602_01_63.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>Then type <em>Y</em> when it prompts to save the modified file.</p><div><img src="img/4602_01_64.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>Then if you <a id="id108" class="indexterm"/>want to change the file <a id="id109" class="indexterm"/>with a different name, you can change it in the next step before you save it. Since we created the file now only, we don't need to do it. In case if you want to save the modified copy of the file in future with a different name, you can change the filename in this step:</p><div><img src="img/4602_01_65.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>For now we will just hit <em>Enter</em> that will take us back to the Linux Shell and the file <code class="literal">AritmeticOperations.py</code> will be created inside the current working directory, which you can see by typing the <code class="literal">ls</code> command. You can also see the contents of the file by typing the <code class="literal">more</code> command that we learned in the previous section of this chapter.</p><div><img src="img/4602_01_66.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>Now let's execute the python script and see the output. To do this, you just have to type the command python followed by the python program file that we created, that is, the <code class="literal">ArithmeticOperations.py</code>.</p><div><img src="img/4602_01_67.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>Once you <a id="id110" class="indexterm"/>run the python code that you <a id="id111" class="indexterm"/>wrote, you will see the output as shown earlier with the results as output.</p><p>Now that you have written and executed your first code on python and tested it working on your BeagleBone board, let's write another python code, which is shown in the following screenshot where the code will ask you to enter an input and whatever text you type as input will be printed on the next line and the program will run continuously. </p><p>Let's save this python code as <code class="literal">InputPrinter.py</code>:</p><div><img src="img/4602_01_68.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>In this code, we will use a while loop so that the program runs continuously until you break it using the <em>Ctrl</em> + <em>D</em> command where it will break the program with an error and get back to Linux Shell.</p><div><img src="img/4602_01_69.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>Now let's try out our third and last program of this section and chapter, where when we run the code, the program asks the user to type the user's name as input and if they type a specific name that we compare, it prints and says <strong>Hello</strong> message or if a different name was given <a id="id112" class="indexterm"/>as input, it prints <strong>Go Away</strong>; let's call this code <code class="literal">Say_Hello_To_Boss.py</code>.</p><div><img src="img/4602_01_70.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>Instead of my name <strong>Jayakarthigeyan</strong>, you can replace it with your name or any string of characters on comparing which, the output decision varies.</p><p>When you execute the code, the output will look as shown in the following screenshot:</p><div><img src="img/4602_01_71.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>Like we did in the previous program, you can hit <em>Ctrl</em> + <em>D</em> to stop the program and get back to Linux Shell.</p><p>In this way, you can work with python programming language to create codes that can run on the BeagleBone boards in the way you desire.</p><p>Since we have come to the end of this chapter, let's give a break to our BeagleBone board.</p><p>Let's power off our BeagleBone board using the command <code class="literal">sudo poweroff</code>, which will shut down the operating system.</p><div><img src="img/4602_01_72.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>After you<a id="id113" class="indexterm"/> execute this command, if you<a id="id114" class="indexterm"/> get the error message shown in the following screenshot, it means the BeagleBoard has powered off.</p><div><img src="img/4602_01_73.jpg" alt="Writing your own Python program on BeagleBone board"/></div><p>You can turn off the power supply that was connected to your BeagleBone board now.</p></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec18"/>Summary</h1></div></div></div><p>So here we are at the end of this chapter. In this chapter, you have learned how to boot your BeagleBone board from a different operating system on microSD card and then log in to it and start coding in Python to run a routine and make decisions. Using this knowledge, we will see how to make an LED blink which is connected to any GPIO pin on the GPIO headers of the BeagleBone board and how to read the switch button status using python code in the next few chapters. But before that, we will look at fundamentals of Basic Electronics in the next chapter.</p><p>On an extra note, you can take this chapter to another level by trying out a little more by connecting your BeagleBone board to an HDMI monitor using a microHDMI cable and connecting a USB Keyboard and Mouse to the USB Host of the BeagleBone board and power the monitor and BeagleBone board using external power supply and boot it from microSD Card and you should be able to see some GUI and you will be able to use the BeagleBone board like a normal Linux computer. You will be able access the files, manage them, and use Shell Terminal on the GUI also. If you own BeagleBone Black or BeagleBone Green, you can try out to flash the onboard eMMC using the latest Debian operating system and try out the same thing that we did using the operating system booted from microSD card.</p></div></body></html>