<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch08"/>Chapter 8. pygame</h1></div></div></div><p>In the previous chapter, we got to use every skill we learned in the book to create a simple, two-player guessing game. In this chapter, you will learn about pygame modules and how they work to make game creation possible using Python.</p><div><div><div><div><h1 class="title"><a id="ch08lvl1sec59"/>What is pygame?</h1></div></div></div><p>As<a id="id254" class="indexterm"/> stated on the most current pygame website, <a class="ulink" href="http://www.pygame.org/hifi.html">http://www.pygame.org/hifi.html</a>, <em>pygame is a set of Python modules designed for writing games</em>. <strong>pygame</strong>, like <a id="id255" class="indexterm"/>Python, is free and open source, meaning that it can be used for free and shared with others. The developers of pygame have made sure that it is compatible with several different graphics display engines, so this means that the games developed using pygame could be played in a variety of environments. Installing pygame is a careful process, and you may need the help of your parents or another adult since there are a few steps. We will discuss the installation for Windows, Mac, and Linux in the next section of the chapter.</p><p>pygame is quite popular, and the website is undergoing revisions at the time of writing this. Sometimes, you will see an older part of the site, while other times, you will see a new part of the site. New parts of the pygame website look like this:</p><div><img src="img/B04681_08_01.jpg" alt="What is pygame?"/></div><p>Meanwhile, older <a id="id256" class="indexterm"/>parts of the pygame website have a green background, as follows:</p><div><img src="img/B04681_08_02.jpg" alt="What is pygame?"/></div><p>You can always use the search bar on either part of the website to locate information that you need.</p><p>Once you've<a id="id257" class="indexterm"/> installed pygame, you will learn about the features of pygame that will be the most useful for our final project, in <a class="link" href="ch09.html" title="Chapter 9. Tiny Tennis">Chapter 9</a>, <em>Tiny Tennis</em>. Since this is our first game using visuals, we will not use all of the features offered by pygame in our first project. We will use most of the basic features that are required to make an interactive, two-player game. However, once you feel ready, you are encouraged to look at the pygame website (<a class="ulink" href="http://www.pygame.org/hifi.html">http://www.pygame.org/hifi.html</a>), the pygame documentation (available in your installation of pygame as well as on the website), and the more advanced <a id="id258" class="indexterm"/>pygame book published by Packt Publishing, <em>Instant Pygame for Python Game Development How-to</em>, <em>Ivan Idris</em>, to gain a better understanding of the more complex tools that pygame offers.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch08lvl1sec60"/>Installing pygame</h1></div></div></div><p>pygame is<a id="id259" class="indexterm"/> installed a little differently on each operating system. The next section of this chapter contains the instructions to install pygame on Windows, Mac, Linux, and Raspberry Pi systems. You can skip to the section that has instructions on how to install pygame on your operating system, and if you are not 100% sure of what you are doing, go ahead and get some help for this section. Remember that you will need an Internet connection to install pygame, and some parts of the installation may take time.</p><div><div><div><div><h2 class="title"><a id="ch08lvl2sec47"/>Installing pygame – Windows</h2></div></div></div><p>To<a id="id260" class="indexterm"/> install pygame on Windows, you will need to go to <a class="ulink" href="http://www.pygame.org/hifi.html">http://www.pygame.org/hifi.html</a>. If you do not know where the Windows version of pygame is, type <code class="literal">download</code> in the search bar and go to the <strong>Downloads</strong> page. You should see a screen with this information:</p><div><img src="img/B04681_08_03.jpg" alt="Installing pygame – Windows"/></div><p>At the<a id="id261" class="indexterm"/> bottom of that screenshot, you will find the instructions for most Windows computers. Follow these instructions:</p><div><ol class="orderedlist arabic"><li class="listitem">Visit the pygame website.</li><li class="listitem">Download this version of pygame: <code class="literal">pygame-1.9.2a0.win32-py2.7.msi</code>.</li><li class="listitem">Go to your <code class="literal">Downloads</code> folder.</li><li class="listitem">Double-click on the <code class="literal">pygame-1.9.2a0.win32-py2.7.msi</code> file.</li><li class="listitem">Choose <strong>Run</strong>:<div><img src="img/B04681_08_04.jpg" alt="Installing pygame – Windows"/></div></li><li class="listitem">Choose<a id="id262" class="indexterm"/> install Python from registry option:<div><img src="img/B04681_08_05.jpg" alt="Installing pygame – Windows"/></div></li><li class="listitem">Allow the installation to complete.</li></ol></div><p>Finally, everything should be in place. To test whether the installation worked, open your Python shell, and type this:</p><div><pre class="programlisting"><strong>import pygame</strong>
</pre></div><p>If you<a id="id263" class="indexterm"/> have no error message, then your installation worked! Congratulations! If it did not work, review your steps, and don't be afraid to ask for some help.</p></div><div><div><div><div><h2 class="title"><a id="ch08lvl2sec48"/>Installing pygame – Mac</h2></div></div></div><p>We need <a id="id264" class="indexterm"/>to do some preparatory steps to make pygame <a id="id265" class="indexterm"/>work before we actually install it on Mac. pygame requires a few dependencies or other programs to work on a Mac:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Xcode (free, available on the App Store)</li><li class="listitem" style="list-style-type: disc">XQuartz (free, open source)</li><li class="listitem" style="list-style-type: disc">Homebrew (free, open source)</li><li class="listitem" style="list-style-type: disc">An Internet connection</li></ul></div><p>You may also want to get an adult to help you with the installation, especially if you are not 100% comfortable with the terminal. There are some brief instructions on the pygame Mac Wiki, located <a id="id266" class="indexterm"/>at <a class="ulink" href="http://pygame.org/wiki/macintosh">http://pygame.org/wiki/macintosh</a>.</p><div><div><div><div><h3 class="title"><a id="ch08lvl3sec26"/>Installing Xcode</h3></div></div></div><p>To start, open <a id="id267" class="indexterm"/>your terminal. Go to the directory where you first installed Python (refer to <a class="link" href="ch01.html" title="Chapter 1. Welcome! Let's Get Started">Chapter 1</a>, <em>Welcome! Let's Get Started</em>, if you have forgotten how to get to your home directory). Once you are in your Python directory, you will install Xcode. Xcode is a developer tool that has a lot of power, far beyond what we will do in this book. If<a id="id268" class="indexterm"/> you are curious about Xcode, you can find the documentation at <a class="ulink" href="https://developer.apple.com/xcode/">https://developer.apple.com/xcode/</a>.</p><p>For now, we will install Xcode by typing this into the terminal/command prompt:</p><div><pre class="programlisting"><strong>xcode-select --install</strong>
</pre></div><p>If your computer already has Xcode installed, you will get an error message that says it is already installed. If not, then Xcode will begin installing. Once Xcode is installed, you can move on to the next step. Be patient, as Xcode takes some time to install. To test whether the install worked, try entering the install command again. You will see that it is already installed:</p><div><img src="img/B04681_08_06.jpg" alt="Installing Xcode"/></div></div><div><div><div><div><h3 class="title"><a id="ch08lvl3sec27"/>Installing Homebrew</h3></div></div></div><p>The next<a id="id269" class="indexterm"/> step is installing a package management system called <a id="id270" class="indexterm"/>Homebrew. This sounds complicated, but all it means is that you are going to be able to get cool stuff much more easily. Python has something called <code class="literal">pip</code>, and this installs Python packages. We are going to install another system called <code class="literal">homebrew</code>. Homebrew is used to manage many packages of different kinds, and it can also be used to troubleshoot.</p><p>Here is how to install homebrew using the <code class="literal">curl</code> command:</p><div><pre class="programlisting"><strong>ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install</strong>
</pre></div><p>The preceding code should be typed in one command. The text will wrap on its own if it needs more room in your terminal. Once you type that command, the <code class="literal">homebrew</code> installation will begin. Homebrew asks you questions and gives good installation suggestions along every step, so pay attention and it should work well. For more information, you can go to the homebrew website for instructions:</p><div><pre class="programlisting"><strong>brew.sh</strong>
</pre></div><div><div><div><div><h4 class="title"><a id="ch08lvl4sec05"/>Installing programs with homebrew</h4></div></div></div><p>Once <a id="id271" class="indexterm"/>homebrew is installed, you can use it to install the rest of the dependencies needed to install pygame. We need to have access to Mercurial and Git. Both of these are version control systems, so every time code is changed, they keep track:</p><div><pre class="programlisting"><strong>  brew install mercurial</strong>
<strong>  brew install git</strong>
<strong>  brew install sdl sdl_image sdl_mixer sdl_ttf portmidi</strong>
</pre></div><p>These packages will take a few minutes to install, and that's okay. Once they have completed installing, then you will finally be able to install pygame. The command to install pygame uses something called <code class="literal">sudo</code> at the beginning, and you will need to know your computer's administrative password to use it.</p><div><div><h3 class="title"><a id="tip08"/>Tip</h3><p>If you do not know the password to your computer, find a person who does.</p></div></div><div><pre class="programlisting"><strong>sudo pip3 install hg+ http://bitbucket.org/pygame/pygame</strong>
</pre></div><p>Once this is installed, you should be ready to use pygame. Before we go any further, let's test it out. Open a Python shell, and in the Python shell, type the following:</p><div><pre class="programlisting"><strong>import pygame</strong>
</pre></div><p>If you notice <code class="literal">import error: no module named pygame</code>, on your screen, then something has gone wrong with your installation. Check your installation, and don't be afraid to ask for some help if you need to. If nothing happens when you hit <em>Enter</em>, then the installation <a id="id272" class="indexterm"/>of pygame is correct!</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch08lvl2sec49"/>Installing pygame – Ubuntu Linux</h2></div></div></div><p>These<a id="id273" class="indexterm"/> installation instructions are for the newest version of Ubuntu Linux at the time of writing this, which is version 15.04. First, you will want to install the <code class="literal">pip</code> package manager, if it is not installed already:</p><div><pre class="programlisting"><strong>sudo apt-get install python-pip</strong>
</pre></div><p>You will notice that <code class="literal">sudo</code> is used again, and this means that you will need the administrative password for your computer. Next, we will use <code class="literal">apt-get</code> to install pygame:</p><div><pre class="programlisting"><strong>sudo apt-get install python-pygame</strong>
</pre></div><p>Now, to test and check whether pygame is installed correctly, you will open a Python shell and type this command:</p><div><pre class="programlisting"><strong>import pygame</strong>
</pre></div><p>If there is an error message, it means that something about your installation is not correct. Reread the installation instructions and try again. Don't be afraid to ask for help if you need to. If you have an empty line following the import pygame, it means that everything is working and you are ready to move on to the next section!</p></div><div><div><div><div><h2 class="title"><a id="ch08lvl2sec50"/>Installing pygame – Raspberry Pi</h2></div></div></div><p>If you <a id="id274" class="indexterm"/>are working with Raspberry Pi and using one of the operating systems for the Pi, you are all set! Python and pygame are preinstalled on these systems. You can learn the basic pygame functions and modules by reading the rest of this chapter.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch08lvl1sec61"/>pygame</h1></div></div></div><p>To test the <a id="id275" class="indexterm"/>pygame functions, open your text editor, create a file called <code class="literal">sample.py</code>, and save this file in your work folder. Once you have created this file, you are ready to start learning pygame. To use pygame, we will import the pygame module in the first line of our <code class="literal">sample.py</code> file:</p><div><pre class="programlisting"><strong>import pygame</strong>
</pre></div><div><div><div><div><h2 class="title"><a id="ch08lvl2sec51"/>Initializing pygame</h2></div></div></div><p>Next, we<a id="id276" class="indexterm"/> need to take a look at the methods that we need in order to start our instance of pygame. To start pygame, we need to initialize an instance of all the pygame modules. We do this by calling the <code class="literal">init()</code> function:</p><div><pre class="programlisting"><strong>pygame.init()</strong>
</pre></div><p>A pygame game loop is the same as the game loops that we used in previous projects. In this chapter, it will be a <code class="literal">while</code> loop that uses <code class="literal">while True</code> in order to indicate that the game loop should repeat itself over and over again until it is stopped:</p><div><img src="img/B04681_08_07.jpg" alt="Initializing pygame"/></div></div><div><div><div><div><h2 class="title"><a id="ch08lvl2sec52"/>Setting up the game screen – size</h2></div></div></div><p>Once <a id="id277" class="indexterm"/>we have pygame set up and initialized, we will want to know how to make a basic background screen. First, you will learn how to set the size of our screen. Then, you will learn to set the background color. pygame has modules to do both, as well as more advanced things, with the background.</p><p>For the tasks in this section, we will use the <code class="literal">pygame.display</code> and <code class="literal">pygame.Surface</code> modules. Our first task is to set the display size. For this task, we will create a <code class="literal">screen_width</code> and <code class="literal">screen_height</code> variable, and use the <code class="literal">pygame.display.set_mode()</code> function. Write these three lines of code under <code class="literal">pygame.init()</code>:</p><div><pre class="programlisting"><strong>  screen_width = 400</strong>
<strong>  screen_height = 600</strong>
<strong>  pygame.display.set_mode((screen_width, screen_height))</strong>
</pre></div><p>This is the most basic way to set a display and pygame will be able to choose the number of colors that are best for our system if we just use this basic setup.</p><div><div><h3 class="title"><a id="note19"/>Note</h3><p>Explore<a id="id278" class="indexterm"/> advanced background setting options at <a class="ulink" href="https://www.pygame.org/docs/ref/display.html#pygame.display.set_mode">https://www.pygame.org/docs/ref/display.html#pygame.display.set_mode</a>.</p></div></div><p>Compare your code with the code in the screenshot:</p><div><img src="img/B04681_08_08.jpg" alt="Setting up the game screen – size"/></div></div><div><div><div><div><h2 class="title"><a id="ch08lvl2sec53"/>Setting up the game screen – color</h2></div></div></div><p>First, we <a id="id279" class="indexterm"/>will create code so we can use colors throughout our game. In computer programming, colors are represented by numbers. Every color is made up of three numbers. Each number represents the saturation of red, green, and blue, in that order. You can use numbers between <code class="literal">0</code> and <code class="literal">255</code>. When all numbers are <code class="literal">0</code>, <code class="literal">game_screen</code> will be black. When all the choices are <code class="literal">255</code> <code class="literal">(255, 255, 255)</code>, <code class="literal">game_screen</code> will be white, <code class="literal">(255, 0, 0)</code> for red, <code class="literal">(0, 255, 0)</code> for green, and <code class="literal">(0, 0, 255)</code> for blue.</p><p>Rather than using numbers repeatedly in our code, we will make a global variable for each color and use the name of the color instead. Let's add a list of global variables to our code, starting from line five of our <code class="literal">sample.py</code> file:</p><div><pre class="programlisting"><strong>  black = (0, 0, 0)</strong>
<strong>  white = (255, 255, 255)</strong>
<strong>  red = (255, 0, 0)</strong>
<strong>  green = (0, 255, 0)</strong>
<strong>  blue = (0, 0, 255)</strong>
</pre></div><p>For our next task, we will set our game surface color. In order to set the color, we use the <code class="literal">fill()</code> function. There are a few ways in which we can set the color of the background. We will make the <code class="literal">game_screen = pygame.display.set_mode((screen_width, screen_height))</code> variable. Then, we will use the variable with the <code class="literal">fill()</code> function to set the screen color. Add the <code class="literal">game_screen</code> variable to the code in line 14 of the <code class="literal">sample.py</code> file:</p><div><pre class="programlisting"><strong>game_screen = pygame.display.set_mode((screen_width, screen_height))</strong>
</pre></div><p>Then, add the code to fill the screen color in line 15:</p><div><pre class="programlisting"><strong>game_screen.fill(black)</strong>
</pre></div><div><img src="img/B04681_08_09.jpg" alt="Setting up the game screen – color"/></div></div><div><div><div><div><h2 class="title"><a id="ch08lvl2sec54"/>Making stationary objects</h2></div></div></div><p>Now you will <a id="id280" class="indexterm"/>learn how to set stationary (still) items <a id="id281" class="indexterm"/>on the canvas. This is often called <em>drawing</em> the objects. To know where to put the objects, we need to know about grids and coordinates. If you have used grids such as an <em>x</em> axis and a <em>y</em> axis in math class, it will be helpful as we will use the same. We will use the <em>x</em> and <em>y</em> coordinates to set the location of each object on our grid.</p><p>In math class, the <code class="literal">(0,0)</code> coordinates are usually at the center of the grid. In pygame, the <code class="literal">(0,0)</code> coordinates are at the top-left hand corner of the screen. As you move from left to right along the <em>x</em> axis, the numbers become larger. So, for our screen that is <code class="literal">(400, 600)</code>, our <em>x</em> axis starts at <code class="literal">0</code> on the left and goes all the way up to <code class="literal">400</code>, which is our maximum screen width.</p><p>As you move from the top-left of the screen to the bottom-left of the screen along the <em>y</em> axis, the numbers increase. So, our <em>y</em> axis starts at <code class="literal">0</code> on the top, and as we go to the bottom of our screen, it goes to <code class="literal">600</code>, which is our maximum screen height.</p><div><img src="img/B04681_08_10.jpg" alt="Making stationary objects"/></div><p>We need <a id="id282" class="indexterm"/>to know this to understand where objects will <a id="id283" class="indexterm"/>go when we draw them on the screen. In order to draw a circle in the center of the screen, for example, the center of the circle would need to fall at <code class="literal">(200, 300)</code>. The code to draw this circle would be as follows:</p><div><pre class="programlisting"><strong>pygame.draw.circle(Surface, color, pos, radius)</strong>
</pre></div><p>You can see that there are many arguments that we need to define; let's have a look at each:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">Surface</code> would be <code class="literal">game_screen</code>, which identifies where to draw the circle.</li><li class="listitem" style="list-style-type: disc">For <code class="literal">color</code>, we can use one of the global variables that we made for each color. In this case, we can use green.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">pos</code> argument means the position where the center of the circle will be located. Since it is (<em>x</em>, <em>y</em>), it will be two numbers in parentheses.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">radius</code> argument tells the computer the distance between the center and the edge of the circle and it is used to determine the size.</li></ul></div><p>Now that you know what each argument does, let's add a circle in line 18 of the <code class="literal">sample.py</code> file:</p><div><pre class="programlisting"><strong>pygame.draw.circle(game_screen, red, (250, 300), 20)</strong>
</pre></div><p>So, our preceding code will draw a red circle in the center of the main screen, which is 40 pixels wide (20 pixels from the center of the circle to the outside), with a border, which is 2 pixels wide. Then, the screen will update to show the circle.</p><p>We can <a id="id284" class="indexterm"/>draw a great number of shapes and objects using <a id="id285" class="indexterm"/>pygame, which is very suitable for making games of all kinds. We can draw rectangles, polygons, circles, and ellipses, as well as line segments of varying thicknesses and colors. The following is a screenshot of a simple circle drawn from the code we wrote. You will be able to run it as soon as we write the <code class="literal">while</code> loop:</p><div><img src="img/B04681_08_11.jpg" alt="Making stationary objects"/></div><div><div><div><div><h3 class="title"><a id="ch08lvl3sec28"/>while loop – viewing the screen</h3></div></div></div><p>It would be <a id="id286" class="indexterm"/>great if we could see the shapes that we are drawing, so let's add some code that allows us to view our screen. We will make a <code class="literal">while</code> loop, and place all of the actions, such as drawing and making the screen, inside of the <code class="literal">while</code> loop. First, take a look at the screenshot of the <code class="literal">while</code> loop so that you can see what the finished product looks like:</p><div><img src="img/B04681_08_12.jpg" alt="while loop – viewing the screen"/></div><p>You will notice that we have created a <code class="literal">while True</code> loop in line 17. This uses the <code class="literal">True</code> Boolean to keep all of the actions going while the loop is running. Add the <code class="literal">while</code> loop to line 17 of the <code class="literal">sample.py</code> file:</p><div><pre class="programlisting"><strong>while True:</strong>
</pre></div><p>Beneath the <code class="literal">while</code> loop, you have already written the code to draw the circle. Indent it four spaces. On line 19, we will add the <code class="literal">pygame.display.update()</code> function:</p><div><pre class="programlisting"><strong>pygame.display.update()</strong>
</pre></div><p>Now that the <code class="literal">while</code> loop is written, you should be able to run your code and see your first visual screen! To test your code, open your terminal/command prompt, and then run your code with the following command:</p><div><pre class="programlisting"><strong>python sample.py</strong>
</pre></div></div><div><div><div><div><h3 class="title"><a id="ch08lvl3sec29"/>Making more shapes</h3></div></div></div><p>Now that<a id="id287" class="indexterm"/> you know how to draw a circle, you are prepared to make other shapes. We will review the code for some basic shapes. You can add the code for different shapes to your <code class="literal">while loop</code> and make some great Python art to share with others.</p><div><div><div><div><h4 class="title"><a id="ch08lvl4sec06"/>Rectangle</h4></div></div></div><p>To draw a<a id="id288" class="indexterm"/> rectangle, the basic function is <code class="literal">pygame.draw.rect(Surface, color (x, y, width, height))</code>. The <code class="literal">Surface</code> argument is <code class="literal">game_screen</code>; the color can be set to anything you like. The <em>x</em> and <em>y</em> variables will determine the placement of the top-left corner of the rectangle. The width and height determine the size of the rectangle in pixels. To add a rectangle to your code, copy this line into your <code class="literal">sample.py</code> file on line 18:</p><div><pre class="programlisting"><strong>pygame.draw.rect(game_screen, blue, (20, 20, 50, 80))</strong>
</pre></div><p>Place the<a id="id289" class="indexterm"/> code <em>before</em> the <code class="literal">pygame.display.update()</code> code. The <code class="literal">pygame.display.update()</code> function should be the last line of code in your file for this exercise.</p></div><div><div><div><div><h4 class="title"><a id="ch08lvl4sec07"/>Ellipse</h4></div></div></div><p>We can<a id="id290" class="indexterm"/> draw an ellipse by using the <code class="literal">pygame.draw.ellipse(Surface, color, (x, y, width, height))</code> function. You will notice that the <code class="literal">ellipse</code> function accepts the same arguments as the <code class="literal">rectangle</code> function, except the ellipse will draw a circle within the rectangle instead of filling up the whole rectangle. If you want to add an ellipse to your code, copy the following line into line 19:</p><div><pre class="programlisting"><strong>pygame.draw.ellipse(game_screen, white, (300, 200, 40, 80))</strong>
</pre></div><p>Save and try running your code to see the red circle, blue rectangle, and white ellipse in the black background:</p><div><pre class="programlisting"><strong>python sample.py</strong>
</pre></div><p>If you have written your code without error, you should expect to see something like this:</p><div><img src="img/B04681_08_13.jpg" alt="Ellipse"/></div></div></div><div><div><div><div><h3 class="title"><a id="ch08lvl3sec30"/>Experimenting with shapes</h3></div></div></div><p>Now that<a id="id291" class="indexterm"/> you know how to make a circle, rectangle, and ellipse, you can start experimenting with each of the arguments. Changing the radius, width, or height of a shape will change the size. Changing the <em>x</em> axis, <em>y</em> axis, or both will change the location of the shape on the screen. Here are some experiments to try:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Change the radius of the circle</li><li class="listitem" style="list-style-type: disc">Change the <em>x</em> and <em>y</em> coordinates of each shape</li><li class="listitem" style="list-style-type: disc">Change the width and height of the rectangle and ellipse</li><li class="listitem" style="list-style-type: disc">Change the color of each shape</li></ul></div></div><div><div><div><div><h3 class="title"><a id="ch08lvl3sec31"/>More advanced shapes</h3></div></div></div><p>There<a id="id292" class="indexterm"/> are some more advanced shapes that you can create with pygame, including polygons with as many sides as you like. You can explore the different functions in the <code class="literal">pygame.draw</code> module by visiting the pygame docs.</p><div><div><h3 class="title"><a id="note20"/>Note</h3><p>To know <a id="id293" class="indexterm"/>more about shapes in pygame, visit <a class="ulink" href="https://www.pygame.org/docs/ref/draw.html">https://www.pygame.org/docs/ref/draw.html</a>.</p></div></div></div></div><div><div><div><div><h2 class="title"><a id="ch08lvl2sec55"/>Making moving objects</h2></div></div></div><p>Now, video<a id="id294" class="indexterm"/> games worth playing have moving objects. Moving objects have a lot more problems to solve than stationary objects. Here are some questions to ask about moving objects:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Where do you want the object to originate on the screen?</li><li class="listitem" style="list-style-type: disc">How does the object <em>move</em>?</li><li class="listitem" style="list-style-type: disc">How does the object know how fast to move?</li><li class="listitem" style="list-style-type: disc">How does the object respond when it hits another object (collides)?</li><li class="listitem" style="list-style-type: disc">How does the object respond when it hits the edge of the screen?</li><li class="listitem" style="list-style-type: disc">How does the object know when to stop moving?</li></ul></div><p>We create a moving object the same way that we create a stationary one—draw it on the screen.</p><div><div><div><div><h3 class="title"><a id="ch08lvl3sec32"/>Moving objects with the keyboard</h3></div></div></div><p>Let's<a id="id295" class="indexterm"/> suppose that we want to move our red circle around the screen. Something we need to consider is that the objects do not actually move. Rather, the objects appear to move. This is how you get an object to move:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Draw an object</li><li class="listitem" style="list-style-type: disc">Get the user's input from pressed keys</li><li class="listitem" style="list-style-type: disc">Redraw the object based on user actions using <code class="literal">pygame.display.update()</code></li></ul></div><p>The <code class="literal">pygame.key</code> module contains methods to work with the keyboard. During the game loop, we need to know whether the user is pressing a key to move the blue rectangle. To figure out whether the user is pressing a key to move the rectangle, we would use this line of code, for example:</p><div><pre class="programlisting"><strong>pygame.key.get_pressed()</strong>
</pre></div><p>Now, if we want to control how the computer takes the input when a user presses a key, we can use this line of code:</p><div><pre class="programlisting"><strong>pygame.key.set_repeat()</strong>
</pre></div><p>This line tells the computer what to do when someone holds the key or presses it repeatedly, which happens a lot in games. We would use these key functions to set up some if/else logic about how our blue rectangles move when certain keys are pressed. You will see this logic in the next chapter.</p><p>Now, there<a id="id296" class="indexterm"/> are a lot of keys on the keyboard. Before <a id="id297" class="indexterm"/>going on to the next chapter, it is a good idea to review the documentation for pygame and learn how to select your keys. For example, if you want to use the down arrow key, you would use <code class="literal">[pygame.K_DOWN]</code> to identify that key, and then use other code to take a look at what happens if the down key is being pressed.</p><div><div><h3 class="title"><a id="note21"/>Note</h3><p>The <a id="id298" class="indexterm"/>documentation for keys can be found at</p><p><a class="ulink" href="https://www.pygame.org/docs/ref/key.html">https://www.pygame.org/docs/ref/key.html</a>.</p></div></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch08lvl1sec62"/>A quick task for you</h1></div></div></div><p>Q1. How do you start pygame?</p><div><ol class="orderedlist arabic"><li class="listitem"><code class="literal">pygame.display.set_mode()</code></li><li class="listitem"><code class="literal">pygame.init()</code></li><li class="listitem"><code class="literal">pygame.exit()</code></li><li class="listitem"><code class="literal">pygame.quit</code></li></ol></div><p>Q2. How do objects move in pygame?</p><div><ol class="orderedlist arabic"><li class="listitem">Objects move using speed</li><li class="listitem">Objects move using gravity</li><li class="listitem">Objects move using collision detection</li><li class="listitem">Objects only appear to move, but they are actually constantly redrawn.</li></ol></div><p>Q3. How is an object redrawn using pygame?</p><div><ol class="orderedlist arabic"><li class="listitem"><code class="literal">pygame.rerender()</code></li><li class="listitem"><code class="literal">pygame.display.object()</code></li><li class="listitem"><code class="literal">pygame.display.update()</code></li><li class="listitem"><code class="literal">pygame.rect()</code></li></ol></div><p>Q4. What is the shorthand used to identify keys in pygame?</p><div><ol class="orderedlist arabic"><li class="listitem">pygame.K_keyname</li><li class="listitem">pygame.keyname</li><li class="listitem">pygame.keys.K.name</li><li class="listitem">pygame.key</li></ol></div></div>
<div><div><div><div><h1 class="title"><a id="ch08lvl1sec63"/>Summary</h1></div></div></div><p>In this chapter, you learned about the aspects of pygame that are needed to make an interactive game. You started with finding and installing the software on your operating system. Then, you learned to import and initialize pygame to interact with the computer. You set the characteristics of your game screen, including size and color. You added stationary objects to the game screen and learned some ways to make changes to these objects. You got an explanation of code for moving objects, which we will create in our final game.</p><p>In our next chapter, we will build a full-fledged game using all the skills that we have built throughout this book. It is recommended that you through the book again, and repeat any exercises that you do not fully understand. It is highly recommended that you visit the pygame documentation as well and read as much as you are able to understand. There are descriptions and examples of the methods used in this chapter that will help you in the next chapter. Are you ready to put everything together? Let's proceed to <a class="link" href="ch09.html" title="Chapter 9. Tiny Tennis">Chapter 9</a>, <em>Tiny Tennis</em>.</p></div></body></html>