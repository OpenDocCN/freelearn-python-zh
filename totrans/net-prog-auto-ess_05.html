<html><head></head><body>
<div id="_idContainer048">
<h1 class="chapter-number" id="_idParaDest-126"><a id="_idTextAnchor127"/><span class="koboSpan" id="kobo.1.1">5</span></h1>
<h1 id="_idParaDest-127"><a id="_idTextAnchor128"/><span class="koboSpan" id="kobo.2.1">Dos and Don’ts for Network Programming</span></h1>
<p><span class="koboSpan" id="kobo.3.1">Writing code for networks is exciting because when it fails, it is challenging, and when it works, it is rewarding. </span><span class="koboSpan" id="kobo.3.2">If you are an experienced programmer, you will have an easier ride, but if you are a newbie, it will be stormy. </span><span class="koboSpan" id="kobo.3.3">Let’s dive into some coding practices that will help you get through these storms easier.</span></p>
<p><span class="koboSpan" id="kobo.4.1">We are going to focus on this chapter on coding aspects for Python and Go related to network programming. </span><span class="koboSpan" id="kobo.4.2">The subject covered here would be also good for any type of programming; however, we are going to focus on programming for networks, and these are the topics we will cover:</span></p>
<ul>
<li><span class="koboSpan" id="kobo.5.1">Coding topics</span></li>
<li><span class="koboSpan" id="kobo.6.1">Applying best practices in coding</span></li>
<li><span class="koboSpan" id="kobo.7.1">Coding formatters</span></li>
<li><span class="koboSpan" id="kobo.8.1">Versioning and concurrent development</span></li>
<li><span class="koboSpan" id="kobo.9.1">Testing your code</span></li>
</ul>
<p><span class="koboSpan" id="kobo.10.1">At the end of this chapter, you should be familiar with coding terms used by the community and which of them matter most. </span><span class="koboSpan" id="kobo.10.2">You will be able to understand coding best practices and how to become a better network code developer. </span><span class="koboSpan" id="kobo.10.3">If you are an experienced coder, it will be a good refresh. </span><span class="koboSpan" id="kobo.10.4">If you are new, this chapter will be your mantra when writing code.</span></p>
<h1 id="_idParaDest-128"><a id="_idTextAnchor129"/><span class="koboSpan" id="kobo.11.1">Coding topics</span></h1>
<p><span class="koboSpan" id="kobo.12.1">Writing </span><a id="_idIndexMarker522"/><span class="koboSpan" id="kobo.13.1">code used to be very simple and straightforward; it only required the ability to understand a program’s workflow, its performance, and its algorithms. </span><span class="koboSpan" id="kobo.13.2">But today, the story is a bit different. </span><span class="koboSpan" id="kobo.13.3">Coding now has a culture that has evolved in the last few decades. </span><span class="koboSpan" id="kobo.13.4">What matters most is the code’s reusability and, therefore, its style. </span><span class="koboSpan" id="kobo.13.5">To be reusable, code has to be easy to understand and should have few or no bugs or security issues.</span></p>
<p><span class="koboSpan" id="kobo.14.1">If you are new to coding, or network coding, it is important to know all the topics used in coding culture today. </span><span class="koboSpan" id="kobo.14.2">Let’s discuss briefly the most important ones in this section.</span></p>
<h2 id="_idParaDest-129"><a id="_idTextAnchor130"/><span class="koboSpan" id="kobo.15.1">Peer review</span></h2>
<p><span class="koboSpan" id="kobo.16.1">It’s not recommended to write code and publish</span><a id="_idIndexMarker523"/><span class="koboSpan" id="kobo.17.1"> without a </span><strong class="bold"><span class="koboSpan" id="kobo.18.1">peer review</span></strong><span class="koboSpan" id="kobo.19.1">. </span><span class="koboSpan" id="kobo.19.2">Peer review</span><a id="_idIndexMarker524"/><span class="koboSpan" id="kobo.20.1"> allows the coder to be consistent with the team and avoid undesirable mistakes. </span><span class="koboSpan" id="kobo.20.2">However, for most organizations, this process can be slow and sometimes expensive. </span><span class="koboSpan" id="kobo.20.3">One alternative is to use software robots that can perform most of the peer review that was once done by another software engineer.</span></p>
<p><span class="koboSpan" id="kobo.21.1">A peer review is a conscious and objective review done by another developer that has the objective of checking team standards, language standards, and community best practices, sharing knowledge, verifying code repetition and name convention, and aligning design with implementation, among others. </span><span class="koboSpan" id="kobo.21.2">As the list is long, the peer review process is not an easy and straightforward job; it sometimes takes longer to review the code than to write it.</span></p>
<h2 id="_idParaDest-130"><a id="_idTextAnchor131"/><span class="koboSpan" id="kobo.22.1">Life cycle</span></h2>
<p><span class="koboSpan" id="kobo.23.1">It is important to keep track of </span><a id="_idIndexMarker525"/><span class="koboSpan" id="kobo.24.1">your code by measuring and storing the date of creation, compilation (if any), and distribution. </span><span class="koboSpan" id="kobo.24.2">This is done by having some sort of life-cycle management. </span><span class="koboSpan" id="kobo.24.3">With a life cycle, it is possible to trigger actions to go back to the source code and verify whether the current recommendations are still valid on the source code, and also check whether there is any new security vulnerability. </span><span class="koboSpan" id="kobo.24.4">There are tools that do life-cycle management automatically to your code base and your applications; use them when possible.</span></p>
<h2 id="_idParaDest-131"><a id="_idTextAnchor132"/><span class="koboSpan" id="kobo.25.1">Refactoring</span></h2>
<p><span class="koboSpan" id="kobo.26.1">In computer </span><a id="_idIndexMarker526"/><span class="koboSpan" id="kobo.27.1">programming, </span><strong class="bold"><span class="koboSpan" id="kobo.28.1">refactoring</span></strong><span class="koboSpan" id="kobo.29.1"> (or </span><strong class="bold"><span class="koboSpan" id="kobo.30.1">code refactoring</span></strong><span class="koboSpan" id="kobo.31.1">) is the term used to change </span><a id="_idIndexMarker527"/><span class="koboSpan" id="kobo.32.1">the code without changing its external behaviors in terms of output and input. </span><span class="koboSpan" id="kobo.32.2">Refactoring can be used to fix bugs, improve performance, remove security vulnerabilities, or comply with new code styling. </span><span class="koboSpan" id="kobo.32.3">The important thing here is that refactoring does not change the features of the code. </span><span class="koboSpan" id="kobo.32.4">In other words, the external behavior, inputs, and outputs are preserved.</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.33.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.34.1">Check more on </span><a id="_idIndexMarker528"/><span class="koboSpan" id="kobo.35.1">code refactoring on the site </span><a href="https://refactoring.guru/"><span class="koboSpan" id="kobo.36.1">https://refactoring.guru/</span></a><span class="koboSpan" id="kobo.37.1">.</span></p>
<h2 id="_idParaDest-132"><a id="_idTextAnchor133"/><span class="koboSpan" id="kobo.38.1">Copying code and licensing</span></h2>
<p><span class="koboSpan" id="kobo.39.1">The first thing you should do before publishing your code is to think about the </span><strong class="bold"><span class="koboSpan" id="kobo.40.1">copyright</span></strong><span class="koboSpan" id="kobo.41.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.42.1">code license</span></strong><span class="koboSpan" id="kobo.43.1">. </span><span class="koboSpan" id="kobo.43.2">Why? </span><span class="koboSpan" id="kobo.43.3">Because if your code is good, it will definitely be reusable by </span><a id="_idIndexMarker529"/><span class="koboSpan" id="kobo.44.1">someone </span><a id="_idIndexMarker530"/><span class="koboSpan" id="kobo.45.1">else or will be copied for other purposes, unless you strictly specify the rules of copying on the license document. </span><span class="koboSpan" id="kobo.45.2">In addition, if you are importing or using external libraries, you might be compromised by copyright issues.</span></p>
<p><span class="koboSpan" id="kobo.46.1">Therefore, it is important to create appropriate license documents and read the license documents of the code you are using or copying. </span><span class="koboSpan" id="kobo.46.2">The types of licenses that are attributed to software are listed here:</span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.47.1">Trade secret licenses</span></strong><span class="koboSpan" id="kobo.48.1">: No</span><a id="_idIndexMarker531"/><span class="koboSpan" id="kobo.49.1"> information made public; private internal usage; unpublished</span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.50.1">Proprietary licenses</span></strong><span class="koboSpan" id="kobo.51.1">: Have</span><a id="_idIndexMarker532"/><span class="koboSpan" id="kobo.52.1"> copyrights; no public licenses and no source code</span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.53.1">Noncommercial licenses</span></strong><span class="koboSpan" id="kobo.54.1">: Used</span><a id="_idIndexMarker533"/><span class="koboSpan" id="kobo.55.1"> for noncommercial use and no source code</span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.56.1">Copyleft licenses</span></strong><span class="koboSpan" id="kobo.57.1">: Grant </span><a id="_idIndexMarker534"/><span class="koboSpan" id="kobo.58.1">use rights; forbids relicensing and public source code</span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.59.1">Permissive licenses</span></strong><span class="koboSpan" id="kobo.60.1">: Grant</span><a id="_idIndexMarker535"/><span class="koboSpan" id="kobo.61.1"> use rights; allows relicensing and public source code</span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.62.1">Public domain licenses</span></strong><span class="koboSpan" id="kobo.63.1">: All</span><a id="_idIndexMarker536"/><span class="koboSpan" id="kobo.64.1"> possible grants</span></li>
</ul>
<p><span class="koboSpan" id="kobo.65.1">Why do we care about these types of licenses? </span><span class="koboSpan" id="kobo.65.2">Because you are not supposed to distribute or publish the software you are working on. </span><span class="koboSpan" id="kobo.65.3">You could receive legal penalties and fines for breaching the license agreement on the code you are creating locally at your company. </span><span class="koboSpan" id="kobo.65.4">Most of the time, you are probably going to reuse someone else’s library or code into a major piece of software. </span><span class="koboSpan" id="kobo.65.5">Before using an external library or code, the best way is to consult the legal department and check whether there are any licenses that are forbidden for use internally.</span></p>
<p><span class="koboSpan" id="kobo.66.1">Consequently, it is</span><a id="_idIndexMarker537"/><span class="koboSpan" id="kobo.67.1"> recommended when writing code to check the license disclaimer document provided. </span><span class="koboSpan" id="kobo.67.2">It is normally located in the root directory of the source code, in capital letters, with names such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.68.1">LICENSE</span></strong><span class="koboSpan" id="kobo.69.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.70.1">LICENSE.rst</span></strong><span class="koboSpan" id="kobo.71.1">, but sometimes </span><strong class="source-inline"><span class="koboSpan" id="kobo.72.1">COPYRIGHT</span></strong><span class="koboSpan" id="kobo.73.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.74.1">COPYING</span></strong><span class="koboSpan" id="kobo.75.1">, or something similar is used to express the copy grants.</span></p>
<p><span class="koboSpan" id="kobo.76.1">For open source, the code also can rely on rules defined by definitions created by other entities; to do that, you just need to read the </span><strong class="source-inline"><span class="koboSpan" id="kobo.77.1">LICENSE</span></strong><span class="koboSpan" id="kobo.78.1"> file and check which one is applied. </span><span class="koboSpan" id="kobo.78.2">One of the most used ones in open source code is</span><a id="_idIndexMarker538"/><span class="koboSpan" id="kobo.79.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.80.1">MIT License</span></strong><span class="koboSpan" id="kobo.81.1">.</span></p>
<p><span class="koboSpan" id="kobo.82.1">Before </span><a id="_idIndexMarker539"/><span class="koboSpan" id="kobo.83.1">using the open source library or copying it into your code, make sure the license does not present a risk to your organization. </span><span class="koboSpan" id="kobo.83.2">The open source code that presents</span><a id="_idIndexMarker540"/><span class="koboSpan" id="kobo.84.1"> the most risk when </span><a id="_idIndexMarker541"/><span class="koboSpan" id="kobo.85.1">reusing it in private</span><a id="_idIndexMarker542"/><span class="koboSpan" id="kobo.86.1"> organizations is </span><strong class="bold"><span class="koboSpan" id="kobo.87.1">GPL 2.0</span></strong><span class="koboSpan" id="kobo.88.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.89.1">GPL 3.0</span></strong><span class="koboSpan" id="kobo.90.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.91.1">GNU General Public License</span></strong><span class="koboSpan" id="kobo.92.1">). </span><span class="koboSpan" id="kobo.92.2">The</span><a id="_idIndexMarker543"/><span class="koboSpan" id="kobo.93.1"> low-risk </span><a id="_idIndexMarker544"/><span class="koboSpan" id="kobo.94.1">ones are </span><strong class="bold"><span class="koboSpan" id="kobo.95.1">MIT License</span></strong><span class="koboSpan" id="kobo.96.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.97.1">Apache License 2.0</span></strong><span class="koboSpan" id="kobo.98.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.99.1">BSD License 2.0</span></strong><span class="koboSpan" id="kobo.100.1">.</span></p>
<p><span class="koboSpan" id="kobo.101.1">The following table shows the top five most used licenses in projects at GitHub:</span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table001-2">
<colgroup>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="bold"><span class="koboSpan" id="kobo.102.1">Rank</span></strong></p>
</td>
<td class="No-Table-Style">
<p><strong class="bold"><span class="koboSpan" id="kobo.103.1">License</span></strong></p>
</td>
<td class="No-Table-Style">
<p><strong class="bold"><span class="koboSpan" id="kobo.104.1">% of projects</span></strong></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.105.1">1</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.106.1">MIT</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.107.1">44.69</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.108.1">2</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.109.1">Other</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.110.1">15.68</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.111.1">3</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.112.1">GLP 2.0</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.113.1">12.96</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.114.1">4</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.115.1">Apache</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.116.1">11.19</span></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.117.1">5</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.118.1">GLP 3.0</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.119.1">8.88</span></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.120.1">Table 5.1 – Rank of the most used licenses in GitHub projects</span></p>
<p><span class="koboSpan" id="kobo.121.1">The following screenshot shows the evolution of GitHub project licenses from 2008 to 2015. </span><span class="koboSpan" id="kobo.121.2">Note the </span><a id="_idIndexMarker545"/><span class="koboSpan" id="kobo.122.1">growth of </span><a id="_idIndexMarker546"/><span class="koboSpan" id="kobo.123.1">MIT licenses:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer045">
<span class="koboSpan" id="kobo.124.1"><img alt="Figure 5.1 – License usage in GitHub projects (source: github.blog)" src="image/B18165_05_001.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.125.1">Figure 5.1 – License usage in GitHub projects (source: github.blog)</span></p>
<p><span class="koboSpan" id="kobo.126.1">Now that you are familiar with the most popular code licenses, let’s progress with discussing code quality and perception.</span></p>
<h2 id="_idParaDest-133"><a id="_idTextAnchor134"/><span class="koboSpan" id="kobo.127.1">Code quality and perception</span></h2>
<p><strong class="bold"><span class="koboSpan" id="kobo.128.1">Code quality</span></strong><span class="koboSpan" id="kobo.129.1"> is a</span><a id="_idIndexMarker547"/><span class="koboSpan" id="kobo.130.1"> term normally heard among software engineers, but to be very clear, it is not an easy subject, and the definition of quality is normally subjective and prone to personal preferences.</span></p>
<p><span class="koboSpan" id="kobo.131.1">To avoid such an ambiguous definition, code quality should focus on team or company guidelines and standards. </span><span class="koboSpan" id="kobo.131.2">If the company that you have just started has loose or no code guidelines, the code </span><em class="italic"><span class="koboSpan" id="kobo.132.1">quality</span></em><span class="koboSpan" id="kobo.133.1"> probably relies on the senior engineer. </span><span class="koboSpan" id="kobo.133.2">But that must—and should—be avoided.</span></p>
<p><span class="koboSpan" id="kobo.134.1">Code quality should </span><a id="_idIndexMarker548"/><span class="koboSpan" id="kobo.135.1">be measured by using standards and code practices, not by a person. </span><span class="koboSpan" id="kobo.135.2">If there are no standards or code practices in your team, use this chapter to guide you while creating one.</span></p>
<p><span class="koboSpan" id="kobo.136.1">When defining the quality</span><a id="_idIndexMarker549"/><span class="koboSpan" id="kobo.137.1"> of the code, try to use measurable metrics that will allow software engineers to understand poor quality without taking it personally. </span><span class="koboSpan" id="kobo.137.2">Look for the following characteristics in the code:</span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.138.1">Reliability</span></strong><span class="koboSpan" id="kobo.139.1">: Measure how many times the code runs without failures</span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.140.1">Maintainability</span></strong><span class="koboSpan" id="kobo.141.1">: Measure how easily the code can be changed, including size, complexity, and structure</span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.142.1">Testability</span></strong><span class="koboSpan" id="kobo.143.1">: Measure how the code can be controlled, observed, and isolated to create automated testing such as unit tests (which will be discussed in the </span><em class="italic"><span class="koboSpan" id="kobo.144.1">Testing your code</span></em><span class="koboSpan" id="kobo.145.1"> section later in this chapter)</span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.146.1">Portability</span></strong><span class="koboSpan" id="kobo.147.1">: How easily the code can run in different environments</span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.148.1">Reusability</span></strong><span class="koboSpan" id="kobo.149.1">: Measure how the code can be reused by dependencies or by copying</span></li>
</ul>
<p><span class="koboSpan" id="kobo.150.1">When possible, use automated tools that can classify and format the code, which avoids personal subjective analysis.</span></p>
<h2 id="_idParaDest-134"><a id="_idTextAnchor135"/><span class="koboSpan" id="kobo.151.1">Architecture and modeling</span></h2>
<p><span class="koboSpan" id="kobo.152.1">Software architecture and design is a very long and wide topic. </span><span class="koboSpan" id="kobo.152.2">Depending on the size of your project, you might not need to do a design or architecture when working with network automation code. </span><span class="koboSpan" id="kobo.152.3">However, it is important to know they exist and can be used effectively to have a better code structure and better organization. </span></p>
<p><span class="koboSpan" id="kobo.153.1">I would suggest that the most important part of software architecture</span><a id="_idIndexMarker550"/><span class="koboSpan" id="kobo.154.1"> is the modeling, which helps a lot in the early stages to validate the structure and the organization of the code. </span><span class="koboSpan" id="kobo.154.2">Communication with a model is easy with customers and can be understood even if you are not a software developer.</span></p>
<p><span class="koboSpan" id="kobo.155.1">The </span><a id="_idIndexMarker551"/><span class="koboSpan" id="kobo.156.1">most popular used </span><a id="_idIndexMarker552"/><span class="koboSpan" id="kobo.157.1">models are </span><strong class="bold"><span class="koboSpan" id="kobo.158.1">Unified Modeling Language</span></strong><span class="koboSpan" id="kobo.159.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.160.1">UML</span></strong><span class="koboSpan" id="kobo.161.1">) as generic, </span><strong class="bold"><span class="koboSpan" id="kobo.162.1">Systems Modeling Language</span></strong><span class="koboSpan" id="kobo.163.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.164.1">SysML</span></strong><span class="koboSpan" id="kobo.165.1">), a subset of UML, </span><strong class="bold"><span class="koboSpan" id="kobo.166.1">Service-oriented architecture Modeling language</span></strong><span class="koboSpan" id="kobo.167.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.168.1">SoaML</span></strong><span class="koboSpan" id="kobo.169.1">), also </span><a id="_idIndexMarker553"/><span class="koboSpan" id="kobo.170.1">a subset of UML, and</span><a id="_idIndexMarker554"/><span class="koboSpan" id="kobo.171.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.172.1">C4 model</span></strong><span class="koboSpan" id="kobo.173.1">. </span><span class="koboSpan" id="kobo.173.2">It does not matter which one you will choose; using any model before you start coding will help you to get the code right.</span></p>
<p><span class="koboSpan" id="kobo.174.1">Let’s use the deployment pipeline described in </span><a href="B18165_04.xhtml#_idTextAnchor100"><em class="italic"><span class="koboSpan" id="kobo.175.1">Chapter 4</span></em></a><span class="koboSpan" id="kobo.176.1"> as an example to create a software </span><a id="_idIndexMarker555"/><span class="koboSpan" id="kobo.177.1">model of the solution. </span><em class="italic"><span class="koboSpan" id="kobo.178.1">Figure 5.2</span></em><span class="koboSpan" id="kobo.179.1"> illustrates how it would be a very simple model for the deployment pipeline:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer046">
<span class="koboSpan" id="kobo.180.1"><img alt="Figure 5.2 – Deployment pipeline software model example described in Chapter 4" src="image/B18165_05_002.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.181.1">Figure 5.2 – Deployment pipeline software model example described in </span><a href="B18165_04.xhtml#_idTextAnchor100"><span class="koboSpan" id="kobo.182.1">Chapter 4</span></a></p>
<p><span class="koboSpan" id="kobo.183.1">The preceding diagram illustrates, using arrows and boxes, how a developer would tackle the problem of constructing a deployment pipeline. </span><span class="koboSpan" id="kobo.183.2">The inputs are the router definition and templates, then a configuration render creates the configuration and stores it at the desired state. </span><span class="koboSpan" id="kobo.183.3">The syntax is checked, and then the running config is verified if it is equal to </span><strong class="source-inline"><span class="koboSpan" id="kobo.184.1">applied</span></strong><span class="koboSpan" id="kobo.185.1">. </span><span class="koboSpan" id="kobo.185.2">If not, it stops and waits for manual intervention; if it is okay, then launch a network simulation. </span><span class="koboSpan" id="kobo.185.3">Then, all tests are done. </span><span class="koboSpan" id="kobo.185.4">If the tests are passed, update the approved configs. </span><span class="koboSpan" id="kobo.185.5">The next step is to apply the configuration to the routers, and if it is </span><a id="_idIndexMarker556"/><span class="koboSpan" id="kobo.186.1">applied correctly, then update the </span><strong class="source-inline"><span class="koboSpan" id="kobo.187.1">applied</span></strong><span class="koboSpan" id="kobo.188.1"> configs.</span></p>
<p><span class="koboSpan" id="kobo.189.1">We have discussed in this section a few code culture topics that are used nowadays within the developing community. </span><span class="koboSpan" id="kobo.189.2">In the next section, we are going to dive into what the best practices are for writing code for Python and Go.</span></p>
<h1 id="_idParaDest-135"><a id="_idTextAnchor136"/><span class="koboSpan" id="kobo.190.1">Applying best practices in coding</span></h1>
<p><span class="koboSpan" id="kobo.191.1">Here are points that are not necessarily standards, but they are important when we are writing code for networks.</span></p>
<h2 id="_idParaDest-136"><a id="_idTextAnchor137"/><span class="koboSpan" id="kobo.192.1">Follow the standards</span></h2>
<p><span class="koboSpan" id="kobo.193.1">In the '90s, the internet was starting </span><a id="_idIndexMarker557"/><span class="koboSpan" id="kobo.194.1">to grow fast, and programmers started to become more present in the community. </span><span class="koboSpan" id="kobo.194.2">Shell scripting started to grow as a viable tool to help system engineers work with their servers. </span><span class="koboSpan" id="kobo.194.3">Then came </span><strong class="bold"><span class="koboSpan" id="kobo.195.1">Perl</span></strong><span class="koboSpan" id="kobo.196.1"> as a powerful scripting language to help as well. </span><span class="koboSpan" id="kobo.196.2">Other languages were </span><a id="_idIndexMarker558"/><span class="koboSpan" id="kobo.197.1">also mature, such as C, C++, and Java. </span><span class="koboSpan" id="kobo.197.2">But every developer wrote differently with their own style, which did not help code collaboration and made sharing code a disaster. </span><span class="koboSpan" id="kobo.197.3">When Python was created, the coding style problem already existed. </span><span class="koboSpan" id="kobo.197.4">Something had to be done to avoid confusion when sharing code.</span></p>
<p><span class="koboSpan" id="kobo.198.1">Let’s check now what the standards are for Python and Go languages.</span></p>
<h3><span class="koboSpan" id="kobo.199.1">Python standard style</span></h3>
<p><span class="koboSpan" id="kobo.200.1">Python</span><a id="_idIndexMarker559"/><span class="koboSpan" id="kobo.201.1"> can be written in so many different ways. </span><span class="koboSpan" id="kobo.201.2">If you are an old programmer, you would remember Perl, which was a scripting language like Python but without any particular style, which was a mess. </span><span class="koboSpan" id="kobo.201.3">There are documents that help programmers to write better code in Python. </span><span class="koboSpan" id="kobo.201.4">The documents are created by the Python community, and they are called </span><strong class="bold"><span class="koboSpan" id="kobo.202.1">PEPs</span></strong><span class="koboSpan" id="kobo.203.1">, which stands</span><a id="_idIndexMarker560"/><span class="koboSpan" id="kobo.204.1"> for </span><strong class="bold"><span class="koboSpan" id="kobo.205.1">Python Enhancement Proposals</span></strong><span class="koboSpan" id="kobo.206.1">.</span></p>
<p><span class="koboSpan" id="kobo.207.1">Initially, the PEP process was created to propose and discuss consensus on new features, but it is also used to document information. </span><span class="koboSpan" id="kobo.207.2">A PEP is similar to an internet </span><strong class="bold"><span class="koboSpan" id="kobo.208.1">Request For Comments</span></strong><span class="koboSpan" id="kobo.209.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.210.1">RFC</span></strong><span class="koboSpan" id="kobo.211.1">) for</span><a id="_idIndexMarker561"/><span class="koboSpan" id="kobo.212.1"> Python, and when describing new features, it has to contain a description of the feature in detail and a rationale for the creation of it.</span></p>
<p><span class="koboSpan" id="kobo.213.1">When proposing new features for Python, the writer is responsible for building consensus within the community, describing different options, collecting input from the community, and documenting it.</span></p>
<p><span class="koboSpan" id="kobo.214.1">Some PEPs are informational and are basically used to guide Python coding style. </span><span class="koboSpan" id="kobo.214.2">If you are planning to become a Python code developer, a PEP is like your daily journal to check and read. </span><span class="koboSpan" id="kobo.214.3">It is important to keep updated with the latest PEP and make sure your code follows the </span><a id="_idIndexMarker562"/><span class="koboSpan" id="kobo.215.1">recommendations.</span></p>
<p><span class="koboSpan" id="kobo.216.1">So far, there are a few useful PEPs to help the community with guidance and best practices on how to write code with Python. </span><span class="koboSpan" id="kobo.216.2">Let’s check the most important ones.</span></p>
<h4><span class="koboSpan" id="kobo.217.1">Writing code with the guidance of PEP-8</span></h4>
<p><em class="italic"><span class="koboSpan" id="kobo.218.1">PEP-8</span></em><span class="koboSpan" id="kobo.219.1"> is perhaps</span><a id="_idIndexMarker563"/><span class="koboSpan" id="kobo.220.1"> the most important PEP you have to read if you are new to Python because it describes in detail all styles and conventions when writing code in Python. </span><span class="koboSpan" id="kobo.220.2">Although the language does not force you to select a style when writing, using </span><em class="italic"><span class="koboSpan" id="kobo.221.1">PEP-8</span></em><span class="koboSpan" id="kobo.222.1"> (or </span><em class="italic"><span class="koboSpan" id="kobo.223.1">PEP8</span></em><span class="koboSpan" id="kobo.224.1">) will make your code easy to understand for anyone in the Python community.</span></p>
<p><span class="koboSpan" id="kobo.225.1">When you are new to Python, it might be difficult to remember what a part of the code you wrote weeks or a few days ago was supposed to do. </span><span class="koboSpan" id="kobo.225.2">However, if you follow </span><em class="italic"><span class="koboSpan" id="kobo.226.1">PEP-8</span></em><span class="koboSpan" id="kobo.227.1">, you can be sure that you have named your variables well, you have added enough whitespace, and you have commented your code well. </span><span class="koboSpan" id="kobo.227.2">Following these guidelines will make your code more readable for others and for you when coming back to read after a while. </span><span class="koboSpan" id="kobo.227.3">Beginners will also learn Python much faster and with ease when following </span><em class="italic"><span class="koboSpan" id="kobo.228.1">PEP-8</span></em><span class="koboSpan" id="kobo.229.1">.</span></p>
<p><span class="koboSpan" id="kobo.230.1">The </span><em class="italic"><span class="koboSpan" id="kobo.231.1">PEP-8</span></em><span class="koboSpan" id="kobo.232.1"> document is very clear; it shows a wrong code style and then a correct style with an explanation of why to use that style.</span></p>
<h3><span class="koboSpan" id="kobo.233.1">Go standard style</span></h3>
<p><span class="koboSpan" id="kobo.234.1">Before describing the standards in the </span><a id="_idIndexMarker564"/><span class="koboSpan" id="kobo.235.1">Go language, it is important to note that Go is also known as </span><strong class="bold"><span class="koboSpan" id="kobo.236.1">Golang</span></strong><span class="koboSpan" id="kobo.237.1"> because</span><a id="_idIndexMarker565"/><span class="koboSpan" id="kobo.238.1"> its former website was hosted on </span><strong class="source-inline"><span class="koboSpan" id="kobo.239.1">golang.org</span></strong><span class="koboSpan" id="kobo.240.1">. </span><span class="koboSpan" id="kobo.240.2">Now, the Go language is hosted on </span><strong class="source-inline"><span class="koboSpan" id="kobo.241.1">go.dev</span></strong><span class="koboSpan" id="kobo.242.1">.</span></p>
<p><span class="koboSpan" id="kobo.243.1">Go is quite different from Python in terms of code formatting and style. </span><span class="koboSpan" id="kobo.243.2">Go does not have PEP-like documents to point out how to write better code in Go. </span><span class="koboSpan" id="kobo.243.3">So, the style standard relies mostly on the internal formatting tool, called </span><strong class="source-inline"><span class="koboSpan" id="kobo.244.1">gofmt</span></strong><span class="koboSpan" id="kobo.245.1">, which is responsible for formatting the source code in a predictable way.</span></p>
<p><span class="koboSpan" id="kobo.246.1">Although the </span><strong class="source-inline"><span class="koboSpan" id="kobo.247.1">gofmt</span></strong><span class="koboSpan" id="kobo.248.1"> formatter can be skipped, it is highly recommended to use it as soon as you change something in your code and before publishing it. </span><span class="koboSpan" id="kobo.248.2">Some tools will run the formatter automatically before running or compiling your Go program. </span><span class="koboSpan" id="kobo.248.3">In addition to </span><strong class="source-inline"><span class="koboSpan" id="kobo.249.1">gofmt</span></strong><span class="koboSpan" id="kobo.250.1">, there are Go </span><strong class="bold"><span class="koboSpan" id="kobo.251.1">linters</span></strong><span class="koboSpan" id="kobo.252.1"> that</span><a id="_idIndexMarker566"/><span class="koboSpan" id="kobo.253.1"> can point out style errors or suspicious constructions; we are going to describe these in the </span><em class="italic"><span class="koboSpan" id="kobo.254.1">Coding formatters</span></em><span class="koboSpan" id="kobo.255.1"> section later in this chapter.</span></p>
<p><span class="koboSpan" id="kobo.256.1">Furthermore, the Go community has published several guidelines that help with writing better code. </span><span class="koboSpan" id="kobo.256.2">Here is a list of the best ones:</span></p>
<ul>
<li><a href="https://github.com/uber-go/guide/blob/master/style.md"><span class="koboSpan" id="kobo.257.1">https://github.com/uber-go/guide/blob/master/style.md</span></a></li>
<li><a href="https://github.com/dgryski/awesome-go-style"><span class="koboSpan" id="kobo.258.1">https://github.com/dgryski/awesome-go-style</span></a></li>
<li><a href="https://staticcheck.io/docs/checks/"><span class="koboSpan" id="kobo.259.1">https://staticcheck.io/docs/checks/</span></a></li>
</ul>
<h2 id="_idParaDest-137"><a id="_idTextAnchor138"/><span class="koboSpan" id="kobo.260.1">Mindful code writing</span></h2>
<p><span class="koboSpan" id="kobo.261.1">Most of the time, we are </span><a id="_idIndexMarker567"/><span class="koboSpan" id="kobo.262.1">going to be reading code instead of writing because the process of writing code drives you to read other parts of the code. </span><span class="koboSpan" id="kobo.262.2">So, you know where your code goes, how your code follows the existing design, and the behaviors the existing code has so that it doesn’t crash. </span><span class="koboSpan" id="kobo.262.3">The important point here is, even if you have no intention to share your code with anyone else, it will be probably forgotten by you in a few months, and if you might need to update it, you will have a hard time understanding what it does. </span><span class="koboSpan" id="kobo.262.4">So, write always thinking about someone reading it, even if this is just you. </span></p>
<p><span class="koboSpan" id="kobo.263.1">Therefore, the process of writing code must be much more mindful than the process of reading. </span><span class="koboSpan" id="kobo.263.2">When someone reads part of the code, it should not create any doubts; it should be straightforward and easy, and quick to comprehend.</span></p>
<h2 id="_idParaDest-138"><a id="_idTextAnchor139"/><span class="koboSpan" id="kobo.264.1">Making it extremely readable</span></h2>
<p><span class="koboSpan" id="kobo.265.1">When writing code, don’t save words or phrases. </span><span class="koboSpan" id="kobo.265.2">If you have the opportunity to choose a mistake when writing your code, choose the one that over-explains your code. </span><span class="koboSpan" id="kobo.265.3">Why? </span><span class="koboSpan" id="kobo.265.4">Because your code should be </span><a id="_idIndexMarker568"/><span class="koboSpan" id="kobo.266.1">understandable by anyone, and that includes you, in a few months or years. </span><span class="koboSpan" id="kobo.266.2">Therefore, make sure your code is easy to understand and easy to follow by someone new.</span></p>
<h2 id="_idParaDest-139"><a id="_idTextAnchor140"/><span class="koboSpan" id="kobo.267.1">Commenting your code</span></h2>
<p><span class="koboSpan" id="kobo.268.1">The code</span><a id="_idIndexMarker569"/><span class="koboSpan" id="kobo.269.1"> should be clear to understand; however, sometimes, it is necessary to comment on your code to help readers and reviewers understand your code. </span><span class="koboSpan" id="kobo.269.2">You should add comments throughout the code when you want to emphasize nuances in your code, describe details of some algorithms, or warn the reader about something odd. </span></p>
<h3><span class="koboSpan" id="kobo.270.1">Comment headers</span></h3>
<p><span class="koboSpan" id="kobo.271.1">Some text headers in comments</span><a id="_idIndexMarker570"/><span class="koboSpan" id="kobo.272.1"> are used to help the reader avoid spending time on code that should or might be changed. </span><span class="koboSpan" id="kobo.272.2">When you start coding with your team, check which terms are used for helping code readers and code reviewers. </span><span class="koboSpan" id="kobo.272.3">The comment headings listed here are not fixed and change between organizations and teams. </span><span class="koboSpan" id="kobo.272.4">Here are the most popular comment headers:</span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.273.1">TODO</span></strong><span class="koboSpan" id="kobo.274.1">: Perhaps the most common comment used</span><a id="_idIndexMarker571"/><span class="koboSpan" id="kobo.275.1"> is </span><strong class="source-inline"><span class="koboSpan" id="kobo.276.1">TODO</span></strong><span class="koboSpan" id="kobo.277.1">, which is used to designate part of the code that needs to be added or refactored. </span><span class="koboSpan" id="kobo.277.2">This comment helps the reviewer avoid spending time reviewing a chunk of code that needs to be modified.</span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.278.1">FIXME</span></strong><span class="koboSpan" id="kobo.279.1">: Some developers when writing code also </span><a id="_idIndexMarker572"/><span class="koboSpan" id="kobo.280.1">use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.281.1">FIXME</span></strong><span class="koboSpan" id="kobo.282.1"> comment heading, which designates the part of the code that is wrong, ugly, has performance issues, or is too complicated. </span><span class="koboSpan" id="kobo.282.2">Use </span><strong class="source-inline"><span class="koboSpan" id="kobo.283.1">FIXME</span></strong><span class="koboSpan" id="kobo.284.1"> when you know something is wrong and should be fixed soon.</span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.285.1">HACK</span></strong><span class="koboSpan" id="kobo.286.1">: This text heading is used to designate </span><a id="_idIndexMarker573"/><span class="koboSpan" id="kobo.287.1">part of the code that has a workaround to fix a bug or to help performance. </span><span class="koboSpan" id="kobo.287.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.288.1">HACK</span></strong><span class="koboSpan" id="kobo.289.1"> heading is also another important comment to show the reader a quick workaround to be fixed later, helping them understand why that part of the code is there.</span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.290.1">BUG</span></strong><span class="koboSpan" id="kobo.291.1">: This </span><a id="_idIndexMarker574"/><span class="koboSpan" id="kobo.292.1">heading is used to show a problem in the code, which must be fixed soon. </span><span class="koboSpan" id="kobo.292.2">The author has identified the problem and decided to comment on that part of the code as a bug. </span><span class="koboSpan" id="kobo.292.3">The code reviewer can then evaluate and decide whether they have to accept the code with the bug or ask for corrections. </span><span class="koboSpan" id="kobo.292.4">Again, these comments save the time of the reviewer as they do not need to evaluate that part of the code in depth. </span><span class="koboSpan" id="kobo.292.5">Use this whenever you see a problem in the code.</span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.293.1">NOTE</span></strong><span class="koboSpan" id="kobo.294.1">: This heading is for the author to communicate with the readers some notable gotchas or particular details to help readers understand the code faster. </span><span class="koboSpan" id="kobo.294.2">Use them wisely to help reviewers understand, as too </span><a id="_idIndexMarker575"/><span class="koboSpan" id="kobo.295.1">many </span><strong class="source-inline"><span class="koboSpan" id="kobo.296.1">NOTE</span></strong><span class="koboSpan" id="kobo.297.1"> headings can also be annoying and create a distraction.</span></li>
</ul>
<h3><span class="koboSpan" id="kobo.298.1">Docstring</span></h3>
<p><span class="koboSpan" id="kobo.299.1">A docstring</span><a id="_idIndexMarker576"/><span class="koboSpan" id="kobo.300.1"> refers to a comment string that is used in Python to describe a module, function, class, or method. </span><span class="koboSpan" id="kobo.300.2">Docstrings are particular to Python and are detailed in </span><em class="italic"><span class="koboSpan" id="kobo.301.1">PEP-257</span></em><span class="koboSpan" id="kobo.302.1">.</span></p>
<p><span class="koboSpan" id="kobo.303.1">Some </span><strong class="bold"><span class="koboSpan" id="kobo.304.1">integrated development environments</span></strong><span class="koboSpan" id="kobo.305.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.306.1">IDEs</span></strong><span class="koboSpan" id="kobo.307.1">) such as PyCharm and IntelliJ will automatically create a docstring for you as soon as you define a function.</span></p>
<p><span class="koboSpan" id="kobo.308.1">Here’s an example of a multiline docstring for a Python function:</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.309.1">
def router_connection(hostname, timeout):
    """Perform a connection to a router
    :param string hostname:
    :param int timeout:
    :return: True | False
    """
    print("Connecting to host", hostname)
    .
</span><span class="koboSpan" id="kobo.309.2">    .
</span><span class="koboSpan" id="kobo.309.3">    .
</span><span class="koboSpan" id="kobo.309.4">    return True</span></pre>
<p><span class="koboSpan" id="kobo.310.1">Note that the docstring is always initiated and ended with triple-double quotes (</span><strong class="source-inline"><span class="koboSpan" id="kobo.311.1">"""</span></strong><span class="koboSpan" id="kobo.312.1">). </span><span class="koboSpan" id="kobo.312.2">The preceding example is a suggestion and other styles are possible. </span><span class="koboSpan" id="kobo.312.3">To visualize all possible styles, read the docstring conventions in </span><em class="italic"><span class="koboSpan" id="kobo.313.1">PEP-257</span></em><span class="koboSpan" id="kobo.314.1">.</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.315.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.316.1">Docstring</span><a id="_idIndexMarker577"/><span class="koboSpan" id="kobo.317.1"> documentation can be found at </span><a href="https://peps.python.org/pep-0257/"><span class="koboSpan" id="kobo.318.1">https://peps.python.org/pep-0257/</span></a><span class="koboSpan" id="kobo.319.1">.</span></p>
<h3><span class="koboSpan" id="kobo.320.1">Godoc</span></h3>
<p><span class="koboSpan" id="kobo.321.1">In Go, there is g</span><strong class="source-inline"><span class="koboSpan" id="kobo.322.1">odoc</span></strong><span class="koboSpan" id="kobo.323.1">, which </span><a id="_idIndexMarker578"/><span class="koboSpan" id="kobo.324.1">is simpler than a docstring as it is not a language construct or machine-readable syntax; it is just string text comments. </span><span class="koboSpan" id="kobo.324.2">The convention is simple: to document a variable, function, package, or constant, just write comments directly before its declaration. </span><span class="koboSpan" id="kobo.324.3">Here is an example of the comments used for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.325.1">Asin</span></strong><span class="koboSpan" id="kobo.326.1"> function in the Go </span><strong class="source-inline"><span class="koboSpan" id="kobo.327.1">math</span></strong><span class="koboSpan" id="kobo.328.1"> package:</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.329.1">
// Asin returns the arcsine, in radians, of x.//
// Special cases are:
//
//    Asin(±0) = ±0
//    Asin(x) = NaN if x &lt; -1 or x &gt; 1
func Asin(x float64) float64 {
    if haveArchAsin {
        return archAsin(x)
    }
    return asin(x)
}</span></pre>
<p><span class="koboSpan" id="kobo.330.1">Note that in this example, the comments are placed before the </span><strong class="source-inline"><span class="koboSpan" id="kobo.331.1">Asin</span></strong><span class="koboSpan" id="kobo.332.1"> function, and they describe in detail what to expect with the function and its special cases. </span><span class="koboSpan" id="kobo.332.2">Comments are always text that starts with a double slash (</span><strong class="source-inline"><span class="koboSpan" id="kobo.333.1">//</span></strong><span class="koboSpan" id="kobo.334.1">).</span></p>
<p><span class="koboSpan" id="kobo.335.1">The preceding example was taken from the Go source code at </span><a href="https://github.com/golang/go/blob/master/src/math/asin.go#L14-L25"><span class="koboSpan" id="kobo.336.1">https://github.com/golang/go/blob/master/src/math/asin.go#L14-L25</span></a><span class="koboSpan" id="kobo.337.1">.</span></p>
<p><span class="koboSpan" id="kobo.338.1">After commenting your code in Go, add explanations on functions such as in the preceding example. </span><span class="koboSpan" id="kobo.338.2">Developers can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.339.1">godoc</span></strong><span class="koboSpan" id="kobo.340.1"> tool, which extracts text and generates documentation in HTML or TXT format.</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.341.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.342.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.343.1">godoc</span></strong><span class="koboSpan" id="kobo.344.1"> documentation is</span><a id="_idIndexMarker579"/><span class="koboSpan" id="kobo.345.1"> available at </span><a href="https://pkg.go.dev/golang.org/x/tools/cmd/godoc"><span class="koboSpan" id="kobo.346.1">https://pkg.go.dev/golang.org/x/tools/cmd/godoc</span></a><span class="koboSpan" id="kobo.347.1">.</span></p>
<h2 id="_idParaDest-140"><a id="_idTextAnchor141"/><span class="koboSpan" id="kobo.348.1">Use IP libraries</span></h2>
<p><span class="koboSpan" id="kobo.349.1">Newbies in programming for</span><a id="_idIndexMarker580"/><span class="koboSpan" id="kobo.350.1"> networks may think IP addresses can be treated as a string or a list of characters. </span><span class="koboSpan" id="kobo.350.2">But when dealing with networks, it is very important to use the correspondent IP library to load an IP from a text file or to create </span><a id="_idIndexMarker581"/><span class="koboSpan" id="kobo.351.1">one from a loop. </span><span class="koboSpan" id="kobo.351.2">There are several reasons you might want to avoid strings for IPs; some are presented here:</span></p>
<ul>
<li><span class="koboSpan" id="kobo.352.1">Avoid numbers that are out of the scope of an IP, such as the number 256</span></li>
<li><span class="koboSpan" id="kobo.353.1">Avoid malformed text IP addresses</span></li>
<li><span class="koboSpan" id="kobo.354.1">Make sure not to overlap other space addresses</span></li>
<li><span class="koboSpan" id="kobo.355.1">Easy to find the network, mask, and broadcast</span></li>
<li><span class="koboSpan" id="kobo.356.1">Easy transition from IP version 4 to IP version 6</span></li>
</ul>
<p><span class="koboSpan" id="kobo.357.1">Let’s check how to use these IP libraries in Python and Go.</span></p>
<h3><span class="koboSpan" id="kobo.358.1">IP libraries in Python</span></h3>
<p><span class="koboSpan" id="kobo.359.1">The IP address library in </span><a id="_idIndexMarker582"/><span class="koboSpan" id="kobo.360.1">Python did not exist natively until version 3.3. </span><span class="koboSpan" id="kobo.360.2">Before version 3.3, Python coders had to use external libraries to handle IP addresses. </span><span class="koboSpan" id="kobo.360.3">Python had</span><a id="_idIndexMarker583"/><span class="koboSpan" id="kobo.361.1"> to incorporate this library internally after realizing its importance. </span><span class="koboSpan" id="kobo.361.2">The transition was documented in </span><em class="italic"><span class="koboSpan" id="kobo.362.1">PEP-3144</span></em><span class="koboSpan" id="kobo.363.1"> (</span><a href="https://peps.python.org/pep-3144/"><span class="koboSpan" id="kobo.364.1">https://peps.python.org/pep-3144/</span></a><span class="koboSpan" id="kobo.365.1">).</span></p>
<h4><span class="koboSpan" id="kobo.366.1">Examples of IP manipulation using Python</span></h4>
<p><span class="koboSpan" id="kobo.367.1">First, let’s print all</span><a id="_idIndexMarker584"/><span class="koboSpan" id="kobo.368.1"> valid IP addresses in a subnet:</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.369.1">
import ipaddress
 
network = ipaddress.ip_network("10.8.8.0/30")
print(list(network.hosts()))</span></pre>
<p><span class="koboSpan" id="kobo.370.1">Here’s the output: </span></p>
<pre class="console"><span class="koboSpan" id="kobo.371.1">
[IPv4Address('10.8.8.1'), IPv4Address('10.8.8.2')]</span></pre>
<p><span class="koboSpan" id="kobo.372.1">Note that the output type is </span><strong class="source-inline"><span class="koboSpan" id="kobo.373.1">IPv4Address</span></strong><span class="koboSpan" id="kobo.374.1"> and not a string. </span><span class="koboSpan" id="kobo.374.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.375.1">ipaddress.ip_network()</span></strong><span class="koboSpan" id="kobo.376.1"> method automatically detects whether it is an IPv4 or IPv6 address.</span></p>
<p><span class="koboSpan" id="kobo.377.1">Now, let’s print the subnets that exist in a larger subnet, excluding one subnet:</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.378.1">
import ipaddress
 
network = ipaddress.ip_network("10.8.8.0/24")
subnet_to_exclude = ipaddress.ip_network("10.8.8.64/26")
print(list(network.address_exclude(subnet_to_exclude)))</span></pre>
<p><span class="koboSpan" id="kobo.379.1">Here’s the output: </span></p>
<pre class="console"><span class="koboSpan" id="kobo.380.1">
[IPv4Network('10.8.8.128/25'), IPv4Network('10.8.8.0/26')]</span></pre>
<p><span class="koboSpan" id="kobo.381.1">Note that the</span><a id="_idIndexMarker585"/><span class="koboSpan" id="kobo.382.1"> type on the output is not an IP address type as it was before, but a network type called </span><strong class="source-inline"><span class="koboSpan" id="kobo.383.1">IPv4Network</span></strong><span class="koboSpan" id="kobo.384.1">.</span></p>
<h3><span class="koboSpan" id="kobo.385.1">IP libraries in Go</span></h3>
<p><span class="koboSpan" id="kobo.386.1">Go is different</span><a id="_idIndexMarker586"/><span class="koboSpan" id="kobo.387.1"> from Python as IP address libraries came after the Go language’s </span><a id="_idIndexMarker587"/><span class="koboSpan" id="kobo.388.1">first version. </span><span class="koboSpan" id="kobo.388.2">IP manipulations in Go are faster than in Python because Go is not interpreted like Python but compiled.</span></p>
<h4><span class="koboSpan" id="kobo.389.1">Examples of IP manipulation using Go</span></h4>
<p><span class="koboSpan" id="kobo.390.1">In Go, we are</span><a id="_idIndexMarker588"/><span class="koboSpan" id="kobo.391.1"> first going to check whether an IP address belongs to a subnet:</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.392.1">
import (
    "fmt"
    "net"
)
 
func main() {
    _, subnet, _ := net.ParseCIDR("10.8.8.0/29")
    ip := net.ParseIP("10.8.8.22")
    fmt.Println(subnet.Contains(ip))
}</span></pre>
<p><span class="koboSpan" id="kobo.393.1">Here’s the output: </span><strong class="source-inline"><span class="koboSpan" id="kobo.394.1">false</span></strong><span class="koboSpan" id="kobo.395.1">.</span></p>
<p><span class="koboSpan" id="kobo.396.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.397.1">10.8.8.22</span></strong><span class="koboSpan" id="kobo.398.1"> IP address does not belong to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.399.1">10.8.8.0/29</span></strong><span class="koboSpan" id="kobo.400.1"> subnet as the program prints </span><strong class="source-inline"><span class="koboSpan" id="kobo.401.1">false</span></strong><span class="koboSpan" id="kobo.402.1">.</span></p>
<p><span class="koboSpan" id="kobo.403.1">The next example checks whether a subnet belongs to another subnet:</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.404.1">
import (
    "fmt"
    "net/netip"
)
 
func main() {
    first_subnet := netip.MustParsePrefix("10.8.8.8/30")
    second_subnet := netip.MustParsePrefix("10.8.8.0/24")
 
    fmt.Println(second_subnet.Overlaps(first_subnet))
}</span></pre>
<p><span class="koboSpan" id="kobo.405.1">Here’s the output: </span><strong class="source-inline"><span class="koboSpan" id="kobo.406.1">true</span></strong><span class="koboSpan" id="kobo.407.1">.</span></p>
<p><span class="koboSpan" id="kobo.408.1">In this example, </span><strong class="source-inline"><span class="koboSpan" id="kobo.409.1">first_subnet</span></strong><span class="koboSpan" id="kobo.410.1"> belongs to </span><strong class="source-inline"><span class="koboSpan" id="kobo.411.1">second_subnet</span></strong><span class="koboSpan" id="kobo.412.1">, so they overlap. </span><span class="koboSpan" id="kobo.412.2">Note that in this example, we used a </span><strong class="source-inline"><span class="koboSpan" id="kobo.413.1">"net/netip"</span></strong><span class="koboSpan" id="kobo.414.1"> import instead of </span><strong class="source-inline"><span class="koboSpan" id="kobo.415.1">"net"</span></strong><span class="koboSpan" id="kobo.416.1">, which is a newer IP manipulation package introduced to the Go language.</span></p>
<p><span class="koboSpan" id="kobo.417.1">In terms of comparison, the Python built-in library has more features for IP manipulation than the built-in Go IP packages. </span><span class="koboSpan" id="kobo.417.2">On the other hand, Go can manipulate IPs faster.</span></p>
<p><span class="koboSpan" id="kobo.418.1">If you are looking </span><a id="_idIndexMarker589"/><span class="koboSpan" id="kobo.419.1">for particular features for IP manipulation that are not present in </span><strong class="source-inline"><span class="koboSpan" id="kobo.420.1">net</span></strong><span class="koboSpan" id="kobo.421.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.422.1">net/netip</span></strong><span class="koboSpan" id="kobo.423.1">, you can use a newly developed community package called </span><strong class="source-inline"><span class="koboSpan" id="kobo.424.1">inet.af/netaddr</span></strong><span class="koboSpan" id="kobo.425.1">, described at </span><a href="https://pkg.go.dev/inet.af/netaddr"><span class="koboSpan" id="kobo.426.1">https://pkg.go.dev/inet.af/netaddr</span></a><span class="koboSpan" id="kobo.427.1">.</span></p>
<h2 id="_idParaDest-141"><a id="_idTextAnchor142"/><span class="koboSpan" id="kobo.428.1">Follow naming conventions</span></h2>
<p><span class="koboSpan" id="kobo.429.1">It is wise to verify with your team what the</span><a id="_idIndexMarker590"/><span class="koboSpan" id="kobo.430.1"> local development name conventions are before starting to publish any code for review. </span><span class="koboSpan" id="kobo.430.2">There are particular differences that might be a problem to use in your organization. </span><span class="koboSpan" id="kobo.430.3">Here, we are going to describe the most popular name conventions used, but feel free to adapt this to your local team culture.</span></p>
<p><span class="koboSpan" id="kobo.431.1">Before starting to describe the name conventions, let’s define three ways of writing multi-word names, as listed here:</span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.432.1">Camel case</span></strong><span class="koboSpan" id="kobo.433.1">: Each</span><a id="_idIndexMarker591"/><span class="koboSpan" id="kobo.434.1"> word, except the first, starts with a capital letter—for example, </span><strong class="source-inline"><span class="koboSpan" id="kobo.435.1">myFirstTestName</span></strong></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.436.1">Pascal case</span></strong><span class="koboSpan" id="kobo.437.1">: Each </span><a id="_idIndexMarker592"/><span class="koboSpan" id="kobo.438.1">word starts with a capital letter—for example, </span><strong class="source-inline"><span class="koboSpan" id="kobo.439.1">MyFirstTestName</span></strong></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.440.1">Snake case</span></strong><span class="koboSpan" id="kobo.441.1">: Each </span><a id="_idIndexMarker593"/><span class="koboSpan" id="kobo.442.1">word is separated by an underscore character—for example,  </span><strong class="source-inline"><span class="koboSpan" id="kobo.443.1">my_first_test_name</span></strong></li>
</ul>
<p><span class="koboSpan" id="kobo.444.1">In the case of defining constants, all characters in the name must be in uppercase for most programming languages. </span><span class="koboSpan" id="kobo.444.2">Therefore, snake case is used always in lowercase, unless the name is describing a </span><a id="_idIndexMarker594"/><span class="koboSpan" id="kobo.445.1">constant. </span><span class="koboSpan" id="kobo.445.2">Here’s an example of a name describing a constant that will define the maximum storage capacity: </span><strong class="source-inline"><span class="koboSpan" id="kobo.446.1">MAX_STORAGE_CAPACITY</span></strong><span class="koboSpan" id="kobo.447.1">.</span></p>
<h3><span class="koboSpan" id="kobo.448.1">Naming in Python</span></h3>
<p><span class="koboSpan" id="kobo.449.1">For Python, there are a few </span><a id="_idIndexMarker595"/><span class="koboSpan" id="kobo.450.1">rules to follow when writing variable names. </span><span class="koboSpan" id="kobo.450.2">Here is a short list of what to do:</span></p>
<ul>
<li><span class="koboSpan" id="kobo.451.1">Variable names can start only with letters or underscore characters (</span><strong class="source-inline"><span class="koboSpan" id="kobo.452.1">_</span></strong><span class="koboSpan" id="kobo.453.1">)</span></li>
<li><span class="koboSpan" id="kobo.454.1">The variable name can only have alphanumeric characters and underscores</span></li>
<li><span class="koboSpan" id="kobo.455.1">Never start a variable name with a number</span></li>
<li><span class="koboSpan" id="kobo.456.1">Dashes (</span><strong class="source-inline"><span class="koboSpan" id="kobo.457.1">-</span></strong><span class="koboSpan" id="kobo.458.1">) are used only for package and module names, never for variables</span></li>
<li><span class="koboSpan" id="kobo.459.1">Double underscore characters starting in variables are reserved for Python</span></li>
<li><span class="koboSpan" id="kobo.460.1">Use pascal case for class names</span></li>
<li><span class="koboSpan" id="kobo.461.1">Use snake case for module names and functions</span></li>
<li><span class="koboSpan" id="kobo.462.1">Constants in Python use </span><a id="_idIndexMarker596"/><span class="koboSpan" id="kobo.463.1">all uppercase characters—for example, </span><strong class="source-inline"><span class="koboSpan" id="kobo.464.1">MYCONSTANT</span></strong></li>
</ul>
<p class="callout-heading"><span class="koboSpan" id="kobo.465.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.466.1">Google has a created a great name convention guide</span><a id="_idIndexMarker597"/><span class="koboSpan" id="kobo.467.1"> for Python, available publicly at </span><a href="https://google.github.io/styleguide/pyguide.html#316-naming"><span class="koboSpan" id="kobo.468.1">https://google.github.io/styleguide/pyguide.html#316-naming</span></a><span class="koboSpan" id="kobo.469.1">.</span></p>
<h3><span class="koboSpan" id="kobo.470.1">Naming in Go</span></h3>
<p><span class="koboSpan" id="kobo.471.1">For Go, there are a few rules to </span><a id="_idIndexMarker598"/><span class="koboSpan" id="kobo.472.1">follow. </span><span class="koboSpan" id="kobo.472.2">Here is a list of the major ones to follow:</span></p>
<ul>
<li><span class="koboSpan" id="kobo.473.1">Variable names use camel case or pascal case</span></li>
<li><span class="koboSpan" id="kobo.474.1">As with variable names, function names use camel case or pascal case</span></li>
<li><span class="koboSpan" id="kobo.475.1">Variable or function names don’t start with a number</span></li>
<li><span class="koboSpan" id="kobo.476.1">Use only alphanumeric characters for variable and function names</span></li>
<li><span class="koboSpan" id="kobo.477.1">Dashes or underscores are normally not used for names</span></li>
<li><span class="koboSpan" id="kobo.478.1">Go allows the use of snake case for variable names, but check whether your organization’s name convention allows it, because it is not common to use snake case in the Go community</span></li>
<li><span class="koboSpan" id="kobo.479.1">Constants in Go are like in Python: use all uppercase characters</span></li>
</ul>
<p><span class="koboSpan" id="kobo.480.1">Moreover, Go has a particular difference from other languages, and uses uppercase in the variables inside a Go package (or module). </span><span class="koboSpan" id="kobo.480.2">So, if the variable name starts with uppercase, it is normally a variable that can be accessed from outside the Go package. </span><span class="koboSpan" id="kobo.480.3">When the variable starts with lowercase, it’s a local variable that is only accessible with code within the same Go package.</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.481.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.482.1">A good reference for names in </span><a id="_idIndexMarker599"/><span class="koboSpan" id="kobo.483.1">Go can be obtained at </span><a href="https://go.dev/doc/effective_go"><span class="koboSpan" id="kobo.484.1">https://go.dev/doc/effective_go</span></a><span class="koboSpan" id="kobo.485.1">.</span></p>
<h2 id="_idParaDest-142"><a id="_idTextAnchor143"/><span class="koboSpan" id="kobo.486.1">Don’t shorten variable names</span></h2>
<p><span class="koboSpan" id="kobo.487.1">In the early times of</span><a id="_idIndexMarker600"/><span class="koboSpan" id="kobo.488.1"> computer programming, variable names had to be small to save more space in memory when saving the uncompiled code. </span><span class="koboSpan" id="kobo.488.2">But today, this is not a problem, so don’t save memory when writing variable names.</span></p>
<p><span class="koboSpan" id="kobo.489.1">If you have to write a variable for representing the number of birds flying, write </span><strong class="source-inline"><span class="koboSpan" id="kobo.490.1">number_of_birds_flying</span></strong><span class="koboSpan" id="kobo.491.1"> in snake case or </span><strong class="source-inline"><span class="koboSpan" id="kobo.492.1">numberOfBirdsFlying</span></strong><span class="koboSpan" id="kobo.493.1"> in camel case.</span></p>
<p><span class="koboSpan" id="kobo.494.1">There is an exception to this rule if you are using variables inside list comprehension or variables in a loop such as </span><a id="_idIndexMarker601"/><span class="koboSpan" id="kobo.495.1">counters or indexes; then, shortened variables are okay to use.</span></p>
<h2 id="_idParaDest-143"><a id="_idTextAnchor144"/><span class="koboSpan" id="kobo.496.1">Avoid complex loops</span></h2>
<p><span class="koboSpan" id="kobo.497.1">Loops are added to code for</span><a id="_idIndexMarker602"/><span class="koboSpan" id="kobo.498.1"> several reasons: to increment, interact with a list, repeat an operation, and read a stream, among others. </span><span class="koboSpan" id="kobo.498.2">It is possible to use loops for deterministic or non-deterministic sizes, which can be very useful when you don’t know what you are going to interact with.</span></p>
<p><span class="koboSpan" id="kobo.499.1">But irrespective of the intention you are using a loop in your code for, use them wisely so that they don’t become unreadable or too complex to understand. </span><span class="koboSpan" id="kobo.499.2">A good rule of thumb is to avoid too many lines inside a loop. </span><span class="koboSpan" id="kobo.499.3">I would say that 20 lines would be the limit. </span><span class="koboSpan" id="kobo.499.4">Another good practice is to avoid nested loops or loops within loops. </span><span class="koboSpan" id="kobo.499.5">If you have to do a nested loop, limit the number of levels to no more than two. </span><span class="koboSpan" id="kobo.499.6">Loops are hard to read when they are nested, and even worse when there are too many lines inside them.</span></p>
<p><span class="koboSpan" id="kobo.500.1">So, what is the best way to create a loop with fewer than 20 lines? </span><span class="koboSpan" id="kobo.500.2">The suggestion is to group a few operations into functions that can be called inside the loop. </span><span class="koboSpan" id="kobo.500.3">Name the function whatever you want it to do, and add the operations to it. </span><span class="koboSpan" id="kobo.500.4">When you are reading the loop, the function call will be easy to spot and the name of the function will indicate what the operation is doing, which is really easy to read and understand. </span><span class="koboSpan" id="kobo.500.5">Also, it is easier to write unit tests when using this approach.</span></p>
<p><span class="koboSpan" id="kobo.501.1">How to avoid nested loops? </span><span class="koboSpan" id="kobo.501.2">Use functions to call a loop. </span><span class="koboSpan" id="kobo.501.3">Instead, you can also use generators, list comprehensions, or maps to avoid loops. </span><span class="koboSpan" id="kobo.501.4">Using maps has the advantage of making your code even faster as you don’t need to interact with it. </span><span class="koboSpan" id="kobo.501.5">List comprehensions are used in Python. </span><span class="koboSpan" id="kobo.501.6">Generators can be used in Python and are implemented using goroutines in Golang. </span><span class="koboSpan" id="kobo.501.7">So, whenever you need a nested loop, try not to overcomplicate it, and, if possible, use one of these mechanisms to avoid it.</span></p>
<h2 id="_idParaDest-144"><a id="_idTextAnchor145"/><span class="koboSpan" id="kobo.502.1">Don’t repeat code</span></h2>
<p><span class="koboSpan" id="kobo.503.1">In software </span><a id="_idIndexMarker603"/><span class="koboSpan" id="kobo.504.1">development, there is one term that is called </span><strong class="bold"><span class="koboSpan" id="kobo.505.1">DRY</span></strong><span class="koboSpan" id="kobo.506.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.507.1">Don’t Repeat Yourself</span></strong><span class="koboSpan" id="kobo.508.1">. </span><span class="koboSpan" id="kobo.508.2">The worst a </span><a id="_idIndexMarker604"/><span class="koboSpan" id="kobo.509.1">developer can do is repeat code. </span><span class="koboSpan" id="kobo.509.2">Yes, it is bad—really bad. </span><span class="koboSpan" id="kobo.509.3">Why? </span><span class="koboSpan" id="kobo.509.4">Because if you write code that performs a task over and over in multiple places, whenever you want to modify that task, you will be required to carry out the same change in several places. </span><span class="koboSpan" id="kobo.509.5">The other problem is that you will have to write multiple unit tests for the same task.</span></p>
<p><span class="koboSpan" id="kobo.510.1">The opposite view of DRY is </span><strong class="bold"><span class="koboSpan" id="kobo.511.1">WET</span></strong><span class="koboSpan" id="kobo.512.1">, which stands</span><a id="_idIndexMarker605"/><span class="koboSpan" id="kobo.513.1"> for </span><strong class="bold"><span class="koboSpan" id="kobo.514.1">Write Everything Twice</span></strong><span class="koboSpan" id="kobo.515.1">. </span><span class="koboSpan" id="kobo.515.2">A WET solution might occur because of multi-tiered architecture where developers have different tasks, and in the end, repetition may happen. </span><span class="koboSpan" id="kobo.515.3">A DRY approach should eliminate code redundancy by using a framework that helps developers avoid repetition.</span></p>
<p><span class="koboSpan" id="kobo.516.1">In this section, we have seen some examples of how we can use best practices when writing code. </span><span class="koboSpan" id="kobo.516.2">In the next section, we are going to explore how we can use tools to help us write better code.</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.517.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.518.1">There are many more suggestions on best practices when writing code. </span><span class="koboSpan" id="kobo.518.2">A more extensive list can be found at </span><a href="https://github.com/golang/go/wiki/CodeReviewComments"><span class="koboSpan" id="kobo.519.1">https://github.com/golang/go/wiki/CodeReviewComments</span></a><span class="koboSpan" id="kobo.520.1"> and https://go.dev/doc/effective_go.</span></p>
<p class="callout"><span class="koboSpan" id="kobo.521.1">For Python, I recommend the book </span><em class="italic"><span class="koboSpan" id="kobo.522.1">Effective Python</span></em><span class="koboSpan" id="kobo.523.1"> by Scott Meyers.</span></p>
<h1 id="_idParaDest-145"><a id="_idTextAnchor146"/><span class="koboSpan" id="kobo.524.1">Coding formatters</span></h1>
<p><span class="koboSpan" id="kobo.525.1">As we can now see, there are</span><a id="_idIndexMarker606"/><span class="koboSpan" id="kobo.526.1"> several rules and conventions to follow when writing code in Go or Python, and the list is long, which does not help when you are a beginner. </span><span class="koboSpan" id="kobo.526.2">But thanks to the community, there are tools that help to fix the code format for you. </span><span class="koboSpan" id="kobo.526.3">These tools can automatically fix your code or suggest modifications. </span><span class="koboSpan" id="kobo.526.4">Let’s have a look at a few code formatters for Python and Go.</span></p>
<h2 id="_idParaDest-146"><a id="_idTextAnchor147"/><span class="koboSpan" id="kobo.527.1">Python Black</span></h2>
<p><strong class="bold"><span class="koboSpan" id="kobo.528.1">Black</span></strong><span class="koboSpan" id="kobo.529.1"> is a </span><a id="_idIndexMarker607"/><span class="koboSpan" id="kobo.530.1">very </span><a id="_idIndexMarker608"/><span class="koboSpan" id="kobo.531.1">popular code formatter for Python. </span><span class="koboSpan" id="kobo.531.2">It is </span><em class="italic"><span class="koboSpan" id="kobo.532.1">PEP-8</span></em><span class="koboSpan" id="kobo.533.1"> compliant, so it checks all </span><em class="italic"><span class="koboSpan" id="kobo.534.1">PEP-8</span></em><span class="koboSpan" id="kobo.535.1"> recommendations. </span><span class="koboSpan" id="kobo.535.2">The default run will reformat the code to be </span><em class="italic"><span class="koboSpan" id="kobo.536.1">PEP-8</span></em><span class="koboSpan" id="kobo.537.1"> compliant, but you can run it as a preview to identify the code change suggestions.</span></p>
<p><span class="koboSpan" id="kobo.538.1">With Black, it is possible to fix Python code automatically. </span><span class="koboSpan" id="kobo.538.2">Here is an example of wrong code written for Python:</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.539.1">
if long_variable_name is not None and \
 long_variable_name.field &gt; 0 or long_variable_name.is_debug:
 z = 'hello '+'world'
else:
 world = 'world'
 a = 'hello {}'.format(world)
 f = rf'hello {world}'</span></pre>
<p><span class="koboSpan" id="kobo.540.1">After running Black, the code will look like this:</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.541.1">
if (
    long_variable_name is not None
    and long_variable_name.field &gt; 0
    or long_variable_name.is_debug
):
    z = "hello " + "world"
else:
    world = "world"
    a = "hello {}".format(world)
    f = rf"hello {world}"</span></pre>
<p><span class="koboSpan" id="kobo.542.1">Black does apply all recommendations of </span><em class="italic"><span class="koboSpan" id="kobo.543.1">PEP-8</span></em><span class="koboSpan" id="kobo.544.1"> and also has its own style. </span><span class="koboSpan" id="kobo.544.2">In the preceding example, Black has correctly changed the </span><strong class="source-inline"><span class="koboSpan" id="kobo.545.1">if</span></strong><span class="koboSpan" id="kobo.546.1"> statement and added the correct indentation. </span><span class="koboSpan" id="kobo.546.2">In addition, it changed the strings assignment from single quotes to double quotes. </span><span class="koboSpan" id="kobo.546.3">There is no specific PEP designating if you have to write strings with double or single quotes, but Black’s own style uses double quotes for strings.</span></p>
<p><span class="koboSpan" id="kobo.547.1">I personally think code that has single quotes in some strings and double quotes in other strings looks very ugly. </span><span class="koboSpan" id="kobo.547.2">So, I would recommend using double quotes only for strings, as Black does.</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.548.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.549.1">More on Python</span><a id="_idIndexMarker609"/><span class="koboSpan" id="kobo.550.1"> Black can be found here: </span><a href="https://github.com/psf/black"><span class="koboSpan" id="kobo.551.1">https://github.com/psf/black</span></a><span class="koboSpan" id="kobo.552.1">.</span></p>
<h2 id="_idParaDest-147"><a id="_idTextAnchor148"/><span class="koboSpan" id="kobo.553.1">Python isort</span></h2>
<p><span class="koboSpan" id="kobo.554.1">One important bit</span><a id="_idIndexMarker610"/><span class="koboSpan" id="kobo.555.1"> that is not actually explained easily are the import lines that are present in the Python code. </span><span class="koboSpan" id="kobo.555.2">Sometimes there are dozens of imports, and if they are not properly </span><a id="_idIndexMarker611"/><span class="koboSpan" id="kobo.556.1">organized, it is difficult to realize which ones are used and which are not.</span></p>
<p><span class="koboSpan" id="kobo.557.1">Thanks to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.558.1">isort</span></strong><span class="koboSpan" id="kobo.559.1"> utility, it is possible to fix </span><strong class="source-inline"><span class="koboSpan" id="kobo.560.1">import</span></strong><span class="koboSpan" id="kobo.561.1"> statements, group them correctly, and sort them automatically.</span></p>
<p><span class="koboSpan" id="kobo.562.1">Here is one example of code that has a loose ugly </span><strong class="source-inline"><span class="koboSpan" id="kobo.563.1">import</span></strong><span class="koboSpan" id="kobo.564.1"> statement:</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.565.1">
from central_lib import Path
import os
from central_lib import Path3
from central_lib import Path2
import sys
from my_lib import lib15, lib1, lib2, lib3, lib4, lib5, lib6, lib7, lib8, lib9, lib10, lib11, lib12, lib13, lib14
import sys</span></pre>
<p><span class="koboSpan" id="kobo.566.1">After running </span><strong class="source-inline"><span class="koboSpan" id="kobo.567.1">isort</span></strong><span class="koboSpan" id="kobo.568.1">, the code looks like this:</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.569.1">
import os
import sys
from my_lib import (lib1, lib2, lib3, lib4, lib5, lib6,
                    lib7, lib8, lib9, lib10, lib11, lib12,
                    lib13, lib14, lib15)
from central_lib import Path, Path2, Path3</span></pre>
<p><span class="koboSpan" id="kobo.570.1">Note that </span><strong class="source-inline"><span class="koboSpan" id="kobo.571.1">isort</span></strong><span class="koboSpan" id="kobo.572.1"> grouped the imports and sorted them in a predictable way. </span><span class="koboSpan" id="kobo.572.2">If you need to add extra imports, you will not repeat or miss them.</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.573.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.574.1">More on </span><strong class="source-inline"><span class="koboSpan" id="kobo.575.1">isort</span></strong><span class="koboSpan" id="kobo.576.1"> can be</span><a id="_idIndexMarker612"/><span class="koboSpan" id="kobo.577.1"> found here: </span><a href="https://pypi.org/project/isort/"><span class="koboSpan" id="kobo.578.1">https://pypi.org/project/isort/</span></a><span class="koboSpan" id="kobo.579.1">.</span></p>
<h2 id="_idParaDest-148"><a id="_idTextAnchor149"/><span class="koboSpan" id="kobo.580.1">Python YAPF</span></h2>
<p><span class="koboSpan" id="kobo.581.1">Although </span><em class="italic"><span class="koboSpan" id="kobo.582.1">PEP-8</span></em><span class="koboSpan" id="kobo.583.1"> guidelines may allow you to write code in a way that other developers will appreciate, it</span><a id="_idIndexMarker613"/><span class="koboSpan" id="kobo.584.1"> does not necessarily mean your code looks good. </span><span class="koboSpan" id="kobo.584.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.585.1">YAPF</span></strong><span class="koboSpan" id="kobo.586.1"> acronym is not actually </span><a id="_idIndexMarker614"/><span class="koboSpan" id="kobo.587.1">explained on the tool’s page, but it perhaps means </span><strong class="bold"><span class="koboSpan" id="kobo.588.1">Yet Another Python Formatter</span></strong><span class="koboSpan" id="kobo.589.1">.</span></p>
<p><span class="koboSpan" id="kobo.590.1">In essence, YAPF is similar to Black, which has its own style besides the </span><em class="italic"><span class="koboSpan" id="kobo.591.1">PEP-8</span></em><span class="koboSpan" id="kobo.592.1"> recommendations, but a major difference is that it can be configured for fine-tuning style formatting.</span></p>
<p><span class="koboSpan" id="kobo.593.1">YAPF is based on </span><strong class="source-inline"><span class="koboSpan" id="kobo.594.1">clang-format</span></strong><span class="koboSpan" id="kobo.595.1"> developed by Daniel Jasper, which takes the original code and reformats it using the YAPF style guide, even if the original code did not violate any </span><em class="italic"><span class="koboSpan" id="kobo.596.1">PEP-8</span></em><span class="koboSpan" id="kobo.597.1"> guidelines. </span><span class="koboSpan" id="kobo.597.2">If used in all code, the style remains consistent throughout the project, and reviewers would not need to discuss or argue about the style during code review.</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.598.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.599.1">More on YAPF can be </span><a id="_idIndexMarker615"/><span class="koboSpan" id="kobo.600.1">found here: </span><a href="https://github.com/google/yapf"><span class="koboSpan" id="kobo.601.1">https://github.com/google/yapf</span></a><span class="koboSpan" id="kobo.602.1">.</span></p>
<p><span class="koboSpan" id="kobo.603.1">YAPF, </span><strong class="source-inline"><span class="koboSpan" id="kobo.604.1">isort</span></strong><span class="koboSpan" id="kobo.605.1">, and Black are the three major Python code formatters, but the list of Python formatters is very extensive. </span><span class="koboSpan" id="kobo.605.2">Other formatters can be found at </span><a href="https://github.com/life4/awesome-python-code-formatters"><span class="koboSpan" id="kobo.606.1">https://github.com/life4/awesome-python-code-formatters</span></a><span class="koboSpan" id="kobo.607.1">.</span></p>
<h2 id="_idParaDest-149"><a id="_idTextAnchor150"/><span class="koboSpan" id="kobo.608.1">Go gofmt</span></h2>
<p><span class="koboSpan" id="kobo.609.1">The Go language has its own </span><a id="_idIndexMarker616"/><span class="koboSpan" id="kobo.610.1">formatter that comes with the Go language package, and it is called </span><strong class="source-inline"><span class="koboSpan" id="kobo.611.1">gofmt</span></strong><span class="koboSpan" id="kobo.612.1">. </span><span class="koboSpan" id="kobo.612.2">Its </span><a id="_idIndexMarker617"/><span class="koboSpan" id="kobo.613.1">objective is similar to Python Black and Python YAPF, which formats the source code to the best format that can be done consistently. </span><span class="koboSpan" id="kobo.613.2">The formatter is used with the CLI command of </span><strong class="source-inline"><span class="koboSpan" id="kobo.614.1">go</span></strong><span class="koboSpan" id="kobo.615.1">—for example, </span><strong class="source-inline"><span class="koboSpan" id="kobo.616.1">go fmt myprogram.go</span></strong><span class="koboSpan" id="kobo.617.1">.</span></p>
<p><span class="koboSpan" id="kobo.618.1">Some platforms run automatically </span><strong class="source-inline"><span class="koboSpan" id="kobo.619.1">gofmt</span></strong><span class="koboSpan" id="kobo.620.1"> every time you want to build or run a Go program.</span></p>
<h2 id="_idParaDest-150"><a id="_idTextAnchor151"/><span class="koboSpan" id="kobo.621.1">Go golines</span></h2>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.622.1">golines</span></strong><span class="koboSpan" id="kobo.623.1"> is a </span><a id="_idIndexMarker618"/><span class="koboSpan" id="kobo.624.1">formatter that shortens long lines in addition to fixes done by </span><strong class="source-inline"><span class="koboSpan" id="kobo.625.1">gofmt</span></strong><span class="koboSpan" id="kobo.626.1">. </span><span class="koboSpan" id="kobo.626.2">This formatter was </span><a id="_idIndexMarker619"/><span class="koboSpan" id="kobo.627.1">created because </span><strong class="source-inline"><span class="koboSpan" id="kobo.628.1">gofmt</span></strong><span class="koboSpan" id="kobo.629.1"> does not break long lines and it is hard to visualize when lines are too long.</span></p>
<p><span class="koboSpan" id="kobo.630.1">Here is an example before running </span><strong class="source-inline"><span class="koboSpan" id="kobo.631.1">golines</span></strong><span class="koboSpan" id="kobo.632.1">:</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.633.1">
myVariable := map[string]string{"a key": "a value", "b key": "b value", "c key": "c value", "d key": "d value", "e key": "e value"}</span></pre>
<p><span class="koboSpan" id="kobo.634.1">After running </span><strong class="source-inline"><span class="koboSpan" id="kobo.635.1">golines</span></strong><span class="koboSpan" id="kobo.636.1">, the code looks like this:</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.637.1">
myVariable := map[string]string{
            "a key": "a value",
            "b key": "b value",
            "c key": "c value",
            "d key": "d value",
            "e key": "e value"
}</span></pre>
<p><span class="koboSpan" id="kobo.638.1">More details </span><a id="_idIndexMarker620"/><span class="koboSpan" id="kobo.639.1">on how </span><strong class="source-inline"><span class="koboSpan" id="kobo.640.1">golines</span></strong><span class="koboSpan" id="kobo.641.1"> works are available at </span><a href="https://yolken.net/blog/cleaner-go-code-golines"><span class="koboSpan" id="kobo.642.1">https://yolken.net/blog/cleaner-go-code-golines</span></a><span class="koboSpan" id="kobo.643.1">.</span></p>
<h2 id="_idParaDest-151"><a id="_idTextAnchor152"/><span class="koboSpan" id="kobo.644.1">Go golangci-lint</span></h2>
<p><span class="koboSpan" id="kobo.645.1">A programming language lint or linter is </span><a id="_idIndexMarker621"/><span class="koboSpan" id="kobo.646.1">software used to point errors, bugs, style errors, and</span><a id="_idIndexMarker622"/><span class="koboSpan" id="kobo.647.1"> suspicious constructs in the source code. </span><span class="koboSpan" id="kobo.647.2">It does not fix these automatically but flags errors and warnings to be fixed. </span><span class="koboSpan" id="kobo.647.3">For Go, the best linter</span><a id="_idIndexMarker623"/><span class="koboSpan" id="kobo.648.1"> package is </span><strong class="source-inline"><span class="koboSpan" id="kobo.649.1">golangci-lint</span></strong><span class="koboSpan" id="kobo.650.1">, described in detail at </span><a href="https://golangci-lint.run/"><span class="koboSpan" id="kobo.651.1">https://golangci-lint.run/</span></a><span class="koboSpan" id="kobo.652.1">. </span><span class="koboSpan" id="kobo.652.2">The original linter used for Go was located at </span><a href="https://github.com/golang/lint"><span class="koboSpan" id="kobo.653.1">https://github.com/golang/lint</span></a><span class="koboSpan" id="kobo.654.1"> but was deprecated and frozen because of a lack of contribution.</span></p>
<p><span class="koboSpan" id="kobo.655.1">There are several checks that </span><strong class="source-inline"><span class="koboSpan" id="kobo.656.1">golangci-lint</span></strong><span class="koboSpan" id="kobo.657.1"> can do. </span><span class="koboSpan" id="kobo.657.2">The default most important checks are listed here:</span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.658.1">govet</span></strong><span class="koboSpan" id="kobo.659.1">: Checks whether format strings in </span><strong class="source-inline"><span class="koboSpan" id="kobo.660.1">Printf</span></strong><span class="koboSpan" id="kobo.661.1"> calls have correct aligned arguments</span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.662.1">unused</span></strong><span class="koboSpan" id="kobo.663.1">: Checks unused variables, functions, and types</span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.664.1">gosimple</span></strong><span class="koboSpan" id="kobo.665.1">: Points to parts of the code that can be simplified</span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.666.1">structcheck</span></strong><span class="koboSpan" id="kobo.667.1">: Verifies unused struct fields</span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.668.1">deadcode</span></strong><span class="koboSpan" id="kobo.669.1">: Verifies any</span><a id="_idIndexMarker624"/><span class="koboSpan" id="kobo.670.1"> code </span><a id="_idIndexMarker625"/><span class="koboSpan" id="kobo.671.1">that is not being used</span></li>
</ul>
<p><span class="koboSpan" id="kobo.672.1">A complete list of linters </span><a id="_idIndexMarker626"/><span class="koboSpan" id="kobo.673.1">available can be found at </span><a href="https://golangci-lint.run/usage/linters/"><span class="koboSpan" id="kobo.674.1">https://golangci-lint.run/usage/linters/</span></a><span class="koboSpan" id="kobo.675.1">.</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.676.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.677.1">A list of additional Go code formatters</span><a id="_idIndexMarker627"/><span class="koboSpan" id="kobo.678.1"> can be obtained at </span><a href="https://github.com/life4/awesome-go-code-formatters"><span class="koboSpan" id="kobo.679.1">https://github.com/life4/awesome-go-code-formatters</span></a><span class="koboSpan" id="kobo.680.1">.</span></p>
<p><span class="koboSpan" id="kobo.681.1">There are many more awesome tools that can format your code, not only via command-line tools but also via integrated IDE formatting tools. </span><span class="koboSpan" id="kobo.681.2">This section was created to introduce some of the tools used by Python and Go and show how to use them to help your code improve. </span><span class="koboSpan" id="kobo.681.3">In the next section, we are going to talk about how to use tools when developing code to help concurrent development and versioning.</span></p>
<h1 id="_idParaDest-152"><a id="_idTextAnchor153"/><span class="koboSpan" id="kobo.682.1">Versioning and concurrent development</span></h1>
<p><span class="koboSpan" id="kobo.683.1">Nowadays, writing code is not only about the lines of code you are creating but also about the code others are writing to contribute to your software. </span><span class="koboSpan" id="kobo.683.2">In addition, code that has changes requires some information regarding why the changes are there and some version tags to identify these so that developers can easily revert changes or use different versions when testing or deploying.</span></p>
<p><span class="koboSpan" id="kobo.684.1">How can we accomplish such tasks when writing code? </span><span class="koboSpan" id="kobo.684.2">The best answer is to use a version control system. </span><span class="koboSpan" id="kobo.684.3">Today the most</span><a id="_idIndexMarker628"/><span class="koboSpan" id="kobo.685.1"> popular</span><a id="_idIndexMarker629"/><span class="koboSpan" id="kobo.686.1"> free tools are </span><strong class="bold"><span class="koboSpan" id="kobo.687.1">Git</span></strong><span class="koboSpan" id="kobo.688.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.689.1">SVN</span></strong><span class="koboSpan" id="kobo.690.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.691.1">Mercurial</span></strong><span class="koboSpan" id="kobo.692.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.693.1">CVS</span></strong><span class="koboSpan" id="kobo.694.1">. </span><span class="koboSpan" id="kobo.694.2">Git, for </span><a id="_idIndexMarker630"/><span class="koboSpan" id="kobo.695.1">sure, is the most popular of all, basically because of Linux and the </span><a id="_idIndexMarker631"/><span class="koboSpan" id="kobo.696.1">growth of the GitHub website. </span><em class="italic"><span class="koboSpan" id="kobo.697.1">Table 5.2</span></em><span class="koboSpan" id="kobo.698.1"> shows a quick comparison between these </span><a id="_idIndexMarker632"/><span class="koboSpan" id="kobo.699.1">four version control systems.</span></p>
<table class="No-Table-Style _idGenTablePara-1" id="table002-1">
<colgroup>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="bold"><span class="koboSpan" id="kobo.700.1">Version system</span></strong></p>
</td>
<td class="No-Table-Style">
<p><strong class="bold"><span class="koboSpan" id="kobo.701.1">Year created</span></strong></p>
</td>
<td class="No-Table-Style">
<p><strong class="bold"><span class="koboSpan" id="kobo.702.1">Famous for</span></strong></p>
</td>
<td class="No-Table-Style">
<p><strong class="bold"><span class="koboSpan" id="kobo.703.1">Website</span></strong></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.704.1">Git</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.705.1">2005</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.706.1">Linux and </span><a href="http://github.com"><span class="koboSpan" id="kobo.707.1">github.com</span></a></p>
</td>
<td class="No-Table-Style">
<p><a href="http://www.git-scm.com"><span class="koboSpan" id="kobo.708.1">www.git-scm.com</span></a></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.709.1">SVN</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.710.1">2000</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.711.1">FreeBSD and </span><a href="http://sourceforge.com"><span class="koboSpan" id="kobo.712.1">sourceforge.com</span></a></p>
</td>
<td class="No-Table-Style">
<p><a href="http://subversion.apache.org"><span class="koboSpan" id="kobo.713.1">subversion.apache.org</span></a></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.714.1">CVS</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.715.1">1986</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.716.1">NetBSD and OpenBSD</span></p>
</td>
<td class="No-Table-Style">
<p><a href="http://www.nongnu.org/cvs/"><span class="koboSpan" id="kobo.717.1">www.nongnu.org/cvs/</span></a></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.718.1">Mercurial</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.719.1">2005</span></p>
</td>
<td class="No-Table-Style">
<p><span class="koboSpan" id="kobo.720.1">Python and Mozilla</span></p>
</td>
<td class="No-Table-Style">
<p><a href="http://www.mercurial-scm.org"><span class="koboSpan" id="kobo.721.1">www.mercurial-scm.org</span></a></p>
</td>
</tr>
</tbody>
</table>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.722.1">Table 5.2 – Most popular version control systems comparison</span></p>
<p><span class="koboSpan" id="kobo.723.1">When writing code, it is recommended to use a source version control system, which allows the software to be edited by multiple developers at the same mechanism to avoid adding code to the system without syncing the changes. </span><span class="koboSpan" id="kobo.723.2">Several different terms are used in versioning systems; the terms are almost the same over different systems such as Git or SVN.</span></p>
<p><span class="koboSpan" id="kobo.724.1">Let’s describe the most common commands used by versioning systems.</span></p>
<h2 id="_idParaDest-153"><a id="_idTextAnchor154"/><span class="koboSpan" id="kobo.725.1">clone</span></h2>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.726.1">clone</span></strong><span class="koboSpan" id="kobo.727.1"> is a </span><a id="_idIndexMarker633"/><span class="koboSpan" id="kobo.728.1">command</span><a id="_idIndexMarker634"/><span class="koboSpan" id="kobo.729.1"> to copy the whole source code, including subdirectories and versioning system data, to your local directory.</span></p>
<p><span class="koboSpan" id="kobo.730.1">Here’s an example of the command being used in Git: </span><strong class="source-inline"><span class="koboSpan" id="kobo.731.1">git clone https://github.com/brnuts/matrix.git</span></strong><span class="koboSpan" id="kobo.732.1">.</span></p>
<h2 id="_idParaDest-154"><a id="_idTextAnchor155"/><span class="koboSpan" id="kobo.733.1">checkout</span></h2>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.734.1">checkout</span></strong><span class="koboSpan" id="kobo.735.1"> is </span><a id="_idIndexMarker635"/><span class="koboSpan" id="kobo.736.1">a command to update files in the working directory to match the</span><a id="_idIndexMarker636"/><span class="koboSpan" id="kobo.737.1"> source tree source code. </span><span class="koboSpan" id="kobo.737.2">It is also used to switch to another code branch.</span></p>
<p><span class="koboSpan" id="kobo.738.1">Here’s an example of the command being used in Git for updating the current branch: </span><strong class="source-inline"><span class="koboSpan" id="kobo.739.1">git checkout</span></strong><span class="koboSpan" id="kobo.740.1">.</span></p>
<p><span class="koboSpan" id="kobo.741.1">And here’s an example of it being used in Git for checking out another branch: </span><strong class="source-inline"><span class="koboSpan" id="kobo.742.1">git checkout mybranch</span></strong><span class="koboSpan" id="kobo.743.1">.</span></p>
<h2 id="_idParaDest-155"><a id="_idTextAnchor156"/><span class="koboSpan" id="kobo.744.1">commit</span></h2>
<p><span class="koboSpan" id="kobo.745.1">While changing the </span><a id="_idIndexMarker637"/><span class="koboSpan" id="kobo.746.1">source code is </span><a id="_idIndexMarker638"/><span class="koboSpan" id="kobo.747.1">recommended to change small chunks, each small change should attach a text tag describing the changes. </span><span class="koboSpan" id="kobo.747.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.748.1">commit</span></strong><span class="koboSpan" id="kobo.749.1"> command is a command that adds a text tag to the code and a checkpoint number. </span><span class="koboSpan" id="kobo.749.2">As your code changes, you add commits to each small change. </span><span class="koboSpan" id="kobo.749.3">After the whole change is complete, you will have a change log that has multiple commit text explanations, helping the reader understand why and how the changes were made.</span></p>
<h2 id="_idParaDest-156"><a id="_idTextAnchor157"/><span class="koboSpan" id="kobo.750.1">Mainline</span></h2>
<p><strong class="bold"><span class="koboSpan" id="kobo.751.1">Mainline</span></strong><span class="koboSpan" id="kobo.752.1"> is </span><a id="_idIndexMarker639"/><span class="koboSpan" id="kobo.753.1">normally the name of the main </span><strong class="bold"><span class="koboSpan" id="kobo.754.1">branch</span></strong><span class="koboSpan" id="kobo.755.1"> of the code. </span><span class="koboSpan" id="kobo.755.2">Other branches </span><a id="_idIndexMarker640"/><span class="koboSpan" id="kobo.756.1">of the code normally ramify from the main branch or from other branches, which after ramification have a parent branch. </span><span class="koboSpan" id="kobo.756.2">In this sense, the mainline is a branch that has no parent branch.</span></p>
<p><span class="koboSpan" id="kobo.757.1">The mainline branch is known as the trunk of the source code tree and can also be called </span><strong class="bold"><span class="koboSpan" id="kobo.758.1">master</span></strong><span class="koboSpan" id="kobo.759.1"> or sometimes </span><strong class="bold"><span class="koboSpan" id="kobo.760.1">baseline</span></strong><span class="koboSpan" id="kobo.761.1">.</span></p>
<h2 id="_idParaDest-157"><a id="_idTextAnchor158"/><span class="koboSpan" id="kobo.762.1">Branching</span></h2>
<p><span class="koboSpan" id="kobo.763.1">You can use </span><a id="_idIndexMarker641"/><span class="koboSpan" id="kobo.764.1">versioning systems to create branches in </span><a id="_idIndexMarker642"/><span class="koboSpan" id="kobo.765.1">your code. </span><span class="koboSpan" id="kobo.765.2">A </span><strong class="bold"><span class="koboSpan" id="kobo.766.1">branch</span></strong><span class="koboSpan" id="kobo.767.1"> is normally a ramification of the code from another branch. </span><span class="koboSpan" id="kobo.767.2">The goal of having a branch is to make particular changes to the code without interfering with the parent branch.</span></p>
<p><span class="koboSpan" id="kobo.768.1">The code branch can then have as many changes as needed, and when ready can be added to the parent branch by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.769.1">merge</span></strong><span class="koboSpan" id="kobo.770.1"> command.</span></p>
<p><span class="koboSpan" id="kobo.771.1">There are several advantages of using branches—one of them is to clarify the communication on the intention of a large change by adding several small change </span><strong class="bold"><span class="koboSpan" id="kobo.772.1">commits</span></strong><span class="koboSpan" id="kobo.773.1"> on the</span><a id="_idIndexMarker643"/><span class="koboSpan" id="kobo.774.1"> branch, with an explanation of each </span><a id="_idIndexMarker644"/><span class="koboSpan" id="kobo.775.1">change. </span><span class="koboSpan" id="kobo.775.2">Another advantage is to allow other developers to continue to add changes to the parent branch.</span></p>
<p><span class="koboSpan" id="kobo.776.1">A branch without a parent branch is the mainline branch or the master branch.</span></p>
<h2 id="_idParaDest-158"><a id="_idTextAnchor159"/><span class="koboSpan" id="kobo.777.1">Merging</span></h2>
<p><span class="koboSpan" id="kobo.778.1">A code </span><strong class="bold"><span class="koboSpan" id="kobo.779.1">merge</span></strong><span class="koboSpan" id="kobo.780.1"> is </span><a id="_idIndexMarker645"/><span class="koboSpan" id="kobo.781.1">used when a branch is ready to be added to the main branch. </span><span class="koboSpan" id="kobo.781.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.782.1">merge</span></strong><span class="koboSpan" id="kobo.783.1"> command</span><a id="_idIndexMarker646"/><span class="koboSpan" id="kobo.784.1"> checks whether code can be added without interfering with the mainline branch code. </span><span class="koboSpan" id="kobo.784.2">If there is interference, it will create code </span><strong class="bold"><span class="koboSpan" id="kobo.785.1">merge conflicts</span></strong><span class="koboSpan" id="kobo.786.1"> that </span><a id="_idIndexMarker647"/><span class="koboSpan" id="kobo.787.1">need to be resolved before the branch can be merged successfully. </span><span class="koboSpan" id="kobo.787.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.788.1">merge</span></strong><span class="koboSpan" id="kobo.789.1"> command can also be done between individual branches without a mainline.</span></p>
<p><span class="koboSpan" id="kobo.790.1">The merging technique is the safest technique used to combine branches without compromising any code that differs from other code. </span><span class="koboSpan" id="kobo.790.2">But sometimes, there are so many conflicts to be resolved that this might not be feasible. </span><span class="koboSpan" id="kobo.790.3">When that occurs, it is recommended to start a new branch and try to add the changes, gradually merging eventually, or to use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.791.1">rebase</span></strong><span class="koboSpan" id="kobo.792.1"> command, which allows the commit to be applied from one branch to another branch interactively if necessary.</span></p>
<p><span class="koboSpan" id="kobo.793.1">Have a look at the following diagram:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer047">
<span class="koboSpan" id="kobo.794.1"><img alt="Figure 5.3 – A description of the mainline commits and branches" src="image/B18165_05_003.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.795.1">Figure 5.3 – A description of the mainline commits and branches</span></p>
<p><em class="italic"><span class="koboSpan" id="kobo.796.1">Figure 5.3</span></em><span class="koboSpan" id="kobo.797.1"> shows an </span><a id="_idIndexMarker648"/><span class="koboSpan" id="kobo.798.1">example with all details of the versioning system for the mainline and the branches. </span><span class="koboSpan" id="kobo.798.2">You can also spot the commits and merges that are done for each branch and for the mainline as well. </span><span class="koboSpan" id="kobo.798.3">Note that branch 1 (green) was created to add two files, called </span><strong class="source-inline"><span class="koboSpan" id="kobo.799.1">LICENSE</span></strong><span class="koboSpan" id="kobo.800.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.801.1">COPYRIGHT</span></strong><span class="koboSpan" id="kobo.802.1">, then was merged to the mainline. </span><span class="koboSpan" id="kobo.802.2">Branch 2 was created from a </span><strong class="source-inline"><span class="koboSpan" id="kobo.803.1">432384DC</span></strong><span class="koboSpan" id="kobo.804.1"> commit and has not been merged to the mainline yet.</span></p>
<p><span class="koboSpan" id="kobo.805.1">In this section, we investigated how versioning tools help a great deal when developing code concurrently. </span><span class="koboSpan" id="kobo.805.2">Use a versioning system whenever you can to organize your development. </span><span class="koboSpan" id="kobo.805.3">In the next section, we are going to explore why and how we add testing to our code.</span></p>
<h1 id="_idParaDest-159"><a id="_idTextAnchor160"/><span class="koboSpan" id="kobo.806.1">Testing your code</span></h1>
<p><span class="koboSpan" id="kobo.807.1">Testing code is another</span><a id="_idIndexMarker649"/><span class="koboSpan" id="kobo.808.1"> subject that has grown in the past decades. </span><span class="koboSpan" id="kobo.808.2">In the early '70s, testing code was not actually part of the development process but part of the debugging process when there was a problem with the software. </span><span class="koboSpan" id="kobo.808.3">Testing assumed significance when American computer scientist Glenford Myers published the classic book </span><em class="italic"><span class="koboSpan" id="kobo.809.1">The Art of Software Testing</span></em><span class="koboSpan" id="kobo.810.1"> in 1979, proposing the separation of debugging from testing.</span></p>
<p><span class="koboSpan" id="kobo.811.1">Since then, much has improved in the development process with testing. </span><span class="koboSpan" id="kobo.811.2">Today, it is about preventing errors, and the</span><a id="_idIndexMarker650"/><span class="koboSpan" id="kobo.812.1"> process to develop code with tests that prevent errors is called </span><strong class="bold"><span class="koboSpan" id="kobo.813.1">test-driven development</span></strong><span class="koboSpan" id="kobo.814.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.815.1">TDD</span></strong><span class="koboSpan" id="kobo.816.1">.</span></p>
<p><span class="koboSpan" id="kobo.817.1">In the process of developing the code, the developer must identify two parts of the code: </span><strong class="bold"><span class="koboSpan" id="kobo.818.1">testable</span></strong><span class="koboSpan" id="kobo.819.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.820.1">non-testable</span></strong><span class="koboSpan" id="kobo.821.1"> code. </span><span class="koboSpan" id="kobo.821.2">Testable code</span><a id="_idIndexMarker651"/><span class="koboSpan" id="kobo.822.1"> is pieces of code that are easily verified by low-level testing, such as </span><a id="_idIndexMarker652"/><span class="koboSpan" id="kobo.823.1">a unit test. </span><span class="koboSpan" id="kobo.823.2">Non-testable code is pieces of code (such as the import of a library) that are not easily tested at a lower level and normally are tested with higher-level testing such as integration tests.</span></p>
<p><span class="koboSpan" id="kobo.824.1">Therefore, when writing code, the developer must be mindful of when and how tests would be performed for that part of the code. </span><span class="koboSpan" id="kobo.824.2">The developer will easily identify which part of the code can be done with lower- or higher-level testing. </span><span class="koboSpan" id="kobo.824.3">There are several levels of testing. </span><span class="koboSpan" id="kobo.824.4">Let’s discuss a few of them in the following subsections.</span></p>
<h2 id="_idParaDest-160"><a id="_idTextAnchor161"/><span class="koboSpan" id="kobo.825.1">Unit testing</span></h2>
<p><strong class="bold"><span class="koboSpan" id="kobo.826.1">Unit tests</span></strong><span class="koboSpan" id="kobo.827.1"> are</span><a id="_idIndexMarker653"/><span class="koboSpan" id="kobo.828.1"> the lower level of testing because they are intended to cover a small part of code, which is the smallest piece of code that can be logically isolated. </span><span class="koboSpan" id="kobo.828.2">These pieces of</span><a id="_idIndexMarker654"/><span class="koboSpan" id="kobo.829.1"> code can be subroutines, functions, methods, loops, or properties. </span><span class="koboSpan" id="kobo.829.2">The goal of unit tests is to show that individual parts of the code are correct and—when used in methods or functions—to make sure they work as expected.</span></p>
<p><span class="koboSpan" id="kobo.830.1">If in the future, code has its libraries or modules upgraded or refactored, the unit tests created before are able to identify whether the code still works with the change, making it robust against eventual bugs introduced with upgrades. </span><span class="koboSpan" id="kobo.830.2">For that, unit tests have to be written to cover all functions, modules, methods, and properties; then, whatever change happens that could cause a fault would be quickly identified by the unit tests.</span></p>
<p><span class="koboSpan" id="kobo.831.1">Unit tests can be written in several ways: some would write a function and then write the unit tests for this function; some would write the unit tests and then write the function. </span><span class="koboSpan" id="kobo.831.2">When unit </span><a id="_idIndexMarker655"/><span class="koboSpan" id="kobo.832.1">tests are written first, this is normally </span><a id="_idIndexMarker656"/><span class="koboSpan" id="kobo.833.1">called </span><strong class="bold"><span class="koboSpan" id="kobo.834.1">test-driven development</span></strong><span class="koboSpan" id="kobo.835.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.836.1">TDD</span></strong><span class="koboSpan" id="kobo.837.1">) or </span><strong class="bold"><span class="koboSpan" id="kobo.838.1">extreme programming</span></strong><span class="koboSpan" id="kobo.839.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.840.1">XP</span></strong><span class="koboSpan" id="kobo.841.1">).</span></p>
<p><span class="koboSpan" id="kobo.842.1">As some code cannot be tested with unit tests, each team and organization has a </span><strong class="bold"><span class="koboSpan" id="kobo.843.1">test coverage</span></strong><span class="koboSpan" id="kobo.844.1"> parameter</span><a id="_idIndexMarker657"/><span class="koboSpan" id="kobo.845.1"> used to evaluate each software package. </span><span class="koboSpan" id="kobo.845.2">The number varies, but normally it is higher than 50% test coverage for the software package, and something higher than 80% for all new functions and methods introduced.</span></p>
<p><span class="koboSpan" id="kobo.846.1">Unit tests</span><a id="_idIndexMarker658"/><span class="koboSpan" id="kobo.847.1"> are easy to create when a function or method has clear input parameters and some outputs, but it is not easy to create when a function interacts with external</span><a id="_idIndexMarker659"/><span class="koboSpan" id="kobo.848.1"> elements such as a database. </span><span class="koboSpan" id="kobo.848.2">For dealing with these external environments, some languages have </span><strong class="bold"><span class="koboSpan" id="kobo.849.1">mock capabilities</span></strong><span class="koboSpan" id="kobo.850.1"> (or </span><strong class="bold"><span class="koboSpan" id="kobo.851.1">mockups</span></strong><span class="koboSpan" id="kobo.852.1">) to </span><a id="_idIndexMarker660"/><span class="koboSpan" id="kobo.853.1">simulate the external behavior, without doing it.</span></p>
<p><span class="koboSpan" id="kobo.854.1">If part of the code is not unit-testable (mocks are not available), it will probably be covered by higher-level testing, as with the ones we are going to talk about next.</span></p>
<h2 id="_idParaDest-161"><a id="_idTextAnchor162"/><span class="koboSpan" id="kobo.855.1">Integration testing</span></h2>
<p><strong class="bold"><span class="koboSpan" id="kobo.856.1">Integration tests</span></strong><span class="koboSpan" id="kobo.857.1"> are </span><a id="_idIndexMarker661"/><span class="koboSpan" id="kobo.858.1">used to fill the gaps of tests not possible to be performed with unit</span><a id="_idIndexMarker662"/><span class="koboSpan" id="kobo.859.1"> tests. </span><span class="koboSpan" id="kobo.859.2">These are normally tests that touch or require external environments such as databases, external files, or service APIs.</span></p>
<p><span class="koboSpan" id="kobo.860.1">From a testing order perspective, integration testing is the second step after the unit tests have been done successfully and </span><a id="_idIndexMarker663"/><span class="koboSpan" id="kobo.861.1">before the </span><strong class="bold"><span class="koboSpan" id="kobo.862.1">end-to-end</span></strong><span class="koboSpan" id="kobo.863.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.864.1">E2E</span></strong><span class="koboSpan" id="kobo.865.1">) testing (if required). </span><span class="koboSpan" id="kobo.865.2">Integration testing normally uses broader code coverage in terms of modules and functions. </span><span class="koboSpan" id="kobo.865.3">It groups them into a large aggregate and applies a test plan to validate the expected outputs. </span><span class="koboSpan" id="kobo.865.4">Individual functions and modules are tested using unit tests. </span><span class="koboSpan" id="kobo.865.5">During integration tests, they are not necessarily tested individually but in a higher-level group.</span></p>
<p><span class="koboSpan" id="kobo.866.1">It is important to set up a test environment that can support integration testing, such as an external test database. </span><span class="koboSpan" id="kobo.866.2">During integration tests, the mockups added in the unit tests are not used, but real external testing environments are used. </span><span class="koboSpan" id="kobo.866.3">The external testing environment is normally separated from production and is dedicated to integration testing.</span></p>
<p><span class="koboSpan" id="kobo.867.1">When performing integration tests, the test environment should behave in the same manner as the production environment, or at least very close to production. </span><span class="koboSpan" id="kobo.867.2">With similar production behavior, we can have more confidence, after the integration tests are passed, that the software will work in production.</span></p>
<p><span class="koboSpan" id="kobo.868.1">Unit tests can </span><a id="_idIndexMarker664"/><span class="koboSpan" id="kobo.869.1">run on someone’s computer; on the other hand, integration tests</span><a id="_idIndexMarker665"/><span class="koboSpan" id="kobo.870.1"> can’t because they rely on a testing environment that would validate the external communication from the software. </span><span class="koboSpan" id="kobo.870.2">Someone might say, </span><em class="italic"><span class="koboSpan" id="kobo.871.1">set up an environment for integration testing on your computer</span></em><span class="koboSpan" id="kobo.872.1">, but it would then not be possible to validate some tests that require consistency.</span></p>
<h2 id="_idParaDest-162"><a id="_idTextAnchor163"/><span class="koboSpan" id="kobo.873.1">E2E testing</span></h2>
<p><span class="koboSpan" id="kobo.874.1">Most tests can be</span><a id="_idIndexMarker666"/><span class="koboSpan" id="kobo.875.1"> done by unit tests and integration tests; however, some might </span><a id="_idIndexMarker667"/><span class="koboSpan" id="kobo.876.1">still be missing. </span><strong class="bold"><span class="koboSpan" id="kobo.877.1">E2E tests</span></strong><span class="koboSpan" id="kobo.878.1"> are added in another level of testing, which will evaluate the overall software, including performance, under a production-like environment. </span></p>
<p><span class="koboSpan" id="kobo.879.1">If possible and allowed, the ideal way is to run the E2E testing in the production environment. </span><span class="koboSpan" id="kobo.879.2">If it is not possible to run this in production, an isolated production-like environment can be used. </span><span class="koboSpan" id="kobo.879.3">The goal is to simulate the real scenario of the software running from the start to the end so that passing tests can validate the software and can be used without restrictions in production.</span></p>
<p><span class="koboSpan" id="kobo.880.1">In terms of testing time and cycle, the E2E test should run last, as these tests take much longer to run than the integration tests. </span><span class="koboSpan" id="kobo.880.2">The test coverage should cover broader behavior, not only touching external interfaces but also using the whole workflow process that the software belongs to.</span></p>
<p><span class="koboSpan" id="kobo.881.1">To summarize unit tests, integration tests, and E2E tests, let’s use an example. </span><span class="koboSpan" id="kobo.881.2">Imagine your software creates a robot that can paint cars. </span><span class="koboSpan" id="kobo.881.3">What would the responsibility of each testing level be? </span><span class="koboSpan" id="kobo.881.4">Here’s a possible implementation:</span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.882.1">Unit tests</span></strong><span class="koboSpan" id="kobo.883.1">: Lower-level testing of small modules of the software:</span><ul><li><span class="koboSpan" id="kobo.884.1">Move </span><em class="italic"><span class="koboSpan" id="kobo.885.1">x</span></em><span class="koboSpan" id="kobo.886.1">, </span><em class="italic"><span class="koboSpan" id="kobo.887.1">y</span></em><span class="koboSpan" id="kobo.888.1">, and </span><em class="italic"><span class="koboSpan" id="kobo.889.1">z</span></em><span class="koboSpan" id="kobo.890.1"> directions</span></li><li><span class="koboSpan" id="kobo.891.1">Self-identify unalignments</span></li><li><span class="koboSpan" id="kobo.892.1">Identify which color a container has</span></li><li><span class="koboSpan" id="kobo.893.1">Spray paint evenly in all directions</span></li><li><span class="koboSpan" id="kobo.894.1">Don’t leak paint</span></li><li><span class="koboSpan" id="kobo.895.1">Identify the ending paint in the container</span></li></ul></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.896.1">Integration tests</span></strong><span class="koboSpan" id="kobo.897.1">: Higher-level testing with external modules:</span><ul><li><span class="koboSpan" id="kobo.898.1">Can paint a car full</span></li><li><span class="koboSpan" id="kobo.899.1">Can refill paint in an empty paint container</span></li><li><span class="koboSpan" id="kobo.900.1">Can paint car with different colors</span></li><li><span class="koboSpan" id="kobo.901.1">Doesn’t leave blank color spots in the car</span></li></ul></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.902.1">E2E tests</span></strong><span class="koboSpan" id="kobo.903.1">: These would be the higher level, ultimate tests:</span><ul><li><span class="koboSpan" id="kobo.904.1">Car can be painted in </span><em class="italic"><span class="koboSpan" id="kobo.905.1">X</span></em><span class="koboSpan" id="kobo.906.1"> minutes</span></li><li><span class="koboSpan" id="kobo.907.1">No interference on the next car or previous car when painting the current car</span></li><li><span class="koboSpan" id="kobo.908.1">Robot can paint </span><em class="italic"><span class="koboSpan" id="kobo.909.1">Y</span></em><span class="koboSpan" id="kobo.910.1"> number of cars per hour, with paint refill and color change</span></li></ul></li>
</ul>
<p><span class="koboSpan" id="kobo.911.1">As we can see in this example, the number of tests is normally higher when the level of testing is lower. </span><span class="koboSpan" id="kobo.911.2">So, unit tests would have more tests than integration or E2E tests. </span><span class="koboSpan" id="kobo.911.3">However, the time to run tests is slower as we go higher up the levels. </span><span class="koboSpan" id="kobo.911.4">E2E testing should take longer to finish than integration or unit tests.</span></p>
<h2 id="_idParaDest-163"><a id="_idTextAnchor164"/><span class="koboSpan" id="kobo.912.1">Other testing</span></h2>
<p><span class="koboSpan" id="kobo.913.1">There are several other testing classifications. </span><span class="koboSpan" id="kobo.913.2">For our network automation, we are going to use only the three levels we just described: unit tests, integration tests, and E2E tests. </span><span class="koboSpan" id="kobo.913.3">The others we are going to explain here, for reference, can be added to your automation work if you think they are necessary.</span></p>
<p><span class="koboSpan" id="kobo.914.1">Let’s talk briefly about them now.</span></p>
<h3><span class="koboSpan" id="kobo.915.1">System testing</span></h3>
<p><span class="koboSpan" id="kobo.916.1">Technically speaking, all tests can be done by unit tests, integration tests, and E2E testing. </span><span class="koboSpan" id="kobo.916.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.917.1">system testing</span></strong><span class="koboSpan" id="kobo.918.1"> is </span><a id="_idIndexMarker668"/><span class="koboSpan" id="kobo.919.1">to add an extra testing phase that can be used to evaluate the</span><a id="_idIndexMarker669"/><span class="koboSpan" id="kobo.920.1"> system’s compliance with the specified requirements. </span><span class="koboSpan" id="kobo.920.2">Therefore, system testing is another name for testing in a formal procedure to verify that all requirements have been met.</span></p>
<h3><span class="koboSpan" id="kobo.921.1">Acceptance testing</span></h3>
<p><span class="koboSpan" id="kobo.922.1">When</span><a id="_idIndexMarker670"/><span class="koboSpan" id="kobo.923.1"> dealing with projects that involve end customers, it is important to align the</span><a id="_idIndexMarker671"/><span class="koboSpan" id="kobo.924.1"> expectations of the behavior of the software. </span><span class="koboSpan" id="kobo.924.2">Acceptance testing is a mechanism to negotiate and communicate with the end customer about the correct behavior of the system. </span><strong class="bold"><span class="koboSpan" id="kobo.925.1">Acceptance tests</span></strong><span class="koboSpan" id="kobo.926.1"> are like a contract between the end customer and the developer to delineate the final delivery of the software. </span><span class="koboSpan" id="kobo.926.2">The end customer is normally involved when selecting a test plan and tests so that the tests cover the system’s behavior and expectations.</span></p>
<p><span class="koboSpan" id="kobo.927.1">The usual terms</span><a id="_idIndexMarker672"/><span class="koboSpan" id="kobo.928.1"> used here </span><a id="_idIndexMarker673"/><span class="koboSpan" id="kobo.929.1">are </span><strong class="bold"><span class="koboSpan" id="kobo.930.1">user acceptance test</span></strong><span class="koboSpan" id="kobo.931.1"> (or </span><strong class="bold"><span class="koboSpan" id="kobo.932.1">UAT</span></strong><span class="koboSpan" id="kobo.933.1">) and </span><strong class="bold"><span class="koboSpan" id="kobo.934.1">operational acceptance test</span></strong><span class="koboSpan" id="kobo.935.1"> (or </span><strong class="bold"><span class="koboSpan" id="kobo.936.1">OAT</span></strong><span class="koboSpan" id="kobo.937.1">).</span></p>
<p><span class="koboSpan" id="kobo.938.1">If your network automation code is highly dependable on a customer’s use, with clear requirements, I would highly recommend writing test cases with the customer for UAT and OAT. </span><span class="koboSpan" id="kobo.938.2">But if your work is for internal usage and has no end-user requirements, integration and unit tests are sufficient.</span></p>
<h3><span class="koboSpan" id="kobo.939.1">Security testing</span></h3>
<p><span class="koboSpan" id="kobo.940.1">If your software is deployed in restricted or vulnerable areas or touches network devices in a sensitive area, you might need to run security testing. </span><span class="koboSpan" id="kobo.940.2">Different from the other tests, </span><strong class="bold"><span class="koboSpan" id="kobo.941.1">security testing</span></strong><span class="koboSpan" id="kobo.942.1"> focuses</span><a id="_idIndexMarker674"/><span class="koboSpan" id="kobo.943.1"> on vulnerabilities of the code that you have created </span><a id="_idIndexMarker675"/><span class="koboSpan" id="kobo.944.1">and also on all module dependencies that are imported by your code. </span><span class="koboSpan" id="kobo.944.2">The versions of all modules are also checked, and some versions might be prohibited because of some internal security policies.</span></p>
<p><span class="koboSpan" id="kobo.945.1">One additional test is </span><a id="_idIndexMarker676"/><span class="koboSpan" id="kobo.946.1">called a </span><strong class="bold"><span class="koboSpan" id="kobo.947.1">pentest</span></strong><span class="koboSpan" id="kobo.948.1"> or a </span><strong class="bold"><span class="koboSpan" id="kobo.949.1">penetration test</span></strong><span class="koboSpan" id="kobo.950.1">, which is performed on the system your software is created on. </span><span class="koboSpan" id="kobo.950.2">The idea of a pentest is to perform a simulated cyberattack on the final system used by your code. </span><span class="koboSpan" id="kobo.950.3">The test has the objective of identifying weaknesses and potential access for unauthorized people to data or the system.</span></p>
<p><span class="koboSpan" id="kobo.951.1">Security testing also verifies the password management in the code and any cryptography used. </span><span class="koboSpan" id="kobo.951.2">There are some best practices when using passwords, such as cryptography and secrets that reduce the risk of unauthorized people accessing the system.</span></p>
<p><span class="koboSpan" id="kobo.952.1">For our network automation, security testing would be required if the devices we are going to automate were located in a vulnerable area, or if the software might be exposed to external parties or</span><a id="_idIndexMarker677"/><span class="koboSpan" id="kobo.953.1"> to the internet. </span><span class="koboSpan" id="kobo.953.2">But in general, there is no need for security testing for internal </span><a id="_idIndexMarker678"/><span class="koboSpan" id="kobo.954.1">usage.</span></p>
<p><span class="koboSpan" id="kobo.955.1">For sure, there is more to discuss in terms of security testing, but that would probably require a book on its own.</span></p>
<h3><span class="koboSpan" id="kobo.956.1">Destructive testing</span></h3>
<p><strong class="bold"><span class="koboSpan" id="kobo.957.1">Destructive software testing</span></strong><span class="koboSpan" id="kobo.958.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.959.1">DST</span></strong><span class="koboSpan" id="kobo.960.1"> is performed in the software to evaluate the robustness of the final system</span><a id="_idIndexMarker679"/><span class="koboSpan" id="kobo.961.1"> with the code that has been added. </span><span class="koboSpan" id="kobo.961.2">The</span><a id="_idIndexMarker680"/><span class="koboSpan" id="kobo.962.1"> tests are intended to stress the system or to enter invalid inputs so that the software starts to fail. </span><span class="koboSpan" id="kobo.962.2">The success of the test is to expose possible design weaknesses and performance limitations under normal and strained conditions.</span></p>
<p><span class="koboSpan" id="kobo.963.1">Failures during destructive tests are seen as good results if the system shows clearly the methods it has used to recover or to avoid breaking down completely. </span><span class="koboSpan" id="kobo.963.2">The performance is measured under the test, and the system resources are stressed to the maximum until degradation or failure occurs. </span><span class="koboSpan" id="kobo.963.3">It is possible to use the measurements taken during the performance stress later to add input system limitations for the current implementation, consequently avoiding any degradation.</span></p>
<h3><span class="koboSpan" id="kobo.964.1">Alpha and beta testing</span></h3>
<p><span class="koboSpan" id="kobo.965.1">When tests </span><a id="_idIndexMarker681"/><span class="koboSpan" id="kobo.966.1">are performed before going to production, some would call them </span><strong class="bold"><span class="koboSpan" id="kobo.967.1">alpha</span></strong><span class="koboSpan" id="kobo.968.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.969.1">beta testing</span></strong><span class="koboSpan" id="kobo.970.1">. </span><span class="koboSpan" id="kobo.970.2">Normally, alpha</span><a id="_idIndexMarker682"/><span class="koboSpan" id="kobo.971.1"> tests are performed before beta tests, just because of the alphabetical order. </span><span class="koboSpan" id="kobo.971.2">The tests are not necessarily different from integration or E2E testing, but normally they are performed in a production-like environment, or sometimes in production.</span></p>
<p><span class="koboSpan" id="kobo.972.1">Some beta</span><a id="_idIndexMarker683"/><span class="koboSpan" id="kobo.973.1"> tests also</span><a id="_idIndexMarker684"/><span class="koboSpan" id="kobo.974.1"> involve customers that are aware of the new features being tested and can help evaluate the new software before it goes to other customers in production. </span><span class="koboSpan" id="kobo.974.2">Therefore, beta testing would be the final stage before the software is considered reliable enough to be deployed in full production. </span><span class="koboSpan" id="kobo.974.3">Beta and alpha tests can have windows of testing that can last from hours to days.</span></p>
<h1 id="_idParaDest-164"><a id="_idTextAnchor165"/><span class="koboSpan" id="kobo.975.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.976.1">Congratulations! </span><span class="koboSpan" id="kobo.976.2">At this point, you are familiar with the coding practices used today. </span><span class="koboSpan" id="kobo.976.3">You know how to use tools to help your source code in terms of quality and concurrent development. </span><span class="koboSpan" id="kobo.976.4">You are also able to perceive the importance of having unit tests and integration tests added to your code.</span></p>
<p><span class="koboSpan" id="kobo.977.1">From now on, as a new code developer for automation, you are more equipped with the jargon and terms used in the software development community. </span><span class="koboSpan" id="kobo.977.2">You are able to improve not only the quality of your code but also your team’s code quality. </span><span class="koboSpan" id="kobo.977.3">Use the tools and the topics discussed here throughout your automation development career.</span></p>
<p><span class="koboSpan" id="kobo.978.1">In the next chapter, we are going to have more practical examples of how to use Go and Python for network automation. </span><span class="koboSpan" id="kobo.978.2">We are going to explore some examples of automation in Go and Python and compare them.</span></p>
</div>
</body></html>