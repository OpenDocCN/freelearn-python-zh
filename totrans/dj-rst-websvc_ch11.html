<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:pls="http://www.w3.org/2005/01/pronunciation-lexicon" xmlns:ssml="http://www.w3.org/2001/10/synthesis">
<head>
  <meta charset="UTF-8"/>
  <title>Installing the Required Software and Tools</title>
  <link type="text/css" rel="stylesheet" media="all" href="style.css"/>
  <link type="text/css" rel="stylesheet" media="all" href="core.css"/>
</head>
<body>
  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Installing the Required Software and Tools</h1>
                </header>
            
            <article>
                
<p>In this chapter, we will start our journey towards creating RESTful Web Services with Python and its most popular web framework: Django. Python is one of the most popular and versatile programming languages. There are thousands of Python packages, which allow you to extend Python capabilities to any kind of domain you can imagine. You can work with Django and packages to easily build simple and complex RESTful Web Services with Python that can run on your favorite platform.</p>
<p>We will leverage your existing knowledge of Python and all of its packages to code the different pieces of your RESTful Web Services and their ecosystem. We will use object-oriented features to create code that is easier to maintain, understand, and reuse. We don't need to learn another programming language, we can use the one we already know and love: Python.</p>
<p>In this chapter, we will install and configure the environments and the required software and tools to create RESTful Web Services with Django and Django REST framework. We will learn the necessary steps in Linux, macOS, and Windows. We will gain an understanding of the following:</p>
<ul>
<li>Creating a virtual environment with Python 3.x and PEP 405</li>
<li>Understanding the directory structure for a virtual environment</li>
<li>Activating the virtual environment</li>
<li>Deactivating the virtual environment</li>
<li>Installing Django and Django REST framework in an isolated environment</li>
<li>Creating an app with Django</li>
<li>Understanding Django folders, files, and configurations</li>
<li>Installing Curl</li>
<li>Installing HTTPie</li>
<li>Installing the Postman REST client</li>
<li>Installing Stoplight</li>
<li>Installing iCurlHTTP</li>
</ul>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating a virtual environment with Python 3.x and PEP 405</h1>
                </header>
            
            <article>
                
<p>Throughout this book, we will be working with different packages and libraries to create RESTful Web Services, and therefore it is convenient to work with Python virtual environments. Python 3.3 introduced lightweight virtual environments and they were improved in Python 3.4. We will work with these virtual environments, and therefore you will need Python 3.4 or greater. You can read more information about PEP 405 Python Virtual Environment, that introduced the <kbd>venv</kbd> module, here: <a href="https://www.python.org/dev/peps/pep-0405" target="_blank"><span class="URLPACKT">https://www.python.org/dev/peps/pep-0405</span></a>. All the examples in this book were tested on Python 3.6.2 on Linux, macOS, and Windows.</p>
<div class="packt_tip">In case you decide to use the popular <kbd>virtualenv</kbd> (<a href="https://pypi.python.org/pypi/virtualenv"><span class="URLPACKT">https://pypi.python.org/pypi/virtualenv</span></a>) third-party virtual environment builder or the virtual environment options provided by your Python IDE, you just have to make sure that you activate your virtual environment with the appropriate mechanism whenever it is necessary to do so, instead of following the step explained to activate the virtual environment generated with the <kbd>venv</kbd> module integrated in Python.</div>
<p>Each virtual environment we create with <kbd>venv</kbd> is an isolated environment and it will have its own independent set of installed Python packages in its site directories (folders). When we create a virtual environment with <kbd>venv</kbd> in Python 3.4 and greater, <kbd>pip</kbd> is included in the new virtual environment. In Python 3.3, it was necessary to manually install <kbd>pip</kbd> after creating the virtual environment. Note&#160;that the instructions provided are compatible with Python 3.4 or greater, including Python 3.6.2.</p>
<p>In order to create a lightweight virtual environment, the first step is to select the target folder or directory for it. The following is the path we will use in the example for Linux and macOS.</p>
<p>The target folder for the virtual environment will be the <kbd>HillarDjangoREST/01</kbd> folder within our home directory. For example, if our home directory in macOS or Linux is <kbd>/Users/gaston</kbd>, the virtual environment will be created within <kbd>/Users/gaston/HillarDjangoREST/01</kbd>. You can replace the specified path with your desired path in each command:</p>
<pre>    <strong>~/HillarDjangoREST/01</strong></pre>
<p>The following is the path we will use in the example for Windows. The target folder for the virtual environment will be the <kbd>HillarDjangoREST\01</kbd> folder within our user profile folder. For example, if our user profile folder is <kbd>C:\Users\gaston</kbd>, the virtual environment will be created within <kbd>C:\Users\gaston\HillarDjangoREST\01</kbd>. You can replace the specified path with your desired path in each command:</p>
<pre>    <strong>%USERPROFILE%\HillarDjangoREST\01</strong></pre>
<p>In Windows PowerShell, the previous path would be as follows:</p>
<pre>    <strong>$env:userprofile\HillarDjangoREST\01</strong></pre>
<p>Now, we will create a new virtual environment with <kbd>venv</kbd>. In order to do so, we have to use the <kbd>-m</kbd> option followed by the <kbd>venv</kbd> module name and the desired path to make Python run this module as a script and create a virtual environment in the specified path. The instructions are different depending on the platform in which we are creating the virtual environment.</p>
<p>Open Terminal in Linux or macOS and execute the following command to create a virtual environment:</p>
<pre>    <strong>python3 -m venv ~/HillarDjangoREST/01</strong></pre>
<p>In Windows, in<span>&#160;Command Prompt,</span> execute the following command to create a virtual environment:</p>
<pre>    <strong>python -m venv %USERPROFILE%\HillarDjangoREST\01</strong></pre>
<p>If you want to work with Windows PowerShell, execute the following command to create a virtual environment:</p>
<pre>    <strong>python -m venv $env:userprofile\HillarDjangoREST\01</strong></pre>
<p>None of the previous commands produce any output. The script created the specified target folder and installed <kbd>pip</kbd> by invoking <kbd>ensurepip</kbd> because we didn't specify the <kbd>--without-pip</kbd> option.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Understanding the directory structure for a virtual environment</h1>
                </header>
            
            <article>
                
<p>The specified target folder has a new directory tree that contains Python executable files and other files that indicate it is a PEP405 virtual environment.</p>
<p>In the root directory for the virtual environment, the <kbd>pyenv.cfg</kbd> configuration file specifies different options for the virtual environment and its existence is an indicator that we are in the root folder for a virtual environment. In Linux and macOS, the folder will have the following main subfolders: <kbd>bin</kbd>, <kbd>include</kbd>, <kbd>lib</kbd>, <kbd>lib/python3.6</kbd>, and <kbd>lib/python3.6/site-packages</kbd>. In Windows, the folder will have the following main subfolders: <kbd>Include</kbd>, <kbd>Lib</kbd>, <kbd>Lib\site-packages</kbd>, and <kbd>Scripts</kbd>. The directory trees for the virtual environment in each platform are the same as the layout of the Python installation on these platforms.</p>
<p>The following diagram shows the folders and files in the directory trees generated for the <kbd>01</kbd> virtual environments in macOS and Linux platforms:</p>
<div class="CDPAlignCenter CDPAlign"><img height="365" width="183" src="images/adb56dfb-d546-43cc-998a-5c3e5ebadb48.png"/></div>
<p>The following diagram shows the main folders in the directory trees generated for the virtual environment in Windows:</p>
<div class="CDPAlignCenter CDPAlign"><img height="185" width="223" src="images/db27a46c-37e9-4d31-961d-b4dc277c4309.png"/></div>
<div class="mce-root packt_infobox">After we activate the virtual environment, we will install third-party packages into the virtual environment and the modules will be located in the <kbd>lib/python3.6/site-packages</kbd> or <kbd>Lib\site-packages</kbd> folder, based on the platform. The executables will be copied in the <kbd>bin</kbd> or <kbd>Scripts</kbd> folder, based on the platform. The packages we install won't make changes to other virtual environments or our base Python environment.</div>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Activating the virtual environment</h1>
                </header>
            
            <article>
                
<p>Now that we have created a virtual environment, we will run a platform-specific script to activate it. After we activate the virtual environment, we will install packages that will only be available in this virtual environment. This way, we will work with an isolated environment in which all the packages we install won't affect our main Python environment.</p>
<p>Note that the results of this command will be accurate if you don't start a different shell than the default shell in the terminal session. If you have doubts, check your terminal configuration and preferences.&#160;Run the following command in the Terminal in Linux or macOS:</p>
<pre>    <strong>echo $SHELL</strong></pre>
<p>The command will display the name of the shell you are using in the Terminal. In macOS, the default is <kbd>/bin/bash</kbd> and this means you are working with the <kbd>bash</kbd> shell. Depending on the shell, you must run a different command to activate the virtual environment in Linux or macOS.</p>
<p>If your Terminal is configured to use the <kbd>bash</kbd> shell in Linux or macOS, run the following command to activate the virtual environment. The command also works for the <kbd>zsh</kbd> shell:</p>
<pre>    <strong>source ~/HillarDjangoREST/01/bin/activate</strong></pre>
<p>If your Terminal is configured to use either the <kbd>csh</kbd> or <kbd>tcsh</kbd> shell, run the following command to activate the virtual environment:</p>
<pre>    <strong>source ~/HillarDjangoREST/01/bin/activate.csh</strong></pre>
<p>If your Terminal is configured to use the <kbd>fish</kbd> shell, run the following command to activate the virtual environment:</p>
<pre>    <strong>source ~/HillarDjangoREST/01/bin/activate.fish</strong></pre>
<p>After you activate the virtual environment, C<span>ommand Prompt&#160;</span>will display the virtual environment root folder name enclosed in parentheses as a prefix of the default prompt to remind us that we are working in the virtual environment. In this case, we will see <kbd>(01)</kbd> as a prefix for the Command Prompt because the root folder for the activated virtual environment is <kbd>01</kbd>.</p>
<p>The following screenshot shows the virtual environment activated in a macOS Sierra Terminal with a <kbd>bash</kbd> shell, after executing the previously shown commands:</p>
<div class="CDPAlignCenter CDPAlign"><img height="126" width="475" src="images/b2094777-2d2d-48f6-b5e0-cba910fdd930.png"/></div>
<p>As we can see from the previous screenshot, the prompt changed from</p>
<p><kbd>Gastons-MacBook-Pro:~ gaston$</kbd> to <kbd>(01) Gastons-MacBook-Pro:~ gaston$</kbd> after the activation of the virtual environment.</p>
<p>In Windows, you can run either a batch file in the Command Prompt or a Windows PowerShell script to activate the virtual environment.</p>
<p>If you prefer Command Prompt, run the following command in the Windows command line to activate the virtual environment:</p>
<pre>    <strong>%USERPROFILE%\HillarDjangoREST\01\Scripts\activate.bat</strong></pre>
<p>The following screenshot shows the virtual environment activated in Windows 10 Command Prompt, after executing the previously shown commands:</p>
<div class="CDPAlignCenter CDPAlign"><img height="133" width="474" src="images/93c26d61-1f5e-4faf-9260-00016fd07ced.png"/></div>
<p>As we can see from the previous screenshot, the prompt changed from <kbd>C:\Users\gaston</kbd> to <kbd>(01) C:\Users\gaston</kbd> after the activation of the virtual environment.</p>
<p>If you prefer Windows PowerShell, launch it and run the following commands to activate the virtual environment. Note that you must have scripts execution enabled in Windows PowerShell to be able to run the script:</p>
<pre>    <strong>cd $env:USERPROFILE</strong>
    <strong>HillarDjangoREST\01\Scripts\Activate.ps1</strong></pre>
<p>If you receive an error similar to the following lines, it means that you don't have scripts execution enabled:</p>
<pre>    <strong>C:\Users\gaston\HillarDjangoREST\01\Scripts\Activate.ps1 : File C:\Users\gaston\HillarDjangoREST\01\Scripts\Activate.ps1 cannot be loaded because running scripts is disabled on this system. For more information, see about_Execution_Policies at</strong>
    <strong>http://go.microsoft.com/fwlink/?LinkID=135170.</strong>
    <strong>At line:1 char:1</strong>
    <strong>+ C:\Users\gaston\HillarDjangoREST\01\Scripts\Activate.ps1</strong>
    <strong>+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</strong>
    <strong>    + CategoryInfo          : SecurityError: (:) [], PSSecurityException</strong>
    <strong>    + FullyQualifiedErrorId : UnauthorizedAccess</strong>
  </pre>
<p>The Windows PowerShell default execution policy is <kbd>Restricted</kbd>. This policy allows the execution of individual commands but it doesn't run scripts. Thus, in case you want to work with Windows PowerShell, you will have to change the policy to allow the execution of scripts. It is very important to make sure that you understand the risks of the Windows PowerShell execution policies that allow you to run unsigned scripts. For more information about the different policies, check the following web page: <a href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_execution_policies?view=powershell-6"><span class="URLPACKT">https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_execution_policies?view=powershell-6</span></a>.</p>
<p>The following screenshot shows the virtual environment activated in a Windows 10 PowerShell, after executing the previously shown commands:</p>
<div class="CDPAlignCenter CDPAlign"><img height="97" width="536" src="images/3dd7d8f8-489c-482e-a002-13da5795fafd.png"/></div>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Deactivating the virtual environment</h1>
                </header>
            
            <article>
                
<p>It is extremely easy to deactivate a virtual environment generated by the previously explained process. The deactivation will remove all the changes made in the environment variables and will change the prompt back to its default message. Once you deactivate a virtual environment, you will go back to the default Python environment.</p>
<p>In macOS or Linux, just type <kbd>deactivate</kbd> and press <em>Enter</em>.</p>
<p>In a Windows Command Prompt, you have to run the <kbd>deactivate.bat</kbd> batch file included in the <kbd>Scripts</kbd> folder. In our example, the full path for this file is <kbd>%USERPROFILE%\HillarDjangoREST\01\Scripts\deactivate.bat</kbd>.</p>
<p>In Windows PowerShell, you have to run the <kbd>Deactivate.ps1</kbd> script in the <kbd>Scripts</kbd> folder. In our example, the full path for this file is <kbd>$env:userprofile\HillarDjangoREST\01\Scripts\Deactivate.ps1</kbd>. Remember that you must have scripts execution enabled in Windows PowerShell to be able to run the script.</p>
<p>The instructions in the next sections assume that the virtual environment we have created is activated.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Installing Django and Django REST frameworks in an isolated environment</h1>
                </header>
            
            <article>
                
<p>We have created and activated a lightweight virtual environment. It is time to run many commands that will be the same for either Linux, macOS, or Windows.</p>
<p>First, run the following command to install the Django web framework:</p>
<pre><strong>pip install django==1.11.5</strong></pre>
<p>The last lines of the output will indicate that the <kbd>django</kbd> package has been successfully installed. The process will also install the <kbd>pytz</kbd> package that provides world time zone definitions. Take into account that you may also see a notice to upgrade <kbd>pip</kbd>. The next lines show a sample of the four last lines of the output generated by a successful <kbd>pip</kbd> installation:</p>
<pre><strong>Collecting django</strong>
<strong>Collecting pytz (from django)</strong>
<strong>Installing collected packages: pytz, django</strong>
<strong>Successfully installed django-1.11.5 pytz-2017.2</strong></pre>
<p>Now that we have installed the Django web framework, we can install Django REST framework. Django REST framework works on top of Django and provides us with a powerful and flexible toolkit to build RESTful Web Services. We just need to run the following command to install this package:</p>
<pre><strong>pip install djangorestframework==3.6.4</strong></pre>
<p>The last lines for the output will indicate that the <kbd>djangorestframework</kbd> package has been successfully installed, as shown here:</p>
<pre><strong>Collecting djangorestframework</strong>
<strong>Installing collected packages: djangorestframework</strong>
<strong>Successfully installed djangorestframework-3.6.4</strong>  </pre>
<p>After following the previous steps, we will have Django REST framework 3.6.4 and Django 1.11.5 installed in our virtual environment. We will install additional packages as we need them in the forthcoming chapters.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating an app with Django</h1>
                </header>
            
            <article>
                
<p>Now, we will create our first app with Django and we will analyze the directory structure that Django creates. First, go to the root folder for the virtual environment: <kbd>01</kbd>.</p>
<p class="mce-root">In Linux or macOS, enter the following command:</p>
<pre><strong>cd ~/HillarDjangoREST/01</strong></pre>
<p>If you prefer Command Prompt, run the following command in the Windows command line:</p>
<pre><strong>cd /d %USERPROFILE%\HillarDjangoREST\01</strong></pre>
<p>If you prefer Windows PowerShell, run the following command in Windows PowerShell:</p>
<pre><strong>cd /d $env:USERPROFILE\HillarDjangoREST\01</strong>  </pre>
<p>In Linux or macOS, run the following command to create a new Django project named <kbd>restful01</kbd>. The command won't produce any output:</p>
<pre><strong>python bin/django-admin.py startproject restful01</strong>  </pre>
<p>In Windows, in either Command Prompt or PowerShell, run the following command to create a new Django project named <kbd>restful01</kbd>. The command won't produce any output:</p>
<pre><strong>python Scripts\django-admin.py startproject restful01</strong>  </pre>
<p>The previous command creates a <kbd>restful01</kbd> folder with other subfolders and Python files. Now, go to the recently created <kbd>restful01</kbd> folder. Just execute the following command on any platform:</p>
<pre><strong>cd restful01</strong></pre>
<p>Then, run the following command to create a new Django app named <kbd>toys</kbd> within the <kbd>restful01</kbd> Django project. The command won't produce any output:</p>
<pre><strong>python manage.py startapp toys</strong></pre>
<p>The previous command creates a new <kbd>restful01/toys</kbd> subfolder, with the following files:</p>
<ul>
<li><kbd>views.py</kbd></li>
<li><kbd>tests.py</kbd></li>
<li><kbd>models.py</kbd></li>
<li><kbd>apps.py</kbd></li>
<li><kbd>admin.py</kbd></li>
<li><kbd>__init__.py</kbd></li>
</ul>
<p>In addition, the <kbd>restful01/toys</kbd> folder will have a <kbd>migrations</kbd> subfolder with an <kbd>__init__.py</kbd> Python script. The following diagram shows the folders and files in the directory tree, starting at the <kbd>restful01</kbd> folder with two subfolders -&#160;<kbd>toys</kbd> and <kbd>restful01</kbd>:</p>
<div class="CDPAlignCenter CDPAlign"><img height="373" width="237" src="images/5ffe5724-1e14-40ed-a07f-4c877261ddf4.png"/></div>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Understanding Django folders, files, and configurations</h1>
                </header>
            
            <article>
                
<p>After we create our first Django project and then a Django app, there are many new folders and files. First, use your favorite editor or IDE to check the Python code in the <kbd>apps.py</kbd> file within the <kbd>restful01/toys</kbd> folder (<kbd>restful01\toys</kbd> in Windows). The following lines show the code for this file:</p>
<pre>from django.apps import AppConfig 
 
 
class ToysConfig(AppConfig): 
    name = 'toys' </pre>
<p>The code declares the <kbd>ToysConfig</kbd> class as a subclass of the <kbd>django.apps.AppConfig</kbd> class that represents a Django application and its configuration. The <kbd>ToysConfig</kbd> class just defines the <kbd>name</kbd> class attribute and sets its value to <kbd>'toys'</kbd>.</p>
<p>Now, we have to add <kbd>toys.apps.ToysConfig</kbd> as one of the installed apps in the <kbd>restful01/settings.py</kbd> file that configures settings for the <kbd>restful01</kbd> Django project. I built the previous string by concatenating many values as follows: app name + <kbd>.apps.</kbd> + class name, which is, <kbd>toys</kbd> + <kbd>.apps.</kbd> + <kbd>ToysConfig</kbd>. In addition, we have to add the <kbd>rest_framework</kbd> app to make it possible for us to use Django REST framework.</p>
<p>The <kbd>restful01/settings.py</kbd> file is a Python module with module-level variables that define the configuration of Django for the <kbd>restful01</kbd> project. We will make some changes to this Django settings file. Open the <kbd>restful01/settings.py</kbd> file and locate the highlighted lines that specify the strings list that declares the installed apps. The following code shows the first lines for the <kbd>settings.py</kbd> file. Note that the file has more code:</p>
<pre>""" 
Django settings for restful01 project. 
 
Generated by 'django-admin startproject' using Django 1.11.5. 
 
For more information on this file, see 
https://docs.djangoproject.com/en/1.11/topics/settings/ 
 
For the full list of settings and their values, see 
https://docs.djangoproject.com/en/1.11/ref/settings/ 
""" 
 
import os 
 
# Build paths inside the project like this: os.path.join(BASE_DIR, ...) 
BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__))) 
 
 
# Quick-start development settings - unsuitable for production 
# See https://docs.djangoproject.com/en/1.11/howto/deployment/checklist/ 
 
# SECURITY WARNING: keep the secret key used in production secret! 
SECRET_KEY = '+uyg(tmn%eo+fpg+fcwmm&amp;x(2x0gml8)=cs@$nijab%)y$a*xe' 
 
# SECURITY WARNING: don't run with debug turned on in production! 
DEBUG = True 
 
ALLOWED_HOSTS = [] 
 
 
# Application definition 
 
<strong>INSTALLED_APPS = [ 
    'django.contrib.admin', 
    'django.contrib.auth', 
    'django.contrib.contenttypes', 
    'django.contrib.sessions', 
    'django.contrib.messages', 
    'django.contrib.staticfiles', 
]</strong> </pre>
<p>Add the following two strings to the <kbd>INSTALLED_APPS</kbd> strings list and save the changes to the <kbd>restful01/settings.py</kbd> file:</p>
<ul>
<li><kbd>'rest_framework'</kbd></li>
<li><kbd>'toys.apps.ToysConfig'</kbd></li>
</ul>
<p>The following lines show the new code that declares the <kbd>INSTALLED_APPS</kbd> string list with the added lines highlighted and with comments to understand what each added string means. The code file for the sample is included in the <kbd>hillar_django_restful_01</kbd> folder:</p>
<pre>INSTALLED_APPS = [ 
    'django.contrib.admin', 
    'django.contrib.auth', 
    'django.contrib.contenttypes', 
    'django.contrib.sessions', 
    'django.contrib.messages', 
    'django.contrib.staticfiles', 
    <strong># Django REST framework 
    'rest_framework', 
    # Toys application 
    'toys.apps.ToysConfig',</strong> 
] </pre>
<p>This way, we have added Django REST framework and the <kbd>toys</kbd> application to our initial Django project named <kbd>restful01</kbd>.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Installing tools</h1>
                </header>
            
            <article>
                
<p>Now, we will leave Django for a while and we will install many tools that we will use to interact with the RESTful Web Services that we will develop throughout this book.</p>
<p>We will use the following different kinds of tools to compose and send HTTP requests and visualize the responses throughout our book:</p>
<ul>
<li>Command-line tools</li>
<li>GUI tools</li>
<li>Python code</li>
<li>Web browser</li>
<li>JavaScript code</li>
</ul>
<p>You can use any other application that allows you to compose and send HTTP requests. There are many apps that run on tablets and smartphones that allow you to accomplish this task. However, we will focus our attention on the most useful tools when building RESTful Web Services with Django.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Installing Curl</h1>
                </header>
            
            <article>
                
<p>We will start installing command-line tools. One of the key advantages of command-line tools is that you can easily run again the HTTP requests&#160;<span>again</span><span>&#160;</span><span>after we have built them for the first time, and we don't need to use the mouse or tap the screen to run requests. We can also easily build a script with batch requests and run them.</span></p>
<p>As happens with any command-line tool, it can take more time to perform the first requests compared with GUI tools, but it becomes easier once we have performed many requests and we can easily reuse the commands we have written in the past to compose new requests.</p>
<p><strong>Curl</strong>, also known as <strong>cURL</strong>, is a very popular open source command-line tool and library that allows us to easily transfer data. We can use the <kbd>curl</kbd> command-line tool to easily compose and send HTTP requests and check their responses.</p>
<p>In Linux or macOS, you can open a Terminal and start using <kbd>curl</kbd> from the command line.</p>
<p>In Windows, you have two options. You can work with <kbd>curl</kbd> in Command Prompt or you can decide to install curl as part of the Cygwin package installation option and execute it from the Cygwin terminal. You can read more about the Cygwin terminal and its installation procedure at:&#160;<a href="http://cygwin.com/install.html"><span class="URLPACKT">http://cygwin.com/install.html</span></a>. Windows Powershell includes a <kbd>curl</kbd> alias that calls the <kbd>Invoke-WebRequest</kbd> command, and therefore, if you want to work with Windows Powershell with curl, it is necessary to remove the <kbd>curl</kbd> alias.</p>
<p>If you want to use the <kbd>curl</kbd> command within Command Prompt, you just need to download and unzip the latest version of the <kbd>curl</kbd> download page: <a href="https://curl.haxx.se/download.html"><span class="URLPACKT">https://curl.haxx.se/download.html</span></a>. Make sure you download the version that includes SSL and SSH.</p>
<p>The following screenshot shows the available downloads for Windows. The <span class="packt_screen">Win64 - Generic</span> section includes the versions that we can run in Command Prompt or Windows Powershell.</p>
<p>The <kbd>Win64 x86_64.7zip</kbd> file provides the binary <span>version&#160;</span>for <kbd>curl</kbd> version 7.55.1 with SSL and SSH support:</p>
<div class="CDPAlignCenter CDPAlign"><img height="362" width="320" src="images/9b75bdad-8f18-46d8-b055-8eddcb2b3945.png"/></div>
<p>After you unzip the <kbd>.7zip</kbd> or <kbd>.zip</kbd> file you have downloaded, you can include the folder in which <kbd>curl.exe</kbd> is included in your path. For example, if you unzip the <kbd>Win64 x86_64.7zip</kbd> file, you will find <kbd>curl.exe</kbd> in the <kbd>bin</kbd> folder. The following screenshot shows the results of executing <kbd>curl --version</kbd> on&#160; Command Prompt in Windows 10. The <kbd>--version</kbd> option makes curl display its version and all the libraries, protocols, and features it supports:</p>
<div class="CDPAlignCenter CDPAlign"><img height="119" width="580" src="images/da309c94-a87d-40b1-a0fb-4a283c0ecce4.png"/></div>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Installing HTTPie</h1>
                </header>
            
            <article>
                
<p>Now, we will install HTTPie, a command-line HTTP client written in Python that makes it easy to send HTTP requests and uses a syntax that is easier than curl. By default, HTTPie displays colorized output and uses multiple lines to display the response details. In some cases, HTTPie makes it easier to understand the responses than the curl utility. However, one of the great disadvantages of HTTPie as a command-line utility is that it takes more time to load than curl, and therefore, if you want to code scripts with too many commands, you have to evaluate whether it makes sense to use HTTPie.</p>
<p>We just need to make sure we run the following command in the virtual environment we have just created and activated. This way, we will install HTTPie only for our virtual environment.</p>
<p>Run the following command in the terminal, Command Prompt, or Windows PowerShell to install the <kbd>httpie</kbd> package:</p>
<pre><strong>pip install --upgrade httpie</strong></pre>
<p>The last lines of the output will indicate that the <kbd>httpie</kbd> package has been successfully installed:</p>
<pre>    <strong>Collecting httpie</strong>
    <strong>Collecting colorama&gt;=0.2.4 (from httpie)</strong>
    <strong>Collecting requests&gt;=2.11.0 (from httpie)</strong>
    <strong>Collecting Pygments&gt;=2.1.3 (from httpie)</strong>
    <strong>Collecting idna&lt;2.7,&gt;=2.5 (from requests&gt;=2.11.0-&gt;httpie)</strong>
    <strong>Collecting urllib3&lt;1.23,&gt;=1.21.1 (from requests&gt;=2.11.0-&gt;httpie)</strong>
    <strong>Collecting chardet&lt;3.1.0,&gt;=3.0.2 (from requests&gt;=2.11.0-&gt;httpie)</strong>
    <strong>Collecting certifi&gt;=2017.4.17 (from requests&gt;=2.11.0-&gt;httpie)</strong>
    <strong>Installing collected packages: colorama, idna, urllib3, chardet, certifi, requests, Pygments, httpie</strong>
    <strong>Successfully installed Pygments-2.2.0 certifi-2017.7.27.1 chardet-3.0.4 colorama-0.3.9 httpie-0.9.9 idna-2.6 requests-2.18.4 urllib3-1.22</strong>
  </pre>
<div class="packt_tip">If you don't remember how to activate the virtual environment that we created for this example, read the&#160;<em>Activating the virtual environment&#160;</em>section in this chapter.</div>
<p>Now, we will be able to use the <kbd>http</kbd> command to easily compose and send HTTP requests to our future RESTful Web Services build with Django. The following screenshot shows the results of executing <kbd>http</kbd> on Command Prompt in Windows 10. HTTPie displays the valid options and indicates that a URL is required:</p>
<div class="CDPAlignCenter CDPAlign"><img height="292" width="606" src="images/dc8d1e4b-c580-42c4-8f5d-c2427b7a3be1.png"/></div>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Installing the Postman REST client</h1>
                </header>
            
            <article>
                
<p>So far, we have installed two terminal-based or command-line tools to compose and send HTTP requests to our Django development server: cURL and HTTPie. Now, we will start installing <strong>G</strong><span><strong>raphical User Interface</strong> (</span><span><strong>GUI</strong>) tools.</span></p>
<p>Postman is a very popular API testing suite GUI tool that allows us to easily compose and send HTTP requests, among other features. Postman is available as a standalone app in Linux, macOS, and Windows. You can download the versions of the <em>Postman</em> app from the following URL: <a href="https://www.getpostman.com"><span class="URLPACKT">https://www.getpostman.com</span></a>.</p>
<div class="packt_tip">You can download and install Postman for free to compose and send HTTP requests to the RESTful Web Services we will build throughout this book. You just need to sign up to Postman. We won't be using any of the paid features provided by either Postman Pro or Postman Enterprise in our examples. All the instructions work with Postman 5.2.1 or greater.</div>
<p>The following screenshot shows the HTTP GET request builder in Postman:</p>
<div class="CDPAlignCenter CDPAlign"><img height="326" width="655" src="images/53e39c1f-b5ff-4bbf-a2e0-730fcfc612c9.png"/></div>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Installing Stoplight</h1>
                </header>
            
            <article>
                
<p>Stoplight is a very useful GUI tool that focuses on helping architects and developers to model complex APIs. If we need to consume our RESTful Web Service in many different programming languages, we will find Stoplight extremely helpful. Stoplight provides an HTTP request maker that allows us to compose and send requests and generate the necessary code to make them in different programming languages, such as JavaScript, Swift, C#, PHP, Node, and Go, among others.</p>
<p>Stoplight provides a web version and is also available as a standalone app in Linux, macOS, and Windows. You can download the versions of Stoplight from the following URL: <a href="http://stoplight.io/"><span class="URLPACKT">http://stoplight.io/</span></a>.</p>
<p>The following screenshot shows the HTTP GET request builder in Stoplight with the code generation at the bottom:</p>
<div class="CDPAlignCenter CDPAlign"><img height="352" width="651" src="images/ca260d76-d5cb-4e56-a3ce-da8b5442d520.png"/></div>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Installing iCurlHTTP</h1>
                </header>
            
            <article>
                
<p>We can also use apps that can compose and send HTTP requests from mobile devices to work with our RESTful Web Services. For example, we can work with the iCurlHTTP app on iOS devices such as iPad and iPhone: <a href="https://itunes.apple.com/us/app/icurlhttp/id611943891"><span class="URLPACKT">https://itunes.apple.com/us/app/icurlhttp/id611943891</span></a>. On Android devices, we can work with the <em>HTTP Request</em> app: <a href="https://play.google.com/store/apps/details?id=air.http.request&amp;hl=en"><span class="URLPACKT">https://play.google.com/store/apps/details?id=air.http.request&amp;hl=en</span></a>.</p>
<p>The following screenshot shows the UI for the iCurlHTTP app running on an iPad Pro:</p>
<div class="CDPAlignCenter CDPAlign"><img height="556" width="417" src="images/a662bfeb-ec5f-4569-b27b-c39761955882.png"/></div>
<p>At the time of writing, the mobile apps that allow you to compose and send HTTP requests do not provide all the features you can find in Postman or command-line utilities.</p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Test your knowledge</h1>
                </header>
            
            <article>
                
<p>Let's see whether you can answer the following questions correctly:</p>
<ol>
<li>After we activate a virtual environment, all the packages we install with <kbd>pip</kbd> are available:
<ol>
<li>For all the virtual environments available in the computer or device that is running Python</li>
<li>Only for the activated virtual environment</li>
<li>For all the virtual environments created by the current user</li>
</ol>
</li>
<li>HTTPie is a:
<ol>
<li>
<p>Command-line HTTP server written in Python that makes it easy to create a RESTful Web Server</p>
</li>
<li>Command-line utility that allows us to run queries against an SQLite database</li>
<li>Command-line HTTP client written in Python that makes it easy to compose and send HTTP requests</li>
</ol>
</li>
<li>Which of the following commands creates a new app named <kbd>books</kbd> in Django?
<ol>
<li><kbd>django startapp books</kbd></li>
<li><kbd>python django.py startapp books</kbd></li>
<li><kbd>python manage.py startapp books</kbd></li>
</ol>
</li>
<li>In Django, a subclass of which of the following classes represents a Django application and its configuration?
<ol>
<li>&#160;<kbd>django.apps.AppConfig</kbd></li>
<li><kbd>django.application.configuration</kbd></li>
<li><kbd>django.config.App</kbd></li>
</ol>
</li>
<li>Which of the following strings must be added to the <kbd>INSTALLED_APPS</kbd> string list in the <kbd>settings.py</kbd> file to enable Django REST framework?
<ol>
<li><kbd>'rest_framework'</kbd></li>
<li><kbd>'django_rest_framework'</kbd></li>
<li><kbd>'Django_REST_framework'</kbd></li>
</ol>
</li>
</ol>
<p class="mce-root"></p>
<p class="mce-root">The rights answers are included in the <a href="dj-rst-websvc_ch19.html" target="_blank">Appendix</a>, <em>Solutions</em>.</p>
<p class="mce-root"></p>


            </article>

            
        </section>
    </div>


  <div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>In this chapter, we learned the advantages of working with lightweight virtual environments in Python and we set up a virtual environment with Django and Django REST framework. We created an app with Django, we took a first look at the Django folders, files, and configurations, and we made the necessary changes to activate Django REST framework.</p>
<p>Then, we introduced and installed command-line and GUI tools that we will use to interact with the RESTful Web Services that we will design, code, test, and run in the forthcoming chapters.</p>
<p>Now that we have our environment ready to start working with Django REST framework, we will define the requirements for our first RESTful Web Service and we will work with models, migrations, serialization, and deserialization, which are the topics that we are going to discuss in the next chapter.</p>
<p class="mce-root"></p>
<p class="mce-root"></p>


            </article>

            
        </section>
    </div>
</body>
</html>