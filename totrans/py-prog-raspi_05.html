<html><head></head><body>
        

            
                <h1 class="header-title">Data Types and Object-Oriented Programming in Python</h1>
            

            
                
<p>In this chapter, we will discuss data types and <strong>object-oriented programming</strong> (<strong>OOP</strong>) in Python. We will discuss data types including lists, dictionaries, tuples and sets in Python. We will also discuss OOP, it's necessity and how to write object-oriented code in Python for Raspberry Pi based projects (such as, using OOP to control appliances at home). We will discuss making use of OOP in a Raspberry Pi Zero project.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Lists</h1>
            

            
                
<p>In Python, a list is a data type (its documentation is available here, <a href="https://docs.python.org/3.4/tutorial/datastructures.html#">https://docs.python.org/3.4/tutorial/datastructures.html#</a>) that could be used to store elements in a sequence.</p>
<p>The topics discussed in this chapter can be difficult to grasp unless used in practice. Any example that is represented using this notation: <kbd>&gt;&gt;&gt;</kbd> indicates that it could be tested using the Python interpreter.</p>
<p>A list may consist of strings, objects (discussed in detail in this chapter) or numbers, and so on. For instance, the following are examples of lists:</p>
<pre>
    <strong>&gt;&gt;&gt; sequence = [1, 2, 3, 4, 5, 6]</strong><br/><strong>    &gt;&gt;&gt; example_list = ['apple', 'orange', 1.0, 2.0, 3]</strong>
</pre>
<p>In the preceding set of examples, the <kbd>sequence</kbd> list consists of numbers between <kbd>1</kbd> and <kbd>6</kbd> while the <kbd>example_list</kbd> list consists of a combination of strings, integer, and floating-point numbers. A list is represented by square brackets (<kbd>[]</kbd>). Items can be added to a list separated by commas:</p>
<pre>
    <strong>&gt;&gt;&gt; type(sequence)</strong><br/><strong>    &lt;class 'list'&gt;</strong>
</pre>
<p>Since a list is an ordered sequence of elements, the elements of a list could be fetched by iterating through the list elements using a <kbd>for</kbd> loop as follows:</p>
<pre>
for item in sequence: <br/>    print("The number is ", item)
</pre>
<p>The output is something as follows:</p>
<pre>
<strong>    The number is  1</strong><br/><strong>    The number is  2</strong><br/><strong>    The number is  3</strong><br/><strong>    The number is  4</strong><br/><strong>    The number is  5</strong><br/><strong>    The number is  6</strong>
</pre>
<p>Since Python's loop can iterate through a sequence of elements, it fetches each element and assigns it to <kbd>item</kbd>. This item is printed on the console.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Operations that could be performed on a list</h1>
            

            
                
<p>In Python, the attributes of a data type can be retrieved using the <kbd>dir()</kbd> method. For example, the attributes available for the <kbd>sequence</kbd> list can be retrieved as follows:</p>
<pre>
    <strong>&gt;&gt;&gt; dir(sequence)</strong><br/><strong>    ['__add__', '__class__', '__contains__', '__delattr__',<br/>    '__delitem__', '__dir__', '__doc__', '__eq__',<br/>    '__format__', '__ge__', '__getattribute__', '__getitem__',<br/>    '__gt__', '__hash__', '__iadd__', '__imul__', '__init__', <br/>    '__iter__', '__le__', '__len__', '__lt__', '__mul__',<br/>    '__ne__', '__new__', '__reduce__', '__reduce_ex__',<br/>    '__repr__', '__reversed__', '__rmul__', '__setattr__', <br/>    '__setitem__', '__sizeof__', '__str__', '__subclasshook__', <br/>    'append', 'clear', 'copy', 'count', 'extend', 'index',<br/>    'insert', 'pop', 'remove', 'reverse', 'sort']</strong>
</pre>
<p>These attributes enable performing different operations on a list. Let's discuss each attribute in detail.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Append element to list:</h1>
            

            
                
<p>It is possible to add an element using the <kbd>append()</kbd> method:</p>
<pre>
    <strong>&gt;&gt;&gt; sequence.append(7)</strong><br/><strong>    &gt;&gt;&gt; sequence</strong><br/><strong>    [1, 2, 3, 4, 5, 6, 7]</strong>
</pre>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Remove element from list:</h1>
            

            
                
<p>The <kbd>remove()</kbd> method finds the first instance of the element (passed an argument) and removes it from the list. Let's consider the following examples:</p>
<ul>
<li><strong>Example 1</strong>:</li>
</ul>
<pre>
       <strong>&gt;&gt;&gt; sequence = [1, 1, 2, 3, 4, 7, 5, 6, 7]</strong><br/><strong>       &gt;&gt;&gt; sequence.remove(7)</strong><br/><strong>       &gt;&gt;&gt; sequence</strong><br/><strong>       [1, 1, 2, 3, 4, 5, 6, 7]</strong>
</pre>
<ul>
<li><strong>Example 2</strong>:</li>
</ul>
<pre>
       <strong>&gt;&gt;&gt; sequence.remove(1)</strong><br/><strong>       &gt;&gt;&gt; sequence</strong><br/><strong>       [1, 2, 3, 4, 5, 6, 7]</strong>
</pre>
<ul>
<li><strong>Example 3</strong>:</li>
</ul>
<pre>
       <strong>&gt;&gt;&gt; sequence.remove(1)</strong><br/><strong>       &gt;&gt;&gt; sequence</strong><br/><strong>       [2, 3, 4, 5, 6, 7]</strong>
</pre>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Retrieving the index of an element</h1>
            

            
                
<p>The <kbd>index()</kbd> method returns the position of an element in a list:</p>
<pre>
    <strong>&gt;&gt;&gt; index_list = [1, 2, 3, 4, 5, 6, 7]</strong><br/><strong>    &gt;&gt;&gt; index_list.index(5)</strong><br/><strong>    4</strong>
</pre>
<p>In this example, the method returns the index of the element <kbd>5</kbd>. Since Python uses zero-based indexing that is the index is counted from 0 and hence the index of the element <kbd>5</kbd> is <kbd>4</kbd>:</p>
<pre>
    <strong>random_list = [2, 2, 4, 5, 5, 5, 6, 7, 7, 8]</strong><br/><strong>    &gt;&gt;&gt; random_list.index(5)</strong><br/><strong>    3</strong>
</pre>
<p>In this example, the method returns the position of the first instance of the element. The element <kbd>5</kbd> is located at the third position.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Popping an element from the list</h1>
            

            
                
<p>The <kbd>pop()</kbd> method enables removing an element from a specified position and return it:</p>
<pre>
    <strong>&gt;&gt;&gt; index_list = [1, 2, 3, 4, 5, 6, 7]</strong><br/><strong>    &gt;&gt;&gt; index_list.pop(3)</strong><br/><strong>    4</strong><br/><strong>    &gt;&gt;&gt; index_list</strong><br/><strong>    [1, 2, 3, 5, 6, 7]</strong>
</pre>
<p>In this example, the <kbd>index_list</kbd> list consists of numbers between <kbd>1</kbd> and <kbd>7</kbd>. When the third element is popped by passing the index position <kbd>(3)</kbd> as an argument, the number <kbd>4</kbd> is removed from the list and returned.</p>
<p>If no arguments are provided for the index position, the last element is popped and returned:</p>
<pre>
    <strong>&gt;&gt;&gt; index_list.pop()</strong><br/><strong>    7</strong><br/><strong>    &gt;&gt;&gt; index_list</strong><br/><strong>    [1, 2, 3, 5, 6]</strong>
</pre>
<p>In this example, the last element <kbd>(7)</kbd> was popped and returned.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Counting the instances of an element:</h1>
            

            
                
<p>The <kbd>count()</kbd> method returns the number of times an element appears in a list. For example, the element appears twice in the list: <kbd>random_list</kbd>.</p>
<pre>
<strong>    &gt;&gt;&gt; random_list = [2, 9, 8, 4, 3, 2, 1, 7]<br/></strong><strong>    &gt;&gt;&gt; random_list.count(2)<br/></strong><strong>    2</strong>
</pre>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Inserting element at a specific position:</h1>
            

            
                
<p>The <kbd>insert()</kbd> method enables adding an element at a specific position in the list. For example, let's consider the following example:</p>
<pre>
    <strong>&gt;&gt;&gt; day_of_week = ['Monday', 'Tuesday', 'Thursday',<br/>    'Friday', 'Saturday']</strong>
</pre>
<p>In the list, <kbd>Wednesday</kbd> is missing. It needs to be positioned between <kbd>Tuesday</kbd> and <kbd>Thursday</kbd> at position 2 (Python uses <strong>zero based indexing</strong> that is the positions/indexes of elements are counted as 0, 1, 2, and so on.). It could be added using insert as follows:</p>
<pre>
    <strong>&gt;&gt;&gt; day_of_week.insert(2, 'Wednesday')</strong><br/><strong>    &gt;&gt;&gt; day_of_week</strong><br/><strong>    ['Monday', 'Tuesday', 'Wednesday', 'Thursday',<br/>    'Friday', 'Saturday']</strong>
</pre>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Challenge to the reader</h1>
            

            
                
<p>In the preceding list, <kbd>Sunday</kbd> is missing. Use the <kbd>insert</kbd> attribute of lists to insert it at the correct position.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Extending a list</h1>
            

            
                
<p>Two lists can be combined together using the <kbd>extend()</kbd> method. The <kbd>day_of_week</kbd> and <kbd>sequence</kbd> lists can be combined as follows:</p>
<pre>
    <strong>&gt;&gt;&gt; day_of_week.extend(sequence)</strong><br/><strong>    &gt;&gt;&gt; day_of_week</strong><br/><strong>    ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday',<br/>    'Saturday', 1, 2, 3, 4, 5, 6]</strong>
</pre>
<p>Lists can also be combined as follows:</p>
<pre>
    <strong>&gt;&gt;&gt; [1, 2, 3] + [4, 5, 6]</strong><br/><strong>    [1, 2, 3, 4, 5, 6]</strong>
</pre>
<p>It is also possible to add a list as an element to another list:</p>
<pre>
    <strong>sequence.insert(6, [1, 2, 3])</strong><br/><strong>    &gt;&gt;&gt; sequence</strong><br/><strong>    [1, 2, 3, 4, 5, 6, [1, 2, 3]]</strong>
</pre>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Clearing the elements of a list</h1>
            

            
                
<p>All the elements of a list could be deleted using the <kbd>clear()</kbd> method:</p>
<pre>
    <strong>&gt;&gt;&gt; sequence.clear()</strong><br/><strong>    &gt;&gt;&gt; sequence</strong><br/><strong>    []</strong>
</pre>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Sorting the elements of a list</h1>
            

            
                
<p>The elements of a list could be sorted using the <kbd>sort()</kbd> method:</p>
<pre>
    <strong>random_list = [8, 7, 5, 2, 2, 5, 7, 5, 6, 4]</strong><br/><strong>    &gt;&gt;&gt; random_list.sort()</strong><br/><strong>    &gt;&gt;&gt; random_list</strong><br/><strong>    [2, 2, 4, 5, 5, 5, 6, 7, 7, 8]</strong>
</pre>
<p>When a list consists of a collection of strings, they are sorted in the alphabetical order:</p>
<pre>
    <strong>&gt;&gt;&gt; day_of_week = ['Monday', 'Tuesday', 'Thursday',<br/>    'Friday', 'Saturday']</strong><br/><strong>    &gt;&gt;&gt; day_of_week.sort()</strong><br/><strong>    &gt;&gt;&gt; day_of_week</strong><br/><strong>    ['Friday', 'Monday', 'Saturday', 'Thursday', 'Tuesday']</strong>
</pre>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Reverse the order of elements in list</h1>
            

            
                
<p>The <kbd>reverse()</kbd> method enables the reversing the order of the list elements:</p>
<pre>
    <strong>&gt;&gt;&gt; random_list = [8, 7, 5, 2, 2, 5, 7, 5, 6, 4]</strong><br/><strong>    &gt;&gt;&gt; random_list.reverse()</strong><br/><strong>    &gt;&gt;&gt; random_list</strong><br/><strong>    [4, 6, 5, 7, 5, 2, 2, 5, 7, 8]</strong>
</pre>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Create copies of a list</h1>
            

            
                
<p>The <kbd>copy()</kbd> method enables creating copies of a list:</p>
<pre>
    <strong>&gt;&gt;&gt; copy_list = random_list.copy()</strong><br/><strong>    &gt;&gt;&gt; copy_list</strong><br/><strong>    [4, 6, 5, 7, 5, 2, 2, 5, 7, 8]</strong>
</pre>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Accessing list elements</h1>
            

            
                
<p>The list elements could be accessed by specifying the index position of the <kbd>list_name[i]</kbd> element. For example, the zeroth list element of the <kbd>random_list</kbd> list could be accessed as follows:</p>
<pre>
<strong>    &gt;&gt;&gt; random_list = [4, 6, 5, 7, 5, 2, 2, 5, 7, 8]</strong> <br/><strong>    &gt;&gt;&gt; random_list[0]</strong><strong>4</strong><strong>&gt;&gt;&gt; random_list[3]</strong><strong>7</strong>
</pre>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Accessing a set of elements within a list</h1>
            

            
                
<p>It is possible to access elements between specified indices. For example, it is possible to retrieve all elements between indices 2 and 4:</p>
<pre>
    <strong>&gt;&gt;&gt; random_list[2:5]</strong><br/><strong>    [5, 7, 5]</strong>
</pre>
<p>The first six elements of a list could be accessed as follows:</p>
<pre>
    <strong>&gt;&gt;&gt; random_list[:6]</strong><br/><strong>    [4, 6, 5, 7, 5, 2]</strong>
</pre>
<p>The elements of a list could be printed in the reverse order as follows:</p>
<pre>
    <strong>&gt;&gt;&gt; random_list[::-1]</strong><br/><strong>    [8, 7, 5, 2, 2, 5, 7, 5, 6, 4]</strong>
</pre>
<p>Every second element in the list could be fetched as follows:</p>
<pre>
    <strong>&gt;&gt;&gt; random_list[::2]</strong><br/><strong>    [4, 5, 5, 2, 7]</strong>
</pre>
<p>It is also possible to fetch every second element after the second element after skipping the first two elements:</p>
<pre>
    <strong>&gt;&gt;&gt; random_list[2::2]</strong><br/><strong>    [5, 5, 2, 7]</strong>
</pre>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">List membership</h1>
            

            
                
<p>It is possible to check if a value is a member of a list using the <kbd>in</kbd> keyword. For example:</p>
<pre>
<strong>    &gt;&gt;&gt; random_list = [2, 1, 0, 8, 3, 1, 10, 9, 5, 4]</strong>
</pre>
<p>In this list, we could check if the number <kbd>6</kbd> is a member:</p>
<pre>
    <strong>&gt;&gt;&gt; 6 in random_list</strong><br/><strong>    False</strong><br/><strong>    &gt;&gt;&gt; 4 in random_list</strong><br/><strong>    True</strong>
</pre>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Let's build a simple game!</h1>
            

            
                
<p>This exercise consists of two parts. In the first part, we will review building a list containing ten random numbers between <kbd>0</kbd> and <kbd>10</kbd>. The second part is a challenge to the reader. Perform the following steps:</p>
<ol>
<li>The first step is creating an empty list. Let's create an empty list called <kbd>random_list</kbd>. An empty list can be created as follows:</li>
</ol>
<pre>
       random_list = []
</pre>
<ol start="2">
<li>We will be making use of Python's <kbd>random</kbd> module (<a href="https://docs.python.org/3/library/random.html">https://docs.python.org/3/library/random.html</a>) to generate random numbers. In order to generate random numbers between <kbd>0</kbd> and <kbd>10</kbd>, we will make use of the <kbd>randint()</kbd> method from the <kbd>random</kbd> module:</li>
</ol>
<pre>
       random_number = random.randint(0,10)
</pre>
<ol start="3">
<li>Let's append the generated number to the list. This operation is repeated <kbd>10</kbd> times using a <kbd>for</kbd> loop:</li>
</ol>
<pre>
       for index in range(0,10):<br/>             random_number = random.randint(0, 10)<br/>             random_list.append(random_number)<br/>       print("The items in random_list are ")<br/>       print(random_list)
</pre>
<ol start="4">
<li>The generated list looks something like this:</li>
</ol>
<pre>
       <strong>The items in random_list are</strong><br/><strong>       [2, 1, 0, 8, 3, 1, 10, 9, 5, 4]</strong>
</pre>
<p>We discussed generating a list of random numbers. The next step is taking user input where we ask the user to make a guess for a number between <kbd>0</kbd> and <kbd>10</kbd>. If the number is a member of the list, the message <kbd>Your guess is correct</kbd> is printed to the screen, else, the message <kbd>Sorry! Your guess is incorrect</kbd> is printed. We leave the second part as a challenge to the reader. Get started with the <kbd>list_generator.py</kbd> code sample available for download with this chapter.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Dictionaries</h1>
            

            
                
<p>A dictionary (<a href="https://docs.python.org/3.4/tutorial/datastructures.html#dictionaries">https://docs.python.org/3.4/tutorial/datastructures.html#dictionaries</a>) is a data type that is an unordered collection of key and value pairs. Each key in a dictionary has an associated value. An example of a dictionary is:</p>
<pre>
<strong>    &gt;&gt;&gt; my_dict = {1: "Hello", 2: "World"}<br/>    &gt;&gt;&gt; my_dict<br/>   <br/>    {1: 'Hello', 2: 'World'}</strong>
</pre>
<p>A dictionary is created by using the braces <kbd>{}</kbd>. At the time of creation, new members are added to the dictionary in the following format: <kbd>key: value</kbd> (shown in the preceding example). In the previous example <kbd>1</kbd> and <kbd>2</kbd> are keys while <kbd>'Hello'</kbd> and <kbd>'World'</kbd> are the associated values. Each value added to a dictionary needs to have an associated key.</p>
<p>The elements of a dictionary do not have an order i.e. the elements cannot be retrieved in the order they were added. It is possible to retrieving the values of a dictionary by iterating through the keys. Let's consider the following example:</p>
<pre>
<strong>    &gt;&gt;&gt; my_dict = {1: "Hello", 2: "World", 3: "I", 4: "am",<br/>    5: "excited", 6: "to", 7: "learn", 8: "Python" }</strong>
</pre>
<p>There are several ways to print the keys or values of a dictionary:</p>
<pre>
<strong>    &gt;&gt;&gt; for key in my_dict:<br/></strong><strong><br/>    ... <br/><br/>    print(my_dict[value])<br/></strong><br/><strong>    ...<br/><br/></strong><strong>    Hello<br/><br/></strong><strong>    World<br/><br/></strong><strong>    I<br/></strong><br/><strong>    am<br/><br/></strong><strong>    excited<br/><br/></strong><strong>    to<br/><br/></strong><strong>    learn<br/><br/></strong><strong>    Python</strong>
</pre>
<p>In the preceding example, we iterate through the keys of the dictionary and retrieve the value using the key, <kbd>my_dict[key]</kbd>. It is also possible to retrieve the values using the <kbd>values()</kbd> method available with dictionaries:</p>
<pre>
<strong>    &gt;&gt;&gt; for value in my_dict.values():<br/><br/></strong><strong>    ... <br/><br/>    print(value)<br/><br/></strong><strong>    ...<br/><br/></strong><strong>    Hello<br/><br/></strong><strong>    World<br/><br/></strong><strong>    I<br/><br/></strong><strong>    am<br/><br/></strong><strong>    excited<br/><br/></strong><strong>    to<br/><br/></strong><strong>    learn<br/><br/></strong><strong>    Python</strong>
</pre>
<p>The keys of a dictionary can be an integer, string, or a tuple. The keys of a dictionary need to be unique and it is immutable, that is a key cannot be modified after creation. Duplicates of a key cannot be created. If a new value is added to an existing key, the latest value is stored in the dictionary. Let's consider the following example:</p>
<ul>
<li>A new key/value pair could be added to a dictionary as follows:</li>
</ul>
<pre>
<strong>       &gt;&gt;&gt; my_dict[9] = 'test'<br/><br/></strong><strong>       &gt;&gt;&gt; my_dict<br/><br/></strong><strong>       {1: 'Hello', 2: 'World', 3: 'I', 4: 'am', 5: 'excited',<br/>       6: 'to', 7: 'learn', 8: 'Python', 9: 'test'}</strong>
</pre>
<ul>
<li>Let's try creating a duplicate of the key <kbd>9</kbd>:</li>
</ul>
<pre>
<strong>       &gt;&gt;&gt; my_dict[9] = 'programming'<br/><br/></strong><strong>       &gt;&gt;&gt; my_dict<br/><br/></strong><strong>       {1: 'Hello', 2: 'World', 3: 'I', 4: 'am', 5: 'excited',<br/>       6: 'to', 7: 'learn', 8: 'Python', 9: 'programming'}</strong>
</pre>
<ul>
<li>As shown in the preceding example, when we try to create a duplicate, the value of the existing key is modified.</li>
<li>It is possible to have multiple values associated with a key. For example, as a list or a dictionary:</li>
</ul>
<pre>
<strong>      &gt;&gt;&gt; my_dict = {1: "Hello", 2: "World", 3: "I", 4: "am",<br/>      "values": [1, 2, 3,4, 5], "test": {"1": 1, "2": 2} }<br/></strong>
</pre>
<p>Dictionaries are useful in scenarios like parsing CSV files and associating each row with a unique key. Dictionaries are also used to encode and decode JSON data</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Tuples</h1>
            

            
                
<p>A tuple (pronounced either like <em>two-ple</em> or <em>tuh-ple</em>) is an immutable data type that are ordered and separated by a comma. A tuple can be created as follows:</p>
<pre>
<strong>      &gt;&gt;&gt; my_tuple = 1, 2, 3, 4, 5</strong><br/><strong><br/>      &gt;&gt;&gt; my_tuple<br/></strong><strong><br/>      (1, 2, 3, 4, 5)</strong>
</pre>
<p>Since tuples are immutable, the value at a given index cannot be modified:</p>
<pre>
    <strong>&gt;&gt;&gt; my_tuple[1] = 3</strong><br/><strong>    Traceback (most recent call last):</strong><br/><strong>      File "&lt;stdin&gt;", line 1, in &lt;module&gt;</strong><br/><strong>    TypeError: 'tuple' object does not support item assignment</strong>
</pre>
<p>A tuple can consist of a number, string, or a list. Since lists are mutable, if a list is a member of a tuple, it can be modified. For example:</p>
<pre>
    <strong>&gt;&gt;&gt; my_tuple = 1, 2, 3, 4, [1, 2, 4, 5]</strong><br/><strong>    &gt;&gt;&gt; my_tuple[4][2] = 3</strong><br/><strong>    &gt;&gt;&gt; my_tuple</strong><br/><strong>    (1, 2, 3, 4, [1, 2, 3, 5])</strong>
</pre>
<p>Tuples are especially useful in scenarios where the value cannot be modified. Tuples are also used to return values from a function. Let's consider the following example:</p>
<pre>
<strong>    &gt;&gt;&gt; for value in my_dict.items():<br/></strong><strong><br/>    ... <br/><br/>    print(value)<br/></strong><br/><strong>    ...</strong><br/><strong><br/>    (1, 'Hello')<br/></strong><strong><br/>    (2, 'World')<br/></strong><strong><br/>    (3, 'I')<br/></strong><strong><br/>    (4, 'am')<br/></strong><strong><br/>    ('test', {'1': 1, '2': 2})<br/></strong><strong><br/>    ('values', [1, 2, 3, 4, 5])</strong>
</pre>
<p>In the preceding example, the <kbd>items()</kbd> method returns a list of tuples.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Sets</h1>
            

            
                
<p>A set (<a href="https://docs.python.org/3/tutorial/datastructures.html#sets">https://docs.python.org/3/tutorial/datastructures.html#sets</a>) is an unordered collection of immutable elements without duplicate entries. A set could be created as follows:</p>
<pre>
<strong>    &gt;&gt;&gt; my_set = set([1, 2, 3, 4, 5])<br/></strong><strong><br/>    &gt;&gt;&gt; my_set<br/></strong><strong><br/>    {1, 2, 3, 4, 5}</strong>
</pre>
<p>Now, let's add a duplicate list to this set:</p>
<pre>
<strong>    &gt;&gt;&gt; my_set.update([1, 2, 3, 4, 5])<br/></strong><strong><br/>    &gt;&gt;&gt; my_set<br/></strong><strong><br/>    {1, 2, 3, 4, 5}</strong>
</pre>
<p>Sets enable avoid duplication of entries and saving the unique entries. A single element can be added to a set as follows:</p>
<pre>
<strong>    &gt;&gt;&gt; my_set = set([1, 2, 3, 4, 5])<br/></strong><strong><br/>    &gt;&gt;&gt; my_set.add(6)</strong><br/><strong><br/>    &gt;&gt;&gt; my_set</strong><br/><strong><br/>    {1, 2, 3, 4, 5, 6}</strong>
</pre>
<p>Sets are used to test memberships of an element among different sets. There are different methods that are related to membership tests. We recommend learning about each method using the documentation on sets (run <kbd>help(my_set)</kbd> to find the different methods available for membership tests).</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">OOP in Python</h1>
            

            
                
<p>OOP is a concept that helps simplifying your code and eases application development. It is especially useful in reusing your code. Object-oriented code enables reusing your code for sensors that use the communications interface. For example, all sensors that are equipped with a UART port could be grouped together using object-oriented code.</p>
<p>One example of OOP is the <strong>GPIO Zero library</strong> (<a href="https://www.raspberrypi.org/blog/gpio-zero-a-friendly-python-api-for-physical-computing/">https://www.raspberrypi.org/blog/gpio-zero-a-friendly-python-api-for-physical-computing/</a>) used in previous chapters. In fact, everything is an object in Python.</p>
<p>Object-oriented code is especially helpful in collaboration with other people on a project. For example, you could implement a sensor driver using object-oriented code in Python and document its usage. This enables other developers to develop an application without paying attention to the nitty-gritty detail behind the sensor's interface. OOP provides modularity to an application that simplifies application development. We are going to review an example in this chapter that demonstrates the advantage of OOP. In this chapter, we will be making use of OOP to bring modularity to our project.</p>
<p>Let's get started!</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Revisiting the student ID card example</h1>
            

            
                
<p>Let's revisit the ID card example from <a href="9e475135-4205-42c5-a109-cc59bfadad7d.xhtml">Chapter 2</a>, <em>Arithmetic Operations, Loops, and Blinky Lights</em> (<kbd>input_test.py</kbd>). We discussed writing a simple program that captures and prints the information belonging to a student. A student's contact information could be retrieved and stored as follows:</p>
<pre>
name = input("What is your name? ") <br/>address = input("What is your address? ") <br/>age = input("How old are you? ")
</pre>
<p>Now, consider a scenario where the information of 10 students has to be saved and retrieved at any point during program execution. We would need to come up with a nomenclature for the variables used to save the student information. It would be a clutter if we use 30 different variables to store information belonging to each student. This is where object oriented programming can be really helpful.</p>
<p>Let's rewrite this example using OOP to simplify the problem. The first step in OOP is declaring a structure for the object. This is done by defining a class. The class determines the functions of an object. Let's write a Python class that defines the structure for a student object.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Class</h1>
            

            
                
<p>Since we are going to save student information, the class is going to be called <kbd>Student</kbd>. A class is defined using the <kbd>class</kbd> keyword as follows:</p>
<pre>
class Student(object):
</pre>
<p>Thus, a class called <kbd>Student</kbd> has been defined. Whenever a new object is created, the method <kbd>__init__()</kbd> (the underscore indicate that the init method is a magic method, that is it is a function that is called by Python when an object is created) is called internally by Python.<br/>
<br/>
This method is defined within the class:</p>
<pre>
class Student(object): <br/>    """A Python class to store student information""" <br/><br/>    def __init__(self, name, address, age): <br/>        self.name = name <br/>        self.address = address <br/>        self.age = age
</pre>
<p>In this example, the arguments to the <kbd>__init__</kbd> method include <kbd>name</kbd>, <kbd>age</kbd> and <kbd>address</kbd>. These arguments are called <strong>attributes</strong>. These attributes enable creating a unique object that belongs to the <kbd>Student</kbd> class. Hence, in this example, while creating an instance of the <kbd>Student</kbd> class, the attributes <kbd>name</kbd>, <kbd>age</kbd>, and <kbd>address</kbd> are required arguments.</p>
<p>Let's create an object (also called an instance) belonging to the <kbd>Student</kbd> class:</p>
<pre>
student1 = Student("John Doe", "123 Main Street, Newark, CA", "29")
</pre>
<p>In this example, we created an object belonging to the <kbd>Student</kbd> class called <kbd>student1</kbd> where <kbd>John Doe</kbd> (name), <kbd>29</kbd> (age) and <kbd>123 Main Street, Newark, CA</kbd>(address) are attributes required to create an object. When we create an object that belongs to the <kbd>Student</kbd> class by passing the requisite arguments (declared earlier in the <kbd>__init__()</kbd> method of the <kbd>Student</kbd> class), the <kbd>__init__()</kbd> method is automatically called to initialize the object. Upon initialization, the information related to <kbd>student1</kbd> is stored under the object <kbd>student1</kbd>.</p>
<p>Now, the information belonging to <kbd>student1</kbd> could be retrieved as follows:</p>
<pre>
print(student1.name) <br/>print(student1.age) <br/>print(student1.address)
</pre>
<p>Now, let's create another object called <kbd>student2</kbd>:</p>
<pre>
student2 = Student("Jane Doe", "123 Main Street, San Jose, CA", "27")
</pre>
<p>We created two objects called <kbd>student1</kbd> and <kbd>student2</kbd>. Each object's attributes are accessible as <kbd>student1.name</kbd>, <kbd>student2.name</kbd> and so on. In the absence of object oriented programming, we will have to create variables like <kbd>student1_name</kbd>, <kbd>student1_age</kbd>, <kbd>student1_address</kbd>, <kbd>student2_name</kbd>, <kbd>student2_age</kbd> and <kbd>student2_address</kbd> and so on. Thus, OOP enables modularizing the code.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Adding methods to a class</h1>
            

            
                
<p>Let's add some methods to our <kbd>Student</kbd> class that would help retrieve a student's information:</p>
<pre>
class Student(object): <br/>    """A Python class to store student information""" <br/><br/>    def __init__(self, name, age, address): <br/>        self.name = name <br/>        self.address = address <br/>        self.age = age <br/><br/>    def return_name(self): <br/>        """return student name""" <br/>        return self.name <br/><br/>    def return_age(self): <br/>        """return student age""" <br/>        return self.age <br/><br/>    def return_address(self): <br/>        """return student address""" <br/>        return self.address
</pre>
<p>In this example, we have added three methods namely <kbd>return_name()</kbd>, <kbd>return_age()</kbd> and <kbd>return_address()</kbd> that returns the attributes <kbd>name</kbd>, <kbd>age</kbd> and <kbd>address</kbd> respectively. These methods of a class are called <strong>callable attributes</strong>. Let's review a quick example where we make use of these callable attributes to print an object's information.</p>
<pre>
student1 = Student("John Doe", "29", "123 Main Street, Newark, CA") <br/>print(student1.return_name()) <br/>print(student1.return_age()) <br/>print(student1.return_address())
</pre>
<p>So far, we discussed methods that retrieves information about a student. Let's include a method in our class that enables updating information belonging to a student. Now, let's add another method to the class that enables updating address by a student:</p>
<pre>
def update_address(self, address): <br/>    """update student address""" <br/>    self.address = address <br/>    return self.address
</pre>
<p>Let's compare the <kbd>student1</kbd> object's address before and after updating the address:</p>
<pre>
print(student1.address()) <br/>print(student1.update_address("234 Main Street, Newark, CA"))
</pre>
<p>This would print the following output to your screen:</p>
<pre>
    <strong>123 Main Street, Newark, CA</strong><br/><strong>    234 Main Street, Newark, CA</strong>
</pre>
<p>Thus, we have written our first object-oriented code that demonstrates the ability to modularize the code. The preceding code sample is available for download along with this chapter as <kbd>student_info.py</kbd>.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Doc strings in Python</h1>
            

            
                
<p>In the object oriented example, you might have noticed a sentence enclosed in triple double quotes:</p>
<pre>
    """A Python class to store student information"""
</pre>
<p>This is called a <strong>doc string</strong>. The doc string is used to document information about a class or a method. Doc strings are especially helpful while trying to store information related to the usage of a method or a class (this will be demonstrated later in this chapter). Doc strings are also used at the beginning of a file to store multi-line comments related to an application or a code sample. Doc strings are ignored by the Python interpreter and they are meant to provide documentation about a class to fellow programmers.</p>
<p>Similarly, the Python interpreter ignores any single line comment that starts with a <kbd>#</kbd> sign. Single line comments are generally used to make a specific note on a block of code. The practice of including well-structured comments makes your code readable.</p>
<p>For example, the following code snippet informs the reader that a random number between <kbd>0</kbd> and <kbd>9</kbd> is generated and stored in the variable <kbd>rand_num</kbd>:</p>
<pre>
# generate a random number between 0 and 9 <br/>rand_num = random.randrange(0,10)
</pre>
<p>On the contrary, a comment that provides no context is going to confuse someone who is reviewing your code:</p>
<pre>
# Todo: Fix this later
</pre>
<p>It is quite possible that you may not be able to recall what needs fixing when you revisit the code later.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">self</h1>
            

            
                
<p>In our object-oriented example, the first argument to every method had an argument called <kbd>self</kbd>. <kbd>self</kbd> refers to the instance of the class in use and the <kbd>self</kbd> keyword is used as the first argument in methods that interact with the instances of the class. In the preceding example, <kbd>self</kbd> refers to the object <kbd>student1</kbd>. It is equivalent to initializing an object and accessing it as follows:</p>
<pre>
Student(student1, "John Doe", "29", "123 Main Street, Newark, CA") <br/>Student.return_address(student1)
</pre>
<p>The <kbd>self</kbd> keyword simplifies how we access an object's attributes in this case. Now, let's review some examples where we make use of OOP involving the Raspberry Pi.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Speaker controller</h1>
            

            
                
<p>Let's write a Python class (<kbd>tone_player.py</kbd> in downloads) that plays a musical tone indicating that the boot-up of your Raspberry Pi is complete. For this section, you will need a USB sound card and a speaker interfaced to the USB hub of the Raspberry Pi.</p>
<p>Let's call our class <kbd>TonePlayer</kbd>. This class should be capable of controlling the speaker volume and playing any file passed as an argument while creating an object:</p>
<pre>
class TonePlayer(object): <br/>    """A Python class to play boot-up complete tone""" <br/><br/>    def __init__(self, file_name): <br/>        self.file_name = file_name
</pre>
<p>In this case, the file that has to be played by the <kbd>TonePlayer</kbd> class has to be passed an argument. For example:</p>
<pre>
       tone_player = TonePlayer("/home/pi/tone.wav")
</pre>
<p>We also need to be able to set the volume level at which the tone has to be played. Let's add a method to do the same:</p>
<pre>
def set_volume(self, value): <br/>    """set tone sound volume""" <br/>    subprocess.Popen(["amixer", "set", "'PCM'", str(value)], <br/>    shell=False)
</pre>
<p>In the <kbd>set_volume</kbd> method, we make use of Python's <kbd>subprocess</kbd> module to run the Linux system command that adjusts the sound drive volume.</p>
<p>The most essential method for this class is the <kbd>play</kbd> command. When the <kbd>play</kbd> method is called, we need to play the tone sound using Linux's a <kbd>play</kbd> command:</p>
<pre>
def play(self):<br/>    """play the wav file"""<br/>    subprocess.Popen(["aplay", self.file_name], shell=False)
</pre>
<p>Put it all together:</p>
<pre>
import subprocess <br/><br/>class TonePlayer(object): <br/>    """A Python class to play boot-up complete tone""" <br/><br/>    def __init__(self, file_name): <br/>        self.file_name = file_name <br/><br/>    def set_volume(self, value): <br/>        """set tone sound volume""" <br/>        subprocess.Popen(["amixer", "set", "'PCM'", str(value)],<br/>        shell=False) <br/><br/>    def play(self): <br/>        """play the wav file""" <br/>        subprocess.Popen(["aplay", self.file_name], shell=False) <br/><br/><br/>if __name__ == "__main__": <br/>    tone_player = TonePlayer("/home/pi/tone.wav") <br/>    tone_player.set_volume(75) <br/>    tone_player.play()
</pre>
<p>Save the <kbd>TonePlayer</kbd> class to your Raspberry Pi (save it to a file called <kbd>tone_player.py</kbd>) and use a tone sound file from sources like <em>freesound</em> (<a href="https://www.freesound.org/people/zippi1/sounds/18872/">https://www.freesound.org/people/zippi1/sounds/18872/</a>). Save it to a location of your choice and try running the code. It should play the tone sound at the desired volume!</p>
<p>Now, edit <kbd>/etc/rc.local</kbd> and add the following line to the end of the file (right before the <kbd>exit 0</kbd> line):</p>
<pre>
<strong>python3 /home/pi/toneplayer.py</strong>
</pre>
<p>This should play a tone whenever the Pi boots up!</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Light control daemon</h1>
            

            
                
<p>Let's review another example where we implement a simple daemon using OOP that turns on/off lights at specified times of the day. In order to be able to perform tasks at scheduled times, we will make use of the <kbd>schedule</kbd> library (<a href="https://github.com/dbader/schedule">https://github.com/dbader/schedule</a>). It could be installed as follows:</p>
<pre>
    <strong>sudo pip3 install schedule</strong>
</pre>
<p>Let's call our class, <kbd>LightScheduler</kbd>. It should be capable of accepting start and top times to turn on/off lights at given times. It should also provide override capabilities to let the user turn on/off lights as necessary. Let's assume that the light is controlled using <strong>PowerSwitch Tail II</strong> (<a href="http://www.powerswitchtail.com/Pages/default.aspx">http://www.powerswitchtail.com/Pages/default.aspx</a>). It is interfaced as follows:</p>
<div><img class=" image-border" height="169" src="img/image_05_001.png" width="476"/></div>
<p>Raspberry Pi Zero interfaced to the PowerSwitch Tail II</p>
<p>The following is the <kbd>LightSchedular</kbd> class created:</p>
<pre>
class LightScheduler(object): <br/>    """A Python class to turn on/off lights""" <br/><br/>    def __init__(self, start_time, stop_time): <br/>        self.start_time = start_time <br/>        self.stop_time = stop_time <br/>        # lamp is connected to GPIO pin2.<br/>        self.lights = OutputDevice(2)
</pre>
<p>Whenever an instance of <kbd>LightScheduler</kbd> is created, the GPIO pin is initialized to control the PowerSwitch Tail II. Now, let's add methods to turn on/off lights:</p>
<pre>
def init_schedule(self): <br/>        # set the schedule <br/>        schedule.every().day.at(self.start_time).do(self.on) <br/>        schedule.every().day.at(self.stop_time).do(self.off) <br/><br/>    def on(self): <br/>        """turn on lights""" <br/>        self.lights.on() <br/><br/>    def off(self): <br/>        """turn off lights""" <br/>        self.lights.off()
</pre>
<p>In the <kbd>init_schedule()</kbd> method, the start and stop times that were passed as arguments are used to initialize <kbd>schedule</kbd> to turn on/off the lights at the specified times.</p>
<p>Put it together, we have:</p>
<pre>
import schedule <br/>import time <br/>from gpiozero import OutputDevice <br/><br/>class LightScheduler(object): <br/>    """A Python class to turn on/off lights""" <br/><br/>    def __init__(self, start_time, stop_time): <br/>        self.start_time = start_time <br/>        self.stop_time = stop_time <br/>        # lamp is connected to GPIO pin2.<br/>        self.lights = OutputDevice(2) <br/><br/>    def init_schedule(self): <br/>        # set the schedule <br/>        schedule.every().day.at(self.start_time).do(self.on) <br/>        schedule.every().day.at(self.stop_time).do(self.off) <br/><br/>    def on(self): <br/>        """turn on lights""" <br/>        self.lights.on() <br/><br/>    def off(self): <br/>        """turn off lights""" <br/>        self.lights.off() <br/><br/><br/>if __name__ == "__main__": <br/>    lamp = LightScheduler("18:30", "9:30") <br/>    lamp.on() <br/>    time.sleep(50) <br/>    lamp.off() <br/>    lamp.init_schedule() <br/>    while True:<br/>        schedule.run_pending() <br/>        time.sleep(1)
</pre>
<p>In the preceding example, the lights are scheduled to be turned on at 6:30 p.m. and turned off at 9:30 a.m. Once the jobs are scheduled, the program enters an infinite loop where it awaits task execution. This example could be run as a daemon by executing the file at start-up (add a line called <kbd>light_scheduler.py</kbd> to <kbd>/etc/rc.local</kbd>). After scheduling the job, it will continue to run as a daemon in the background.</p>
<p>This is just a basic introduction to OOP and its applications (keeping the beginner in mind). Refer to this book's website for more examples on OOP.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    

        

            
                <h1 class="header-title">Summary</h1>
            

            
                
<p>In this chapter, we discussed lists and the advantages of OOP. We discussed OOP examples using the Raspberry Pi as the center of the examples. Since the book is targeted mostly towards beginners, we decided to stick to the basics of OOP while discussing examples. There are advanced aspects that are beyond the scope of the book. We leave it up to the reader to learn advanced concepts using other examples available on this book's site.</p>


            

            <footer style="margin-top: 5em;">
                
            </footer>

        
    </body></html>