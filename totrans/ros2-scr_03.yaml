- en: '2'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '2'
- en: Installing and Setting Up ROS 2
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装和设置 ROS 2
- en: Before using ROS 2, we need to install it and set it up. Doing this is not as
    trivial as just downloading and installing a basic program. There are several
    ROS 2 versions (called **distributions**), and we need to choose which one is
    the most appropriate. We also need to pick an Ubuntu version as ROS and Ubuntu
    distributions are closely linked.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用 ROS 2 之前，我们需要安装它并设置它。做这件事并不像只是下载和安装一个基本程序那样简单。有几个 ROS 2 版本（称为**发行版**），我们需要选择哪一个是最合适的。我们还需要选择一个
    Ubuntu 版本，因为 ROS 和 Ubuntu 发行版是紧密相连的。
- en: Once you know which ROS/Ubuntu combination you need, you have to install the
    corresponding Ubuntu **operating system** (**OS**). Although being familiar with
    Linux is a prerequisite for this book, I will still do a recap on how to install
    Ubuntu on a **virtual machine** (**VM**), just in case, so you won’t be lost and
    can continue with this book.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你知道你需要哪个 ROS/Ubuntu 组合，你必须安装相应的 Ubuntu **操作系统**（**OS**）。尽管熟悉 Linux 是这本书的先决条件，但我仍会回顾如何在**虚拟机**（**VM**）上安装
    Ubuntu，以防万一，这样你就不会迷失方向，可以继续阅读这本书。
- en: Then, we will install ROS 2 on Ubuntu, set it up in our environment, and install
    additional tools that will allow you to have a better development experience.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们将在 Ubuntu 上安装 ROS 2，在我们的环境中设置它，并安装额外的工具，这将使你拥有更好的开发体验。
- en: By the end of this chapter, you will have everything ready on your computer
    so that you can use ROS 2 and write custom programs.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，你将准备好电脑上的所有东西，以便你可以使用 ROS 2 并编写自定义程序。
- en: Even if all the installation steps sound a bit daunting, don’t worry—it’s not
    that hard, and it gets easier to do with every new installation. To give you an
    idea, with a stable internet connection, it takes me about 1 hour to install a
    fresh version of Ubuntu and 20 minutes to install ROS (most of that time is spent
    waiting for the installation to finish).
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 即使所有安装步骤听起来有点令人畏惧，不要担心——这并不那么困难，而且每次新的安装都会变得更容易。为了给你一个概念，在有稳定的互联网连接的情况下，安装一个全新的
    Ubuntu 版本大约需要 1 个小时，安装 ROS 则需要 20 分钟（其中大部分时间都花在等待安装完成上）。
- en: 'In this chapter, we are going to cover the following topics:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Which ROS 2 distribution to choose
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择哪个 ROS 2 发行版
- en: Installing the OS (Ubuntu)
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装操作系统（Ubuntu）
- en: Installing ROS 2
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装 ROS 2
- en: Setting up the environment for ROS 2
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置 ROS 2 的开发环境
- en: Extra tools for ROS 2 development
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ROS 2 开发额外的工具
- en: Which ROS 2 distribution to choose
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 选择哪个 ROS 2 发行版
- en: Before you install ROS 2, it’s important to know which distribution you need
    to use. To make that decision, you first need to understand a bit more about what
    ROS 2 distributions are, and what specificities each one has.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在安装 ROS 2 之前，了解你需要使用哪个发行版是很重要的。为了做出这个决定，你首先需要更多地了解 ROS 2 发行版是什么，以及每个发行版的具体特点。
- en: What is a ROS 2 distribution?
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 什么是 ROS 2 发行版？
- en: ROS 2 is a project in continuous development, constantly receiving new features
    or improvements to existing ones.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: ROS 2 是一个持续发展的项目，不断接收新的功能或对现有功能的改进。
- en: A distribution is simply a *freeze* in the development at some given point to
    create a stable release. With this, you can be sure that the core packages for
    one given distribution will not have any breaking changes. Without distributions,
    it would be impossible to have a stable system, and you would need to update your
    code constantly.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 发行版简单地说是在某个给定点对开发进行**冻结**以创建一个稳定的发布版本。有了这个，你可以确信一个给定发行版的核心包不会有任何破坏性的变化。没有发行版，就不可能有一个稳定的系统，你将需要不断更新你的代码。
- en: Every year, a new ROS 2 distribution is released on May 23\. This day corresponds
    to *World Turtle Day*. As you will be able to observe, all ROS distributions have
    a turtle as a logo; there’s a mobile robot platform named **TurtleBot** and even
    a 2D educational tool named **Turtlesim**. This is based on a reference to an
    educational programming language from 1967 named *Logo*, which included a feature
    to move some kind of *turtle robot* on the screen. So, if you were confused about
    why there are so many turtles everywhere, now you know—and that’s the end of this
    turtle parenthesis.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 每年，一个新的 ROS 2 发行版都会在 5 月 23 日发布。这一天对应于*世界乌龟日*。正如你将能观察到的，所有 ROS 发行版都有一个乌龟作为标志；有一个名为**TurtleBot**的移动机器人平台，甚至还有一个名为**Turtlesim**的
    2D 教育工具。这是基于 1967 年一个名为 *Logo* 的教育编程语言的参考，它包括在屏幕上移动某种*乌龟机器人*的功能。所以，如果你对为什么到处都是乌龟感到困惑，现在你知道了——这就是这个乌龟括号的结尾。
- en: 'You can see all ROS 2 distributions on the ROS 2 documentation releases page:
    [https://docs.ros.org/en/rolling/Releases.html](https://docs.ros.org/en/rolling/Releases.html).'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在 ROS 2 文档发布页面上看到所有 ROS 2 发行版：[https://docs.ros.org/en/rolling/Releases.html](https://docs.ros.org/en/rolling/Releases.html)。
- en: You will see one new distribution every year in May. As for the order, there
    is no number; instead, the names are in alphabetical order. The first official
    release was named *Ardent Apalone*, then *Bouncy Bolson*, and so on. In May 2024,
    **ROS Jazzy Jalisco** was released. Following this, you can expect to have *ROS
    K* in 2025, *ROS L* in 2026, and so on. The name of a new release is usually announced
    1 year in advance.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 你将在每年的 5 月看到一个新的发行版。至于顺序，没有数字；相反，名称是按字母顺序排列的。第一个官方发布版被命名为 *Ardent Apalone*，然后是
    *Bouncy Bolson*，以此类推。2024 年 5 月，发布了 **ROS Jazzy Jalisco**。在此之后，你可以期待在 2025 年有
    *ROS K*，在 2026 年有 *ROS L*，依此类推。新发布版的名称通常提前一年宣布。
- en: Note
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: ROS distributions contain two names, but it’s common practice just to refer
    to the first one. So, instead of talking about ROS Jazzy Jalisco, we will talk
    about **ROS Jazzy**. We could also write *ROS 2 Jazzy* to specify that this distribution
    is for ROS 2, not ROS 1, but this isn’t needed since Jazzy is a name only used
    for ROS 2, hence ROS Jazzy.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: ROS 发行版包含两个名称，但通常只提到第一个。因此，我们不会谈论 ROS Jazzy Jalisco，而是会谈论 **ROS Jazzy**。我们也可以写成
    *ROS 2 Jazzy* 来指明这个发行版是为 ROS 2 而不是 ROS 1，但这是不必要的，因为 Jazzy 只是一个仅用于 ROS 2 的名称，因此
    ROS Jazzy。
- en: 'On top of all the displayed distributions, there is another one that exists
    in parallel: **ROS Rolling**. This distribution is a bit special and is the distribution
    where all new developments are made. To make an analogy with Git and versioned
    systems, it’s just like having a *development* branch and using this branch to
    release stable versions once a year. Thus, ROS Rolling is not a stable distribution,
    and I don’t recommend using it for learning or to release a product. This is a
    distribution you can use if you want to test brand-new features before they are
    officially released into the next stable distribution—or if you want to contribute
    to the ROS code. However, if you’re reading this book, you’re not there yet.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 在所有显示的发行版之上，还有一个与之并行存在的发行版：**ROS Rolling**。这个发行版有些特别，是所有新开发都进行的发行版。用 Git 和版本控制系统来类比，它就像有一个
    *开发* 分支，并使用这个分支每年发布一次稳定版本。因此，ROS Rolling 不是一个稳定发行版，我不建议用它来学习或发布产品。这是一个你可以在新功能正式发布到下一个稳定发行版之前测试这些新功能的发行版——或者如果你想为
    ROS 代码做出贡献。然而，如果你正在阅读这本书，你还没有达到那个阶段。
- en: Now that you know what ROS 2 distributions are and how to find them, let’s start
    to look at the differences between them. This will allow us to choose the right
    one.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经知道了 ROS 2 的发行版有哪些，以及如何找到它们，让我们开始看看它们之间的区别。这将使我们能够选择正确的版本。
- en: LTS and non-LTS distributions
  id: totrans-25
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: LTS 和非 LTS 发行版
- en: If you look a bit closer, you’ll see that some distributions are supported for
    5 years, others for 1.5 years (this only applies after 2022). You can see this
    by comparing the release date with the **end-of-life** (**EOL**) date. Currently
    supported distributions also have a green background on the screen, so you can
    easily spot them.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你仔细观察，你会发现有些发行版支持 5 年，而有些发行版支持 1.5 年（这仅适用于 2022 年之后）。你可以通过比较发布日期和 **生命终结**（**EOL**）日期来看到这一点。目前支持的发行版在屏幕上也有绿色背景，所以你可以很容易地找到它们。
- en: When a distribution reaches its EOL date, it just means that it will not receive
    official support and package updates anymore. This doesn’t mean you can’t use
    it (in fact, lots of companies are still using legacy versions from 5 years ago
    or more), but you won’t get any updates.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 当一个发行版达到其 EOL 日期时，这仅仅意味着它将不再接收官方支持和软件包更新。这并不意味着你不能使用它（实际上，许多公司仍在使用 5 年或更早的遗留版本），但你不会得到任何更新。
- en: The first official ROS 2 distribution was *ROS Ardent*, released in December
    2017\. After that, the first few distributions were still not quite complete,
    and the development team preferred to release shorter distributions so that the
    development could go faster.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个官方 ROS 2 发行版是 *ROS Ardent*，于 2017 年 12 月发布。在那之后，前几个发行版还不完全，开发团队更愿意发布较短的发行版，以便更快地推进开发。
- en: '*ROS Humble* was the first **Long-Term Support** (**LTS**) release supported
    for 5 years (2022-2027).'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '*ROS Humble* 是第一个支持 5 年的 **长期支持**（**LTS**）发行版（2022-2027）。'
- en: '*ROS Jazzy* is also an LTS version, with official support from 2024 to 2029\.
    From this, you can expect that every 2 years (even number: 2024, 2026, 2028, and
    so on), a new LTS distribution will be released in May and supported for 5 years.'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '*ROS Jazzy*也是一个LTS版本，从2024年到2029年有官方支持。从这一点可以预期，每两年（偶数年：2024年、2026年、2028年等等），5月份将发布一个新的LTS发行版，并支持5年。'
- en: A few LTS distributions can coexist. In 2026, for example, with the release
    of the *ROS L* distribution, you will be able to use ROS Humble and ROS Jazzy
    as well.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 一些LTS发行版可以共存。例如，在2026年，随着*ROS L*发行版的发布，你将能够使用ROS Humble和ROS Jazzy。
- en: Then, you have non-LTS distributions. Those are released on odd years (2023,
    2025, 2027, and so on) and are supported for 1.5 years only. Those distributions
    are released just so you can have access to new development in a somehow stable
    release without having to wait for 2 years. However, due to the short lifespan
    of non-LTS distributions and the fact that they will probably be less stable (and
    less supported), it is best not to use them if your goal is learning, teaching,
    or using ROS for a commercial application.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，你有非LTS发行版。这些发行版在奇数年发布（2023年、2025年、2027年等等），并且只支持1.5年。这些发行版发布是为了让你能够访问某种程度的稳定版本中的新开发，而无需等待两年。然而，由于非LTS发行版的寿命较短，并且它们可能不太稳定（以及支持度较低），如果你的目标是学习、教学或使用ROS进行商业应用，最好不要使用它们。
- en: With this, you can see that we can discard half of the distributions and now
    focus only on the LTS ones that are currently supported. Let’s finish this section
    and choose the distribution that we will use for this book.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这一点，你可以看到我们可以排除一半的发行版，现在只需专注于当前受支持的LTS发行版。让我们完成这一部分，并选择我们将为这本书使用的发行版。
- en: How to choose a ROS distribution
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何选择ROS发行版
- en: What I recommend is to use the latest available LTS distribution. However, I
    wouldn’t necessarily use an LTS distribution just after it’s been released because
    it can still contain some bugs and problems. Also, some of the plugins and other
    community packages you need might not have been ported yet. Generally, if you
    want to work with a stable system, it’s sometimes best not to stay too close to
    the new and shiny technology and wait a bit.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 我推荐使用最新的可用LTS发行版。然而，我并不一定会在它发布后立即使用LTS发行版，因为它可能仍然包含一些错误和问题。此外，你可能需要的某些插件和其他社区包可能还没有被移植。一般来说，如果你想与一个稳定的系统一起工作，有时最好不要过于接近新技术，而应该等待一段时间。
- en: For example, ROS Humble was released in May 2022\. Right after it was available,
    I tested it, but to use it in a production environment, I would have had to wait
    until September or even November, just to be sure everything was working correctly.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，ROS Humble于2022年5月发布。就在它可用之后，我对其进行了测试，但为了在生产环境中使用它，我必须等到9月甚至11月，以确保一切正常工作。
- en: So, for this book, we will use ROS Jazzy, which was released in May 2024.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，对于这本书，我们将使用ROS Jazzy，该版本于2024年5月发布。
- en: Note
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: You can learn with one distribution and then start a project with another one.
    If you have a project or job that requires you to use a different ROS 2 distribution,
    you can still start to learn with ROS Jazzy. The gap between distributions is
    very small, especially for the core functionalities. 99% of this book can be applied
    to any ROS 2 LTS distribution released after 2022.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以用一个发行版学习，然后用另一个发行版开始项目。如果你有一个需要使用不同ROS 2发行版的项目或工作，你仍然可以用ROS Jazzy开始学习。发行版之间的差距非常小，尤其是对于核心功能。这本书的99%可以应用于2022年之后发布的任何ROS
    2 LTS发行版。
- en: Installing the OS (Ubuntu)
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装操作系统（Ubuntu）
- en: 'ROS 2 works on three OSs: Ubuntu, Windows, and macOS. Although Ubuntu and Windows
    get Tier 1 support, macOS has only Tier 3 support, meaning “best effort,” not
    “fully tested.” You can learn more about what Tier 1, 2, and 3 mean on the REP
    2000, which describes the timeline and target platforms for ROS 2 releases: [https://www.ros.org/reps/rep-2000.html](https://www.ros.org/reps/rep-2000.html).'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: ROS 2在三个操作系统上运行：Ubuntu、Windows和macOS。尽管Ubuntu和Windows获得一级支持，但macOS只有三级支持，意味着“尽力而为”，而不是“完全测试”。你可以在描述ROS
    2发布时间表和目标平台的REP 2000上了解更多关于一级、二级和三级支持的含义：[https://www.ros.org/reps/rep-2000.html](https://www.ros.org/reps/rep-2000.html)。
- en: This means that using macOS for ROS 2 is not necessarily the best choice for
    learning (if you’re an Apple user). We’re left with Windows or Ubuntu.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着使用macOS进行ROS 2不一定是最适合学习的选择（如果你是苹果用户）。我们只剩下Windows或Ubuntu。
- en: From teaching experience, I saw that even if ROS could work well on Windows,
    it’s not easy to install and use it correctly. Lots of bugs can occur, especially
    with the 2D and 3D tools. When you’re learning ROS, you want a smooth experience,
    and you want to spend time learning the features, not fixing the configuration.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 从教学经验来看，我发现即使 ROS 在 Windows 上可以很好地工作，但正确安装和使用它并不容易。可能会出现很多错误，尤其是在 2D 和 3D 工具方面。当您学习
    ROS 时，您希望有一个顺畅的体验，并且希望花时间学习功能，而不是修复配置。
- en: Hence, the best overall option is to use Ubuntu. If you don’t have Ubuntu and
    are using Windows/macOS, you can either install Ubuntu natively as a dual boot
    on your computer or use a VM (there are a few other options, but I won’t cover
    those here).
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，最佳的整体选择是使用 Ubuntu。如果您没有 Ubuntu 并且正在使用 Windows/macOS，您可以在计算机上安装 Ubuntu 作为双启动，或者使用虚拟机（还有其他一些选项，但这里不会涉及那些选项）。
- en: 'Now that we have selected ROS Jazzy, and we want to run it on Ubuntu, the question
    is: on which Ubuntu distribution do we install it?'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 既然我们已经选择了 ROS Jazzy，并且我们想在 Ubuntu 上运行它，那么问题就是：我们应该在哪个 Ubuntu 发行版上安装它？
- en: The relationship between ROS 2 and Ubuntu
  id: totrans-46
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ROS 2 与 Ubuntu 之间的关系
- en: If you go to the Jazzy release page ([https://docs.ros.org/en/rolling/Releases/Release-Jazzy-Jalisco.html](https://docs.ros.org/en/rolling/Releases/Release-Jazzy-Jalisco.html)),
    you’ll see that ROS Jazzy is supported on **Ubuntu 24.04** (and not any other
    previous or future Ubuntu distributions).
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您访问 Jazzy 发布页面（[https://docs.ros.org/en/rolling/Releases/Release-Jazzy-Jalisco.html](https://docs.ros.org/en/rolling/Releases/Release-Jazzy-Jalisco.html)），您会看到
    ROS Jazzy 支持 **Ubuntu 24.04**（而不是任何其他之前的或未来的 Ubuntu 发行版）。
- en: 'There is a close relationship between ROS and Ubuntu distributions. This relationship
    is quite simple: for every new Ubuntu LTS distribution (every 2 years on an even
    number), there is a new ROS 2 LTS distribution:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: ROS 与 Ubuntu 发行版之间存在密切关系。这种关系相当简单：对于每个新的 Ubuntu LTS 发行版（每两年在偶数年份），都有一个新的 ROS
    2 LTS 发行版：
- en: '**Ubuntu 22.04**: ROS Humble'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Ubuntu 22.04**: ROS Humble'
- en: '**Ubuntu 24.04**: ROS Jazzy'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Ubuntu 24.04**: ROS Jazzy'
- en: '**Ubuntu 26.04**: ROS L'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Ubuntu 26.04**: ROS L'
- en: It’s important to use the correct combination. Thus, before installing ROS Jazzy,
    the first thing you must do is make sure you have Ubuntu 24.04 installed on your
    computer. If you happen to have an older version, I strongly encourage you to
    upgrade or simply install Ubuntu 24.04 from scratch.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 使用正确的组合非常重要。因此，在安装 ROS Jazzy 之前，您必须做的第一件事是确保您已经在计算机上安装了 Ubuntu 24.04。如果您恰好有旧版本，我强烈建议您升级或简单地从头开始安装
    Ubuntu 24.04。
- en: Note
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 注意事项
- en: If you have to use another Ubuntu distribution because, for example, you’re
    using a computer from school/work and you can’t change the OS, then use the corresponding
    ROS distribution. However, I recommend **not** using anything older than ROS Humble
    and avoiding non-LTS distributions. You could also install Ubuntu 24.04 on a VM
    (as described a bit later).
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您必须使用另一个 Ubuntu 发行版，例如，您正在使用学校/工作场所的计算机，并且无法更改操作系统，那么请使用相应的 ROS 发行版。然而，我建议**不要**使用比
    ROS Humble 更旧的版本，并避免使用非 LTS 发行版。您还可以在虚拟机（稍后将有描述）上安装 Ubuntu 24.04。
- en: You have probably already installed a Linux OS at some point in your life, but,
    from experience, I know some people reading this could get a bit lost with the
    installation. Hence, I will provide additional installation instructions—an overview
    of dual boot and detailed instructions for VMs. Feel free to skip this and go
    to the ROS 2 installation section if you already have installed Ubuntu.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能已经在生活中某个时刻安装过 Linux 操作系统，但根据经验，我知道一些阅读此内容的人可能会在安装过程中感到困惑。因此，我将提供额外的安装说明——双启动的概述以及虚拟机的详细说明。如果您已经安装了
    Ubuntu，可以自由跳过这部分内容，直接进入 ROS 2 安装部分。
- en: Installing Ubuntu 24.04 natively with a dual boot
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用双启动原生安装 Ubuntu 24.04
- en: The best option is to have Ubuntu installed natively on your computer. This
    will allow you to follow this book and then go further without any problems. I
    won’t provide a complete tutorial on how to do that here; you can easily find
    lots of free tutorials on the internet.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 最佳选择是在您的计算机上原生安装 Ubuntu。这将使您能够跟随本书学习，并在没有任何问题的前提下继续前进。在此，我不会提供如何做到这一点的完整教程；您可以在互联网上轻松找到大量免费教程。
- en: 'Here are the high-level important steps you have to follow:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是您必须遵循的几个高级重要步骤：
- en: Free some space on your disk so that you can create a new partition. I recommend
    a minimum of 70 GB, more if possible.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的磁盘上腾出一些空间，以便您能够创建一个新的分区。我建议至少70 GB，如果可能的话，更多。
- en: Download an Ubuntu `.iso` file from the official Ubuntu website (Ubuntu 24.04
    LTS).
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从官方 Ubuntu 网站下载 Ubuntu `.iso` 文件（Ubuntu 24.04 LTS）。
- en: Flash this image on an SD card or USB key (with a tool such as Balena Etcher).
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用Balena Etcher等工具将此镜像烧录到SD卡或USB闪存驱动器上。
- en: Reboot your computer and choose to boot from the external device.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新启动您的计算机，并选择从外部设备启动。
- en: 'Follow the installation instructions. **Important**: When asked how you want
    to install, select **Alongside Windows**, for example—don’t erase all your disk.'
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照安装说明进行操作。**重要**：当被问及您想要如何安装时，选择**与Windows一起安装**，例如——不要删除您的所有磁盘。
- en: Complete the installation. Now, when you boot your computer, you should get
    a menu where you can select whether you want to start Ubuntu or Windows.
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成安装。现在，当您启动计算机时，您应该会看到一个菜单，您可以选择是否要启动Ubuntu或Windows。
- en: Those are the main steps to follow; you can find all the information you need
    on the internet.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是您需要遵循的主要步骤；您可以在互联网上找到您需要的所有信息。
- en: Installing Ubuntu 24.04 on a VM
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在虚拟机上安装Ubuntu 24.04
- en: If you can’t install Ubuntu as a dual boot (due to technical restrictions, lack
    of admin rights on the computer, or something else), or if you want to get started
    quickly with not too much effort, just for the sake of learning ROS, then you
    might wish to use a VM.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您不能作为双启动安装Ubuntu（由于技术限制、计算机上的管理员权限不足或其他原因），或者如果您想快速开始而不需要太多努力，只是为了学习ROS，那么您可能希望使用虚拟机。
- en: A VM is quite easy to set up and is useful for teaching and learning purposes.
    As an example, when I teach ROS offline in a workshop for beginners, I often provide
    a VM that contains everything already installed. With that, it’s easier for the
    participants to get started quickly with ROS. Later, when they have more knowledge,
    they can take the time to set up a proper OS by themselves.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟机（VM）的设置非常简单，对于教学和学习非常有用。例如，当我在一个初学者的研讨会中教授ROS离线时，我经常提供一个已经安装好所有内容的虚拟机。这样，参与者就可以更快地开始使用ROS。后来，当他们有更多知识时，他们可以自己花时间设置一个合适的操作系统。
- en: Note
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: '*Part 3* of this book (regarding 3D simulation and Gazebo) will probably not
    work well on a VM. You can still use a VM for most of this book and set up a dual
    boot at the end.'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 本书第*3*部分（关于3D模拟和Gazebo）可能不适合在虚拟机上运行。您仍然可以使用虚拟机完成本书的大部分内容，并在最后设置双启动。
- en: I will now show you how to install Ubuntu 24.04 on a VM so that you can do it
    even with no prior knowledge of how to create and run a VM.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我将向您展示如何在虚拟机上安装Ubuntu 24.04，这样即使您没有创建和运行虚拟机的先验知识，也可以完成它。
- en: Step 1 – downloading the Ubuntu .iso file
  id: totrans-72
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第1步 – 下载Ubuntu .iso文件
- en: Download the Ubuntu 24.04 **.iso** file [https://releases.ubuntu.com/noble/](https://releases.ubuntu.com/noble/).
    Note that, just like ROS, Ubuntu distributions also have a name. For Ubuntu 24.04,
    the name is *Ubuntu Noble Numbat*. We usually only use the first name, so **Ubuntu
    Noble** in this case.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 下载Ubuntu 24.04 **.iso**文件 [https://releases.ubuntu.com/noble/](https://releases.ubuntu.com/noble/)。请注意，就像ROS一样，Ubuntu发行版也有一个名称。对于Ubuntu
    24.04，名称是*Ubuntu Noble Numbat*。我们通常只使用第一个名称，所以在这种情况下**Ubuntu Noble**。
- en: Click on **64-bit PC (AMD64) desktop image**. The file should be 5 to 6 GB,
    so make sure you have a good internet connection before downloading it.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**64位PC (AMD64) 桌面镜像**。文件大小应为5到6GB，因此在下载之前请确保您有一个良好的互联网连接。
- en: Step 2 – installing VirtualBox
  id: totrans-75
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第2步 – 安装VirtualBox
- en: You can start *Step 2* while the Ubuntu **.iso** file is being downloaded.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在下载Ubuntu **.iso**文件的同时开始*第2步*。
- en: 'Two popular VM managers have a free version: VMware Workstation and VirtualBox.
    Both would work, but here, I will focus on VirtualBox as it’s slightly easier
    to use.'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 两个流行的虚拟机管理器有一个免费版本：VMware Workstation和VirtualBox。两者都可以使用，但在这里，我将专注于VirtualBox，因为它使用起来稍微简单一些。
- en: 'Go to the download page of the official VirtualBox website: [https://www.virtualbox.org/wiki/Downloads](https://www.virtualbox.org/wiki/Downloads).
    Under **VirtualBox Platform Packages**, select the current OS you are running.
    If you want to install VirtualBox on Windows, for example, choose **Windows hosts**.'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 访问官方VirtualBox网站的下载页面：[https://www.virtualbox.org/wiki/Downloads](https://www.virtualbox.org/wiki/Downloads)。在**VirtualBox平台包**下，选择您正在运行的当前操作系统。例如，如果您想在Windows上安装VirtualBox，请选择**Windows主机**。
- en: Download the installer, then install VirtualBox like any other software.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 下载安装程序，然后像安装其他软件一样安装VirtualBox。
- en: Step 3 – creating a new VM
  id: totrans-80
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第3步 – 创建新的虚拟机
- en: 'Once you’ve installed VirtualBox and downloaded the Ubuntu **.iso** file, open
    the VirtualBox software (VirtualBox Manager) and click **New**. This will open
    a pop-up window where you can start to configure the new VM:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 安装好VirtualBox并下载了Ubuntu **.iso**文件后，打开VirtualBox软件（VirtualBox管理器），然后点击**新建**。这将打开一个弹出窗口，您可以在其中开始配置新的虚拟机：
- en: '![Figure 2.1 – Starting the VM setup process](img/B22403_02_1.jpg)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![图2.1 – 开始虚拟机设置过程](img/B22403_02_1.jpg)'
- en: Figure 2.1 – Starting the VM setup process
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.1 – 开始虚拟机设置过程
- en: 'Here, we have the following values:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，我们有以下值：
- en: '`Ubuntu 24.04 -` `book`.'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Ubuntu 24.04 -` `book`。'
- en: '`VirtualBox VMs` folder in your user directory, where it will install all the
    VMs. You can keep this or change it if you want.'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在你的用户目录中的`VirtualBox VMs`文件夹，那里将安装所有虚拟机。你可以保留这个文件夹或者如果你想的话可以更改它。
- en: '`.iso` file that you’ve just downloaded.'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你刚刚下载的`.iso`文件。
- en: '`Linux`.'
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Linux`。'
- en: '`Ubuntu (64-bit)`.'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Ubuntu (64-bit)`。'
- en: '**Skip Unattended Installation**: Make sure you check this box. Leaving this
    unchecked could be a cause of issues later.'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**跳过无人值守安装**：确保勾选此框。如果不勾选，可能会在以后造成问题。'
- en: 'Click **Next**. Here, you’ll need to choose how much CPU and RAM you want to
    allocate for the machine:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**下一步**。在这里，你需要选择为机器分配多少CPU和RAM：
- en: '![Figure 2.2 – Allocating hardware resources for the VM](img/B22403_02_2.jpg)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![图2.2 – 为虚拟机分配硬件资源](img/B22403_02_2.jpg)'
- en: Figure 2.2 – Allocating hardware resources for the VM
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.2 – 为虚拟机分配硬件资源
- en: This will depend on your computer’s configuration.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 这将取决于你的电脑配置。
- en: 'Here’s what I recommend for the RAM allocation (**Base Memory** on VirtualBox):'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是我对RAM分配（VirtualBox上的**基本内存**）的建议：
- en: If you have 16 GB or more on your computer, allocate 6 GB (like I did in *Figure
    2**.2*) or a bit more; this is going to be enough.
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你电脑上有16 GB或更多，分配6 GB（就像我在**图2.2**中做的那样）或者更多一些；这应该足够了。
- en: If you have 8 GB RAM, allocate 4 GB.
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你拥有8 GB的RAM，分配4 GB。
- en: For less than 8 GB, adjust the RAM value (you can set a value now and modify
    it later in the settings) so that you can start the VM, open **VS Code** and Firefox
    with a few tabs, and your machine doesn’t slow down too much. If things get too
    slow, consider using a more powerful machine for learning ROS.
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于少于8 GB的情况，调整RAM值（你现在可以设置一个值，稍后在设置中修改它），以便你可以启动虚拟机，打开**VS Code**和带有几个标签的Firefox，并且你的机器不会慢太多。如果事情变得太慢，考虑使用更强大的机器来学习ROS。
- en: For the CPU allocation, allocate half of your CPUs. So, if your computer has
    8 CPUs, set the value to 4\. In my setup, I have 4 CPUs and 8 logical processors,
    so I chose 4 CPUs. Try not to go under 2 as it will be very slow with only 1 CPU.
    If in doubt, try one setting now; you can change it later.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 对于CPU分配，分配你CPU的一半。所以，如果你的电脑有8个CPU，将值设置为4。在我的设置中，我有4个CPU和8个逻辑处理器，所以我选择了4个CPU。尽量不要低于2，因为只有一个CPU将会非常慢。如果有疑问，现在尝试一个设置；你可以稍后更改它。
- en: All in all, it’s better to stay in the green zone. If you have to push to the
    orange zone, then make sure that when you run your VM, you don’t run anything
    else on your computer (or maybe just a web browser with one tab or a PDF reader
    for this book).
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 总体来说，保持在绿色区域更好。如果你必须推到橙色区域，那么确保当你运行虚拟机时，你的电脑上不要运行其他任何东西（或者可能只是打开一个标签的网页浏览器或用于这本书的PDF阅读器）。
- en: 'Click **Next**. The last thing to do for now is to configure the virtual hard
    disk that will be created for the VM:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**下一步**。现在要做的最后一件事是为虚拟机配置将要创建的虚拟硬盘：
- en: '![Figure 2.3 – Creating a virtual disk for the VM](img/B22403_02_3.jpg)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![图2.3 – 为虚拟机创建虚拟磁盘](img/B22403_02_3.jpg)'
- en: Figure 2.3 – Creating a virtual disk for the VM
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.3 – 为虚拟机创建虚拟磁盘
- en: 'Here are the settings you must choose for this screen:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是你必须在此屏幕上选择的设置：
- en: You can keep the default option (**Create a Virtual Hard Disk Now**). The default
    size is 25 GB. To learn ROS 2, I recommend using 30 to 40 GB minimum. Anyway,
    the size of the VM will start low and expand as you install more things, so you
    can set a higher maximum without blocking resources.
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以保留默认选项（**现在创建虚拟硬盘**）。默认大小是25 GB。为了学习ROS 2，我建议至少使用30到40 GB。无论如何，虚拟机的大小将开始较低，随着你安装更多东西而扩展，所以你可以设置一个更高的最大值而不阻塞资源。
- en: Keep the **Pre-allocate Full Size** box unchecked.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保持**预分配完整大小**框未勾选。
- en: Click **Next**. You will now get a recap of all options you chose in the previous
    steps. Then, click **Finish**. You will see the newly created VM on the left in
    VirtualBox Manager.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**下一步**。现在，你将看到之前步骤中选择的全部选项的摘要。然后，点击**完成**。你将在VirtualBox管理器左侧看到新创建的虚拟机。
- en: Before you start the VM, there are a few more things we need to configure. Open
    the settings for the VM (either select it and click on the **Settings** button
    or right-click on the VM and choose **Settings**).
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 在你开始虚拟机之前，我们还需要配置一些其他事情。打开虚拟机的设置（无论是选择它并点击**设置**按钮，或者右键点击虚拟机并选择**设置**）。
- en: 'Modify the following three settings:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 修改以下三个设置：
- en: '**System** | **Acceleration**: Uncheck the **Enable Nested** **Paging** box'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**系统** | **加速**：取消选择**启用嵌套分页**复选框'
- en: '**Display**: Uncheck the **Enable 3D Acceleration** box (this one may already
    be unchecked)'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显示**：取消选择**启用 3D 加速**复选框（这个可能已经取消选中）'
- en: '**Display**: Increase **Video Memory** to 128 MB if possible'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显示**：如果可能，将**视频内存**增加到 128 MB'
- en: With these settings, you can probably avoid unexpected behaviors and problems
    with the graphical interface in the VM.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这些设置，你可能会避免虚拟机中图形界面的意外行为和问题。
- en: Note
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Every computer is different, with different hardware configurations. What works
    for me and lots of people might not work the same for you. If you experience weird
    behavior when running the VM, maybe try again by modifying those previous three
    settings. Test only one change at a time.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 每台计算机都不同，具有不同的硬件配置。对我以及很多人有效的东西可能对你不起作用。如果你在运行虚拟机时遇到奇怪的行为，也许可以尝试通过修改前面三个设置来再次尝试。一次只测试一个更改。
- en: Step 4 – starting the VM and finishing the installation
  id: totrans-116
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 步骤 4 – 启动虚拟机和完成安装
- en: Now that the VM has been configured correctly, we need to start it to install
    Ubuntu, using the Ubuntu **.iso** file that we’ve downloaded and added to the
    settings.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 现在虚拟机已正确配置，我们需要启动它来安装 Ubuntu，使用我们已下载并添加到设置的 Ubuntu **.iso** 文件。
- en: To start the VM, double-click on it in **VirtualBox Manager**, or select it
    and click on the **Start** button.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 要启动虚拟机，在**VirtualBox 管理器**中双击它，或者选择它并点击**启动**按钮。
- en: You will get a boot menu. The first choice is **Try or Install Ubuntu** and
    it should already be selected. Press *Enter*.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 你将得到一个引导菜单。第一个选择是**尝试或安装 Ubuntu**，它应该已经选中。按*Enter*。
- en: 'Wait a few seconds; Ubuntu will start with the installation screen. Follow
    the configuration through the different windows:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 等待几秒钟；Ubuntu 将启动安装屏幕。通过不同的窗口进行配置：
- en: Choose your language. I recommend you keep **English** so you have the same
    configuration as me.
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你的语言。我建议你保持**英语**，这样你就有和我相同的配置。
- en: Skip the **Accessibility** menu, unless you need to set up a bigger font size,
    for example.
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 跳过**辅助功能**菜单，除非你需要设置更大的字体大小，例如。
- en: Select your keyboard layout.
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你的键盘布局。
- en: Connect to the internet. To do so, choose **Use** **wired connection**.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 连接到互联网。为此，请选择**使用有线连接**。
- en: At this point, you might have a screen asking you to update the installer. In
    this case, click **Update now**. Once finished, click **Close installer**. Look
    for **Install Ubuntu 24.04 LTS** on the VM desktop and double-click on it. This
    will start the installation again from *Step 1*; repeat *Steps 1* to *4*.
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这一点上，你可能会看到一个屏幕要求你更新安装程序。在这种情况下，点击**现在更新**。完成后，点击**关闭安装程序**。在虚拟机桌面上查找**安装 Ubuntu
    24.04 LTS**并双击它。这将从*步骤 1*重新开始安装；重复*步骤 1*到*步骤 4*。
- en: When you’re asked how you would like to install Ubuntu, choose **Interactive
    installation**.
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当被问及你希望如何安装 Ubuntu 时，请选择**交互式安装**。
- en: For the applications to install with Ubuntu, go with **Default selection**.
    This will reduce the space used by the VM and you still get a web browser, as
    well as all the core basics—we don’t need more than that to install ROS 2.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于要安装的 Ubuntu 应用程序，请选择**默认选择**。这将减少虚拟机使用的空间，你仍然会得到一个网络浏览器，以及所有核心基础——安装 ROS 2
    我们不需要更多。
- en: When asked if you want to install recommended proprietary software, choose **Install
    third-party software for graphics and** **Wi-Fi hardware**.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当被问及是否要安装推荐的第三方软件时，请选择**安装图形和 Wi-Fi 硬件第三方软件**。
- en: For the disk setup, select **Erase disk and install Ubuntu**. There’s no risk
    here as we’re *erasing* the empty virtual disk we’ve just created (if you were
    installing Ubuntu as a dual boot, you would have to choose another option).
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于磁盘设置，选择**擦除磁盘并安装 Ubuntu**。这里没有风险，因为我们正在*擦除*我们刚刚创建的空虚拟磁盘（如果你将 Ubuntu 作为双启动安装，你必须选择另一个选项）。
- en: Choose a username, computer name, and password. Keep things simple here. For
    example, I use `ed` for the user and `ed-vm` for the computer’s name. Also, make
    sure that the password is typed correctly, especially if you’ve changed the keyboard
    layout previously.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择用户名、计算机名和密码。这里保持简单。例如，我使用 `ed` 作为用户名，`ed-vm` 作为计算机的名称。同时，确保密码输入正确，尤其是如果你之前更改了键盘布局。
- en: Select your time zone.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你的时区。
- en: On the recap menu, click **Install** and wait a few minutes.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在摘要菜单中，点击**安装**并等待几分钟。
- en: When the installation is complete, a popup will ask you to restart. Click **Restart
    now**.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，一个弹出窗口将要求你重启。点击**现在重启**。
- en: You will see a message stating **Please remove the installation medium, then
    press ENTER**. There’s no need to do anything here—just press *Enter*.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将看到一个消息提示**请移除安装介质，然后按回车键**。这里不需要做任何事情——只需按*Enter*键即可。
- en: After booting, you will get another welcome screen popup. You can skip all the
    steps and click **Finish** to exit the popup.
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动后，你将看到一个欢迎屏幕弹出。你可以跳过所有步骤，点击**完成**来退出弹出窗口。
- en: With that, Ubuntu has been installed.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 这样，Ubuntu就已经安装完成了。
- en: 'Just to finish things properly, open a Terminal window and upgrade the existing
    packages (it’s not because you just installed Ubuntu that all packages are up
    to date):'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 为了彻底完成，打开一个终端窗口并升级现有包（并不是因为你刚刚安装了Ubuntu，所以所有包都是最新的）：
- en: '[PRE0]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: That’s it for the installation. However, there’s one more thing specific to
    VirtualBox that we must do so that the VM window works correctly.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 安装到此结束。然而，还有一件特定于VirtualBox的事情我们必须做，以确保虚拟机窗口能够正确工作。
- en: Step 5 – Guest Additions CD Image
  id: totrans-140
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 第5步 – 客户端添加CD镜像
- en: At this point, if you try to resize the window where the VM is running, you
    will see that the desktop resolution doesn’t change. Also, if you try to copy/paste
    some text or code between your host and the VM, it probably won’t work.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，如果你尝试调整运行虚拟机的窗口大小，你会看到桌面分辨率没有改变。此外，如果你尝试在主机和虚拟机之间复制/粘贴一些文本或代码，可能不会工作。
- en: To fix this, we need to install what’s called the *Guest Additions* *CD Image*.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 为了解决这个问题，我们需要安装所谓的**客户端添加CD镜像**。
- en: 'First, open a Terminal and run the following command (note that copy/paste
    doesn’t work yet, so you have to type it manually). This will install a few dependencies,
    all of which are required for the next step:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，打开一个终端并运行以下命令（注意，复制/粘贴目前还不工作，所以你必须手动输入）。这将安装一些依赖项，所有这些依赖项都是下一步所需的：
- en: '[PRE1]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Then, on the top menu of the VM window, click **Devices** | **Insert Guest Additions**
    **CD image**.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，在虚拟机窗口的顶部菜单中，点击**设备** | **插入客户端添加** **CD镜像**。
- en: 'You will see a new CD image on the Ubuntu menu (on the left). Click on it—this
    will open a file manager. Inside the file manager, right-click on the empty space
    and choose **Open in Terminal**. See the following figure for more clarification:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 你将在Ubuntu菜单（在左侧）中看到一个新CD镜像。点击它——这将打开一个文件管理器。在文件管理器中，右键点击空白区域并选择**在终端中打开**。以下图示将提供更多说明：
- en: '![Figure 2.4 – Opening the Guest Additions CD Image folder in the Terminal](img/B22403_02_4.jpg)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![图2.4 – 在终端中打开客户端添加CD镜像文件夹](img/B22403_02_4.jpg)'
- en: Figure 2.4 – Opening the Guest Additions CD Image folder in the Terminal
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.4 – 在终端中打开客户端添加CD镜像文件夹
- en: 'You will then be inside a Terminal, where you can find a file named **VBoxLinuxAdditions.run**.
    You need to run this file with admin privileges:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，你将进入一个终端，在那里你可以找到一个名为**VBoxLinuxAdditions.run**的文件。你需要以管理员权限运行此文件：
- en: '[PRE2]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: After this, you might get a popup asking you to reboot the VM. Click **Restart
    Now**. If you don’t get this popup, simply run **sudo reboot** in the Terminal.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 之后，你可能会看到一个弹出窗口要求你重启虚拟机。点击**立即重启**。如果你没有看到这个弹出窗口，只需在终端中运行**sudo reboot**即可。
- en: When the VM starts again, the screen should resize automatically when you change
    the size of the window. If it doesn’t work the first time, I found that running
    the command once again (**sudo ./VBoxLinuxAdditions.run**) and rebooting may solve
    the problem.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 当虚拟机再次启动时，当你改变窗口大小时，屏幕应该会自动调整大小。如果第一次没有成功，我发现再次运行命令（**sudo ./VBoxLinuxAdditions.run**）并重启可能会解决问题。
- en: You can then right-click on the disk and choose **Eject**, and you’re all set.
    To enable copy/paste between the host and the VM, go to the top menu and click
    **Devices** | **Shared Clipboard** | **Bidirectional**.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，你可以右键点击磁盘并选择**弹出**，这样就设置完成了。要启用主机和虚拟机之间的复制/粘贴功能，请转到顶部菜单并点击**设备** | **共享剪贴板**
    | **双向**。
- en: Now, your VM is fully installed and configured. If you’ve chosen that path,
    this will allow you to complete at least *Part 1* and *Part 2* of this book. For
    *Part 3*, as mentioned previously, you might encounter some issues, especially
    when using Gazebo. When you reach this point, I suggest that you install Ubuntu
    natively with a dual boot.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你的虚拟机已经完全安装和配置。如果你选择了这条路径，这将允许你至少完成这本书的**第1部分**和**第2部分**。对于**第3部分**，如前所述，你可能会遇到一些问题，尤其是在使用Gazebo时。当你到达这个阶段时，我建议你使用双启动方式本地安装Ubuntu。
- en: Installing ROS 2 on Ubuntu
  id: totrans-155
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Ubuntu上安装ROS 2
- en: Now that you have Ubuntu 24.04 installed on your computer (either as a dual
    boot or in a VM), let’s install ROS 2\. As discussed previously, we will install
    ROS Jazzy here. If you’re using a different Ubuntu distribution, make sure to
    use the appropriate ROS 2 distribution.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经在你的计算机上安装了 Ubuntu 24.04（无论是作为双启动还是在一个虚拟机中），让我们安装 ROS 2。如前所述，我们将在这里安装 ROS
    Jazzy。如果你使用的是不同的 Ubuntu 发行版，请确保使用适当的 ROS 2 发行版。
- en: 'The best way to install ROS 2 is to follow the instructions on the official
    documentation website, for binary packages installation: [https://docs.ros.org/en/jazzy/Installation/Ubuntu-Install-Debians.html](https://docs.ros.org/en/jazzy/Installation/Ubuntu-Install-Debians.html).
    There are quite a few commands to run, but don’t worry— all you need to do is
    copy and paste them one by one.'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 安装 ROS 2 的最佳方式是遵循官方文档网站上的说明，对于二进制包安装：[https://docs.ros.org/en/jazzy/Installation/Ubuntu-Install-Debians.html](https://docs.ros.org/en/jazzy/Installation/Ubuntu-Install-Debians.html)。需要运行很多命令，但别担心——你只需要逐个复制粘贴即可。
- en: Note
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: As the installation instructions are often updated, the following commands you
    see in this book may differ slightly from the ones from the official documentation.
    If so, copy/paste from the official instructions.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 由于安装说明经常更新，本书中看到的以下命令可能略与官方文档中的不同。如果这样，请从官方说明中复制/粘贴。
- en: Now, let’s start the ROS 2 installation.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们开始安装 ROS 2。
- en: Setting the locale
  id: totrans-161
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置区域设置
- en: 'Make sure you have a locale that supports UTF-8:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 确保你有支持 UTF-8 的区域设置：
- en: '[PRE3]'
  id: totrans-163
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'With this, you can check that you have UTF-8\. If in doubt, just run those
    commands one by one (I do this every time):'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这种方式，你可以检查你是否有了 UTF-8。如果有疑问，只需逐个运行这些命令（我每次都这样做）：
- en: '[PRE4]'
  id: totrans-165
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Now, check again; you’ll see UTF-8 this time:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，再次检查；这次你会看到 UTF-8：
- en: '[PRE5]'
  id: totrans-167
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Setting up the sources
  id: totrans-168
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置源
- en: 'Run those five commands one by one (note that it’s better to copy/paste them
    from the official documentation directly):'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 逐个运行这五个命令（注意最好直接从官方文档中复制/粘贴）：
- en: '[PRE6]'
  id: totrans-170
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'The main goal of these commands is to add the ROS packages server to your **apt**
    sources. Run the following command:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 这些命令的主要目的是将 ROS 包服务器添加到你的 **apt** 源中。运行以下命令：
- en: '[PRE7]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'You should now see additional lines, something like this:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在应该看到额外的行，类似于以下内容：
- en: '[PRE8]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Those new sources (**packages.ros.org**) will allow you to fetch the ROS 2 packages
    when installing with **apt**. Here, you can also see **noble**, which means the
    ROS 2 packages are for Ubuntu Noble (24.04). Since you know how Ubuntu and ROS
    distributions are linked, this also means ROS Jazzy.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 这些新的源（**packages.ros.org**）将允许你在使用 **apt** 安装时获取 ROS 2 包。在这里，你还可以看到 **noble**，这意味着
    ROS 2 包是为 Ubuntu Noble（24.04）准备的。由于你知道 Ubuntu 和 ROS 发行版是如何关联的，这也意味着 ROS Jazzy。
- en: Now that we have the correct sources, we can finally install ROS 2.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有了正确的源，我们最终可以安装 ROS 2。
- en: Installing ROS 2 packages
  id: totrans-177
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装 ROS 2 包
- en: 'As a best practice, upgrade all your existing packages before you install any
    ROS 2 packages:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 作为最佳实践，在安装任何 ROS 2 包之前，请升级所有现有包：
- en: '[PRE9]'
  id: totrans-179
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Now, you can install ROS 2 packages. As shown in the documentation, you can
    choose between **Desktop Install** or **ROS-Base Install**.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你可以安装 ROS 2 包。如文档所示，你可以选择**桌面安装**或**ROS-Base安装**。
- en: 'ROS 2 is not just one piece of software or package. It’s a collection of many
    packages:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: ROS 2 不仅仅是一块软件或包。它是一系列包的集合：
- en: '**ROS-Base**: This contains the bare minimum packages to make ROS 2 work correctly'
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ROS-Base**：这个包包含使 ROS 2 正确工作的最基本包。'
- en: '**ROS Desktop**: This contains all the packages in ROS-Base, plus lots of additional
    packages, so you get access to more tools, simulations, demos, and so on'
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ROS Desktop**：这个包包含 ROS-Base 中的所有包，以及许多额外的包，因此你可以访问更多工具、模拟、演示等。'
- en: Since you’re installing ROS 2 on a computer with a desktop, and you want to
    have access to as many functionalities as you can, choose ROS Desktop Install.
    If you were to install ROS on a limited environment, such as Ubuntu Server (no
    desktop) on a Raspberry Pi board, then ROS-Base would make sense.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 由于你正在一台带有桌面的计算机上安装 ROS 2，并且你想要尽可能多地访问功能，请选择 ROS Desktop 安装。如果你要在受限环境中安装 ROS，例如在树莓派板上安装没有桌面的
    Ubuntu Server，那么 ROS-Base 就是有意义的。
- en: 'Install ROS Desktop by running the following command:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 通过运行以下命令安装 ROS Desktop：
- en: '[PRE10]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Replace **<distro>** with the distribution name (using lowercase). So, if you
    want to install ROS Jazzy, you will use the following command:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 将**<distro>**替换为发行版名称（使用小写）。所以，如果你想安装 ROS Jazzy，你将使用以下命令：
- en: '[PRE11]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: As you can see, when you run this command, a few hundred new packages will be
    installed. This can take some time, depending on your internet connection speed,
    as well as the performance of your computer (or VM).
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，当你运行这个命令时，将安装几百个新的软件包。这可能会花费一些时间，这取决于你的互联网连接速度以及你的计算机（或虚拟机）的性能。
- en: If you see an error stating *unable to locate package ros-jazzy-desktop*, for
    example, it probably means you’re trying to install a ROS 2 distribution on the
    wrong Ubuntu version. This is a common error, so make sure to use the correct
    Ubuntu/ROS 2 pairing (as seen previously in this chapter).
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你看到错误信息指出*无法定位软件包ros-jazzy-desktop*，例如，这可能意味着你正在尝试在错误的Ubuntu版本上安装ROS 2发行版。这是一个常见错误，所以请确保使用正确的Ubuntu/ROS
    2配对（如本章之前所述）。
- en: Note
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: 'From this, it’s quite easy to see how to install any other ROS 2 package. You
    just need to write `ros`, then the distribution name, and then the package name
    (using dashes, not underscores): `ros-<distro>-package-name`. For example, if
    you want to install the `abc_def` package on ROS Jazzy, then you will need to
    run `sudo apt` `install ros-jazzy-abc-def`.'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 从这里，很容易看出如何安装任何其他ROS 2软件包。你只需写下`ros`，然后是发行版名称，然后是软件包名称（使用破折号，而不是下划线）：`ros-<distro>-package-name`。例如，如果你想安装ROS
    Jazzy上的`abc_def`软件包，那么你需要运行`sudo apt install ros-jazzy-abc-def`。
- en: 'Once the installation is done, you can also install the ROS development tools.
    We’ll need these in the remainder of this book to compile our code and create
    ROS programs. For this command, no ROS distribution needs to be specified; it’s
    the same for all of them:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，你还可以安装ROS开发工具。在本书的剩余部分，我们需要这些工具来编译我们的代码和创建ROS程序。对于此命令，不需要指定ROS发行版；对所有它们都一样：
- en: '[PRE12]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Once you’ve done this, ROS 2 will be installed, and you’ll have all the ROS
    2 tools you need.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦完成这些，ROS 2将被安装，你将拥有所有需要的ROS 2工具。
- en: I also recommend that you frequently update the ROS 2 packages you’ve installed.
    To do so, simply run **sudo apt update** and **sudo apt upgrade**, like you would
    update any other package.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 我还建议你经常更新你已安装的ROS 2软件包。为此，只需运行**sudo apt update**和**sudo apt upgrade**，就像更新任何其他软件包一样。
- en: Setting up the environment for ROS 2
  id: totrans-197
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置ROS 2的环境
- en: 'At this point, open a Terminal and run the following command:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，打开一个终端并运行以下命令：
- en: '[PRE13]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: You will get an error message saying that the **ros2** command can’t be found.
    As we will see later, **ros2** is a command-line tool we can use to run and test
    our programs from the Terminal. If this command isn’t working, it means that ROS
    2 hasn’t been set up correctly.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 你将得到一条错误消息，指出**ros2**命令找不到。正如我们稍后将要看到的，**ros2**是一个我们可以从终端运行和测试程序的命令行工具。如果这个命令不起作用，这意味着ROS
    2没有正确设置。
- en: 'Even if ROS 2 is installed, there’s one more thing you need to do in every
    new session (or Terminal) where you want to use ROS 2: you need to **source**
    it in the environment.'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 即使ROS 2已安装，在每次新会话（或终端）中，你想要使用ROS 2时，你还需要做一件事：你需要在环境中**源码**它。
- en: Sourcing ROS 2 in the environment
  id: totrans-202
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在环境中源码ROS 2
- en: 'To do that, source this bash script from where ROS 2 is installed:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 要做到这一点，从ROS 2安装的位置源码此bash脚本：
- en: '[PRE14]'
  id: totrans-204
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Replace **<distro>** with the current distribution name you are using. For
    ROS Jazzy, run the following command:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 将**<distro>**替换为你当前使用的发行版名称。对于ROS Jazzy，运行以下命令：
- en: '[PRE15]'
  id: totrans-206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: After you run this, try executing the **ros2** command again. This time, you
    should get a different message (usage message). This means that ROS 2 is correctly
    installed and set up in your environment.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 在运行此命令后，尝试再次执行**ros2**命令。这次，你应该得到一条不同的消息（用法消息）。这意味着ROS 2已正确安装在您的环境中。
- en: Note
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: We will see how to use the `ros2` command line later in this book. For now,
    you can just use it to see if ROS 2 has been set up correctly or not.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在本书的后面部分看到如何使用`ros2`命令行。现在，你可以用它来检查ROS 2是否已正确设置。
- en: Adding the source line to the .bashrc file
  id: totrans-210
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将源码行添加到.bashrc文件
- en: You must source this bash script every time you open a new session or Terminal.
    To make things easier and so you don’t forget about it, let’s just add this command
    line to the **.****bashrc** file.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 每次打开新会话或终端时，都必须源码此bash脚本。为了使事情变得简单，并且你不忘记它，我们只需将此命令行添加到**.bashrc**文件中。
- en: If you don’t know what **.bashrc** is, simply put, it’s a bash script that will
    run every time you open a new session (that can be an SSH session, a new Terminal
    window, and so on). This **.bashrc** file is specific to each user, so you will
    find it in your home directory (as a hidden file because of the leading dot).
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你不知道**.bashrc**是什么，简单来说，它是一个bash脚本，每次你打开一个新的会话（可以是SSH会话、新的终端窗口等）时都会运行。这个**.bashrc**文件对每个用户都是特定的，所以你会在你的家目录中找到它（因为它以点开头，所以是一个隐藏文件）。
- en: 'You can add the source line to the **.bashrc** file with this command:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用以下命令将源行添加到**.bashrc**文件中：
- en: '[PRE16]'
  id: totrans-214
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Replace **<distro>** with your ROS distribution name. You could also just open
    the **.bashrc** file directly with any text editor—gedit, nano, or Vim—and add
    the source line at the end. Make sure it’s only added once.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 将**<distro>**替换为你的ROS发行版名称。你也可以直接使用任何文本编辑器（gedit、nano或Vim）打开**.bashrc**文件，并在末尾添加源行。确保只添加一次。
- en: Once you’ve done this, any time you open a new Terminal, you can be sure that
    this Terminal is correctly sourced, and thus you can use ROS 2 in it.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你完成了这个步骤，每次你打开一个新的终端时，你可以确信这个终端已经被正确配置，因此你可以在其中使用ROS 2。
- en: 'Now, to make a final check, open a Terminal and run this command (there’s no
    need to understand anything for now; it’s just to verify the installation):'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，为了进行最后的检查，打开一个终端并运行以下命令（现在你不需要理解任何内容；这只是为了验证安装）：
- en: '[PRE17]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: This will print a few logs, and you should see a new window with a turtle in
    the middle. To stop the program, press *Ctrl* + *C* in the Terminal where you
    ran the command.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 这将打印一些日志，你应该会看到一个中间有海龟的新窗口。要停止程序，请在运行命令的终端中按*Ctrl* + *C*。
- en: That’s it for installing and configuring ROS 2\. I will just give you a few
    more tips on what development tools can be useful when developing with ROS.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是安装和配置ROS 2的全部内容。我将给你一些建议，关于在开发ROS时哪些开发工具可能是有用的。
- en: Extra tools for ROS development
  id: totrans-221
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ROS开发的额外工具
- en: Apart from the mandatory previous steps to install and set up ROS 2, any other
    development tool is up to you. If you have your favorite way of working with a
    Terminal, your favorite text editor, or your favorite **integrated development
    environment** (**IDE**), this is perfectly fine.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 除了安装和设置ROS 2的必经步骤之外，任何其他开发工具都由你决定。如果你有自己喜欢使用终端、文本编辑器或集成开发环境（**IDE**）的方式，这完全没问题。
- en: In this section, I will show you a few tools that lots of ROS developers use
    (me included) and that I think can help you get a better experience when developing
    with ROS.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我将向你展示一些许多ROS开发者（包括我）使用的一些工具，我认为这些工具可以帮助你在开发ROS时获得更好的体验。
- en: Visual Studio Code
  id: totrans-224
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Visual Studio Code
- en: '**Visual Studio Code** (**VS Code**) is a quite popular IDE used by many developers.
    What makes it nice for us is its good support for ROS development.'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: '**Visual Studio Code**（**VS Code**）是一个非常受欢迎的IDE，被许多开发者使用。对我们来说，它对ROS开发的良好支持使其变得很棒。'
- en: 'VS Code is free to use and open source; you can even find its code on GitHub.
    To install VS Code, open a Terminal and run the following command:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: VS Code是免费且开源的；你甚至可以在GitHub上找到它的代码。要安装VS Code，打开终端并运行以下命令：
- en: '[PRE18]'
  id: totrans-227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: The installation just requires one line and uses Ubuntu’s Snap feature. After
    installing it, you can open VS Code by searching for it in the Ubuntu applications,
    or simply by running **code** in the Terminal.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 安装只需要一行，并使用Ubuntu的Snap功能。安装后，你可以在Ubuntu应用程序中搜索它，或者在终端中简单地运行**code**。
- en: Now, start VS Code and go to the **Extensions** panel—you can find it on the
    left menu.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，启动VS Code并转到**扩展**面板——你可以在左侧菜单中找到它。
- en: 'There, you can search for the ROS extension by typing **ros**. There are quite
    a few; choose the one developed by Microsoft. This extension is compatible with
    both ROS 1 and ROS 2, so there’s no problem here:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 在那里，你可以通过输入**ros**来搜索ROS扩展。有很多选择；请选择由微软开发的那个。这个扩展与ROS 1和ROS 2都兼容，所以这里没有问题：
- en: '![Figure 2.5 – The ROS extension to install in VS Code](img/B22403_02_5.jpg)'
  id: totrans-231
  prefs: []
  type: TYPE_IMG
  zh: '![图2.5 – 在VS Code中安装的ROS扩展](img/B22403_02_5.jpg)'
- en: Figure 2.5 – The ROS extension to install in VS Code
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.5 – 在VS Code中安装的ROS扩展
- en: Install this extension. This will also install a bunch of other extensions,
    notably Python and C++ extensions, which are quite useful when writing code.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 安装此扩展。这将还会安装一些其他扩展，特别是Python和C++扩展，这在编写代码时非常有用。
- en: On top of this, I also usually install the **CMake** extension by **twxs** (just
    type **cmake** and you’ll find it). With this, we get nice syntax highlighting
    when writing into **CMakeLists.txt** files, which is something we will have to
    do quite often with ROS 2.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，我还通常会安装由 **twxs** 提供的 **CMake** 扩展（只需键入 **cmake**，你就能找到它）。有了这个，我们在编写 **CMakeLists.txt**
    文件时可以获得漂亮的语法高亮，这是我们使用 ROS 2 时经常会做的事情。
- en: The Terminal and other tools
  id: totrans-235
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 终端和其他工具
- en: 'As you develop with ROS 2, you will often need to open several Terminals: one
    for compiling and installing, a few to run the different programs of your application,
    and a few more for introspection and debugging.'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 当你使用 ROS 2 进行开发时，你通常会需要打开几个终端：一个用于编译和安装，几个用于运行你的应用程序的不同程序，还有几个用于检查和调试。
- en: It can become quite difficult to keep track of all the Terminals you use, so
    as best practice, it’s nice to have a tool that can easily handle multiple Terminals
    in one window.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 跟踪你使用的所有终端可能会变得相当困难，因此，最佳实践是拥有一个可以轻松在一个窗口中处理多个终端的工具。
- en: There are quite a few tools for doing this. The one I’m going to talk about
    here is called **terminator**. Not only does it have a funny name, but it’s also
    super practical to use.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 做这件事的工具有很多。这里我要介绍的是名为**终结者**的工具。它不仅名字有趣，而且使用起来也非常实用。
- en: 'To install **terminator**, run the following command:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装 **终结者**，请运行以下命令：
- en: '[PRE19]'
  id: totrans-240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Then, you can find it from the applications menu, run it, right-click on the
    left bar menu, and choose **Pin to Dash** so that it stays there and becomes easy
    to start.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，你可以在应用程序菜单中找到它，运行它，右键单击左侧栏菜单，并选择**固定到仪表盘**，这样它就会在那里，并且启动变得容易。
- en: 'You can find all the commands for **terminator** online, but here are the most
    important ones to get started:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在网上找到 **终结者** 的所有命令，但以下是一些开始时最重要的命令：
- en: '*Ctrl* + *Shift* + *O*: split the selected Terminal horizontally.'
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Ctrl* + *Shift* + *O*: 水平拆分选定的终端。'
- en: '*Ctrl* + *Shift* + *E*: split the selected Terminal vertically.'
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Ctrl* + *Shift* + *E*: 垂直拆分选定的终端。'
- en: '*Ctrl* + *Shift* + *X*: make the current Terminal fill the entire window. Use
    again to revert.'
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Ctrl* + *Shift* + *X*: 使当前终端填充整个窗口。再次使用以恢复。'
- en: '*Ctrl* + *Shift* + *W*: close a Terminal.'
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Ctrl* + *Shift* + *W*: 关闭一个终端。'
- en: '![Figure 2.6 – Terminator with four Terminals](img/B22403_02_6.jpg)'
  id: totrans-247
  prefs: []
  type: TYPE_IMG
  zh: '![图 2.6 – 四个终端的终结者](img/B22403_02_6.jpg)'
- en: Figure 2.6 – Terminator with four Terminals
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2.6 – 四个终端的终结者
- en: Whenever you split a Terminal, this Terminal becomes two different Terminals,
    each being one session. Thus, you can easily split your Terminal into four or
    six; this will be enough to run most of your ROS 2 applications. Since we previously
    added the line to source ROS 2 in the **.bashrc** file, you can use ROS 2 directly
    in each new Terminal.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 每当你拆分一个终端时，这个终端就会变成两个不同的终端，每个都是一个会话。因此，你可以轻松地将你的终端拆分为四个或六个；这足以运行你大多数的 ROS 2
    应用程序。由于我们之前已经在 **.bashrc** 文件中添加了源 ROS 2 的行，所以你可以在每个新的终端中直接使用 ROS 2。
- en: Summary
  id: totrans-250
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: When choosing a ROS 2 distribution, I recommend that you pick the latest LTS
    distribution, given that it’s a few months old and contains all the functionalities
    you need.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 在选择 ROS 2 发行版时，我建议你选择最新的 LTS 发行版，因为它已经有一段时间了，并且包含了你需要的所有功能。
- en: To install and set up ROS 2, you first need to have Ubuntu installed. Each ROS
    2 distribution is linked to a specific Ubuntu distribution.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装和设置 ROS 2，你首先需要安装 Ubuntu。每个 ROS 2 发行版都与特定的 Ubuntu 发行版相关联。
- en: For ROS 2 Jazzy, you must install Ubuntu 24.04\. The best option is to have
    it natively with a dual boot, but to get started quickly, you can also choose
    to install it in a VM. Then, you can install the ROS 2 packages.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 ROS 2 Jazzy，你必须安装 Ubuntu 24.04。最佳选择是原生双启动，但为了快速开始，你也可以选择在虚拟机中安装它。然后，你可以安装
    ROS 2 软件包。
- en: After this, it’s important to source the environment for ROS 2 by sourcing a
    bash script from the ROS installation folder. You can add the line to source this
    script into your **.bashrc** file so that you don’t need to do this every time
    you open a new Terminal.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 之后，通过从 ROS 安装文件夹中源一个 bash 脚本来源 ROS 2 的环境非常重要。你可以将源此脚本的行添加到你的 **.bashrc** 文件中，这样你就不需要在每次打开新的终端时都这样做。
- en: Finally, to get a better development experience with ROS, I suggest using VS
    Code with the ROS extension, and a tool that allows you to split the Terminal
    into multiple Terminals, such as **terminator**.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，为了获得更好的 ROS 开发体验，我建议使用带有 ROS 扩展的 VS Code，以及一个允许你将终端拆分为多个终端的工具，例如 **终结者**。
- en: With this setup, you are fully ready to start using ROS 2\. In the next chapter,
    you will run your first ROS 2 programs and discover the core concepts.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这个设置，你就可以完全准备好开始使用 ROS 2 了。在下一章中，你将运行你的第一个 ROS 2 程序并发现核心概念。
