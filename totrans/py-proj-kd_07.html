<html><head></head><body><div class="chapter" title="Chapter&#xA0;7.&#xA0;What's in Your Backpack?"><div class="titlepage"><div><div><h1 class="title"><a id="ch07"/>Chapter 7. What's in Your Backpack?</h1></div></div></div><p>In <a class="link" href="ch06.html" title="Chapter 6. Working with Data – Lists and Dictionaries">Chapter 6</a>, <span class="emphasis"><em>Working with Data – Lists and Dictionaries</em></span>, we explored how to store, retrieve, and change data using lists and dictionaries in Python. In this chapter, we will build a two player game called <span class="strong"><strong>What's in Your Backpack?</strong></span> This game will require us to review all of the skills we have learned since the beginning of this book. We use our skills to make loops, ask for information from the user with the <code class="literal">raw_input()</code> function, and then store this information in lists or dictionaries.</p><p>Be prepared to also learn some new skills that might seem complicated. We will try something called <span class="strong"><strong>nesting</strong></span> or putting one thing inside another. With nesting lists and dictionaries, we have more flexible data storage. Using this new nesting skill with the other skills we have learned, we will create a game that can be played by two users or adjusted to be played by many users.</p><div class="section" title="Setting up our coding environment"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec43"/>Setting up our coding environment</h1></div></div></div><p>This<a id="id222" class="indexterm"/> chapter will have the largest amount of code that we have written. Since we are going to do a lot of coding, it is important to have our tools ready so that we can test run our code frequently and save often.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip06"/>Tip</h3><p>Testing and saving the code as you go along allows you to try new things and correct any mistakes!</p></div></div><p>To work on this game, it is recommended that you have your Python shell open so that you can test out small lines of code before putting them into your text editor.</p><p>Also, you will need to open your text editor (JEdit in Mac/Linux or Notepad++ in Windows), and make a new file called <code class="literal">backpack.py</code>. Finally, you will need to open your command prompt so that you can run the <code class="literal">backpack.py</code> program to test it out while you are writing the game. Hopefully, you are feeling more at ease with the different tools that are used to create a computer program. If you do not recall how to open the Python shell or command prompt, refer to <a class="link" href="ch01.html" title="Chapter 1. Welcome! Let's Get Started">Chapter 1</a>, <span class="emphasis"><em>Welcome! Let's Get Started</em></span>.</p><p>If you have questions or want to know more about the Python shell, command prompt, or text editor that you<a id="id223" class="indexterm"/> are using on your computer, perform an Internet search and learn more about the tools.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note18"/>Note</h3><p>To learn about the tools, documentation, and the advanced techniques used in this book, you can refer to the following links:</p><p><a class="ulink" href="http://www.jedit.org/">http://www.jedit.org/</a></p><p><a class="ulink" href="https://notepad-plus-plus.org/">https://notepad-plus-plus.org/</a></p><p><a class="ulink" href="https://docs.python.org/3.5/library/idle.html">https://docs.python.org/3.5/library/idle.html</a></p><p><a class="ulink" href="http://www.macworld.co.uk/feature/mac-software/get-more-out-of-os-x-terminal-3608274/">http://www.macworld.co.uk/feature/mac-software/get-more-out-of-os-x-terminal-3608274/</a></p><p><a class="ulink" href="http://windows.microsoft.com/en-US/windows-vista/Open-a-Command-Prompt-window">http://windows.microsoft.com/en-US/windows-vista/Open-a-Command-Prompt-window</a></p></div></div></div></div>
<div class="section" title="Planning to program your game"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec44"/>Planning to program your game</h1></div></div></div><p>Before we <a id="id224" class="indexterm"/>dive right into programming, we need to think critically about what we are building and plan a bit ahead of time; this helps us figure out what programming skills we need to use in order to make our program work.</p><p>So, let's imagine this game with each player having their own virtual backpack:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Each player enters their name, and then places four items in their backpack.</li><li class="listitem" style="list-style-type: disc">Then, each player gets a chance to guess what is in the other player's backpack.</li><li class="listitem" style="list-style-type: disc">If the player guesses correctly, a message is printed, and one point is added to the score.</li><li class="listitem" style="list-style-type: disc">If the player guesses incorrectly, a different message is printed, and no points are added to the score.</li><li class="listitem" style="list-style-type: disc">Finally, a message asks the players whether they would like to play the game again.</li><li class="listitem" style="list-style-type: disc">If they type <code class="literal">yes</code>, the whole process takes place again. If they type <code class="literal">no</code>, then the scores of each player are printed and the entire game stops.</li></ul></div><p>Already, we have many things to do. Each of the points mentioned is a task that needs to be solved using our coding skills. Before reading the code sample ahead, ask yourself how you would try to solve each problem. Maybe make some drawings, or type an outline of each thing that the program needs to do to succeed. Then, save those ideas as you go through this chapter and write your backpack game. You might try some of your ideas, and check whether your ideas work! If so, that is great. You will discover that there is not one <span class="emphasis"><em>proper</em></span> way to program. Some ways are better than others, but it is never wrong to try something out.</p></div>
<div class="section" title="Skills needed to make a program"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec45"/>Skills needed to make a program</h1></div></div></div><p>Now, we<a id="id225" class="indexterm"/> will review our list of elements needed to make a successful game, and we will brainstorm the solutions to program each element. Taking time now to figure out how we want to solve the problem helps us create a program that works well once the pieces are put together.</p><p>Each player enters their name, and then places four items in their backpack. In order to get the player names into the computer, we will need to make a variable to hold the name of each player. We will use <code class="literal">raw_input()</code> to get the items and store the items in the computer:</p><div class="mediaobject"><img src="graphics/B04681_07_01.jpg" alt="Skills needed to make a program"/></div><p>Each player gets a chance to guess what is in the other player's backpack.</p><p>Remember our game Higher or Lower? This function will be like higher and lower. We will compare the first player's guesses to the items in the second player's backpack. We will need to use <code class="literal">raw_input</code> to do prompt the guesses. Then, we will need some <code class="literal">if</code>/<code class="literal">elif</code>/<code class="literal">else</code> logic to compare the guesses and give the user output. The output will be printed to the screen using <code class="literal">print</code>.</p><p>If the player guesses correctly, a message is printed, and one point is added to the score.</p><p>If the player<a id="id226" class="indexterm"/> guesses incorrectly, a different message is printed, and no points are added to the score.</p></div>
<div class="section" title="Score, play again, or quit?"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec46"/>Score, play again, or quit?</h1></div></div></div><p>When a player <a id="id227" class="indexterm"/>wins or uses up all of their guesses, we will use the <code class="literal">if</code>/<code class="literal">elif</code>/<code class="literal">else</code> logic to output a message that asks the players whether they would like to play the game again.</p><p>If player types <code class="literal">yes</code>, the game runs again.</p><p>If a player types <code class="literal">no</code>, then the scores of each player are printed and the game stops running.</p></div>
<div class="section" title="Getting and storing player information"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec47"/>Getting and storing player information</h1></div></div></div><p>Our first task <a id="id228" class="indexterm"/>is to figure out how we are going to get and store information from those who play our game. There are a few steps we need to take, including asking the player for their name, and then storing the player's name. We will also<a id="id229" class="indexterm"/> perform some code in the background to store information about the player that we have not yet asked for. This is a sneaky bit of coding that is quite fun and will let you expand your game if you want to. Let's walk through each step.</p><div class="section" title="Making a players list"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec43"/>Making a players list</h2></div></div></div><p>The first thing<a id="id230" class="indexterm"/> that we will do is make an empty list to store information about each player. We are going to name the list <code class="literal">players</code>, but we are not going to put anything in our list yet. Why not? Well, our players might be different in each game, and they will have different information too, so we need to allow our game to store this information as our players enter it into the computer. Here is what the <code class="literal">players</code> list looks like:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>players = []</strong></span>
</pre></div><p>Now that we have made this list, we can add players to this list. Recall that we will also make a profile to store information about the players. In fact, the profile will be stored in some tiny dictionaries that we make inside the lists!</p><div class="mediaobject"><img src="graphics/B04681_07_02.jpg" alt="Making a players list"/></div><p>New skill! Putting<a id="id231" class="indexterm"/> one item inside another item. This is called <span class="strong"><strong>nesting</strong></span>. Next, we will learn how to nest a dictionary inside of a list.</p></div><div class="section" title="Player profiles"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec44"/>Player profiles</h2></div></div></div><p>In this next step, we<a id="id232" class="indexterm"/> are going to make a dictionary for each player. The dictionary that we make will have placeholders for the player name, the player's backpack items, and the player's score:</p><div class="mediaobject"><img src="graphics/B04681_07_03.jpg" alt="Player profiles"/></div><p>Imagine that<a id="id233" class="indexterm"/> all of the information in the dictionary is a <code class="literal">player</code> profile. The <code class="literal">player</code> profile will be filled in by information that we get from the player's interactions with our game. The code in the following screenshot is what the completed code for our players will look like:</p><div class="mediaobject"><img src="graphics/B04681_07_04.jpg" alt="Player profiles"/></div><p>Before you write any code, let's read and break down the code. The first two lines are comments to remind us of what we are doing, and line 5 is where we make an empty list. The code in line 7, which<a id="id234" class="indexterm"/> is the first line of code that the computer cares about, allows us to do the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Set the number of players with the <code class="literal">range()</code> function: Since counting in Python starts at zero, and the <code class="literal">range()</code> function does not include the last number, we are creating profiles for <code class="literal">player 0</code> and <code class="literal">player 1</code> (refer to <a class="link" href="ch06.html" title="Chapter 6. Working with Data – Lists and Dictionaries">Chapter 6</a>, <span class="emphasis"><em>Working with Data – Lists and Dictionaries</em></span>, where we spent time printing and counting lists, to refresh your memory about how lists items are counted).</li><li class="listitem" style="list-style-type: disc">The <code class="literal">for</code> loop to make profile for each player: For <code class="literal">player 0</code> and <code class="literal">player 1</code>, we will make a player profile with information.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">player.append()</code> function: This adds an information type to each player profile. In this case, name is <code class="literal">string</code>, score is <code class="literal">int</code>, and backpack is an <code class="literal">empty</code> list.</li></ul></div><p>The <code class="literal">backpack</code> dictionary key is special because it is a list that will store all of the backpack items inside of the profile. It allows the user to have many items stored in the same place:</p><div class="mediaobject"><img src="graphics/B04681_07_05.jpg" alt="Player profiles"/></div></div><div class="section" title="Player profiles – how do they work?"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec45"/>Player profiles – how do they work?</h2></div></div></div><p>Now, let's think about all the<a id="id235" class="indexterm"/> information in a player profile. We have a list called <code class="literal">players</code>. Inside the <code class="literal">players</code> list, we have a dictionary for each player. The dictionary is where the player profile information is stored. Inside the dictionary for each player, we have made room for an item list. The item list is called <code class="literal">backpack</code>, and its job is to remember all the list items in the player profile. Try to imagine the profile  like a tree that has more leaves as it breaks away from the trunk and branch:</p><div class="mediaobject"><img src="graphics/B04681_07_06.jpg" alt="Player profiles – how do they work?"/></div><p>The name<a id="id236" class="indexterm"/> for what we have done is called <span class="strong"><strong>nesting</strong></span>. Nesting is when we put one thing inside something else. Here, we have nested one datatype (a dictionary) inside another datatype (<code class="literal">players</code> list).</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip07"/>Tip</h3><p>Save your code if you have not done so already!</p></div></div></div><div class="section" title="Add players to profile"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec46"/>Add players to profile</h2></div></div></div><p>So, we <a id="id237" class="indexterm"/>have set up a data structure, called the <span class="strong"><strong>player</strong></span> profile, as a way to store the information about each player. Now, we need to write the code that will prompt the players to enter their information into our program. We will use the <code class="literal">raw_input()</code> function to get information from the players and store this information in the user profile. Our request for user information will continue inside the <code class="literal">for</code> loop.</p><p>First, read through the code from lines 15-20 in this screenshot:</p><div class="mediaobject"><img src="graphics/B04681_07_11.jpg" alt="Add players to profile"/></div><p>In line 15<a id="id238" class="indexterm"/> of this code, you will notice our <code class="literal">raw_input()</code> command, which asks the player to enter their name. Did you notice that the <code class="literal">name</code> dictionary key is used? Did you notice that before the <code class="literal">name</code> key, <code class="literal">players[i]</code> is used? This means that the answer to the <code class="literal">Enter your name</code> prompt will be stored in the dictionary under the <code class="literal">name</code> key. A player profile will be created, and it will be waiting for information about the backpack items and the game score.</p><p>The player number is being set by <code class="literal">i</code>. The lowercase <code class="literal">i</code> represents one player. So, line 15 asks us for the name of player <code class="literal">i</code>. How does it know what number to choose? Where is <code class="literal">i</code> getting that information? If you go back up to the <code class="literal">for</code> loop, you will notice <code class="literal">for i in range(2)</code>. This means <span class="emphasis"><em>for the first player of two players</em></span>, do all the things in the loop. When line 15 runs the <code class="literal">for</code> loop the first time, it asks for input from <code class="literal">player 1</code>; when the <code class="literal">for</code> loop runs the second time, it asks for input from <code class="literal">player 2</code>. A <code class="literal">for</code> loop with a <code class="literal">range(2)</code> only runs twice, so after getting and storing input from <code class="literal">player 2</code>, the <code class="literal">for</code> loop stops looping.</p></div></div>
<div class="section" title="Adding items to the virtual backpack"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec48"/>Adding items to the virtual backpack</h1></div></div></div><p>Now<a id="id239" class="indexterm"/> that we have added the player's name, we want to add four items to the player's virtual backpack. The virtual backpack is really a list inside the dictionary. We will store the list of each player's items in their virtual backpack, which is inside each player's profile. Asking a player to answer the same question multiple times presents a new programming challenge. How will we limit our program to ask for only four items? How will we add each item to the backpack of the correct player?</p></div>
<div class="section" title="Limiting items in a virtual backpack"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec49"/>Limiting items in a virtual backpack</h1></div></div></div><p>To make<a id="id240" class="indexterm"/> sure that we only add four items to each virtual backpack, we are using another <code class="literal">for</code> loop (inside our first <code class="literal">for</code> loop). The inside loop says <code class="literal">for item in range(4)</code>. This means <span class="emphasis"><em>for each item out of four items</em></span>, do all the things in the loop. In our backpack loop, this means that we will enter items 0, 1, 2, and 3 into the backpack using the <code class="literal">raw_input()</code> function.</p><p>In the <code class="literal">players[i]backpack</code> dictionary, we append (add) items to the list inside of the backpack by using <code class="literal">append(backpack_item)</code>. Because we want four items, our <code class="literal">for</code> loop runs four times after asking for the name and items of the player. When this <code class="literal">backpack_item</code> code finishes running, the entire player loop will begin again, asking for the name and items for the second player. In this process, we get the information we need to fill out the player profiles that are stored in the dictionaries of <code class="literal">player 1</code> and <code class="literal">player 2</code>:</p><div class="mediaobject"><img src="graphics/B04681_07_12.jpg" alt="Limiting items in a virtual backpack"/></div><p>To review, when you run your code, you should expect to see the following:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create a name and profile of <code class="literal">player 1</code>—<code class="literal">Enter name for player 1</code>.</li><li class="listitem">Ask <code class="literal">player 1</code> to put items in their backpack—<code class="literal">Enter 4 items to put into your backpack</code>.</li><li class="listitem">Player enters four items.</li><li class="listitem">Create a name and profile <code class="literal">of player 2</code>—<code class="literal">Enter name for player 2</code>.</li><li class="listitem">Ask <code class="literal">player 2</code> to put items in their backpack—<code class="literal">Enter 4 items to put into your backpack</code>.</li></ol></div></div>
<div class="section" title="Testing your code so far"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec50"/>Testing your code so far</h1></div></div></div><p>You have <a id="id241" class="indexterm"/>now written all of the data storage elements of the game. Save your code again if you have not done so already, and test what you have written.</p><p>First, do a visual test of your <code class="literal">backpack.py</code> code file. Make sure that your code is indented properly. Look for syntax errors such as misplaced quotes, periods, square brackets, curly braces, and parentheses. Make sure that everything is spelled correctly. Save after each mistake that you fix.</p><p>Next, use your command prompt (Windows) or terminal (Mac/Linux) to test your code by running your program. When you run your program, you should expect to be asked to enter the name of player 1, enter four items, enter the name of player 2, and enter four more items:</p><div class="mediaobject"><img src="graphics/B04681_07_07.jpg" alt="Testing your code so far"/></div><p>If you want to make sure that the backpack items you enter are being properly stored, you can use the test code from line 20 in the screenshot. Just uncomment (erase the hashtag in front of) the code in line 20, and then run the code again. Use the print statement from line 20 to check what the computer is storing. Sometimes, the computer reads things differently than we think it will, so it is good to have a print statement to double-check your work:</p><div class="mediaobject"><img src="graphics/B04681_07_08.jpg" alt="Testing your code so far"/></div><p>If you <a id="id242" class="indexterm"/>have a mistake, you will get an error message. Usually, the error message will have a message that tells you where the problem is in the code. Look at your error messages if you do something incorrectly, and use these messages to figure out what is going wrong. When you correct an error, you can make a note or even make a comment in your code so that you recall how you fixed the problem.</p></div>
<div class="section" title="A game loop"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec51"/>A game loop</h1></div></div></div><p>We have planned <a id="id243" class="indexterm"/>and coded how to get information from players. Now, we need to code a <span class="strong"><strong>game loop</strong></span>. What is a game loop? The game loop keeps the game running by starting the game using user actions to update the state of the game, if necessary, and continuing to operate until the game is ended, stopping the loop.</p><p>Our game loop lets us start the game, use stored information from the players to make changes to the game state, and print outputs so that we know whether the guess was correct or incorrect or what the score is at the end of the game. Our game loop also shuts off if conditions change to stop the game. We have already used a game loop in our Higher or Lower game, and this game loop will be similar. Using the game loop, we can write the code to complete our game.</p></div>
<div class="section" title="Bringing back the while loop"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec52"/>Bringing back the while loop</h1></div></div></div><p>So, you may<a id="id244" class="indexterm"/> remember using the <code class="literal">while</code> loop back in <a class="link" href="ch04.html" title="Chapter 4. Making Decisions – Python Control Flows">Chapters 4</a>, <span class="emphasis"><em>Making Decisions: Python Control Flows</em></span>, and <a class="link" href="ch05.html" title="Chapter 5. Loops and Logic">Chapter 5</a>, <span class="emphasis"><em>Loops and Logic</em></span>. We will be using the <code class="literal">while</code> loop again to set up the game loop. There is quite a lot happening in the game loop (the <code class="literal">while</code> loop), so let's take a look at it step by step. First, look at this screenshot of all <a id="id245" class="indexterm"/>of the code inside the game loop:</p><div class="mediaobject"><img src="graphics/B04681_07_09.jpg" alt="Bringing back the while loop"/></div><p>The first thing that you see is the comment telling anybody who reads the code what the code is doing. Comments are not required, but sometimes they can be helpful when you are writing a program. This comment simply tells us that the next section is the game loop.</p><p>The game loop starts with the <code class="literal">game_on</code> variable. The <code class="literal">game_loop</code> variable is set to equal <code class="literal">True</code> (remember, <code class="literal">True</code> is a Boolean). The next line says <code class="literal">while game_on:</code>; this means that <span class="emphasis"><em>since the </em></span><code class="literal">while</code><span class="emphasis"><em> loop is </em></span><code class="literal">True</code><span class="emphasis"><em>, keep running the </em></span><code class="literal">while</code><span class="emphasis"><em> loop until something happens to make it </em></span><code class="literal">False</code><span class="emphasis"><em> (untrue)</em></span>. Since <code class="literal">while game_on:</code> is <code class="literal">True</code>, the game will keep running using the information that we gathered when the game started. The game will end only when <code class="literal">game_on = False</code>.</p><p>Inside our game loop is another <code class="literal">for</code> loop. When one loop is inside another loop, they are nested. You might notice that this <code class="literal">for</code> loop is almost the same as the <code class="literal">for</code> loop in line 7. This code runs <code class="literal">for i in range(2)</code>, which means that <span class="emphasis"><em>for each player in the two players</em></span>, do all the things in the loop.</p><p>In this <code class="literal">for</code> loop, from line 26 to line 36, the main part of the game takes place. The things in this <code class="literal">for</code> loop include the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Ask the first player to guess an item from the second player's backpack</li><li class="listitem" style="list-style-type: disc">Print if the first player is correct or incorrect</li><li class="listitem" style="list-style-type: disc">Add points to the first player's score if correct</li><li class="listitem" style="list-style-type: disc">Switch to the second player</li><li class="listitem" style="list-style-type: disc">Ask the second player to guess an item from first player's backpack</li><li class="listitem" style="list-style-type: disc">Print if the second player is correct or incorrect</li><li class="listitem" style="list-style-type: disc">Add points to the second player's score if correct</li><li class="listitem" style="list-style-type: disc">Ask the players if they want to play again</li><li class="listitem" style="list-style-type: disc">If <span class="emphasis"><em>YES</em></span> to play again, restart the loop and redo all actions</li></ul></div><p>The preceding list has <a id="id246" class="indexterm"/>all of the events that take place inside of the <code class="literal">for</code> loop, which starts in line 25 of the code. We will break down the code that makes this happen in the next section of the chapter.</p></div>
<div class="section" title="Comparing guesses with backpack items"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec53"/>Comparing guesses with backpack items</h1></div></div></div><p>In the<a id="id247" class="indexterm"/> math chapter, we learned about something called <a id="id248" class="indexterm"/>
<span class="strong"><strong>modulo</strong></span>. Now, it is coming back. In the backpack game, we compare the items in one player's backpack to the guess of another player. Then, the players switch places! How will the computer keep track of which backpack to look at and what player should be chosen? We can use modulo to help us always choose the correct player in the two-player version of this game.</p><p>Here is the line of code that uses modulo (line 27):</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>other_player = players[(i+1) % 2]</strong></span>
</pre></div><p>This line of code uses modulo to identify the opposite player by looking for the player in the <code class="literal">players</code> list we made in line 5. Here is the basic idea:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Erin (player 1) = 0 and Tanvir (player 2) = 1.</li><li class="listitem" style="list-style-type: disc">Whoever is playing needs to compare their answer to the backpack of the other player.</li><li class="listitem" style="list-style-type: disc">To get the backpack of the other player, we tell the computer <span class="emphasis"><em>Hey, we need the backpack of the player who is NOT guessing right now.</em></span> We do this with math.</li><li class="listitem" style="list-style-type: disc">Erin needs to use Tanvir's backpack to make guesses. Remember that Tanvir = 1.<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">(0 + 1) % 2 = 1.</li><li class="listitem" style="list-style-type: disc">This formula says (Erin + 1) modulo 2 = Tanvir's backpack.</li><li class="listitem" style="list-style-type: disc">As you can see, this math formula is equal to 1, so it is asking for Tanvir's backpack.</li><li class="listitem" style="list-style-type: disc">Erin <span class="emphasis"><em>WANTS</em></span> to guess what is in Tanvir's backpack, so this is correct.</li></ul></div></li><li class="listitem" style="list-style-type: disc">Tanvir needs to guess what is in Erin's backpack. Remember, Erin = 0.<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">(1 + 1) % 2 = 0.</li><li class="listitem" style="list-style-type: disc">This formula says (Tanvir + 1) modulo 2 = Erin's backpack.</li><li class="listitem" style="list-style-type: disc">As you can see, this formula is equal to 0, so it is asking for Erin's backpack.</li><li class="listitem" style="list-style-type: disc">Tanvir <span class="emphasis"><em>WANTS</em></span> to guess what is in Erin's backpack, so this is correct.</li></ul></div></li></ul></div><p>Using the formula, we<a id="id249" class="indexterm"/> choose the player profile from the <code class="literal">players</code> list. You know we are using a list because we use the name <code class="literal">players</code>, which we defined in line 5 of the program, and we use square brackets, <code class="literal">[ ]</code>, to say which list item we want to use. Inside the square brackets, we put a math formula that is equal to one of the items in our list.</p></div>
<div class="section" title="Keeping score"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec54"/>Keeping score</h1></div></div></div><p>To <a id="id250" class="indexterm"/>keep score in the game, the following line of code is used:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>players[i]["score"] += 1</strong></span>
</pre></div><p>You will notice a new symbol, <code class="literal">+=</code>. The <code class="literal">+=</code> symbol is a shortcut that lets us take a value (<code class="literal">score</code>), add an amount to this value (we are adding 1 point), and then make the value of <code class="literal">score</code> equal to the new value.</p><p>This line of code says that if the first player makes a match to an item in the second player backpack, then the new score for the first player is <code class="literal">score += 1</code>. You will remember that in the beginning of the game, we set each player to have a score of zero in the dictionary. Now, we are updating that score to be <code class="literal">score += 1</code>. Each time the first player scores, <code class="literal">score</code> will be updated by <code class="literal">1</code>, and the computer will remember the new score.</p></div>
<div class="section" title="Ending the game"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec55"/>Ending the game</h1></div></div></div><p>Once we are<a id="id251" class="indexterm"/> tired of playing the game, we can answer the question <span class="emphasis"><em>Do you want to play again? Type YES or NO: with </em></span><code class="literal">NO</code>. Once we do this, you will notice that <code class="literal">game_on = False appears</code> in the code to stop the <code class="literal">while</code> loop. As soon as the loop stops, the last line of code is executed:</p><div class="mediaobject"><img src="graphics/B04681_07_10.jpg" alt="Ending the game"/></div><p>This line of code prints out the scores of each player only <span class="emphasis"><em>AFTER</em></span> the game loop is completed. This line of code is outside of the <code class="literal">for</code> loop and the game loop. If you only ran the game once, the <a id="id252" class="indexterm"/>highest score could only be one. However, if you ran the game five or ten times, then your high scores could be as high as five or ten, depending on how many items each player guessed correctly.</p></div>
<div class="section" title="Testing your game"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec56"/>Testing your game</h1></div></div></div><p>Now, the <a id="id253" class="indexterm"/>moment of truth! First, look at each line of code. Check for indentation errors and syntax errors. Once you have proofread your code, save your work. When you are ready, run your code and play the game against yourself to see whether your code works. Run your code using your command prompt (Windows) or your terminal (Mac/Linux).</p><p>The expected behavior is that each player will get one chance to guess the contents of the other player's backpack. Then, you will be asked whether you would like to continue. If you press yes, the guessing will start again. If you press no, then the scores will print and the game will stop:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">If your game is working the way you expect it to, you can show it to someone else and see how it works for them</li><li class="listitem" style="list-style-type: disc">Print out different messages for correct or incorrect guesses</li><li class="listitem" style="list-style-type: disc">Make an ending message, such as <span class="emphasis"><em>Thanks for playing</em></span></li></ul></div><p>These are just a few of many ways that you can change the game. By playing with the code, you can learn more about how it behaves, and gain a greater understanding of why and how things work. You are encouraged to play the game many times, by yourself and with others, to get ideas about how you might change your code to alter the game as well as understand each line of code thoroughly.</p></div>
<div class="section" title="A quick task for you"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec57"/>A quick task for you</h1></div></div></div><p>Q1. What is nesting?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">When birds build a home</li><li class="listitem">When one item is inside another item</li><li class="listitem">When a game loop is used</li><li class="listitem">When a dictionary is used</li></ol></div><p>Q2. What does the list called <code class="literal">players</code> organize in this game?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">It organizes a scores</li><li class="listitem">It organizes player names</li><li class="listitem">It organizes all the items belonging to each player</li><li class="listitem">It organizes a backpack</li></ol></div><p>Q3. What kind of item is inside the <code class="literal">players</code> list?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Any item that the player wants</li><li class="listitem">A string</li><li class="listitem">An integer</li><li class="listitem">A dictionary</li></ol></div><p>Q4. What is a game loop?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">A loop that keeps going forever</li><li class="listitem">A loop that holds the logic of the game</li><li class="listitem">A loop that keeps the game running</li><li class="listitem">2 and 3</li></ol></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec58"/>Summary</h1></div></div></div><p>This chapter has been a lot of work. We reviewed almost every skill that we learned so far! We used logic in our <code class="literal">if</code>/<code class="literal">else</code> statements. We used Booleans, such as <code class="literal">True</code> and <code class="literal">False</code>, to change our game state. We ran <code class="literal">for</code> loops to control how many times certain events too place, and we ran a <code class="literal">while</code> loop as our game loop. Finally, we used <span class="emphasis"><em>lists</em></span> and <span class="emphasis"><em>dictionaries</em></span> to store customized information and to allow for information, such as the player score, to be changed during the game. We learned a new skill in this chapter: <span class="emphasis"><em>nesting</em></span>. Our backpack game used nested lists and dictionaries. We also used nested loops, such as our <code class="literal">while</code> loop, with the <code class="literal">for</code> loop inside.</p><p>This chapter used one of many ways to make this game. Our purpose was to use all of the tools we have in our Python toolbox. There are many different ways to make a <span class="strong"><strong>backpack</strong></span> game. Some might be simpler, others might be more complicated. Something to explore before you go on is to try and make a variation of this game before you go on. You can use this code as a starting point, and use Internet searches and other books by Packt Publishing to help sharpen your Python skills.</p><p>In the next chapter, we are going to learn about making graphics using Python. We will learn some features of the graphics library that we can apply to develop our final game. Some of the features that we will learn include how to make a game screen, draw shapes, and move things around. We will even learn how to make one object bounce off another (hint: it's an illusion!). The next chapter will also require some software installation, which may require you to have password access to your computer.</p></div></body></html>