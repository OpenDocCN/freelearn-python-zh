<html><head></head><body>
		<div><h1 id="_idParaDest-83" class="chapter-number"><a id="_idTextAnchor083"/>3</h1>
			<h1 id="_idParaDest-84"><a id="_idTextAnchor084"/>Creating Odoo Add-On Modules</h1>
			<p>Now that we have a development environment and know how to manage Odoo server instances and databases, we will learn how to create Odoo add-on modules.</p>
			<p>Our main goal in this chapter is to understand how an add-on module is structured and the typical incremental workflow to add components to it. The various components mentioned in this chapter’s recipe names will be covered extensively in subsequent chapters.</p>
			<p>An Odoo module can contain several elements:</p>
			<ul>
				<li><strong class="bold">Business objects</strong>:<ul><li>Declared as Python classes, these resources are automatically persisted by Odoo based on their configuration</li></ul></li>
				<li><strong class="bold">Object views</strong>:<ul><li>A definition of business objects’ UI display</li></ul></li>
				<li><strong class="bold">Data files (XML or CSV files declaring the </strong><strong class="bold">model metadata)</strong>:<ul><li>Views or reports</li><li>Configuration data (module parametrization and security rules)</li><li>Demonstration data and more</li></ul></li>
				<li><strong class="bold">Web controllers</strong>:<ul><li>Handle requests from web browsers, static web data images, or CSS or JavaScript files used by the web interface or website</li></ul></li>
			</ul>
			<p>In this chapter, we will cover the following recipes:</p>
			<ul>
				<li>Creating and installing a new add-on module</li>
				<li>Completing the add-on module manifest</li>
				<li>Organizing the add-on module file structure</li>
				<li>Adding models</li>
				<li>Adding menu items and views</li>
				<li>Adding access security</li>
				<li>Using the <code>scaffold</code> command to create a module</li>
			</ul>
			<h1 id="_idParaDest-85"><a id="_idTextAnchor085"/>Technical requirements</h1>
			<p>For this chapter, you are expected to have Odoo installed, and you are also expected to have followed the recipes in <a href="B20997_01.xhtml#_idTextAnchor020"><em class="italic">Chapter 1</em></a>, <em class="italic">Installing the Odoo Development Environment</em>. You are also expected to be comfortable in discovering and installing extra add-on modules, as described in <a href="B20997_02.xhtml#_idTextAnchor051"><em class="italic">Chapter 2</em></a>, <em class="italic">Managing Odoo </em><em class="italic">Server Instances</em>.</p>
			<p>All the code used in this chapter can be downloaded from the GitHub repository at <a href="https://github.com/PacktPublishing/Odoo-17-Development-Cookbook-Fifth-Edition/tree/main/Chapter03">https://github.com/PacktPublishing/Odoo-17-Development-Cookbook-Fifth-Edition/tree/main/Chapter03</a>.</p>
			<h1 id="_idParaDest-86"><a id="_idTextAnchor086"/>What is an Odoo add-on module?</h1>
			<p>Except for the framework code, all of the code bases of Odoo are packed in the form of modules. These modules can be installed or uninstalled at any time from the database. There are two <a id="_idIndexMarker126"/>main purposes for these modules. You can either add new apps/business logic, or you can modify an existing application. Put simply, in Odoo, everything starts and ends with modules.</p>
			<p>Odoo offers various business solutions such as Sales, Purchase, POS, Accounting, Manufacturing, Project, and Inventory. Creating a new module involves adding new features to a business or upgrading the existing ones.</p>
			<p>The latest version of Odoo introduces numerous new modules in both the Community and Enterprise editions. These include Meeting Rooms, To-Do, and several WhatsApp-related integration modules.</p>
			<p>In addition, this version comes packed with exciting new features such as a redesigned user interface, improved search functionality, and new features for CRM, manufacturing, and e-commerce. The new version also includes several other improvements, such as enhanced performance, improved security, and more integrations.</p>
			<p>Odoo is used by companies of all sizes; each company has a different business flow and requirements. To deal with this issue, Odoo splits the features of the application into different modules. These modules can be loaded into the database on demand. Basically, the administrator can enable/disable these features at any time. Consequently, the same software can be adjusted for different requirements. Check out the following <a id="_idIndexMarker127"/>screenshot of Odoo modules; the first module in the column is the main application, and others are designed to add extra features to that app. To get a modules list grouped by the application’s category, go to the <strong class="bold">Apps</strong> menu and apply grouping by category:</p>
			<div><div><img src="img/B20997_03_1.jpg" alt="Figure 3.1 – Grouping apps by category"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.1 – Grouping apps by category</p>
			<p>If you plan on developing a new application in Odoo, you should create boundaries for various features. This will be very helpful to divide your application into different add-on modules. Now that you know the purpose of the add-on module in Odoo, we can start building our own one.</p>
			<h1 id="_idParaDest-87"><a id="_idTextAnchor087"/>Creating and installing a new add-on module</h1>
			<p>In this recipe, we will create <a id="_idIndexMarker128"/>a new module, make it available in <a id="_idIndexMarker129"/>our Odoo instance, and install it.</p>
			<h2 id="_idParaDest-88"><a id="_idTextAnchor088"/>Getting ready</h2>
			<p>To begin, we will need an Odoo instance that’s ready to use.</p>
			<p>If you followed the <em class="italic">Easy installation of Odoo from the source</em> recipe in <a href="B20997_01.xhtml#_idTextAnchor020"><em class="italic">Chapter 1</em></a>, <em class="italic">Installing the Odoo Development Environment</em>, Odoo should be available at <code>~/odoo-dev/odoo</code>. For explanation purposes, we will assume this location for Odoo, although you can use any other location of your preference.</p>
			<p>We will also need a location to add our own Odoo modules. For the purpose of this recipe, we will use a <code>local-addons</code> directory alongside the <code>odoo</code> directory, at <code>~/odoo-dev/local-addons</code>.</p>
			<p>You can upload your own Odoo modules on GitHub and clone them on your local system for development purposes.</p>
			<h2 id="_idParaDest-89"><a id="_idTextAnchor089"/>How to do it...</h2>
			<p>As an example, for this chapter, we will create a small add-on module to manage a hostel.</p>
			<p>The following steps will create and install a new add-on module:</p>
			<ol>
				<li>Change the working directory in which we will work and create the add-ons directory where our custom module will be placed:<pre class="source-code">
<strong class="bold">$ cd ~/odoo-dev</strong>
<code>my_hostel</code>:<pre class="source-code">
<code>__init__.py</code> file:<pre class="source-code">
<code>my_hostel</code> folder, create an <code>__manifest__.py</code> file with this line:<pre class="source-code">
{'name': 'Hostel Management'}</pre></li>				<li>Start your <a id="_idIndexMarker130"/>Odoo instance, including the module directory, in the add-on path:<pre class="source-code">
<code>--save</code> option is added to the Odoo command, the add-ons path will be saved in the <a id="_idIndexMarker131"/>configuration file. The next time you start the server, if no add-on path option is provided, this will be used.</p></li>				<li>Make the new module available in your Odoo instance. Log in to Odoo using <strong class="bold">admin</strong>, enable <strong class="bold">Developer Mode</strong> in the <strong class="bold">About</strong> box, and in the <strong class="bold">Apps</strong> top menu, select <strong class="bold">Update Apps List</strong>. Now, Odoo should know about our Odoo module:</li>
			</ol>
			<div><div><img src="img/B20997_03_2.jpg" alt="Figure 3.2 – The dialog to update the app list"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.2 – The dialog to update the app list</p>
			<ol>
				<li value="7">Select the <code>my_hostel</code>. Click on the <strong class="bold">Activate</strong> button, and the installation will finish.</li>
			</ol>
			<h2 id="_idParaDest-90"><a id="_idTextAnchor090"/>How it works...</h2>
			<p>An Odoo module is a directory that contains code files and other assets. The directory name that’s used <a id="_idIndexMarker132"/>is the module’s technical name. The <code>name</code> key in the module manifest is its title.</p>
			<p>The <code>__manifest__.py</code> file is the module manifest. This contains a Python dictionary with module metadata, including category, version, the modules it depends on, and a list of the data <a id="_idIndexMarker133"/>files that it will load. It contains important metadata about the add-on module and declares the data files that should be loaded.</p>
			<p>In this recipe, we used a minimal manifest file, but in real modules, we will need other important keys. These are discussed in the next recipe, <em class="italic">Completing the add-on </em><em class="italic">module manifest</em>.</p>
			<p>The module directory must be Python-importable, so it also needs to have an <code>__init__.py</code> file, even if it’s empty. To load a module, the Odoo server will import it. This will cause the code in the <code>__init__.py</code> file to be executed, so it works as an entry point to run the module Python code. Due to this, it will usually contain import statements to load the module Python files and submodules.</p>
			<p>Known modules can be installed directly from the command line using the <code>--init</code> or <code>my_hostel</code> app, you can use <code>my_hostel</code>. This list is initially set when you create a new database from the modules found on the add-on path provided at that time. It can be updated in an existing database with the <strong class="bold">Update Module </strong><strong class="bold">List</strong> menu.</p>
			<h1 id="_idParaDest-91"><a id="_idTextAnchor091"/>Completing the add-on module manifest</h1>
			<p>The manifest is <a id="_idIndexMarker134"/>an important piece for Odoo modules.</p>
			<h2 id="_idParaDest-92"><a id="_idTextAnchor092"/>Getting ready</h2>
			<p>We should have a module to work with, already containing a <code>__manifest__.py</code> manifest file. You may want to follow the previous recipe to provide such a module to work with.</p>
			<h2 id="_idParaDest-93"><a id="_idTextAnchor093"/>How to do it...</h2>
			<p>We will add <a id="_idIndexMarker135"/>a manifest file and an icon to our add-on module:</p>
			<ol>
				<li>To create a manifest file with the most relevant keys, edit the module’s <code>__manifest__.py</code> file so that it looks like this:<pre class="source-code">
{
    'name': "Hostel Management",
    'summary': "Manage Hostel easily",
    'description': "Efficiently manage the entire residential facility in the school.", # Supports reStructuredText(RST) format (description is Deprecated),
    'author': "Your name",
    'website': "http://www.example.com",
    'category': 'Uncategorized',
    'version': '17.0.1.0.0',
    'depends': ['base'],
    'data': ['views/hostel.xml'],
    'assets': {
    'web.assets_backend': [
        'web/static/src/xml/**/*',
    ],
           },
     'demo': ['demo.xml'],
}</pre></li>				<li>To add an icon for the module, choose a PNG image to use and copy it to <code>static/description/icon.png</code>.</li>
			</ol>
			<h2 id="_idParaDest-94"><a id="_idTextAnchor094"/>How it works...</h2>
			<p>The content in <a id="_idIndexMarker136"/>the manifest file is a regular Python dictionary, with keys and values. The example manifest we used contains the most relevant keys:</p>
			<ul>
				<li><code>name</code>: This is the title of the module.</li>
				<li><code>summary</code>: This is the subtitle with a one-line description.</li>
				<li><code>description</code>: This is a <a id="_idIndexMarker137"/>long description written in plaintext or <strong class="bold">ReStructuredText (RST)</strong> format. It is usually surrounded by triple quotes and is used in Python to delimit multiline texts. For an RST quick-start reference, visit <a href="http://docutils.sourceforge.net/docs/user/rst/quickstart.html">http://docutils.sourceforge.net/docs/user/rst/quickstart.html</a>.</li>
				<li><code>author</code>: This is a string with the name of the authors. When there is more than one, it is common practice to use a comma to separate their names, but note that it should still be a string, not a Python list.</li>
				<li><code>website</code>: This is a URL people should visit to learn more about the module or the authors.</li>
				<li><code>category</code>: This is used to organize modules by areas of interest. The list of the standard category names available can be seen at <a href="https://github.com/odoo/odoo/blob/17.0/odoo/addons/base/data/ir_module_category_data.xml">https://github.com/odoo/odoo/blob/17.0/odoo/addons/base/data/ir_module_category_data.xml</a>. However, it’s also possible to define other new category names here.</li>
				<li><code>version</code>: This is the module’s version number. It can be used by the Odoo app store to detect newer versions of installed modules. If the version number does not begin with the Odoo target version (for example, <code>17.0</code>), it will be automatically added. Nevertheless, it will be more informative if you explicitly state the Odoo target version – for example, by using <code>17.0.1.0.0</code> or <code>17.0.1.0</code>, instead of <code>1.0.0</code> or <code>1.0</code>, respectively.</li>
				<li><code>depends</code>: This is a list with the technical names of the modules it directly depends on. If your module does not depend on any other add-on module, then you should at least add a <code>base</code> module. Don’t forget to include any module defining XML IDs, views, or models that are referenced by this module. That will ensure that they all load in the correct order, avoiding hard-to-debug errors.</li>
				<li><code>data</code>: This is a list of relative paths for the data files to load during module installation or upgrade. The paths are relative to the module <code>root</code> directory. Usually, these are XML and CSV files, but it’s also possible to have YAML data files. These are discussed in depth in <a href="B20997_06.xhtml#_idTextAnchor319"><em class="italic">Chapter 6</em></a>, <em class="italic">Managing </em><em class="italic">Module Data</em>.</li>
				<li><code>demo</code>: This is the list of relative paths to the files with demonstration data to load. These will only be loaded if the database was created with the <code>Demo Data</code> flag enabled.</li>
			</ul>
			<p>The image that is used as the module icon is the PNG file at <code>static/description/icon.png</code>.</p>
			<p>Odoo is expected to have significant changes between major versions, so modules that have been <a id="_idIndexMarker138"/>built for one major version are not likely to be compatible with the next version without conversion and migration work. For this reason, it’s important to be sure about a module’s Odoo target version before installing it.</p>
			<p>To ensure compatibility, we need to follow these steps:</p>
			<ul>
				<li>Firstly, check whether the installation is successful. If it is, then proceed to check whether the module’s functionality works properly.</li>
				<li>However, if the installation is not successful, you will then need to adjust the code and functional logic based on the errors you are receiving.</li>
			</ul>
			<h2 id="_idParaDest-95"><a id="_idTextAnchor095"/>There’s more…</h2>
			<p>Instead of having a long description in the module manifest, it’s possible to have a separate <a id="_idIndexMarker139"/>description file. Since version 8.0, it can be replaced by a <code>README</code> file, with either a <code>.txt</code>, <code>.rst</code>, or a <code>.md</code> (markdown) extension. Otherwise, include a <code>description/index.html</code> file in the module.</p>
			<p>This HTML description will override the description that’s defined in the manifest file.</p>
			<p>There are a few more keys that are frequently used:</p>
			<ul>
				<li><code>licence</code>: The default value is <code>LGPL-3</code>. This identifier is used for a license under the module that is made available. Other license possibilities include <code>AGPL-3</code>, <code>Odoo Proprietary License v1.0</code> (mostly used in paid apps), and <code>Other OSI </code><code>Approved Licence</code>.</li>
				<li><code>application</code>: If this is <code>True</code>, the module is listed as an application. Usually, this is used for the central module of a functional area.</li>
				<li><code>auto_install</code>: If this is <code>True</code>, it indicates that this is a <em class="italic">glue</em> module, which is automatically installed when all of its dependencies are installed.</li>
				<li><code>installable</code>: If this is <code>True</code> (the default value), it indicates that the module is available for installation.</li>
				<li><code>external_dependencies</code>: Some Odoo modules internally use <code>Python/bin</code> libraries. If your modules are using such libraries, you need to put them here. This will stop users from installing the module if the listed modules are not installed on the host machine.</li>
				<li><code>{pre_init, post_init, uninstall}_hook</code>: This is a Python function hook that’s called during installation/uninstallation. For a more detailed example, refer to <a href="B20997_08.xhtml#_idTextAnchor388"><em class="italic">Chapter 8</em></a>, <em class="italic">Advanced Server-Side </em><em class="italic">Development Techniques.</em></li>
				<li><code>Assets</code>: A definition of how all static files are loaded in various asset bundles. Odoo assets are grouped by bundles. Each bundle (a list of file paths of specific types – <code>xml</code>, <code>js</code>, <code>css</code>, or <code>scss</code>) is listed in the module manifest.</li>
			</ul>
			<p>There <a id="_idIndexMarker140"/>are a number of special keys that are used for app store listing:</p>
			<ul>
				<li><code>price</code>: This key is used to set the price for your add-on module. The value of this key should be an integer value. If a price is not set, this means your app is free.</li>
				<li><code>currency</code>: This is the currency for the price. Possible values are <code>USD</code> and <code>EUR</code>. The default value for this key is <code>EUR</code>.</li>
				<li><code>live_test_url</code>: If you want to provide a live test URL for your app, you can use this key to show the <code>Live Preview</code> button on the app store.</li>
				<li><code>iap</code>: Set your IAP developer key if the module is used to provide an IAP service.</li>
				<li><code>images</code>: This gives the path of images. This image will be used as a cover image in Odoo’s app store.</li>
			</ul>
			<h1 id="_idParaDest-96"><a id="_idTextAnchor096"/>Organizing the add-on module file structure</h1>
			<p>An add-on module contains code files and other assets, such as XML files and images. For most <a id="_idIndexMarker141"/>of these files, we are free to choose where to place them inside the module directory.</p>
			<p>However, Odoo uses some conventions on the module structure, so it is advisable to follow them. Proper code improves readability, eases maintenance, helps debugging, lowers complexity, and promotes reliability. These apply to every new module and all new developments.</p>
			<h2 id="_idParaDest-97"><a id="_idTextAnchor097"/>Getting ready</h2>
			<p>We are expected to have an add-on module directory with only the <code>__init__.py</code> and <code>__manifest__.py</code> files. In this recipe, we assume this is <code>local-addons/my_hostel</code>.</p>
			<h2 id="_idParaDest-98"><a id="_idTextAnchor098"/>How to do it...</h2>
			<p>To create a basic skeleton for the add-on module, perform the following steps:</p>
			<ol>
				<li>Create directories for the code files:<pre class="source-code">
<strong class="bold">$ cd local-addons/my_hostel</strong>
<strong class="bold">$ mkdir models</strong>
<strong class="bold">$ touch models/__init__.py</strong>
<strong class="bold">$ mkdir controllers</strong>
<strong class="bold">$ touch controllers/__init__.py</strong>
<strong class="bold">$ mkdir views</strong>
<strong class="bold">$ touch views/views.xml</strong>
<strong class="bold">$ mkdir security</strong>
<strong class="bold">$ mkdir wizards</strong>
<strong class="bold">$ touch wizards/__init__.py</strong>
<strong class="bold">$ mkdir reports</strong>
<strong class="bold">$ mkdir data</strong>
<strong class="bold">$ mkdir demo</strong>
<code>__init__.py</code> file so that the code in the subdirectories is loaded:<pre class="source-code">
from . import models
from . import controllers
from . import wizards</pre></li>			</ol>
			<p>This should get us started with a structure containing the most frequently used directories, similar to this one:</p>
			<pre class="console">
my_hostel
├── __init__.py
├── __manifest__.py
├── controllers
│   └── __init__.py
├── data
├── demo
├── i18n
├── models
│   └── __init__.py
├── security
├── static
│   ├── description
│   └── src
│       ├─ js
│       ├─ scss
│       ├─ css
│       └ xml
├── reports
├── wizards
│   └── __init__.py
└──views
   └── __init__.py</pre>			<h2 id="_idParaDest-99"><a id="_idTextAnchor099"/>How it works...</h2>
			<p>To provide <a id="_idIndexMarker143"/>some context, an Odoo add-on module can have three types of files:</p>
			<ul>
				<li>The <em class="italic">Python code</em> is loaded by the <code>__init__.py</code> files, where the <code>.py</code> files and code s<a id="_idIndexMarker144"/>ubdirectories are imported. Subdirectories containing Python code, in turn, need their own <code>__init__.py </code>file.</li>
				<li><em class="italic">Data files</em> that are to <a id="_idIndexMarker145"/>be declared in the <code>data</code> and <code>demo</code> keys of the <code>__manifest__.py</code> module manifest in order to be loaded are usually XML and CSV files for the user interface, fixture data, and demonstration data. There may also be YAML files, which can include some procedural instructions that are run when the module is loaded – for instance, to generate or update records programmatically rather than statically in an XML file.</li>
				<li><em class="italic">Web assets</em>, such as JavaScript code and libraries, CSS, SASS, and QWeb/HTML templates, are files <a id="_idIndexMarker146"/>that are used to build UI parts and manage user actions in those UI elements. These are declared through a manifest on assets key that includes new files with existing files, which adds these assets to the web client, widgets, or website pages.</li>
			</ul>
			<p>The add-on <a id="_idIndexMarker147"/>files are organized into the following directories:</p>
			<ul>
				<li><code>models/</code> contains the backend code files, thus creating the models and their business logic. One file per model is recommended with the same name as the model – for example, <code>hostel.py</code> for the <code>hostel.hostel</code> model. These are addressed in depth in <a href="B20997_04.xhtml#_idTextAnchor118"><em class="italic">Chapter 4</em></a>, <em class="italic">Application Models</em>.</li>
				<li><code>views/</code> contains the XML files for the user interface, with the actions, forms, lists, and so on. Like models, it is advised to have one file per model. Filenames for website templates are expected to end with the <code>_template</code> suffix. Backend views are explained in <a href="B20997_09.xhtml#_idTextAnchor446"><em class="italic">Chapter 9</em></a>, <em class="italic">Backend Views</em>, and website views are addressed in <a href="B20997_14.xhtml#_idTextAnchor734"><em class="italic">Chapter 14</em></a>, <em class="italic">CMS </em><em class="italic">Website Development</em>.</li>
				<li><code>data/</code> contains other data files with the module’s initial data. Data files are explained in <a href="B20997_06.xhtml#_idTextAnchor319"><em class="italic">Chapter 6</em></a>, <em class="italic">Managing </em><em class="italic">Module Data</em>.</li>
				<li><code>demo/</code> contains data files with demonstration data, which is useful for tests, training, or module evaluation.</li>
				<li><code>i18n/</code> is where Odoo will look for the translation <code>.pot</code> and <code>.po</code> files. Refer to <a href="B20997_11.xhtml#_idTextAnchor595"><em class="italic">Chapter 11</em></a>, <em class="italic">Internationalization</em>, for further details. These files don’t need to be mentioned in the manifest file.</li>
				<li><code>security/</code> contains the data files that define access control lists, which is usually an <code>ir.model.access.csv</code> file and, possibly, an XML file to define access <em class="italic">groups and record rules</em> for row-level security. Take a look at <a href="B20997_10.xhtml#_idTextAnchor549"><em class="italic">Chapter 10</em></a>, <em class="italic">Security Access</em>, for more details on this.</li>
				<li><code>controllers/</code> contains the code files for the website controllers and for modules providing that kind of feature. Web controllers are covered in <a href="B20997_13.xhtml#_idTextAnchor697"><em class="italic">Chapter 13</em></a>, <em class="italic">Web </em><em class="italic">Server Development</em>.</li>
				<li><code>static/</code> is where all web assets are expected to be placed. Unlike other directories, this directory name is not just a convention. The files inside this directory are <a id="_idIndexMarker148"/>public and can be accessed without a user login. This directory mostly contains files such as JavaScript, style sheets, and images. They don’t need to be mentioned in the module manifest but will have to be referred to in the web template. This is discussed in detail in <a href="B20997_14.xhtml#_idTextAnchor734"><em class="italic">Chapter 14</em></a>, <em class="italic">CMS </em><em class="italic">Website Development</em>.</li>
				<li><code>wizards/</code> contains all of the files related to wizards. In Odoo, wizards are used to hold intermediate data. We learn more about wizards in <a href="B20997_08.xhtml#_idTextAnchor388"><em class="italic">Chapter 8</em></a>, <em class="italic">Advanced Server-Side </em><em class="italic">Development Techniques</em>.</li>
				<li><code>reports/</code>: Odoo provides a feature to generate PDF documents such as sales orders and invoices. This directory holds all the files related to PDF reports. We will learn more about PDF reports in <a href="B20997_12.xhtml#_idTextAnchor628"><em class="italic">Chapter 12</em></a>, <em class="italic">Automation, Workflows, Emails, </em><em class="italic">and Printing</em>.</li>
			</ul>
			<p>When adding new files to a module, don’t forget to declare them either in the <code>__manifest__.py</code> file (for data files) or <code>__init__.py</code> file (for code files); otherwise, those files will be ignored and won’t be loaded.</p>
			<h1 id="_idParaDest-100"><a id="_idTextAnchor100"/>Adding models</h1>
			<p>Models define the data structures that will be used by our business applications. This recipe shows <a id="_idIndexMarker149"/>you how to add a basic model to a module. Models determine the logical structure of a database and how data is stored, organized, and manipulated. In other words, a model is a table of information that can be linked with other tables. A model usually represents a business concept, such as a sales order, contact, or product.</p>
			<p>Modules contain various elements, such as models, views, data files, web controllers, and static web data.</p>
			<p>To create a hostel module, we need to develop a model that represents the hostel.</p>
			<h2 id="_idParaDest-101"><a id="_idTextAnchor101"/>Getting ready</h2>
			<p>We should have a module to work with. If you followed the first recipe in this chapter, <em class="italic">Creating and installing a new add-on module</em>, you will have an empty module called <code>my_hostel</code>. We will use that for our explanation.</p>
			<h2 id="_idParaDest-102"><a id="_idTextAnchor102"/>How to do it...</h2>
			<p>To add a new <code>Model</code>, we need to add a Python file describing it and then upgrade the add-on module (or install it, if this has not already been done). The paths that are used are relative to our add-on module’s location (for example, <code>~/odoo-dev/local-addons/my_hostel/</code>):</p>
			<ol>
				<li>Add a Python file to the <code>models/hostel.py</code> module with the following code:<pre class="source-code">
from odoo import fields, models
class Hostel(models.Model):
    _name = 'hostel.hostel'
    _description = "Information about hostel"
    name = fields.Char(string="Hostel Name", required=True)
    hostel_code = fields.Char(string="Code", required=True)
    street = fields.Char('Street')
    street2 = fields.Char('Street2')
    state_id = fields.Many2one("res.country.state", string="State")</pre></li>				<li>Add a Python initialization file with code files to be loaded by the <code>models/__init__.py</code> module with the following code:<pre class="source-code">
from . import hostel</pre></li>				<li>Edit the <a id="_idIndexMarker150"/>module’s Python initialization file to have the module load the <code>models/</code> directory:<pre class="source-code">
from . import models</pre></li>				<li>Upgrade the Odoo module from the command line or the <strong class="bold">Apps</strong> menu in the user interface. If you look closely at the server log while upgrading the module, you should see the following line:<pre class="source-code">
<strong class="bold">odoo.modules.registry: module my_hostel: creating or updating database table</strong></pre></li>			</ol>
			<p>After this, the new <code>hostel.hostel</code> model should be available in our Odoo instance. There are two ways to check whether our model has been added to the database.</p>
			<p>First, you can check it in the Odoo user interface. Activate the developer tools and open the menu at <code>hostel.hostel</code> model here.</p>
			<p>The second way is to check the table entry in your PostgreSQL database. You can search for the <code>hostel_hostel</code> table in the database. In the following code example, we used <code>test-17.0</code> as our database. However, you can replace your database name with the following command:</p>
			<pre class="console">
$ psql test-17.0
test-17.0# \d hostel_hostel;</pre>			<h2 id="_idParaDest-103"><a id="_idTextAnchor103"/>How it works...</h2>
			<p>Our first step was to create a Python file where our new module was created.</p>
			<p>The Odoo <a id="_idIndexMarker151"/>framework has its own <code>ORM</code> framework provides an abstraction over the PostgreSQL database. By inheriting the Odoo Python <code>Model</code> class, we can create our own model (table). When a new model is defined, it is also added to a central model registry. This makes it easier for other modules to make modifications to it later.</p>
			<p>Models have a few <a id="_idIndexMarker152"/>generic attributes prefixed with an underscore. The most important one is <code>_name</code>, which provides a unique internal identifier that will be used throughout the Odoo instance. The ORM framework will generate the database table based on this attribute. In our recipe, we used <code>_name = 'hostel.hostel'</code>. Based on this attribute, the ORM framework will create a new table called <code>hostel_hostel</code>. Note that the ORM framework will create a table name by replacing it. with <code>_</code> in the value of the <code>_name</code> attribute. <code>_description</code> which provides a model’s informal name, we used <code>_name = 'hostel.hostel'</code> and <code>_description='Information about hostel'</code>, and <code>_description='Information about hostel'</code> only starts with an alphabetical character we can’t start with a number or special symbol character.</p>
			<p>The <code>model</code> fields are defined as class attributes. We began by defining the <code>name</code> field of the <code>Char</code> type. It is convenient for models to have this field because, by default, it is used as the record description when referenced by other models.</p>
			<p>We also used an example of a relational field – <code>state_id</code>. This defines a many-to-one relationship between <code>Hostel</code> and <code>State</code>.</p>
			<p>There’s much more to say about models, and they will be covered in depth in <a href="B20997_04.xhtml#_idTextAnchor118"><em class="italic">Chapter 4</em></a>, <em class="italic">Application Models</em>.</p>
			<p>Next, we must make our module aware of this new Python file. This is done by the <code>__init__.py</code> files. Since we placed the code inside the <code>models/</code> subdirectory, we need the previous <code>__init__</code> file to import that directory, which should, in turn, contain another <code>__init__</code> file, importing each of the code files there (just one, in our case).</p>
			<p>Changes to Odoo models are activated by upgrading the module. The Odoo server will handle the translation of the <code>model</code> class into database structure changes.</p>
			<p>Although no example <a id="_idIndexMarker153"/>is provided here, business logic can also be added to these Python files, either by adding new methods to the model’s class or by extending the existing methods, such as <code>create()</code> or <code>write()</code>. This is addressed in <a href="B20997_05.xhtml#_idTextAnchor238"><em class="italic">Chapter 5</em></a>, <em class="italic">Basic </em><em class="italic">Server-Side Development</em>.</p>
			<h1 id="_idParaDest-104"><a id="_idTextAnchor104"/>Adding access security</h1>
			<p>When adding a new data model, you need to define who can create, read, update, and delete records. When creating a totally new application, this can involve defining new user groups. Consequently, if a user doesn’t have these access rights, then Odoo will not display your <a id="_idIndexMarker154"/>menus and views. In the previous recipe, we accessed our menu by converting an <code>admin</code> user into a superuser. After completing this recipe, you will be able to access menus and views for the <code>Hostel</code> module directly as an <code>admin</code> user.</p>
			<p>This recipe builds on the <code>Hostel</code> model from the previous recipes and defines a new security group of users to control who can access or modify the records of <code>Hostel</code>.</p>
			<h2 id="_idParaDest-105"><a id="_idTextAnchor105"/>Getting ready</h2>
			<p>The add-on module that implements the <code>hostel.hostel</code> model, which was provided in the previous recipe, is needed because, in this recipe, we will add the security rules for it. The paths that are used are relative to our add-on module location (for example, <code>~/odoo-dev/local-addons/my_hostel/</code>).</p>
			<h2 id="_idParaDest-106"><a id="_idTextAnchor106"/>How to do it...</h2>
			<p>The security rules we want to add to this recipe are as follows:</p>
			<ul>
				<li>Everyone will be able to read hostel records.</li>
				<li>A new group <a id="_idIndexMarker155"/>of users called <strong class="bold">Hostel Manager</strong> will have the right to create, read, update, and delete hostel records.</li>
			</ul>
			<p>To implement this, you need to perform the following steps:</p>
			<ol>
				<li>Create a <a id="_idIndexMarker156"/>file called <code>security/hostel_security.xml</code> with the following content:<pre class="source-code">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;odoo&gt;
&lt;record id="module_category_hostel" model="ir.module.category"&gt;
    &lt;field name="name"&gt;Hostel Management&lt;/field&gt;
    &lt;field name="sequence"&gt;31&lt;/field&gt;
&lt;/record&gt;
&lt;record id="group_hostel_manager" model="res.groups"&gt;
    &lt;field name="name"&gt;Hostel Manager&lt;/field&gt;
    &lt;field name="category_id" ref="module_category_hostel"/&gt;
    &lt;field name="users" eval="[(4, ref('base.user_root')),(4, ref('base.user_admin'))]"/&gt;
&lt;/record&gt;
&lt;record id="group_hostel_user" model="res.groups"&gt;
    &lt;field name="name"&gt;Hostel User&lt;/field&gt;
    &lt;field name="category_id" ref="module_category_hostel"/&gt;
&lt;/record&gt;
&lt;/odoo&gt;</pre></li>				<li>Add a file called <code>security/ir.model.access.csv</code> with the following content:<pre class="source-code">
id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink
access_hostel_manager_id,access.hostel.manager,my_hostel.model_hostel_hostel,my_hostel.group_hostel_manager,1,1,1,1
access_hostel_user_id,access.hostel.user,my_hostel.model_hostel_hostel,my_hostel.group_hostel_user,1,0,0,0</pre></li>				<li>Add both <a id="_idIndexMarker157"/>files to the <code>data</code> entry of <code>__manifest__.py</code>:<pre class="source-code">
# ...
"data": [
    "security/hostel_security.xml",
    "security/ir.model.access.csv",
    "views/hostel.xml",
],
# ...</pre></li>			</ol>
			<p>The newly defined security rules will be in place once you update the add-on in your instance.</p>
			<h2 id="_idParaDest-107"><a id="_idTextAnchor107"/>How it works…</h2>
			<p>We provide two new data files that we add to the add-on module’s manifest so that installing or updating the module will load them in the database:</p>
			<ul>
				<li>The <code>security/hostel_security.xml</code> file defines a new security group by creating a <code>res.groups</code> record. We also gave Hostel Manager rights to the <code>admin</code> user by using its reference ID, <code>base.user_admin</code>, so that the admin user will have rights to the <code>hostel.hostel</code> model.</li>
				<li>The <code>ir.model.access.csv</code> file associates permissions on models with groups. The first line has an empty <code>group_id:id</code> column, which means that the rule applies to everyone. The last line gives all privileges to members of the group we just created.</li>
			</ul>
			<p>The order of the files in the data section of the manifest is important. The file for creating the security groups must be loaded before the file listing the access rights, as the access rights <a id="_idIndexMarker158"/>definition depends on the existence of the groups. Since the views can be specific to a security group, we recommend putting the group’s definition file in the list to be o<a id="_idTextAnchor108"/>n the safe side.</p>
			<h2 id="_idParaDest-108"><a id="_idTextAnchor109"/>See also</h2>
			<p>This book has a chapter dedicated to security. For more information on security, refer to <em class="italic">Chapter 10</em>, <em class="italic">Security Access</em>.</p>
			<h1 id="_idParaDest-109"><a id="_idTextAnchor110"/>Adding menu items and views</h1>
			<p>Once we have models for our data structure needs, we want a user interface so that our users can interact with them. Menus and views play a crucial role in structuring and enhancing the <a id="_idIndexMarker159"/>user experience. Menus, from a technical perspective, are dynamic user interface components that present a structured set of options or links, typically <a id="_idIndexMarker160"/>allowing users to access various features, functions, or content areas within an application. This recipe builds on the <code>Hostel</code> model from the previous recipe and adds a menu item to display a user interface, featuring list and form views.</p>
			<h2 id="_idParaDest-110"><a id="_idTextAnchor111"/>Getting ready</h2>
			<p>The add-on module to implement the <code>hostel.hostel</code> model, which was provided in the previous recipe, is needed. The paths that will be used are relative to our add-on module location (for example, <code>~/odoo-dev/local-addons/my_hostel/</code>).</p>
			<h2 id="_idParaDest-111"><a id="_idTextAnchor112"/>How to do it...</h2>
			<p>To add a view, we will add an XML file with its definition to the module. Since it is a new model, we must also add a menu option for the user to be able to access it.</p>
			<p>For models, XML files adding views folder to create a view, action, and menu item.</p>
			<p>Be aware that the sequence of the following steps is relevant, since some of them use references to IDs that were defined in the preceding steps:</p>
			<ol>
				<li>Create the XML file to add the data records describing the user interface, <code>views/hostel.xml</code>:<pre class="source-code">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;odoo&gt;
&lt;!-- Data records go here --&gt;
&lt;/odoo&gt;</pre></li>				<li>Add the new <a id="_idIndexMarker161"/>data file to the add-on module manifest, <code>__manifest__.py</code>, by adding it to <code>views/hostel.xml</code>:<pre class="source-code">
{
    "name": "Hostel Management",
    "summary": "Manage Hostel easily",
    "depends": ["base"],
    "data": ["views/hostel.xml"],
}</pre></li>				<li>Add the <a id="_idIndexMarker162"/>action that opens the views in the <code>hostel.xml</code> file:<pre class="source-code">
&lt;record id="action_hostel" model="ir.actions.act_window"&gt;
        &lt;field name="name"&gt;Hostel&lt;/field&gt;
        &lt;field name="type"&gt;ir.actions.act_window&lt;/field&gt;
        &lt;field name="res_model"&gt;hostel.hostel&lt;/field&gt;
        &lt;field name="view_mode"&gt;tree,form&lt;/field&gt;
        &lt;field name="help" type="html"&gt;
            &lt;p class="oe_view_nocontent_create"&gt;
                Create Hostel.
            &lt;/p&gt;
        &lt;/field&gt;
    &lt;/record&gt;</pre></li>				<li>Add the menu items to the <code>hostel.xml</code> file, making it visible to users:<pre class="source-code">
&lt;menuitem id="hostel_main_menu" name="Hostel" sequence="1"/&gt;
&lt;menuitem id="hostel_type_menu" name="Hostel" parent="hostel_main_menu" action="my_hostel.action_hostel" groups="my_hostel.group_hostel_manager" sequence="1"/&gt;</pre></li>				<li>Add a <a id="_idIndexMarker163"/>custom <a id="_idIndexMarker164"/>form view to the hostel.xml file:<pre class="source-code">
&lt;record id="view_hostel_form_view" model="ir.ui.view"&gt;
        &lt;field name="name"&gt;hostel.hostel.form.view&lt;/field&gt;
        &lt;field name="model"&gt;hostel.hostel&lt;/field&gt;
        &lt;field name="arch" type="xml"&gt;
            &lt;form string="Hostel"&gt;
                &lt;sheet&gt;
                    &lt;div class="oe_title"&gt;
                        &lt;h3&gt;
                            &lt;table&gt;
                                &lt;tr&gt;
                                    &lt;td style="padding-
                                    right:10px;"&gt;
                                    &lt;field name="name" 
                                    required="1" 
                                    placeholder="Name" /&gt;
                                  &lt;/td&gt;
                                    &lt;td style="padding-
                                    right:10px;"&gt;
                                    &lt;field name="hostel_code" 
                                    placeholder="Code" /&gt;
                                        &lt;/td&gt;
                                &lt;/tr&gt;
                            &lt;/table&gt;
                        &lt;/h3&gt;
                    &lt;/div&gt;
                    &lt;group&gt;
                        &lt;group&gt;
                            &lt;label for="street" 
                            string="Address"/&gt;
                            &lt;div class="o_address_format"&gt;
                                &lt;field name="street" 
                                placeholder="Street..." 
                                class="o_address_street"/&gt;
                                &lt;field name="street2" 
                                placeholder="Street 2..." 
                                class="o_address_street"/&gt;
                            &lt;/div&gt;
                        &lt;/group&gt;
                    &lt;/group&gt;
                &lt;/sheet&gt;
            &lt;/form&gt;
        &lt;/field&gt;
    &lt;/record&gt;</pre></li>				<li>Add a custom <a id="_idIndexMarker165"/>tree (list) view to the <code>hostel.xml</code> file:<pre class="source-code">
&lt;record id="view_hostel_tree_view" model="ir.ui.view"&gt;
        &lt;field    name="name"&gt;hostel.hostel.tree.view&lt;/field&gt;
        &lt;field name="model"&gt;hostel.hostel&lt;/field&gt;
        &lt;field name="arch" type="xml"&gt;
            &lt;tree&gt;
                &lt;field name="name"/&gt;
                &lt;field name="hostel_code"/&gt;
            &lt;/tree&gt;
        &lt;/field&gt;
&lt;/record&gt;</pre></li>				<li>Add custom <code>hostel.xml</code> file:<pre class="source-code">
&lt;record id="view_hostel_search_view" model="ir.ui.view"&gt;
    &lt;field name="name"&gt;Hostel Search&lt;/field&gt;
    &lt;field name="model"&gt;hostel.hostel&lt;/field&gt;
    &lt;field name="arch" type="xml"&gt;
        &lt;search&gt;
            &lt;field name="name"/&gt;
            &lt;field name="hostel_code"/&gt;
        &lt;/search&gt;
    &lt;/field&gt;
&lt;/record&gt;</pre></li>			</ol>
			<p>When a new model is added in Odoo, the user doesn’t have any access rights by default. We must define access rights for the new model in order to get access. In our example, we haven’t defined <a id="_idIndexMarker167"/>any access rights, so the user doesn’t have access <a id="_idIndexMarker168"/>to our new model. Without access, our menus and views are not visible either. Luckily, there is one shortcut! By switching to superuser mode, you can see menus for our app without having access rights.</p>
			<h3>Accessing Odoo as a superuser</h3>
			<p>By converting the <code>admin</code> user into a <code>superuser</code> type, you can bypass the access rights and, therefore, access <a id="_idIndexMarker169"/>menus and views without giving default access rights. To convert the <code>admin</code> user into a superuser, activate <strong class="bold">Developer Mode</strong>. After doing this, from the developer tool options, click on the <strong class="bold">Become </strong><strong class="bold">Superuser</strong> option.</p>
			<p>As a developer preference, try everything without becoming a superuser; it will be very helpful to learn Odoo in depth. By becoming a Superuser, all security access and record rule checks will be bypassed.</p>
			<p>The following screenshot has been provided as a reference:</p>
			<div><div><img src="img/B20997_03_3.jpg" alt="Figure 3.3 – The option to activate superuser mode"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.3 – The option to activate superuser mode</p>
			<p>After becoming a superuser, your menu will have a striped background, as shown in the following screenshot:</p>
			<div><div><img src="img/B20997_03_4.jpg" alt="Figure 3.4 – Superuser mode activated"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.4 – Superuser mode activated</p>
			<p>If you try and upgrade <a id="_idIndexMarker170"/>the module now, you should be able to see a new menu option (you might need to refresh your web browser). Clicking on the <strong class="bold">Hostel</strong> menu will open a list view for hostel models, as shown in the following screenshot:</p>
			<div><div><img src="img/B20997_03_5.jpg" alt="Figure 3.5 – The menu to access Hostel"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.5 – The menu to access Hostel</p>
			<h2 id="_idParaDest-112"><a id="_idTextAnchor113"/>How it works...</h2>
			<p>At a low level, the user <a id="_idIndexMarker171"/>interface is defined by records stored in special <a id="_idIndexMarker172"/>models. The first two steps create an empty XML file to define the records to be loaded, and then we add them to the module’s list of data files to be installed.</p>
			<p>Data files can be placed anywhere inside the module directory, but the convention is for the user interface to be defined inside a <code>views/</code> subdirectory. Usually, the name of these files is based on the name of the model. In our case, we create the user interface for the <code>hostel.hostel</code> model, so we created the <code>views/hostel.xml</code> file.</p>
			<p>The next step is to define a window action to display the user interface in the main area of the web client. The action has a target model defined by <code>res_model</code>, and the <code>name</code> attribute is used to display the title to the user when the user opens the action. These are just the basic attributes. The window action supports additional attributes, giving much <a id="_idIndexMarker173"/>more control over how the views are rendered, such as <a id="_idIndexMarker174"/>what views are to be displayed, adding filters on the records that are available, or setting default values. These are discussed in detail in <a href="B20997_09.xhtml#_idTextAnchor446"><em class="italic">Chapter 9</em></a>, <em class="italic">Backend Views</em>.</p>
			<p>In general, data records are defined using a <code>&lt;record&gt;</code> tag, and we created a record for the <code>ir.actions.act_window</code> model in our example. This will create the window actions.</p>
			<p>Similarly, menu items are stored in the <code>ir.ui.menu</code> model, and we can create these with the <code>&lt;record&gt;</code> tag. However, there is a shortcut tag called <code>&lt;menuitem&gt;</code> available in Odoo, so we used this in our example.</p>
			<p>These are <a id="_idIndexMarker175"/>the menu item’s main attributes:</p>
			<ul>
				<li><code>name</code>: This is the menu item text to be displayed.</li>
				<li><code>action</code>: This is the identifier of the action to be executed. We use the ID of the window action we created in the previous step.</li>
				<li><code>sequence</code>: This is used to set the order in which the menu items of the same level are presented.</li>
				<li><code>parent</code>: This is the identifier for the parent menu item. Our example menu item had no parent, meaning that it would be displayed at the top of the menu.</li>
				<li><code>web_icon</code>: This attribute is used to show the icon for the menu. This icon is only displayed in the Odoo Enterprise edition.</li>
			</ul>
			<p>At this point, we haven’t defined any of the views in our module. However, if you upgrade your module at this stage, Odoo will automatically create them on the fly. Nevertheless, we will surely want to control how our views look, so in the next two steps, a form and a tree view are created.</p>
			<p>Both views <a id="_idIndexMarker176"/>are defined with a record on the <code>ir.ui.view</code> model. The attributes we used are as follows:</p>
			<ul>
				<li><code>name</code>: This is a title identifying the view. In the source code of Odoo, you will find the XML ID repeated here, but if you want, you can add a more human-readable title as a name.</li>
				<li>If the <code>name</code> field is omitted, Odoo will generate one using the model name and the type of view. This is perfectly fine for the standard view of a new model. It is recommended to have a more explicit name when you extend a view, as this will make your life easier when you look for a specific view in the user interface of Odoo.</li>
				<li><code>model</code>: This is the internal identifier of the target model, as defined in its <code>_name</code> attribute.</li>
				<li><code>arch</code>: This is the view architecture, where its structure is actually defined. This is where different types of views differ from each other.</li>
			</ul>
			<p>Form views are defined with a top <code>&lt;form&gt;</code> element, and its canvas is a two-column grid. Inside the form, <code>&lt;group&gt;</code> elements are used to vertically compose fields. Two groups result in two columns with fields, which are added using the <code>&lt;field&gt;</code> element. Fields use a default widget according to their data type, but a specific widget can be used with the help of the <code>widget</code> attribute.</p>
			<p>Tree views are simpler; they are defined with a top <code>&lt;tree&gt;</code> element that contains <code>&lt;field&gt;</code> elements for the columns to be displayed.</p>
			<p>Finally, we added a <code>&lt;search&gt;</code> top-level tag, we can have  the <code>&lt;field&gt;</code> and <code>&lt;filter&gt;</code> elements. Field elements are additional fields that can be searched from the input given in the search view. Filter elements are predefined filter conditions that can be activated with a click. These subjects are discussed in detail in <a href="B20997_09.xhtml#_idTextAnchor446"><em class="italic">Chapter 9</em></a>, <em class="italic">Backend Views</em>.</p>
			<h1 id="_idParaDest-113"><a id="_idTextAnchor114"/>Using the scaffold command to create a module</h1>
			<p>When creating a new Odoo module, there is some boilerplate code that needs to be set up. To help <a id="_idIndexMarker177"/>quick-start new modules, Odoo provides the <code>scaffold</code> command.</p>
			<p>This recipe shows you how to create a new module using the <code>scaffold</code> command, which will put in place a skeleton of the file for directories to use.</p>
			<h2 id="_idParaDest-114"><a id="_idTextAnchor115"/>Getting ready</h2>
			<p>We will create the new add-on module in a custom module directory, so we need Odoo installed and a directory for our custom modules. We will assume that Odoo is installed at <code>~/odoo-dev/odoo</code> and that our custom modules will be placed in the <code>~/</code><code>odoo-dev/local-addons</code> directory.</p>
			<h2 id="_idParaDest-115"><a id="_idTextAnchor116"/>How to do it...</h2>
			<p>We will use the <code>scaffold</code> command to create boilerplate code. Perform the following steps to create new a module using the <code>scaffold</code> command:</p>
			<ol>
				<li>Change the working directory to where we will want our module to be. This can be whatever directory you choose, but it needs to be within an add-on path to be useful. Following the directory choices that we used in the previous recipe, this should be as follows:<pre class="source-code">
<code>scaffold</code> command to create it. For our example, we will choose <code>my_module</code>:<pre class="source-code">
<code>__manifest__.py</code> default module manifest provided and change the relevant values. You will surely want to at least change the module title in the <code>name</code> key.</li>
			</ol>
			<p>This is what the generated add-on module should look like:</p>
			<pre class="console">
$ tree my_module
my_module/
├── __init__.py
├── __manifest__.py
├── controllers
│   ├── __init__.py
│   └── controllers.py
├── demo
│   └── demo.xml
├── models
│   ├── __init__.py
│   └── models.py
├── security
│   └── ir.model.access.csv
└── views
    ├── templates.xml
    └── views.xml
5 directories, 10 files</pre>			<p>You should now <a id="_idIndexMarker178"/>edit the various generated files and adapt them to the purpose of your new module.</p>
			<h2 id="_idParaDest-116"><a id="_idTextAnchor117"/>How it works...</h2>
			<p>The <code>scaffold</code> command creates the skeleton for a new module based on a template.</p>
			<p>By default, the new module is created in the current working directory, but we can provide a specific directory to create the module, passing it as an additional parameter.</p>
			<p>Consider the following example:</p>
			<pre class="console">
$ ~/odoo-dev/odoo/odoo-bin scaffold my_module ~/odoo-dev/local-addons</pre>			<p>A <code>default</code> template is used, but a <code>theme</code> template is also available for website theme authoring. To choose a specific template, the <code>-t</code> option can be used. We are also allowed to use a path for a directory with a template.</p>
			<p>This means <a id="_idIndexMarker179"/>that we can use our own templates with the <code>scaffold</code> command. The built-in templates can be found in the <code>/odoo/cli/templates</code> Odoo subdirectory. To use our own template, we can use something like the following command:</p>
			<pre class="console">
$ ~/odoo-dev/odoo/odoo-bin scaffold -t path/to/template my_module</pre>			<p>By default, Odoo has two templates in the <code>/odoo/cli/templates</code> directory. One is the <code>default</code> template, and the second is the <code>theme</code> template. However, you can create your own templates or use them with <code>-t</code>, as shown in the preceding command.</p>
		</div>
	</body></html>