<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch10"/>Chapter 10. Simple GUI Applications</h1></div></div></div><p>All the chapters so far were about learning to write better application code in Python. Starting with a simple program, we saw how to develop robust and efficient applications. We touched upon several important areas of software development. More specifically, we covered exception handling, deploying applications, documentation, adopting best practices, unit testing, refactoring, design patterns, and performance improvements. The key concepts were explained using various command-line applications that were progressively improved.</p><p>Where do we go from here? Beyond the command line, there are applications that present an interactive user interface. Desktop, mobile GUI applications, or web applications come under this category. Also, there are applications targeted for specific domains such as network and database programming. These are broad topics, and each has its own set of goodies that will help make the application robust. Nonetheless, the techniques we have learned in this book provide a solid foundation for all these domains.</p><p>This last chapter is designed to give you just a flavor of one such domain. It will be a superficial introduction to desktop GUI application development using Python.</p><div><div><h3 class="title"><a id="note29"/>Note</h3><p>GUI programming<a id="id746" class="indexterm"/> is too big of a beast to fit into a single chapter. Let's do that anyway, keeping in mind that there is plenty of opportunity to learn beyond what is discussed here. The chapter won't show you how to create full-fledged, complex GUI applications. Rather, we will just dip a toe into GUI application development using Python's Tkinter library.</p></div></div><p>Here is how the rest of the chapter is organized:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The chapter will start with an overview of the available GUI frameworks.</li><li class="listitem" style="list-style-type: disc">Next, we will see what event-driven programming is, followed by a primer on the Tkinter library.</li><li class="listitem" style="list-style-type: disc">What follows next is our first project, a simple GUI application that uses Tkinter. It is essentially the GUI version of the first ever application we developed in <a class="link" href="ch01.html" title="Chapter 1. Developing Simple Applications">Chapter 1</a>, <em>Developing Simple Applications</em>.</li><li class="listitem" style="list-style-type: disc">The next section will serve as an introduction to the <strong>Model-view-controller</strong> (<strong>MVC</strong>) architecture. This will be followed by our second project, where the earlier application is rewritten to implement the MVC architecture.</li><li class="listitem" style="list-style-type: disc">The chapter will also talk about testing GUI applications. This will be a high-level discussion, and won't involve writing any code.</li><li class="listitem" style="list-style-type: disc">This being the last chapter, we will conclude it, and hence the book, with a brief discussion on various application frontiers.</li></ul></div><div><div><div><div><h1 class="title"><a id="ch10lvl1sec83"/>Overview of GUI frameworks</h1></div></div></div><p>A user interface is <a id="id747" class="indexterm"/>typically something that a user can see and use to communicate with the application. So far, we have presented a text-based user interface. For example, in the <em>Attack of the Orcs</em> application, the user was prompted to specify a hut number, and based on the number entered, further actions were taken.</p><p>A <a id="id748" class="indexterm"/>
<strong>Graphical User Interface</strong> (<strong>GUI</strong>), on the other hand, presents an interface to the user that may have buttons, icons, text fields, graphics, and so on. There are several Python GUI frameworks available. Many of these are based on cross-platform technologies such as Tk, Qt, wxWidgets, and others. Let's briefly discuss some of the most popular frameworks. The purpose is to just make you aware of the GUI technologies available.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec172"/>Tkinter</h2></div></div></div><p>
<strong>Tkinter</strong>
<a id="id749" class="indexterm"/> provides Python bindings or interface to the open source Tk GUI widget toolkit. For <a id="id750" class="indexterm"/>more information on Tk, see its official<a id="id751" class="indexterm"/> website, <a class="ulink" href="http://www.tcl.tk/">http://www.tcl.tk/</a>. It is available as a standard module in Python. What this means is that as long as Python is installed, we do not need any additional installations to use it. In this book, we will demonstrate basic GUI concepts using the Tkinter library.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec173"/>PyQt</h2></div></div></div><p>
<strong>PyQt</strong> (<a class="ulink" href="https://wiki.python.org/moin/PyQt">https://wiki.python.org/moin/PyQt</a>) is a<a id="id752" class="indexterm"/> widely used Python GUI library. It is<a id="id753" class="indexterm"/> one of the most mature frameworks out there. It <a id="id754" class="indexterm"/>essentially provides Python bindings for a popular Qt GUI application development framework. In order to use this framework, you need to install Qt first. </p><p>It is worth noting here that Qt has different licensing schemes depending on the project. For example, if your project is an open source distribution, licensed under the terms of LGPL or GPL, you can use Qt freely. If you are using it for a commercial purpose, you have to purchase a license. Visit the Qt<a id="id755" class="indexterm"/> website, <a class="ulink" href="https://www.qt.io/">https://www.qt.io/</a>, for more details.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec174"/>PySide</h2></div></div></div><p>PySide is <a id="id756" class="indexterm"/>another Python <a id="id757" class="indexterm"/>binding for the Qt GUI framework. It is a free software, released under the LGPL license. PySide supports Windows, Mac, and Linux OS. For more<a id="id758" class="indexterm"/> information, see <a class="ulink" href="https://wiki.qt.io/PySide">https://wiki.qt.io/PySide</a>.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec175"/>Kivy</h2></div></div></div><p>This is one of the most promising<a id="id759" class="indexterm"/> open source frameworks for creating cross-platform<a id="id760" class="indexterm"/> interactive user interfaces. With kivy, you can rapidly develop native multi-touch apps for mobile or desktop. It provides a design language called Kv for GUI design. The kivy website lists many supported operating systems including Windows, Mac OS X , Ubuntu, and Android for which an installer is available.</p><div><div><h3 class="title"><a id="tip104"/>Tip</h3><p>If you are using a different OS not listed on the kivy website, the installation could be a challenge. For example, at the time of writing this book, there is no installer available for <strong>Red Hat Enterprise Linux</strong> (<strong>RHEL</strong>) <a id="id761" class="indexterm"/>version 6.x. The other option is to build it from source code. But that could be a challenge if you are not familiar with the code compilation and building process. If you really want to use it, you could also install it in a virtual machine running one of the supported OS.</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec176"/>wxPython</h2></div></div></div><p>This package <a id="id762" class="indexterm"/>provides a wrapper for<a id="id763" class="indexterm"/> <strong>wxWidgets</strong>, a cross-platform GUI library. It is an open source toolkit, and according to the<a id="id764" class="indexterm"/> project website (<a class="ulink" href="http://www.wxpython.org">http://www.wxpython.org</a>), the supported platforms include 32-bit <a id="id765" class="indexterm"/>Windows, many Unix-like operating systems, and Mac OS X.</p><p>While there are many choices available at our disposal, in this chapter we will use the built-in Tkinter module mentioned earlier. The scope will be limited to developing a simple application that demonstrates some of the major components of GUI-based application development.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec84"/>GUI programming design considerations</h1></div></div></div><p>Although the<a id="id766" class="indexterm"/> focus of this chapter is on developing simple GUI applications, it is worth taking a moment to briefly discuss some important practical design considerations or guidelines for developing user interfaces. These guidelines will also come in handy for web-based or mobile applications. Some aspects that we are about to discuss should actually be part of your GUI application development life cycle.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec177"/>Understanding user requirements</h2></div></div></div><p>The first and foremost <a id="id767" class="indexterm"/>task is to put yourself in the shoes of the end user. You are developing the GUI application for consumption by the end users. It is important to take their feedback on the features that they would like to see. This is typically a part of requirements gathering.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec178"/>Developing a user story</h2></div></div></div><p>OK, so you know what<a id="id768" class="indexterm"/> features are requested, and have prepared a list that would be supported in the upcoming version. It is often useful to prepare a mock user interface that illustrates how various features could be accessed and how they interact. The mock user interface could be in the form of a simple presentation. You can then take feedback from the development team as well as from the key users of the product. This will allow you to immediately identify the problems, if any, or refine your design strategy even before writing a single line of code. Such discussions with the key stakeholders could also unearth future requirements that you have not thought through. This, in turn, will help you refine the software architecture to make provisions for such requirements. Next, let's learn about some of the design principles.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec179"/>Simplicity and accessibility</h2></div></div></div><p>The GUI should be simple enough to make the most frequently used tasks easy to access. What the developers think as <em>simple</em> may<a id="id769" class="indexterm"/> not always go well with the end users. Getting user feedback and going through design <a id="id770" class="indexterm"/>iterations play an important role. In general, keep the following things in mind when designing for simplicity:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">It matters how you lay out the various components in the application window. Is it intuitive? Is it easily accessible?</li><li class="listitem" style="list-style-type: disc">Place frequently used and important functionality prominently in the UI.</li><li class="listitem" style="list-style-type: disc">Try to hide advanced or less frequently used features. If possible, you could create an expert level mode in your GUI where these features appear prominently.</li><li class="listitem" style="list-style-type: disc">Have default values wherever applicable.</li><li class="listitem" style="list-style-type: disc">Common user actions should be easy to execute. For example, if changing the background color is a common task, allow users to access this option with a click of a button or with a keyboard shortcut.</li><li class="listitem" style="list-style-type: disc">Try not to put too <a id="id771" class="indexterm"/>many things<a id="id772" class="indexterm"/> in the default display. Reduce the clutter.</li></ul></div><p>Of course, this is not a complete list, and things will change depending on the application and the domain.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec180"/>Consistency</h2></div></div></div><p>The user interface should be <a id="id773" class="indexterm"/>consistent. If you have similar features, they should have a similar look and feel, similar steps to execute, and so on. The placement of standard features or functions should not change. For example, in a text editor, the <strong>Open</strong> button is typically placed near the top-left corner of the application window. This default position should remain constant.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec181"/>Predictability and familiarity</h2></div></div></div><p>When a button is clicked, the<a id="id774" class="indexterm"/> user should be able to predict the next course of action. A trivial example is <a id="id775" class="indexterm"/>the <strong>Save As...</strong> button—when clicked, the user anticipates a dialog with the option to specify a location and file format. Why? Because he or she is familiar with using a similar function in some other application. Further, the user would anticipate some default directory location to save the file. The UI should not surprise the user by changing this behavior.</p><p>Similarly, when you design an icon, it should speak for itself. For example, a gear icon typically indicates some sort of configurable settings. The UI design should be such that the user can easily guess the next action to perform in a particular situation, be it exiting the current mode or going back to the previous step, and so on.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec182"/>Miscellaneous design considerations</h2></div></div></div><p>We have covered some of the<a id="id776" class="indexterm"/> important factors you should know before designing a GUI. There are many other design principles. Some of these principles are tied to the aspects that we've already discussed. A few of these can be listed as follows:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The GUI should have a visual appeal and clarity.</li><li class="listitem" style="list-style-type: disc">It should be comprehensible. In other words, new users should quickly get up to speed.</li><li class="listitem" style="list-style-type: disc">It should anticipate common problems, and gracefully handle user errors.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec85"/>Event-driven programming</h1></div></div></div><p>In an <a id="id777" class="indexterm"/>algorithm-driven program, the flow of the program is dictated by the predefined steps written in that program. The program may prompt the user with these instructions for an input. An example is a command-line application asking for user input in a predefined order.</p><p>In contrast, applications with a graphical user interface let the user dictate the program flow. The application waits for the user actions, and then responds to those actions. For example, if you are reading a PDF copy of a book, you can perform actions like jumping to the next page, zooming-in, scrolling down, or closing the window by clicking on the appropriate buttons. Here, you are essentially telling the application what to do next. This is called event-driven programming. Here, the control flow of the program is governed by the triggered events. The application responds to these events as they occur. The response could be changing the state of the graphical element or running some background task, and so on. For example, if the user clicks a button representing the next page, the application will display the next page of the book. Next, let's briefly talk about a few important concepts in event-driven programming.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec183"/>Event</h2></div></div></div><p>In simple terms, an event<a id="id778" class="indexterm"/> represents an action happening inside the GUI window. An event could be triggered by various sources. For example, when a user clicks a mouse button, it generates a click event; pressing a key on the keyboard is recognized as another event, and so on. An event could also be generated without a direct user input. For example, the application might have completed running some calculations in the background, and now wants to update the contents presented by the GUI. This could automatically trigger some update event that would redraw the view.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec184"/>Event handling</h2></div></div></div><p>When an event is triggered, the <a id="id779" class="indexterm"/>application responds to that event. For example, when you click on the close button of a browser, you expect the browser window to close. In this example, closing the window is the application's response to the click event generated due to user action. In other words, the application has a <em>listener</em> object that <em>handles</em> this click event. Every GUI framework provides a way to <em>bind</em> (or <em>connect</em>) an event to a handling function.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec185"/>Event loop</h2></div></div></div><p>The event loop<a id="id780" class="indexterm"/> is the main controlling loop of the GUI program. When you start the application, the main loop is started, and it waits for the events to occur. It monitors the event sources, and dispatches the events when they occur.</p><p>With this short introduction, let's summarize what we have learned about event-driven programming:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The overall flow of program execution is governed by events</li><li class="listitem" style="list-style-type: disc">The application runs (the main loop starts) and waits for events to occur</li><li class="listitem" style="list-style-type: disc">When an event is triggered, the application code, which is listening to the events, responds by running a specific handling function</li><li class="listitem" style="list-style-type: disc">Thus, the <a id="id781" class="indexterm"/>flow of a program depends on the triggered events</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec86"/>GUI programming with Tkinter</h1></div></div></div><p>As mentioned earlier, a GUI <a id="id782" class="indexterm"/>provides a way to interact with an application. Instead of a text-based input, the user is presented with elements such as text boxes, radio buttons, tool bars, and so on. This section will introduce you to the basics of GUI programming with Tkinter. This library is available as a standard module in Python.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec186"/>Tkinter documentation links</h2></div></div></div><p>Let's document some links for a handy <a id="id783" class="indexterm"/>reference. The official Tkinter documentation page can be found at <a class="ulink" href="https://docs.python.org/3/library/tkinter.html#module-tkinter">https://docs.python.org/3/library/tkinter.html#module-tkinter</a>. This page lists several external references. A good introduction is available at <a class="ulink" href="http://effbot.org/tkinterbook">http://effbot.org/tkinterbook</a>. Of course, you can always perform a web search with search terms like python and Tkinter to find more resources.</p><p>Alternatively, you can quickly find the supported functionality and documentation using the Python interpreter!</p><div><pre class="programlisting">
<strong>&gt;&gt;&gt; import tkinter</strong>
<strong>&gt;&gt;&gt; dir(tkinter)</strong>
</pre></div><p>The preceding command lists the supported classes, functions, and so on. To pull out a docstring, you can call the <code class="literal">__doc__</code> on a given attribute. The following example shows a docstring for <code class="literal">mainloop()</code> in Tkinter:</p><div><pre class="programlisting">
<strong>&gt;&gt;&gt; tkinter.mainloop.__doc__</strong>
<strong>'Run the main loop of Tcl.'</strong>
</pre></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec187"/>The mainloop() in Tkinter</h2></div></div></div><p>In the discussion on<a id="id784" class="indexterm"/> event-driven programming, we learned about the main controlling loop. Writing an event loop or the main loop in Tkinter is very simple. The following code fragment shows the main loop in action. This is the simplest possible GUI application that you can write using Tkinter:</p><div><pre class="programlisting">from tkinter import Tk

if __name__ == '__main__':
    mainwin = Tk()
    mainwin.mainloop()</pre></div><p>Let's talk through this code:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The first statement imports <a id="id785" class="indexterm"/>the <code class="literal">Tk</code> class from the <code class="literal">tkinter</code> module.</li><li class="listitem" style="list-style-type: disc">Next, we create a main application window by instantiating the <code class="literal">Tk</code> class. It is represented by the variable <code class="literal">mainwin</code>. In Tkinter terminology, it is often referred to as root or master. In this chapter, we will call it <code class="literal">mainwin</code>.</li><li class="listitem" style="list-style-type: disc">The main event loop is started by calling the <code class="literal">mainloop()</code> method.</li></ul></div><p>The output of this simple program is shown next. You can run it as any other Python program. The code can also be found in the supporting material for this chapter (see the file <code class="literal">mainloop_example.py</code>). Depending on your operating system and environment, the look and feel of this window may vary.</p><div><pre class="programlisting">
<strong>$ python mainloop_example.py</strong>
</pre></div><div><img src="img/B05034_10_04.jpg" alt="The mainloop() in Tkinter"/></div><div><div><h3 class="title"><a id="tip105"/>Tip</h3><p>In Python 2.x, there is a minor change in the <code class="literal">import</code> statement. The module <code class="literal">tkinter</code> is available as Tkinter (first letter capital) for Python version 2. The supporting code already takes care of this with the following conditional <code class="literal">import</code>. The rest of the code remains the same.</p><div><pre class="programlisting">if sys.version_info &lt; (3, 0):
    from Tkinter import Tk
else:
    from tkinter import Tk</pre></div></div></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec188"/>Simple GUI application – Take 1</h2></div></div></div><p>We just saw how <a id="id786" class="indexterm"/>to start a <code class="literal">mainloop()</code> method. Let's go one step further, and add some widgets to this application. Observe the following code. You can also see the file <code class="literal">simple_application_1.py</code> in this chapter's code bundle.</p><div><img src="img/B05034_10_05.jpg" alt="Simple GUI application – Take 1"/></div><p>The code comments pretty much explain what the code does. It is summarized next:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">We start by importing the necessary classes and options from the <code class="literal">tkinter</code> module. Note that you could also do the following: <code class="literal">from tkinter import *</code>. However, the best practices that we saw earlier in the book do not recommend doing that.</li><li class="listitem" style="list-style-type: disc">Next, the main window size is specified using the <code class="literal">geometry()</code> method. This is optional.</li><li class="listitem" style="list-style-type: disc">The next few lines of the code create two widgets, a <code class="literal">Label</code> widget that will show the text <code class="literal">Hello World!</code>, and a <code class="literal">Button</code>, which will terminate the application on being clicked.</li><li class="listitem" style="list-style-type: disc">We need some way to arrange these widgets inside the application window. This is referred to as geometry or layout management. There are three options to do that. What is illustrated here is the <code class="literal">pack()</code> method. More on geometry management later.</li><li class="listitem" style="list-style-type: disc">When the <strong>Exit</strong> button is clicked, we need some way to process this event. This is accomplished with the command option that is assigned to a callback function. In this example, we simply terminate the application window and also the <code class="literal">mainloop()</code> by calling <code class="literal">mainwin.destroy()</code>.<div><div><h3 class="title"><a id="tip106"/>Tip</h3><p>Recall that Python functions are first-class objects. See <a class="link" href="ch06.html" title="Chapter 6. Design Patterns">Chapter 6</a>, <em>Design Patterns</em> where we discussed on this. The callback function, <code class="literal">mainwin.destroy</code>, is assigned to the command variable.</p></div></div></li></ul></div><p>Running this application from the command line displays a simple GUI window like so:</p><div><pre class="programlisting">
<strong>$ python simple_application_1.py</strong>
</pre></div><div><img src="img/B05034_10_06.jpg" alt="Simple GUI application – Take 1"/></div><p>If you click on the <strong>Exit</strong> <a id="id787" class="indexterm"/>button, it will terminate the main application window.</p><div><table border="1"><colgroup><col style="text-align: left"/></colgroup><tbody><tr><td style="text-align: left" valign="top">
<p>
<em>Looks like Sir Foo is not quite impressed with this simple script...</em>
</p>
</td></tr></tbody></table></div><div><img src="img/B05034_10_09.jpg" alt="Simple GUI application – Take 1"/></div><div><table border="1"><colgroup><col style="text-align: left"/></colgroup><tbody><tr><td style="text-align: left" valign="top">
<p>
<em>For bigger and complex applications, it is better to follow the object-oriented programming approach.</em>
</p>
<p>
<em>Let's rewrite this application, and wrap it in a class. However, keep in mind that it is just a baby step towards creating a better application. Later in the chapter, you will learn about the MVC architecture, and a basic example on implementing it in your GUI application.</em>
</p>
</td></tr></tbody></table></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec189"/>Simple GUI application – Take 2</h2></div></div></div><p>It is time to add some<a id="id788" class="indexterm"/> object-oriented flavor to the mix. The application in the previous section can be rewritten as follows:</p><div><img src="img/B05034_10_10.jpg" alt="Simple GUI application – Take 2"/></div><p>Let's briefly discuss the preceding code: </p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Compare this code against the previous code.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">MyGame</code> class is where we create the widgets and define the main logic.</li><li class="listitem" style="list-style-type: disc">Notice that the command callback function for the button is set to <code class="literal">exit_btn_callback</code>.</li><li class="listitem" style="list-style-type: disc">What this means is that when the <strong>Exit</strong> button is pressed, it will invoke <code class="literal">exit_btn_callback()</code> instead of calling <code class="literal">mainwin.destroy()</code> directly.</li><li class="listitem" style="list-style-type: disc">This is just to show you how to specify a different callback function. You can always set it back to <code class="literal">command=mainwin.destroy()</code>.</li></ul></div><p>The rest of the code is self-explanatory. You can execute it to get the same <code class="literal">Hello world!</code> window as in the first program. The command is shown next:</p><div><pre class="programlisting">
<strong>$ python simple_application_2.py</strong>
</pre></div><p>The <code class="literal">simple_application_2.py</code> file in the supporting code bundle essentially has the program we just reviewed.</p><div><div><h3 class="title"><a id="tip107"/>Tip</h3><p>In all the examples, we will use the <code class="literal">Tk</code> instance <code class="literal">mainwin</code> as the master or parent object of the widgets created. In practice, it is often useful to create a container to hold other widgets in the GUI. The container could be an instance of the <code class="literal">Frame</code> class or any other widget depending on the application. For example, you could write the following:</p><div><pre class="programlisting">mainwin = Tk()
container = Frame(mainwin)
some_label = Label(container, text="blah blah")</pre></div></div></div><p>Now that we<a id="id789" class="indexterm"/> know how to create a simple application with a graphical user interface, let's move ahead and talk about the various widgets available in the Tkinter library.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec190"/>GUI Widgets in Tkinter</h2></div></div></div><p>In this section, we will briefly cover <a id="id790" class="indexterm"/>some of the frequently used widgets. Note that the widgets we are about to cover are not specific to a GUI library. However, the following discussion is tailored for the Tkinter library. For example, you will find a <code class="literal">Menu</code> widget in many GUI libraries. Tkinter provides it with the class <code class="literal">Menu</code>, the PyQt library calls it <code class="literal">QMenu</code>, and so on.</p><div><div><h3 class="title"><a id="tip108"/>Tip</h3><p>What we are about to see is far from being a comprehensive list. You are encouraged to explore the following wiki page that lists several other<a id="id791" class="indexterm"/> GUI elements: <a class="ulink" href="https://en.wikipedia.org/wiki/List_of_graphical_user_interface_elements">https://en.wikipedia.org/wiki/List_of_graphical_user_interface_elements</a>.</p></div></div><p>A widget is an element of a graphical user interface that enables user interaction. In other words, the user can do certain actions like pressing a button and interacting with the GUI.</p><p>We already saw how to create the <code class="literal">Label</code> and <code class="literal">Button</code> widgets. The following table summarizes some important widget classes in Tkinter.</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Widget Class </p>
</th><th style="text-align: left" valign="bottom">
<p>Basic Syntax</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Menu</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
</p><div><pre class="programlisting">menubar = Menu(parent)</pre></div><p>
</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id792" class="indexterm"/>widget represents a menu, such as a menu bar or a pop-up menu. It contains menu items.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Frame</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
</p><div><pre class="programlisting">container = Frame(parent, 
        width=100,          
        height=100,
        bg='white')</pre></div><p>
</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id793" class="indexterm"/>is typically used as a container to hold other widgets. The frame widget also has its own grid layout, and <a id="id794" class="indexterm"/>like many other widgets, you can specify the background color, border, and other properties.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Canvas</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
</p><div><pre class="programlisting">my_canvas = Canvas(parent,
              width=100,
              height=100)</pre></div><p>
</p>
</td><td style="text-align: left" valign="top">
<p>This is a <a id="id795" class="indexterm"/>graphics widget. This is where you can draw or write stuff. For example, you can render shapes, plots, images, or use this widget to write text.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Label</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
</p><div><pre class="programlisting"> lbl = Label(parent, 
       text= "some text",
       bg = 'blue')</pre></div><p>
</p>
</td><td style="text-align: left" valign="top">
<p>In a<a id="id796" class="indexterm"/> label, you can add a text or an image. When you click on a label, no event is triggered. Instead, you can update a label in response to some other event generated elsewhere.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Button</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
</p><div><pre class="programlisting">ok_button = 
 Button(parent, 
        text="OK",   
        command=parent.quit)</pre></div><p>
</p>
<p>The optional <code class="literal">command</code> argument could also be assigned to any user-defined function.</p>
</td><td style="text-align: left" valign="top">
<p>A <a id="id797" class="indexterm"/>simple button widget. When pressed or released, it triggers an event.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Radiobutton</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
</p><div><pre class="programlisting">rbutton_1 = 
   Radiobutton(parent,
           text="Option 1", 
           variable=var, 
           value=1)
rbutton_2 = 
   Radiobutton(parent,
           text="Option 2", 
           variable=var, 
           value=0)</pre></div><p>
</p>
<p>A group of radio buttons is tied to a common variable, <code class="literal">var</code>. When you click on a radio button, the value of that variable is changed to a predefined one given by the value.</p>
</td><td style="text-align: left" valign="top">
<p>The <a id="id798" class="indexterm"/>radio button widget allows a user to choose only a single value from a given set of values. It can contain a text or an image.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Checkbutton</code>
</p>
</td><td style="text-align: left" valign="top">
<p>
</p><div><pre class="programlisting">c_button =  
    Checkbutton(parent,  
       text="Enable Audio",  
       variable=var)</pre></div><p>
</p>
<p>The <a id="id799" class="indexterm"/>variable <code class="literal">var</code> has value of 1 when the check button is selected, otherwise the value is set to 0. This is the default behavior.</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id800" class="indexterm"/>widget allows setting two different values to a variable. Typical usage is to toggle the state (on or off selection) of a variable. </p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
</p><div><pre class="programlisting">
<code class="literal">Listbox</code>
</pre></div><p>
</p>
</td><td style="text-align: left" valign="top">
<p>
</p><div><pre class="programlisting">lstbox = Listbox(parent)</pre></div><p>
</p>
<p>You can <a id="id801" class="indexterm"/>then add elements to this list box using the <code class="literal">insert()</code> method as follows:</p>
<p>
</p><div><pre class="programlisting">lstbox.insert(END, "item1")</pre></div><p>
</p>
</td><td style="text-align: left" valign="top">
<p>This widget is used for showing a list of alternatives. The user can select one or many elements from the <code class="literal">Listbox</code> widget.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>

</p><div><pre class="programlisting">
<code class="literal">Entry</code>
</pre></div><p>  
</p>
</td><td style="text-align: left" valign="top">
<p>
</p><div><pre class="programlisting">text_edit= Entry(parent)</pre></div><p>
</p>
</td><td style="text-align: left" valign="top">
<p>This is <a id="id802" class="indexterm"/>a text entry widget that allows you to display or input text. In some other GUI frameworks, it is referred to as a line-edit widget.</p>
</td></tr></tbody></table></div><p>The basic syntax shown in the previous table is for illustrative purpose only. You can specify many other options. The <code class="literal">parent</code> argument given to the widget represents the parent or the base widget.</p><div><div><h3 class="title"><a id="tip109"/>Tip</h3><p>In this book, we will just use the bare minimum options while creating widgets. You could further configure each of these widgets by specifying the appropriate optional arguments, or by calling the relevant methods. For further learning, follow the various references listed on the official Tkinter<a id="id803" class="indexterm"/> documentation page at the following link: <a class="ulink" href="https://docs.python.org/3/library/tkinter.html#module-tkinter">https://docs.python.org/3/library/tkinter.html#module-tkinter</a>.</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec191"/>Geometry management</h2></div></div></div><p>Layout or <a id="id804" class="indexterm"/>geometry management is about organizing various widgets within the GUI. In Tkinter, this layout management is accomplished with something referred to as geometry managers. There are three different geometry managers to organize the widgets, namely <em>grid</em>, <em>pack</em>, and <em>place</em>. Among these, the grid manager is the recommended choice. Further in this chapter, we will demonstrate the use of a grid manager.</p><div><div><div><div><h3 class="title"><a id="ch10lvl3sec93"/>Grid geometry manager</h3></div></div></div><p>The grid manager offers<a id="id805" class="indexterm"/> flexibility in arranging various widgets, and is also very easy to <a id="id806" class="indexterm"/>use.</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The parent widget of the grid manager (for example, a frame or a dialog) is treated as a table with rows and columns.</li><li class="listitem" style="list-style-type: disc">The smallest element of this table is a cell, which has a height and a width.</li><li class="listitem" style="list-style-type: disc">You can place other widgets in such cells. It is also possible to have a widget that spans more than one cells.</li><li class="listitem" style="list-style-type: disc">The height of each row in the table is determined by the height of the tallest cell (or a widget) in that cell. Likewise, the width of each column in this table is governed by the widest cell in that column.</li><li class="listitem" style="list-style-type: disc">Each row and column in a grid geometry manager can be configured with a weight option. Weight determines how much a specific row or column can expand if the master widget has free space available. The weight can be specified using the methods <code class="literal">grid_rowconfigure</code> or <code class="literal">grid_columnconfigure</code> for rows and columns respectively. The default value for weight is 0.</li></ul></div><p>The following screenshot shows a representative grid layout:</p><div><img src="img/B05034_10_03.jpg" alt="Grid geometry manager"/></div><p>In the preceding image, some<a id="id807" class="indexterm"/> <code class="literal">Label</code> widgets are arranged in a<a id="id808" class="indexterm"/> grid layout. The label text <strong>Cell[0,0]</strong> indicates that we have put this label in row 0 and column 0 of the grid. Observe that for <strong>Cell[3,0]</strong>, it shows a label whose width occupies four columns. Similarly, <strong>Cell [1,3]</strong> is a label whose height spans two rows.</p></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec94"/>Pack geometry manager</h3></div></div></div><p>In our first Tkinter application, we've already<a id="id809" class="indexterm"/> used the pack geometry manager<a id="id810" class="indexterm"/> to arrange the widgets. As a refresher, here is the relevant piece of code (the <code class="literal">pack</code> method):</p><div><pre class="programlisting">lbl = Label(mainwin, text="Hello World!",  bg='yellow')
lbl.pack(side=LEFT)</pre></div><p>The pack geometry manager provides options such as expand, fill, and side to control widget placement. It is useful when you want to arrange multiple widgets, either side by side or overlapping each other. The other use case is when you want the widget to occupy the whole container that is holding it.</p><div><div><h3 class="title"><a id="tip110"/>Tip</h3><p>Using both grid and pack geometry manager in the same main window could lead to undesirable results. Do not use these layout managers together.</p></div></div></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec95"/>Place geometry manager</h3></div></div></div><p>The place geometry manager<a id="id811" class="indexterm"/> allows you to specify the absolute or relative position of the <a id="id812" class="indexterm"/>widget and its size. It finds use in some special scenarios. We will not be discussing this geometry manager further. In most cases, you could, instead, use the grid geometry manager.</p></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec192"/>Events in Tkinter</h2></div></div></div><p>Let's briefly talk about the <a id="id813" class="indexterm"/>various events supported in Tkinter, and the syntax that describes them.</p><div><div><div><div><h3 class="title"><a id="ch10lvl3sec96"/>Event types</h3></div></div></div><p>The following table shows some of the most <a id="id814" class="indexterm"/>frequently used event types. Read the documentation to learn about other event types not listed here. The next section, <em>Event descriptors</em>, will elaborate on how to use an event type to describe an event.</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Event name</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Button</code> (or <code class="literal">ButtonPress</code>)</p>
</td><td style="text-align: left" valign="top">
<p>One of the <a id="id815" class="indexterm"/>mouse buttons is pressed. Which one? That is determined by the <code class="literal">detail</code> field of the event descriptor (see the next section).</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ButtonRelease</code>
</p>
</td><td style="text-align: left" valign="top">
<p>One of the <a id="id816" class="indexterm"/>mouse buttons (that was pressed earlier) is released.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Enter</code>
</p>
</td><td style="text-align: left" valign="top">
<p>The <a id="id817" class="indexterm"/>mouse pointer entered a widget. This has nothing to do with the <em>Enter</em> or <em>return</em> key on the keyboard.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Leave</code>
</p>
</td><td style="text-align: left" valign="top">
<p>The <a id="id818" class="indexterm"/>mouse pointer left a widget.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">KeyPress</code>
</p>
</td><td style="text-align: left" valign="top">
<p>A <a id="id819" class="indexterm"/>keyboard key is pressed. Which one? That is determined in the <code class="literal">detail</code> field of the event descriptor.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">KeyRelease</code>
</p>
</td><td style="text-align: left" valign="top">
<p>A<a id="id820" class="indexterm"/> keyboard key is released.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">FocusIn</code>
</p>
</td><td style="text-align: left" valign="top">
<p>A <a id="id821" class="indexterm"/>widget gets an input focus.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">FocusOut</code>
</p>
</td><td style="text-align: left" valign="top">
<p>A widget no <a id="id822" class="indexterm"/>longer has the input focus.</p>
</td></tr></tbody></table></div></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec97"/>Event descriptors</h3></div></div></div><p>Tkinter has a special syntax for <a id="id823" class="indexterm"/>describing an event. It is a string with the <a id="id824" class="indexterm"/>following general form:</p><div><pre class="programlisting">&lt;[modifier-]type[-detail]&gt;</pre></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The event specified is enclosed within the angular brackets <code class="literal">&lt;&gt;</code>.</li><li class="listitem" style="list-style-type: disc">The type specifies the type of the event, such as a mouse click.</li><li class="listitem" style="list-style-type: disc">The modifier and detail specifiers are optional.</li><li class="listitem" style="list-style-type: disc">The modifier is the event modifier. Imagine that the Control button is pressed along with a mouse button. Here, the Control button is the event modifier, whereas the mouse button press is the type of the event.</li><li class="listitem" style="list-style-type: disc">The detail specifier gives more information about the type of the event. If the type is a mouse click, the<a id="id825" class="indexterm"/> details will describe whether it is the left mouse button, the right button, or the middle one.</li></ul></div><p>The following table summarizes some <a id="id826" class="indexterm"/>of the common event specifiers.</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Event syntax</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;Button-1&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Mouse <a id="id827" class="indexterm"/>button 1 pressed (the left mouse button).</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;Button-2&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Mouse<a id="id828" class="indexterm"/> button 2 pressed (middle button, if available).</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;Button-3&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Mouse<a id="id829" class="indexterm"/> button 3 pressed (the right-most button).</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;KeyPress-B&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>The <em>B</em> key <a id="id830" class="indexterm"/>is pressed. Likewise, you can write for other keys, such as <code class="literal">&lt;KeyPress-G&gt;</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;Return&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Return <a id="id831" class="indexterm"/>key pressed.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;Configure&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Size <a id="id832" class="indexterm"/>of the widget is changed (for example, window resized). The new size is stored as the width and height attributes of the event object.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">&lt;Shift-Button-1&gt;</code>
</p>
</td><td style="text-align: left" valign="top">
<p>The<a id="id833" class="indexterm"/> <em>Shift</em> key is pressed along with the left mouse button.</p>
</td></tr></tbody></table></div></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec98"/>Event object attributes</h3></div></div></div><p>An instance<a id="id834" class="indexterm"/> of the <code class="literal">Event</code> class holds the information that <a id="id835" class="indexterm"/>describes the event. The following table lists some important attributes of the <code class="literal">Event</code> class.</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Event attribute</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">widget</code>
</p>
</td><td style="text-align: left" valign="top">
<p>The <a id="id836" class="indexterm"/>widget object which triggered this event.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">x</code>, <code class="literal">y</code>
</p>
</td><td style="text-align: left" valign="top">
<p>The <a id="id837" class="indexterm"/>current mouse position in pixels.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">x_root</code>, <code class="literal">y_root</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Mouse <a id="id838" class="indexterm"/>position in pixels, relative to the top-left corner.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">width</code>, <code class="literal">height</code>
</p>
</td><td style="text-align: left" valign="top">
<p>The<a id="id839" class="indexterm"/> changed size (width and height) for the <code class="literal">&lt;Configure&gt;</code> type of events.</p>
</td></tr></tbody></table></div></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec193"/>Event handling in Tkinter</h2></div></div></div><p>Earlier in the chapter, we learned<a id="id840" class="indexterm"/> about events and event handling (see the section <em>Event-driven programming</em>). In this section, we will see how to bind the various events triggered due to user interactions, with the appropriate handling functions.</p><div><div><div><div><h3 class="title"><a id="ch10lvl3sec99"/>Command callback (Button widget)</h3></div></div></div><p>Recall that when we wrote<a id="id841" class="indexterm"/> our first Tkinter application, we tied a callback function to the <code class="literal">command</code> argument of the <code class="literal">Button</code> widget. The relevant line of code is reproduced next for easy reference:</p><div><pre class="programlisting">exit_button = Button(mainwin,text='Exit',command=mainwin.destroy)</pre></div><p>When you click on the <strong>Exit</strong> button, it calls <code class="literal">mainwin.destroy()</code>, represented by the <code class="literal">command</code> argument. It should be noted that while the <code class="literal">Button</code> widget supports command callback, this feature is not available for all the supported widgets. For that, Tkinter provides the <code class="literal">bind()</code> method, which is defined on all widgets. The <code class="literal">bind()</code> method is just one of the levels of event binding in Tkinter. Let's talk about a few event-binding levels next.</p></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec100"/>The bind() method</h3></div></div></div><p>This method provides an<a id="id842" class="indexterm"/> instance level binding. It binds an event to a specific widget instance. Another way to think of this is as an ability to specify the exact GUI element that is sensitive to a particular event. The basic syntax is as follows:</p><div><pre class="programlisting">widget.bind(sequence=None, func=None, add=None)</pre></div><p>It should be noted that you can also use this method for the <code class="literal">toplevel</code> window.</p><p>For ease of understanding, let's represent the optional argument sequence as <code class="literal">even_descriptor</code> and <code class="literal">func</code> as <code class="literal">event_handler</code>. The third optional argument add can be specified as a string <code class="literal">+</code>. It allows you to add a new function to an existing binding. We will not discuss the <code class="literal">add</code> argument here. Refer to the documentation for further details.</p><div><pre class="programlisting">widget.bind(event_descriptor, event_handler)</pre></div><p>In the preceding statement, <code class="literal">widget</code> is any widget that generates one or more events. For example, the widget could be a <code class="literal">Button</code>, an <code class="literal">Entry</code> widget, and the like. The <code class="literal">event_descriptor</code> is the actual event triggered, for instance, a key press, or a click, and so on. <code class="literal">event_handler</code> is the function that gets called when the event is triggered.</p><p>Let's see how to use this<a id="id843" class="indexterm"/> method for the <code class="literal">Button</code> widget, in place of a command callback. Apart from the syntax, we also need to define a callback function that handles the generated event. Let's rewrite the code illustrated in the section, <em>Simple GUI application</em>.</p><div><img src="img/B05034_10_07.jpg" alt="The bind() method"/></div><p>Observe that we have defined a new event handling function, <code class="literal">exit_btn_clicked()</code>, that takes the event object (<code class="literal">evt</code>) as an argument. The first argument to bind represents the type of event or the event format. In this example, <code class="literal">&lt;Button-1&gt;</code> represents a left mouse button press over the widget. In this chapter, we will only use the <code class="literal">bind()</code> method. But before we go further, let's briefly talk about the other levels of binding.</p></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec101"/>The bind_class() method</h3></div></div></div><p>This method provides a<a id="id844" class="indexterm"/> class-level binding. It binds an event to a specific widget class. The basic syntax is shown next:</p><div><pre class="programlisting">bind_class(className, event_descriptor, event_handler)</pre></div><p>In the preceding syntax, <code class="literal">className</code> is a string representing the name of the widget class. The other arguments are the same as discussed in the previous section.</p><p>Imagine that all the <code class="literal">Button</code> widgets in your application represent some numbers. You can configure all of them to respond to the right mouse click event such that each returns the square of that number. In this example, you can use the <code class="literal">bind_class</code> method like so:</p><div><pre class="programlisting">bind_class('Button', '&lt;Button-3&gt;', compute_square)</pre></div><p>Here, it is assumed that you have defined a function, <code class="literal">compute_square</code>.</p></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec102"/>The bind_all() method</h3></div></div></div><p>This method provides an<a id="id845" class="indexterm"/> application-level binding. As the name suggests, this method binds an event to all the widgets at the application level. For example, in some game application, you might want to configure a key to pause the game regardless of the widget under focus. In such situations, you can use this method. The basic syntax is as follows:</p><div><pre class="programlisting">bind_all(event_descriptor, event_handler)</pre></div><div><div><h3 class="title"><a id="tip111"/>Tip</h3><p>Tkinter supports something referred to as bind tags. Every widget has its own list of bind tags. These determine the order in which the events associated with a widget are processed. The built-in method <code class="literal">bindtags()</code> can be used to set or get the tags associated with a widget. See the documentation for further details.</p></div></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec87"/>Project-1 – Attack of the Orcs V10.0.0</h1></div></div></div><div><table border="1"><colgroup><col style="text-align: left"/></colgroup><tbody><tr><td style="text-align: left" valign="top">
<p>
<em>You have developed a robust and popular command-line application, <strong>Attack of the Orcs</strong>. While the users are happy with the current version, there is a new and growing demand. The users now want a graphical user interface for the application!</em>
</p>
</td></tr></tbody></table></div><p>It is time to <a id="id846" class="indexterm"/>work on another simple program. Remember the first ever command-line application we wrote in <a class="link" href="ch01.html" title="Chapter 1. Developing Simple Applications">Chapter 1</a>, <em>Developing Simple Applications</em>? Let's use the same theme, and develop an equivalent GUI program.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec194"/>Background scenario</h2></div></div></div><p>As a refresher, here is the game<a id="id847" class="indexterm"/> theme we saw in <a class="link" href="ch01.html" title="Chapter 1. Developing Simple Applications">Chapter 1</a>, <em>Developing Simple Applications</em>:</p><div><table border="1"><colgroup><col style="text-align: left"/></colgroup><tbody><tr><td style="text-align: left" valign="top">
<p>
<em>On his way through a dense forest, Sir Foo spotted a small isolated settlement. Tired and hoping to replenish his food stock, he decided to take a detour. As he approached the village, he saw five huts. There was no one to be seen around. Hesitantly, he decided to enter a hut...</em>
</p>
</td></tr></tbody></table></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec195"/>Problem statement</h2></div></div></div><div><table border="1"><colgroup><col style="text-align: left"/></colgroup><tbody><tr><td style="text-align: left" valign="top">
<p>
<em>The task is to design a </em>
<a id="id848" class="indexterm"/>
<em>simple GUI program. The player selects one of the five huts where Sir Foo can rest. The huts are randomly occupied either by a friend or an enemy. Some huts might also be left unoccupied. The player wins if the selected hut is either unoccupied or has a friendly unit inside.</em>
</p>
</td></tr></tbody></table></div><p>The following screenshot shows what's coming up. But don't get too excited! It is quite a simple game that will help you learn some important GUI programming aspects.</p><div><img src="img/B05034_10_08.jpg" alt="Problem statement"/></div><p>When you click on a hut, it will check who the occupant is, and then pop up a message box declaring the winner. That's pretty much it!</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec196"/>Writing the code</h2></div></div></div><p>We will use the code <a id="id849" class="indexterm"/>provided in the <code class="literal">hutgame.py</code> file. Download this file and also the two images, <code class="literal">Hut_small.gif</code> and <code class="literal">Jungle_small.gif</code> from the code bundle for this chapter.</p><div><div><h3 class="title"><a id="tip112"/>Tip</h3><p>It is recommended that you open the file <code class="literal">hutgame.py</code> as a handy reference while reading the following discussion. Quite often, it is useful to skim through the full code in a source code editor for better understanding!</p></div></div><p>We will start with the main execution code:</p><div><img src="img/B05034_10_12.jpg" alt="Writing the code"/></div><p>Let's talk through this code:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Compare this with the main execution block in the section <em>Simple GUI application – Take 2</em>. Notice that there isn't much of a difference.</li><li class="listitem" style="list-style-type: disc">We set the size and a title for the application window with the <code class="literal">geometry</code> and <code class="literal">title</code> methods. The <code class="literal">mainwin.resizable</code> call freezes the window size. This is optional, but will make sure the background image nicely fits the window.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">HutGame</code> class is where we create the widgets and define the main logic.</li><li class="listitem" style="list-style-type: disc">The main event loop is started by calling <code class="literal">mainloop()</code>.</li></ul></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec103"/>Overview of the class HutGame</h3></div></div></div><p>Before reviewing any code in the <a id="id850" class="indexterm"/>class <code class="literal">HutGame</code>, let's get the big picture first. The important methods of this class are shown in the following diagram:</p><div><img src="img/B05034_10_11_uml_hutgame_1.jpg" alt="Overview of the class HutGame"/></div><p>As illustrated, these methods can be broadly divided into three groups based on the functionality. We will talk about this grouping later when we discuss the MVC architecture. Let's review the various methods in this class next.</p><div><div><h3 class="title"><a id="tip113"/>Tip</h3><p>
<strong>A note to more experienced readers!</strong>
</p><p>In the following few sections, we will discuss the methods of the class <code class="literal">HutGame</code>. You might find this discussion a bit verbose! Optionally, you can just review the code from the file <code class="literal">hutgame.py</code>. The code is documented reasonably well. If something is not clear, come back and read the relevant section!</p></div></div></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec104"/>The __init__ method</h3></div></div></div><p>Take a look at the code that gets called <a id="id851" class="indexterm"/>when <code class="literal">HutGame</code> is instantiated:</p><div><img src="img/B05034_10_13.jpg" alt="The __init__ method"/></div><p>The following is a description<a id="id852" class="indexterm"/> of the <code class="literal">__init__</code> method:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <code class="literal">PhotoImage</code> class is used for displaying a background image in widgets such as labels, buttons, and so on. It supports the GIF image format. There is also a way to load an image using <strong>Python Imaging Library</strong> (<strong>PIL</strong>).<a id="id853" class="indexterm"/> We won't discuss those details here.</li><li class="listitem" style="list-style-type: disc">We will use <code class="literal">hut_image</code> on a <code class="literal">RadioButton</code>, and <code class="literal">village_image</code> will be set as the application background.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">self.setup()</code> call ensures that widgets are created and appropriately placed in the application window.</li></ul></div></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec105"/>The occupy_huts method</h3></div></div></div><p>The following <a id="id854" class="indexterm"/>method is the same as the one illustrated in the first example of <a class="link" href="ch01.html" title="Chapter 1. Developing Simple Applications">Chapter 1</a>, <em>Developing Simple Applications</em>:</p><div><img src="img/B05034_10_14.jpg" alt="The occupy_huts method"/></div><p>There are exactly<a id="id855" class="indexterm"/> five huts. This code essentially populates the <code class="literal">self.huts</code> list with a random choice of occupant from the given <code class="literal">occupants</code> list.</p></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec106"/>The create_widgets method</h3></div></div></div><p>As the name <a id="id856" class="indexterm"/>suggests, this method is about creating the widgets for our application. Actually, there aren't many widgets. We just have a label to display some information and a bunch of radio buttons to represent the huts. The method is shown next:</p><div><img src="img/B05034_10_15.jpg" alt="The create_widgets method"/></div><p>The preceding<a id="id857" class="indexterm"/> method can be explained as follows:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">self.var</code> is a Tkinter variable. It is an instance of a variable class supported by Tkinter. Here, it represents an integer variable (<code class="literal">IntVar</code> class). Likewise. there are other classes such as <code class="literal">StringVar</code> to deal with string variables, and so on.</li><li class="listitem" style="list-style-type: disc">Simply put, the Tkinter variables enable tracking changes. We have five radio buttons that are tied to the single Tkinter variable, <code class="literal">self.var</code>. A value option can be specified for each radio button. This value gets assigned to <code class="literal">self.var</code> when the radio button is selected.</li><li class="listitem" style="list-style-type: disc">The dictionary <code class="literal">r_btn_config</code> is used to set configuration options common to all the radio buttons. It is passed as an argument to <code class="literal">Radiobutton</code>.</li><li class="listitem" style="list-style-type: disc">An example would help in understanding how a radio button works. The button <code class="literal">self.r4</code> has an associated value of <code class="literal">4</code>, which represents the hut number. When you select the button, this value gets assigned to <code class="literal">self.var</code>. This invokes <code class="literal">self.radio_btn_pressed()</code>, the command callback for the button.</li><li class="listitem" style="list-style-type: disc"><code class="literal">self.background_label</code> is used to set a village background for our application window. There are other ways to accomplish this. We won't be discussing such customization details in this book.</li></ul></div><div><img src="img/B05034_10_16.jpg" alt="The create_widgets method"/></div><div><table border="1"><colgroup><col style="text-align: left"/></colgroup><tbody><tr><td style="text-align: left" valign="top">
<p>
<em>Certainly! Have a look at the following application window where some of these widgets or configuration options are annotated.</em>
</p>
</td></tr></tbody></table></div><div><img src="img/B05034_10_17.jpg" alt="The create_widgets method"/></div></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec107"/>The setup_layout method</h3></div></div></div><p>The following code fragment <a id="id858" class="indexterm"/>shows the <code class="literal">setup_layout()</code> method. and how it is invoked in the top-level <code class="literal">setup()</code> method:</p><div><img src="img/B05034_10_18.jpg" alt="The setup_layout method"/></div><div><div><h3 class="title"><a id="tip114"/>Tip</h3><p>The grid layout offers a lot of flexibility in arranging widgets. In this illustration, we are just scratching the surface of Tkinter! To gain expertise, you should create your own GUI widgets, and experiment with different layout configuration options. Refer to the documentation for other available options.</p></div></div><p>Now let's talk through <a id="id859" class="indexterm"/>this code snippet:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Recall that we can assign a relative <code class="literal">weight</code> to a specific row or a column in a grid layout. This is accomplished using the <code class="literal">grid_rowconfigure</code> and <code class="literal">grid_columnconfigure</code> methods. <code class="literal">weight</code> determines how much free space the row or column will occupy relative to the others. A default value of 0 means it won't grow even if there is free space available.</li><li class="listitem" style="list-style-type: disc">In this example, <code class="literal">row 1</code> of the container is given a relative weight or <code class="literal">1</code>, allowing it to expand and occupy more free space. Likewise, the <code class="literal">column 0</code> and <code class="literal">column 4</code> are assigned with a relative weight of <code class="literal">1</code>. Experiment with this option, and see how it influences the layout. The other option to try out is pad, which adds padding to the widget.</li><li class="listitem" style="list-style-type: disc">For <code class="literal">background_label</code>, we use the <code class="literal">place()</code> geometry manager. The label is anchored at <code class="literal">(0, 0)</code>. The arguments <code class="literal">relwidth</code> and <code class="literal">relheight</code> indicate the fraction of the height and width of the parent. The value of 1.0 means the label size will be the same as its parent (the main application window).</li><li class="listitem" style="list-style-type: disc">The <code class="literal">sticky</code> option for <code class="literal">info_label</code> ensures the widget is aligned along the four edges of the cell. The value <code class="literal">nsew</code> aligns the widgets along the north, south, east, and west <a id="id860" class="indexterm"/>cell edges respectively. You can also specify a few values, for example, <code class="literal">sticky='ew'</code> will align the widget along the left and right edges.</li></ul></div></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec108"/>The radio_btn_pressed and enter_hut methods</h3></div></div></div><p>Let's review<a id="id861" class="indexterm"/> these methods <a id="id862" class="indexterm"/>together. In the <code class="literal">create_widgets()</code> method, we specified the command option as indicated in the following code fragment:</p><div><img src="img/B05034_10_19.jpg" alt="The radio_btn_pressed and enter_hut methods"/></div><p>
<code class="literal">radio_btn_pressed</code> is a command callback for all the radio buttons. It is shown next:</p><div><img src="img/B05034_10_20.jpg" alt="The radio_btn_pressed and enter_hut methods"/></div><p>The method just calls <code class="literal">self.enter_hut</code>. When the radio button is selected, it updates the value stored in the Tkinter variable, <code class="literal">self.var</code>. This value is nothing but the hut number assigned to the selected hut, and can be obtained by calling the <code class="literal">get()</code> method of Tkinter's <code class="literal">IntVar</code> class.</p><p>Let's take a look at the <code class="literal">enter_hut</code> method:</p><div><img src="img/B05034_10_21.jpg" alt="The radio_btn_pressed and enter_hut methods"/></div><p>The preceding code is<a id="id863" class="indexterm"/> self-explanatory. It checks<a id="id864" class="indexterm"/> the occupant, and announces the result. The winner announcement is done with a <code class="literal">messagebox</code> widget.</p></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec109"/>The announce_winner method</h3></div></div></div><p>This is the last <a id="id865" class="indexterm"/>method we will review:</p><div><img src="img/B05034_10_22.jpg" alt="The announce_winner method"/></div><p>In the preceding method, we use the <code class="literal">messagebox</code> module in Tkinter to show an information box. This module provides several other types of dialog boxes. Refer to the documentation for more details.</p></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec197"/>Running the application</h2></div></div></div><p>It is time for <a id="id866" class="indexterm"/>some action! Run this application as follows:</p><div><pre class="programlisting">
<strong>$ python hutgame.py</strong>
</pre></div><p>This last command should display the GUI window shown earlier. The following screenshot shows the game in action. First you select one of the huts:</p><div><img src="img/B05034_10_23.jpg" alt="Running the application"/></div><p>When you click on the<a id="id867" class="indexterm"/> radio button, it displays the information box notifying the winner.</p><div><img src="img/B05034_10_24.jpg" alt="Running the application"/></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec88"/>MVC architecture</h1></div></div></div><p>MVC is a <a id="id868" class="indexterm"/>widely used software architectural pattern in GUI-based applications. It has three components, namely a <em>model</em> that deals with the business logic, a <em>view</em> for the user interface, and a <em>controller</em> to handle the user input, manipulate data, and update the view. The following is a simplified schematic that shows the basic interactions between the various components:</p><div><img src="img/B05034_10_01.jpg" alt="MVC architecture"/></div><p>Let's further discuss each of these components.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec198"/>Model</h2></div></div></div><p>The model component<a id="id869" class="indexterm"/> of the MVC architecture represents the data of the application. It also represents the core business logic that acts on such data. The model has no knowledge of the view or the controller. When the data in the model changes, it just notifies its listeners about this change. In this context, the controller object is its listener.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec199"/>View</h2></div></div></div><p>The view component<a id="id870" class="indexterm"/> is the user interface. It is responsible for displaying the current state of the model to the user, and also provides a means for the user to interact with the application. If a user action (like the click of a button) changes this state, the view is refreshed to display that change.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec200"/>Controller</h2></div></div></div><p>In some sense, the controller<a id="id871" class="indexterm"/> enables a handshake between the model and the view. It monitors the changes to the model. When the user interacts with something in the view, the controller works in the background and handles the events triggered by the user actions, such as a mouse click. The handling function can further update the model. When the model's state changes, the controller updates the view to reflect those changes.</p><div><img src="img/B05034_10_02.jpg" alt="Controller"/></div><div><table border="1"><colgroup><col style="text-align: left"/></colgroup><tbody><tr><td style="text-align: left" valign="top">
<p>
<em>You are right. The individual MVC components and their working would be better understood with an illustration. Let's use a trivial example given earlier in the section <strong>Event-driven programming</strong></em>.</p>
</td></tr></tbody></table></div><p>Imagine you have opened a PDF file for reading. In this context, MVC and its components could be explained as follows:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The PDF reader is the running application.</li><li class="listitem" style="list-style-type: disc">It will show the contents of the file you have opened, and will also have buttons to navigate through the file. This is the view component that deals with the user interface.</li><li class="listitem" style="list-style-type: disc">To jump to the next page, you interact with the view and click on the next page button. This is a user input that generates an event.</li><li class="listitem" style="list-style-type: disc">Such an event is internally handled by the controller, which then updates the model, or, in this context, retrieves the relevant data on the requested page.</li><li class="listitem" style="list-style-type: disc">The model 's state has changed. The controller further communicates with the view for updating it with the new contents.</li><li class="listitem" style="list-style-type: disc">The view is refreshed, and finally, you see the desired page.</li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec201"/>Advantages of MVC</h2></div></div></div><p>The<a id="id872" class="indexterm"/> MVC architecture has been traditionally used in desktop GUI applications, and is also widely used in web application development. As this is a three-component architecture, one major advantage it offers is code reuse across several applications. For example, imagine you have multiple applications with different user interfaces, all needing the same business logic. With MVC architecture, you could just reuse the business logic represented by the model object across these applications.</p><p>Moreover, the MVC enables user interface developers to focus on the UI code without worrying much about the code that handles the business logic. Likewise, the developers working on the business logic can concentrate on that piece of code alone without losing sleep over the choice of UI widgets and the related code. This is referred to as <em>separation of concerns</em>. The model is concerned about the business logic or data, the view worries about the user interface, and the controller code is concerned about things such as enabling view manipulation and handling the input.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec89"/>Project 2 – Attack of the Orcs v10.1.0</h1></div></div></div><p>Let's work on another <a id="id873" class="indexterm"/>small project. In fact, this is exactly the same hut game we developed in <em>Project-1 – Attack of the Orcs V10.0.0</em> earlier. The difference is the underlying architecture. We will rewrite the program to implement the MVC architecture.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec202"/>Revisiting the HutGame class</h2></div></div></div><p>In the first project, we <a id="id874" class="indexterm"/>wrote the <code class="literal">HutGame</code> class. Let's pull up the diagram representing the high-level structure of this class:</p><div><img src="img/B05034_10_25.jpg" alt="Revisiting the HutGame class"/></div><p>Based on the<a id="id875" class="indexterm"/> functionality, the methods of this class can be roughly placed into three categories, namely model, view, and the controller. The preceding diagram shows this division. We also need to further update a few of these methods.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec203"/>Creating MVC classes</h2></div></div></div><p>In the previous<a id="id876" class="indexterm"/> section, we earmarked the methods of the old class <code class="literal">HutGame</code> into three broad categories. It is now time to say goodbye to this class. We will break it down and split its methods among the three new classes, <code class="literal">Model</code>, <code class="literal">View</code>, and <code class="literal">Controller</code>. Of course, you can give more descriptive names to the classes, but let's continue to call them by the aforementioned names.</p><p>Observe the following UML-like representation that shows the classes in which these methods are parked. Only the important attributes are listed here.</p><div><img src="img/B05034_10_26.jpg" alt="Creating MVC classes"/></div><div><div><h3 class="title"><a id="tip115"/>Tip</h3><p>In <a class="link" href="ch01.html" title="Chapter 1. Developing Simple Applications">Chapter 1</a>, <em>Developing Simple Applications</em>, we briefly talked about UML-like representation. One way to create such diagrams is to use <a class="ulink" href="https://www.draw.io">https://www.draw.io</a>. It is a free, online diagram software for making flowcharts, UML diagrams, and so on.</p></div></div><p>Now that we know <a id="id877" class="indexterm"/>how the classes are laid out, let's understand how these classes exchange information.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec204"/>Communication between MVC objects</h2></div></div></div><p>Before diving into the details on <a id="id878" class="indexterm"/>how MVC objects communicate, let's first list down a few important points about the MVC architecture:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The controller knows about the model as well as the view</li><li class="listitem" style="list-style-type: disc">The model is unaware of the other two, namely the controller and the view</li><li class="listitem" style="list-style-type: disc">The view (just like the model) knows nothing about the controller and the model</li></ul></div><p>There could be some other variants of the MVC architecture. In this book, we will stick to the aforementioned points, and design a solution.</p><div><div><div><div><h3 class="title"><a id="ch10lvl3sec110"/>Controller to Model or View communication</h3></div></div></div><p>Let's begin the discussion by <a id="id879" class="indexterm"/>learning how a controller sends the information to either the model or the view.</p><p>The <code class="literal">Controller</code> object can directly talk to the <code class="literal">Model</code> and <code class="literal">View</code> instances using <code class="literal">self.model</code> and <code class="literal">self.view</code> respectively. For example, it can just call a <code class="literal">View</code> method like so:</p><div><pre class="programlisting">self.view.announce_winner(data)</pre></div><p>This is pretty straightforward. Now let's see how it receives the data from either the model or the view.</p></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec111"/>Model to Controller communication</h3></div></div></div><p>How does the controller receive<a id="id880" class="indexterm"/> information from the model? For example, in the hut game scenario, a winner is determined depending on who is inside the selected hut. Once the winner is determined, the <code class="literal">Model</code> class needs to communicate it to the <code class="literal">Controller</code> class. This is accomplished with the <code class="literal">model_change_handler()</code> method of the <code class="literal">Controller</code> class. It is invoked whenever the state of the <code class="literal">Model</code> class changes.</p><div><img src="img/B05034_10_27.jpg" alt="Model to Controller communication"/></div><div><table border="1"><colgroup><col style="text-align: left"/></colgroup><tbody><tr><td style="text-align: left" valign="top">
<p>
<em>Good question! The </em>
<code class="literal">Model</code><em> class knows nothing about </em>
<code class="literal">Controller</code><em> and </em>
<code class="literal">View</code><em>. Then how does </em>
<code class="literal">Controller</code><em> know that </em>
<code class="literal">Model</code><em> has changed? Let's see that next.</em>
</p>
</td></tr></tbody></table></div><p>The <code class="literal">Controller </code>class can receive <a id="id881" class="indexterm"/>information from the <code class="literal">Model</code> class in various ways. Let's briefly talk about two such approaches.</p><div><div><div><div><h4 class="title"><a id="ch10lvl4sec05"/>Using method assignment</h4></div></div></div><p>Recall that in Python, you <a id="id882" class="indexterm"/>can assign a method to a variable. The chapter on design patterns talked about the first-class objects in greater detail. The following line of code can be added to <code class="literal">Controller.__init__</code>.</p><div><pre class="programlisting">self.model.changed = self.model_change_handler</pre></div><p>Then, in the <code class="literal">Model</code> class, you could call <code class="literal">self.changed()</code>, like so:</p><div><pre class="programlisting">def enter_hut(self, hut_number):
    # Some code goes here (not shown)
    self.changed()</pre></div><p>This automatically <a id="id883" class="indexterm"/>notifies <code class="literal">Controller</code> that the model has changed. While this is very convenient, we will instead use a publish-subscribe API which makes things even simpler.</p></div><div><div><div><div><h4 class="title"><a id="ch10lvl4sec06"/>Using a publish-subscribe pattern</h4></div></div></div><p>Publish-subscribe is a<a id="id884" class="indexterm"/> messaging pattern. The publisher can be any program that broadcasts some data to a topic. There could be one or more applications that are listening to this topic. These are called the subscribers, who receive the published data. The publisher does not know (or does not need to know) anything about the subscribers. Similarly, a subscriber has no knowledge of the publisher. The following schematic gives a high-level overview of a publish-subscribe system:</p><div><img src="img/B05034_10_28.jpg" alt="Using a publish-subscribe pattern"/></div><p>The publish-subscribe concept can be better understood with a real-world analogy. Imagine an online retailer running a weekly flash sale. You have opted in to receive notifications in the form of SMS or e-mail alerts. There are several other customers who would also like to get notified about the sale.</p><p>In a publish-subscribe world, the online retailer is a publisher who broadcasts the sale information (the data) to a topic, say <em>flash sale</em>. You and several other customers are the subscribers to this topic. Likewise, the online retailer can publish some other information as different topics, for instance, <em>Friday sale</em>, <em>Half price sale</em>, and so on. Each topic could have several subscribers. If you are not subscribed to <em>Friday sale</em> , you won't get any notifications <a id="id885" class="indexterm"/>sent to that topic.</p><div><div><div><div><h5 class="title"><a id="ch10lvl5sec01"/>PyPubSub package</h5></div></div></div><p>How do we implement <a id="id886" class="indexterm"/>a publish-subscribe framework in Python? One option is to write the code from scratch. Instead, we will just use a Python package called <code class="literal">pypubsub</code>. It provides a publish-subscribe API that simplifies the design and improves code readability and testability. The package can be installed as follows:</p><div><pre class="programlisting">
<strong>$ pip install pypubsub </strong>
</pre></div><p>Here is a simple example that shows a typical usage. In fact, this syntax is all we need in this chapter.</p><div><img src="img/B05034_10_31.jpg" alt="PyPubSub package"/></div><p>When you run this script, it produces the following output:</p><div><pre class="programlisting">
<strong>$ "In model_change handler function, data= Player Won"</strong>
</pre></div><p>The first argument to <code class="literal">pub.subscribe()</code> is the function you want to subscribe to a given topic. The topic name here is WINNER ANNOUNCMENT. The last line of the code shows how to broadcast a message to a specific topic using <code class="literal">pub.sendMessage()</code>. The first argument to <code class="literal">pub.sendMessage()</code> is the topic name. You can specify any number of optional arguments, just make sure that the subscriber function accepts all those arguments! In this example, it sends data as the only optional argument.</p><div><div><h3 class="title"><a id="tip116"/>Tip</h3><p>For more information on the <a id="id887" class="indexterm"/>PyPubSub package, see the project home page: <a class="ulink" href="http://pubsub.sourceforge.net/">http://pubsub.sourceforge.net/</a>
</p><p>PyDispatcher<a id="id888" class="indexterm"/> is an alternative to the PyPubSub package. While we won't be using it, here is a link to the project: <a class="ulink" href="https://pypi.python.org/pypi/PyDispatcher">https://pypi.python.org/pypi/PyDispatcher</a>
</p></div></div></div></div></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec112"/>View to Controller communication</h3></div></div></div><p>Just like <code class="literal">Model</code>, there is no direct <a id="id889" class="indexterm"/>communication link from the <code class="literal">View</code> object to the <code class="literal">Controller</code> object. When the user presses a radio button, the controller needs to be notified. We can employ similar approaches, as discussed in the previous section. For example, you can assign a method of <code class="literal">Controller</code> to a <code class="literal">View</code> method. Alternatively, you can use the publish-subscribe API to talk to the <code class="literal">Controller</code> object.</p></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec113"/>Communication between View and Model</h3></div></div></div><p>Let's discuss how <code class="literal">View</code> and <code class="literal">Model</code> talk to each other:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">When the user presses a radio button, <code class="literal">View</code> communicates with <code class="literal">Controller</code> using one of the approaches discussed earlier</li><li class="listitem" style="list-style-type: disc">The <code class="literal">Controller</code> object then talks to <code class="literal">Model</code> instructing it to update</li><li class="listitem" style="list-style-type: disc">The state of <code class="literal">Model</code> is updated, and the results are communicated back to <code class="literal">Controller</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">Controller</code> asks <code class="literal">View</code> to update the display</li></ul></div><div><div><h3 class="title"><a id="note30"/>Note</h3><p>
<strong>View and Model communication using a publish-subscribe API</strong>:</p><p>You could potentially use the publish-subscribe framework to establish a communication channel between the <code class="literal">Model</code> and the <code class="literal">View</code> object. Note that this still keeps the basic rules intact. <code class="literal">Model</code> does not know anything about the <code class="literal">View</code> object. It just publishes the data to a given topic. <code class="literal">View</code> doesn't have any knowledge of the <code class="literal">Model</code> object. It is just registered as a subscriber to the same topic where <code class="literal">Model</code> is broadcasting the data. Thus, whenever there is a change of state in <code class="literal">Model</code>, <code class="literal">View</code> could get a notification through the publish-subscribe API. Likewise for the communication from <code class="literal">View</code> to <code class="literal">Model</code>. The potential flip-side is that these publish-subscribe signals are essentially global variables, and could bring in the painful issues associated with them. So use it with caution!</p><p>For this project however, we will stick to the classical approach, where the communication happens through <code class="literal">Controller</code>.</p></div></div></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec205"/>Reviewing the code</h2></div></div></div><p>So far, you have got a <a id="id890" class="indexterm"/>high-level overview of the new classes and how they communicate with each other. In the first project, we already reviewed most of the methods listed under each new class. That said, to implement the MVC architecture we need to make a few changes. Let's review only a few important methods from the file <code class="literal">hutgame_mvc.py</code>. Note that all the classes have been put in the same file. As an exercise, split the individual classes in their own module!</p><div><div><h3 class="title"><a id="tip117"/>Tip</h3><p>As we won't be reviewing each and every line of the code, you should download the file <code class="literal">hutgame_mvc.py</code> and also the two images, <code class="literal">Hut_small.gif</code> and <code class="literal">Jungle_small.gif</code> from the code bundle for this chapter. Keep the source file handy while reading the upcoming discussion. Quite often, it is useful to skim through the full code for better understanding!</p></div></div><p>The main execution code is shown next. It is almost identical to the one we saw in the first project. The only difference is <code class="literal">game_app</code> (shown highlighted). It is now an instance of the <code class="literal">Controller</code> class instead of <code class="literal">HutGame</code>. In fact, there is no <code class="literal">HutGame</code> class for this project! Recall that we broke it down, creating three new classes.</p><div><img src="img/B05034_10_29.jpg" alt="Reviewing the code"/></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec114"/>The Controller class</h3></div></div></div><p>The <code class="literal">Controller</code> class is quite<a id="id891" class="indexterm"/> small, as shown next:</p><div><img src="img/B05034_10_30.jpg" alt="The Controller class"/></div><p>Let's talk through the code. You <a id="id892" class="indexterm"/>can skip reading these bullets if you have already understood it!</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <code class="literal">Controller</code> class is composed of <code class="literal">Model</code> and <code class="literal">View</code> instances. This allows it to directly call the functionality from these classes.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">self.view.set_callbacks()</code> function essentially assigns the <code class="literal">radio_btn_pressed</code> method to an appropriate attribute of <code class="literal">View</code>. What this simply means is that whenever the user presses a radio button, this method is invoked. See the section <em>View to Controller communication</em> for more details.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">Controller</code> class receives data from the <code class="literal">Model</code> instance by subscribing to the topic, <code class="literal">"WINNER ANNOUNCEMENT"</code>. We have already seen an example of the <code class="literal">pub.subscribe()</code> function. Simply put, the method <code class="literal">model_change_handler</code> is called whenever the winner is announced.</li><li class="listitem" style="list-style-type: disc">The method <code class="literal">model_change_handler</code> calls the appropriate <code class="literal">View</code> method to display a message that announces the winner.</li></ul></div></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec206"/>The Model class</h2></div></div></div><p>There aren't many changes in the<a id="id893" class="indexterm"/> <code class="literal">Model</code> class. The only significant change is the highlighted line of the given code (the call to <code class="literal">pub.sendMessage</code>) in the <code class="literal">enter_hut</code> method. The details of the other methods are not shown. These methods are shown with their code collapsed in the editor.</p><div><img src="img/B05034_10_32.jpg" alt="The Model class"/></div><p>Compare this<a id="id894" class="indexterm"/> method against the one we wrote in the first project. Notice that it does not call <code class="literal">View.announce_winner</code> directly. Instead, it notifies the <code class="literal">Controller</code> instance using the <code class="literal">pub.sendMessage()</code>. The rest of the code remains unchanged, and you can have a look at the <code class="literal">hutgame_mvc.py</code> file for further details.</p><div><div><h3 class="title"><a id="tip118"/>Tip</h3><p>As noted in the section <em>Communication between View and Model</em>, you could potentially use the same publish-subscribe framework to notify the <code class="literal">Model</code> state changes to the <code class="literal">View</code> and vice versa.</p></div></div><div><div><h3 class="title"><a id="note31"/>Note</h3><p>
<strong>Object-relational mapper (ORM)</strong>:</p><p>Simply put, it is a<a id="id895" class="indexterm"/> library that enables you to use an object-oriented language like Python to access and update the data sitting in a database. In Python, DJango ORM and SQLAlchemy are among the popular ORM libraries. You can do a web search on these libraries to find useful resources.</p><p>Model classes and ORMs: This book does not cover anything related to web or database application programming, but it is worth mentioning the following. It is quite common for the <code class="literal">Model</code> classes to inherit from the ORMs, and represent database tables where each object is a row in the table. Writing unit tests for such systems could be a challenge, as you typically don't want to actually hit the database every time these tests run. In <a class="link" href="ch05.html" title="Chapter 5. Unit Testing and Refactoring">Chapter 5</a>, <em>Unit Testing and Refactoring</em> we saw how to use Python's mock library. Quite often, mock is useful for unit testing such systems (it is not covered in this book).</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec207"/>The View class</h2></div></div></div><p>The <code class="literal">View</code> class is <a id="id896" class="indexterm"/>illustrated next. The only significant change is the method by the name <code class="literal">set_callbacks</code>. The other methods are shown with their code collapsed.</p><div><img src="img/B05034_10_33.jpg" alt="The View class"/></div><p>Recall that in the <code class="literal">Controller.__init__</code> method, we have the following code:</p><div><pre class="programlisting">self.view.set_callbacks(self.radio_btn_pressed)</pre></div><p>The preceding code states that the <code class="literal">radio_btn_pressed</code> attribute of the <code class="literal">View</code> class represents the method <code class="literal">radio_btn_pressed()</code> of the <code class="literal">Controller</code> class. The rest of the code is identical to the one seen in the first project.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec208"/>Running the application</h2></div></div></div><p>In this project, we did <a id="id897" class="indexterm"/>not add any new features to the GUI. The idea was to just show a rudimentary example on implementing the MVC architecture. You can run this application as follows:</p><div><pre class="programlisting">
<strong>$ python hutgame_mvc.py</strong>
</pre></div><p>This should show the same GUI window and features as in the first project.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec90"/>Testing GUI applications</h1></div></div></div><p>In a complex and feature-rich <a id="id898" class="indexterm"/>GUI application, the user is presented with many choices of widgets, menus, keyboard shortcuts, and so on. As seen earlier in the chapter, the event-driven nature of GUI programs lets the user dictate the program flow. This often presents many possible ways for the user to perform certain operations to arrive at the desired output.</p><div><div><h3 class="title"><a id="tip119"/>Tip</h3><p>It should be noted that we are not going to write any code here. This is just a high-level discussion that touches upon a few important testing considerations. For further learning on this topic, start with the following wiki page: <a class="ulink" href="https://en.wikipedia.org/wiki/Graphical_user_interface_testing">https://en.wikipedia.org/wiki/Graphical_user_interface_testing</a>.</p></div></div><p>Imagine a GUI application that allows selecting some object in the application window, for example, a folder icon on the desktop. The user can hover the mouse over the icon to highlight that object, and then click on it to select it. Alternatively, he can do a window selection, where a selection window is drawn around the object to select it. Yet another alternative could be using a combination of keys on the keyboard. While the user is happy that he can accomplish the task in different ways, it becomes a challenge for the developer to write a bug-free code.</p><p>The nature of event-driven programming makes it difficult to write a robust code and comprehensive tests to account for the majority of the user input scenarios. The bugs would creep in one way or the other. Of course, this varies depending on the application and testing strategy, but it is typically a problem for large and complex GUI applications.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec209"/>Testing considerations</h2></div></div></div><p>There are various testing strategies to make the GUI application code more robust. Let's touch upon a few important testing considerations<a id="id899" class="indexterm"/>.</p><div><div><div><div><h3 class="title"><a id="ch10lvl3sec115"/>Unit testing and MVC</h3></div></div></div><p>A unit test helps you<a id="id900" class="indexterm"/> test an individual chunk of the code. An integration test is where you have many unit tests grouped together to test a larger functionality. In a regression test, you typically have a combination of unit and integration tests. Here, the tests are rerun to ensure that nothing is broken. A good regression test framework is crucial as the first line of defense against the bugs. Unit testing generally helps in addressing some common problems. In an earlier chapter, we already covered this topic with examples from a command-line application.</p><p>The MVC<a id="id901" class="indexterm"/> architecture of the GUI program further helps in making the code robust. The separation of concerns or breaking down of the code into the model, view, and controller components allows us to write unit tests for particular types of error. For example, in some applications, you may anticipate <code class="literal">ZeroDivisionError</code> in the <code class="literal">Model</code> class instead of the <code class="literal">View</code> class. So you could write focused unit tests for the <code class="literal">Model</code> class to gracefully handle such situations.</p></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec116"/>Manual testing</h3></div></div></div><p>While having a good<a id="id902" class="indexterm"/> regression test suite helps with the common issues, the event-driven nature of the program often presents scenarios that are not accounted for. In manual testing, the software tester manually checks the working of the application by playing with different features provided in the GUI. If something is not working as expected, the tester creates a bug report to document the instructions to reproduce the problem. Many hidden bugs surface in the manual testing phase.</p><p>With the growing complexity of the program, the repetitive manual testing job becomes overwhelming for the testers. This is where automated GUI testing comes to the rescue.</p></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec117"/>Automated GUI testing</h3></div></div></div><p>Here, the testing tool records the <a id="id903" class="indexterm"/>user actions to create tests. If you run such a test, the user actions are repeated automatically in the same sequence. This allows quick identification of the broken functionality.</p><div><div><h3 class="title"><a id="tip120"/>Tip</h3><p>Automated testing should not replace manual testing. Unless the tool has artificial intelligence built into it, you still need someone to test the new features, and use the existing ones in ways not tried before. In general, automated testing should complement the manual GUI testing activity.</p></div></div><p>There are several open source and commercial tools available for automated GUI testing in Python. The following table summarizes a few prominent, freely available tools for GUI test<a id="id904" class="indexterm"/> automation. For a comprehensive list, see the Python wiki page at <a class="ulink" href="https://wiki.python.org/moin/PythonTestingToolsTaxonomy">https://wiki.python.org/moin/PythonTestingToolsTaxonomy</a>.</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Tool name and link</p>
</th><th style="text-align: left" valign="bottom">
<p>Notes</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>Sikuli (SikuliX) <a class="ulink" href="http://www.sikuli.org/">http://www.sikuli.org/</a>
</p>
</td><td style="text-align: left" valign="top">
<p>Supported on<a id="id905" class="indexterm"/> Windows, <a id="id906" class="indexterm"/>Mac, and some Linux OS. Visit the website to check if your OS is supported.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>StoryText <a class="ulink" href="https://pypi.python.org/pypi/StoryText">https://pypi.python.org/pypi/StoryText</a>
</p>
</td><td style="text-align: left" valign="top">
<p>Supported <a id="id907" class="indexterm"/>GUI frameworks <a id="id908" class="indexterm"/>include Tkinter, PyGTK, wxPython, and others. See the website for the complete list.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Dogtail <a class="ulink" href="https://fedorahosted.org/dogtail/">https://fedorahosted.org/dogtail/</a>
</p>
</td><td style="text-align: left" valign="top">
<p>Intended <a id="id909" class="indexterm"/>for Linux OS like <a id="id910" class="indexterm"/>Fedora. Check if it is compatible with your OS.</p>
</td></tr></tbody></table></div><p>One of the frailties of such automated testing systems is that the innocent-looking GUI changes may require you to change a lot of tests, and depending on the complexity of your GUI application, this could be a hassle.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec91"/>Exercises</h1></div></div></div><p>Here is a list of a few things you could do to further improve the GUI application. With one exception, the solutions are not provided for these exercises.</p><div><ol class="orderedlist arabic"><li class="listitem">Put the <code class="literal">Model</code>, <code class="literal">View</code> and, <code class="literal">Controller</code> classes in their own modules!</li><li class="listitem">Use the publish-subscribe API for communication from <code class="literal">View</code> to <code class="literal">Controller</code>. You can refer to the file <code class="literal">hutgame_mvc_pubsub.py</code> for a solution.</li><li class="listitem">Add more widgets such as a menu bar and buttons. Implement the <strong>Restart Game</strong> button. When clicked, the game should restart. Do the following when this button is clicked:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Randomly distribute the occupants again by calling <code class="literal">occupy_huts()</code>.</li><li class="listitem" style="list-style-type: disc">Clear the state of the radio buttons. All the buttons should be deselected.</li></ul></div></li><li class="listitem">Add exception handling to the application.</li><li class="listitem">Try to generalize the <code class="literal">View.add_callbacks</code> method so that it can be used to set more callback functions.</li></ol></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec92"/>Further reading</h1></div></div></div><p>This book has touched upon several important aspects of application development. The key concepts were taught primarily by developing command-line applications. As noted earlier in the chapter, there are many applications that require you to learn domain-specific techniques. For example, in this chapter, we learned about the MVC architecture commonly implemented in GUI applications. Let's conclude this chapter, and hence the book, with a brief discussion on some of the important application domains. This will just give you some useful pointers (with lots of links!) to the relevant libraries or application frameworks. To avoid clutter, the URLs with further information are provided separately at the end of this section. The following is a list of other important application domains; however, this is far from being an exhaustive list:</p><div><ol class="orderedlist arabic"><li class="listitem">Web and mobile application development:<p>These are important application development domains. To learn Python Web application development, you can start exploring the Flask or DJango frameworks in Python. Knowledge of MVC will also help you here. For mobile application development, the kivy library is probably a good start.</p></li><li class="listitem">Applications involving databases:<p>A <strong>database management system</strong> (<strong>DBMS</strong>) is another important application domain. In a nutshell, DBMS provides you a way to create, access, and manage your data. Python has several libraries that enable talking to a database.</p><p>SQLite3 is a simple, light-weight relational database system. The module sqlite3 is a built-in Python module that provides a DB-API 2.0 compliant SQL interface. There are several client libraries written in Python that provide a way to talk to a database. For example, the PyMongo module provides tools to work with MongoDB, and so on.</p></li><li class="listitem">Machine and deep learning:<p>In the data science domain, the use of machine learning and deep learning libraries is growing rapidly. The knowledge of GPU programming would help here.</p><div><div><h3 class="title"><a id="tip121"/>Tip</h3><p>Data science applications almost always involve visualizing some data. It is very convenient to use IPython or Jupyter notebooks to write and share interactive data science applications. See <a class="ulink" href="http://jupyter.org/">http://jupyter.org/</a>for more details.</p></div></div><p>For machine learning, you can explore Apache Spark. This is a general-purpose cluster computing system that provides high-level APIs in Python and other languages. MLlib is Apache Spark's scalable machine learning library. For deep-learning applications, Caffe and Tensorflow are among the popular deep-learning frameworks.</p></li><li class="listitem">Internet of Things:<p>This is is yet another rapidly emerging field where Python is one of the favored languages for developing applications. Here you could use Python to not only process data (Analytics applications) on the server side but also have a Python client running on the end device. You can find use of the publish-subscribe messaging pattern in such applications, where the device publishes data to a topic, and the server side application is a subscriber that receives this data.</p></li><li class="listitem">Multimedia and game applications:<p>This is broad topic, and there are several frameworks and libraries available for developing multimedia applications:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Python wiki documents many tools that deal with audio and video processing. <strong>GStreamer</strong>, <strong>MoviePy</strong>, and <strong>MLT</strong> are among the popular frameworks. See also the PyMedia module.</li><li class="listitem" style="list-style-type: disc">There are quite a few options for image processing. Check out scikit-image, Opencv, and pillow (a fork of Python Imaging Library or PIL).</li><li class="listitem" style="list-style-type: disc">There are many libraries useful for developing game- and animation-related applications. Check out PyGame and Pyglet. Again, you can find a comprehensive list on the Python wiki page.</li></ul></div></li></ol></div><p>The following table lists a few useful web links that provide more information on various tools or domains discussed earlier.</p><div><div><h3 class="title"><a id="tip122"/>Tip</h3><p>At the time of writing this book, all the web links (URLs) presented throughout the book are accessible. As noted in <a class="link" href="ch01.html" title="Chapter 1. Developing Simple Applications">Chapter 1</a>, <em>Developing Simple Applications</em>, these links might end up being broken over time. If that ever happens, do a web search with the appropriate search terms. For example, if you find the link to the PyMongo module broken, you can Google search PyMongo Python MongoDB to find some useful resources!</p></div></div><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Tool or application domain</p>
</th><th style="text-align: left" valign="bottom">
<p>Web link for further information</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>Flask</p>
</td><td style="text-align: left" valign="top">
<p>
<a class="ulink" href="http://flask.pocoo.org">http://flask.pocoo.org</a>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Django</p>
</td><td style="text-align: left" valign="top">
<p>
<a class="ulink" href="https://www.djangoproject.com">https://www.djangoproject.com</a>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Kivy</p>
</td><td style="text-align: left" valign="top">
<p>
<a class="ulink" href="https://kivy.org">https://kivy.org</a>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>sqlite3</p>
</td><td style="text-align: left" valign="top">
<p>
<a class="ulink" href="https://docs.python.org/3/library/sqlite3.html">https://docs.python.org/3/library/sqlite3.html</a>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>PyMongo</p>
</td><td style="text-align: left" valign="top">
<p>
<a class="ulink" href="https://api.mongodb.com/python/current/">https://api.mongodb.com/python/current/</a>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Jupyter notebook </p>
</td><td style="text-align: left" valign="top">
<p>
<a class="ulink" href="http://jupyter.org/">http://jupyter.org/</a>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Apache Spark</p>
</td><td style="text-align: left" valign="top">
<p>
<a class="ulink" href="https://spark.apache.org">https://spark.apache.org</a>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Caffe framework</p>
</td><td style="text-align: left" valign="top">
<p>
<a class="ulink" href="http://caffe.berkeleyvision.org">http://caffe.berkeleyvision.org</a>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Tensorflow</p>
</td><td style="text-align: left" valign="top">
<p>
<a class="ulink" href="https://www.tensorflow.org/">https://www.tensorflow.org/</a>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Internet of Things</strong> (<strong>IoT</strong>)</p>
</td><td style="text-align: left" valign="top">
<p>
<a class="ulink" href="https://en.wikipedia.org/wiki/Internet_of_things">https://en.wikipedia.org/wiki/Internet_of_things</a>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Audio, video processing</p>
</td><td style="text-align: left" valign="top">
<p>
<a class="ulink" href="https://wiki.python.org/moin/AudioVideo">https://wiki.python.org/moin/AudioVideo</a>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Game and animations</p>
</td><td style="text-align: left" valign="top">
<p>
<a class="ulink" href="https://wiki.python.org/moin/PythonGameLibraries">https://wiki.python.org/moin/PythonGameLibraries</a>
</p>
</td></tr></tbody></table></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec93"/>Summary</h1></div></div></div><p>This chapter served as an introduction to the Python GUI programming. Starting with an overview of the different GUI frameworks, it touched upon some important practical design considerations for developing user interfaces. You saw what event-driven programming is, and learned about events and event handling. With a quick introduction to Tkinter library, we developed a simple Hut Game, an equivalent GUI version of the first ever application developed in <a class="link" href="ch01.html" title="Chapter 1. Developing Simple Applications">Chapter 1</a>, <em>Developing Simple Applications</em>.</p><p>The second half of the chapter introduced you to the MVC architecture, and we transformed the Hut Game to implement this architecture. The chapter concluded with a high-level discussion on testing GUI applications.</p><div><img src="img/B05034_10_34.jpg" alt="Summary"/></div></div></body></html>