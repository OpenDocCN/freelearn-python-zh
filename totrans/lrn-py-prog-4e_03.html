<html><head></head><body>
  <div class="Basic-Text-Frame" id="_idContainer075">
   <h1 class="chapterNumber">
    <span class="koboSpan" id="kobo.1.1">
     3
    </span>
   </h1>
   <h1 class="chapterTitle" id="_idParaDest-91">
    <span class="koboSpan" id="kobo.2.1">
     Conditionals and Iteration
    </span>
   </h1>
   <blockquote class="packt_quote">
    <p class="quote">
     <span class="koboSpan" id="kobo.3.1">
      ”Would you tell me, please, which way I ought to go from here?”
     </span>
    </p>
    <p class="quote">
     <span class="koboSpan" id="kobo.4.1">
      “That depends a good deal on where you want to get to.”
     </span>
    </p>
    <p class="cite">
     <span class="koboSpan" id="kobo.5.1">
      —Lewis Carroll, from Alice’s Adventures in Wonderland
     </span>
    </p>
   </blockquote>
   <p class="normal">
    <span class="koboSpan" id="kobo.6.1">
     In the previous chapter, we looked at Python’s built-in data types.
    </span>
    <span class="koboSpan" id="kobo.6.2">
     Now that you are familiar with data in its many forms and shapes, it is time to start looking at how a program can use it.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.7.1">
     According
    </span>
    <a id="_idIndexMarker280">
    </a>
    <span class="koboSpan" id="kobo.8.1">
     to Wikipedia:
    </span>
   </p>
   <blockquote class="packt_quote">
    <p class="quote">
     <span class="koboSpan" id="kobo.9.1">
      In computer science,
     </span>
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.10.1">
       control flow
      </span>
     </strong>
     <span class="koboSpan" id="kobo.11.1">
      (or
     </span>
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.12.1">
       flow of control
      </span>
     </strong>
     <span class="koboSpan" id="kobo.13.1">
      ) is the order in which individual statements, instructions, or function calls of an imperative program are executed or evaluated.
     </span>
    </p>
   </blockquote>
   <p class="normal">
    <span class="koboSpan" id="kobo.14.1">
     The two main ways of controlling the flow of a program
    </span>
    <a id="_idIndexMarker281">
    </a>
    <span class="koboSpan" id="kobo.15.1">
     are
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.16.1">
      conditional programming
     </span>
    </strong>
    <span class="koboSpan" id="kobo.17.1">
     (also known
    </span>
    <a id="_idIndexMarker282">
    </a>
    <span class="koboSpan" id="kobo.18.1">
     as
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.19.1">
      branching
     </span>
    </strong>
    <span class="koboSpan" id="kobo.20.1">
     ) and
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.21.1">
      looping
     </span>
    </strong>
    <span class="koboSpan" id="kobo.22.1">
     .
    </span>
    <span class="koboSpan" id="kobo.22.2">
     These techniques can be combined to produce
    </span>
    <a id="_idIndexMarker283">
    </a>
    <span class="koboSpan" id="kobo.23.1">
     an endless variety of programs.
    </span>
    <span class="koboSpan" id="kobo.23.2">
     Rather than attempting to document all the ways of combining looping and branching, we will give you an overview of the flow control constructs available in Python.
    </span>
    <span class="koboSpan" id="kobo.23.3">
     Then, we will walk you through a couple of example programs.
    </span>
    <span class="koboSpan" id="kobo.23.4">
     This way, you should get a better feeling of how conditional programming and looping can be used.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.24.1">
     In this chapter, we are going to cover the following:
    </span>
   </p>
   <ul>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.25.1">
      Conditional programming
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.26.1">
      Looping in Python
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.27.1">
      Assignment expressions
     </span>
    </li>
    <li class="bulletList">
     <span class="koboSpan" id="kobo.28.1">
      A quick peek at the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.29.1">
       itertools
      </span>
     </code>
     <span class="koboSpan" id="kobo.30.1">
      module
     </span>
    </li>
   </ul>
   <h1 class="heading-1" id="_idParaDest-92">
    <span class="koboSpan" id="kobo.31.1">
     Conditional programming
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.32.1">
     Conditional programming, or branching, is
    </span>
    <a id="_idIndexMarker284">
    </a>
    <span class="koboSpan" id="kobo.33.1">
     something you do every moment of every day.
    </span>
    <span class="koboSpan" id="kobo.33.2">
     Essentially, it consists of evaluating conditions and deciding what action to take:
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.34.1">
      if the light is green, then I can cross
     </span>
    </em>
    <span class="koboSpan" id="kobo.35.1">
     ;
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.36.1">
      if it is raining, then I am taking the umbrella
     </span>
    </em>
    <span class="koboSpan" id="kobo.37.1">
     ; and
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.38.1">
      if I am late for work, then I will call my manager
     </span>
    </em>
    <span class="koboSpan" id="kobo.39.1">
     .
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-93">
    <span class="koboSpan" id="kobo.40.1">
     The if statement
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.41.1">
     The main tool for conditional
    </span>
    <a id="_idIndexMarker285">
    </a>
    <span class="koboSpan" id="kobo.42.1">
     programming in Python is the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.43.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.44.1">
     statement.
    </span>
    <span class="koboSpan" id="kobo.44.2">
     Its function is to
    </span>
    <a id="_idIndexMarker286">
    </a>
    <span class="koboSpan" id="kobo.45.1">
     evaluate an expression and, based on the result, choose which part of the code to execute.
    </span>
    <span class="koboSpan" id="kobo.45.2">
     As usual, let us look at an example:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.46.1"># conditional.1.py</span></span><span class="koboSpan" id="kobo.47.1">
late = </span><span class="hljs-literal"><span class="koboSpan" id="kobo.48.1">True</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.49.1">if</span></span><span class="koboSpan" id="kobo.50.1"> late:
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.51.1">print</span></span><span class="koboSpan" id="kobo.52.1">("I need to call my manager!")
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.53.1">
     This is the simplest example possible: the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.54.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.55.1">
     statement evaluates the expression
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.56.1">
      late
     </span>
    </code>
    <span class="koboSpan" id="kobo.57.1">
     in a Boolean context (exactly as if we were calling
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.58.1">
      bool(late)
     </span>
    </code>
    <span class="koboSpan" id="kobo.59.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.59.2">
     If the result of the evaluation is
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.60.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.61.1">
     , then we enter the body of the code immediately after the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.62.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.63.1">
     statement.
    </span>
    <span class="koboSpan" id="kobo.63.2">
     Notice that the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.64.1">
      print
     </span>
    </code>
    <span class="koboSpan" id="kobo.65.1">
     instruction is indented, which means that it belongs to a scope defined by the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.66.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.67.1">
     clause.
    </span>
    <span class="koboSpan" id="kobo.67.2">
     Execution of this code yields:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.68.1">$ python conditional.1.py
I need to call my manager!
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.69.1">
     Since
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.70.1">
      late
     </span>
    </code>
    <span class="koboSpan" id="kobo.71.1">
     is
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.72.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.73.1">
     , the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.74.1">
      print()
     </span>
    </code>
    <span class="koboSpan" id="kobo.75.1">
     statement was executed.
    </span>
    <span class="koboSpan" id="kobo.75.2">
     We can expand on the basic
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.76.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.77.1">
     statement, by adding an
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.78.1">
      else
     </span>
    </code>
    <span class="koboSpan" id="kobo.79.1">
     clause.
    </span>
    <span class="koboSpan" id="kobo.79.2">
     This provides an alternative set of instructions to execute when the expression in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.80.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.81.1">
     clause evaluates to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.82.1">
      False
     </span>
    </code>
    <span class="koboSpan" id="kobo.83.1">
     .
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.84.1"># conditional.2.py</span></span><span class="koboSpan" id="kobo.85.1">
late = </span><span class="hljs-literal"><span class="koboSpan" id="kobo.86.1">False</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.87.1">if</span></span><span class="koboSpan" id="kobo.88.1"> late:
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.89.1">print</span></span><span class="koboSpan" id="kobo.90.1">("I need to call my manager!")  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.91.1"># 1</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.92.1">else</span></span><span class="koboSpan" id="kobo.93.1">:
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.94.1">print</span></span><span class="koboSpan" id="kobo.95.1">("no need to call my manager...")  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.96.1"># 2</span></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.97.1">
     This time, we set
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.98.1">
      late = False
     </span>
    </code>
    <span class="koboSpan" id="kobo.99.1">
     , so when we execute the code, the result is different:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.100.1">$ python conditional.2.py
no need to call my manager...
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.101.1">
     Depending on the
    </span>
    <a id="_idIndexMarker287">
    </a>
    <span class="koboSpan" id="kobo.102.1">
     result of evaluating
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.103.1">
      late
     </span>
    </code>
    <span class="koboSpan" id="kobo.104.1">
     , we can either enter
    </span>
    <a id="_idIndexMarker288">
    </a>
    <span class="koboSpan" id="kobo.105.1">
     block
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.106.1">
      # 1
     </span>
    </code>
    <span class="koboSpan" id="kobo.107.1">
     or block
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.108.1">
      # 2
     </span>
    </code>
    <span class="koboSpan" id="kobo.109.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.110.1">
      but not both
     </span>
    </em>
    <span class="koboSpan" id="kobo.111.1">
     .
    </span>
    <span class="koboSpan" id="kobo.111.2">
     Block
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.112.1">
      # 1
     </span>
    </code>
    <span class="koboSpan" id="kobo.113.1">
     is executed when
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.114.1">
      late
     </span>
    </code>
    <span class="koboSpan" id="kobo.115.1">
     evaluates to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.116.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.117.1">
     , while block
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.118.1">
      # 2
     </span>
    </code>
    <span class="koboSpan" id="kobo.119.1">
     is executed when
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.120.1">
      late
     </span>
    </code>
    <span class="koboSpan" id="kobo.121.1">
     evaluates to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.122.1">
      False
     </span>
    </code>
    <span class="koboSpan" id="kobo.123.1">
     .
    </span>
    <span class="koboSpan" id="kobo.123.2">
     Try assigning
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.124.1">
      False
     </span>
    </code>
    <span class="koboSpan" id="kobo.125.1">
     /
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.126.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.127.1">
     values to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.128.1">
      late
     </span>
    </code>
    <span class="koboSpan" id="kobo.129.1">
     and see how the output changes.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-94">
    <span class="koboSpan" id="kobo.130.1">
     A specialized else: elif
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.131.1">
     What we
    </span>
    <a id="_idIndexMarker289">
    </a>
    <span class="koboSpan" id="kobo.132.1">
     have seen so far is sufficient when you have only one condition to
    </span>
    <a id="_idIndexMarker290">
    </a>
    <span class="koboSpan" id="kobo.133.1">
     evaluate and, at most, two alternative paths to take (the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.134.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.135.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.136.1">
      else
     </span>
    </code>
    <span class="koboSpan" id="kobo.137.1">
     clauses).
    </span>
    <span class="koboSpan" id="kobo.137.2">
     Sometimes, however, there are situations where you have to evaluate more than one condition to choose from among multiple paths.
    </span>
    <span class="koboSpan" id="kobo.137.3">
     To demonstrate this, we will need an example with a few more options to choose from.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.138.1">
     This time, we will create a simple tax calculator.
    </span>
    <span class="koboSpan" id="kobo.138.2">
     Suppose that taxes are determined as follows: if your income is less than $10,000, you do not need to pay any taxes.
    </span>
    <span class="koboSpan" id="kobo.138.3">
     If it is between $10,000 and $30,000, you must pay 20% in taxes.
    </span>
    <span class="koboSpan" id="kobo.138.4">
     If it is between $30,000 and $100,000, you pay 35% in taxes, and if you are fortunate enough to earn over $100,000, you must pay 45% in taxes.
    </span>
    <span class="koboSpan" id="kobo.138.5">
     Let us translate this into Python code:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.139.1"># taxes.py</span></span><span class="koboSpan" id="kobo.140.1">
income = </span><span class="hljs-number"><span class="koboSpan" id="kobo.141.1">15000</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.142.1">if</span></span><span class="koboSpan" id="kobo.143.1"> income &lt; </span><span class="hljs-number"><span class="koboSpan" id="kobo.144.1">10000</span></span><span class="koboSpan" id="kobo.145.1">:
    tax_coefficient = </span><span class="hljs-number"><span class="koboSpan" id="kobo.146.1">0.0</span></span>  <span class="hljs-comment"><span class="koboSpan" id="kobo.147.1"># 1</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.148.1">elif</span></span><span class="koboSpan" id="kobo.149.1"> income &lt; </span><span class="hljs-number"><span class="koboSpan" id="kobo.150.1">30000</span></span><span class="koboSpan" id="kobo.151.1">:
    tax_coefficient = </span><span class="hljs-number"><span class="koboSpan" id="kobo.152.1">0.2</span></span>  <span class="hljs-comment"><span class="koboSpan" id="kobo.153.1"># 2</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.154.1">elif</span></span><span class="koboSpan" id="kobo.155.1"> income &lt; </span><span class="hljs-number"><span class="koboSpan" id="kobo.156.1">100000</span></span><span class="koboSpan" id="kobo.157.1">:
    tax_coefficient = </span><span class="hljs-number"><span class="koboSpan" id="kobo.158.1">0.35</span></span>  <span class="hljs-comment"><span class="koboSpan" id="kobo.159.1"># 3</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.160.1">else</span></span><span class="koboSpan" id="kobo.161.1">:
    tax_coefficient = </span><span class="hljs-number"><span class="koboSpan" id="kobo.162.1">0.45</span></span>  <span class="hljs-comment"><span class="koboSpan" id="kobo.163.1"># 4</span></span>
<span class="hljs-built_in"><span class="koboSpan" id="kobo.164.1">print</span></span><span class="koboSpan" id="kobo.165.1">(f"You will pay: ${income * tax_coefficient} </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.166.1">in</span></span><span class="koboSpan" id="kobo.167.1"> taxes")
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.168.1">
     When we
    </span>
    <a id="_idIndexMarker291">
    </a>
    <span class="koboSpan" id="kobo.169.1">
     execute this code, we
    </span>
    <a id="_idIndexMarker292">
    </a>
    <span class="koboSpan" id="kobo.170.1">
     get the following output:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.171.1">$ python taxes.py
You will pay: $3000.0 in taxes
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.172.1">
     Let us go through the example one line at a time.
    </span>
    <span class="koboSpan" id="kobo.172.2">
     We start by setting up the income value.
    </span>
    <span class="koboSpan" id="kobo.172.3">
     In the example, your income is $15,000.
    </span>
    <span class="koboSpan" id="kobo.172.4">
     We enter the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.173.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.174.1">
     statement.
    </span>
    <span class="koboSpan" id="kobo.174.2">
     Notice that, this time, we also introduced the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.175.1">
      elif
     </span>
    </code>
    <span class="koboSpan" id="kobo.176.1">
     clause, which is a contraction of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.177.1">
      else-if.
     </span>
    </code>
    <span class="koboSpan" id="kobo.178.1">
     It differs from a plain
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.179.1">
      else
     </span>
    </code>
    <span class="koboSpan" id="kobo.180.1">
     clause in that it also has its own condition.
    </span>
    <span class="koboSpan" id="kobo.180.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.181.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.182.1">
     expression of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.183.1">
      income &lt; 10000
     </span>
    </code>
    <span class="koboSpan" id="kobo.184.1">
     evaluates to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.185.1">
      False
     </span>
    </code>
    <span class="koboSpan" id="kobo.186.1">
     ; therefore, block
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.187.1">
      # 1
     </span>
    </code>
    <span class="koboSpan" id="kobo.188.1">
     is not executed.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.189.1">
     The control passes to the next condition:
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.190.1">
      elif income &lt; 30000
     </span>
    </code>
    <span class="koboSpan" id="kobo.191.1">
     .
    </span>
    <span class="koboSpan" id="kobo.191.2">
     This one evaluates to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.192.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.193.1">
     ; therefore, block
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.194.1">
      # 2
     </span>
    </code>
    <span class="koboSpan" id="kobo.195.1">
     is executed, and because of this, Python then resumes execution after the whole
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.196.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.197.1">
     /
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.198.1">
      elif
     </span>
    </code>
    <span class="koboSpan" id="kobo.199.1">
     /
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.200.1">
      elif
     </span>
    </code>
    <span class="koboSpan" id="kobo.201.1">
     /
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.202.1">
      else
     </span>
    </code>
    <span class="koboSpan" id="kobo.203.1">
     construct (which we can just call the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.204.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.205.1">
     statement from now on).
    </span>
    <span class="koboSpan" id="kobo.205.2">
     There is only one instruction after the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.206.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.207.1">
     statement: the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.208.1">
      print()
     </span>
    </code>
    <span class="koboSpan" id="kobo.209.1">
     call, which produces output telling us that we will pay
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.210.1">
      $3000.0
     </span>
    </code>
    <span class="koboSpan" id="kobo.211.1">
     in taxes this year (
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.212.1">
      15,000 * 20%
     </span>
    </em>
    <span class="koboSpan" id="kobo.213.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.213.2">
     Notice that the order is mandatory:
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.214.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.215.1">
     comes first, then (optionally) as many
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.216.1">
      elif
     </span>
    </code>
    <span class="koboSpan" id="kobo.217.1">
     clauses as you may need, and then (optionally) a single
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.218.1">
      else
     </span>
    </code>
    <span class="koboSpan" id="kobo.219.1">
     clause.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.220.1">
     No matter how many lines of code you may have within each block, when one of the conditions evaluates to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.221.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.222.1">
     , the associated block is executed, and then execution resumes after the whole clause.
    </span>
    <span class="koboSpan" id="kobo.222.2">
     If none of the conditions evaluates to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.223.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.224.1">
     (for example,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.225.1">
      income = 200000
     </span>
    </code>
    <span class="koboSpan" id="kobo.226.1">
     ), then the body of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.227.1">
      else
     </span>
    </code>
    <span class="koboSpan" id="kobo.228.1">
     clause would be executed (block
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.229.1">
      # 4
     </span>
    </code>
    <span class="koboSpan" id="kobo.230.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.230.2">
     This example expands our understanding of the behavior of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.231.1">
      else
     </span>
    </code>
    <span class="koboSpan" id="kobo.232.1">
     clause.
    </span>
    <span class="koboSpan" id="kobo.232.2">
     Its block of code is executed when none of the preceding
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.233.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.234.1">
     /
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.235.1">
      elif
     </span>
    </code>
    <span class="koboSpan" id="kobo.236.1">
     /.../
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.237.1">
      elif
     </span>
    </code>
    <span class="koboSpan" id="kobo.238.1">
     expressions have evaluated to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.239.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.240.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.241.1">
     Try to modify the
    </span>
    <a id="_idIndexMarker293">
    </a>
    <span class="koboSpan" id="kobo.242.1">
     value of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.243.1">
      income
     </span>
    </code>
    <span class="koboSpan" id="kobo.244.1">
     until you can comfortably execute any of the
    </span>
    <a id="_idIndexMarker294">
    </a>
    <span class="koboSpan" id="kobo.245.1">
     blocks at will.
    </span>
    <span class="koboSpan" id="kobo.245.2">
     Also, test the behavior at the
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.246.1">
      boundaries
     </span>
    </strong>
    <span class="koboSpan" id="kobo.247.1">
     where the values of the Boolean expressions in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.248.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.249.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.250.1">
      elif
     </span>
    </code>
    <span class="koboSpan" id="kobo.251.1">
     clauses
    </span>
    <code class="inlineCode">
    </code>
    <span class="koboSpan" id="kobo.252.1">
     change.
    </span>
    <span class="koboSpan" id="kobo.252.2">
     It is crucial to test boundaries thoroughly to ensure the correctness of your code.
    </span>
    <span class="koboSpan" id="kobo.252.3">
     Should we allow you to drive at 18 or 17?
    </span>
    <span class="koboSpan" id="kobo.252.4">
     Are we checking your age with
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.253.1">
      age &lt; 18
     </span>
    </code>
    <span class="koboSpan" id="kobo.254.1">
     or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.255.1">
      age &lt;= 18
     </span>
    </code>
    <span class="koboSpan" id="kobo.256.1">
     ?
    </span>
    <span class="koboSpan" id="kobo.256.2">
     You cannot imagine how many times we have had to fix subtle bugs that stemmed from using the wrong operator, so go ahead and experiment with the code.
    </span>
    <span class="koboSpan" id="kobo.256.3">
     Change some instances of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.257.1">
      &lt;
     </span>
    </code>
    <span class="koboSpan" id="kobo.258.1">
     to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.259.1">
      &lt;=
     </span>
    </code>
    <span class="koboSpan" id="kobo.260.1">
     , and set
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.261.1">
      income
     </span>
    </code>
    <span class="koboSpan" id="kobo.262.1">
     to be one of the boundary values (10,000, 30,000, or 100,000), as well as any value in between.
    </span>
    <span class="koboSpan" id="kobo.262.2">
     See how the result changes, and get a good understanding of it before proceeding.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-95">
    <span class="koboSpan" id="kobo.263.1">
     Nesting if statements
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.264.1">
     You can also nest
    </span>
    <a id="_idIndexMarker295">
    </a>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.265.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.266.1">
     statements.
    </span>
    <span class="koboSpan" id="kobo.266.2">
     Let us look at another
    </span>
    <a id="_idIndexMarker296">
    </a>
    <span class="koboSpan" id="kobo.267.1">
     example to show you how.
    </span>
    <span class="koboSpan" id="kobo.267.2">
     Let us say, for example, that your program encounters an error.
    </span>
    <span class="koboSpan" id="kobo.267.3">
     If the alert system is the console, we print the error.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.268.1">
     If the alert system is an email, the severity of the error determines which address we should send the alert to.
    </span>
    <span class="koboSpan" id="kobo.268.2">
     If the alert system is anything other than the console or email, we do not know what to do, so we do nothing.
    </span>
    <span class="koboSpan" id="kobo.268.3">
     Let us put this into code:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.269.1"># errorsalert.py</span></span><span class="koboSpan" id="kobo.270.1">
alert_system = "console"  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.271.1"># other value can be "email"</span></span><span class="koboSpan" id="kobo.272.1">
error_severity = "critical"  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.273.1"># other values: "medium" or "low"</span></span><span class="koboSpan" id="kobo.274.1">
error_message = "Something terrible happened!"
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.275.1">if</span></span><span class="koboSpan" id="kobo.276.1"> alert_system == "console":  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.277.1"># outer</span></span>
    <span class="hljs-built_in"><span class="koboSpan" id="kobo.278.1">print</span></span><span class="koboSpan" id="kobo.279.1">(error_message)  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.280.1"># 1</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.281.1">elif</span></span><span class="koboSpan" id="kobo.282.1"> alert_system == "email":
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.283.1">if</span></span><span class="koboSpan" id="kobo.284.1"> error_severity == "critical":  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.285.1"># inner</span></span><span class="koboSpan" id="kobo.286.1">
        send_email("admin@example.com", error_message)  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.287.1"># 2</span></span>
    <span class="hljs-keyword"><span class="koboSpan" id="kobo.288.1">elif</span></span><span class="koboSpan" id="kobo.289.1"> error_severity == "medium":
        send_email("support</span><span class="hljs-number"><span class="koboSpan" id="kobo.290.1">.1</span></span><span class="koboSpan" id="kobo.291.1">@example.com", error_message)  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.292.1"># 3</span></span>
    <span class="hljs-keyword"><span class="koboSpan" id="kobo.293.1">else</span></span><span class="koboSpan" id="kobo.294.1">:
        send_email("support</span><span class="hljs-number"><span class="koboSpan" id="kobo.295.1">.2</span></span><span class="koboSpan" id="kobo.296.1">@example.com", error_message)  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.297.1"># 4</span></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.298.1">
     Here, we have an
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.299.1">
      inner
     </span>
    </em>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.300.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.301.1">
     statement nested within the body of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.302.1">
      elif
     </span>
    </code>
    <span class="koboSpan" id="kobo.303.1">
     clause of an
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.304.1">
      outer
     </span>
    </em>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.305.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.306.1">
     statement.
    </span>
    <span class="koboSpan" id="kobo.306.2">
     Notice that the nesting is achieved by indenting the inner
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.307.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.308.1">
     statement.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.309.1">
     Let us step through the code and see what happens.
    </span>
    <span class="koboSpan" id="kobo.309.2">
     We start by assigning values to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.310.1">
      alert_system
     </span>
    </code>
    <span class="koboSpan" id="kobo.311.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.312.1">
      error_severity
     </span>
    </code>
    <span class="koboSpan" id="kobo.313.1">
     , and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.314.1">
      error_message
     </span>
    </code>
    <span class="koboSpan" id="kobo.315.1">
     .
    </span>
    <span class="koboSpan" id="kobo.315.2">
     When we enter the outer
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.316.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.317.1">
     statement, if
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.318.1">
      alert_system == "console"
     </span>
    </code>
    <span class="koboSpan" id="kobo.319.1">
     evaluates to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.320.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.321.1">
     , body
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.322.1">
      # 1
     </span>
    </code>
    <span class="koboSpan" id="kobo.323.1">
     is executed, and nothing else happens.
    </span>
    <span class="koboSpan" id="kobo.323.2">
     On the other hand, if
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.324.1">
      alert_system == "email"
     </span>
    </code>
    <span class="koboSpan" id="kobo.325.1">
     evaluates to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.326.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.327.1">
     , then we enter the inner
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.328.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.329.1">
     statement.
    </span>
    <span class="koboSpan" id="kobo.329.2">
     In the inner
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.330.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.331.1">
     statement, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.332.1">
      error_severity
     </span>
    </code>
    <span class="koboSpan" id="kobo.333.1">
     determines whether we send an email to an admin, first-level support, or second-level support (blocks
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.334.1">
      # 2
     </span>
    </code>
    <span class="koboSpan" id="kobo.335.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.336.1">
      # 3
     </span>
    </code>
    <span class="koboSpan" id="kobo.337.1">
     , and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.338.1">
      # 4
     </span>
    </code>
    <span class="koboSpan" id="kobo.339.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.339.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.340.1">
      send_email()
     </span>
    </code>
    <span class="koboSpan" id="kobo.341.1">
     function is not defined in this example, so trying to run it would give you an error.
    </span>
    <span class="koboSpan" id="kobo.341.2">
     In the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.342.1">
      errorsalert.py
     </span>
    </code>
    <span class="koboSpan" id="kobo.343.1">
     module, which you can find in the source code of this book, we included a trick to redirect that call to a regular
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.344.1">
      print()
     </span>
    </code>
    <span class="koboSpan" id="kobo.345.1">
     function, just so you can experiment on the console without actually sending an email.
    </span>
    <span class="koboSpan" id="kobo.345.2">
     Try changing the values and see how it all works.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-96">
    <span class="koboSpan" id="kobo.346.1">
     The ternary operator
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.347.1">
     The next thing we
    </span>
    <a id="_idIndexMarker297">
    </a>
    <span class="koboSpan" id="kobo.348.1">
     would like to show you is
    </span>
    <a id="_idIndexMarker298">
    </a>
    <span class="koboSpan" id="kobo.349.1">
     the
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.350.1">
      ternary operator.
     </span>
    </strong>
    <span class="koboSpan" id="kobo.351.1">
     In Python, this is also known as
    </span>
    <a id="_idIndexMarker299">
    </a>
    <span class="koboSpan" id="kobo.352.1">
     a
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.353.1">
      conditional expression
     </span>
    </strong>
    <span class="koboSpan" id="kobo.354.1">
     .
    </span>
    <span class="koboSpan" id="kobo.354.2">
     It looks and behaves like a short, in-line version of an
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.355.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.356.1">
     statement.
    </span>
    <span class="koboSpan" id="kobo.356.2">
     When you just want to choose between two values, depending on some condition, it is sometimes easier and more readable to use the ternary operator instead of a full
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.357.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.358.1">
     statement.
    </span>
    <span class="koboSpan" id="kobo.358.2">
     For example, instead of:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.359.1"># ternary.py</span></span><span class="koboSpan" id="kobo.360.1">
order_total = </span><span class="hljs-number"><span class="koboSpan" id="kobo.361.1">247</span></span>  <span class="hljs-comment"><span class="koboSpan" id="kobo.362.1"># GBP</span></span>
<span class="hljs-comment"><span class="koboSpan" id="kobo.363.1"># classic if/else form</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.364.1">if</span></span><span class="koboSpan" id="kobo.365.1"> order_total &gt; </span><span class="hljs-number"><span class="koboSpan" id="kobo.366.1">100</span></span><span class="koboSpan" id="kobo.367.1">:
    discount = </span><span class="hljs-number"><span class="koboSpan" id="kobo.368.1">25</span></span>  <span class="hljs-comment"><span class="koboSpan" id="kobo.369.1"># GBP</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.370.1">else</span></span><span class="koboSpan" id="kobo.371.1">:
    discount = </span><span class="hljs-number"><span class="koboSpan" id="kobo.372.1">0</span></span>  <span class="hljs-comment"><span class="koboSpan" id="kobo.373.1"># GBP</span></span>
<span class="hljs-built_in"><span class="koboSpan" id="kobo.374.1">print</span></span><span class="koboSpan" id="kobo.375.1">(order_total, discount)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.376.1">
     We could write:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.377.1"># ternary.py</span></span>
<span class="hljs-comment"><span class="koboSpan" id="kobo.378.1"># ternary operator</span></span><span class="koboSpan" id="kobo.379.1">
discount = </span><span class="hljs-number"><span class="koboSpan" id="kobo.380.1">25</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.381.1">if</span></span><span class="koboSpan" id="kobo.382.1"> order_total &gt; </span><span class="hljs-number"><span class="koboSpan" id="kobo.383.1">100</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.384.1">else</span></span> <span class="hljs-number"><span class="koboSpan" id="kobo.385.1">0</span></span>
<span class="hljs-built_in"><span class="koboSpan" id="kobo.386.1">print</span></span><span class="koboSpan" id="kobo.387.1">(order_total, discount)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.388.1">
     For simple cases like this, we find it convenient to be able to express that logic in one line instead of four.
    </span>
    <span class="koboSpan" id="kobo.388.2">
     Remember that, as a coder, you spend much more time reading code than writing it, so Python’s conciseness is invaluable.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.389.1">
      In some languages (like C or JavaScript), the ternary operator is even more concise.
     </span>
     <span class="koboSpan" id="kobo.389.2">
      For example, the above could be written as:
     </span>
    </p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-attribute"><span class="koboSpan" id="kobo.390.1">discount</span></span><span class="koboSpan" id="kobo.391.1"> = order_total &gt; </span><span class="hljs-number"><span class="koboSpan" id="kobo.392.1">100</span></span><span class="koboSpan" id="kobo.393.1"> ? </span><span class="hljs-number"><span class="koboSpan" id="kobo.394.1">25</span></span><span class="koboSpan" id="kobo.395.1"> : </span><span class="hljs-number"><span class="koboSpan" id="kobo.396.1">0</span></span><span class="koboSpan" id="kobo.397.1">;
</span></code></pre>
    <p class="normal">
     <span class="koboSpan" id="kobo.398.1">
      Although Python’s version is slightly more verbose, we think it more than makes up for that by being easier to read and understand.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.399.1">
     Are you clear on how the ternary operator works?
    </span>
    <span class="koboSpan" id="kobo.399.2">
     It is quite simple;
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.400.1">
      something if condition else something-else
     </span>
    </code>
    <span class="koboSpan" id="kobo.401.1">
     evaluates to something
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.402.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.403.1">
     condition evaluates to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.404.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.405.1">
     .
    </span>
    <span class="koboSpan" id="kobo.405.2">
     Otherwise, if
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.406.1">
      condition
     </span>
    </code>
    <span class="koboSpan" id="kobo.407.1">
     is
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.408.1">
      False
     </span>
    </code>
    <span class="koboSpan" id="kobo.409.1">
     , the expression evaluates to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.410.1">
      something-else
     </span>
    </code>
    <span class="koboSpan" id="kobo.411.1">
     .
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-97">
    <span class="koboSpan" id="kobo.412.1">
     Pattern matching
    </span>
   </h2>
   <p class="normal">
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.413.1">
      Structural pattern matching
     </span>
    </strong>
    <span class="koboSpan" id="kobo.414.1">
     , often just
    </span>
    <a id="_idIndexMarker300">
    </a>
    <span class="koboSpan" id="kobo.415.1">
     called
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.416.1">
      pattern matching
     </span>
    </strong>
    <span class="koboSpan" id="kobo.417.1">
     , is a relatively new feature that was
    </span>
    <a id="_idIndexMarker301">
    </a>
    <span class="koboSpan" id="kobo.418.1">
     introduced in Python 3.10 via
    </span>
    <a id="_idIndexMarker302">
    </a>
    <span class="koboSpan" id="kobo.419.1">
     PEP 634 (
    </span>
    <a href="https://peps.python.org/pep-0634">
     <span class="url">
      <span class="koboSpan" id="kobo.420.1">
       https://peps.python.org/pep-0634
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.421.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.421.2">
     It was partly inspired by the pattern matching capabilities of languages like Haskel, Erlang, Scala, Elixir, and Ruby.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.422.1">
     Simply put, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.423.1">
      match
     </span>
    </code>
    <span class="koboSpan" id="kobo.424.1">
     statement compares a value against one or more
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.425.1">
      patterns
     </span>
    </em>
    <span class="koboSpan" id="kobo.426.1">
     , and then it executes the code block associated with the first pattern that matches.
    </span>
    <span class="koboSpan" id="kobo.426.2">
     Let us see a simple example:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.427.1"># match.py</span></span><span class="koboSpan" id="kobo.428.1">
day_number = </span><span class="hljs-number"><span class="koboSpan" id="kobo.429.1">4</span></span>
<span class="code-highlight"><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.430.1">match</span></strong></span><span class="koboSpan" id="kobo.431.1"> day_number:
    </span><span class="code-highlight"><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.432.1">case</span></strong></span> <span class="hljs-number"><span class="koboSpan" id="kobo.433.1">1</span></span><span class="koboSpan" id="kobo.434.1"> | </span><span class="hljs-number"><span class="koboSpan" id="kobo.435.1">2</span></span><span class="koboSpan" id="kobo.436.1"> | </span><span class="hljs-number"><span class="koboSpan" id="kobo.437.1">3</span></span><span class="koboSpan" id="kobo.438.1"> | </span><span class="hljs-number"><span class="koboSpan" id="kobo.439.1">4</span></span><span class="koboSpan" id="kobo.440.1"> | </span><span class="hljs-number"><span class="koboSpan" id="kobo.441.1">5</span></span><span class="koboSpan" id="kobo.442.1">:
        </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.443.1">print</span></span><span class="koboSpan" id="kobo.444.1">("Weekday")
    </span><span class="code-highlight"><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.445.1">case</span></strong></span> <span class="hljs-number"><span class="koboSpan" id="kobo.446.1">6</span></span><span class="koboSpan" id="kobo.447.1">:
        </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.448.1">print</span></span><span class="koboSpan" id="kobo.449.1">("Saturday")
    </span><span class="code-highlight"><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.450.1">case</span></strong></span> <span class="hljs-number"><span class="koboSpan" id="kobo.451.1">7</span></span><span class="koboSpan" id="kobo.452.1">:
        </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.453.1">print</span></span><span class="koboSpan" id="kobo.454.1">("Sunday")
    </span><span class="code-highlight"><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.455.1">case</span></strong></span><span class="koboSpan" id="kobo.456.1"> _:
        </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.457.1">print</span></span><span class="koboSpan" id="kobo.458.1">(f"{day_number} </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.459.1">is</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.460.1">not</span></span><span class="koboSpan" id="kobo.461.1"> a valid day number")
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.462.1">
     We start by initializing
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.463.1">
      day_number
     </span>
    </code>
    <span class="koboSpan" id="kobo.464.1">
     before entering the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.465.1">
      match
     </span>
    </code>
    <span class="koboSpan" id="kobo.466.1">
     statement.
    </span>
    <span class="koboSpan" id="kobo.466.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.467.1">
      match
     </span>
    </code>
    <span class="koboSpan" id="kobo.468.1">
     statement will attempt to match the value of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.469.1">
      day_number
     </span>
    </code>
    <span class="koboSpan" id="kobo.470.1">
     against a series of patterns, each of which is introduced by
    </span>
    <a id="_idIndexMarker303">
    </a>
    <span class="koboSpan" id="kobo.471.1">
     the
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.472.1">
      case
     </span>
    </strong>
    <span class="koboSpan" id="kobo.473.1">
     keyword.
    </span>
    <span class="koboSpan" id="kobo.473.2">
     In our example, we have four patterns.
    </span>
    <span class="koboSpan" id="kobo.473.3">
     The first
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.474.1">
      1 | 2 | 3 | 4 | 5
     </span>
    </code>
    <span class="koboSpan" id="kobo.475.1">
     will match any of the values
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.476.1">
      1
     </span>
    </code>
    <span class="koboSpan" id="kobo.477.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.478.1">
      2
     </span>
    </code>
    <span class="koboSpan" id="kobo.479.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.480.1">
      3
     </span>
    </code>
    <span class="koboSpan" id="kobo.481.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.482.1">
      4
     </span>
    </code>
    <span class="koboSpan" id="kobo.483.1">
     , or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.484.1">
      5
     </span>
    </code>
    <span class="koboSpan" id="kobo.485.1">
     .
    </span>
    <span class="koboSpan" id="kobo.485.2">
     This is known as an
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.486.1">
      OR pattern
     </span>
    </strong>
    <span class="koboSpan" id="kobo.487.1">
     ; it
    </span>
    <a id="_idIndexMarker304">
    </a>
    <span class="koboSpan" id="kobo.488.1">
     consists of a number of sub-patterns separated by
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.489.1">
      |
     </span>
    </code>
    <span class="koboSpan" id="kobo.490.1">
     .
    </span>
    <span class="koboSpan" id="kobo.490.2">
     It matches when any of the sub-patterns (in this case, the literal values
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.491.1">
      1
     </span>
    </code>
    <span class="koboSpan" id="kobo.492.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.493.1">
      2
     </span>
    </code>
    <span class="koboSpan" id="kobo.494.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.495.1">
      3
     </span>
    </code>
    <span class="koboSpan" id="kobo.496.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.497.1">
      4
     </span>
    </code>
    <span class="koboSpan" id="kobo.498.1">
     , and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.499.1">
      5
     </span>
    </code>
    <span class="koboSpan" id="kobo.500.1">
     ) match.
    </span>
    <span class="koboSpan" id="kobo.500.2">
     The second and third patterns in our example just consist of the integer literals
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.501.1">
      6
     </span>
    </code>
    <span class="koboSpan" id="kobo.502.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.503.1">
      7
     </span>
    </code>
    <span class="koboSpan" id="kobo.504.1">
     , respectively.
    </span>
    <span class="koboSpan" id="kobo.504.2">
     The final pattern,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.505.1">
      _
     </span>
    </code>
    <span class="koboSpan" id="kobo.506.1">
     , is a
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.507.1">
      wildcard pattern
     </span>
    </strong>
    <span class="koboSpan" id="kobo.508.1">
     ; it is a catch-all
    </span>
    <a id="_idIndexMarker305">
    </a>
    <span class="koboSpan" id="kobo.509.1">
     that matches any value.
    </span>
    <span class="koboSpan" id="kobo.509.2">
     A
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.510.1">
      match
     </span>
    </code>
    <span class="koboSpan" id="kobo.511.1">
     statement can have at most one catch-all pattern, and if one is present, it must be the last pattern.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.512.1">
     The body of the first case block whose pattern matches will be executed.
    </span>
    <span class="koboSpan" id="kobo.512.2">
     Afterward, execution resumes below the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.513.1">
      match
     </span>
    </code>
    <span class="koboSpan" id="kobo.514.1">
     statement without evaluating any of the remaining patterns.
    </span>
    <span class="koboSpan" id="kobo.514.2">
     If none of the patterns match, execution resumes below the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.515.1">
      match
     </span>
    </code>
    <span class="koboSpan" id="kobo.516.1">
     statement without executing any of the case bodies.
    </span>
    <span class="koboSpan" id="kobo.516.2">
     In our example, the first pattern matches, so
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.517.1">
      print("Weekday")
     </span>
    </code>
    <span class="koboSpan" id="kobo.518.1">
     is executed.
    </span>
    <span class="koboSpan" id="kobo.518.2">
     Take some time to experiment with this example.
    </span>
    <span class="koboSpan" id="kobo.518.3">
     Try changing the value of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.519.1">
      day_number
     </span>
    </code>
    <span class="koboSpan" id="kobo.520.1">
     and see what happens when you run it.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.521.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.522.1">
      match
     </span>
    </code>
    <span class="koboSpan" id="kobo.523.1">
     statement
    </span>
    <a id="_idIndexMarker306">
    </a>
    <span class="koboSpan" id="kobo.524.1">
     resembles the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.525.1">
      switch
     </span>
    </code>
    <span class="koboSpan" id="kobo.526.1">
     /
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.527.1">
      case
     </span>
    </code>
    <span class="koboSpan" id="kobo.528.1">
     statements
    </span>
    <a id="_idIndexMarker307">
    </a>
    <span class="koboSpan" id="kobo.529.1">
     of languages like C++ and JavaScript.
    </span>
    <span class="koboSpan" id="kobo.529.2">
     However, it is much more powerful than that.
    </span>
    <span class="koboSpan" id="kobo.529.3">
     The variety of different kinds of patterns available and the ability to compose patterns allow you to do much more than a simple C++
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.530.1">
      switch
     </span>
    </code>
    <span class="koboSpan" id="kobo.531.1">
     statement.
    </span>
    <span class="koboSpan" id="kobo.531.2">
     For example, Python allows you to match sequences, dictionaries, or even custom classes.
    </span>
    <span class="koboSpan" id="kobo.531.3">
     You can also capture and assign values to names in patterns.
    </span>
    <span class="koboSpan" id="kobo.531.4">
     We do not have space here to cover everything you can do with pattern matching, but we encourage you to study the
    </span>
    <a id="_idIndexMarker308">
    </a>
    <span class="koboSpan" id="kobo.532.1">
     tutorial in
    </span>
    <a id="_idIndexMarker309">
    </a>
    <span class="koboSpan" id="kobo.533.1">
     PEP 636 (
    </span>
    <a href="https://peps.python.org/pep-0636">
     <span class="url">
      <span class="koboSpan" id="kobo.534.1">
       https://peps.python.org/pep-0636
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.535.1">
     ) to learn more.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.536.1">
     Now that you know everything about controlling the path of the code, let us move on to the next subject:
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.537.1">
      looping
     </span>
    </em>
    <span class="koboSpan" id="kobo.538.1">
     .
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-98">
    <span class="koboSpan" id="kobo.539.1">
     Looping
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.540.1">
     If you have any experience with looping in other programming languages, you will find Python’s way of looping a bit different.
    </span>
    <span class="koboSpan" id="kobo.540.2">
     First of all, what is looping?
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.541.1">
      Looping
     </span>
    </strong>
    <span class="koboSpan" id="kobo.542.1">
     means being able to repeat the execution of a code block
    </span>
    <a id="_idIndexMarker310">
    </a>
    <span class="koboSpan" id="kobo.543.1">
     more than once, according to the loop parameters given.
    </span>
    <span class="koboSpan" id="kobo.543.2">
     There are different looping constructs that serve different purposes, and Python has distilled all of them down to just two, which you can use to achieve everything you need.
    </span>
    <span class="koboSpan" id="kobo.543.3">
     These are the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.544.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.545.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.546.1">
      while
     </span>
    </code>
    <span class="koboSpan" id="kobo.547.1">
     statements.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.548.1">
     Although it is technically possible to use either of them for any task that requires looping, they do serve different purposes.
    </span>
    <span class="koboSpan" id="kobo.548.2">
     We will explore this difference thoroughly in this chapter.
    </span>
    <span class="koboSpan" id="kobo.548.3">
     By the end of it, you will know when to use a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.549.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.550.1">
     loop and when to use a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.551.1">
      while
     </span>
    </code>
    <span class="koboSpan" id="kobo.552.1">
     loop.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-99">
    <span class="koboSpan" id="kobo.553.1">
     The for loop
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.554.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.555.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.556.1">
     loop is
    </span>
    <a id="_idIndexMarker311">
    </a>
    <span class="koboSpan" id="kobo.557.1">
     used when
    </span>
    <a id="_idIndexMarker312">
    </a>
    <span class="koboSpan" id="kobo.558.1">
     looping over a sequence, such as a list, tuple, or collection of objects.
    </span>
    <span class="koboSpan" id="kobo.558.2">
     Let us start with a simple example and expand on the concept to see what the Python syntax allows us to do:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.559.1"># simple.for.py</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.560.1">for</span></span><span class="koboSpan" id="kobo.561.1"> number </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.562.1">in</span></span><span class="koboSpan" id="kobo.563.1"> [</span><span class="hljs-number"><span class="koboSpan" id="kobo.564.1">0</span></span><span class="koboSpan" id="kobo.565.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.566.1">1</span></span><span class="koboSpan" id="kobo.567.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.568.1">2</span></span><span class="koboSpan" id="kobo.569.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.570.1">3</span></span><span class="koboSpan" id="kobo.571.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.572.1">4</span></span><span class="koboSpan" id="kobo.573.1">]:
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.574.1">print</span></span><span class="koboSpan" id="kobo.575.1">(number)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.576.1">
     This simple snippet of code, when executed, prints all numbers from
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.577.1">
      0
     </span>
    </code>
    <span class="koboSpan" id="kobo.578.1">
     to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.579.1">
      4
     </span>
    </code>
    <span class="koboSpan" id="kobo.580.1">
     .
    </span>
    <span class="koboSpan" id="kobo.580.2">
     The body of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.581.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.582.1">
     loop (the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.583.1">
      print()
     </span>
    </code>
    <span class="koboSpan" id="kobo.584.1">
     line) is executed once for each value in the list
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.585.1">
      [0, 1, 2, 3, 4]
     </span>
    </code>
    <span class="koboSpan" id="kobo.586.1">
     .
    </span>
    <span class="koboSpan" id="kobo.586.2">
     In the first iteration,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.587.1">
      number
     </span>
    </code>
    <span class="koboSpan" id="kobo.588.1">
     is assigned the first value from the sequence; in the second iteration,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.589.1">
      number
     </span>
    </code>
    <span class="koboSpan" id="kobo.590.1">
     takes the second value; and so on.
    </span>
    <span class="koboSpan" id="kobo.590.2">
     After the last item in the sequence, the
    </span>
    <a id="_idIndexMarker313">
    </a>
    <span class="koboSpan" id="kobo.591.1">
     loop terminates, and
    </span>
    <a id="_idIndexMarker314">
    </a>
    <span class="koboSpan" id="kobo.592.1">
     execution resumes normally with the code after the loop.
    </span>
   </p>
   <h3 class="heading-3" id="_idParaDest-100">
    <span class="koboSpan" id="kobo.593.1">
     Iterating over a range
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.594.1">
     We often need to
    </span>
    <a id="_idIndexMarker315">
    </a>
    <span class="koboSpan" id="kobo.595.1">
     iterate over a range of numbers, and it would be quite tedious to have to do so by hard coding the list somewhere.
    </span>
    <span class="koboSpan" id="kobo.595.2">
     In such cases, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.596.1">
      range()
     </span>
    </code>
    <span class="koboSpan" id="kobo.597.1">
     function comes to the rescue.
    </span>
    <span class="koboSpan" id="kobo.597.2">
     Let us see the equivalent of the previous snippet of code:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.598.1"># simple.for.py</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.599.1">for</span></span><span class="koboSpan" id="kobo.600.1"> number </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.601.1">in</span></span> <span class="hljs-built_in"><span class="koboSpan" id="kobo.602.1">range</span></span><span class="koboSpan" id="kobo.603.1">(</span><span class="hljs-number"><span class="koboSpan" id="kobo.604.1">5</span></span><span class="koboSpan" id="kobo.605.1">):
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.606.1">print</span></span><span class="koboSpan" id="kobo.607.1">(number)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.608.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.609.1">
      range()
     </span>
    </code>
    <span class="koboSpan" id="kobo.610.1">
     function is used extensively to create sequences in Python programs.
    </span>
    <span class="koboSpan" id="kobo.610.2">
     You can call it with a single value, which acts as
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.611.1">
      stop
     </span>
    </code>
    <span class="koboSpan" id="kobo.612.1">
     (counting will start from
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.613.1">
      0
     </span>
    </code>
    <span class="koboSpan" id="kobo.614.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.614.2">
     You can also pass two values (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.615.1">
      start
     </span>
    </code>
    <span class="koboSpan" id="kobo.616.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.617.1">
      stop
     </span>
    </code>
    <span class="koboSpan" id="kobo.618.1">
     ), or even three (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.619.1">
      start
     </span>
    </code>
    <span class="koboSpan" id="kobo.620.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.621.1">
      stop
     </span>
    </code>
    <span class="koboSpan" id="kobo.622.1">
     , and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.623.1">
      step
     </span>
    </code>
    <span class="koboSpan" id="kobo.624.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.624.2">
     Check out the following example:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.625.1">&gt;&gt;&gt; list(range(10))  # one value: from 0 to value (excluded)
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
&gt;&gt;&gt; list(range(3, 8))  # two values: from start to stop (excluded)
[3, 4, 5, 6, 7]
&gt;&gt;&gt; list(range(-10, 10, 4))  # three values: step is added
[-10, -6, -2, 2, 6]
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.626.1">
     For the moment, ignore that we need to wrap
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.627.1">
      range(...)
     </span>
    </code>
    <span class="koboSpan" id="kobo.628.1">
     within a list.
    </span>
    <span class="koboSpan" id="kobo.628.2">
     We will explain the reasons for this in
    </span>
    <em class="chapterRef">
     <span class="koboSpan" id="kobo.629.1">
      Chapter 5
     </span>
    </em>
    <span class="koboSpan" id="kobo.630.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.631.1">
      Comprehensions and Generators
     </span>
    </em>
    <span class="koboSpan" id="kobo.632.1">
     .
    </span>
    <span class="koboSpan" id="kobo.632.2">
     You can see that the behavior is analogous to slicing (which we described in the previous chapter):
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.633.1">
      start
     </span>
    </code>
    <span class="koboSpan" id="kobo.634.1">
     is included,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.635.1">
      stop
     </span>
    </code>
    <span class="koboSpan" id="kobo.636.1">
     is excluded, and you can add an optional
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.637.1">
      step
     </span>
    </code>
    <span class="koboSpan" id="kobo.638.1">
     parameter, which by default is
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.639.1">
      1
     </span>
    </code>
    <span class="koboSpan" id="kobo.640.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.641.1">
     Try modifying the parameters of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.642.1">
      range()
     </span>
    </code>
    <span class="koboSpan" id="kobo.643.1">
     call in our
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.644.1">
      simple.for.py
     </span>
    </code>
    <span class="koboSpan" id="kobo.645.1">
     code and see what it prints.
    </span>
   </p>
   <h3 class="heading-3" id="_idParaDest-101">
    <span class="koboSpan" id="kobo.646.1">
     Iterating over a sequence
    </span>
   </h3>
   <p class="normal">
    <span class="koboSpan" id="kobo.647.1">
     We now have all the
    </span>
    <a id="_idIndexMarker316">
    </a>
    <span class="koboSpan" id="kobo.648.1">
     tools to iterate over a sequence, so let us build on that example:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.649.1"># simple.for.2.py</span></span><span class="koboSpan" id="kobo.650.1">
surnames = ["Rivest", "Shamir", "Adleman"]
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.651.1">for</span></span><span class="koboSpan" id="kobo.652.1"> position </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.653.1">in</span></span> <span class="hljs-built_in"><span class="koboSpan" id="kobo.654.1">range</span></span><span class="koboSpan" id="kobo.655.1">(</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.656.1">len</span></span><span class="koboSpan" id="kobo.657.1">(surnames)):
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.658.1">print</span></span><span class="koboSpan" id="kobo.659.1">(position, surnames[position])
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.660.1">
     The preceding code adds a little bit of complexity to the game.
    </span>
    <span class="koboSpan" id="kobo.660.2">
     Execution will show this result:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.661.1">$ python simple.for.2.py
0 Rivest
1 Shamir
2 Adleman
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.662.1">
     Let us use the
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.663.1">
      inside-out
     </span>
    </strong>
    <span class="koboSpan" id="kobo.664.1">
     technique to break it down.
    </span>
    <span class="koboSpan" id="kobo.664.2">
     We start from the innermost part of what we are trying to understand, and we expand outward.
    </span>
    <span class="koboSpan" id="kobo.664.3">
     So
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.665.1">
      len(surnames)
     </span>
    </code>
    <span class="koboSpan" id="kobo.666.1">
     is the length of the surnames list:
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.667.1">
      3
     </span>
    </code>
    <span class="koboSpan" id="kobo.668.1">
     .
    </span>
    <span class="koboSpan" id="kobo.668.2">
     Therefore,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.669.1">
      range(len(surnames))
     </span>
    </code>
    <span class="koboSpan" id="kobo.670.1">
     is actually transformed into
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.671.1">
      range(3)
     </span>
    </code>
    <span class="koboSpan" id="kobo.672.1">
     .
    </span>
    <span class="koboSpan" id="kobo.672.2">
     This gives us the range
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.673.1">
      [0, 3)
     </span>
    </code>
    <span class="koboSpan" id="kobo.674.1">
     , which is the sequence
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.675.1">
      (0, 1, 2)
     </span>
    </code>
    <span class="koboSpan" id="kobo.676.1">
     .
    </span>
    <span class="koboSpan" id="kobo.676.2">
     This means that the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.677.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.678.1">
     loop will run for three iterations.
    </span>
    <span class="koboSpan" id="kobo.678.2">
     In the first one,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.679.1">
      position
     </span>
    </code>
    <span class="koboSpan" id="kobo.680.1">
     will take the value
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.681.1">
      0
     </span>
    </code>
    <span class="koboSpan" id="kobo.682.1">
     , while in the second one, it will take the value
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.683.1">
      1
     </span>
    </code>
    <span class="koboSpan" id="kobo.684.1">
     , and the value
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.685.1">
      2
     </span>
    </code>
    <span class="koboSpan" id="kobo.686.1">
     in the third and final iteration.
    </span>
    <span class="koboSpan" id="kobo.686.2">
     Here,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.687.1">
      (0, 1, 2)
     </span>
    </code>
    <span class="koboSpan" id="kobo.688.1">
     represents the possible indexing positions for the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.689.1">
      surnames
     </span>
    </code>
    <span class="koboSpan" id="kobo.690.1">
     list.
    </span>
    <span class="koboSpan" id="kobo.690.2">
     At position
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.691.1">
      0
     </span>
    </code>
    <span class="koboSpan" id="kobo.692.1">
     , we find
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.693.1">
      "Rivest"
     </span>
    </code>
    <span class="koboSpan" id="kobo.694.1">
     ; at position
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.695.1">
      1
     </span>
    </code>
    <span class="koboSpan" id="kobo.696.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.697.1">
      "Shamir"
     </span>
    </code>
    <span class="koboSpan" id="kobo.698.1">
     ; and at position
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.699.1">
      2
     </span>
    </code>
    <span class="koboSpan" id="kobo.700.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.701.1">
      "Adleman"
     </span>
    </code>
    <span class="koboSpan" id="kobo.702.1">
     .
    </span>
    <span class="koboSpan" id="kobo.702.2">
     If you are curious about what these three men created together, change
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.703.1">
      print(position, surnames[position])
     </span>
    </code>
    <span class="koboSpan" id="kobo.704.1">
     to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.705.1">
      print(surnames[position][0], end="")
     </span>
    </code>
    <span class="koboSpan" id="kobo.706.1">
     , add a final
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.707.1">
      print()
     </span>
    </code>
    <span class="koboSpan" id="kobo.708.1">
     outside of the loop, and run the code again.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.709.1">
     Now, this style of looping is much closer to languages such as Java or C.
    </span>
    <span class="koboSpan" id="kobo.709.2">
     In Python, it is quite rare to see code like this.
    </span>
    <span class="koboSpan" id="kobo.709.3">
     You can just iterate over any sequence or collection, so there is no need to get the list of positions and retrieve elements from a sequence at each iteration.
    </span>
    <span class="koboSpan" id="kobo.709.4">
     Let us change the example into a more Pythonic form:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.710.1"># simple.for.3.py</span></span><span class="koboSpan" id="kobo.711.1">
surnames = ["Rivest", "Shamir", "Adleman"]
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.712.1">for</span></span><span class="koboSpan" id="kobo.713.1"> surname </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.714.1">in</span></span><span class="koboSpan" id="kobo.715.1"> surnames:
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.716.1">print</span></span><span class="koboSpan" id="kobo.717.1">(surname)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.718.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.719.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.720.1">
     loop can iterate over the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.721.1">
      surnames
     </span>
    </code>
    <span class="koboSpan" id="kobo.722.1">
     list, and it gives back each element in order at each iteration.
    </span>
    <span class="koboSpan" id="kobo.722.2">
     Running this code will print the three surnames, one at a time, which is much easier to read.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.723.1">
     However, what if you wanted to print the position as well?
    </span>
    <span class="koboSpan" id="kobo.723.2">
     Or what if you needed it?
    </span>
    <span class="koboSpan" id="kobo.723.3">
     Should you go back to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.724.1">
      range(len(...))
     </span>
    </code>
    <span class="koboSpan" id="kobo.725.1">
     form?
    </span>
    <span class="koboSpan" id="kobo.725.2">
     No.
    </span>
    <span class="koboSpan" id="kobo.725.3">
     You can use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.726.1">
      enumerate()
     </span>
    </code>
    <span class="koboSpan" id="kobo.727.1">
     built-in function, like this:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.728.1"># simple.for.4.py</span></span><span class="koboSpan" id="kobo.729.1">
surnames = ["Rivest", "Shamir", "Adleman"]
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.730.1">for</span></span><span class="koboSpan" id="kobo.731.1"> position, surname </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.732.1">in</span></span> <span class="hljs-built_in"><span class="koboSpan" id="kobo.733.1">enumerate</span></span><span class="koboSpan" id="kobo.734.1">(surnames):
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.735.1">print</span></span><span class="koboSpan" id="kobo.736.1">(position, surname)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.737.1">
     This code is quite interesting as well.
    </span>
    <span class="koboSpan" id="kobo.737.2">
     Notice that
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.738.1">
      enumerate()
     </span>
    </code>
    <span class="koboSpan" id="kobo.739.1">
     gives back a two-tuple
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.740.1">
      (position, surname)
     </span>
    </code>
    <span class="koboSpan" id="kobo.741.1">
     at each iteration, but still, it is more readable (and more efficient) than the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.742.1">
      range(len(...))
     </span>
    </code>
    <span class="koboSpan" id="kobo.743.1">
     example.
    </span>
    <span class="koboSpan" id="kobo.743.2">
     You can call
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.744.1">
      enumerate()
     </span>
    </code>
    <span class="koboSpan" id="kobo.745.1">
     with a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.746.1">
      start
     </span>
    </code>
    <span class="koboSpan" id="kobo.747.1">
     parameter, such as
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.748.1">
      enumerate(iterable, start)
     </span>
    </code>
    <span class="koboSpan" id="kobo.749.1">
     , and it will start from
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.750.1">
      start
     </span>
    </code>
    <span class="koboSpan" id="kobo.751.1">
     , rather than
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.752.1">
      0
     </span>
    </code>
    <span class="koboSpan" id="kobo.753.1">
     .
    </span>
    <span class="koboSpan" id="kobo.753.2">
     Just another little thing that shows you how much thought has been given to designing Python so that it makes your life easier.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.754.1">
     You can use a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.755.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.756.1">
     loop to
    </span>
    <a id="_idIndexMarker317">
    </a>
    <span class="koboSpan" id="kobo.757.1">
     iterate over lists, tuples, and, in general, anything
    </span>
    <a id="_idIndexMarker318">
    </a>
    <span class="koboSpan" id="kobo.758.1">
     that Python calls
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.759.1">
      iterable
     </span>
    </strong>
    <span class="koboSpan" id="kobo.760.1">
     .
    </span>
    <span class="koboSpan" id="kobo.760.2">
     This is an important concept, so let us discuss it in more detail.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-102">
    <span class="koboSpan" id="kobo.761.1">
     Iterators and iterables
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.762.1">
     According
    </span>
    <a id="_idIndexMarker319">
    </a>
    <span class="koboSpan" id="kobo.763.1">
     to the Python
    </span>
    <a id="_idIndexMarker320">
    </a>
    <span class="koboSpan" id="kobo.764.1">
     documentation (
    </span>
    <a href="https://docs.python.org/3.12/glossary.html#term-iterable">
     <span class="url">
      <span class="koboSpan" id="kobo.765.1">
       https://docs.python.org/3.12/glossary.html#term-iterable
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.766.1">
     ), an
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.767.1">
      iterable
     </span>
    </strong>
    <span class="koboSpan" id="kobo.768.1">
     is:
    </span>
   </p>
   <blockquote class="packt_quote">
    <p class="quote">
     <span class="koboSpan" id="kobo.769.1">
      An object capable of returning its members one at a time.
     </span>
     <span class="koboSpan" id="kobo.769.2">
      Examples of iterables include all sequence types (such as list, str, and tuple) and some non-sequence types like dict, file objects.
     </span>
    </p>
   </blockquote>
   <p class="normal">
    <span class="koboSpan" id="kobo.770.1">
     Simply put, what happens when you write
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.771.1">
      for k in sequence: ...
     </span>
     <span class="koboSpan" id="kobo.771.2">
      body ...
     </span>
    </code>
    <span class="koboSpan" id="kobo.772.1">
     is that the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.773.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.774.1">
     loop asks
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.775.1">
      sequence
     </span>
    </code>
    <span class="koboSpan" id="kobo.776.1">
     for the next element, gets something back, calls that something
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.777.1">
      k
     </span>
    </code>
    <span class="koboSpan" id="kobo.778.1">
     , and then executes its body.
    </span>
    <span class="koboSpan" id="kobo.778.2">
     Then, once again, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.779.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.780.1">
     loop asks
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.781.1">
      sequence
     </span>
    </code>
    <span class="koboSpan" id="kobo.782.1">
     for the next element, calls it
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.783.1">
      k
     </span>
    </code>
    <span class="koboSpan" id="kobo.784.1">
     again, executes the body again, and so on, until the sequence is exhausted.
    </span>
    <span class="koboSpan" id="kobo.784.2">
     Empty sequences will result in zero executions of the body.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.785.1">
     Some data structures, when iterated over, produce their elements in order, such as lists, tuples, dictionaries, and strings, while others, such as sets, do not.
    </span>
    <span class="koboSpan" id="kobo.785.2">
     Python gives us the ability to iterate over iterables, using a type of object
    </span>
    <a id="_idIndexMarker321">
    </a>
    <span class="koboSpan" id="kobo.786.1">
     called an
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.787.1">
      iterator
     </span>
    </strong>
    <span class="koboSpan" id="kobo.788.1">
     , which is an object that represents a stream of data.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.789.1">
     In practice, the whole iterable/iterator mechanism is hidden behind the code.
    </span>
    <span class="koboSpan" id="kobo.789.2">
     Unless you need to code your own iterable or iterator for some reason, you will not have to worry about this too much.
    </span>
    <span class="koboSpan" id="kobo.789.3">
     However, it is important to understand how Python handles this key aspect of control flow because it shapes the way in which we write code.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.790.1">
     We are going to cover iteration in more detail in
    </span>
    <em class="chapterRef">
     <span class="koboSpan" id="kobo.791.1">
      Chapter 5
     </span>
    </em>
    <span class="koboSpan" id="kobo.792.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.793.1">
      Comprehensions and Generators
     </span>
    </em>
    <span class="koboSpan" id="kobo.794.1">
     , and
    </span>
    <em class="chapterRef">
     <span class="koboSpan" id="kobo.795.1">
      Chapter 6
     </span>
    </em>
    <span class="koboSpan" id="kobo.796.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.797.1">
      OOP, Decorators, and Iterators
     </span>
    </em>
    <span class="koboSpan" id="kobo.798.1">
     .
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-103">
    <span class="koboSpan" id="kobo.799.1">
     Iterating over multiple sequences
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.800.1">
     Let us see another
    </span>
    <a id="_idIndexMarker322">
    </a>
    <span class="koboSpan" id="kobo.801.1">
     example of how to iterate over two sequences of the same length and work on their respective elements in pairs.
    </span>
    <span class="koboSpan" id="kobo.801.2">
     Say we have a list of people’s names and a second list of numbers representing their ages.
    </span>
    <span class="koboSpan" id="kobo.801.3">
     We want to print the pair person/age on one line for each of them.
    </span>
    <span class="koboSpan" id="kobo.801.4">
     Let us start with an example, which we will refine gradually:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.802.1"># multiple.sequences.py</span></span><span class="koboSpan" id="kobo.803.1">
people = ["Nick", "Rick", "Roger", "Syd"]
ages = [</span><span class="hljs-number"><span class="koboSpan" id="kobo.804.1">23</span></span><span class="koboSpan" id="kobo.805.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.806.1">24</span></span><span class="koboSpan" id="kobo.807.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.808.1">23</span></span><span class="koboSpan" id="kobo.809.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.810.1">21</span></span><span class="koboSpan" id="kobo.811.1">]
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.812.1">for</span></span><span class="koboSpan" id="kobo.813.1"> position </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.814.1">in</span></span> <span class="hljs-built_in"><span class="koboSpan" id="kobo.815.1">range</span></span><span class="koboSpan" id="kobo.816.1">(</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.817.1">len</span></span><span class="koboSpan" id="kobo.818.1">(people)):
    person = people[position]
    age = ages[position]
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.819.1">print</span></span><span class="koboSpan" id="kobo.820.1">(person, age)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.821.1">
     By now, this code should be straightforward.
    </span>
    <span class="koboSpan" id="kobo.821.2">
     We iterate over the list of positions (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.822.1">
      0
     </span>
    </code>
    <span class="koboSpan" id="kobo.823.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.824.1">
      1
     </span>
    </code>
    <span class="koboSpan" id="kobo.825.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.826.1">
      2
     </span>
    </code>
    <span class="koboSpan" id="kobo.827.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.828.1">
      3
     </span>
    </code>
    <span class="koboSpan" id="kobo.829.1">
     ) because we want to retrieve elements from two different lists.
    </span>
    <span class="koboSpan" id="kobo.829.2">
     Executing it, we get the following:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.830.1">$ python multiple.sequences.py
Nick 23
Rick 24
Roger 23
Syd 21
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.831.1">
     The code works, but it is not very Pythonic.
    </span>
    <span class="koboSpan" id="kobo.831.2">
     It is cumbersome to have to get the length of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.832.1">
      people
     </span>
    </code>
    <span class="koboSpan" id="kobo.833.1">
     , construct a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.834.1">
      range
     </span>
    </code>
    <span class="koboSpan" id="kobo.835.1">
     , and then iterate over that.
    </span>
    <span class="koboSpan" id="kobo.835.2">
     For some data structures, it may also be expensive to retrieve items by their position.
    </span>
    <span class="koboSpan" id="kobo.835.3">
     It would be better if we could iterate over the sequences directly, as we do for a single sequence.
    </span>
    <span class="koboSpan" id="kobo.835.4">
     Let us try to improve it by using
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.836.1">
      enumerate()
     </span>
    </code>
    <span class="koboSpan" id="kobo.837.1">
     :
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.838.1"># multiple.sequences.enumerate.py</span></span><span class="koboSpan" id="kobo.839.1">
people = ["Nick", "Rick", "Roger", "Syd"]
ages = [</span><span class="hljs-number"><span class="koboSpan" id="kobo.840.1">23</span></span><span class="koboSpan" id="kobo.841.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.842.1">24</span></span><span class="koboSpan" id="kobo.843.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.844.1">23</span></span><span class="koboSpan" id="kobo.845.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.846.1">21</span></span><span class="koboSpan" id="kobo.847.1">]
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.848.1">for</span></span><span class="koboSpan" id="kobo.849.1"> position, person </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.850.1">in</span></span> <span class="hljs-built_in"><span class="koboSpan" id="kobo.851.1">enumerate</span></span><span class="koboSpan" id="kobo.852.1">(people):
    age = ages[position]
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.853.1">print</span></span><span class="koboSpan" id="kobo.854.1">(person, age)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.855.1">
     That is better, but still not perfect.
    </span>
    <span class="koboSpan" id="kobo.855.2">
     We are iterating properly on
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.856.1">
      people
     </span>
    </code>
    <span class="koboSpan" id="kobo.857.1">
     , but we are still fetching
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.858.1">
      age
     </span>
    </code>
    <span class="koboSpan" id="kobo.859.1">
     using positional
    </span>
    <a id="_idIndexMarker323">
    </a>
    <span class="koboSpan" id="kobo.860.1">
     indexing, which we want to lose as well.
    </span>
    <span class="koboSpan" id="kobo.860.2">
     We can achieve that by using the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.861.1">
      zip()
     </span>
    </code>
    <span class="koboSpan" id="kobo.862.1">
     function, which we encountered in the previous chapter.
    </span>
    <span class="koboSpan" id="kobo.862.2">
     Let us use it:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.863.1"># multiple.sequences.zip.py</span></span><span class="koboSpan" id="kobo.864.1">
people = ["Nick", "Rick", "Roger", "Syd"]
ages = [</span><span class="hljs-number"><span class="koboSpan" id="kobo.865.1">23</span></span><span class="koboSpan" id="kobo.866.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.867.1">24</span></span><span class="koboSpan" id="kobo.868.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.869.1">23</span></span><span class="koboSpan" id="kobo.870.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.871.1">21</span></span><span class="koboSpan" id="kobo.872.1">]
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.873.1">for</span></span><span class="koboSpan" id="kobo.874.1"> person, age </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.875.1">in</span></span> <span class="hljs-built_in"><span class="koboSpan" id="kobo.876.1">zip</span></span><span class="koboSpan" id="kobo.877.1">(people, ages):
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.878.1">print</span></span><span class="koboSpan" id="kobo.879.1">(person, age)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.880.1">
     That is much more elegant than the original version.
    </span>
    <span class="koboSpan" id="kobo.880.2">
     When the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.881.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.882.1">
     loop asks
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.883.1">
      zip(sequenceA, sequenceB)
     </span>
    </code>
    <span class="koboSpan" id="kobo.884.1">
     for the next element, it gets back a tuple, which is unpacked into
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.885.1">
      person
     </span>
    </code>
    <span class="koboSpan" id="kobo.886.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.887.1">
      age
     </span>
    </code>
    <span class="koboSpan" id="kobo.888.1">
     .
    </span>
    <span class="koboSpan" id="kobo.888.2">
     The tuple will have as many elements as the number of sequences we feed to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.889.1">
      zip()
     </span>
    </code>
    <span class="koboSpan" id="kobo.890.1">
     function.
    </span>
    <span class="koboSpan" id="kobo.890.2">
     Let us expand a little on the previous example:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.891.1"># multiple.sequences.unpack.py</span></span><span class="koboSpan" id="kobo.892.1">
people = ["Nick", "Rick", "Roger", "Syd"]
ages = [</span><span class="hljs-number"><span class="koboSpan" id="kobo.893.1">23</span></span><span class="koboSpan" id="kobo.894.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.895.1">24</span></span><span class="koboSpan" id="kobo.896.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.897.1">23</span></span><span class="koboSpan" id="kobo.898.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.899.1">21</span></span><span class="koboSpan" id="kobo.900.1">]
instruments = ["Drums", "Keyboards", "Bass", "Guitar"]
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.901.1">for</span></span><span class="koboSpan" id="kobo.902.1"> person, age, instrument </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.903.1">in</span></span> <span class="hljs-built_in"><span class="koboSpan" id="kobo.904.1">zip</span></span><span class="koboSpan" id="kobo.905.1">(people, ages, instruments):
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.906.1">print</span></span><span class="koboSpan" id="kobo.907.1">(person, age, instrument)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.908.1">
     In the preceding code, we added the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.909.1">
      instruments
     </span>
    </code>
    <span class="koboSpan" id="kobo.910.1">
     list.
    </span>
    <span class="koboSpan" id="kobo.910.2">
     Now that we feed three sequences to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.911.1">
      zip()
     </span>
    </code>
    <span class="koboSpan" id="kobo.912.1">
     function, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.913.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.914.1">
     loop gets back a
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.915.1">
      three-tuple
     </span>
    </em>
    <span class="koboSpan" id="kobo.916.1">
     at each iteration.
    </span>
    <span class="koboSpan" id="kobo.916.2">
     The elements of the tuple are unpacked and assigned to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.917.1">
      person
     </span>
    </code>
    <span class="koboSpan" id="kobo.918.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.919.1">
      age
     </span>
    </code>
    <span class="koboSpan" id="kobo.920.1">
     , and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.921.1">
      instrument
     </span>
    </code>
    <span class="koboSpan" id="kobo.922.1">
     .
    </span>
    <span class="koboSpan" id="kobo.922.2">
     Notice that the position of the elements in the tuple respects the position of the sequences in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.923.1">
      zip()
     </span>
    </code>
    <span class="koboSpan" id="kobo.924.1">
     call.
    </span>
    <span class="koboSpan" id="kobo.924.2">
     Executing the code will yield the following result:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.925.1">$ python multiple.sequences.unpack.py
Nick 23 Drums
Rick 24 Keyboards
Roger 23 Bass
Syd 21 Guitar
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.926.1">
     Note that it is not necessary to unpack the tuples when iterating over multiple sequences like this.
    </span>
    <span class="koboSpan" id="kobo.926.2">
     You may need to operate on the tuple as a whole within the body of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.927.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.928.1">
     loop.
    </span>
    <span class="koboSpan" id="kobo.928.2">
     It is, of course, perfectly possible to do so:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.929.1"># multiple.sequences.tuple.py</span></span><span class="koboSpan" id="kobo.930.1">
people = ["Nick", "Rick", "Roger", "Syd"]
ages = [</span><span class="hljs-number"><span class="koboSpan" id="kobo.931.1">23</span></span><span class="koboSpan" id="kobo.932.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.933.1">24</span></span><span class="koboSpan" id="kobo.934.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.935.1">23</span></span><span class="koboSpan" id="kobo.936.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.937.1">21</span></span><span class="koboSpan" id="kobo.938.1">]
instruments = ["Drums", "Keyboards", "Bass", "Guitar"]
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.939.1">for</span></span><span class="koboSpan" id="kobo.940.1"> data </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.941.1">in</span></span> <span class="hljs-built_in"><span class="koboSpan" id="kobo.942.1">zip</span></span><span class="koboSpan" id="kobo.943.1">(people, ages, instruments):
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.944.1">print</span></span><span class="koboSpan" id="kobo.945.1">(data)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.946.1">
     This is almost identical
    </span>
    <a id="_idIndexMarker324">
    </a>
    <span class="koboSpan" id="kobo.947.1">
     to the previous example.
    </span>
    <span class="koboSpan" id="kobo.947.2">
     The difference is that instead of unpacking the tuple we get from
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.948.1">
      zip(...)
     </span>
    </code>
    <span class="koboSpan" id="kobo.949.1">
     , we assign the entire tuple to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.950.1">
      data
     </span>
    </code>
    <span class="koboSpan" id="kobo.951.1">
     .
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-104">
    <span class="koboSpan" id="kobo.952.1">
     The while loop
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.953.1">
     In the preceding pages, we
    </span>
    <a id="_idIndexMarker325">
    </a>
    <span class="koboSpan" id="kobo.954.1">
     saw the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.955.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.956.1">
     loop in action.
    </span>
    <span class="koboSpan" id="kobo.956.2">
     It is useful when you need to loop over
    </span>
    <a id="_idIndexMarker326">
    </a>
    <span class="koboSpan" id="kobo.957.1">
     a sequence or a collection.
    </span>
    <span class="koboSpan" id="kobo.957.2">
     The key point to keep in mind when you need to decide which looping construct to use is that the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.958.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.959.1">
     loop is best suited in cases where you have to iterate over the elements of a container object or other iterable object.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.960.1">
     However, there are other cases when you just need to loop until some condition is satisfied, or even loop indefinitely until the application is stopped.
    </span>
    <span class="koboSpan" id="kobo.960.2">
     In such cases, we do not have something to iterate on, so the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.961.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.962.1">
     loop would be a poor choice.
    </span>
    <span class="koboSpan" id="kobo.962.2">
     For situations like this, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.963.1">
      while
     </span>
    </code>
    <span class="koboSpan" id="kobo.964.1">
     loop is more appropriate.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.965.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.966.1">
      while
     </span>
    </code>
    <span class="koboSpan" id="kobo.967.1">
     loop is similar to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.968.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.969.1">
     loop in that both repeatedly execute a body of instructions.
    </span>
    <span class="koboSpan" id="kobo.969.2">
     The difference is that the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.970.1">
      while
     </span>
    </code>
    <span class="koboSpan" id="kobo.971.1">
     loop does not loop over a sequence.
    </span>
    <span class="koboSpan" id="kobo.971.2">
     Instead, it loops as long as a certain condition is satisfied.
    </span>
    <span class="koboSpan" id="kobo.971.3">
     When the condition is no longer satisfied, the loop ends.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.972.1">
     As usual, let us see an example that will clarify everything for us.
    </span>
    <span class="koboSpan" id="kobo.972.2">
     We want to print the binary representation of a positive number.
    </span>
    <span class="koboSpan" id="kobo.972.3">
     To do so, we can use a simple algorithm that divides by two until we reach zero and collects the remainders.
    </span>
    <span class="koboSpan" id="kobo.972.4">
     When we reverse the list of remainders we collected, we get the binary representation of the number we started with.
    </span>
    <span class="koboSpan" id="kobo.972.5">
     For example, if we want a binary representation of the decimal number 6, the steps would be as follows:
    </span>
   </p>
   <ol>
    <li class="numberedList" value="1">
     <em class="italic">
      <span class="koboSpan" id="kobo.973.1">
       6 / 2 = 3
      </span>
     </em>
     <span class="koboSpan" id="kobo.974.1">
      with remainder
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.975.1">
       0
      </span>
     </em>
     <span class="koboSpan" id="kobo.976.1">
      .
     </span>
    </li>
    <li class="numberedList">
     <em class="italic">
      <span class="koboSpan" id="kobo.977.1">
       3 / 2 = 1
      </span>
     </em>
     <span class="koboSpan" id="kobo.978.1">
      with remainder
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.979.1">
       1
      </span>
     </em>
     <span class="koboSpan" id="kobo.980.1">
      .
     </span>
    </li>
    <li class="numberedList">
     <em class="italic">
      <span class="koboSpan" id="kobo.981.1">
       1 / 2 = 0
      </span>
     </em>
     <span class="koboSpan" id="kobo.982.1">
      with remainder
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.983.1">
       1
      </span>
     </em>
     <span class="koboSpan" id="kobo.984.1">
      .
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.985.1">
      The list of remainders is
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.986.1">
       0, 1, 1
      </span>
     </em>
     <span class="koboSpan" id="kobo.987.1">
      .
     </span>
    </li>
    <li class="numberedList">
     <span class="koboSpan" id="kobo.988.1">
      Reversing this, we get
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.989.1">
       1, 1, 0
      </span>
     </em>
     <span class="koboSpan" id="kobo.990.1">
      , which is also the binary representation of
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.991.1">
       6
      </span>
     </em>
     <span class="koboSpan" id="kobo.992.1">
      :
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.993.1">
       110
      </span>
     </em>
     <span class="koboSpan" id="kobo.994.1">
      .
     </span>
    </li>
   </ol>
   <p class="normal">
    <span class="koboSpan" id="kobo.995.1">
     Let us translate this into Python code.
    </span>
    <span class="koboSpan" id="kobo.995.2">
     We will calculate the binary representation of the number 39, which is 100111:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.996.1"># binary.py</span></span><span class="koboSpan" id="kobo.997.1">
n = </span><span class="hljs-number"><span class="koboSpan" id="kobo.998.1">39</span></span><span class="koboSpan" id="kobo.999.1">
remainders = []
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1000.1">while</span></span> <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1001.1">n &gt; </span></strong><strong class="hljs-number-slc"><span class="koboSpan" id="kobo.1002.1">0</span></strong></span><span class="koboSpan" id="kobo.1003.1">:
    remainder = n % </span><span class="hljs-number"><span class="koboSpan" id="kobo.1004.1">2</span></span>  <span class="hljs-comment"><span class="koboSpan" id="kobo.1005.1"># remainder of division by 2</span></span><span class="koboSpan" id="kobo.1006.1">
    remainders.append(remainder)  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1007.1"># we keep track of remainders</span></span><span class="koboSpan" id="kobo.1008.1">
    n //= </span><span class="hljs-number"><span class="koboSpan" id="kobo.1009.1">2</span></span>  <span class="hljs-comment"><span class="koboSpan" id="kobo.1010.1"># we divide n by 2</span></span><span class="koboSpan" id="kobo.1011.1">
remainders.reverse()
</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1012.1">print</span></span><span class="koboSpan" id="kobo.1013.1">(remainders)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1014.1">
     In the preceding
    </span>
    <a id="_idIndexMarker327">
    </a>
    <span class="koboSpan" id="kobo.1015.1">
     code, we highlighted
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1016.1">
      n &gt; 0
     </span>
    </code>
    <span class="koboSpan" id="kobo.1017.1">
     , which is the condition to keep looping.
    </span>
    <span class="koboSpan" id="kobo.1017.2">
     Notice how
    </span>
    <a id="_idIndexMarker328">
    </a>
    <span class="koboSpan" id="kobo.1018.1">
     the code matches the algorithm we described: as long as
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1019.1">
      n
     </span>
    </code>
    <span class="koboSpan" id="kobo.1020.1">
     is greater than
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1021.1">
      0
     </span>
    </code>
    <span class="koboSpan" id="kobo.1022.1">
     , we divide by
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1023.1">
      2
     </span>
    </code>
    <span class="koboSpan" id="kobo.1024.1">
     and add the remainder to a list.
    </span>
    <span class="koboSpan" id="kobo.1024.2">
     At the end (when
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1025.1">
      n
     </span>
    </code>
    <span class="koboSpan" id="kobo.1026.1">
     has reached
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1027.1">
      0
     </span>
    </code>
    <span class="koboSpan" id="kobo.1028.1">
     ), we reverse the list of remainders to get the binary representation of the original value of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1029.1">
      n
     </span>
    </code>
    <span class="koboSpan" id="kobo.1030.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1031.1">
     We can use the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1032.1">
      divmod()
     </span>
    </code>
    <span class="koboSpan" id="kobo.1033.1">
     function to make the code a little shorter (and more Pythonic).
    </span>
    <span class="koboSpan" id="kobo.1033.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1034.1">
      divmod()
     </span>
    </code>
    <span class="koboSpan" id="kobo.1035.1">
     function takes a number and a divisor and returns a tuple, with the result of the integer division and its remainder.
    </span>
    <span class="koboSpan" id="kobo.1035.2">
     For example,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1036.1">
      divmod(13, 5)
     </span>
    </code>
    <span class="koboSpan" id="kobo.1037.1">
     would return
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1038.1">
      (2, 3)
     </span>
    </code>
    <span class="koboSpan" id="kobo.1039.1">
     and, indeed,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1040.1">
      5 * 2 + 3 = 13
     </span>
    </em>
    <span class="koboSpan" id="kobo.1041.1">
     .
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.1042.1"># binary.2.py</span></span><span class="koboSpan" id="kobo.1043.1">
n = </span><span class="hljs-number"><span class="koboSpan" id="kobo.1044.1">39</span></span><span class="koboSpan" id="kobo.1045.1">
remainders = []
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1046.1">while</span></span><span class="koboSpan" id="kobo.1047.1"> n &gt; </span><span class="hljs-number"><span class="koboSpan" id="kobo.1048.1">0</span></span><span class="koboSpan" id="kobo.1049.1">:
    </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1050.1">n, remainder = </span></strong><strong class="hljs-built_in-slc"><span class="koboSpan" id="kobo.1051.1">divmod</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.1052.1">(n, </span></strong><strong class="hljs-number-slc"><span class="koboSpan" id="kobo.1053.1">2</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.1054.1">)</span></strong></span><span class="koboSpan" id="kobo.1055.1">
    remainders.append(remainder)
remainders.reverse()
</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1056.1">print</span></span><span class="koboSpan" id="kobo.1057.1">(remainders)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1058.1">
     Now, we reassign
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1059.1">
      n
     </span>
    </code>
    <span class="koboSpan" id="kobo.1060.1">
     to the result of the division by
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1061.1">
      2
     </span>
    </code>
    <span class="koboSpan" id="kobo.1062.1">
     and remainder to the list of remainders in a single line.
    </span>
   </p>
   <div class="packt_tip">
    <p class="normal">
     <span class="koboSpan" id="kobo.1063.1">
      The built-in function
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1064.1">
       bin()
      </span>
     </code>
     <span class="koboSpan" id="kobo.1065.1">
      returns a binary representation of a number.
     </span>
     <span class="koboSpan" id="kobo.1065.2">
      So, apart from examples, or as an exercise, there is no need to implement this yourself in Python.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.1066.1">
     Note that the condition
    </span>
    <a id="_idIndexMarker329">
    </a>
    <span class="koboSpan" id="kobo.1067.1">
     in a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1068.1">
      while
     </span>
    </code>
    <span class="koboSpan" id="kobo.1069.1">
     loop is a condition to continue looping.
    </span>
    <span class="koboSpan" id="kobo.1069.2">
     If it evaluates
    </span>
    <a id="_idIndexMarker330">
    </a>
    <span class="koboSpan" id="kobo.1070.1">
     to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1071.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.1072.1">
     , then the body is executed, another evaluation follows, and so on, until the condition evaluates to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1073.1">
      False
     </span>
    </code>
    <span class="koboSpan" id="kobo.1074.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1074.2">
     When that happens, the loop stops immediately without executing its body.
    </span>
    <span class="koboSpan" id="kobo.1074.3">
     If the condition never evaluates to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1075.1">
      False
     </span>
    </code>
    <span class="koboSpan" id="kobo.1076.1">
     , the loop becomes a so-called
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.1077.1">
      infinite loop
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1078.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1078.2">
     Infinite loops
    </span>
    <a id="_idIndexMarker331">
    </a>
    <span class="koboSpan" id="kobo.1079.1">
     are used, for example, when polling from network devices: you ask the socket whether there is any data, you do something with it if there is any, then you sleep for a small amount of time, and then you ask the socket again, over and over, without ever stopping.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1080.1">
     To better illustrate the differences between for and while loops, let us adapt one of the previous examples (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1081.1">
      multiple.sequences.py
     </span>
    </code>
    <span class="koboSpan" id="kobo.1082.1">
     ) using a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1083.1">
      while
     </span>
    </code>
    <span class="koboSpan" id="kobo.1084.1">
     loop:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.1085.1"># multiple.sequences.while.py</span></span><span class="koboSpan" id="kobo.1086.1">
people = ["Nick", "Rick", "Roger", "Syd"]
ages = [</span><span class="hljs-number"><span class="koboSpan" id="kobo.1087.1">23</span></span><span class="koboSpan" id="kobo.1088.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.1089.1">24</span></span><span class="koboSpan" id="kobo.1090.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.1091.1">23</span></span><span class="koboSpan" id="kobo.1092.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.1093.1">21</span></span><span class="koboSpan" id="kobo.1094.1">]
</span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1095.1">position = </span></strong><strong class="hljs-number-slc"><span class="koboSpan" id="kobo.1096.1">0</span></strong></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.1097.1">while</span></span> <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1098.1">position &lt; </span></strong><strong class="hljs-built_in-slc"><span class="koboSpan" id="kobo.1099.1">len</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.1100.1">(people)</span></strong></span><span class="koboSpan" id="kobo.1101.1">:
    person = people[position]
    age = ages[position]
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1102.1">print</span></span><span class="koboSpan" id="kobo.1103.1">(person, age)
    </span><span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1104.1">position += </span></strong><strong class="hljs-number-slc"><span class="koboSpan" id="kobo.1105.1">1</span></strong></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1106.1">
     In the preceding code, we have highlighted the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1107.1">
      initialization
     </span>
    </em>
    <span class="koboSpan" id="kobo.1108.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1109.1">
      condition
     </span>
    </em>
    <span class="koboSpan" id="kobo.1110.1">
     , and
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1111.1">
      update
     </span>
    </em>
    <span class="koboSpan" id="kobo.1112.1">
     of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1113.1">
      position
     </span>
    </code>
    <span class="koboSpan" id="kobo.1114.1">
     variable, which makes it possible to simulate the equivalent
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1115.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.1116.1">
     loop code by handling the iteration manually.
    </span>
    <span class="koboSpan" id="kobo.1116.2">
     Everything that can be done with a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1117.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.1118.1">
     loop can also be done with a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1119.1">
      while
     </span>
    </code>
    <span class="koboSpan" id="kobo.1120.1">
     loop, even though you can see there is a bit of boilerplate you have to go through to achieve the same result.
    </span>
    <span class="koboSpan" id="kobo.1120.2">
     The opposite is also true, but unless you have a reason to do so, you ought to use the right tool for the job.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1121.1">
     To recap, use a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1122.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.1123.1">
     loop when you need to iterate over an iterable, and use a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1124.1">
      while
     </span>
    </code>
    <span class="koboSpan" id="kobo.1125.1">
     loop when you need to loop according to whether a condition is satisfied or not.
    </span>
    <span class="koboSpan" id="kobo.1125.2">
     If you keep in mind the difference between the two purposes, you will never choose the wrong looping construct.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1126.1">
     Let us now see how to alter the normal flow of a loop.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-105">
    <span class="koboSpan" id="kobo.1127.1">
     The break and continue statements
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.1128.1">
     There are
    </span>
    <a id="_idIndexMarker332">
    </a>
    <span class="koboSpan" id="kobo.1129.1">
     scenarios where you will need to alter
    </span>
    <a id="_idIndexMarker333">
    </a>
    <span class="koboSpan" id="kobo.1130.1">
     the regular flow of a loop.
    </span>
    <span class="koboSpan" id="kobo.1130.2">
     You can either skip a single iteration (as many times as you want), or you can break out of the loop entirely.
    </span>
    <span class="koboSpan" id="kobo.1130.3">
     A common use case for skipping iterations is, for example, when you are iterating over a list of items, but you only need to work on those that satisfy some condition.
    </span>
    <span class="koboSpan" id="kobo.1130.4">
     On the other hand, if you are iterating over a collection to search for an item that meets some requirement, you may want to break out of the loop as soon as you find what you are looking for.
    </span>
    <span class="koboSpan" id="kobo.1130.5">
     There are countless possible scenarios; let us work through a couple of examples together to show you how this works in practice.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1131.1">
     Suppose that you want to apply a 20% discount on all products that have an expiration date of today.
    </span>
    <span class="koboSpan" id="kobo.1131.2">
     You can achieve this
    </span>
    <a id="_idIndexMarker334">
    </a>
    <span class="koboSpan" id="kobo.1132.1">
     by using
    </span>
    <a id="_idIndexMarker335">
    </a>
    <span class="koboSpan" id="kobo.1133.1">
     the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1134.1">
      continue
     </span>
    </code>
    <span class="koboSpan" id="kobo.1135.1">
     statement, which tells the looping construct (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1136.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.1137.1">
     or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1138.1">
      while
     </span>
    </code>
    <span class="koboSpan" id="kobo.1139.1">
     ) to stop executing the body immediately and go to the next iteration, if any:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.1140.1"># discount.py</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.1141.1">from</span></span><span class="koboSpan" id="kobo.1142.1"> datetime </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1143.1">import</span></span><span class="koboSpan" id="kobo.1144.1"> date, timedelta
today = date.today()
tomorrow = today + timedelta(days=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1145.1">1</span></span><span class="koboSpan" id="kobo.1146.1">)  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1147.1"># today + 1 day is tomorrow</span></span><span class="koboSpan" id="kobo.1148.1">
products = [
    {"sku": "</span><span class="hljs-number"><span class="koboSpan" id="kobo.1149.1">1</span></span><span class="koboSpan" id="kobo.1150.1">", "expiration_date": today, "price": </span><span class="hljs-number"><span class="koboSpan" id="kobo.1151.1">100.0</span></span><span class="koboSpan" id="kobo.1152.1">},
    {"sku": "</span><span class="hljs-number"><span class="koboSpan" id="kobo.1153.1">2</span></span><span class="koboSpan" id="kobo.1154.1">", "expiration_date": tomorrow, "price": </span><span class="hljs-number"><span class="koboSpan" id="kobo.1155.1">50</span></span><span class="koboSpan" id="kobo.1156.1">},
    {"sku": "</span><span class="hljs-number"><span class="koboSpan" id="kobo.1157.1">3</span></span><span class="koboSpan" id="kobo.1158.1">", "expiration_date": today, "price": </span><span class="hljs-number"><span class="koboSpan" id="kobo.1159.1">20</span></span><span class="koboSpan" id="kobo.1160.1">},
]
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1161.1">for</span></span><span class="koboSpan" id="kobo.1162.1"> product </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1163.1">in</span></span><span class="koboSpan" id="kobo.1164.1"> products:
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1165.1">print</span></span><span class="koboSpan" id="kobo.1166.1">("Processing sku", product["sku"])
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1167.1">if</span></span><span class="koboSpan" id="kobo.1168.1"> product["expiration_date"] != today:
        </span><span class="code-highlight"><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.1169.1">continue</span></strong></span><span class="koboSpan" id="kobo.1170.1">
    product["price"] *= </span><span class="hljs-number"><span class="koboSpan" id="kobo.1171.1">0.8</span></span>  <span class="hljs-comment"><span class="koboSpan" id="kobo.1172.1"># equivalent to applying 20% discount</span></span>
    <span class="hljs-built_in"><span class="koboSpan" id="kobo.1173.1">print</span></span><span class="koboSpan" id="kobo.1174.1">("Sku", product["sku"], "price </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1175.1">is</span></span><span class="koboSpan" id="kobo.1176.1"> now", product["price"])
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1177.1">
     We start by importing the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1178.1">
      date
     </span>
    </code>
    <span class="koboSpan" id="kobo.1179.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1180.1">
      timedelta
     </span>
    </code>
    <span class="koboSpan" id="kobo.1181.1">
     objects, and then we set up our products.
    </span>
    <span class="koboSpan" id="kobo.1181.2">
     Those with
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1182.1">
      sku
     </span>
    </code>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1183.1">
      1
     </span>
    </code>
    <span class="koboSpan" id="kobo.1184.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1185.1">
      3
     </span>
    </code>
    <span class="koboSpan" id="kobo.1186.1">
     have an expiration date of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1187.1">
      today
     </span>
    </code>
    <span class="koboSpan" id="kobo.1188.1">
     , which means that we want to apply a 20% discount on them.
    </span>
    <span class="koboSpan" id="kobo.1188.2">
     We loop over each
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1189.1">
      product
     </span>
    </code>
    <span class="koboSpan" id="kobo.1190.1">
     and inspect the expiration date.
    </span>
    <span class="koboSpan" id="kobo.1190.2">
     If the expiration date does not match
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1191.1">
      today
     </span>
    </code>
    <span class="koboSpan" id="kobo.1192.1">
     , we do not want to execute the rest of the body, so we
    </span>
    <a id="_idIndexMarker336">
    </a>
    <span class="koboSpan" id="kobo.1193.1">
     execute the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1194.1">
      continue
     </span>
    </code>
    <span class="koboSpan" id="kobo.1195.1">
     statement.
    </span>
    <span class="koboSpan" id="kobo.1195.2">
     Execution of the loop
    </span>
    <a id="_idIndexMarker337">
    </a>
    <span class="koboSpan" id="kobo.1196.1">
     body stops and goes on to the next iteration.
    </span>
    <span class="koboSpan" id="kobo.1196.2">
     If we run the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1197.1">
      discount.py
     </span>
    </code>
    <span class="koboSpan" id="kobo.1198.1">
     module, this is the output:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.1199.1">$ python discount.py
Processing sku 1
Sku 1 price is now 80.0
Processing sku 2
Processing sku 3
Sku 3 price is now 16.0
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1200.1">
     As you can see, the last two lines of the body have not been executed for
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1201.1">
      sku
     </span>
    </code>
    <span class="koboSpan" id="kobo.1202.1">
     number
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1203.1">
      2
     </span>
    </code>
    <span class="koboSpan" id="kobo.1204.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1205.1">
     Let us now see an example of
    </span>
    <a id="_idIndexMarker338">
    </a>
    <span class="koboSpan" id="kobo.1206.1">
     breaking out of a loop.
    </span>
    <span class="koboSpan" id="kobo.1206.2">
     Say we want to tell whether
    </span>
    <a id="_idIndexMarker339">
    </a>
    <span class="koboSpan" id="kobo.1207.1">
     at least one of the elements in a list evaluates to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1208.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.1209.1">
     when fed to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1210.1">
      bool()
     </span>
    </code>
    <span class="koboSpan" id="kobo.1211.1">
     function.
    </span>
    <span class="koboSpan" id="kobo.1211.2">
     Given that we need to know whether there is at least one, when we find it, we do not need to keep scanning the list any further.
    </span>
    <span class="koboSpan" id="kobo.1211.3">
     In Python code, this translates to using the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1212.1">
      break
     </span>
    </code>
    <span class="koboSpan" id="kobo.1213.1">
     statement.
    </span>
    <span class="koboSpan" id="kobo.1213.2">
     Let us write this down into code:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.1214.1"># any.py</span></span><span class="koboSpan" id="kobo.1215.1">
items = [</span><span class="hljs-number"><span class="koboSpan" id="kobo.1216.1">0</span></span><span class="koboSpan" id="kobo.1217.1">, </span><span class="hljs-literal"><span class="koboSpan" id="kobo.1218.1">None</span></span><span class="koboSpan" id="kobo.1219.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.1220.1">0.0</span></span><span class="koboSpan" id="kobo.1221.1">, </span><span class="hljs-literal"><span class="koboSpan" id="kobo.1222.1">True</span></span><span class="koboSpan" id="kobo.1223.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.1224.1">0</span></span><span class="koboSpan" id="kobo.1225.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.1226.1">7</span></span><span class="koboSpan" id="kobo.1227.1">]  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1228.1"># True and 7 evaluate to True</span></span><span class="koboSpan" id="kobo.1229.1">
found = </span><span class="hljs-literal"><span class="koboSpan" id="kobo.1230.1">False</span></span>  <span class="hljs-comment"><span class="koboSpan" id="kobo.1231.1"># this is called a "flag"</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.1232.1">for</span></span><span class="koboSpan" id="kobo.1233.1"> item </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1234.1">in</span></span><span class="koboSpan" id="kobo.1235.1"> items:
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1236.1">print</span></span><span class="koboSpan" id="kobo.1237.1">("scanning item", item)
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1238.1">if</span></span><span class="koboSpan" id="kobo.1239.1"> item:
        found = </span><span class="hljs-literal"><span class="koboSpan" id="kobo.1240.1">True</span></span>  <span class="hljs-comment"><span class="koboSpan" id="kobo.1241.1"># we update the flag</span></span>
        <span class="code-highlight"><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.1242.1">break</span></strong></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.1243.1">if</span></span><span class="koboSpan" id="kobo.1244.1"> found:  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1245.1"># we inspect the flag</span></span>
    <span class="hljs-built_in"><span class="koboSpan" id="kobo.1246.1">print</span></span><span class="koboSpan" id="kobo.1247.1">("At least one item evaluates to </span><span class="hljs-literal"><span class="koboSpan" id="kobo.1248.1">True</span></span><span class="koboSpan" id="kobo.1249.1">")
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1250.1">else</span></span><span class="koboSpan" id="kobo.1251.1">:
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1252.1">print</span></span><span class="koboSpan" id="kobo.1253.1">("All items evaluate to </span><span class="hljs-literal"><span class="koboSpan" id="kobo.1254.1">False</span></span><span class="koboSpan" id="kobo.1255.1">")
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1256.1">
     The preceding code makes use of a common programming pattern; you set up a
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.1257.1">
      flag
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1258.1">
     variable before starting the inspection of the items.
    </span>
    <span class="koboSpan" id="kobo.1258.2">
     If you find an element that matches your criteria (in this example, that evaluates to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1259.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.1260.1">
     ), you update the flag and stop iterating.
    </span>
    <span class="koboSpan" id="kobo.1260.2">
     After iteration, you inspect the flag and act accordingly.
    </span>
    <span class="koboSpan" id="kobo.1260.3">
     Execution yields:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.1261.1">$ python any.py
scanning item 0
scanning item None
scanning item 0.0
scanning item True
At least one item evaluates to True
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1262.1">
     See how execution stopped after
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1263.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.1264.1">
     was found?
    </span>
    <span class="koboSpan" id="kobo.1264.2">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1265.1">
      break
     </span>
    </code>
    <span class="koboSpan" id="kobo.1266.1">
     statement is similar to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1267.1">
      continue
     </span>
    </code>
    <span class="koboSpan" id="kobo.1268.1">
     , in that it immediately stops executing the body of the loop, but it also prevents any further
    </span>
    <a id="_idIndexMarker340">
    </a>
    <span class="koboSpan" id="kobo.1269.1">
     iterations
    </span>
    <a id="_idIndexMarker341">
    </a>
    <span class="koboSpan" id="kobo.1270.1">
     from running, effectively breaking out of the loop.
    </span>
   </p>
   <div class="packt_tip">
    <p class="normal">
     <span class="koboSpan" id="kobo.1271.1">
      There is no need to write code to detect whether there is at least one element in a sequence that evaluates to
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1272.1">
       True
      </span>
     </code>
     <span class="koboSpan" id="kobo.1273.1">
      , as the built-in function
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1274.1">
       any()
      </span>
     </code>
     <span class="koboSpan" id="kobo.1275.1">
      does exactly this.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.1276.1">
     You can use as
    </span>
    <a id="_idIndexMarker342">
    </a>
    <span class="koboSpan" id="kobo.1277.1">
     many
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1278.1">
      continue
     </span>
    </code>
    <span class="koboSpan" id="kobo.1279.1">
     or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1280.1">
      break
     </span>
    </code>
    <span class="koboSpan" id="kobo.1281.1">
     statements as you need, anywhere in a loop body (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1282.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.1283.1">
     or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1284.1">
      while
     </span>
    </code>
    <span class="koboSpan" id="kobo.1285.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.1285.2">
     You can even
    </span>
    <a id="_idIndexMarker343">
    </a>
    <span class="koboSpan" id="kobo.1286.1">
     use both in the same loop.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-106">
    <span class="koboSpan" id="kobo.1287.1">
     A special else clause
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.1288.1">
     One of the features we have seen only in the Python language is the ability to have an
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1289.1">
      else
     </span>
    </code>
    <span class="koboSpan" id="kobo.1290.1">
     clause after a loop.
    </span>
    <span class="koboSpan" id="kobo.1290.2">
     It is very
    </span>
    <a id="_idIndexMarker344">
    </a>
    <span class="koboSpan" id="kobo.1291.1">
     rarely used, but it is useful to have.
    </span>
    <span class="koboSpan" id="kobo.1291.2">
     If the loop ends normally, because of exhaustion of the iterator (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1292.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.1293.1">
     loop) or because the condition is finally not met (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1294.1">
      while
     </span>
    </code>
    <span class="koboSpan" id="kobo.1295.1">
     loop), then the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1296.1">
      else
     </span>
    </code>
    <span class="koboSpan" id="kobo.1297.1">
     suite (if present) is executed.
    </span>
    <span class="koboSpan" id="kobo.1297.2">
     If execution is interrupted by a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1298.1">
      break
     </span>
    </code>
    <span class="koboSpan" id="kobo.1299.1">
     statement, the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1300.1">
      else
     </span>
    </code>
    <span class="koboSpan" id="kobo.1301.1">
     clause
    </span>
    <a id="_idIndexMarker345">
    </a>
    <span class="koboSpan" id="kobo.1302.1">
     is not executed.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1303.1">
     Let us take an example of a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1304.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.1305.1">
     loop that iterates over a group of items, looking for one that would match some condition.
    </span>
    <span class="koboSpan" id="kobo.1305.2">
     If we do not find at least one that satisfies the condition, we want to raise
    </span>
    <a id="_idIndexMarker346">
    </a>
    <span class="koboSpan" id="kobo.1306.1">
     an
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.1307.1">
      exception
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1308.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1308.2">
     This means that we want to arrest the regular execution of the program and signal that there was an error, or exception.
    </span>
    <span class="koboSpan" id="kobo.1308.3">
     Exceptions will be the subject of
    </span>
    <em class="chapterRef">
     <span class="koboSpan" id="kobo.1309.1">
      Chapter 7
     </span>
    </em>
    <span class="koboSpan" id="kobo.1310.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1311.1">
      Exceptions and Context Managers
     </span>
    </em>
    <span class="koboSpan" id="kobo.1312.1">
     , so do not worry if you do not fully understand them for now.
    </span>
    <span class="koboSpan" id="kobo.1312.2">
     Just bear in mind that they alter the regular flow of the code.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1313.1">
     Let us first see how we would do this without the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1314.1">
      for...else
     </span>
    </code>
    <span class="koboSpan" id="kobo.1315.1">
     syntax.
    </span>
    <span class="koboSpan" id="kobo.1315.2">
     Say that we want to find, among a collection of people, one that could drive a car:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.1316.1"># for.no.else.py</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.1317.1">class</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1318.1">DriverException</span></span><span class="koboSpan" id="kobo.1319.1">(</span><span class="hljs-title"><span class="koboSpan" id="kobo.1320.1">Exception</span></span><span class="koboSpan" id="kobo.1321.1">):
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1322.1">pass</span></span><span class="koboSpan" id="kobo.1323.1">
people = [("James", </span><span class="hljs-number"><span class="koboSpan" id="kobo.1324.1">17</span></span><span class="koboSpan" id="kobo.1325.1">), ("Kirk", </span><span class="hljs-number"><span class="koboSpan" id="kobo.1326.1">9</span></span><span class="koboSpan" id="kobo.1327.1">), ("Lars", </span><span class="hljs-number"><span class="koboSpan" id="kobo.1328.1">13</span></span><span class="koboSpan" id="kobo.1329.1">), ("Robert", </span><span class="hljs-number"><span class="koboSpan" id="kobo.1330.1">8</span></span><span class="koboSpan" id="kobo.1331.1">)]
driver = </span><span class="hljs-literal"><span class="koboSpan" id="kobo.1332.1">None</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.1333.1">for</span></span><span class="koboSpan" id="kobo.1334.1"> person, age </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1335.1">in</span></span><span class="koboSpan" id="kobo.1336.1"> people:
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1337.1">if</span></span><span class="koboSpan" id="kobo.1338.1"> age &gt;= </span><span class="hljs-number"><span class="koboSpan" id="kobo.1339.1">18</span></span><span class="koboSpan" id="kobo.1340.1">:
        driver = (person, age)
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1341.1">break</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.1342.1">if</span></span><span class="koboSpan" id="kobo.1343.1"> driver </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1344.1">is</span></span> <span class="hljs-literal"><span class="koboSpan" id="kobo.1345.1">None</span></span><span class="koboSpan" id="kobo.1346.1">:
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1347.1">raise</span></span><span class="koboSpan" id="kobo.1348.1"> DriverException("Driver </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1349.1">not</span></span><span class="koboSpan" id="kobo.1350.1"> found.")
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1351.1">
     Notice the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1352.1">
      flag
     </span>
    </em>
    <span class="koboSpan" id="kobo.1353.1">
     pattern again.
    </span>
    <span class="koboSpan" id="kobo.1353.2">
     We set the driver to be
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1354.1">
      None
     </span>
    </code>
    <span class="koboSpan" id="kobo.1355.1">
     , and then if we find one, we update the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1356.1">
      driver
     </span>
    </code>
    <span class="koboSpan" id="kobo.1357.1">
     flag.
    </span>
    <span class="koboSpan" id="kobo.1357.2">
     At the end of the loop, we inspect it to see whether one was found.
    </span>
    <span class="koboSpan" id="kobo.1357.3">
     Notice that if a driver is not found,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1358.1">
      DriverException
     </span>
    </code>
    <span class="koboSpan" id="kobo.1359.1">
     is raised, signaling to the program that execution cannot continue (we are lacking the driver).
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1360.1">
     Now, let us see how
    </span>
    <a id="_idIndexMarker347">
    </a>
    <span class="koboSpan" id="kobo.1361.1">
     to do this with an
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1362.1">
      else
     </span>
    </code>
    <span class="koboSpan" id="kobo.1363.1">
     clause on
    </span>
    <a id="_idIndexMarker348">
    </a>
    <span class="koboSpan" id="kobo.1364.1">
     the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1365.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.1366.1">
     loop:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.1367.1"># for.else.py</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.1368.1">class</span></span> <span class="hljs-title"><span class="koboSpan" id="kobo.1369.1">DriverException</span></span><span class="koboSpan" id="kobo.1370.1">(</span><span class="hljs-title"><span class="koboSpan" id="kobo.1371.1">Exception</span></span><span class="koboSpan" id="kobo.1372.1">):
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1373.1">pass</span></span><span class="koboSpan" id="kobo.1374.1">
people = [("James", </span><span class="hljs-number"><span class="koboSpan" id="kobo.1375.1">17</span></span><span class="koboSpan" id="kobo.1376.1">), ("Kirk", </span><span class="hljs-number"><span class="koboSpan" id="kobo.1377.1">9</span></span><span class="koboSpan" id="kobo.1378.1">), ("Lars", </span><span class="hljs-number"><span class="koboSpan" id="kobo.1379.1">13</span></span><span class="koboSpan" id="kobo.1380.1">), ("Robert", </span><span class="hljs-number"><span class="koboSpan" id="kobo.1381.1">8</span></span><span class="koboSpan" id="kobo.1382.1">)]
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1383.1">for</span></span><span class="koboSpan" id="kobo.1384.1"> person, age </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1385.1">in</span></span><span class="koboSpan" id="kobo.1386.1"> people:
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1387.1">if</span></span><span class="koboSpan" id="kobo.1388.1"> age &gt;= </span><span class="hljs-number"><span class="koboSpan" id="kobo.1389.1">18</span></span><span class="koboSpan" id="kobo.1390.1">:
        driver = (person, age)
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1391.1">break</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.1392.1">else</span></span><span class="koboSpan" id="kobo.1393.1">:
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1394.1">raise</span></span><span class="koboSpan" id="kobo.1395.1"> DriverException("Driver </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1396.1">not</span></span><span class="koboSpan" id="kobo.1397.1"> found.")
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1398.1">
     Notice that we no longer need the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1399.1">
      flag
     </span>
    </em>
    <span class="koboSpan" id="kobo.1400.1">
     pattern.
    </span>
    <span class="koboSpan" id="kobo.1400.2">
     The exception is raised as part of the loop logic, which makes good sense because the loop checks for some condition.
    </span>
    <span class="koboSpan" id="kobo.1400.3">
     All we need to do is set up a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1401.1">
      driver
     </span>
    </code>
    <span class="koboSpan" id="kobo.1402.1">
     object in case we find one; this way the rest of the code uses the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1403.1">
      driver
     </span>
    </code>
    <span class="koboSpan" id="kobo.1404.1">
     object for further processing.
    </span>
    <span class="koboSpan" id="kobo.1404.2">
     Notice that the code is shorter and more elegant because the logic is now correctly grouped together, where it belongs.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.1405.1">
      In his
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.1406.1">
       Transforming Code into Beautiful, Idiomatic Python
      </span>
     </em>
     <span class="koboSpan" id="kobo.1407.1">
      video, Raymond Hettinger suggests a much better name for the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1408.1">
       else
      </span>
     </code>
     <span class="koboSpan" id="kobo.1409.1">
      statement associated with a
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1410.1">
       for
      </span>
     </code>
     <span class="koboSpan" id="kobo.1411.1">
      loop:
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1412.1">
       nobreak
      </span>
     </code>
     <span class="koboSpan" id="kobo.1413.1">
      .
     </span>
     <span class="koboSpan" id="kobo.1413.2">
      If you struggle with remembering how the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1414.1">
       else
      </span>
     </code>
     <span class="koboSpan" id="kobo.1415.1">
      works for a
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1416.1">
       for
      </span>
     </code>
     <span class="koboSpan" id="kobo.1417.1">
      loop, simply remembering this fact should help you.
     </span>
    </p>
   </div>
   <h1 class="heading-1" id="_idParaDest-107">
    <span class="koboSpan" id="kobo.1418.1">
     Assignment expressions
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.1419.1">
     Before we look at some more complicated
    </span>
    <a id="_idIndexMarker349">
    </a>
    <span class="koboSpan" id="kobo.1420.1">
     examples, we would like to briefly introduce you to a feature that was added to the language in Python 3.8, via PEP 572 (
    </span>
    <a href="https://peps.python.org/pep-0572">
     <span class="url">
      <span class="koboSpan" id="kobo.1421.1">
       https://peps.python.org/pep-0572
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.1422.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.1422.2">
     Assignment expressions allow us to bind a value
    </span>
    <a id="_idIndexMarker350">
    </a>
    <span class="koboSpan" id="kobo.1423.1">
     to a name in places where normal assignment statements are not allowed.
    </span>
    <span class="koboSpan" id="kobo.1423.2">
     Instead of the normal assignment operator
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1424.1">
      =
     </span>
    </code>
    <span class="koboSpan" id="kobo.1425.1">
     , assignment expressions use
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1426.1">
      :=
     </span>
    </code>
    <span class="koboSpan" id="kobo.1427.1">
     (known as the
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.1428.1">
      walrus operator
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1429.1">
     because
    </span>
    <a id="_idIndexMarker351">
    </a>
    <span class="koboSpan" id="kobo.1430.1">
     it resembles the eyes and tusks of a walrus).
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-108">
    <span class="koboSpan" id="kobo.1431.1">
     Statements and expressions
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.1432.1">
     To understand the difference between normal assignments and assignment expressions, we need to understand the difference between
    </span>
    <a id="_idIndexMarker352">
    </a>
    <span class="koboSpan" id="kobo.1433.1">
     statements and expressions.
    </span>
    <span class="koboSpan" id="kobo.1433.2">
     According to the Python
    </span>
    <a id="_idIndexMarker353">
    </a>
    <span class="koboSpan" id="kobo.1434.1">
     documentation (
    </span>
    <a href="https://docs.python.org/3.12/glossary.html#term-statement">
     <span class="url">
      <span class="koboSpan" id="kobo.1435.1">
       https://docs.python.org/3.12/glossary.html#term-statement
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.1436.1">
     ), a
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.1437.1">
      statement
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1438.1">
     is:
    </span>
   </p>
   <blockquote class="packt_quote">
    <p class="quote">
     <span class="koboSpan" id="kobo.1439.1">
      …part of a suite (a “block” of code).
     </span>
     <span class="koboSpan" id="kobo.1439.2">
      A statement is either an expression or one of several constructs with a keyword, such as
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1440.1">
       if
      </span>
     </code>
     <span class="koboSpan" id="kobo.1441.1">
      ,
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1442.1">
       while
      </span>
     </code>
     <span class="koboSpan" id="kobo.1443.1">
      or
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1444.1">
       for
      </span>
     </code>
     <span class="koboSpan" id="kobo.1445.1">
      .
     </span>
    </p>
   </blockquote>
   <p class="normal">
    <span class="koboSpan" id="kobo.1446.1">
     An
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.1447.1">
      expression
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1448.1">
     , on the
    </span>
    <a id="_idIndexMarker354">
    </a>
    <span class="koboSpan" id="kobo.1449.1">
     other hand, is:
    </span>
   </p>
   <blockquote class="packt_quote">
    <p class="quote">
     <span class="koboSpan" id="kobo.1450.1">
      A piece of syntax which can be evaluated to some value.
     </span>
     <span class="koboSpan" id="kobo.1450.2">
      In other words, an expression is an accumulation of expression elements like literals, names, attribute access, operators or function calls which all return a value.
     </span>
    </p>
   </blockquote>
   <p class="normal">
    <span class="koboSpan" id="kobo.1451.1">
     The key distinguishing feature of an expression is that it has a value.
    </span>
    <span class="koboSpan" id="kobo.1451.2">
     Notice that an expression can be a statement, but not all statements are expressions.
    </span>
    <span class="koboSpan" id="kobo.1451.3">
     In particular, assignments like
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1452.1">
      name = "heinrich"
     </span>
    </code>
    <span class="koboSpan" id="kobo.1453.1">
     are not expressions, so they do not have a value.
    </span>
    <span class="koboSpan" id="kobo.1453.2">
     This means that you cannot use an assignment statement in the condition expression of a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1454.1">
      while
     </span>
    </code>
    <span class="koboSpan" id="kobo.1455.1">
     loop or
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1456.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.1457.1">
     statement (or any other place where a value is required).
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.1458.1">
      This explains why the Python console does not print a value when you assign a value to a name.
     </span>
     <span class="koboSpan" id="kobo.1458.2">
      For example:
     </span>
    </p>
    <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.1459.1">&gt;&gt;&gt; name = "heinrich"
&gt;&gt;&gt;
</span></code></pre>
    <p class="normal">
     <span class="koboSpan" id="kobo.1460.1">
      is a statement, which does not have a return value to print.
     </span>
    </p>
   </div>
   <h2 class="heading-2" id="_idParaDest-109">
    <span class="koboSpan" id="kobo.1461.1">
     Using the walrus operator
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.1462.1">
     Without assignment expressions, you would
    </span>
    <a id="_idIndexMarker355">
    </a>
    <span class="koboSpan" id="kobo.1463.1">
     have to use two separate statements if you wanted to bind a value to a name and use that value in an expression.
    </span>
    <span class="koboSpan" id="kobo.1463.2">
     For example, it is quite common to see code like:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.1464.1"># walrus.if.py</span></span><span class="koboSpan" id="kobo.1465.1">
remainder = value % modulus
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1466.1">if</span></span><span class="koboSpan" id="kobo.1467.1"> remainder:
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1468.1">print</span></span><span class="koboSpan" id="kobo.1469.1">(f"Not divisible! </span><span class="koboSpan" id="kobo.1469.2">The remainder </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1470.1">is</span></span><span class="koboSpan" id="kobo.1471.1"> {remainder}.")
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1472.1">
     With assignment expressions, we could rewrite this as:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.1473.1"># walrus.if.py</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.1474.1">if</span></span><span class="koboSpan" id="kobo.1475.1"> remainder := value % modulus:
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1476.1">print</span></span><span class="koboSpan" id="kobo.1477.1">(f"Not divisible! </span><span class="koboSpan" id="kobo.1477.2">The remainder </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1478.1">is</span></span><span class="koboSpan" id="kobo.1479.1"> {remainder}.")
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1480.1">
     Assignment expressions allow us to write fewer lines of code.
    </span>
    <span class="koboSpan" id="kobo.1480.2">
     Used with care, they can also lead to cleaner, more understandable code.
    </span>
    <span class="koboSpan" id="kobo.1480.3">
     Let us look at a slightly bigger example to see how an assignment expression can simplify a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1481.1">
      while
     </span>
    </code>
    <span class="koboSpan" id="kobo.1482.1">
     loop.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1483.1">
     In interactive scripts, we often need to ask a user to choose between a number of options.
    </span>
    <span class="koboSpan" id="kobo.1483.2">
     For example, suppose we are writing an interactive script that allows customers at an ice cream shop to choose what flavor they want.
    </span>
    <span class="koboSpan" id="kobo.1483.3">
     To avoid confusion when preparing orders, we want to ensure that the user chooses one of the available flavors.
    </span>
    <span class="koboSpan" id="kobo.1483.4">
     Without assignment
    </span>
    <a id="_idIndexMarker356">
    </a>
    <span class="koboSpan" id="kobo.1484.1">
     expressions, we might write something like this:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.1485.1"># menu.no.walrus.py</span></span><span class="koboSpan" id="kobo.1486.1">
flavors = ["pistachio", "malaga", "vanilla", "chocolate"]
prompt = "Choose your flavor: "
</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1487.1">print</span></span><span class="koboSpan" id="kobo.1488.1">(flavors)
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1489.1">while</span></span> <span class="code-highlight"><strong class="hljs-literal-slc"><span class="koboSpan" id="kobo.1490.1">True</span></strong></span><span class="koboSpan" id="kobo.1491.1">:
    choice = </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1492.1">input</span></span><span class="koboSpan" id="kobo.1493.1">(prompt)
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1494.1">if</span></span> <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1495.1">choice </span></strong><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.1496.1">in</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.1497.1"> flavors</span></strong></span><span class="koboSpan" id="kobo.1498.1">:
        </span><span class="code-highlight"><strong class="hljs-keyword-slc"><span class="koboSpan" id="kobo.1499.1">break</span></strong></span>
    <span class="hljs-built_in"><span class="koboSpan" id="kobo.1500.1">print</span></span><span class="koboSpan" id="kobo.1501.1">(f"Sorry, '{choice}' </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1502.1">is</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.1503.1">not</span></span><span class="koboSpan" id="kobo.1504.1"> a valid option.")
</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1505.1">print</span></span><span class="koboSpan" id="kobo.1506.1">(f"You chose '{choice}'.")
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1507.1">
     Take a moment to read this code carefully.
    </span>
    <span class="koboSpan" id="kobo.1507.2">
     Note the condition on the loop:
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1508.1">
      while True
     </span>
    </code>
    <span class="koboSpan" id="kobo.1509.1">
     means “loop forever,” which is not what we want.
    </span>
    <span class="koboSpan" id="kobo.1509.2">
     We want to stop the loop when the user inputs a valid flavor (
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1510.1">
      choice in flavors
     </span>
    </code>
    <span class="koboSpan" id="kobo.1511.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.1511.2">
     To achieve that, we have an
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1512.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.1513.1">
     statement and a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1514.1">
      break
     </span>
    </code>
    <span class="koboSpan" id="kobo.1515.1">
     inside the loop.
    </span>
    <span class="koboSpan" id="kobo.1515.2">
     The logic to control the loop is not immediately obvious.
    </span>
    <span class="koboSpan" id="kobo.1515.3">
     Despite that, this is actually quite a common pattern when the value needed to control the loop can only be obtained inside it.
    </span>
   </p>
   <div class="packt_tip">
    <p class="normal">
     <span class="koboSpan" id="kobo.1516.1">
      The
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1517.1">
       input()
      </span>
     </code>
     <span class="koboSpan" id="kobo.1518.1">
      function is very useful in interactive scripts.
     </span>
     <span class="koboSpan" id="kobo.1518.2">
      It prompts the user for input and returns it as a string.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.1519.1">
     How can we improve on this?
    </span>
    <span class="koboSpan" id="kobo.1519.2">
     Let us try to use an assignment expression:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.1520.1"># menu.walrus.py</span></span><span class="koboSpan" id="kobo.1521.1">
flavors = ["pistachio", "malaga", "vanilla", "chocolate"]
prompt = "Choose your flavor: "
</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1522.1">print</span></span><span class="koboSpan" id="kobo.1523.1">(flavors)
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1524.1">while</span></span> <span class="code-highlight"><strong class="hljs-slc"><span class="koboSpan" id="kobo.1525.1">(choice := </span></strong><strong class="hljs-built_in-slc"><span class="koboSpan" id="kobo.1526.1">input</span></strong><strong class="hljs-slc"><span class="koboSpan" id="kobo.1527.1">(prompt))</span></strong></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.1528.1">not</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.1529.1">in</span></span><span class="koboSpan" id="kobo.1530.1"> flavors:
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1531.1">print</span></span><span class="koboSpan" id="kobo.1532.1">(f"Sorry, '{choice}' </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1533.1">is</span></span> <span class="hljs-keyword"><span class="koboSpan" id="kobo.1534.1">not</span></span><span class="koboSpan" id="kobo.1535.1"> a valid option.")
</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1536.1">print</span></span><span class="koboSpan" id="kobo.1537.1">(f"You chose '{choice}'.")
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1538.1">
     Now, the loop conditional says exactly what we want.
    </span>
    <span class="koboSpan" id="kobo.1538.2">
     That is much easier to understand.
    </span>
    <span class="koboSpan" id="kobo.1538.3">
     The code is also three lines shorter.
    </span>
   </p>
   <div class="note">
    <p class="normal">
     <span class="koboSpan" id="kobo.1539.1">
      We need parentheses around the assignment expression in this example because the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1540.1">
       :=
      </span>
     </code>
     <span class="koboSpan" id="kobo.1541.1">
      operator has lower precedence than the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.1542.1">
       not in
      </span>
     </code>
     <span class="koboSpan" id="kobo.1543.1">
      operator.
     </span>
     <span class="koboSpan" id="kobo.1543.2">
      Try removing them and see what happens.
     </span>
    </p>
   </div>
   <p class="normal">
    <span class="koboSpan" id="kobo.1544.1">
     We have seen
    </span>
    <a id="_idIndexMarker357">
    </a>
    <span class="koboSpan" id="kobo.1545.1">
     examples of using assignment expressions in
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1546.1">
      if
     </span>
    </code>
    <span class="koboSpan" id="kobo.1547.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1548.1">
      while
     </span>
    </code>
    <span class="koboSpan" id="kobo.1549.1">
     statements.
    </span>
    <span class="koboSpan" id="kobo.1549.2">
     Besides these use cases, assignment expressions are also useful in
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1550.1">
      lambda expressions
     </span>
    </em>
    <span class="koboSpan" id="kobo.1551.1">
     (which you will meet in
    </span>
    <em class="chapterRef">
     <span class="koboSpan" id="kobo.1552.1">
      Chapter 4
     </span>
    </em>
    <span class="koboSpan" id="kobo.1553.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1554.1">
      Functions, the Building Blocks of Code
     </span>
    </em>
    <span class="koboSpan" id="kobo.1555.1">
     ), as well as
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1556.1">
      comprehensions
     </span>
    </em>
    <span class="koboSpan" id="kobo.1557.1">
     and
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1558.1">
      generators
     </span>
    </em>
    <span class="koboSpan" id="kobo.1559.1">
     (which you will learn about in
    </span>
    <em class="chapterRef">
     <span class="koboSpan" id="kobo.1560.1">
      Chapter 5
     </span>
    </em>
    <span class="koboSpan" id="kobo.1561.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1562.1">
      Comprehensions and Generators
     </span>
    </em>
    <span class="koboSpan" id="kobo.1563.1">
     ).
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-110">
    <span class="koboSpan" id="kobo.1564.1">
     A word of warning
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.1565.1">
     The introduction of the walrus
    </span>
    <a id="_idIndexMarker358">
    </a>
    <span class="koboSpan" id="kobo.1566.1">
     operator in Python was somewhat controversial.
    </span>
    <span class="koboSpan" id="kobo.1566.2">
     Some people feared that it would make it too easy to write ugly, non-Pythonic code.
    </span>
    <span class="koboSpan" id="kobo.1566.3">
     We think that these fears are not entirely justified.
    </span>
    <span class="koboSpan" id="kobo.1566.4">
     As you saw above, the walrus operator can
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1567.1">
      improve
     </span>
    </em>
    <span class="koboSpan" id="kobo.1568.1">
     code and make it easier to read.
    </span>
    <span class="koboSpan" id="kobo.1568.2">
     Like any powerful feature, it can, however, be abused to write
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1569.1">
      obfuscated
     </span>
    </em>
    <span class="koboSpan" id="kobo.1570.1">
     code.
    </span>
    <span class="koboSpan" id="kobo.1570.2">
     We would advise you to use it sparingly.
    </span>
    <span class="koboSpan" id="kobo.1570.3">
     Always think carefully about how it impacts the readability of your code.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-111">
    <span class="koboSpan" id="kobo.1571.1">
     Putting all this together
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.1572.1">
     Now that we have covered the basics of conditionals and loops, we can move on to the example programs we promised at the beginning of this chapter.
    </span>
    <span class="koboSpan" id="kobo.1572.2">
     We will mix and match here so that you can see how you can use all these concepts together.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-112">
    <span class="koboSpan" id="kobo.1573.1">
     A prime generator
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.1574.1">
     Let us start by writing some code to
    </span>
    <a id="_idIndexMarker359">
    </a>
    <span class="koboSpan" id="kobo.1575.1">
     generate a list of prime numbers up to (and including) some limit.
    </span>
    <span class="koboSpan" id="kobo.1575.2">
     Please bear in mind that we are going to write a very inefficient and rudimentary algorithm to find prime numbers.
    </span>
    <span class="koboSpan" id="kobo.1575.3">
     The important thing is to concentrate on those bits in the code that belong to this chapter’s subject.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1576.1">
     According
    </span>
    <a id="_idIndexMarker360">
    </a>
    <span class="koboSpan" id="kobo.1577.1">
     to Wolfram MathWorld:
    </span>
   </p>
   <blockquote class="packt_quote">
    <p class="quote">
     <span class="koboSpan" id="kobo.1578.1">
      A
     </span>
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.1579.1">
       prime number
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1580.1">
      (or prime integer, often simply called a “
     </span>
     <strong class="keyWord">
      <span class="koboSpan" id="kobo.1581.1">
       prime
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1582.1">
      ” for short) is a positive integer p&gt;1 that has no positive integer divisors other than 1 and p itself.
     </span>
     <span class="koboSpan" id="kobo.1582.2">
      More concisely, a prime number p is a positive integer having exactly one positive divisor other than 1, meaning it is a number that cannot be factored.
     </span>
    </p>
   </blockquote>
   <p class="normal">
    <span class="koboSpan" id="kobo.1583.1">
     Based on this definition, if we consider the first 10 natural numbers, we can see that 2, 3, 5, and 7 are primes, while 1, 4, 6, 8, 9, and 10 are not.
    </span>
    <span class="koboSpan" id="kobo.1583.2">
     To determine whether a number,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1584.1">
      N
     </span>
    </em>
    <span class="koboSpan" id="kobo.1585.1">
     , is prime, you can divide it by each of the natural numbers in the range
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1586.1">
      [2, N)
     </span>
    </em>
    <span class="koboSpan" id="kobo.1587.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1587.2">
     If the remainder of any division is zero, then the number is not a prime.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1588.1">
     To generate the sequence of prime numbers, we will consider each natural number, starting from two, up to the limit, and test whether it is a prime.
    </span>
    <span class="koboSpan" id="kobo.1588.2">
     We will write two versions of this, the second of which will exploit the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1589.1">
      for...else
     </span>
    </code>
    <span class="koboSpan" id="kobo.1590.1">
     syntax:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.1591.1"># primes.py</span></span><span class="koboSpan" id="kobo.1592.1">
primes = []  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1593.1"># this will contain the primes at the end</span></span><span class="koboSpan" id="kobo.1594.1">
upto = </span><span class="hljs-number"><span class="koboSpan" id="kobo.1595.1">100</span></span>  <span class="hljs-comment"><span class="koboSpan" id="kobo.1596.1"># the limit, inclusive</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.1597.1">for</span></span><span class="koboSpan" id="kobo.1598.1"> n </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1599.1">in</span></span> <span class="hljs-built_in"><span class="koboSpan" id="kobo.1600.1">range</span></span><span class="koboSpan" id="kobo.1601.1">(</span><span class="hljs-number"><span class="koboSpan" id="kobo.1602.1">2</span></span><span class="koboSpan" id="kobo.1603.1">, upto + </span><span class="hljs-number"><span class="koboSpan" id="kobo.1604.1">1</span></span><span class="koboSpan" id="kobo.1605.1">):
    is_prime = </span><span class="hljs-literal"><span class="koboSpan" id="kobo.1606.1">True</span></span>  <span class="hljs-comment"><span class="koboSpan" id="kobo.1607.1"># flag, new at each iteration of outer for</span></span>
    <span class="hljs-keyword"><span class="koboSpan" id="kobo.1608.1">for</span></span><span class="koboSpan" id="kobo.1609.1"> divisor </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1610.1">in</span></span> <span class="hljs-built_in"><span class="koboSpan" id="kobo.1611.1">range</span></span><span class="koboSpan" id="kobo.1612.1">(</span><span class="hljs-number"><span class="koboSpan" id="kobo.1613.1">2</span></span><span class="koboSpan" id="kobo.1614.1">, n):
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1615.1">if</span></span><span class="koboSpan" id="kobo.1616.1"> n % divisor == </span><span class="hljs-number"><span class="koboSpan" id="kobo.1617.1">0</span></span><span class="koboSpan" id="kobo.1618.1">:
            is_prime = </span><span class="hljs-literal"><span class="koboSpan" id="kobo.1619.1">False</span></span>
            <span class="hljs-keyword"><span class="koboSpan" id="kobo.1620.1">break</span></span>
    <span class="hljs-keyword"><span class="koboSpan" id="kobo.1621.1">if</span></span><span class="koboSpan" id="kobo.1622.1"> is_prime:  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1623.1"># check on flag</span></span><span class="koboSpan" id="kobo.1624.1">
        primes.append(n)
</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1625.1">print</span></span><span class="koboSpan" id="kobo.1626.1">(primes)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1627.1">
     There is quite a lot happening in this code.
    </span>
    <span class="koboSpan" id="kobo.1627.2">
     We start by setting up an empty
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1628.1">
      primes
     </span>
    </code>
    <span class="koboSpan" id="kobo.1629.1">
     list, which will contain the primes at the end.
    </span>
    <span class="koboSpan" id="kobo.1629.2">
     We set the limit to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1630.1">
      100
     </span>
    </code>
    <span class="koboSpan" id="kobo.1631.1">
     , and because we want it to be inclusive, we have to iterate over
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1632.1">
      range(2, upto + 1)
     </span>
    </code>
    <span class="koboSpan" id="kobo.1633.1">
     in our outer
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1634.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.1635.1">
     loop (remember that
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1636.1">
      range(2, upto)
     </span>
    </code>
    <em class="italic">
     <span class="koboSpan" id="kobo.1637.1">
      would stop at upto - 1
     </span>
    </em>
    <span class="koboSpan" id="kobo.1638.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.1638.2">
     The outer loop iterates over the candidate primes—that is, all natural numbers from
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1639.1">
      2
     </span>
    </code>
    <span class="koboSpan" id="kobo.1640.1">
     to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1641.1">
      upto
     </span>
    </code>
    <span class="koboSpan" id="kobo.1642.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1642.2">
     Each iteration of this loop tests one number to determine whether it is a prime.
    </span>
    <span class="koboSpan" id="kobo.1642.3">
     In each iteration of the outer loop, we set up a flag (which is set to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1643.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.1644.1">
     at each iteration), and then start dividing the current value of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1645.1">
      n
     </span>
    </code>
    <span class="koboSpan" id="kobo.1646.1">
     by all numbers from
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1647.1">
      2
     </span>
    </code>
    <span class="koboSpan" id="kobo.1648.1">
     to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1649.1">
      n - 1
     </span>
    </code>
    <span class="koboSpan" id="kobo.1650.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1650.2">
     If we find a proper divisor for
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1651.1">
      n
     </span>
    </code>
    <span class="koboSpan" id="kobo.1652.1">
     , it means
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1653.1">
      n
     </span>
    </code>
    <span class="koboSpan" id="kobo.1654.1">
     is composite, so we set the flag to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1655.1">
      False
     </span>
    </code>
    <span class="koboSpan" id="kobo.1656.1">
     and break the loop.
    </span>
    <span class="koboSpan" id="kobo.1656.2">
     Notice that when we break the inner loop, the outer one keeps on going as normal.
    </span>
    <span class="koboSpan" id="kobo.1656.3">
     The reason we break after having found a proper divisor for
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1657.1">
      n
     </span>
    </code>
    <span class="koboSpan" id="kobo.1658.1">
     is that we do not need any further information to be able to tell that
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1659.1">
      n
     </span>
    </code>
    <span class="koboSpan" id="kobo.1660.1">
     is not a prime.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1661.1">
     When we check the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1662.1">
      is_prime
     </span>
    </code>
    <span class="koboSpan" id="kobo.1663.1">
     flag after the inner loop, if it is still
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1664.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.1665.1">
     , it means we could not find any number in
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1666.1">
      [2, n)
     </span>
    </em>
    <span class="koboSpan" id="kobo.1667.1">
     that is a proper divisor for
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1668.1">
      n
     </span>
    </code>
    <span class="koboSpan" id="kobo.1669.1">
     ; therefore,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1670.1">
      n
     </span>
    </code>
    <span class="koboSpan" id="kobo.1671.1">
     is a prime.
    </span>
    <span class="koboSpan" id="kobo.1671.2">
     We append
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1672.1">
      n
     </span>
    </code>
    <span class="koboSpan" id="kobo.1673.1">
     to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1674.1">
      primes
     </span>
    </code>
    <span class="koboSpan" id="kobo.1675.1">
     list and proceed to the next iteration, until
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1676.1">
      n
     </span>
    </code>
    <span class="koboSpan" id="kobo.1677.1">
     equals
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1678.1">
      100
     </span>
    </code>
    <span class="koboSpan" id="kobo.1679.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1680.1">
     Running this
    </span>
    <a id="_idIndexMarker361">
    </a>
    <span class="koboSpan" id="kobo.1681.1">
     code outputs:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.1682.1">$ python primes.py
[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61,
67, 71, 73, 79, 83, 89, 97]
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1683.1">
     Before proceeding, we will pose the following question: one of the iterations of the outer loop is different from the rest.
    </span>
    <span class="koboSpan" id="kobo.1683.2">
     Can you tell which iteration this is—and why?
    </span>
    <span class="koboSpan" id="kobo.1683.3">
     Think about it for a moment, go back to the code, try to work it out for yourself, and then keep reading.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1684.1">
     Did you find the answer?
    </span>
    <span class="koboSpan" id="kobo.1684.2">
     Do not feel bad if you did not, the skill to understand what the code does by simply looking at it takes time and experience to learn.
    </span>
    <span class="koboSpan" id="kobo.1684.3">
     It is an important skill to have as a programmer though, so try to exercise it whenever you can.
    </span>
    <span class="koboSpan" id="kobo.1684.4">
     We will tell you the answer now: the first iteration behaves differently from all the others.
    </span>
    <span class="koboSpan" id="kobo.1684.5">
     The reason is that in the first iteration,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1685.1">
      n
     </span>
    </code>
    <span class="koboSpan" id="kobo.1686.1">
     is
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1687.1">
      2
     </span>
    </code>
    <span class="koboSpan" id="kobo.1688.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1688.2">
     Therefore, the innermost
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1689.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.1690.1">
     loop will not run at all because it is a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1691.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.1692.1">
     loop that iterates over
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1693.1">
      range(2, 2)
     </span>
    </code>
    <span class="koboSpan" id="kobo.1694.1">
     , which is an empty range.
    </span>
    <span class="koboSpan" id="kobo.1694.2">
     Try it yourself, write a simple
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1695.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.1696.1">
     loop with that iterable, put a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1697.1">
      print
     </span>
    </code>
    <span class="koboSpan" id="kobo.1698.1">
     in the body, and see what happens when you run it.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1699.1">
     We are not going to try to make this code more efficient from an algorithmic point of view.
    </span>
    <span class="koboSpan" id="kobo.1699.2">
     But let us use some of what we learned in this chapter to at least make it easier to read:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.1700.1"># primes.else.py</span></span><span class="koboSpan" id="kobo.1701.1">
primes = []
upto = </span><span class="hljs-number"><span class="koboSpan" id="kobo.1702.1">100</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.1703.1">for</span></span><span class="koboSpan" id="kobo.1704.1"> n </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1705.1">in</span></span> <span class="hljs-built_in"><span class="koboSpan" id="kobo.1706.1">range</span></span><span class="koboSpan" id="kobo.1707.1">(</span><span class="hljs-number"><span class="koboSpan" id="kobo.1708.1">2</span></span><span class="koboSpan" id="kobo.1709.1">, upto + </span><span class="hljs-number"><span class="koboSpan" id="kobo.1710.1">1</span></span><span class="koboSpan" id="kobo.1711.1">):
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1712.1">for</span></span><span class="koboSpan" id="kobo.1713.1"> divisor </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1714.1">in</span></span> <span class="hljs-built_in"><span class="koboSpan" id="kobo.1715.1">range</span></span><span class="koboSpan" id="kobo.1716.1">(</span><span class="hljs-number"><span class="koboSpan" id="kobo.1717.1">2</span></span><span class="koboSpan" id="kobo.1718.1">, n):
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1719.1">if</span></span><span class="koboSpan" id="kobo.1720.1"> n % divisor == </span><span class="hljs-number"><span class="koboSpan" id="kobo.1721.1">0</span></span><span class="koboSpan" id="kobo.1722.1">:
            </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1723.1">break</span></span>
    <span class="hljs-keyword"><span class="koboSpan" id="kobo.1724.1">else</span></span><span class="koboSpan" id="kobo.1725.1">:
        primes.append(n)
</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1726.1">print</span></span><span class="koboSpan" id="kobo.1727.1">(primes)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1728.1">
     Using an
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1729.1">
      else
     </span>
    </code>
    <span class="koboSpan" id="kobo.1730.1">
     clause
    </span>
    <a id="_idIndexMarker362">
    </a>
    <span class="koboSpan" id="kobo.1731.1">
     on the inner loop allows us to get rid of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1732.1">
      is_prime
     </span>
    </code>
    <span class="koboSpan" id="kobo.1733.1">
     flag.
    </span>
    <span class="koboSpan" id="kobo.1733.2">
     Instead, we append
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1734.1">
      n
     </span>
    </code>
    <span class="koboSpan" id="kobo.1735.1">
     to the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1736.1">
      primes
     </span>
    </code>
    <span class="koboSpan" id="kobo.1737.1">
     list when we know that the inner loop has not encountered any
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1738.1">
      break
     </span>
    </code>
    <span class="koboSpan" id="kobo.1739.1">
     statements.
    </span>
    <span class="koboSpan" id="kobo.1739.2">
     It is only two lines shorter, but the code is simpler, cleaner, and reads better.
    </span>
    <span class="koboSpan" id="kobo.1739.3">
     This is important, as simplicity and readability count for a lot in programming.
    </span>
    <span class="koboSpan" id="kobo.1739.4">
     Always look for ways to simplify your code and make it easier to read.
    </span>
    <span class="koboSpan" id="kobo.1739.5">
     You will thank yourself when you return to it months later and have to try to understand what you did before.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-113">
    <span class="koboSpan" id="kobo.1740.1">
     Applying discounts
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.1741.1">
     In this example, we want to
    </span>
    <a id="_idIndexMarker363">
    </a>
    <span class="koboSpan" id="kobo.1742.1">
     show you a technique
    </span>
    <a id="_idIndexMarker364">
    </a>
    <span class="koboSpan" id="kobo.1743.1">
     called a
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.1744.1">
      lookup table
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1745.1">
     , which we are very fond of.
    </span>
    <span class="koboSpan" id="kobo.1745.2">
     We will start by simply writing some code that assigns a discount to customers based on their coupon value.
    </span>
    <span class="koboSpan" id="kobo.1745.3">
     We will keep the logic down to a minimum here—remember that all we really care about is understanding conditionals and loops:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.1746.1"># coupons.py</span></span><span class="koboSpan" id="kobo.1747.1">
customers = [
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1748.1">dict</span></span><span class="koboSpan" id="kobo.1749.1">(</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1750.1">id</span></span><span class="koboSpan" id="kobo.1751.1">=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1752.1">1</span></span><span class="koboSpan" id="kobo.1753.1">, total=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1754.1">200</span></span><span class="koboSpan" id="kobo.1755.1">, coupon_code="F20"),  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1756.1"># F20: fixed, £20</span></span>
    <span class="hljs-built_in"><span class="koboSpan" id="kobo.1757.1">dict</span></span><span class="koboSpan" id="kobo.1758.1">(</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1759.1">id</span></span><span class="koboSpan" id="kobo.1760.1">=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1761.1">2</span></span><span class="koboSpan" id="kobo.1762.1">, total=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1763.1">150</span></span><span class="koboSpan" id="kobo.1764.1">, coupon_code="P30"),  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1765.1"># P30: percent, 30%</span></span>
    <span class="hljs-built_in"><span class="koboSpan" id="kobo.1766.1">dict</span></span><span class="koboSpan" id="kobo.1767.1">(</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1768.1">id</span></span><span class="koboSpan" id="kobo.1769.1">=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1770.1">3</span></span><span class="koboSpan" id="kobo.1771.1">, total=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1772.1">100</span></span><span class="koboSpan" id="kobo.1773.1">, coupon_code="P50"),  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1774.1"># P50: percent, 50%</span></span>
    <span class="hljs-built_in"><span class="koboSpan" id="kobo.1775.1">dict</span></span><span class="koboSpan" id="kobo.1776.1">(</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1777.1">id</span></span><span class="koboSpan" id="kobo.1778.1">=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1779.1">4</span></span><span class="koboSpan" id="kobo.1780.1">, total=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1781.1">110</span></span><span class="koboSpan" id="kobo.1782.1">, coupon_code="F15"),  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1783.1"># F15: fixed, £15</span></span><span class="koboSpan" id="kobo.1784.1">
]
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1785.1">for</span></span><span class="koboSpan" id="kobo.1786.1"> customer </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1787.1">in</span></span><span class="koboSpan" id="kobo.1788.1"> customers:
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1789.1">match</span></span><span class="koboSpan" id="kobo.1790.1"> customer["coupon_code"]:
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1791.1">case</span></span><span class="koboSpan" id="kobo.1792.1"> "F20":
            customer["discount"] = </span><span class="hljs-number"><span class="koboSpan" id="kobo.1793.1">20.0</span></span>
        <span class="hljs-keyword"><span class="koboSpan" id="kobo.1794.1">case</span></span><span class="koboSpan" id="kobo.1795.1"> "F15":
            customer["discount"] = </span><span class="hljs-number"><span class="koboSpan" id="kobo.1796.1">15.0</span></span>
        <span class="hljs-keyword"><span class="koboSpan" id="kobo.1797.1">case</span></span><span class="koboSpan" id="kobo.1798.1"> "P30":
            customer["discount"] = customer["total"] * </span><span class="hljs-number"><span class="koboSpan" id="kobo.1799.1">0.3</span></span>
        <span class="hljs-keyword"><span class="koboSpan" id="kobo.1800.1">case</span></span><span class="koboSpan" id="kobo.1801.1"> "P50":
            customer["discount"] = customer["total"] * </span><span class="hljs-number"><span class="koboSpan" id="kobo.1802.1">0.5</span></span>
        <span class="hljs-keyword"><span class="koboSpan" id="kobo.1803.1">case</span></span><span class="koboSpan" id="kobo.1804.1"> _:
            customer["discount"] = </span><span class="hljs-number"><span class="koboSpan" id="kobo.1805.1">0.0</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.1806.1">for</span></span><span class="koboSpan" id="kobo.1807.1"> customer </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1808.1">in</span></span><span class="koboSpan" id="kobo.1809.1"> customers:
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1810.1">print</span></span><span class="koboSpan" id="kobo.1811.1">(customer["</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1812.1">id</span></span><span class="koboSpan" id="kobo.1813.1">"], customer["total"], customer["discount"])
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1814.1">
     We start by setting up some customers.
    </span>
    <span class="koboSpan" id="kobo.1814.2">
     They have an order total, a coupon code, and an ID.
    </span>
    <span class="koboSpan" id="kobo.1814.3">
     We made up four types of coupons: two are for fixed amounts and two are percentage-based.
    </span>
    <span class="koboSpan" id="kobo.1814.4">
     We use a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1815.1">
      match
     </span>
    </code>
    <span class="koboSpan" id="kobo.1816.1">
     statement, with a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1817.1">
      case
     </span>
    </code>
    <span class="koboSpan" id="kobo.1818.1">
     for each coupon code and a wildcard to handle invalid coupons.
    </span>
    <span class="koboSpan" id="kobo.1818.2">
     We compute the discount and set it as the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1819.1">
      "discount"
     </span>
    </code>
    <span class="koboSpan" id="kobo.1820.1">
     key in the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1821.1">
      customer
     </span>
    </code>
    <span class="koboSpan" id="kobo.1822.1">
     dictionary.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1823.1">
     Finally, we just print out part of
    </span>
    <a id="_idIndexMarker365">
    </a>
    <span class="koboSpan" id="kobo.1824.1">
     the data to see whether our code works properly:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.1825.1">$ python coupons.py
1 200 20.0
2 150 45.0
3 100 50.0
4 110 15.0
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1826.1">
     This code is simple to understand, but all those
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1827.1">
      match
     </span>
    </code>
    <span class="koboSpan" id="kobo.1828.1">
     cases are cluttering the logic.
    </span>
    <span class="koboSpan" id="kobo.1828.2">
     Adding more coupon codes requires adding additional cases and implementing the discount calculation for each case.
    </span>
    <span class="koboSpan" id="kobo.1828.3">
     The discount calculation is very similar in most cases, which makes the code repetitive and violates
    </span>
    <a id="_idIndexMarker366">
    </a>
    <span class="koboSpan" id="kobo.1829.1">
     the
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.1830.1">
      Don’t Repeat Yourself
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1831.1">
     (
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.1832.1">
      DRY
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1833.1">
     ) principle.
    </span>
    <span class="koboSpan" id="kobo.1833.2">
     In cases like this, you can use a dictionary to your advantage, like this:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.1834.1"># coupons.dict.py</span></span><span class="koboSpan" id="kobo.1835.1">
customers = [
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1836.1">dict</span></span><span class="koboSpan" id="kobo.1837.1">(</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1838.1">id</span></span><span class="koboSpan" id="kobo.1839.1">=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1840.1">1</span></span><span class="koboSpan" id="kobo.1841.1">, total=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1842.1">200</span></span><span class="koboSpan" id="kobo.1843.1">, coupon_code="F20"),  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1844.1"># F20: fixed, £20</span></span>
    <span class="hljs-built_in"><span class="koboSpan" id="kobo.1845.1">dict</span></span><span class="koboSpan" id="kobo.1846.1">(</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1847.1">id</span></span><span class="koboSpan" id="kobo.1848.1">=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1849.1">2</span></span><span class="koboSpan" id="kobo.1850.1">, total=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1851.1">150</span></span><span class="koboSpan" id="kobo.1852.1">, coupon_code="P30"),  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1853.1"># P30: percent, 30%</span></span>
    <span class="hljs-built_in"><span class="koboSpan" id="kobo.1854.1">dict</span></span><span class="koboSpan" id="kobo.1855.1">(</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1856.1">id</span></span><span class="koboSpan" id="kobo.1857.1">=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1858.1">3</span></span><span class="koboSpan" id="kobo.1859.1">, total=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1860.1">100</span></span><span class="koboSpan" id="kobo.1861.1">, coupon_code="P50"),  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1862.1"># P50: percent, 50%</span></span>
    <span class="hljs-built_in"><span class="koboSpan" id="kobo.1863.1">dict</span></span><span class="koboSpan" id="kobo.1864.1">(</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1865.1">id</span></span><span class="koboSpan" id="kobo.1866.1">=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1867.1">4</span></span><span class="koboSpan" id="kobo.1868.1">, total=</span><span class="hljs-number"><span class="koboSpan" id="kobo.1869.1">110</span></span><span class="koboSpan" id="kobo.1870.1">, coupon_code="F15"),  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1871.1"># F15: fixed, £15</span></span><span class="koboSpan" id="kobo.1872.1">
]
discounts = {
    "F20": (</span><span class="hljs-number"><span class="koboSpan" id="kobo.1873.1">0.0</span></span><span class="koboSpan" id="kobo.1874.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.1875.1">20.0</span></span><span class="koboSpan" id="kobo.1876.1">),  </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1877.1"># each value is (percent, fixed)</span></span><span class="koboSpan" id="kobo.1878.1">
    "P30": (</span><span class="hljs-number"><span class="koboSpan" id="kobo.1879.1">0.3</span></span><span class="koboSpan" id="kobo.1880.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.1881.1">0.0</span></span><span class="koboSpan" id="kobo.1882.1">),
    "P50": (</span><span class="hljs-number"><span class="koboSpan" id="kobo.1883.1">0.5</span></span><span class="koboSpan" id="kobo.1884.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.1885.1">0.0</span></span><span class="koboSpan" id="kobo.1886.1">),
    "F15": (</span><span class="hljs-number"><span class="koboSpan" id="kobo.1887.1">0.0</span></span><span class="koboSpan" id="kobo.1888.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.1889.1">15.0</span></span><span class="koboSpan" id="kobo.1890.1">),
}
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1891.1">for</span></span><span class="koboSpan" id="kobo.1892.1"> customer </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1893.1">in</span></span><span class="koboSpan" id="kobo.1894.1"> customers:
    code = customer["coupon_code"]
    percent, fixed = discounts.get(code, (</span><span class="hljs-number"><span class="koboSpan" id="kobo.1895.1">0.0</span></span><span class="koboSpan" id="kobo.1896.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.1897.1">0.0</span></span><span class="koboSpan" id="kobo.1898.1">))
    customer["discount"] = percent * customer["total"] + fixed
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1899.1">for</span></span><span class="koboSpan" id="kobo.1900.1"> customer </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1901.1">in</span></span><span class="koboSpan" id="kobo.1902.1"> customers:
    </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1903.1">print</span></span><span class="koboSpan" id="kobo.1904.1">(customer["</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.1905.1">id</span></span><span class="koboSpan" id="kobo.1906.1">"], customer["total"], customer["discount"])
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1907.1">
     Running the preceding code produces exactly the same output as the snippet before it.
    </span>
    <span class="koboSpan" id="kobo.1907.2">
     The code is two lines shorter, but more importantly, we gained a lot in readability, as the body of the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1908.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.1909.1">
     loop is now just three lines long and easy to understand.
    </span>
    <span class="koboSpan" id="kobo.1909.2">
     The key idea here is to use a
    </span>
    <a id="_idIndexMarker367">
    </a>
    <span class="koboSpan" id="kobo.1910.1">
     dictionary as a
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.1911.1">
      lookup table
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1912.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1912.2">
     In
    </span>
    <a id="_idIndexMarker368">
    </a>
    <span class="koboSpan" id="kobo.1913.1">
     other words, we try to fetch something (the parameters for the discount calculation) from the dictionary based on a code (our
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1914.1">
      coupon_code
     </span>
    </code>
    <span class="koboSpan" id="kobo.1915.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.1915.2">
     We use
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1916.1">
      dict.get(key, default)
     </span>
    </code>
    <span class="koboSpan" id="kobo.1917.1">
     to ensure that we can handle codes that are not in the dictionary, by supplying a default value.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1918.1">
     Aside from readability, another major advantage of this approach is that we can easily add new coupon codes (or remove old ones) without changing the implementation; we only need to change the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1919.1">
      data
     </span>
    </em>
    <span class="koboSpan" id="kobo.1920.1">
     in the lookup table.
    </span>
    <span class="koboSpan" id="kobo.1920.2">
     In a real-world application, we could even store the lookup table in a database and provide an interface for users to add or remove coupon codes at runtime.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1921.1">
     Notice that we had to apply some simple linear algebra to calculate the discount.
    </span>
    <span class="koboSpan" id="kobo.1921.2">
     Each discount has a percentage and fixed part in the dictionary, represented by a two-tuple.
    </span>
    <span class="koboSpan" id="kobo.1921.3">
     By applying
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1922.1">
      percent * total + fixed
     </span>
    </code>
    <span class="koboSpan" id="kobo.1923.1">
     , we get the correct discount.
    </span>
    <span class="koboSpan" id="kobo.1923.2">
     When
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1924.1">
      percent
     </span>
    </code>
    <span class="koboSpan" id="kobo.1925.1">
     is
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1926.1">
      0
     </span>
    </code>
    <span class="koboSpan" id="kobo.1927.1">
     , the formula just gives the fixed amount, and it gives
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1928.1">
      percent * total
     </span>
    </code>
    <span class="koboSpan" id="kobo.1929.1">
     when
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1930.1">
      fixed
     </span>
    </code>
    <span class="koboSpan" id="kobo.1931.1">
     is
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1932.1">
      0
     </span>
    </code>
    <span class="koboSpan" id="kobo.1933.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1934.1">
     This technique is closely related
    </span>
    <a id="_idIndexMarker369">
    </a>
    <span class="koboSpan" id="kobo.1935.1">
     to
    </span>
    <strong class="keyWord">
     <span class="koboSpan" id="kobo.1936.1">
      dispatch tables
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1937.1">
     , which store functions as values in a table.
    </span>
    <span class="koboSpan" id="kobo.1937.2">
     This allows for even greater flexibility.
    </span>
    <span class="koboSpan" id="kobo.1937.3">
     Some object-oriented programming languages use this technique internally to implement features such as virtual methods.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.1938.1">
     If you are still unclear as to how this works, we suggest you take your time and experiment with it.
    </span>
    <span class="koboSpan" id="kobo.1938.2">
     Change values and add
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1939.1">
      print()
     </span>
    </code>
    <span class="koboSpan" id="kobo.1940.1">
     statements to see what is going on while the program is running.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-114">
    <span class="koboSpan" id="kobo.1941.1">
     A quick peek at the itertools module
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.1942.1">
     A chapter about iterables, iterators, conditional logic, and looping would not be complete without a few words about
    </span>
    <a id="_idIndexMarker370">
    </a>
    <span class="koboSpan" id="kobo.1943.1">
     the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1944.1">
      itertools
     </span>
    </code>
    <span class="koboSpan" id="kobo.1945.1">
     module.
    </span>
    <span class="koboSpan" id="kobo.1945.2">
     According to the Python official
    </span>
    <a id="_idIndexMarker371">
    </a>
    <span class="koboSpan" id="kobo.1946.1">
     documentation (
    </span>
    <a href="https://docs.python.org/3.12/library/itertools.html">
     <span class="url">
      <span class="koboSpan" id="kobo.1947.1">
       https://docs.python.org/3.12/library/itertools.html
      </span>
     </span>
    </a>
    <span class="koboSpan" id="kobo.1948.1">
     ), the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1949.1">
      itertools
     </span>
    </code>
    <span class="koboSpan" id="kobo.1950.1">
     module:
    </span>
   </p>
   <blockquote class="packt_quote">
    <p class="quote">
     <span class="koboSpan" id="kobo.1951.1">
      …implements a number of iterator building blocks inspired by constructs from APL, Haskell, and SML.
     </span>
     <span class="koboSpan" id="kobo.1951.2">
      Each has been recast in a form suitable for Python.
     </span>
    </p>
    <p class="quote">
     <span class="koboSpan" id="kobo.1952.1">
      The module standardizes a core set of fast, memory efficient tools that are useful by themselves or in combination.
     </span>
     <span class="koboSpan" id="kobo.1952.2">
      Together, they form an “iterator algebra” making it possible to construct specialized tools succinctly and efficiently in pure Python.
     </span>
    </p>
   </blockquote>
   <p class="normal">
    <span class="koboSpan" id="kobo.1953.1">
     We do not have room here to show you everything this module has to offer, so we encourage you to explore it further for yourself.
    </span>
    <span class="koboSpan" id="kobo.1953.2">
     However, we can promise that you will enjoy it.
    </span>
    <span class="koboSpan" id="kobo.1953.3">
     It provides you with three broad categories of iterators.
    </span>
    <span class="koboSpan" id="kobo.1953.4">
     As an introduction, we shall give you a small example of one iterator taken from each category.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-115">
    <span class="koboSpan" id="kobo.1954.1">
     Infinite iterators
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.1955.1">
     Infinite iterators allow
    </span>
    <a id="_idIndexMarker372">
    </a>
    <span class="koboSpan" id="kobo.1956.1">
     you to use a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1957.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.1958.1">
     loop as an infinite loop, iterating over a sequence that never ends:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.1959.1"># infinite.py</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.1960.1">from</span></span><span class="koboSpan" id="kobo.1961.1"> itertools </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1962.1">import</span></span><span class="koboSpan" id="kobo.1963.1"> count
</span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1964.1">for</span></span><span class="koboSpan" id="kobo.1965.1"> n </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1966.1">in</span></span><span class="koboSpan" id="kobo.1967.1"> count(</span><span class="hljs-number"><span class="koboSpan" id="kobo.1968.1">5</span></span><span class="koboSpan" id="kobo.1969.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.1970.1">3</span></span><span class="koboSpan" id="kobo.1971.1">):
    </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1972.1">if</span></span><span class="koboSpan" id="kobo.1973.1"> n &gt; </span><span class="hljs-number"><span class="koboSpan" id="kobo.1974.1">20</span></span><span class="koboSpan" id="kobo.1975.1">:
        </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.1976.1">break</span></span>
    <span class="hljs-built_in"><span class="koboSpan" id="kobo.1977.1">print</span></span><span class="koboSpan" id="kobo.1978.1">(n, end=", ") </span><span class="hljs-comment"><span class="koboSpan" id="kobo.1979.1"># instead of newline, comma and space</span></span>
</code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1980.1">
     Running the code outputs:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.1981.1">$ python infinite.py
5, 8, 11, 14, 17, 20,
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.1982.1">
     The
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1983.1">
      count
     </span>
    </code>
    <span class="koboSpan" id="kobo.1984.1">
     factory class makes an iterator that simply goes on and on counting.
    </span>
    <span class="koboSpan" id="kobo.1984.2">
     In this example, it starts from
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1985.1">
      5
     </span>
    </code>
    <span class="koboSpan" id="kobo.1986.1">
     and keeps adding
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1987.1">
      3
     </span>
    </code>
    <span class="koboSpan" id="kobo.1988.1">
     at every iteration.
    </span>
    <span class="koboSpan" id="kobo.1988.2">
     We need to break it manually if we do not want to get stuck in an infinite loop.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-116">
    <span class="koboSpan" id="kobo.1989.1">
     Iterators terminating on the shortest input sequence
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.1990.1">
     This category is quite
    </span>
    <a id="_idIndexMarker373">
    </a>
    <span class="koboSpan" id="kobo.1991.1">
     interesting.
    </span>
    <span class="koboSpan" id="kobo.1991.2">
     It allows you to create an iterator based on multiple iterators, combining their values according to some logic.
    </span>
    <span class="koboSpan" id="kobo.1991.3">
     The key point here is that the resulting iterator will not break if one of the input iterators is shorter than the rest.
    </span>
    <span class="koboSpan" id="kobo.1991.4">
     It will simply stop as soon as the shortest iterator is exhausted.
    </span>
    <span class="koboSpan" id="kobo.1991.5">
     This may seem rather abstract, so let us give you an example using
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1992.1">
      compress()
     </span>
    </code>
    <span class="koboSpan" id="kobo.1993.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1993.2">
     This iterator takes a sequence of
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1994.1">
      data
     </span>
    </em>
    <span class="koboSpan" id="kobo.1995.1">
     and a sequence of
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1996.1">
      selectors
     </span>
    </em>
    <span class="koboSpan" id="kobo.1997.1">
     , yielding only those values from the data sequence that correspond to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.1998.1">
      True
     </span>
    </code>
    <span class="koboSpan" id="kobo.1999.1">
     values in the selectors sequence.
    </span>
    <span class="koboSpan" id="kobo.1999.2">
     For example,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2000.1">
      compress("ABC", (1, 0, 1))
     </span>
    </code>
    <span class="koboSpan" id="kobo.2001.1">
     would give back
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2002.1">
      "A"
     </span>
    </code>
    <span class="koboSpan" id="kobo.2003.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2004.1">
      "C"
     </span>
    </code>
    <span class="koboSpan" id="kobo.2005.1">
     because they correspond to
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2006.1">
      1
     </span>
    </code>
    <span class="koboSpan" id="kobo.2007.1">
     .
    </span>
    <span class="koboSpan" id="kobo.2007.2">
     Let us see a simple example:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.2008.1"># compress.py</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.2009.1">from</span></span><span class="koboSpan" id="kobo.2010.1"> itertools </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.2011.1">import</span></span><span class="koboSpan" id="kobo.2012.1"> compress
data = </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2013.1">range</span></span><span class="koboSpan" id="kobo.2014.1">(</span><span class="hljs-number"><span class="koboSpan" id="kobo.2015.1">10</span></span><span class="koboSpan" id="kobo.2016.1">)
even_selector = [</span><span class="hljs-number"><span class="koboSpan" id="kobo.2017.1">1</span></span><span class="koboSpan" id="kobo.2018.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.2019.1">0</span></span><span class="koboSpan" id="kobo.2020.1">] * </span><span class="hljs-number"><span class="koboSpan" id="kobo.2021.1">10</span></span><span class="koboSpan" id="kobo.2022.1">
odd_selector = [</span><span class="hljs-number"><span class="koboSpan" id="kobo.2023.1">0</span></span><span class="koboSpan" id="kobo.2024.1">, </span><span class="hljs-number"><span class="koboSpan" id="kobo.2025.1">1</span></span><span class="koboSpan" id="kobo.2026.1">] * </span><span class="hljs-number"><span class="koboSpan" id="kobo.2027.1">10</span></span><span class="koboSpan" id="kobo.2028.1">
even_numbers = </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2029.1">list</span></span><span class="koboSpan" id="kobo.2030.1">(compress(data, even_selector))
odd_numbers = </span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2031.1">list</span></span><span class="koboSpan" id="kobo.2032.1">(compress(data, odd_selector))
</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2033.1">print</span></span><span class="koboSpan" id="kobo.2034.1">(odd_selector)
</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2035.1">print</span></span><span class="koboSpan" id="kobo.2036.1">(</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2037.1">list</span></span><span class="koboSpan" id="kobo.2038.1">(data))
</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2039.1">print</span></span><span class="koboSpan" id="kobo.2040.1">(even_numbers)
</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2041.1">print</span></span><span class="koboSpan" id="kobo.2042.1">(odd_numbers)
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.2043.1">
     Notice that
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2044.1">
      odd_selector
     </span>
    </code>
    <span class="koboSpan" id="kobo.2045.1">
     and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2046.1">
      even_selector
     </span>
    </code>
    <span class="koboSpan" id="kobo.2047.1">
     are 20 elements in length, while
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2048.1">
      data
     </span>
    </code>
    <span class="koboSpan" id="kobo.2049.1">
     is only 10.
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2050.1">
      compress()
     </span>
    </code>
    <span class="koboSpan" id="kobo.2051.1">
     will stop as soon as
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2052.1">
      data
     </span>
    </code>
    <span class="koboSpan" id="kobo.2053.1">
     has yielded its last element.
    </span>
    <span class="koboSpan" id="kobo.2053.2">
     Running this code produces the following:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.2054.1">$ python compress.py
[0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[0, 2, 4, 6, 8]
[1, 3, 5, 7, 9]
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.2055.1">
     It is a fast and convenient way of selecting elements out of an iterable.
    </span>
    <span class="koboSpan" id="kobo.2055.2">
     The code is simple, but notice that instead of using a
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2056.1">
      for
     </span>
    </code>
    <span class="koboSpan" id="kobo.2057.1">
     loop to iterate over each value that is given back by the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2058.1">
      compress()
     </span>
    </code>
    <span class="koboSpan" id="kobo.2059.1">
     calls, we used
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2060.1">
      list()
     </span>
    </code>
    <span class="koboSpan" id="kobo.2061.1">
     , which does the same, but instead of executing a body of instructions, it puts all the values into a list and returns it.
    </span>
   </p>
   <h2 class="heading-2" id="_idParaDest-117">
    <span class="koboSpan" id="kobo.2062.1">
     Combinatoric generators
    </span>
   </h2>
   <p class="normal">
    <span class="koboSpan" id="kobo.2063.1">
     The
    </span>
    <a id="_idIndexMarker374">
    </a>
    <span class="koboSpan" id="kobo.2064.1">
     third category of iterators from
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2065.1">
      itertools
     </span>
    </code>
    <span class="koboSpan" id="kobo.2066.1">
     is combinatoric generators.
    </span>
    <span class="koboSpan" id="kobo.2066.2">
     Let us look at a simple example of permutations.
    </span>
    <span class="koboSpan" id="kobo.2066.3">
     According to Wolfram
    </span>
    <a id="_idIndexMarker375">
    </a>
    <span class="koboSpan" id="kobo.2067.1">
     MathWorld:
    </span>
   </p>
   <blockquote class="packt_quote">
    <p class="quote">
     <span class="koboSpan" id="kobo.2068.1">
      A permutation, also called an “arrangement number” or “order,” is a rearrangement of the elements of an ordered list S into a one-to-one correspondence with S itself.
     </span>
    </p>
   </blockquote>
   <p class="normal">
    <span class="koboSpan" id="kobo.2069.1">
     For example, there are six permutations of
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2070.1">
      ABC
     </span>
    </code>
    <span class="koboSpan" id="kobo.2071.1">
     :
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2072.1">
      ABC
     </span>
    </code>
    <span class="koboSpan" id="kobo.2073.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2074.1">
      ACB
     </span>
    </code>
    <span class="koboSpan" id="kobo.2075.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2076.1">
      BAC
     </span>
    </code>
    <span class="koboSpan" id="kobo.2077.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2078.1">
      BCA
     </span>
    </code>
    <span class="koboSpan" id="kobo.2079.1">
     ,
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2080.1">
      CAB
     </span>
    </code>
    <span class="koboSpan" id="kobo.2081.1">
     , and
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2082.1">
      CBA
     </span>
    </code>
    <span class="koboSpan" id="kobo.2083.1">
     .
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.2084.1">
     If a set has
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.2085.1">
      N
     </span>
    </em>
    <span class="koboSpan" id="kobo.2086.1">
     elements, then the number of permutations of them is
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.2087.1">
      N!
     </span>
    </em>
    <span class="koboSpan" id="kobo.2088.1">
     (
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.2089.1">
      N
     </span>
    </em>
    <span class="koboSpan" id="kobo.2090.1">
     factorial).
    </span>
    <span class="koboSpan" id="kobo.2090.2">
     For example, the string
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2091.1">
      ABC
     </span>
    </code>
    <span class="koboSpan" id="kobo.2092.1">
     has
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.2093.1">
      3!
     </span>
     <span class="koboSpan" id="kobo.2093.2">
      = 3 * 2 * 1 = 6
     </span>
    </em>
    <span class="koboSpan" id="kobo.2094.1">
     permutations.
    </span>
    <span class="koboSpan" id="kobo.2094.2">
     Let us see this in Python:
    </span>
   </p>
   <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment"><span class="koboSpan" id="kobo.2095.1"># permutations.py</span></span>
<span class="hljs-keyword"><span class="koboSpan" id="kobo.2096.1">from</span></span><span class="koboSpan" id="kobo.2097.1"> itertools </span><span class="hljs-keyword"><span class="koboSpan" id="kobo.2098.1">import</span></span><span class="koboSpan" id="kobo.2099.1"> permutations
</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2100.1">print</span></span><span class="koboSpan" id="kobo.2101.1">(</span><span class="hljs-built_in"><span class="koboSpan" id="kobo.2102.1">list</span></span><span class="koboSpan" id="kobo.2103.1">(permutations("ABC")))
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.2104.1">
     This short snippet of code produces the following result:
    </span>
   </p>
   <pre class="programlisting con"><code class="hljs-con"><span class="koboSpan" id="kobo.2105.1">$ python permutations.py
[('A', 'B', 'C'), ('A', 'C', 'B'), ('B', 'A', 'C'), ('B', 'C', 'A'),
('C', 'A', 'B'), ('C', 'B', 'A')]
</span></code></pre>
   <p class="normal">
    <span class="koboSpan" id="kobo.2106.1">
     Be careful when you play with permutations.
    </span>
    <span class="koboSpan" id="kobo.2106.2">
     Their number grows at a rate that is proportional to the factorial of the number of elements you are permuting, and that number can get really big, really fast.
    </span>
   </p>
   <div class="packt_tip">
    <p class="normal">
     <span class="koboSpan" id="kobo.2107.1">
      There is a third-party library that expands on the
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2108.1">
       itertools
      </span>
     </code>
     <span class="koboSpan" id="kobo.2109.1">
      module, called
     </span>
     <code class="inlineCode">
      <span class="koboSpan" id="kobo.2110.1">
       more-itertools
      </span>
     </code>
     <span class="koboSpan" id="kobo.2111.1">
      .
     </span>
     <span class="koboSpan" id="kobo.2111.2">
      You can find its
     </span>
     <a id="_idIndexMarker376">
     </a>
     <span class="koboSpan" id="kobo.2112.1">
      documentation at
     </span>
     <a href="https://more-itertools.readthedocs.io/">
      <span class="url">
       <span class="koboSpan" id="kobo.2113.1">
        https://more-itertools.readthedocs.io/
       </span>
      </span>
     </a>
     <span class="koboSpan" id="kobo.2114.1">
      .
     </span>
    </p>
   </div>
   <h1 class="heading-1" id="_idParaDest-118">
    <span class="koboSpan" id="kobo.2115.1">
     Summary
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.2116.1">
     In this chapter, we have taken another step toward expanding our Python vocabulary.
    </span>
    <span class="koboSpan" id="kobo.2116.2">
     We have seen how to drive the execution of code by evaluating conditions, along with how to loop and iterate over sequences and collections of objects.
    </span>
    <span class="koboSpan" id="kobo.2116.3">
     This gives us the power to control what happens when our code is run, which means we get an idea of how to shape it so that it does what we want, having it react to data that changes dynamically.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.2117.1">
     We have also seen how to combine everything together in a couple of simple examples, and finally, we took a brief look at the
    </span>
    <code class="inlineCode">
     <span class="koboSpan" id="kobo.2118.1">
      itertools
     </span>
    </code>
    <span class="koboSpan" id="kobo.2119.1">
     module, which is full of interesting iterators that can enrich our abilities with Python to a greater degree.
    </span>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.2120.1">
     Now, it is time to switch gears, take another step forward, and talk about functions.
    </span>
    <span class="koboSpan" id="kobo.2120.2">
     The next chapter is all about them, and they are extremely important.
    </span>
    <span class="koboSpan" id="kobo.2120.3">
     Make sure you are comfortable with what has been covered so far.
    </span>
    <span class="koboSpan" id="kobo.2120.4">
     We want to provide you with interesting examples, so let’s go.
    </span>
   </p>
   <h1 class="heading-1" id="_idParaDest-119">
    <span class="koboSpan" id="kobo.2121.1">
     Join our community on Discord
    </span>
   </h1>
   <p class="normal">
    <span class="koboSpan" id="kobo.2122.1">
     Join our community’s Discord space for discussions with the authors and other readers:
    </span>
   </p>
   <p class="normal">
    <a href="Chapter_3.xhtml">
     <span class="url">
      <span class="koboSpan" id="kobo.2123.1">
       https://discord.com/invite/uaKmaz7FEC
      </span>
     </span>
    </a>
   </p>
   <p class="normal">
    <span class="koboSpan" id="kobo.2124.1">
     <img alt="img" src="../Images/QR_Code119001106417026468.png"/>
    </span>
   </p>
  </div>
 </body></html>