<html><head></head><body>
		<div id="_idContainer041">
			<h1 id="_idParaDest-66" class="chapter-number"><a id="_idTextAnchor068"/><a id="_idTextAnchor069"/><a id="_idTextAnchor070"/><st c="0">4</st></h1>
			<h1 id="_idParaDest-67"><a id="_idTextAnchor071"/><st c="2">Creating a Movies App with Dummy Data</st></h1>
			<p><st c="39">Currently, our project contains a single application with a couple of sections that display static information. </st><st c="152">Web applications are more complex. </st><st c="187">In this chapter, we will learn how to develop more complex applications, such as the movies app. </st><st c="284">The movies app will serve to list movies and enable users to click on them to display their data on a separate page. </st><st c="401">For now, we will use dummy data to simulate the </st><span class="No-Break"><st c="449">movie data.</st></span></p>
			<p><st c="460">In this chapter, we will be covering the </st><span class="No-Break"><st c="502">following topics:</st></span></p>
			<ul>
				<li><st c="519">Creating the </st><span class="No-Break"><st c="533">movies app</st></span></li>
				<li><st c="543">Listing movies with </st><span class="No-Break"><st c="564">dummy data</st></span></li>
				<li><st c="574">Listing </st><span class="No-Break"><st c="583">individual movies</st></span></li>
				<li><st c="600">Adding a link in the </st><span class="No-Break"><st c="622">base template</st></span></li>
			</ul>
			<p><st c="635">By the end, we will know how to create more complex Django apps and how to manage information inside </st><span class="No-Break"><st c="737">those apps.</st></span></p>
			<h1 id="_idParaDest-68"><a id="_idTextAnchor072"/><st c="748">Technical requirements</st></h1>
			<p><st c="771">In this chapter, we will be using Python 3.10+. </st><st c="820">Additionally, we will be using the </st><strong class="bold"><st c="855">VS Code</st></strong><st c="862"> editor in this book, which you can download </st><span class="No-Break"><st c="907">from </st></span><span class="No-Break"><st c="912">https://code.visualstudio.com/</st></span><span class="No-Break"><st c="942">.</st></span></p>
			<p><st c="943">The code for this chapter is located </st><span class="No-Break"><st c="981">at </st></span><span class="No-Break"><st c="984">https://github.com/PacktPublishing/Django-5-for-the-Impatient-Second-Edition/tree/main/Chapter04/moviesstore</st></span><span class="No-Break"><st c="1092">.</st></span></p>
			<p><st c="1093">The CiA video for this chapter can be found </st><span class="No-Break"><st c="1138">at </st></span><a href="https://packt.link/WmJR1"><span class="No-Break"><st c="1141">https://packt.link/WmJR1</st></span></a></p>
			<h1 id="_idParaDest-69"><a id="_idTextAnchor073"/><st c="1165">Creating the movies app</st></h1>
			<p><st c="1189">Currently, we have a home app that contains the logic to navigate between the </st><strong class="bold"><st c="1268">Home</st></strong><st c="1272"> and </st><strong class="bold"><st c="1277">About</st></strong><st c="1282"> pages. </st><st c="1290">Now, we are going to start designing and implementing the movies logic. </st><st c="1362">We prefer to separate this logic from the home app. </st><st c="1414">So, let’s create a new Django app. </st><st c="1449">We will follow the next steps: (i) creating the movies app, (ii) adding the movies app to settings, and (iii) including</st><a id="_idIndexMarker131"/><st c="1568"> the movies URL file in the project-level </st><span class="No-Break"><st c="1610">URL file.</st></span></p>
			<h2 id="_idParaDest-70"><a id="_idTextAnchor074"/><st c="1619">Creating the movies app</st></h2>
			<p><st c="1643">Navigate to the top </st><strong class="source-inline"><st c="1664">moviesstore</st></strong><st c="1675"> folder (the one that contains the </st><strong class="source-inline"><st c="1710">manage.py</st></strong><st c="1719"> file) and run the following in </st><span class="No-Break"><st c="1751">the Terminal:</st></span></p>
			<p><st c="1764">For macOS, run the </st><span class="No-Break"><st c="1784">following command:</st></span></p>
			<pre class="console"><st c="1802">
python3 manage.py startapp movies</st></pre>			<p><st c="1836">For Windows, run the </st><span class="No-Break"><st c="1858">following command:</st></span></p>
			<pre class="console"><st c="1876">
python manage.py startapp movies</st></pre>			<p><span class="No-Break"><em class="italic"><st c="1909">Figure 4</st></em></span><em class="italic"><st c="1918">.1</st></em><st c="1920"> shows the new project structure. </st><st c="1954">Verify that it matches your current </st><span class="No-Break"><st c="1990">folder structure.</st></span></p>
			<div>
				<div id="_idContainer037" class="IMG---Figure">
					<img src="image/B22457_04_01.jpg" alt="Figure 4.1 – The MOVIESSTORE project structure containing the movies app"/><st c="2007"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="2150">Figure 4.1 – The MOVIESSTORE project structure containing the movies app</st></p>
			<h2 id="_idParaDest-71"><a id="_idTextAnchor075"/><st c="2222">Adding the movies app to settings</st></h2>
			<p><st c="2256">Remember that for</st><a id="_idIndexMarker132"/><st c="2274"> each newly created app, we must register it in the </st><strong class="source-inline"><st c="2326">settings.py</st></strong><st c="2337"> file. </st><st c="2344">In </st><strong class="source-inline"><st c="2347">/moviesstore/settings.py</st></strong><st c="2371">, under </st><strong class="source-inline"><st c="2379">INSTALLED_APPS</st></strong><st c="2393">, add the following </st><span class="No-Break"><st c="2413">in bold:</st></span></p>
			<pre class="source-code"><st c="2421">
…
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'home',
</st><strong class="bold"><st c="2612">    'movies',</st></strong><st c="2621">
]
…</st></pre>			<h2 id="_idParaDest-72"><a id="_idTextAnchor076"/><st c="2625">Including the movies URL file in the project-level URL file</st></h2>
			<p><st c="2685">In </st><strong class="source-inline"><st c="2689">/moviesstore/urls.py</st></strong><st c="2709">, add the</st><a id="_idIndexMarker133"/><st c="2718"> following </st><span class="No-Break"><st c="2729">in bold:</st></span></p>
			<pre class="source-code"><st c="2737">
…
from django.contrib import admin
from django.urls import path, include
urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('home.urls')),
    </st><strong class="bold"><st c="2891">path('movies/', include('movies.urls')),</st></strong><st c="2931">
]</st></pre>			<p><st c="2933">Similar to the inclusion of the </st><strong class="source-inline"><st c="2965">home.urls</st></strong><st c="2974"> file, we include the </st><strong class="source-inline"><st c="2996">movies.urls</st></strong><st c="3007"> file, which will contain the URLs with respect to the movies app. </st><st c="3074">All the URLs defined in the </st><strong class="source-inline"><st c="3102">movies.urls</st></strong><st c="3113"> file will contain a </st><strong class="source-inline"><st c="3134">movies/</st></strong><st c="3141"> prefix (as defined in the previous path). </st><st c="3184">We will create the </st><strong class="source-inline"><st c="3203">movies.urls</st></strong> <span class="No-Break"><st c="3214">file later.</st></span></p>
			<p><st c="3226">Now that we have created and included the movies app, we are ready to code the functionalities of this app. </st><st c="3335">Let’s start by </st><span class="No-Break"><st c="3350">listing movies.</st></span></p>
			<h1 id="_idParaDest-73"><a id="_idTextAnchor077"/><st c="3365">Listing movies with dummy data</st></h1>
			<p><st c="3396">Listing movies involves a series of steps similar to</st><a id="_idIndexMarker134"/><st c="3449"> those followed when we implemented the </st><strong class="bold"><st c="3489">Home</st></strong><st c="3493"> and </st><strong class="bold"><st c="3498">About</st></strong><st c="3503"> pages. </st><st c="3511">We will follow the next steps: (i) configuring the movies URL, (ii) defining the </st><strong class="source-inline"><st c="3592">views</st></strong> <strong class="source-inline"><st c="3597">index</st></strong><st c="3603"> function, and (iii) creating a</st><a id="_idIndexMarker135"/><st c="3634"> movies </st><span class="No-Break"><st c="3642">index template.</st></span></p>
			<h2 id="_idParaDest-74"><a id="_idTextAnchor078"/><st c="3657">Configuring the movies URL</st></h2>
			<p><st c="3684">In </st><strong class="source-inline"><st c="3688">/movies/</st></strong><st c="3696">, create a </st><a id="_idIndexMarker136"/><st c="3707">new file called </st><strong class="source-inline"><st c="3723">urls.py</st></strong><st c="3730">. This file will contain the path regarding the URLs of the movies app. </st><st c="3802">For now, fill it in with </st><span class="No-Break"><st c="3827">the following:</st></span></p>
			<pre class="source-code"><st c="3841">
from django.urls import path
from . </st><st c="3878">import views
urlpatterns = [
    path('', views.index, name='movies.index'),
]</st></pre>			<p><st c="3952">We defined a </st><strong class="source-inline"><st c="3966">''</st></strong><st c="3968"> path, but remember that the project-level URLs file defined a </st><strong class="source-inline"><st c="4031">/movies</st></strong><st c="4038"> prefix for this file. </st><st c="4061">So, if a URL matches the </st><strong class="source-inline"><st c="4086">/movies</st></strong><st c="4093"> path, it will execute the </st><strong class="source-inline"><st c="4120">index</st></strong><st c="4125"> function defined in the </st><strong class="source-inline"><st c="4150">views</st></strong><st c="4155"> file. </st><st c="4162">We will implement the </st><strong class="source-inline"><st c="4184">index</st></strong> <span class="No-Break"><st c="4189">function next.</st></span></p>
			<h2 id="_idParaDest-75"><a id="_idTextAnchor079"/><st c="4204">Defining the views index function</st></h2>
			<p><st c="4238">In </st><strong class="source-inline"><st c="4242">/movies/views.py</st></strong><st c="4258">, add the</st><a id="_idIndexMarker137"/><st c="4267"> following </st><span class="No-Break"><st c="4278">in bold:</st></span></p>
			<pre class="source-code"><st c="4286">
from django.shortcuts import render
</st><strong class="bold"><st c="4323">movies = [</st></strong>
<strong class="bold"><st c="4333">    {</st></strong>
<strong class="bold"><st c="4335">        'id': 1, 'name': 'Inception', 'price': 12,</st></strong>
<strong class="bold"><st c="4378">        'description': 'A mind-bending heist thriller.'</st></strong>
<strong class="bold"><st c="4426">    },</st></strong>
<strong class="bold"><st c="4429">    {</st></strong>
<strong class="bold"><st c="4431">        'id': 2, 'name': 'Avatar', 'price': 13,</st></strong>
<strong class="bold"><st c="4471">        'description': 'A journey to a distant world and</st></strong>
<strong class="bold"><st c="4520">        the battle for resources.'</st></strong>
<strong class="bold"><st c="4547">    },</st></strong>
<strong class="bold"><st c="4550">    {</st></strong>
<strong class="bold"><st c="4552">        'id': 3, 'name': 'The Dark Knight', 'price': 14,</st></strong>
<strong class="bold"><st c="4601">        'description': 'Gothams vigilante faces the Joker.'</st></strong>
<strong class="bold"><st c="4653">    },</st></strong>
<strong class="bold"><st c="4656">    {</st></strong>
<strong class="bold"><st c="4658">        'id': 4, 'name': 'Titanic', 'price': 11,</st></strong>
<strong class="bold"><st c="4699">        'description': 'A love story set against the</st></strong>
<strong class="bold"><st c="4744">        backdrop of the sinking Titanic.',</st></strong>
<strong class="bold"><st c="4779">    },</st></strong>
<strong class="bold"><st c="4782">]</st></strong>
<strong class="bold"><st c="4784">def index(request):</st></strong>
<strong class="bold"><st c="4803">    template_data = {}</st></strong>
<strong class="bold"><st c="4822">    template_data['title'] = 'Movies'</st></strong>
<strong class="bold"><st c="4856">    template_data['movies'] = movies</st></strong>
<strong class="bold"><st c="4889">    return render(request, 'movies/index.html',</st></strong>
<strong class="bold"><st c="4933">                  {'template_data': template_data})</st></strong></pre>			<p><st c="4967">Let’s explain the </st><span class="No-Break"><st c="4986">previous code:</st></span></p>
			<ul>
				<li><st c="5000">We defined a </st><a id="_idIndexMarker138"/><st c="5014">variable called </st><strong class="source-inline"><st c="5030">movies</st></strong><st c="5036">. This variable is a list of dictionaries, where each dictionary represents information about a particular movie. </st><st c="5150">For example, at index </st><strong class="source-inline"><st c="5172">0</st></strong><st c="5173">, we have the movie with </st><strong class="source-inline"><st c="5198">id=1</st></strong><st c="5202"> (the </st><strong class="source-inline"><st c="5208">Inception</st></strong><st c="5217"> movie). </st><st c="5226">We have four dummy movies. </st><st c="5253">We will retrieve movie data from a SQLite database in </st><span class="No-Break"><st c="5307">upcoming chapters.</st></span></li>
				<li><st c="5325">We also have an </st><strong class="source-inline"><st c="5342">index</st></strong><st c="5347"> function. </st><st c="5358">This</st><a id="_idIndexMarker139"/><st c="5362"> function will render the </st><strong class="source-inline"><st c="5388">movies/index.html</st></strong><st c="5405"> template, but first, it passes a page title and the complete list of movies to </st><span class="No-Break"><st c="5485">that template.</st></span></li>
			</ul>
			<h2 id="_idParaDest-76"><a id="_idTextAnchor080"/><st c="5499">Creating a movies index template</st></h2>
			<p><st c="5532">In </st><strong class="source-inline"><st c="5536">/movies/</st></strong><st c="5544">, create</st><a id="_idIndexMarker140"/><st c="5552"> a </st><strong class="source-inline"><st c="5555">templates</st></strong><st c="5564"> folder. </st><st c="5573">Then, in </st><strong class="source-inline"><st c="5582">/movies/templates/</st></strong><st c="5600">, create a </st><span class="No-Break"><strong class="source-inline"><st c="5611">movies</st></strong></span><span class="No-Break"><st c="5617"> folder.</st></span></p>
			<p><st c="5625">Now, in </st><strong class="source-inline"><st c="5634">/movies/templates/movies/</st></strong><st c="5659">, create a new file, </st><strong class="source-inline"><st c="5680">index.html</st></strong><st c="5690">. For now, fill it in with </st><span class="No-Break"><st c="5717">the following:</st></span></p>
			<pre class="source-code"><st c="5731">
{% extends 'base.html' %}
{% block content %}
{% load static %}
&lt;div class="p-3"&gt;
  &lt;div class="container"&gt;
    &lt;div class="row mt-3"&gt;
      &lt;div class="col mx-auto mb-3"&gt;
        &lt;h2&gt;List of Movies&lt;/h2&gt;
        &lt;hr /&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="row"&gt;
      {% for movie in template_data.movies %}
      &lt;div class="col-md-4 col-lg-3 mb-2"&gt;
        &lt;div class="p-2 card align-items-center pt-4"&gt;
          &lt;img src="{% static 'img/about.jpg' %}"
            class="card-img-top rounded"&gt;
          &lt;div class="card-body text-center"&gt;
            {{ movie.name }}
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      {% endfor %}
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
{% endblock content %}</st></pre>			<p><st c="6279">Let’s explain the </st><span class="No-Break"><st c="6298">previous code:</st></span></p>
			<ul>
				<li><st c="6312">We extend the </st><span class="No-Break"><strong class="source-inline"><st c="6327">base.html</st></strong></span><span class="No-Break"><st c="6336"> template.</st></span></li>
				<li><st c="6346">We define a heading element with the text </st><strong class="source-inline"><st c="6389">List </st></strong><span class="No-Break"><strong class="source-inline"><st c="6394">of Movies</st></strong></span><span class="No-Break"><st c="6403">.</st></span></li>
				<li><st c="6404">We use the DTL </st><strong class="source-inline"><st c="6420">for</st></strong><st c="6423"> template</st><a id="_idIndexMarker141"/><st c="6432"> tag to iterate through each movie, and we display the movie name. </st><st c="6499">For now, we are showing a default image for all movies; we will upload and display proper images for each movie in </st><span class="No-Break"><st c="6614">upcoming chapters.</st></span></li>
			</ul>
			<p class="callout-heading"><st c="6632">Note</st></p>
			<p class="callout"><st c="6637">We used the Bootstrap card component as a base to design the way movies are displayed. </st><st c="6725">You can find more information </st><span class="No-Break"><st c="6755">here: </st></span><a href="https://getbootstrap.com/docs/5.3/components/card/"><span class="No-Break"><st c="6761">https://getbootstrap.com/docs/5.3/components/card/</st></span></a><span class="No-Break"><st c="6811">.</st></span></p>
			<p><st c="6812">Now, save those files, run the </st><a id="_idIndexMarker142"/><st c="6844">server, and go to </st><a href="http://localhost:8000/movies"><st c="6862">http://localhost:8000/movies</st></a><st c="6890">; you should see the new </st><strong class="bold"><st c="6916">List of Movies</st></strong><st c="6930"> page (</st><span class="No-Break"><em class="italic"><st c="6937">Figure 4</st></em></span><span class="No-Break"><em class="italic"><st c="6946">.2</st></em></span><span class="No-Break"><st c="6948">).</st></span></p>
			<div>
				<div id="_idContainer038" class="IMG---Figure">
					<img src="image/B22457_04_02.jpg" alt="Figure 4.2 – The List of Movies page"/><st c="6951"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="7015">Figure 4.2 – The List of Movies page</st></p>
			<p><st c="7051">We are able to see the information of all movies together. </st><st c="7111">Now, let’s implement a functionality to list </st><span class="No-Break"><st c="7156">individual movies.</st></span></p>
			<h1 id="_idParaDest-77"><a id="_idTextAnchor081"/><st c="7174">Listing individual movies</st></h1>
			<p><st c="7200">To list individual</st><a id="_idIndexMarker143"/><st c="7219"> movies, we will follow these steps: (i) configuring individual movies URLs, (ii) defining the </st><strong class="source-inline"><st c="7314">views</st></strong> <strong class="source-inline"><st c="7319">show</st></strong><st c="7324"> function, (iii) creating a movies </st><strong class="source-inline"><st c="7359">show</st></strong><st c="7363"> template, and (iv) adding individual movie links on the </st><span class="No-Break"><st c="7420">movies page.</st></span></p>
			<h2 id="_idParaDest-78"><a id="_idTextAnchor082"/><st c="7432">Configuring individual movies URLs</st></h2>
			<p><st c="7467">In </st><strong class="source-inline"><st c="7471">/movies/urls.py</st></strong><st c="7486">, add the next path</st><a id="_idIndexMarker144"/> <span class="No-Break"><st c="7505">in bold:</st></span></p>
			<pre class="source-code"><st c="7514">
from django.urls import path
from . </st><st c="7551">import views
urlpatterns = [
    path('', views.index, name='movies.index'),
    </st><strong class="bold"><st c="7624">path('&lt;int:id&gt;/', views.show, name='movies.show'),</st></strong><st c="7674">
]</st></pre>			<p><st c="7676">This path is a little different from the previously defined paths. </st><st c="7743">The </st><strong class="source-inline"><st c="7747">&lt;int:id&gt;</st></strong><st c="7755"> part indicates that this path expects an integer value to be passed from the URL and that the integer value will be </st><a id="_idIndexMarker145"/><st c="7872">associated with a variable named </st><strong class="source-inline"><st c="7905">id</st></strong><st c="7907">, which will be used to identify which movie data to show. </st><st c="7966">For example, if we access </st><strong class="source-inline"><st c="7992">movies/1</st></strong><st c="8000">, the application will display the data of the movie with </st><strong class="source-inline"><st c="8058">id=1</st></strong><st c="8062">. Finally, that path will execute the </st><strong class="source-inline"><st c="8100">show</st></strong><st c="8104"> function defined in the </st><strong class="source-inline"><st c="8129">views</st></strong><st c="8134"> file. </st><st c="8141">You can learn more about Django URLs </st><span class="No-Break"><st c="8178">here: </st></span><a href="https://docs.djangoproject.com/en/5.0/topics/http/urls/"><span class="No-Break"><st c="8184">https://docs.djangoproject.com/en/5.0/topics/http/urls/</st></span></a><span class="No-Break"><st c="8239">.</st></span></p>
			<h2 id="_idParaDest-79"><a id="_idTextAnchor083"/><st c="8240">Defining the views show function</st></h2>
			<p><st c="8273">In </st><strong class="source-inline"><st c="8277">/movies/views.py</st></strong><st c="8293">, add the</st><a id="_idIndexMarker146"/><st c="8302"> following in bold at the end of </st><span class="No-Break"><st c="8335">the file:</st></span></p>
			<pre class="source-code"><st c="8344">
…
</st><strong class="bold"><st c="8346">def show(request, id):</st></strong>
<strong class="bold"><st c="8368">    movie = movies[id - 1]</st></strong>
<strong class="bold"><st c="8391">    template_data = {}</st></strong>
<strong class="bold"><st c="8410">    template_data['title'] = movie['name']</st></strong>
<strong class="bold"><st c="8449">    template_data['movie'] = movie</st></strong>
<strong class="bold"><st c="8480">    return render(request, 'movies/show.html',</st></strong>
<strong class="bold"><st c="8523">                  {'template_data': template_data})</st></strong></pre>			<p><st c="8557">Let’s explain the </st><span class="No-Break"><st c="8576">previous code:</st></span></p>
			<ul>
				<li><st c="8590">We define the </st><strong class="source-inline"><st c="8605">show</st></strong><st c="8609"> function. </st><st c="8620">This function takes two parameters: </st><strong class="source-inline"><st c="8656">request</st></strong><st c="8663"> and </st><strong class="source-inline"><st c="8668">id</st></strong><st c="8670"> (</st><strong class="source-inline"><st c="8672">id</st></strong><st c="8674"> is collected from </st><span class="No-Break"><st c="8693">the URL).</st></span></li>
				<li><st c="8702">Then, we extract the movie data with that ID. </st><st c="8749">We subtract one unit since we stored the movie with </st><strong class="source-inline"><st c="8801">id=1</st></strong><st c="8805"> in the movies list index </st><strong class="source-inline"><st c="8831">0</st></strong><st c="8832">, the movie with </st><strong class="source-inline"><st c="8849">id=2</st></strong><st c="8853"> in the movies list index </st><strong class="source-inline"><st c="8879">1</st></strong><st c="8880">, and </st><span class="No-Break"><st c="8886">so on.</st></span></li>
				<li><st c="8892">Finally, we pass the</st><a id="_idIndexMarker147"/><st c="8913"> movie name and the individual movie to the </st><span class="No-Break"><strong class="source-inline"><st c="8957">movies/show.html</st></strong></span><span class="No-Break"><st c="8973"> template.</st></span></li>
			</ul>
			<h2 id="_idParaDest-80"><a id="_idTextAnchor084"/><st c="8983">Creating a movies show template</st></h2>
			<p><st c="9015">In </st><strong class="source-inline"><st c="9019">/movies/templates/movies/</st></strong><st c="9044">, create a new file, </st><strong class="source-inline"><st c="9065">show.html</st></strong><st c="9074">. For now, fill it in with </st><span class="No-Break"><st c="9101">the</st></span><span class="No-Break"><a id="_idIndexMarker148"/></span><span class="No-Break"><st c="9104"> following:</st></span></p>
			<pre class="source-code"><st c="9115">
{% extends 'base.html' %}
{% block content %}
{% load static %}
&lt;div class="p-3"&gt;
  &lt;div class="container"&gt;
    &lt;div class="row mt-3"&gt;
      &lt;div class="col-md-6 mx-auto mb-3"&gt;
        &lt;h2&gt;{{ template_data.movie.name }}&lt;/h2&gt;
        &lt;hr /&gt;
        &lt;p&gt;&lt;b&gt;Description:&lt;/b&gt; {{
          template_data.movie.description }}&lt;/p&gt;
        &lt;p&gt;&lt;b&gt;Price:&lt;/b&gt; ${{
          template_data.movie.price }}&lt;/p&gt;
      &lt;/div&gt;
      &lt;div class="col-md-6 mx-auto mb-3 text-center"&gt;
        &lt;img src="{% static 'img/about.jpg' %}"
          class="rounded" /&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
{% endblock content %}</st></pre>			<p><st c="9611">The previous code displays</st><a id="_idIndexMarker149"/><st c="9638"> the individual </st><span class="No-Break"><st c="9654">movie information.</st></span></p>
			<h2 id="_idParaDest-81"><a id="_idTextAnchor085"/><st c="9672">Adding individual movie links on the movies page</st></h2>
			<p><st c="9721">In </st><strong class="source-inline"><st c="9725">/movies/templates/movies/index.html</st></strong><st c="9760">, add</st><a id="_idIndexMarker150"/><st c="9765"> the following </st><span class="No-Break"><st c="9780">in bold:</st></span></p>
			<pre class="source-code"><st c="9788">
      …
      {% for movie in template_data.movies %}
      &lt;div class="col-md-4 col-lg-3 mb-2"&gt;
        &lt;div class="p-2 card align-items-center pt-4"&gt;
          &lt;img src="{% static 'img/about.jpg' %}"
            class="card-img-top rounded"&gt;
          &lt;div class="card-body text-center"&gt;
            </st><strong class="bold"><st c="10020">&lt;a href="{% url 'movies.show' id=movie.id %}"</st></strong>
<strong class="bold"><st c="10065">              class="btn bg-dark text-white"&gt;</st></strong><st c="10097">
              {{ movie.name }}
            </st><strong class="bold"><st c="10115">&lt;/a&gt;</st></strong><st c="10119">
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      {% endfor %}
      …</st></pre>			<p><st c="10155">We added a link from each movie name to each individual movie page. </st><st c="10224">We used the </st><strong class="source-inline"><st c="10236">url</st></strong><st c="10239"> template tag to link to the specified URL pattern name (</st><strong class="source-inline"><st c="10296">movie.show</st></strong><st c="10307">). </st><st c="10311">But we also specified a parameter to </st><a id="_idIndexMarker151"/><st c="10348">be passed to the URL (</st><strong class="source-inline"><st c="10370">id=movie.id</st></strong><st c="10382">). </st><st c="10386">In this case, it’s setting the </st><strong class="source-inline"><st c="10417">id</st></strong><st c="10419"> parameter to the </st><strong class="source-inline"><st c="10437">id</st></strong><st c="10439"> attribute of the </st><strong class="source-inline"><st c="10457">movie</st></strong><st c="10462"> object. </st><st c="10471">This is useful for URLs that require dynamic parts, such as details for a </st><span class="No-Break"><st c="10545">specific movie.</st></span></p>
			<p><st c="10560">Now, save those files, run the server, and go to </st><strong class="source-inline"><st c="10610">http://localhost:8000/movies</st></strong><st c="10638">. You will see that each movie name has become a button that can be clicked. </st><st c="10715">Click on a movie name, and you will be redirected to the individual movie page (</st><span class="No-Break"><em class="italic"><st c="10795">Figure 4</st></em></span><span class="No-Break"><em class="italic"><st c="10804">.3</st></em></span><span class="No-Break"><st c="10806">).</st></span></p>
			<div>
				<div id="_idContainer039" class="IMG---Figure">
					<img src="image/B22457_04_03.jpg" alt="Figure 4.3 – Individual movie page"/><st c="10809"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="10946">Figure 4.3 – Individual movie page</st></p>
			<p><st c="10980">We can list all movies and navigate to individual movies; however, we haven’t added a link to the movies section. </st><st c="11095">Let’s implement this link in the </st><span class="No-Break"><st c="11128">next section.</st></span></p>
			<h1 id="_idParaDest-82"><a id="_idTextAnchor086"/><st c="11141">Adding a link in the base template</st></h1>
			<p><st c="11176">Finally, let’s add the movies link</st><a id="_idIndexMarker152"/><st c="11211"> in the base template. </st><st c="11234">In </st><strong class="source-inline"><st c="11237">/moviesstore/templates/base.html</st></strong><st c="11269">, in the header section, add the following </st><span class="No-Break"><st c="11312">in bold:</st></span></p>
			<pre class="source-code"><st c="11320">
        …
        &lt;div class="collapse navbar-collapse"
                   id="navbarNavAltMarkup"&gt;
          &lt;div class="navbar-nav ms-auto navbar-ml"&gt;
            &lt;a class="nav-link" href=
              "{% url 'home.about' %}"&gt;About&lt;/a&gt;
            </st><strong class="bold"><st c="11489">&lt;a class="nav-link" href=</st></strong>
<strong class="bold"><st c="11514">              "{% url 'movies.index' %}"&gt;Movies&lt;/a&gt;</st></strong><st c="11552">
          &lt;/div&gt;
        &lt;/div&gt;
        …</st></pre>			<p><st c="11567">Now, save those files, run the server, and go to </st><strong class="source-inline"><st c="11617">http://localhost:8000/movies</st></strong><st c="11645">. You will see the new </st><strong class="bold"><st c="11668">Movies</st></strong><st c="11674"> menu option in the header (</st><span class="No-Break"><em class="italic"><st c="11702">Figure 4</st></em></span><span class="No-Break"><em class="italic"><st c="11711">.4</st></em></span><span class="No-Break"><st c="11713">).</st></span></p>
			<div>
				<div id="_idContainer040" class="IMG---Figure">
					<img src="image/B22457_04_04.jpg" alt="Figure 4.4 – Movies page updated"/><st c="11716"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="11829">Figure 4.4 – Movies page updated</st></p>
			<h1 id="_idParaDest-83"><a id="_idTextAnchor087"/><st c="11861">Summary</st></h1>
			<p><st c="11869">In this chapter, we recapped how to create a Django app. </st><st c="11927">We created a movies app that allows listing movies and individual movies. </st><st c="12001">We learned how to pass information through the URLs, how to create dummy data, how to use the </st><strong class="source-inline"><st c="12095">for</st></strong><st c="12098"> template tag, and how to link different pages. </st><st c="12146">We hope this serves as a solid foundation to move on to the next part of our project, where we will go through more advanced topics such as models to make our </st><span class="No-Break"><st c="12305">site database-driven.</st></span></p>
		</div>
	<div id="charCountTotal" value="12326"/></body></html>