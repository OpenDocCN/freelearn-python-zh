<html><head></head><body>
<div id="_idContainer116">
<h1 class="chapter-number" id="_idParaDest-53"><a id="_idTextAnchor052"/><span class="koboSpan" id="kobo.1.1">3</span></h1>
<h1 id="_idParaDest-54"><a id="_idTextAnchor053"/><span class="koboSpan" id="kobo.2.1">Customizing Interpreters and Virtual Environments</span></h1>
<p><span class="koboSpan" id="kobo.3.1">The last chapter focused on configuration options. </span><span class="koboSpan" id="kobo.3.2">Configuration options are designed to help you customize your working environment to fit the project and also allow for customization to fit your personal tastes. </span><span class="koboSpan" id="kobo.3.3">These options are one of the many reasons that PyCharm is a great tool. </span><span class="koboSpan" id="kobo.3.4">Another great feature that makes PyCharm useful is the customization of interpreters and </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">virtual environments.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1"> This chapter will cover the </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.7.1">The importance of working with virtual environments </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">in Python</span></span></li>
<li><span class="koboSpan" id="kobo.9.1">How to create a virtual environment manually </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">using </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.11.1">virtualenv</span></strong></span></li>
<li><span class="koboSpan" id="kobo.12.1">How to create a virtual environment </span><span class="No-Break"><span class="koboSpan" id="kobo.13.1">using PyCharm</span></span></li>
<li><span class="koboSpan" id="kobo.14.1">How to work with an existing virtual environment </span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">in PyCharm</span></span></li>
<li><span class="koboSpan" id="kobo.16.1">How to add and remove third-party libraries </span><span class="No-Break"><span class="koboSpan" id="kobo.17.1">using PyCharm</span></span></li>
<li><span class="koboSpan" id="kobo.18.1">How to import projects created </span><span class="No-Break"><span class="koboSpan" id="kobo.19.1">outside PyCharm</span></span></li>
<li><span class="koboSpan" id="kobo.20.1">How to work with virtual environment settings within </span><span class="No-Break"><span class="koboSpan" id="kobo.21.1">run configurations</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.22.1">At this point, many of you will have at least one installation of a Python interpreter installed. </span><span class="koboSpan" id="kobo.22.2">It either came with your system, as is the case with macOS or Linux, or you installed it, as is the case with Windows. </span><span class="koboSpan" id="kobo.22.3">Python is an </span><strong class="bold"><span class="koboSpan" id="kobo.23.1">interpreted language</span></strong><span class="koboSpan" id="kobo.24.1">—this means the written code is not truly evaluated until it is run. </span><span class="koboSpan" id="kobo.24.2">Let’s take a moment to describe what this means by comparing Python to a few other languages and how they </span><span class="No-Break"><span class="koboSpan" id="kobo.25.1">are executed.</span></span></p>
<p><span class="koboSpan" id="kobo.26.1">There are three common ways to execute written code on your computer, </span><span class="No-Break"><span class="koboSpan" id="kobo.27.1">as follows:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.28.1">Compilation</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.29.1">Interpretation</span></span></li>
<li><span class="koboSpan" id="kobo.30.1">Intermediate compilation with </span><span class="No-Break"><span class="koboSpan" id="kobo.31.1">a runtime</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.32.1">Before we dig into these, let’s take a short trip back through time. </span><span class="koboSpan" id="kobo.32.2">I know it is history but stick with me. </span><span class="koboSpan" id="kobo.32.3">In the year 1522, the predominant religion throughout most of Western Europe was Roman Catholicism. </span><span class="koboSpan" id="kobo.32.4">This was a time of great turmoil in that church’s history, but we will put that aside for a moment. </span><span class="koboSpan" id="kobo.32.5">Instead, we will focus on a German priest named Martin Luther. </span><span class="koboSpan" id="kobo.32.6">In those days, the German people were completely reliant on the clerical establishment for their spiritual needs. </span><span class="koboSpan" id="kobo.32.7">The Bible, in 1522, was only available in Greek and Latin. </span><span class="koboSpan" id="kobo.32.8">Luther, who was imprisoned at the time, translated the  Old Testament from Greek into the German Vulgate. </span><span class="koboSpan" id="kobo.32.9">This was a game changer for the Germans. </span><span class="koboSpan" id="kobo.32.10">Printers of the day snatched it up and printed hundreds of copies so that every family could read it. </span><span class="koboSpan" id="kobo.32.11">I’m going to use this as </span><span class="No-Break"><span class="koboSpan" id="kobo.33.1">an analogy.</span></span></p>
<p><span class="koboSpan" id="kobo.34.1">The first method of executing written code is </span><em class="italic"><span class="koboSpan" id="kobo.35.1">compilation</span></em><span class="koboSpan" id="kobo.36.1">. </span><span class="koboSpan" id="kobo.36.2">This is similar to Martin Luther’s translation from Greek into German. </span><span class="koboSpan" id="kobo.36.3">Most people who cannot code will see a programming language and scratch their heads and think to themselves: “This is Greek to me!” </span><span class="koboSpan" id="kobo.36.4">The same thing is happening with computers because the computer can’t understand your code language either. </span><span class="koboSpan" id="kobo.36.5">Computers don’t “speak” C or C++ or Java. </span><span class="koboSpan" id="kobo.36.6">Instead, a programmer has written something in a language that is simple and easy to translate as compared to human language. </span><span class="koboSpan" id="kobo.36.7">Compilation refers to a process where your textual code files are translated once into a binary format that is understood by the computer. </span><span class="koboSpan" id="kobo.36.8">Examples of compiled languages include C and C++. </span><span class="koboSpan" id="kobo.36.9">The code files are run through a compiler, which translates the code into a separate and new format only one time. </span><span class="koboSpan" id="kobo.36.10">The process produces a new file, separate from the code, which is useful only to the computer. </span><span class="koboSpan" id="kobo.36.11">To finalize our analogy, after translating Greek into German, the printed books became the result of the compilation step. </span><span class="koboSpan" id="kobo.36.12">The ability to read the Bible was useful to </span><span class="No-Break"><span class="koboSpan" id="kobo.37.1">the Germans.</span></span></p>
<p><span class="koboSpan" id="kobo.38.1">Contrast that with the second form of code execution: the </span><em class="italic"><span class="koboSpan" id="kobo.39.1">interpreted language</span></em><span class="koboSpan" id="kobo.40.1">. </span><span class="koboSpan" id="kobo.40.2">Prior to Luther’s translation, the Bible was translated on the fly in church. </span><span class="koboSpan" id="kobo.40.3">A priest would open the Bible and translate the text into German as he read it aloud. </span><span class="koboSpan" id="kobo.40.4">This is what happens with interpreted languages, including Python. </span><span class="koboSpan" id="kobo.40.5">The </span><strong class="bold"><span class="koboSpan" id="kobo.41.1">interpreter</span></strong><span class="koboSpan" id="kobo.42.1"> in our case is the Python interpreter—the Python executable you installed at some juncture earlier in your setup journey. </span><span class="koboSpan" id="kobo.42.2">When you execute your code with a command such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.43.1">python main.py</span></strong><span class="koboSpan" id="kobo.44.1">, the Python interpreter opens the code file, reads the code, translates (compiles) that code, and executes the instructions as it reads them line </span><span class="No-Break"><span class="koboSpan" id="kobo.45.1">by line.</span></span></p>
<p><span class="koboSpan" id="kobo.46.1">This might be an oversimplification for those of you deeply familiar with compiler theory, but for most of us, the analogy holds. </span><span class="koboSpan" id="kobo.46.2">Python does some extra work during the process by way of caching and optimizing some of the translation so that it can be used again. </span><span class="koboSpan" id="kobo.46.3">By and large, each run of the program presents a new interpretation. </span><span class="koboSpan" id="kobo.46.4">Examples of interpreted languages include Python, JavaScript, </span><span class="No-Break"><span class="koboSpan" id="kobo.47.1">and Lua.</span></span></p>
<p><span class="koboSpan" id="kobo.48.1">The last category of code execution involves a middle ground between the other two. </span><span class="koboSpan" id="kobo.48.2">Languages such as C# and Java use a </span><em class="italic"><span class="koboSpan" id="kobo.49.1">compilation</span></em><span class="koboSpan" id="kobo.50.1"> step. </span><span class="koboSpan" id="kobo.50.2">Unlike regular compilers, the result isn’t a file that runs by itself on the bare metal of your computer. </span><span class="koboSpan" id="kobo.50.3">Instead, it produces an intermediate format that can be read by </span><span class="No-Break"><span class="koboSpan" id="kobo.51.1">a </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.52.1">runtime</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.53.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.54.1">Think back to when you were in school. </span><span class="koboSpan" id="kobo.54.2">A common practice is for a professor or teacher to lecture the class and for the class to take notes. </span><span class="koboSpan" id="kobo.54.3">A good student can reproduce the lecture’s content from the notes. </span><span class="koboSpan" id="kobo.54.4">Those notes are an abbreviated form of the lecture. </span><span class="koboSpan" id="kobo.54.5">In this analogy, the teacher is the programmer and the student is the intermediate compiler. </span><span class="koboSpan" id="kobo.54.6">The output of the compiler, hopefully, is a stellar set of notes that will allow the student to get a good grade on the test. </span><span class="koboSpan" id="kobo.54.7">Your code files (the lecture) are translated into a compact, binary version of the code (your notes). </span><span class="koboSpan" id="kobo.54.8">When that intermediate file is executed, a runtime essentially “looks at the notes” and enables that code to run on the computer. </span><span class="koboSpan" id="kobo.54.9">The upside to this method is that the intermediate compilation can run on a variety of platforms without having to be recompiled. </span><span class="koboSpan" id="kobo.54.10">Programs written in C will run on a variety of platforms, ranging from Intel and ARM to old platforms such as mainframes. </span><span class="koboSpan" id="kobo.54.11">To accomplish this, however, you must recompile the program on that platform. </span><span class="koboSpan" id="kobo.54.12">The executables only run on the platform that compiles them. </span><span class="koboSpan" id="kobo.54.13">In the runtime system, the runtime is translated and made to run on different platforms. </span><span class="koboSpan" id="kobo.54.14">The intermediate compilation then runs on any platform that supports the runtime. </span><span class="koboSpan" id="kobo.54.15">You can compile once and </span><span class="No-Break"><span class="koboSpan" id="kobo.55.1">distribute anywhere.</span></span></p>
<p><span class="koboSpan" id="kobo.56.1">Python, for our purposes, is an interpreted language, and we need an interpreter. </span><span class="koboSpan" id="kobo.56.2">Furthermore, PyCharm needs to know a little bit about the interpreter. </span><span class="koboSpan" id="kobo.56.3">This chapter is all about the means by which you can make introductions. </span><span class="koboSpan" id="kobo.56.4">PyCharm, meet interpreter. </span><span class="koboSpan" id="kobo.56.5">Interpreter, </span><span class="No-Break"><span class="koboSpan" id="kobo.57.1">meet PyCharm.</span></span></p>
<h1 id="_idParaDest-55"><a id="_idTextAnchor054"/><span class="koboSpan" id="kobo.58.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.59.1">In order to proceed through this chapter, and indeed the rest of the book, you will need </span><span class="No-Break"><span class="koboSpan" id="kobo.60.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.61.1">An installed and working Python interpreter. </span><span class="koboSpan" id="kobo.61.2">I’ll be using the latest </span><span class="No-Break"><span class="koboSpan" id="kobo.62.1">from </span></span><a href="https://python.org"><span class="No-Break"><span class="koboSpan" id="kobo.63.1">https://python.org</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.64.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.65.1">Installed copies of </span><strong class="source-inline"><span class="koboSpan" id="kobo.66.1">pip</span></strong><span class="koboSpan" id="kobo.67.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.68.1">virtualenv</span></strong><span class="koboSpan" id="kobo.69.1">. </span><span class="koboSpan" id="kobo.69.2">You get these automatically when you install Python on Windows, and macOS has them included on every system. </span><span class="koboSpan" id="kobo.69.3">If you are using Linux, you need to install package managers, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.70.1">pip</span></strong><span class="koboSpan" id="kobo.71.1">, and virtual environment tools, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.72.1">virtualenv</span></strong><span class="koboSpan" id="kobo.73.1">, separately. </span><span class="koboSpan" id="kobo.73.2">Our examples will use </span><strong class="source-inline"><span class="koboSpan" id="kobo.74.1">pip</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.75.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.76.1">virtualenv</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.77.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.78.1">An installed and working copy of PyCharm. </span><span class="koboSpan" id="kobo.78.2">Installation was covered in </span><a href="B19644_02.xhtml#_idTextAnchor028"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.79.1">Chapter 2</span></em></span></a><span class="koboSpan" id="kobo.80.1">, </span><em class="italic"><span class="koboSpan" id="kobo.81.1">Installation and Configuration</span></em><span class="koboSpan" id="kobo.82.1">, in case you are jumping into the middle of </span><span class="No-Break"><span class="koboSpan" id="kobo.83.1">the book.</span></span></li>
<li><span class="koboSpan" id="kobo.84.1">This book’s sample source code from GitHub. </span><span class="koboSpan" id="kobo.84.2">We covered cloning the code in </span><a href="B19644_02.xhtml#_idTextAnchor028"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.85.1">Chapter 2</span></em></span></a><span class="koboSpan" id="kobo.86.1">, </span><em class="italic"><span class="koboSpan" id="kobo.87.1">Installation and Configuration</span></em><span class="koboSpan" id="kobo.88.1">. </span><span class="koboSpan" id="kobo.88.2">You’ll find this chapter’s relevant code </span><span class="No-Break"><span class="koboSpan" id="kobo.89.1">at </span></span><a href="https://github.com/PacktPublishing/Hands-On-Application-Development-with-PyCharm---Second-Edition/tree/main/chapter-03"><span class="No-Break"><span class="koboSpan" id="kobo.90.1">https://github.com/PacktPublishing/Hands-On-Application-Development-with-PyCharm---Second-Edition/tree/main/chapter-03</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.91.1">.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.92.1">There are several flavors of Python. </span><span class="koboSpan" id="kobo.92.2">I have used and referenced Python 3 from </span><a href="https://www.python.org"><span class="koboSpan" id="kobo.93.1">https://www.python.org</span></a><span class="koboSpan" id="kobo.94.1">. </span><span class="koboSpan" id="kobo.94.2">Remember—because it is an open source project, it is possible to create an alternative version of Python. </span><span class="koboSpan" id="kobo.94.3">This has been done many times with varying degrees of success. </span><span class="koboSpan" id="kobo.94.4">Some of these variants include </span><span class="No-Break"><span class="koboSpan" id="kobo.95.1">the following:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.96.1">Anaconda</span></strong><span class="koboSpan" id="kobo.97.1">—This is a variant of</span><a id="_idIndexMarker191"/><span class="koboSpan" id="kobo.98.1"> Python focused on scientific and big data work. </span><span class="koboSpan" id="kobo.98.2">Essentially, it is regular Python pre-bundled with the most popular and useful external libraries such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.99.1">numpy</span></strong><span class="koboSpan" id="kobo.100.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.101.1">matplotlib</span></strong><span class="koboSpan" id="kobo.102.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.103.1">pandas</span></strong><span class="koboSpan" id="kobo.104.1"> included in the installation. </span><span class="koboSpan" id="kobo.104.2">The downside is the amount of space on your drives consumed by this bigger installation, but given the price of storage these days, it is likely not much of a consideration. </span><span class="koboSpan" id="kobo.104.3">These libraries are probably the most important variant to consider if you intend to do data </span><span class="No-Break"><span class="koboSpan" id="kobo.105.1">science work.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.106.1">IronPython</span></strong><span class="koboSpan" id="kobo.107.1">—This is a variant of Python designed to run in the Microsoft .NET runtime. </span><span class="koboSpan" id="kobo.107.2">The implications of that </span><a id="_idIndexMarker192"/><span class="koboSpan" id="kobo.108.1">are beyond the scope of this book. </span><span class="koboSpan" id="kobo.108.2">However, IronPython is interesting because, in addition to running in a .NET environment, this</span><a id="_idIndexMarker193"/><span class="koboSpan" id="kobo.109.1"> implementation isn’t hobbled by a </span><strong class="bold"><span class="koboSpan" id="kobo.110.1">global interpreter lock</span></strong><span class="koboSpan" id="kobo.111.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.112.1">GIL</span></strong><span class="koboSpan" id="kobo.113.1">). </span><span class="koboSpan" id="kobo.113.2">GILs prevent efficient multithreading in your code. </span><span class="koboSpan" id="kobo.113.3">If you’re not aware of this limitation in Python, I’ll leave a link in the </span><em class="italic"><span class="koboSpan" id="kobo.114.1">Further reading</span></em><span class="koboSpan" id="kobo.115.1"> section of </span><span class="No-Break"><span class="koboSpan" id="kobo.116.1">this chapter.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.117.1">Jython</span></strong><span class="koboSpan" id="kobo.118.1">—This variant allows </span><a id="_idIndexMarker194"/><span class="koboSpan" id="kobo.119.1">your Python code to </span><a id="_idIndexMarker195"/><span class="koboSpan" id="kobo.120.1">execute within a </span><strong class="bold"><span class="koboSpan" id="kobo.121.1">Java Virtual </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.122.1">Machine</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.123.1"> (</span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.124.1">JVM</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.125.1">).</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.126.1">MicroPython</span></strong><span class="koboSpan" id="kobo.127.1">—This variant is used to run Python</span><a id="_idIndexMarker196"/><span class="koboSpan" id="kobo.128.1"> code with microcontrollers </span><a id="_idIndexMarker197"/><span class="koboSpan" id="kobo.129.1">for use in the </span><strong class="bold"><span class="koboSpan" id="kobo.130.1">Internet of Things</span></strong><span class="koboSpan" id="kobo.131.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.132.1">IoT</span></strong><span class="koboSpan" id="kobo.133.1">) and potentially </span><span class="No-Break"><span class="koboSpan" id="kobo.134.1">embedded projects.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.135.1">ActiveState ActivePython</span></strong><span class="koboSpan" id="kobo.136.1">—This is a </span><a id="_idIndexMarker198"/><span class="koboSpan" id="kobo.137.1">commercially supported implementation of Python, with special attention paid to Windows compatibility and execution. </span><span class="koboSpan" id="kobo.137.2">Traditionally, Python was designed with the assumption that it would be running in Unix or Linux environments. </span><span class="koboSpan" id="kobo.137.3">If you intend to run your Python code in production on a Windows server, you might consider </span><span class="No-Break"><span class="koboSpan" id="kobo.138.1">this variant.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.139.1">You’ll find these documented officially at </span><a href="https://www.python.org/download/alternatives/"><span class="koboSpan" id="kobo.140.1">https://www.python.org/download/alternatives/</span></a><span class="koboSpan" id="kobo.141.1">. </span><span class="koboSpan" id="kobo.141.2">While any of these variants should work in PyCharm, most developers using the IDE are working in vanilla Python (the one from </span><a href="http://python.org"><span class="koboSpan" id="kobo.142.1">python.org</span></a><span class="koboSpan" id="kobo.143.1">) or Anaconda. </span><span class="koboSpan" id="kobo.143.2">As you work with virtual environments in Python, you will undoubtedly see different options for these alternative implementations. </span><span class="koboSpan" id="kobo.143.3">In general, I always use the vanilla version of </span><span class="No-Break"><span class="koboSpan" id="kobo.144.1">Python 3.</span></span></p>
<h1 id="_idParaDest-56"><a id="_idTextAnchor055"/><span class="koboSpan" id="kobo.145.1">Virtual environments</span></h1>
<p><span class="koboSpan" id="kobo.146.1">We oriented ourselves with respect to project creation in </span><a href="B19644_02.xhtml#_idTextAnchor028"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.147.1">Chapter 2</span></em></span></a><span class="koboSpan" id="kobo.148.1">, </span><em class="italic"><span class="koboSpan" id="kobo.149.1">Installation and Configuration</span></em><span class="koboSpan" id="kobo.150.1">; however, we glossed over the details around creating or setting up a </span><strong class="bold"><span class="koboSpan" id="kobo.151.1">virtual environment</span></strong><span class="koboSpan" id="kobo.152.1">. </span><span class="koboSpan" id="kobo.152.2">Virtual </span><a id="_idIndexMarker199"/><span class="koboSpan" id="kobo.153.1">environments are a feature of Python rather than of PyCharm. </span><span class="koboSpan" id="kobo.153.2">A virtual environment is a copy of a Python interpreter and its related files that is specific to a project. </span><span class="koboSpan" id="kobo.153.3">Most programming languages allow some way of segregating the requirements of one project from any other on your computer. </span><span class="koboSpan" id="kobo.153.4">At the outset of a project, you will typically create a virtual environment from your main, also called </span><em class="italic"><span class="koboSpan" id="kobo.154.1">global</span></em><span class="koboSpan" id="kobo.155.1">, Python installation. </span><span class="koboSpan" id="kobo.155.2">The benefit comes when you are working on multiple projects with different requirements. </span><span class="koboSpan" id="kobo.155.3">It might be that one project requires Python 3.6, and the version is frozen there in order to comply with customer requirements around change control. </span><span class="koboSpan" id="kobo.155.4">Or maybe a library you need, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.156.1">matplotlib</span></strong><span class="koboSpan" id="kobo.157.1">, only runs in Python 3.6 on your Mac, but in Windows, it’s stable at Python 3.9. </span><span class="koboSpan" id="kobo.157.2">While that project is going on, another project starts that requires </span><span class="No-Break"><span class="koboSpan" id="kobo.158.1">Python 3.10.</span></span></p>
<p><span class="koboSpan" id="kobo.159.1">If you were strictly working </span><a id="_idIndexMarker200"/><span class="koboSpan" id="kobo.160.1">with the global or system-wide installations of Python, it would be very hard to switch back and forth between those two projects. </span><span class="koboSpan" id="kobo.160.2">You would have to futz with environment variables and fix your computer’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.161.1">PATH</span></strong><span class="koboSpan" id="kobo.162.1"> environment variable. </span><span class="koboSpan" id="kobo.162.2">Then, you would have to try to remember which third-party libraries are installed globally and hope there isn’t a clash between those library requirements for the separate </span><span class="No-Break"><span class="koboSpan" id="kobo.163.1">projects. </span><span class="koboSpan" id="kobo.163.2">Yuck.</span></span></p>
<p><span class="koboSpan" id="kobo.164.1">Virtual environments allow you to manage these problems easily. </span><span class="koboSpan" id="kobo.164.2">While using them is purely optional, it is considered a best practice to create a virtual environment for every project. </span><span class="koboSpan" id="kobo.164.3">Before we dive back into PyCharm, I thought it would be fun to create a virtual environment manually. </span><span class="koboSpan" id="kobo.164.4">You can skip this if you’d like, but if you haven’t done this before, I think it will give you an appreciation for some of the work PyCharm takes off your plate at the onset of a </span><span class="No-Break"><span class="koboSpan" id="kobo.165.1">new project.</span></span></p>
<h2 id="_idParaDest-57"><a id="_idTextAnchor056"/><span class="koboSpan" id="kobo.166.1">Creating a virtual environment by hand</span></h2>
<p><span class="koboSpan" id="kobo.167.1">Open up your computer’s terminal and</span><a id="_idIndexMarker201"/><span class="koboSpan" id="kobo.168.1"> find a spot on your drive where you can do a little temporary work. </span><span class="koboSpan" id="kobo.168.2">We won’t be keeping this for later; we’re just going to go through the process. </span><span class="koboSpan" id="kobo.168.3">We will then switch to PyCharm so that we can see a more automated version of the </span><span class="No-Break"><span class="koboSpan" id="kobo.169.1">same workflow.</span></span></p>
<p><span class="koboSpan" id="kobo.170.1">I’m running Windows, and I have a place in my home folder where I keep my projects; a folder simply called </span><em class="italic"><span class="koboSpan" id="kobo.171.1">Projects</span></em><span class="koboSpan" id="kobo.172.1">. </span><span class="koboSpan" id="kobo.172.2">Having opened my computer’s terminal program, which in this case is </span><strong class="bold"><span class="koboSpan" id="kobo.173.1">Windows Terminal</span></strong><span class="koboSpan" id="kobo.174.1"> running </span><strong class="bold"><span class="koboSpan" id="kobo.175.1">PowerShell</span></strong><span class="koboSpan" id="kobo.176.1">, I can type the commands for this experiment. </span><span class="koboSpan" id="kobo.176.2">You do not have to use Windows, nor do you have to use PowerShell. </span><span class="koboSpan" id="kobo.176.3">The normal </span><strong class="bold"><span class="koboSpan" id="kobo.177.1">zshell</span></strong><span class="koboSpan" id="kobo.178.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.179.1">zsh</span></strong><span class="koboSpan" id="kobo.180.1">) terminal </span><a id="_idIndexMarker202"/><span class="koboSpan" id="kobo.181.1">prompt in macOS or the </span><strong class="bold"><span class="koboSpan" id="kobo.182.1">Bourne Again Shell </span></strong><span class="koboSpan" id="kobo.183.1">(</span><strong class="bold"><span class="koboSpan" id="kobo.184.1">Bash</span></strong><span class="koboSpan" id="kobo.185.1">) prompt in</span><a id="_idIndexMarker203"/><span class="koboSpan" id="kobo.186.1"> Linux works the same. </span><span class="koboSpan" id="kobo.186.2">Most of the commands are identical in all terminals and operating systems. </span><span class="koboSpan" id="kobo.186.3">I’ll start by creating a new folder, </span><span class="No-Break"><span class="koboSpan" id="kobo.187.1">as follows:</span></span></p>
<pre class="source-code">
<strong class="source-inline"><span class="koboSpan" id="kobo.188.1">mkdir python-environment-demo</span></strong></pre> <p><span class="koboSpan" id="kobo.189.1">This creates a new folder called </span><strong class="source-inline"><span class="koboSpan" id="kobo.190.1">python-environment-demo</span></strong><span class="koboSpan" id="kobo.191.1">. </span><span class="koboSpan" id="kobo.191.2">Next, I need to change directory (</span><strong class="source-inline"><span class="koboSpan" id="kobo.192.1">cd</span></strong><span class="koboSpan" id="kobo.193.1">) into it, </span><span class="No-Break"><span class="koboSpan" id="kobo.194.1">like so:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.195.1">
cd python-environment-demo</span></pre> <p><span class="koboSpan" id="kobo.196.1">Now I’m inside that folder, I’ll create my virtual environment. </span><span class="koboSpan" id="kobo.196.2">If you are using macOS or Linux, there’s a good chance you have both Python 2 and 3 installed, and we want to be sure to make a virtual environment based on Python 3. </span><span class="koboSpan" id="kobo.196.3">In order to differentiate, you need to type </span><span class="No-Break"><span class="koboSpan" id="kobo.197.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.198.1">
python3 -m venv venv</span></pre> <p><span class="koboSpan" id="kobo.199.1">If you’re on Windows, you</span><a id="_idIndexMarker204"/><span class="koboSpan" id="kobo.200.1"> probably only have Python 3 installed, so the command </span><span class="No-Break"><span class="koboSpan" id="kobo.201.1">is this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.202.1">
python -m venv venv</span></pre> <p><span class="koboSpan" id="kobo.203.1">Here, we’re running the </span><strong class="source-inline"><span class="koboSpan" id="kobo.204.1">python3</span></strong><span class="koboSpan" id="kobo.205.1"> command, and we’re passing a switch (</span><strong class="source-inline"><span class="koboSpan" id="kobo.206.1">-m</span></strong><span class="koboSpan" id="kobo.207.1">) that will execute the </span><strong class="source-inline"><span class="koboSpan" id="kobo.208.1">venv</span></strong><span class="koboSpan" id="kobo.209.1"> package to create a new virtual environment based on Python 3 within a new folder called </span><strong class="source-inline"><span class="koboSpan" id="kobo.210.1">venv</span></strong><span class="koboSpan" id="kobo.211.1">. </span><span class="koboSpan" id="kobo.211.2">Once the command finishes, I can make sure it worked on Windows </span><span class="No-Break"><span class="koboSpan" id="kobo.212.1">with this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.213.1">
dir</span></pre> <p><span class="koboSpan" id="kobo.214.1">Or on macOS/Linux, I can </span><span class="No-Break"><span class="koboSpan" id="kobo.215.1">use this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.216.1">
ls -a</span></pre> <p><span class="koboSpan" id="kobo.217.1">You should see your system’s output. </span><span class="koboSpan" id="kobo.217.2">I’m using Windows, so mine appears as seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.218.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.219.1">.1</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.220.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer079">
<span class="koboSpan" id="kobo.221.1"><img alt="Figure 3.1: Terminal output checking whether my virtual environment creation was successful" src="image/B19644_03_01.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.222.1">Figure 3.1: Terminal output checking whether my virtual environment creation was successful</span></p>
<p><span class="koboSpan" id="kobo.223.1">It isn’t necessary for your virtual environment to be in the same folder as the rest of your project, but I usually organize things this way to make the virtual environment easy to </span><span class="No-Break"><span class="koboSpan" id="kobo.224.1">find later.</span></span></p>
<p><span class="koboSpan" id="kobo.225.1">If I intend to use Git or </span><a id="_idIndexMarker205"/><span class="koboSpan" id="kobo.226.1">some other revision control system, it would be appropriate for me to have the revision control system ignore this folder. </span><span class="koboSpan" id="kobo.226.2">You should </span><em class="italic"><span class="koboSpan" id="kobo.227.1">not</span></em><span class="koboSpan" id="kobo.228.1"> check this folder into </span><span class="No-Break"><span class="koboSpan" id="kobo.229.1">your repository.</span></span></p>
<p><span class="koboSpan" id="kobo.230.1">The final step in working with a virtual environment is to activate it. </span><span class="koboSpan" id="kobo.230.2">The command is a little different in Windows compared to macOS and Linux. </span><span class="koboSpan" id="kobo.230.3">The command to activate a virtual environment in Windows </span><span class="No-Break"><span class="koboSpan" id="kobo.231.1">is this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.232.1">
.\venv\Scripts\activate</span></pre> <p><span class="koboSpan" id="kobo.233.1">While in macOS and Linux, it would </span><span class="No-Break"><span class="koboSpan" id="kobo.234.1">be this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.235.1">
source ./venv/bin/activate</span></pre> <p><span class="koboSpan" id="kobo.236.1">If you successfully activated your virtual environment, the prompt should have changed to display the name of the virtual environment that is currently active. </span><span class="koboSpan" id="kobo.236.2">Bear in mind that if you have customized your terminal to prevent this, it might not work. </span><span class="koboSpan" id="kobo.236.3">You can see in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.237.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.238.1">.2</span></em><span class="koboSpan" id="kobo.239.1"> that everything worked for me, as indicated by </span><strong class="source-inline"><span class="koboSpan" id="kobo.240.1">(venv)</span></strong><span class="koboSpan" id="kobo.241.1"> appearing at the front of my prompt. </span><span class="koboSpan" id="kobo.241.2">The top example shows activation in Windows 11, while the lower example shows the activation </span><a id="_idIndexMarker206"/><span class="koboSpan" id="kobo.242.1">command in Linux, which is the same as it would be </span><span class="No-Break"><span class="koboSpan" id="kobo.243.1">in macOS:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer080">
<span class="koboSpan" id="kobo.244.1"><img alt="Figure 3.2: My virtual environment has been activated" src="image/B19644_03_02.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.245.1">Figure 3.2: My virtual environment has been activated</span></p>
<p><span class="koboSpan" id="kobo.246.1">When I’m ready to stop working in my virtual environment, I can deactivate it by typing the following command in </span><span class="No-Break"><span class="koboSpan" id="kobo.247.1">the terminal:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.248.1">
deactivate</span></pre> <p><span class="koboSpan" id="kobo.249.1">That was a little bit of work. </span><span class="koboSpan" id="kobo.249.2">If you’ve been doing this for a while, it isn’t too bad—maybe just a few minutes. </span><span class="koboSpan" id="kobo.249.3">However, if you do not do this very often, you will have to look everything up, and this may take time. </span><span class="koboSpan" id="kobo.249.4">You really only do this at the beginning of a new project. </span><span class="koboSpan" id="kobo.249.5">Some people might only do this a few times per year. </span><span class="koboSpan" id="kobo.249.6">Now, let’s go back to PyCharm and see how this step is integrated into the new project </span><span class="No-Break"><span class="koboSpan" id="kobo.250.1">creation workflow.</span></span></p>
<h1 id="_idParaDest-58"><a id="_idTextAnchor057"/><span class="koboSpan" id="kobo.251.1">Creating a project in PyCharm (revisited)</span></h1>
<p><span class="koboSpan" id="kobo.252.1">If we go back to</span><a id="_idIndexMarker207"/><span class="koboSpan" id="kobo.253.1"> PyCharm and create a new pure Python project, you’ll see where the </span><a id="_idIndexMarker208"/><span class="koboSpan" id="kobo.254.1">process of creating a virtual environment happens. </span><span class="koboSpan" id="kobo.254.2">In PyCharm, let’s create a new project by clicking </span><strong class="bold"><span class="koboSpan" id="kobo.255.1">File</span></strong><span class="koboSpan" id="kobo.256.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.257.1">New Project…</span></strong><span class="koboSpan" id="kobo.258.1">, as seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.259.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.260.1">.3</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.261.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer081">
<span class="koboSpan" id="kobo.262.1"><img alt="Figure 3.3: Creating a new project in PyCharm" src="image/B19644_03_03.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.263.1">Figure 3.3: Creating a new project in PyCharm</span></p>
<p><span class="koboSpan" id="kobo.264.1">This will be a pure Python project. </span><span class="koboSpan" id="kobo.264.2">The Professional edition is not necessary to follow along. </span><span class="koboSpan" id="kobo.264.3">The new project dialog</span><a id="_idIndexMarker209"/><span class="koboSpan" id="kobo.265.1"> is something we saw before in </span><a href="B19644_02.xhtml#_idTextAnchor028"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.266.1">Chapter 2</span></em></span></a><span class="koboSpan" id="kobo.267.1">, </span><em class="italic"><span class="koboSpan" id="kobo.268.1">Installation and Configuration</span></em><span class="koboSpan" id="kobo.269.1">, but this time </span><a id="_idIndexMarker210"/><span class="koboSpan" id="kobo.270.1">we will focus on some of the details we skipped. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.271.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.272.1">.4</span></em><span class="koboSpan" id="kobo.273.1"> shows the Professional edition of PyCharm’s new project window on the left. </span><span class="koboSpan" id="kobo.273.2">PyCharm Community lacks the project type menu since it can only create “pure </span><span class="No-Break"><span class="koboSpan" id="kobo.274.1">Python” projects:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer082">
<span class="koboSpan" id="kobo.275.1"><img alt="Figure 3.4: A side-by-side comparison of the New Project window for the Professional edition (left) and the Community edition (right)" src="image/B19644_03_04.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.276.1">Figure 3.4: A side-by-side comparison of the New Project window for the Professional edition (left) and the Community edition (right)</span></p>
<p><span class="koboSpan" id="kobo.277.1">The section of the </span><strong class="bold"><span class="koboSpan" id="kobo.278.1">New Project</span></strong><span class="koboSpan" id="kobo.279.1"> dialog I’d like </span><a id="_idIndexMarker211"/><span class="koboSpan" id="kobo.280.1">you to focus on is highlighted in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.281.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.282.1">.5</span></em><span class="koboSpan" id="kobo.283.1">. </span><span class="koboSpan" id="kobo.283.2">It is this section of the screen that allows you to set up your virtual </span><a id="_idIndexMarker212"/><span class="koboSpan" id="kobo.284.1">environment. </span><span class="koboSpan" id="kobo.284.2">In </span><a href="B19644_02.xhtml#_idTextAnchor028"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.285.1">Chapter 2</span></em></span></a><span class="koboSpan" id="kobo.286.1">, </span><em class="italic"><span class="koboSpan" id="kobo.287.1">Installation and Configuration</span></em><span class="koboSpan" id="kobo.288.1">, we breezed right past this and just accepted the defaults. </span><span class="koboSpan" id="kobo.288.2">As it happens, the defaults nearly match the manual process we completed in the </span><span class="No-Break"><span class="koboSpan" id="kobo.289.1">last section:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer083">
<span class="koboSpan" id="kobo.290.1"><img alt="Figure 3.5: The virtual environment settings from PyCharm enumerated for explanation" src="image/B19644_03_05.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.291.1">Figure 3.5: The virtual environment settings from PyCharm enumerated for explanation</span></p>
<p><span class="koboSpan" id="kobo.292.1">Let’s consider the</span><a id="_idIndexMarker213"/><span class="koboSpan" id="kobo.293.1"> numbered labels in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.294.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.295.1">.5</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.296.1">:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.297.1">This is the Python interpreter settings section of the </span><strong class="bold"><span class="koboSpan" id="kobo.298.1">New Project</span></strong><span class="koboSpan" id="kobo.299.1"> window. </span><span class="koboSpan" id="kobo.299.2">You can hide it if you like by twirling the triangle next to the section label, though if we did that, we wouldn't be able to continue talking about what </span><span class="No-Break"><span class="koboSpan" id="kobo.300.1">comes next.</span></span></li>
<li><span class="koboSpan" id="kobo.301.1">There are two </span><a id="_idIndexMarker214"/><span class="koboSpan" id="kobo.302.1">options at play here. </span><span class="koboSpan" id="kobo.302.2">You can either create a new virtual environment or point to one you’ve already created. </span><span class="koboSpan" id="kobo.302.3">Let’s focus on creating a new one. </span><span class="koboSpan" id="kobo.302.4">The </span><strong class="bold"><span class="koboSpan" id="kobo.303.1">New environment</span></strong><span class="koboSpan" id="kobo.304.1"> option has a radio button next to it and a drop-down list allowing you to choose a mechanism for creating your virtual environment. </span><span class="koboSpan" id="kobo.304.2">In our manual example in the previous section, we used the Python </span><strong class="source-inline"><span class="koboSpan" id="kobo.305.1">virtualenv</span></strong><span class="koboSpan" id="kobo.306.1"> virtual environment feature. </span><span class="koboSpan" id="kobo.306.2">Changing the mechanism using the dropdown will change the contents of the screen to match the settings for the virtual environment script you pick. </span><span class="koboSpan" id="kobo.306.3">For now, let’s leave it on </span><strong class="bold"><span class="koboSpan" id="kobo.307.1">Virtualenv </span></strong><span class="koboSpan" id="kobo.308.1">since that is the oldest and likely the most </span><span class="No-Break"><span class="koboSpan" id="kobo.309.1">widely used.</span></span></li>
<li><span class="koboSpan" id="kobo.310.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.311.1">Location</span></strong><span class="koboSpan" id="kobo.312.1"> field allows you to set the location for your virtual environment. </span><span class="koboSpan" id="kobo.312.2">It will default to a folder called </span><strong class="source-inline"><span class="koboSpan" id="kobo.313.1">venv</span></strong><span class="koboSpan" id="kobo.314.1"> within the folder for the project. </span><span class="koboSpan" id="kobo.314.2">You can set the location anywhere on your computer; it doesn’t have to be in the project folder. </span><span class="koboSpan" id="kobo.314.3">If you have several projects that share a virtual environment because they share</span><a id="_idIndexMarker215"/><span class="koboSpan" id="kobo.315.1"> dependencies, it makes sense to create a central location to hold the environment. </span><span class="koboSpan" id="kobo.315.2">Most of the time, I prefer to keep the virtual</span><a id="_idIndexMarker216"/><span class="koboSpan" id="kobo.316.1"> environment in the same folder as the project so that there is no question as to </span><span class="No-Break"><span class="koboSpan" id="kobo.317.1">its location.</span></span></li>
<li><span class="koboSpan" id="kobo.318.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.319.1">Base interpreter</span></strong><span class="koboSpan" id="kobo.320.1"> field lets you choose which Python installation will be used to create the virtual environment. </span><span class="koboSpan" id="kobo.320.2">If you have more than one Python installation on your computer, PyCharm was probably able to find it automatically. </span><span class="koboSpan" id="kobo.320.3">The selection is presented as a drop-down list of the locations where PyCharm found a Python installation. </span><span class="koboSpan" id="kobo.320.4">If it somehow missed one, you can click the ellipsis button (</span><strong class="bold"><span class="koboSpan" id="kobo.321.1">…</span></strong><span class="koboSpan" id="kobo.322.1">) and navigate to the Python installation you’re interested in using. </span><span class="koboSpan" id="kobo.322.2">If you do this, you need to navigate all the way to the Python executable and </span><span class="No-Break"><span class="koboSpan" id="kobo.323.1">double-click it.</span></span></li>
<li><span class="koboSpan" id="kobo.324.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.325.1">Inherit global site-packages</span></strong><span class="koboSpan" id="kobo.326.1"> checkbox deals with any third-party libraries you might have installed globally. </span><span class="koboSpan" id="kobo.326.2">Checking this box will copy those into your virtual environment so that they are available locally in </span><span class="No-Break"><span class="koboSpan" id="kobo.327.1">your project.</span></span></li>
<li><span class="koboSpan" id="kobo.328.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.329.1">Make available to all projects</span></strong><span class="koboSpan" id="kobo.330.1"> checkbox allows you to easily find and reuse this virtual environment in </span><span class="No-Break"><span class="koboSpan" id="kobo.331.1">other projects.</span></span></li>
</ol>
<h1 id="_idParaDest-59"><a id="_idTextAnchor058"/><span class="koboSpan" id="kobo.332.1">Using an existing virtual environment</span></h1>
<p><span class="koboSpan" id="kobo.333.1">Sometimes, you need to make </span><a id="_idIndexMarker217"/><span class="koboSpan" id="kobo.334.1">a project with the exact same requirements used in another project. </span><span class="koboSpan" id="kobo.334.2">You can share or reuse a virtual environment easily in PyCharm. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.335.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.336.1">.5</span></em><span class="koboSpan" id="kobo.337.1"> shows the </span><strong class="bold"><span class="koboSpan" id="kobo.338.1">New Project</span></strong><span class="koboSpan" id="kobo.339.1"> dialog </span><span class="No-Break"><span class="koboSpan" id="kobo.340.1">in PyCharm.</span></span></p>
<p><span class="koboSpan" id="kobo.341.1">To use an existing virtual environment, you’d need to change the default setting from </span><strong class="bold"><span class="koboSpan" id="kobo.342.1">New environment </span></strong><span class="koboSpan" id="kobo.343.1">using to </span><strong class="bold"><span class="koboSpan" id="kobo.344.1">Previously configured interpreter</span></strong><span class="koboSpan" id="kobo.345.1">, as seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.346.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.347.1">.6</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.348.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer084">
<span class="koboSpan" id="kobo.349.1"><img alt="Figure 3.6: You can point your project to an existing virtual environment by changing the setting for the project" src="image/B19644_03_06.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.350.1">Figure 3.6: You can point your project to an existing virtual environment by changing the setting for the project</span></p>
<p><span class="koboSpan" id="kobo.351.1">Once you do that, your options for selecting an existing environment become active. </span><span class="koboSpan" id="kobo.351.2">There is a drop-down list available to pick the interpreter. </span><span class="koboSpan" id="kobo.351.3">It works the same as the </span><strong class="bold"><span class="koboSpan" id="kobo.352.1">Base interpreter</span></strong><span class="koboSpan" id="kobo.353.1"> dropdown we saw earlier when creating a new virtual environment. </span><span class="koboSpan" id="kobo.353.2">If you created the existing</span><a id="_idIndexMarker218"/><span class="koboSpan" id="kobo.354.1"> environment in PyCharm, the IDE would remember it. </span><span class="koboSpan" id="kobo.354.2">In this case, I previously created a virtual environment using PyCharm when I created the demo project code for </span><a href="B19644_01.xhtml#_idTextAnchor014"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.355.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.356.1">, </span><em class="italic"><span class="koboSpan" id="kobo.357.1">Introduction to PyCharm – The Most Popular IDE for Python</span></em><span class="koboSpan" id="kobo.358.1">. </span><span class="koboSpan" id="kobo.358.2">PyCharm will remember virtual environments created using PyCharm and will offer them in </span><span class="No-Break"><span class="koboSpan" id="kobo.359.1">the list.</span></span></p>
<p><span class="koboSpan" id="kobo.360.1">If you used a manual method or some other tool, you’ll need to add the interpreter to the list using the </span><strong class="bold"><span class="koboSpan" id="kobo.361.1">Add Interpreter</span></strong><span class="koboSpan" id="kobo.362.1"> button. </span><span class="koboSpan" id="kobo.362.2">When you click the button, you’ll notice some possibilities, as seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.363.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.364.1">.7</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.365.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer085">
<span class="koboSpan" id="kobo.366.1"><img alt="Figure 3.7: When you click Add Interpreter, you have a myriad of options for the origin of the environment you might want to add" src="image/B19644_03_07.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.367.1">Figure 3.7: When you click Add Interpreter, you have a myriad of options for the origin of the environment you might want to add</span></p>
<p><span class="koboSpan" id="kobo.368.1">So far, we’re strictly limiting </span><a id="_idIndexMarker219"/><span class="koboSpan" id="kobo.369.1">our discussion to adding a virtual environment that exists on your local computer. </span><span class="koboSpan" id="kobo.369.2">It is possible to add an environment on a</span><a id="_idIndexMarker220"/><span class="koboSpan" id="kobo.370.1"> remote computer, </span><strong class="bold"><span class="koboSpan" id="kobo.371.1">virtual machine</span></strong><span class="koboSpan" id="kobo.372.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.373.1">VM</span></strong><span class="koboSpan" id="kobo.374.1">), </span><strong class="bold"><span class="koboSpan" id="kobo.375.1">Windows Subsystem for Linux</span></strong><span class="koboSpan" id="kobo.376.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.377.1">WSL</span></strong><span class="koboSpan" id="kobo.378.1">, which is a VM), or a </span><strong class="bold"><span class="koboSpan" id="kobo.379.1">Docker</span></strong><span class="koboSpan" id="kobo.380.1"> container. </span><span class="koboSpan" id="kobo.380.2">We’re going to talk about those options much later in </span><span class="No-Break"><span class="koboSpan" id="kobo.381.1">the book.</span></span></p>
<p><span class="koboSpan" id="kobo.382.1">Once you select </span><strong class="bold"><span class="koboSpan" id="kobo.383.1">Add Local Interpreter…</span></strong><span class="koboSpan" id="kobo.384.1">, you are prompted to navigate to the Python executable in the virtual environment you want to use, as seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.385.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.386.1">.8</span></em><span class="koboSpan" id="kobo.387.1">. </span><span class="koboSpan" id="kobo.387.2">Remember—the structure of virtual environments is different on Windows versus everywhere else. </span><span class="koboSpan" id="kobo.387.3">macOS and Linux virtual environments will have a </span><strong class="source-inline"><span class="koboSpan" id="kobo.388.1">bin</span></strong><span class="koboSpan" id="kobo.389.1"> folder containing the Python executable. </span><span class="koboSpan" id="kobo.389.2">In Windows, the virtual environment has a </span><strong class="source-inline"><span class="koboSpan" id="kobo.390.1">Scripts</span></strong><span class="koboSpan" id="kobo.391.1"> folder that will contain a file that points to the Python executable. </span><span class="koboSpan" id="kobo.391.2">Your goal in any case is to select </span><span class="No-Break"><span class="koboSpan" id="kobo.392.1">the executable:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer086">
<span class="koboSpan" id="kobo.393.1"><img alt="Figure 3.8: You need to select the Python executable within the virtual environment folder you’d like to use" src="image/B19644_03_08.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.394.1">Figure 3.8: You need to select the Python executable within the virtual environment folder you’d like to use</span></p>
<h1 id="_idParaDest-60"><a id="_idTextAnchor059"/><span class="koboSpan" id="kobo.395.1">Changing the interpreter for a project</span></h1>
<p><span class="koboSpan" id="kobo.396.1">One trick I employ when I’m </span><a id="_idIndexMarker221"/><span class="koboSpan" id="kobo.397.1">working on a project that’s been ongoing for 6 months or longer is to create a new virtual environment with fully updated packages. </span><span class="koboSpan" id="kobo.397.2">This way, I can test the program with updated dependencies without corrupting my production-ready virtual environment. </span><span class="koboSpan" id="kobo.397.3">We’ll cover package management a little later in this chapter. </span><span class="koboSpan" id="kobo.397.4">For now, I want to show you where the setting for your project’s interpreter exists independently of the project creation process. </span><span class="koboSpan" id="kobo.397.5">I find this to be a little bit non-intuitive. </span><span class="koboSpan" id="kobo.397.6">It’s in </span><strong class="bold"><span class="koboSpan" id="kobo.398.1">Settings</span></strong><span class="koboSpan" id="kobo.399.1">. </span><span class="koboSpan" id="kobo.399.2">The same </span><strong class="bold"><span class="koboSpan" id="kobo.400.1">Settings</span></strong><span class="koboSpan" id="kobo.401.1"> option you use to configure the IDE globally across all projects is used to set project-specific settings such as the </span><span class="No-Break"><span class="koboSpan" id="kobo.402.1">interpreter settings.</span></span></p>
<p><span class="koboSpan" id="kobo.403.1">Regardless of your reason, it is possible to change the interpreter, and by extension the virtual environment used in your project. </span><span class="koboSpan" id="kobo.403.2">You’ll find the project settings by clicking the gear icon in the top-left corner of the UI, as seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.404.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.405.1">.9</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.406.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer087">
<span class="koboSpan" id="kobo.407.1"><img alt="Figure 3.9: You’ll find global and project settings by clicking the gear" src="image/B19644_03_09.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.408.1">Figure 3.9: You’ll find global and project settings by clicking the gear</span></p>
<p><span class="koboSpan" id="kobo.409.1">Once you select </span><strong class="bold"><span class="koboSpan" id="kobo.410.1">Settings</span></strong><span class="koboSpan" id="kobo.411.1">, you’ll be taken to</span><a id="_idIndexMarker222"/><span class="koboSpan" id="kobo.412.1"> the global settings screen we studied in </span><a href="B19644_02.xhtml#_idTextAnchor028"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.413.1">Chapter 2</span></em></span></a><span class="koboSpan" id="kobo.414.1">, </span><em class="italic"><span class="koboSpan" id="kobo.415.1">Installation and Configuration</span></em><span class="koboSpan" id="kobo.416.1">. </span><span class="koboSpan" id="kobo.416.2">Project properties are also stored here, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.417.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.418.1">.10</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.419.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer088">
<span class="koboSpan" id="kobo.420.1"><img alt="Figure 3.10: The project settings are in the middle of the list" src="image/B19644_03_10.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.421.1">Figure 3.10: The project settings are in the middle of the list</span></p>
<p><span class="koboSpan" id="kobo.422.1">Select the interpreter settings</span><a id="_idIndexMarker223"/><span class="koboSpan" id="kobo.423.1"> on the left side of the screen and change the interpreter using the same mechanism we used when we set the virtual environment the first time. </span><span class="koboSpan" id="kobo.423.2">You can create a new environment or browse to a new one. </span><span class="koboSpan" id="kobo.423.3">Don’t forget that when you browse to a new environment, you need to select the Python executable and not the folder where the Python installation is located. </span><span class="koboSpan" id="kobo.423.4">I forget this sometimes, and I’m left wondering why the selection dialog won’t go away. </span><span class="koboSpan" id="kobo.423.5">It’s looking for a file, which is the Python executable, not </span><span class="No-Break"><span class="koboSpan" id="kobo.424.1">a folder.</span></span></p>
<h1 id="_idParaDest-61"><a id="_idTextAnchor060"/><span class="koboSpan" id="kobo.425.1">Activating virtualenv</span></h1>
<p><span class="koboSpan" id="kobo.426.1">In our manual exercise earlier in this</span><a id="_idIndexMarker224"/><span class="koboSpan" id="kobo.427.1"> chapter, we created a virtual environment from scratch using </span><strong class="source-inline"><span class="koboSpan" id="kobo.428.1">virtualenv</span></strong><span class="koboSpan" id="kobo.429.1">. </span><span class="koboSpan" id="kobo.429.2">Once the environment is created, you must activate it in order to use it. </span><span class="koboSpan" id="kobo.429.3">An obvious question might be “</span><em class="italic"><span class="koboSpan" id="kobo.430.1">How do I activate the environment?</span></em><span class="koboSpan" id="kobo.431.1">” Here’s the beautiful answer: you don’t have to. </span><span class="koboSpan" id="kobo.431.2">While you are in the IDE, the </span><a id="_idIndexMarker225"/><span class="koboSpan" id="kobo.432.1">environment settings are always there and are always honored. </span><span class="koboSpan" id="kobo.432.2">When you add new third-party packages from the </span><strong class="bold"><span class="koboSpan" id="kobo.433.1">Python Package Index</span></strong><span class="koboSpan" id="kobo.434.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.435.1">PyPI</span></strong><span class="koboSpan" id="kobo.436.1">), which we’ll cover shortly, they automatically go to the right place per your </span><span class="No-Break"><span class="koboSpan" id="kobo.437.1">environment settings.</span></span></p>
<p><span class="koboSpan" id="kobo.438.1">When we run our program, we can override the </span><strong class="bold"><span class="koboSpan" id="kobo.439.1">run configuration</span></strong><span class="koboSpan" id="kobo.440.1">, but by default, it uses the project’s environment setting. </span><span class="koboSpan" id="kobo.440.2">Frankly, it’s rare that the override in the run configuration is useful. </span><span class="koboSpan" id="kobo.440.3">With</span><a id="_idIndexMarker226"/><span class="koboSpan" id="kobo.441.1"> that said, I’ll show you how to override the run configuration later in </span><span class="No-Break"><span class="koboSpan" id="kobo.442.1">this chapter.</span></span></p>
<h2 id="_idParaDest-62"><a id="_idTextAnchor061"/><span class="koboSpan" id="kobo.443.1">Using the integrated terminal</span></h2>
<p><span class="koboSpan" id="kobo.444.1">Another place to worry about the virtual environment being active is within the </span><strong class="bold"><span class="koboSpan" id="kobo.445.1">terminal</span></strong><span class="koboSpan" id="kobo.446.1">. </span><span class="koboSpan" id="kobo.446.2">It’s true PyCharm can’t help you with your system terminal. </span><span class="koboSpan" id="kobo.446.3">However, PyCharm does have its own </span><a id="_idIndexMarker227"/><span class="koboSpan" id="kobo.447.1">terminal window tab. </span><span class="koboSpan" id="kobo.447.2">If you use PyCharm’s terminal, the project’s interpreter settings are automatically applied. </span><span class="koboSpan" id="kobo.447.3">You will not have to manually activate anything. </span><span class="koboSpan" id="kobo.447.4">Since we are talking about it, let’s look at the integrated terminal in PyCharm. </span><span class="koboSpan" id="kobo.447.5">You can find the menu item for showing the terminal in the </span><strong class="bold"><span class="koboSpan" id="kobo.448.1">View</span></strong><span class="koboSpan" id="kobo.449.1"> menu, as seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.450.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.451.1">.11</span></em><span class="koboSpan" id="kobo.452.1">. </span><span class="koboSpan" id="kobo.452.2">Personally, I spend a lot of time in the terminal, so I have committed the keyboard shortcut to </span><span class="No-Break"><span class="koboSpan" id="kobo.453.1">muscle memory:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer089">
<span class="koboSpan" id="kobo.454.1"><img alt="Figure 3.11: PyCharm’s integrated terminal can be found buried within the View menu" src="image/B19644_03_11.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.455.1">Figure 3.11: PyCharm’s integrated terminal can be found buried within the View menu</span></p>
<p><span class="koboSpan" id="kobo.456.1">Invoking the menu option brings up the terminal and, as promised, you can see in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.457.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.458.1">.12</span></em><span class="koboSpan" id="kobo.459.1"> it honors our project’s virtual </span><span class="No-Break"><span class="koboSpan" id="kobo.460.1">environment setting:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer090">
<span class="koboSpan" id="kobo.461.1"><img alt="Figure 3.12: You can see the terminal comes up with your virtual environment already active" src="image/B19644_03_12.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.462.1">Figure 3.12: You can see the terminal comes up with your virtual environment already active</span></p>
<p><span class="koboSpan" id="kobo.463.1">If the presence of </span><strong class="source-inline"><span class="koboSpan" id="kobo.464.1">(venv)</span></strong><span class="koboSpan" id="kobo.465.1"> in the </span><a id="_idIndexMarker228"/><span class="koboSpan" id="kobo.466.1">prompt isn’t proof enough that it worked, I provided more in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.467.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.468.1">.12</span></em><span class="koboSpan" id="kobo.469.1">. </span><span class="koboSpan" id="kobo.469.2">If you use macOS or Linux, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.470.1">which</span></strong><span class="koboSpan" id="kobo.471.1"> command to find the path to any executable. </span><span class="koboSpan" id="kobo.471.2">Sorry, Windows users: there isn’t an equivalent command on your OS. </span><span class="koboSpan" id="kobo.471.3">The result of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.472.1">which</span></strong><span class="koboSpan" id="kobo.473.1"> command is that it shows when I run </span><strong class="source-inline"><span class="koboSpan" id="kobo.474.1">python3</span></strong><span class="koboSpan" id="kobo.475.1"> it is using the one at the indicated path, rather than the system-wide installation, which is usually </span><span class="No-Break"><span class="koboSpan" id="kobo.476.1">at </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.477.1">/usr/bin/python3</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.478.1">.</span></span></p>
<h2 id="_idParaDest-63"><a id="_idTextAnchor062"/><span class="koboSpan" id="kobo.479.1">Working with the REPL in the console window</span></h2>
<p><span class="koboSpan" id="kobo.480.1">One final tool in PyCharm that </span><a id="_idIndexMarker229"/><span class="koboSpan" id="kobo.481.1">might cause you to wonder whether or not your environment settings are being honored is the </span><strong class="bold"><span class="koboSpan" id="kobo.482.1">console</span></strong><span class="koboSpan" id="kobo.483.1">. </span><span class="koboSpan" id="kobo.483.2">The </span><a id="_idIndexMarker230"/><span class="koboSpan" id="kobo.484.1">console is different from the terminal. </span><span class="koboSpan" id="kobo.484.2">The terminal is just your operating system’s shell. </span><span class="koboSpan" id="kobo.484.3">The console is a running version of Python based on your interpreter settings. </span><span class="koboSpan" id="kobo.484.4">You are </span><a id="_idIndexMarker231"/><span class="koboSpan" id="kobo.485.1">presented with Python’s </span><strong class="bold"><span class="koboSpan" id="kobo.486.1">Read Execute Print Loop</span></strong><span class="koboSpan" id="kobo.487.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.488.1">REPL</span></strong><span class="koboSpan" id="kobo.489.1">) environment, which is handy for testing small pieces of syntax, or for testing imports. </span><span class="koboSpan" id="kobo.489.2">If you didn’t have this tool, you could get the same functionality in the terminal by simply running </span><strong class="source-inline"><span class="koboSpan" id="kobo.490.1">python3</span></strong><span class="koboSpan" id="kobo.491.1"> by itself. </span><span class="koboSpan" id="kobo.491.2">PyCharm gives you an integrated tool so that you don’t have to. </span><span class="koboSpan" id="kobo.491.3">To get to the console, use the same menu you used to get to the terminal. </span><span class="koboSpan" id="kobo.491.4">I’ve shown it to you in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.492.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.493.1">.13</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.494.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer091">
<span class="koboSpan" id="kobo.495.1"><img alt="Figure 3.13: The Python console can be invoked via the View menu" src="image/B19644_03_13.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.496.1">Figure 3.13: The Python console can be invoked via the View menu</span></p>
<p><span class="koboSpan" id="kobo.497.1">Your console is not only</span><a id="_idIndexMarker232"/><span class="koboSpan" id="kobo.498.1"> aware of your interpreter settings, but it is also aware of the contents of your project. </span><span class="koboSpan" id="kobo.498.2">You can import and test anything in your project directly in the console. </span><span class="koboSpan" id="kobo.498.3">I find this useful when I’m tracking down the dreaded “</span><em class="italic"><span class="koboSpan" id="kobo.499.1">Module not found? </span><span class="koboSpan" id="kobo.499.2">Whaddya mean it’s not found?! </span><span class="koboSpan" id="kobo.499.3">It’s right there! </span><span class="koboSpan" id="kobo.499.4">I’m looking right at it!</span></em><span class="koboSpan" id="kobo.500.1">” issues we sometimes face. </span><span class="koboSpan" id="kobo.500.2">It is also useful for experimenting with some of the terser</span><a id="_idIndexMarker233"/><span class="koboSpan" id="kobo.501.1"> syntax we find in Python, such as </span><strong class="bold"><span class="koboSpan" id="kobo.502.1">regular expressions</span></strong><span class="koboSpan" id="kobo.503.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.504.1">regexes</span></strong><span class="koboSpan" id="kobo.505.1">) or list comprehensions. </span><span class="koboSpan" id="kobo.505.2">There’s a small example in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.506.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.507.1">.14</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.508.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer092">
<span class="koboSpan" id="kobo.509.1"><img alt="Figure 3.14: The console window in use to test a simple regex" src="image/B19644_03_14.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.510.1">Figure 3.14: The console window in use to test a simple regex</span></p>
<p><span class="koboSpan" id="kobo.511.1">The code I’m trying out in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.512.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.513.1">.14</span></em><span class="koboSpan" id="kobo.514.1"> isn’t going to impress anyone in my big Python interview </span><span class="No-Break"><span class="koboSpan" id="kobo.515.1">with Google:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.516.1">
import re
title = "Hands on Application Development with PyCharm"
test = re.search("Hands", title)</span></pre> <p><span class="koboSpan" id="kobo.517.1">I type each line into the console. </span><span class="koboSpan" id="kobo.517.2">Remember—this is a live coding view, not a file that you execute. </span><span class="koboSpan" id="kobo.517.3">Every time I press </span><em class="italic"><span class="koboSpan" id="kobo.518.1">Enter</span></em><span class="koboSpan" id="kobo.519.1">, the expression I just typed is evaluated, and the results appear in the </span><a id="_idIndexMarker234"/><span class="koboSpan" id="kobo.520.1">debug-like window on the right side when appropriate. </span><span class="koboSpan" id="kobo.520.2">Think of it like a debugging session where you have a watch window on the right, and everything you type in next to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.521.1">&gt;&gt;&gt;</span></strong><span class="koboSpan" id="kobo.522.1"> prompt becomes an </span><span class="No-Break"><span class="koboSpan" id="kobo.523.1">instant breakpoint.</span></span></p>
<p><span class="koboSpan" id="kobo.524.1">Having pressed </span><em class="italic"><span class="koboSpan" id="kobo.525.1">Enter</span></em><span class="koboSpan" id="kobo.526.1"> to evaluate the third line, I can see that the </span><strong class="source-inline"><span class="koboSpan" id="kobo.527.1">test</span></strong><span class="koboSpan" id="kobo.528.1"> variable has a </span><strong class="source-inline"><span class="koboSpan" id="kobo.529.1">re.Match</span></strong><span class="koboSpan" id="kobo.530.1"> object as its value. </span><span class="koboSpan" id="kobo.530.2">Stare at the window a little longer, and you can see the characters were found at position (0, 5), or characters 0 through 5 represented in a single </span><span class="No-Break"><span class="koboSpan" id="kobo.531.1">tuple (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.532.1">regs</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.533.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.534.1">Trying out complicated bits of code in the console saves a little bit of time versus the usual process comprised of running the program, reading </span><strong class="source-inline"><span class="koboSpan" id="kobo.535.1">print</span></strong><span class="koboSpan" id="kobo.536.1"> statements, making a change, and trying again, which eats up most of our days as developers. </span><span class="koboSpan" id="kobo.536.2">Then, you forget to take out the print statements, and you should because they can seriously slow down a </span><span class="No-Break"><span class="koboSpan" id="kobo.537.1">long-running script.</span></span></p>
<p><span class="koboSpan" id="kobo.538.1">The console executes everything instantly and feeds the results back to you. </span><span class="koboSpan" id="kobo.538.2">It is far more detailed than a print </span><a id="_idIndexMarker235"/><span class="koboSpan" id="kobo.539.1">statement because you can see the internals of any object using the debug-like window, rather than just seeing a string. </span><span class="koboSpan" id="kobo.539.2">After some tinkering in the console window, you can go back to your code and just use </span><span class="No-Break"><span class="koboSpan" id="kobo.540.1">what worked.</span></span></p>
<h1 id="_idParaDest-64"><a id="_idTextAnchor063"/><span class="koboSpan" id="kobo.541.1">Working with third-party package libraries</span></h1>
<p><span class="koboSpan" id="kobo.542.1">Python is famous for</span><a id="_idIndexMarker236"/><span class="koboSpan" id="kobo.543.1"> its “batteries included” philosophy, which is at odds with many other languages. </span><span class="koboSpan" id="kobo.543.2">Python’s creator, Guido van Rossum, believes a robust and complete standard library is important and that the language ought to be able to complete nearly any task without using any </span><span class="No-Break"><span class="koboSpan" id="kobo.544.1">third-party dependencies.</span></span></p>
<p><span class="koboSpan" id="kobo.545.1">By third-party dependencies, I mean libraries external to Python designed to perform a specialized functionality that is not implemented in Python “out of the box.” </span><span class="koboSpan" id="kobo.545.2">In other words, Python sets for itself a very lofty goal. </span><span class="koboSpan" id="kobo.545.3">It should be able to do literally anything all by itself using what is called the Python </span><span class="No-Break"><span class="koboSpan" id="kobo.546.1">standard library.</span></span></p>
<p><span class="koboSpan" id="kobo.547.1">Naturally, this goal can never be fully realized. </span><span class="koboSpan" id="kobo.547.2">The Python standard library is very complete. </span><span class="koboSpan" id="kobo.547.3">Eventually, though, you’ll find something the standard library either can’t do or the standard library’s implementation isn’t as easy to use as it could be. </span><span class="koboSpan" id="kobo.547.4">Let’s look at a couple of quick examples of third-party libraries that are widely used, and talk about why you might want to </span><span class="No-Break"><span class="koboSpan" id="kobo.548.1">use them.</span></span></p>
<p><span class="koboSpan" id="kobo.549.1">Let’s start with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.550.1">requests</span></strong><span class="koboSpan" id="kobo.551.1"> library. </span><span class="koboSpan" id="kobo.551.2">This is a third-party library you’ll find on PyPI at </span><a href="https://pypi.org/project/requests/"><span class="koboSpan" id="kobo.552.1">https://pypi.org/project/requests/</span></a><span class="koboSpan" id="kobo.553.1">. </span><span class="koboSpan" id="kobo.553.2">Every modern language has something similar. </span><span class="koboSpan" id="kobo.553.3">JavaScript has</span><a id="_idIndexMarker237"/><span class="koboSpan" id="kobo.554.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.555.1">Node Package Manager</span></strong><span class="koboSpan" id="kobo.556.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.557.1">NPM</span></strong><span class="koboSpan" id="kobo.558.1">) at </span><a href="https://npmjs.com"><span class="koboSpan" id="kobo.559.1">https://npmjs.com</span></a><span class="koboSpan" id="kobo.560.1">. </span><strong class="bold"><span class="koboSpan" id="kobo.561.1">PHP</span></strong><span class="koboSpan" id="kobo.562.1"> uses </span><strong class="bold"><span class="koboSpan" id="kobo.563.1">Composer</span></strong><span class="koboSpan" id="kobo.564.1"> to install packages from </span><a href="https://packagist.org/"><span class="koboSpan" id="kobo.565.1">https://packagist.org/</span></a><span class="koboSpan" id="kobo.566.1">. </span><span class="koboSpan" id="kobo.566.2">The .NET languages use </span><strong class="bold"><span class="koboSpan" id="kobo.567.1">NuGet</span></strong><span class="koboSpan" id="kobo.568.1"> with packages registered at </span><a href="https://nuget.org"><span class="koboSpan" id="kobo.569.1">https://nuget.org</span></a><span class="koboSpan" id="kobo.570.1">. </span><span class="koboSpan" id="kobo.570.2">Python has </span><a href="https://pypi.org"><span class="koboSpan" id="kobo.571.1">https://pypi.org</span></a><span class="koboSpan" id="kobo.572.1">. </span><span class="koboSpan" id="kobo.572.2">It is a centralized listing of third-party modules and libraries you can add to your project, often free of charge. </span><span class="koboSpan" id="kobo.572.3">Metaphorically speaking, the idea is to prevent us from having to reinvent the wheel every time we want to </span><a id="_idIndexMarker238"/><span class="koboSpan" id="kobo.573.1">build a new car. </span><span class="koboSpan" id="kobo.573.2">Since I work on a </span><strong class="bold"><span class="koboSpan" id="kobo.574.1">software-as-a-service</span></strong><span class="koboSpan" id="kobo.575.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.576.1">SaaS</span></strong><span class="koboSpan" id="kobo.577.1">) project as my </span><a id="_idIndexMarker239"/><span class="koboSpan" id="kobo.578.1">day job, I find myself needing an easy way to make </span><strong class="bold"><span class="koboSpan" id="kobo.579.1">Hypertext Transfer Protocol</span></strong><span class="koboSpan" id="kobo.580.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.581.1">HTTP</span></strong><span class="koboSpan" id="kobo.582.1">) requests. </span><span class="koboSpan" id="kobo.582.2">The ability for my Python scripts to be able to make a call to some web service and process the results is crucial, and it is a very </span><span class="No-Break"><span class="koboSpan" id="kobo.583.1">common task.</span></span></p>
<p><span class="koboSpan" id="kobo.584.1">Python’s standard library has a few options for accomplishing this. </span><span class="koboSpan" id="kobo.584.2">I think the most obvious is </span><strong class="source-inline"><span class="koboSpan" id="kobo.585.1">urllib</span></strong><span class="koboSpan" id="kobo.586.1"> from the standard library. </span><span class="koboSpan" id="kobo.586.2">Here is some example code from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.587.1">urllib2</span></strong><span class="koboSpan" id="kobo.588.1"> documentation </span><span class="No-Break"><span class="koboSpan" id="kobo.589.1">at </span></span><a href="https://docs.python.org/3/howto/urllib2.html"><span class="No-Break"><span class="koboSpan" id="kobo.590.1">https://docs.python.org/3/howto/urllib2.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.591.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.592.1">
import urllib.parse
import urllib.request
url = 'http://www.someserver.com/cgi-bin/register.cgi'
values = {'name' : 'Michael Ford',
     'location' : 'Northampton',
     'language' : 'Python' }
data = urllib.parse.urlencode(values)
data = data.encode('ascii') # data should be bytes
req = urllib.request.Request(url, data)
with urllib.request.urlopen(req) as response:
  the_page = response.read()</span></pre> <p><span class="koboSpan" id="kobo.593.1">First, we import two parts of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.594.1">urllib</span></strong><span class="koboSpan" id="kobo.595.1"> package, remembering that is really </span><strong class="source-inline"><span class="koboSpan" id="kobo.596.1">urllib2</span></strong><span class="koboSpan" id="kobo.597.1">. </span><span class="koboSpan" id="kobo.597.2">Next, we create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.598.1">url</span></strong><span class="koboSpan" id="kobo.599.1"> variable. </span><span class="koboSpan" id="kobo.599.2">If you’re wondering what the references to </span><strong class="source-inline"><span class="koboSpan" id="kobo.600.1">cgi</span></strong><span class="koboSpan" id="kobo.601.1"> are in the sample, that’s a </span><strong class="bold"><span class="koboSpan" id="kobo.602.1">common gateway interface</span></strong><span class="koboSpan" id="kobo.603.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.604.1">CGI</span></strong><span class="koboSpan" id="kobo.605.1">). </span><span class="koboSpan" id="kobo.605.2">Nobody has used that in </span><a id="_idIndexMarker240"/><span class="koboSpan" id="kobo.606.1">production since around 1991, but it’s still in the documentation and is still valid. </span><span class="koboSpan" id="kobo.606.2">CGI is the ancestor of </span><a id="_idIndexMarker241"/><span class="koboSpan" id="kobo.607.1">modern web development. </span><span class="koboSpan" id="kobo.607.2">Basically, it refers to a program written in C that is executed by the web server in response to an endpoint having </span><strong class="source-inline"><span class="koboSpan" id="kobo.608.1">cgi-bin</span></strong><span class="koboSpan" id="kobo.609.1"> within the address. </span><span class="koboSpan" id="kobo.609.2">This style of development was supplanted long ago by the likes of </span><strong class="bold"><span class="koboSpan" id="kobo.610.1">PHP</span></strong><span class="koboSpan" id="kobo.611.1">, classic </span><strong class="bold"><span class="koboSpan" id="kobo.612.1">Active Server Pages</span></strong><span class="koboSpan" id="kobo.613.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.614.1">ASP</span></strong><span class="koboSpan" id="kobo.615.1">), </span><strong class="bold"><span class="koboSpan" id="kobo.616.1">Java ServerPages</span></strong><span class="koboSpan" id="kobo.617.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.618.1">JSP</span></strong><span class="koboSpan" id="kobo.619.1">), and </span><a id="_idIndexMarker242"/><span class="koboSpan" id="kobo.620.1">ColdFusion. </span><span class="koboSpan" id="kobo.620.2">Even those have since evolved into modern systems that use more sophisticated yet easier-to-code implementations of routing libraries that are very flexible. </span><span class="koboSpan" id="kobo.620.3">We’ll cover these later in the book when we talk about the web application development features in </span><span class="No-Break"><span class="koboSpan" id="kobo.621.1">PyCharm Professional.</span></span></p>
<p><span class="koboSpan" id="kobo.622.1">Once we have our </span><strong class="source-inline"><span class="koboSpan" id="kobo.623.1">url</span></strong><span class="koboSpan" id="kobo.624.1"> variable established, we need some data. </span><span class="koboSpan" id="kobo.624.2">In this example, we are using HTTP </span><strong class="source-inline"><span class="koboSpan" id="kobo.625.1">POST</span></strong><span class="koboSpan" id="kobo.626.1"> to send data to our web server for processing. </span><span class="koboSpan" id="kobo.626.2">This is done with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.627.1">values</span></strong><span class="koboSpan" id="kobo.628.1"> variable, which contains a dictionary that </span><a id="_idIndexMarker243"/><span class="koboSpan" id="kobo.629.1">mimics the fields and values you might find in a </span><strong class="bold"><span class="koboSpan" id="kobo.630.1">Hypertext Markup Language</span></strong><span class="koboSpan" id="kobo.631.1"> (</span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.632.1">HTML</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.633.1">) form.</span></span></p>
<p><span class="koboSpan" id="kobo.634.1">Once we’ve set that up, we must parse that dictionary into a format suitable for transmission. </span><span class="koboSpan" id="kobo.634.2">That is done with </span><strong class="source-inline"><span class="koboSpan" id="kobo.635.1">urllib.parse.urlencode</span></strong><span class="koboSpan" id="kobo.636.1">. </span><span class="koboSpan" id="kobo.636.2">Next, we need to further encode the data as </span><strong class="bold"><span class="koboSpan" id="kobo.637.1">American Standard Code for Information Interchange</span></strong><span class="koboSpan" id="kobo.638.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.639.1">ASCII</span></strong><span class="koboSpan" id="kobo.640.1">). </span><span class="koboSpan" id="kobo.640.2">This is another anachronism in the documentation. </span><span class="koboSpan" id="kobo.640.3">Modern systems use the 8-bit universal text format (UTF-8) since ASCII only encodes letters from Romance languages such as </span><a id="_idIndexMarker244"/><span class="koboSpan" id="kobo.641.1">English, French, German, Italian, or Portuguese. </span><span class="koboSpan" id="kobo.641.2">The rest of the world is out of luck. </span><span class="koboSpan" id="kobo.641.3">UTF-8 handles every alphabet in common global use today; this way, only the ancient Egyptians are snubbed, since UTF-8 doesn’t support hieroglyphics —at least, not that I </span><span class="No-Break"><span class="koboSpan" id="kobo.642.1">know of.</span></span></p>
<p><span class="koboSpan" id="kobo.643.1">After we encode the text, we need to create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.644.1">request</span></strong><span class="koboSpan" id="kobo.645.1"> object. </span><span class="koboSpan" id="kobo.645.2">We pass in our </span><strong class="source-inline"><span class="koboSpan" id="kobo.646.1">url</span></strong><span class="koboSpan" id="kobo.647.1"> variable and data to the constructor for </span><strong class="source-inline"><span class="koboSpan" id="kobo.648.1">urllib.request.Request</span></strong><span class="koboSpan" id="kobo.649.1">. </span><span class="koboSpan" id="kobo.649.2">Only then are we ready to send the request in the last two lines of </span><span class="No-Break"><span class="koboSpan" id="kobo.650.1">the sample.</span></span></p>
<p><span class="koboSpan" id="kobo.651.1">We’ve established there is a way to make a </span><strong class="source-inline"><span class="koboSpan" id="kobo.652.1">POST</span></strong><span class="koboSpan" id="kobo.653.1"> request in Python’s standard library. </span><span class="koboSpan" id="kobo.653.2">So far, though, we’ve only handled a very basic requirement. </span><span class="koboSpan" id="kobo.653.3">What if I need to present a request that is authenticated? </span><span class="koboSpan" id="kobo.653.4">How would I deal with sessions or cookies? </span><span class="koboSpan" id="kobo.653.5">Could we make this even simpler? </span><span class="koboSpan" id="kobo.653.6">We can with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.654.1">requests</span></strong><span class="koboSpan" id="kobo.655.1"> library. </span><span class="koboSpan" id="kobo.655.2">Here is some </span><span class="No-Break"><span class="koboSpan" id="kobo.656.1">sample code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.657.1">
import requests
requests.post('https://httpbin.org/post', data={'key':'value'})</span></pre> <p><span class="koboSpan" id="kobo.658.1">Our previous code from </span><strong class="source-inline"><span class="koboSpan" id="kobo.659.1">urllib</span></strong><span class="koboSpan" id="kobo.660.1"> could be expressed as a one-liner using </span><strong class="source-inline"><span class="koboSpan" id="kobo.661.1">requests</span></strong><span class="koboSpan" id="kobo.662.1">! </span><span class="koboSpan" id="kobo.662.2">More advanced requirements such as sessions, cookies, and so on are equally easy. </span><span class="koboSpan" id="kobo.662.3">The documentation is modern and contains useful examples. </span><span class="koboSpan" id="kobo.662.4">Popular PyPI libraries such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.663.1">requests</span></strong><span class="koboSpan" id="kobo.664.1"> are very well documented, with tutorials on sites such as </span><a href="https://realpython.com"><span class="koboSpan" id="kobo.665.1">https://realpython.com</span></a><span class="koboSpan" id="kobo.666.1">. </span><span class="koboSpan" id="kobo.666.2">I borrowed the preceding sample from </span><a href="https://realpython.com/python-requests/"><span class="koboSpan" id="kobo.667.1">https://realpython.com/python-requests/</span></a><span class="koboSpan" id="kobo.668.1">, which is part of a large and very complete tutorial on using this </span><span class="No-Break"><span class="koboSpan" id="kobo.669.1">powerful library.</span></span></p>
<p><span class="koboSpan" id="kobo.670.1">The point of all this is to point out that a system of third-party code libraries is necessary, or at least useful, in the context of Python—a language that strives to include everything you could ever need, but never will. </span><span class="koboSpan" id="kobo.670.2">The standard library may come close, but it will never include everything I could </span><span class="No-Break"><span class="koboSpan" id="kobo.671.1">ever want.</span></span></p>
<p><span class="koboSpan" id="kobo.672.1">Another important example of necessary third-party libraries is with respect to scientific and financial work. </span><span class="koboSpan" id="kobo.672.2">The standard math capabilities in Python are about the same as you would find in any other</span><a id="_idIndexMarker245"/><span class="koboSpan" id="kobo.673.1"> language. </span><span class="koboSpan" id="kobo.673.2">Most languages are not incredibly precise at handling floating-point calculations. </span><span class="koboSpan" id="kobo.673.3">They are also not very nuanced at handling matrices of numeric data, which represents a common requirement. </span><span class="koboSpan" id="kobo.673.4">Thankfully, third-party libraries such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.674.1">numpy</span></strong><span class="koboSpan" id="kobo.675.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.676.1">pandas</span></strong><span class="koboSpan" id="kobo.677.1"> exist to fill this void. </span><span class="koboSpan" id="kobo.677.2">These libraries open new possibilities to Python developers and are one of the main reasons Python continues to attract </span><span class="No-Break"><span class="koboSpan" id="kobo.678.1">new users.</span></span></p>
<h2 id="_idParaDest-65"><a id="_idTextAnchor064"/><span class="koboSpan" id="kobo.679.1">Adding third-party libraries in PyCharm</span></h2>
<p><span class="koboSpan" id="kobo.680.1">PyCharm includes a </span><a id="_idIndexMarker246"/><span class="koboSpan" id="kobo.681.1">UI screen that allows you to manage the packages in your current project. </span><span class="koboSpan" id="kobo.681.2">However, if an IDE were not in use, you could use a package manager to do it manually. </span><span class="koboSpan" id="kobo.681.3">For example, to install </span><strong class="source-inline"><span class="koboSpan" id="kobo.682.1">numpy</span></strong><span class="koboSpan" id="kobo.683.1"> into your project, you could use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.684.1">pip</span></strong><span class="koboSpan" id="kobo.685.1"> package manager with a command such </span><span class="No-Break"><span class="koboSpan" id="kobo.686.1">as this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.687.1">
pip install numpy</span></pre> <p><span class="koboSpan" id="kobo.688.1">You should make sure you have activated the virtual environment for the project in order for this to work correctly. </span><span class="koboSpan" id="kobo.688.2">Otherwise, </span><strong class="source-inline"><span class="koboSpan" id="kobo.689.1">numpy</span></strong><span class="koboSpan" id="kobo.690.1"> will be installed globally. </span><span class="koboSpan" id="kobo.690.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.691.1">pip</span></strong><span class="koboSpan" id="kobo.692.1"> installer isn’t the only installer available. </span><span class="koboSpan" id="kobo.692.2">There’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.693.1">easy_install</span></strong><span class="koboSpan" id="kobo.694.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.695.1">pipenv</span></strong><span class="koboSpan" id="kobo.696.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.697.1">poetry</span></strong><span class="koboSpan" id="kobo.698.1">, and of course, </span><strong class="source-inline"><span class="koboSpan" id="kobo.699.1">conda</span></strong><span class="koboSpan" id="kobo.700.1">. </span><span class="koboSpan" id="kobo.700.2">I’m not going to debate the relative merits of each since this is a matter of preference. </span><span class="koboSpan" id="kobo.700.3">PyCharm supports </span><span class="No-Break"><span class="koboSpan" id="kobo.701.1">them all.</span></span></p>
<p><span class="koboSpan" id="kobo.702.1">PyCharm’s package manager invokes the package manager set in your environment settings. </span><span class="koboSpan" id="kobo.702.2">It presents a graphical interface where you can search for packages, view their descriptions, and install, update, and uninstall any package in your project. </span><span class="koboSpan" id="kobo.702.3">Let’s take </span><span class="No-Break"><span class="koboSpan" id="kobo.703.1">a look.</span></span></p>
<p><span class="koboSpan" id="kobo.704.1">Going back to PyCharm, let’s return to our project settings. </span><span class="koboSpan" id="kobo.704.2">Click on </span><strong class="bold"><span class="koboSpan" id="kobo.705.1">Python Interpreter</span></strong><span class="koboSpan" id="kobo.706.1">, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.707.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.708.1">.15</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.709.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer093">
<span class="koboSpan" id="kobo.710.1"><img alt="Figure 3.15: The interpreter settings show not only your interpreter but also a list of packages available to that interpreter" src="image/B19644_03_15.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.711.1">Figure 3.15: The interpreter settings show not only your interpreter but also a list of packages available to that interpreter</span></p>
<p><span class="koboSpan" id="kobo.712.1">The screen shows the interpreter in use for the current project. </span><span class="koboSpan" id="kobo.712.2">We saw earlier that we can change this environment at any time. </span><span class="koboSpan" id="kobo.712.3">Now, we are going to focus on the empty package list that takes up </span><a id="_idIndexMarker247"/><span class="koboSpan" id="kobo.713.1">most of the screen. </span><span class="koboSpan" id="kobo.713.2">This is where you will be able to work with packages once we’ve </span><span class="No-Break"><span class="koboSpan" id="kobo.714.1">installed them.</span></span></p>
<p><span class="koboSpan" id="kobo.715.1">Let’s install the </span><strong class="source-inline"><span class="koboSpan" id="kobo.716.1">numpy</span></strong><span class="koboSpan" id="kobo.717.1"> package. </span><span class="koboSpan" id="kobo.717.2">Start by clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.718.1">+</span></strong><span class="koboSpan" id="kobo.719.1"> button, indicated by the arrow, at the top of the package list, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.720.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.721.1">.15</span></em><span class="koboSpan" id="kobo.722.1">. </span><span class="koboSpan" id="kobo.722.2">This brings up yet another dialog that allows you to search for packages. </span><span class="koboSpan" id="kobo.722.3">In the search textbox, shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.723.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.724.1">.16</span></em><span class="koboSpan" id="kobo.725.1">, type in </span><strong class="source-inline"><span class="koboSpan" id="kobo.726.1">numpy</span></strong><span class="koboSpan" id="kobo.727.1">. </span><span class="koboSpan" id="kobo.727.2">As you type, you will see a list of packages from PyPI that satisfy your search. </span><span class="koboSpan" id="kobo.727.3">Click on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.728.1">numpy</span></strong><span class="koboSpan" id="kobo.729.1"> entry and view the description. </span><span class="koboSpan" id="kobo.729.2">It is a good idea to scrutinize the description since if you misspell your search term, you might wind up with the wrong packages. </span><span class="koboSpan" id="kobo.729.3">This is definitely the </span><strong class="source-inline"><span class="koboSpan" id="kobo.730.1">numpy</span></strong><span class="koboSpan" id="kobo.731.1"> library, so I’ll install it by clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.732.1">Install Package</span></strong><span class="koboSpan" id="kobo.733.1"> button at the bottom of the dialog. </span><span class="koboSpan" id="kobo.733.2">After a short wait, I’ll see a message, shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.734.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.735.1">.16</span></em><span class="koboSpan" id="kobo.736.1"> (just above the grayed-out </span><strong class="bold"><span class="koboSpan" id="kobo.737.1">Install Package</span></strong><span class="koboSpan" id="kobo.738.1"> button), stating the package was</span><a id="_idIndexMarker248"/> <span class="No-Break"><span class="koboSpan" id="kobo.739.1">successfully installed:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer094">
<span class="koboSpan" id="kobo.740.1"><img alt="Figure 3.16: The display at the bottom indicates the package was installed successfully" src="image/B19644_03_16.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.741.1">Figure 3.16: The display at the bottom indicates the package was installed successfully</span></p>
<p><span class="koboSpan" id="kobo.742.1">Go ahead and close the dialog box to go back to the </span><span class="No-Break"><span class="koboSpan" id="kobo.743.1">project settings.</span></span></p>
<h2 id="_idParaDest-66"><a id="_idTextAnchor065"/><span class="koboSpan" id="kobo.744.1">Removing third-party libraries in PyCharm</span></h2>
<p><span class="koboSpan" id="kobo.745.1">Next to the </span><strong class="bold"><span class="koboSpan" id="kobo.746.1">+</span></strong><span class="koboSpan" id="kobo.747.1"> button </span><a id="_idIndexMarker249"/><span class="koboSpan" id="kobo.748.1">we just used to search for and install the </span><strong class="source-inline"><span class="koboSpan" id="kobo.749.1">numpy</span></strong><span class="koboSpan" id="kobo.750.1"> package, we see a few more buttons near the arrow in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.751.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.752.1">.17</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.753.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer095">
<span class="koboSpan" id="kobo.754.1"><img alt="Figure 3.17: Tools for managing your package installations" src="image/B19644_03_17.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.755.1">Figure 3.17: Tools for managing your package installations</span></p>
<p><span class="koboSpan" id="kobo.756.1">You can likely guess what they do. </span><span class="koboSpan" id="kobo.756.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.757.1">–</span></strong><span class="koboSpan" id="kobo.758.1"> button will remove a selected package. </span><span class="koboSpan" id="kobo.758.2">The up-arrow button will allow you to upgrade a package to a newer version. </span><span class="koboSpan" id="kobo.758.3">In </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.759.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.760.1">.17</span></em><span class="koboSpan" id="kobo.761.1">, we can see </span><strong class="source-inline"><span class="koboSpan" id="kobo.762.1">pip</span></strong><span class="koboSpan" id="kobo.763.1"> can be upgraded to version 23.0.1. </span><span class="koboSpan" id="kobo.763.2">Clicking the up arrow will accomplish this. </span><span class="koboSpan" id="kobo.763.3">The eye button will show you pre-release package versions should you want to try out the bleeding-edge versions of </span><span class="No-Break"><span class="koboSpan" id="kobo.764.1">the packages.</span></span></p>
<p><span class="koboSpan" id="kobo.765.1">Now that we understand what the UI for package management does, I’d like to digress for a moment and talk about something that it does not do well. </span><span class="koboSpan" id="kobo.765.2">The present release of PyCharm does not have a good way, in my opinion, to work with a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.766.1">requirements.txt</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.767.1"> file.</span></span></p>
<h2 id="_idParaDest-67"><a id="_idTextAnchor066"/><span class="koboSpan" id="kobo.768.1">Using a requirements.txt file</span></h2>
<p><span class="koboSpan" id="kobo.769.1">A best practice in</span><a id="_idIndexMarker250"/><span class="koboSpan" id="kobo.770.1"> using Python projects is to use a file named </span><strong class="source-inline"><span class="koboSpan" id="kobo.771.1">requirements.txt</span></strong><span class="koboSpan" id="kobo.772.1"> to list the third-party library dependencies for your project. </span><span class="koboSpan" id="kobo.772.2">If you’re starting your project from scratch, you can generate a </span><strong class="source-inline"><span class="koboSpan" id="kobo.773.1">requirements.txt</span></strong><span class="koboSpan" id="kobo.774.1"> file using </span><strong class="source-inline"><span class="koboSpan" id="kobo.775.1">pip</span></strong><span class="koboSpan" id="kobo.776.1"> in your terminal with </span><span class="No-Break"><span class="koboSpan" id="kobo.777.1">this command:</span></span></p>
<pre class="source-code">
<strong class="source-inline"><span class="koboSpan" id="kobo.778.1">pip freeze &gt; requirements.txt</span></strong></pre> <p><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.779.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.780.1">.18</span></em><span class="koboSpan" id="kobo.781.1"> shows an example of the contents of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.782.1">requirements.txt</span></strong><span class="koboSpan" id="kobo.783.1"> file we just generated. </span><span class="koboSpan" id="kobo.783.2">You might have to look hard to see it since it is only one line long. </span><span class="koboSpan" id="kobo.783.3">You can see the package name as well as the version requirements for </span><strong class="source-inline"><span class="koboSpan" id="kobo.784.1">numpy==1.24.2</span></strong><span class="koboSpan" id="kobo.785.1">. </span><span class="koboSpan" id="kobo.785.2">If you are using a different package </span><a id="_idIndexMarker251"/><span class="koboSpan" id="kobo.786.1">manager, review the specific process for generating your </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.787.1">requirements.txt</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.788.1"> file:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer096">
<span class="koboSpan" id="kobo.789.1"><img alt="Figure 3.18: The contents of a sample requirements.txt file showing the third-party dependencies for our project" src="image/B19644_03_18.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.790.1">Figure 3.18: The contents of a sample requirements.txt file showing the third-party dependencies for our project</span></p>
<p><span class="koboSpan" id="kobo.791.1">If you have cloned an existing project and it has a </span><strong class="source-inline"><span class="koboSpan" id="kobo.792.1">requirements.txt</span></strong><span class="koboSpan" id="kobo.793.1"> file, PyCharm will recognize it when you open the project and offer to install the contents to your virtual environment. </span><span class="koboSpan" id="kobo.793.2">PyCharm will also monitor your project as you work. </span><span class="koboSpan" id="kobo.793.3">If you add new dependencies, either through the GUI we’ve discussed or manually from the terminal, PyCharm will offer to add those dependencies to your </span><strong class="source-inline"><span class="koboSpan" id="kobo.794.1">requirements.txt</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.795.1">file automatically.</span></span></p>
<h2 id="_idParaDest-68"><a id="_idTextAnchor067"/><span class="koboSpan" id="kobo.796.1">The new Python Packages window</span></h2>
<p><span class="koboSpan" id="kobo.797.1">New to the latest releases of PyCharm which uses the new UI is a </span><strong class="bold"><span class="koboSpan" id="kobo.798.1">Python Packages</span></strong><span class="koboSpan" id="kobo.799.1"> window. </span><span class="koboSpan" id="kobo.799.2">It adds similar functionality</span><a id="_idIndexMarker252"/><span class="koboSpan" id="kobo.800.1"> to the interpreter settings window in a different location and layout. </span><span class="koboSpan" id="kobo.800.2">Clearly, they were reading over my shoulder when I wrote earlier about how the Python environment settings being inside the general settings window is unintuitive. </span><span class="koboSpan" id="kobo.800.3">I doubt I’ll get credit for pointing it out, though. </span><span class="koboSpan" id="kobo.800.4">You’ll find the new </span><strong class="bold"><span class="koboSpan" id="kobo.801.1">Python Packages</span></strong><span class="koboSpan" id="kobo.802.1"> window in the </span><strong class="bold"><span class="koboSpan" id="kobo.803.1">More Tool Windows</span></strong><span class="koboSpan" id="kobo.804.1"> ellipsis, indicated in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.805.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.806.1">.19</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.807.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer097">
<span class="koboSpan" id="kobo.808.1"><img alt="Figure 3.19: The More Tools menu contains the new Python Packages window" src="image/B19644_03_19.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.809.1">Figure 3.19: The More Tools menu contains the new Python Packages window</span></p>
<p><span class="koboSpan" id="kobo.810.1">When you click the </span><strong class="bold"><span class="koboSpan" id="kobo.811.1">Python Packages</span></strong><span class="koboSpan" id="kobo.812.1"> icon, a new </span><a id="_idIndexMarker253"/><span class="koboSpan" id="kobo.813.1">window will appear, as seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.814.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.815.1">.20</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.816.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer098">
<span class="koboSpan" id="kobo.817.1"><img alt="Figure 3.20: The new Python Packages window in PyCharm" src="image/B19644_03_20.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.818.1">Figure 3.20: The new Python Packages window in PyCharm</span></p>
<p><span class="koboSpan" id="kobo.819.1">As with the </span><strong class="bold"><span class="koboSpan" id="kobo.820.1">Environment Settings</span></strong><span class="koboSpan" id="kobo.821.1"> window, the </span><strong class="bold"><span class="koboSpan" id="kobo.822.1">Python Packages</span></strong><span class="koboSpan" id="kobo.823.1"> window shows a list of packages installed in the virtual environment, along with the accompanying version number. </span><span class="koboSpan" id="kobo.823.2">There is an </span><strong class="bold"><span class="koboSpan" id="kobo.824.1">Add Package</span></strong><span class="koboSpan" id="kobo.825.1"> button that allows you to add a package from PyPI or from a repository. </span><span class="koboSpan" id="kobo.825.2">You can search for packages using the search dialog, which shows a list of matching packages. </span><span class="koboSpan" id="kobo.825.3">Clicking one will show the documentation for that package. </span><span class="koboSpan" id="kobo.825.4">This is a step up from the </span><strong class="bold"><span class="koboSpan" id="kobo.826.1">Environment Settings</span></strong><span class="koboSpan" id="kobo.827.1"> window since this one displays the project’s</span><a id="_idIndexMarker254"/><span class="koboSpan" id="kobo.828.1"> markdown documentation. </span><span class="koboSpan" id="kobo.828.2">You can see an example in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.829.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.830.1">.21</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.831.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer099">
<span class="koboSpan" id="kobo.832.1"><img alt="Figure 3.21: Searching for the numpy package in the new Python Package window" src="image/B19644_03_21.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.833.1">Figure 3.21: Searching for the numpy package in the new Python Package window</span></p>
<p><span class="koboSpan" id="kobo.834.1">As you can see, I’ve searched for a package that was found on PyPI with 184 matches. </span><span class="koboSpan" id="kobo.834.2">I’ve selected the </span><strong class="source-inline"><span class="koboSpan" id="kobo.835.1">numpy</span></strong><span class="koboSpan" id="kobo.836.1"> package, and PyCharm displays the documentation for the project. </span><span class="koboSpan" id="kobo.836.2">There’s a nice big </span><strong class="bold"><span class="koboSpan" id="kobo.837.1">Install package</span></strong><span class="koboSpan" id="kobo.838.1"> button and a selector to pick the version I’d like </span><span class="No-Break"><span class="koboSpan" id="kobo.839.1">to install.</span></span></p>
<p><span class="koboSpan" id="kobo.840.1">I can delete an installed package by clicking an installed package in the list. </span><span class="koboSpan" id="kobo.840.2">The version number is displayed along with the packages’ documentation. </span><span class="koboSpan" id="kobo.840.3">Beneath the ellipsis next to the installed version number is a </span><strong class="bold"><span class="koboSpan" id="kobo.841.1">Delete Package</span></strong><span class="koboSpan" id="kobo.842.1"> button, as seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.843.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.844.1">.22</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.845.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer100">
<span class="koboSpan" id="kobo.846.1"><img alt="Figure 3.22: Deleting a package can be done using the menu option beneath the ellipsis next to the version number in the Python Package window" src="image/B19644_03_22.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.847.1">Figure 3.22: Deleting a package can be done using the menu option beneath the ellipsis next to the version number in the Python Package window</span></p>
<p><span class="koboSpan" id="kobo.848.1">This feature is so new as I write this that it almost didn’t make it into the chapter. </span><span class="koboSpan" id="kobo.848.2">I happened to notice it while at work the other day. </span><span class="koboSpan" id="kobo.848.3">It presents, in my opinion, a less confusing and more</span><a id="_idIndexMarker255"/><span class="koboSpan" id="kobo.849.1"> convenient way to work with </span><span class="No-Break"><span class="koboSpan" id="kobo.850.1">Python packages.</span></span></p>
<h1 id="_idParaDest-69"><a id="_idTextAnchor068"/><span class="koboSpan" id="kobo.851.1">Professional features important to virtual environments</span></h1>
<p><span class="koboSpan" id="kobo.852.1">One major feature of the </span><a id="_idIndexMarker256"/><span class="koboSpan" id="kobo.853.1">Professional edition of PyCharm is the ease of project creation compared to the more manual approach. </span><span class="koboSpan" id="kobo.853.2">Consider the Professional edition’s new project window, which has a set of project types, as seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.854.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.855.1">.23</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.856.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer101">
<span class="koboSpan" id="kobo.857.1"><img alt="Figure 3.23: The Professional edition lists many project templates in the New Project dialog" src="image/B19644_03_23.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.858.1">Figure 3.23: The Professional edition lists many project templates in the New Project dialog</span></p>
<p><span class="koboSpan" id="kobo.859.1">The Community edition of Python does not have any of these project options. </span><span class="koboSpan" id="kobo.859.2">You can only create pure Python projects, but to be fair, you can still create a Flask project or any of the other project </span><a id="_idIndexMarker257"/><span class="koboSpan" id="kobo.860.1">types listed using the Community edition. </span><span class="koboSpan" id="kobo.860.2">However, the IDE isn’t going to help you </span><span class="No-Break"><span class="koboSpan" id="kobo.861.1">do it.</span></span></p>
<p><span class="koboSpan" id="kobo.862.1">Let’s look at the steps to create a Flask project. </span><span class="koboSpan" id="kobo.862.2">Flask is a library that allows us to easily create a dynamic web application. </span><span class="koboSpan" id="kobo.862.3">We’ll cover it extensively in </span><a href="B19644_08.xhtml#_idTextAnchor203"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.863.1">Chapter 8</span></em></span></a><span class="koboSpan" id="kobo.864.1">, </span><em class="italic"><span class="koboSpan" id="kobo.865.1">Building a Dynamic Web Application in Flask</span></em><span class="koboSpan" id="kobo.866.1">. </span><span class="koboSpan" id="kobo.866.2">For now, we’re going to compare the level of work needed to do this without the Professional edition (that is, with no IDE </span><span class="No-Break"><span class="koboSpan" id="kobo.867.1">at all).</span></span></p>
<p><span class="koboSpan" id="kobo.868.1">These are the steps to manually set up </span><span class="No-Break"><span class="koboSpan" id="kobo.869.1">the project:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.870.1">Create a new folder for </span><span class="No-Break"><span class="koboSpan" id="kobo.871.1">your project.</span></span></li>
<li><span class="koboSpan" id="kobo.872.1">Create a new virtual environment for </span><span class="No-Break"><span class="koboSpan" id="kobo.873.1">your project.</span></span></li>
<li><span class="koboSpan" id="kobo.874.1">Activate the </span><span class="No-Break"><span class="koboSpan" id="kobo.875.1">virtual environment.</span></span></li>
<li><span class="koboSpan" id="kobo.876.1">Use your favorite package manager to install the Flask library along with </span><span class="No-Break"><span class="koboSpan" id="kobo.877.1">its dependencies.</span></span></li>
<li><span class="koboSpan" id="kobo.878.1">Create a Python file to hold your </span><span class="No-Break"><span class="koboSpan" id="kobo.879.1">starting code.</span></span></li>
<li><span class="koboSpan" id="kobo.880.1">Research the web and find an example of a simple “Hello world” sample and put that in your </span><span class="No-Break"><span class="koboSpan" id="kobo.881.1">Python file.</span></span></li>
<li><span class="koboSpan" id="kobo.882.1">Create a script that can set any necessary environment variables such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.883.1">PYTHONPATH</span></strong><span class="koboSpan" id="kobo.884.1">, then run </span><span class="No-Break"><span class="koboSpan" id="kobo.885.1">your program.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.886.1">I’ll bet many of you can do this in about 20-30 minutes, tops. </span><span class="koboSpan" id="kobo.886.2">Here’s my problem with that: when are you most fired up about your new project idea? </span><span class="koboSpan" id="kobo.886.3">It’s at the beginning of the project! </span><span class="koboSpan" id="kobo.886.4">You are ready to roll but then must stop and spend 30 minutes doing this tedious setup. </span><span class="koboSpan" id="kobo.886.5">It isn’t a lot of time, but it is an interruption. </span><span class="koboSpan" id="kobo.886.6">There is a chance of hitting some unexpected snags, which can zap your enthusiasm. </span><span class="koboSpan" id="kobo.886.7">In extreme cases, sometimes, unexpected snags delay you hours or days. </span><span class="koboSpan" id="kobo.886.8">PyCharm automates the entire process. </span><span class="koboSpan" id="kobo.886.9">You step through a couple </span><a id="_idIndexMarker258"/><span class="koboSpan" id="kobo.887.1">of dialog screens, usually accepting the defaults, and your project is ready in fewer than 30 seconds. </span><span class="koboSpan" id="kobo.887.2">You can immediately start banging out your idea in code by modifying the starting boilerplate generated by </span><span class="No-Break"><span class="koboSpan" id="kobo.888.1">the IDE.</span></span></p>
<p><span class="koboSpan" id="kobo.889.1">The Professional edition will help you generate more complicated projects with very little effort on your part. </span><span class="koboSpan" id="kobo.889.2">The IDE will create your folder structure, a basic set of files with edit prompts to get started, and a virtual environment. </span><span class="koboSpan" id="kobo.889.3">PyCharm will even install the requirements </span><span class="No-Break"><span class="koboSpan" id="kobo.890.1">for you.</span></span></p>
<h1 id="_idParaDest-70"><a id="_idTextAnchor069"/><span class="koboSpan" id="kobo.891.1">Importing projects into PyCharm</span></h1>
<p><span class="koboSpan" id="kobo.892.1">Perhaps it goes</span><a id="_idIndexMarker259"/><span class="koboSpan" id="kobo.893.1"> without saying, but I’m going to say it anyway. </span><span class="koboSpan" id="kobo.893.2">You can import existing projects created either manually or with another IDE into PyCharm. </span><span class="koboSpan" id="kobo.893.3">This seems obvious because, after all, it is just a matter of opening a folder on your computer. </span><span class="koboSpan" id="kobo.893.4">The import process really is as simple as opening a folder in PyCharm. </span><span class="koboSpan" id="kobo.893.5">However, there’s more to the story than that. </span><span class="koboSpan" id="kobo.893.6">PyCharm is your intelligent ally when it comes to working on getting a project running on your machine that was started, or entirely authored, on another without PyCharm involved. </span><span class="koboSpan" id="kobo.893.7">Let’s see this </span><span class="No-Break"><span class="koboSpan" id="kobo.894.1">in action.</span></span></p>
<p><span class="koboSpan" id="kobo.895.1">Within this book’s source code we cloned at the end of </span><a href="B19644_02.xhtml#_idTextAnchor028"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.896.1">Chapter 2</span></em></span></a><span class="koboSpan" id="kobo.897.1">, </span><em class="italic"><span class="koboSpan" id="kobo.898.1">Installation and Configuration</span></em><span class="koboSpan" id="kobo.899.1">, and within the </span><strong class="source-inline"><span class="koboSpan" id="kobo.900.1">chapter-03</span></strong><span class="koboSpan" id="kobo.901.1"> folder, there is a project that I created entirely from the command</span><a id="_idIndexMarker260"/><span class="koboSpan" id="kobo.902.1"> line. </span><span class="koboSpan" id="kobo.902.2">You can see the process I used in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.903.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.904.1">.24</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.905.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer102">
<span class="koboSpan" id="kobo.906.1"><img alt="Figure 3.24: The terminal window I used to create a Python project entirely outside of PyCharm" src="image/B19644_03_24.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.907.1">Figure 3.24: The terminal window I used to create a Python project entirely outside of PyCharm</span></p>
<p><span class="koboSpan" id="kobo.908.1">The process I followed is clearly shown, as </span><span class="No-Break"><span class="koboSpan" id="kobo.909.1">described here:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.910.1">Within a new project folder called </span><strong class="source-inline"><span class="koboSpan" id="kobo.911.1">manually-created</span></strong><span class="koboSpan" id="kobo.912.1">, I created a new virtual environment with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.913.1">python3 -m venv </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.914.1">venv</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.915.1"> command.</span></span></li>
<li><span class="koboSpan" id="kobo.916.1">I activated the virtual environment with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.917.1">source venv/bin/activate</span></strong><span class="koboSpan" id="kobo.918.1"> command. </span><span class="koboSpan" id="kobo.918.2">In this case, I am working in Linux. </span><span class="koboSpan" id="kobo.918.3">This same command will work on a Mac. </span><span class="koboSpan" id="kobo.918.4">If I were using Windows, it would </span><span class="No-Break"><span class="koboSpan" id="kobo.919.1">be </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.920.1">.\venv\Scripts\activate</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.921.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.922.1">Next, I installed a third-party module called </span><strong class="source-inline"><span class="koboSpan" id="kobo.923.1">tqdm</span></strong><span class="koboSpan" id="kobo.924.1">. </span><span class="koboSpan" id="kobo.924.2">You can find out more at </span><a href="https://pypi.org/project/tqdm/"><span class="koboSpan" id="kobo.925.1">https://pypi.org/project/tqdm/</span></a><span class="koboSpan" id="kobo.926.1">. </span><span class="koboSpan" id="kobo.926.2">The short version of this module is used to easily format the terminal output of a program to include a nice-looking progress bar. </span><span class="koboSpan" id="kobo.926.3">You can see the blocky progress bar a little further down in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.927.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.928.1">.24</span></em><span class="koboSpan" id="kobo.929.1"> after I run the program. </span><span class="koboSpan" id="kobo.929.2">I’m getting ahead </span><span class="No-Break"><span class="koboSpan" id="kobo.930.1">of myself.</span></span></li>
<li><span class="koboSpan" id="kobo.931.1">I used </span><strong class="source-inline"><span class="koboSpan" id="kobo.932.1">nano</span></strong><span class="koboSpan" id="kobo.933.1"> to add some code to a new file called </span><strong class="source-inline"><span class="koboSpan" id="kobo.934.1">main.py</span></strong><span class="koboSpan" id="kobo.935.1">. </span><span class="koboSpan" id="kobo.935.2">I’ll show you the contents in a moment, but all I did was copy and paste an example from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.936.1">tqdm</span></strong><span class="koboSpan" id="kobo.937.1"> documentation on the </span><a href="https://pypi.org"><span class="koboSpan" id="kobo.938.1">https://pypi.org</span></a><span class="koboSpan" id="kobo.939.1"> page I linked earlier. </span><span class="koboSpan" id="kobo.939.2">If you’re wondering what the </span><strong class="source-inline"><span class="koboSpan" id="kobo.940.1">-l</span></strong><span class="koboSpan" id="kobo.941.1"> switch does, it displays line numbers in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.942.1">nano</span></strong><span class="koboSpan" id="kobo.943.1"> editor, which makes </span><strong class="source-inline"><span class="koboSpan" id="kobo.944.1">nano</span></strong><span class="koboSpan" id="kobo.945.1"> a quick, easy-to-use </span><span class="No-Break"><span class="koboSpan" id="kobo.946.1">code editor.</span></span></li>
<li><span class="koboSpan" id="kobo.947.1">I ran the program</span><a id="_idIndexMarker261"/><span class="koboSpan" id="kobo.948.1"> using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.949.1">python </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.950.1">main.py</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.951.1"> command.</span></span></li>
<li><span class="koboSpan" id="kobo.952.1">Having verified that it all worked, I created a </span><strong class="source-inline"><span class="koboSpan" id="kobo.953.1">requirements.txt</span></strong><span class="koboSpan" id="kobo.954.1"> file to document my program’s dependence on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.955.1">tqdm</span></strong><span class="koboSpan" id="kobo.956.1"> module. </span><span class="koboSpan" id="kobo.956.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.957.1">pip freeze</span></strong><span class="koboSpan" id="kobo.958.1"> command will output a dependency graph to the screen. </span><span class="koboSpan" id="kobo.958.2">In order to turn that into a text file I can include in my Git repository, I piped the output with </span><strong class="source-inline"><span class="koboSpan" id="kobo.959.1">&gt; requirements.txt</span></strong><span class="koboSpan" id="kobo.960.1">, making the full command look </span><span class="No-Break"><span class="koboSpan" id="kobo.961.1">like this:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.962.1">
pip freeze &gt; requirements.txt.</span></pre></li> </ol>
<p><span class="koboSpan" id="kobo.963.1">This kind of command-line setup work is beneath us. </span><span class="koboSpan" id="kobo.963.2">In fact, I recommend you celebrate this by buying yourself a new pair of cargo pants and carrying yourself with a new air of swagger! </span><span class="koboSpan" id="kobo.963.3">If you identify as a non-cargo-pants-wearing sentient being, I hope you’ll use your imagination to translate my intent. </span><span class="koboSpan" id="kobo.963.4">On second thoughts, at the risk of generalizing, you probably should take neither wardrobe nor social behavior advice from me. </span><span class="koboSpan" id="kobo.963.5">Traditionally, </span><em class="italic"><span class="koboSpan" id="kobo.964.1">wardrobe advice</span></em><span class="koboSpan" id="kobo.965.1"> is not my </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.966.1">strong suit</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.967.1">.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.968.1">Warning</span></p>
<p class="callout"><span class="koboSpan" id="kobo.969.1">If this is the first of my books you are reading, one ground rule I keep is that all puns </span><span class="No-Break"><span class="koboSpan" id="kobo.970.1">are intended.</span></span></p>
<p><span class="koboSpan" id="kobo.971.1">Thankfully, working with projects created outside of PyCharm is a strong suit of PyCharm. </span><span class="koboSpan" id="kobo.971.2">Since the project has already been created outside of PyCharm, let’s see what PyCharm makes of it. </span><span class="koboSpan" id="kobo.971.3">Let’s open the </span><strong class="source-inline"><span class="koboSpan" id="kobo.972.1">chapter-03/manually-created</span></strong><span class="koboSpan" id="kobo.973.1"> folder in PyCharm. </span><span class="koboSpan" id="kobo.973.2">To make </span><a id="_idIndexMarker262"/><span class="koboSpan" id="kobo.974.1">things crystal clear, I’m showing you the project’s open dialog in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.975.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.976.1">.25</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.977.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer103">
<span class="koboSpan" id="kobo.978.1"><img alt="Figure 3.25: Opening the manually-created project that was created outside of PyCharm" src="image/B19644_03_25.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.979.1">Figure 3.25: Opening the manually-created project that was created outside of PyCharm</span></p>
<p><span class="koboSpan" id="kobo.980.1">For this project, I did something I would not usually do. </span><span class="koboSpan" id="kobo.980.2">The virtual environment (</span><strong class="source-inline"><span class="koboSpan" id="kobo.981.1">venv</span></strong><span class="koboSpan" id="kobo.982.1">) folder is included in the git repository. </span><span class="koboSpan" id="kobo.982.2">Normally, it shouldn’t be, but it needs to be there for you to see the next little bit </span><span class="No-Break"><span class="koboSpan" id="kobo.983.1">of magic.</span></span></p>
<p><span class="koboSpan" id="kobo.984.1">Open the project folder and watch what happens. </span><span class="koboSpan" id="kobo.984.2">If you’re looking for a big display of software-empowered awesomeness, it might seem a little underwhelming. </span><span class="koboSpan" id="kobo.984.3">It isn’t even worthy of a screenshot. </span><span class="koboSpan" id="kobo.984.4">The project opened, and it’s just sitting there. </span><span class="koboSpan" id="kobo.984.5">That’s the cool part. </span><span class="koboSpan" id="kobo.984.6">PyCharm can see your virtual environment folder, so it automatically sets up your project for you. </span><span class="koboSpan" id="kobo.984.7">You can verify all this in your project settings, as seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.985.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.986.1">.26</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.987.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer104">
<span class="koboSpan" id="kobo.988.1"><img alt="Figure 3.26: The imported project has the correct interpreter settings with no effort on our part" src="image/B19644_03_26.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.989.1">Figure 3.26: The imported project has the correct interpreter settings with no effort on our part</span></p>
<h2 id="_idParaDest-71"><a id="_idTextAnchor070"/><span class="koboSpan" id="kobo.990.1">Importing a project cloned from a repository</span></h2>
<p><span class="koboSpan" id="kobo.991.1">Our previous example showed importing a project I created manually on my computer. </span><span class="koboSpan" id="kobo.991.2">It is more likely you will import a project you’ve cloned from GitHub or some other repository. </span><span class="koboSpan" id="kobo.991.3">These projects when cloned will not have the virtual environment folder present. </span><span class="koboSpan" id="kobo.991.4">As such, you have to do a little more work to set up </span><span class="No-Break"><span class="koboSpan" id="kobo.992.1">the project.</span></span></p>
<p><span class="koboSpan" id="kobo.993.1">I’m going to reuse the same project, but I’m going to delete a few files so that PyCharm won’t remember anything about </span><span class="No-Break"><span class="koboSpan" id="kobo.994.1">the project.</span></span></p>
<p><span class="koboSpan" id="kobo.995.1">First, close the project in PyCharm, as seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.996.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.997.1">.27</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.998.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer105">
<span class="koboSpan" id="kobo.999.1"><img alt="Figure 3.27: Closing the project" src="image/B19644_03_27.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1000.1">Figure 3.27: Closing the project</span></p>
<p><span class="koboSpan" id="kobo.1001.1">Next, use your operating</span><a id="_idIndexMarker263"/><span class="koboSpan" id="kobo.1002.1"> system to delete the folders shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1003.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1004.1">.28</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1005.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer106">
<span class="koboSpan" id="kobo.1006.1"><img alt="Figure 3.28: Deleting the venv and .idea folders to simulate a project you might have cloned from a version control system (VCS)" src="image/B19644_03_28.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1007.1">Figure 3.28: Deleting the venv and .idea folders to simulate a project you might have cloned from a version control system (VCS)</span></p>
<p><span class="koboSpan" id="kobo.1008.1">We are getting rid of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1009.1">venv</span></strong><span class="koboSpan" id="kobo.1010.1"> folder and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1011.1">.idea</span></strong><span class="koboSpan" id="kobo.1012.1"> folder. </span><span class="koboSpan" id="kobo.1012.2">The latter will be hidden on macOS and Linux systems, so make sure you turn on the ability to view hidden folders. </span><span class="koboSpan" id="kobo.1012.3">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1013.1">.idea</span></strong><span class="koboSpan" id="kobo.1014.1"> folder is the PyCharm project folder, which was automatically created when you opened the project folder. </span><span class="koboSpan" id="kobo.1014.2">With those two folders gone, PyCharm is now virtually ignorant of having </span><a id="_idIndexMarker264"/><span class="koboSpan" id="kobo.1015.1">ever opened the project. </span><span class="koboSpan" id="kobo.1015.2">The folder will still show up in your </span><strong class="bold"><span class="koboSpan" id="kobo.1016.1">Recent</span></strong><span class="koboSpan" id="kobo.1017.1"> projects folder, but that is OK. </span><span class="koboSpan" id="kobo.1017.2">Open the folder again with PyCharm. </span><span class="koboSpan" id="kobo.1017.3">The result of opening the project in PyCharm is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1018.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1019.1">.29</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1020.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer107">
<span class="koboSpan" id="kobo.1021.1"><img alt="Figure 3.29: Importing a project created outside of PyCharm prompts to create a virtual environment" src="image/B19644_03_29.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1022.1">Figure 3.29: Importing a project created outside of PyCharm prompts to create a virtual environment</span></p>
<p><span class="koboSpan" id="kobo.1023.1">PyCharm sees the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1024.1">requirements.txt</span></strong><span class="koboSpan" id="kobo.1025.1"> file but it can’t find a suitable virtual environment because there isn’t a subfolder in the project containing a Python executable. </span><span class="koboSpan" id="kobo.1025.2">PyCharm will prompt you to create an environment for your project. </span><span class="koboSpan" id="kobo.1025.3">In my case, the default is to a local folder called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1026.1">venv</span></strong><span class="koboSpan" id="kobo.1027.1">. </span><span class="koboSpan" id="kobo.1027.2">It is going to use the Python 3.10 executable it found at </span><strong class="source-inline"><span class="koboSpan" id="kobo.1028.1">/usr/bin/python3.10</span></strong><span class="koboSpan" id="kobo.1029.1"> as the base for the virtual environment, and it sees the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1030.1">requirements.txt</span></strong><span class="koboSpan" id="kobo.1031.1"> file. </span><span class="koboSpan" id="kobo.1031.2">If I hit </span><strong class="bold"><span class="koboSpan" id="kobo.1032.1">OK</span></strong><span class="koboSpan" id="kobo.1033.1">, PyCharm will set up a virtual environment and then install my dependencies </span><span class="No-Break"><span class="koboSpan" id="kobo.1034.1">for me.</span></span></p>
<h2 id="_idParaDest-72"><a id="_idTextAnchor071"/><span class="koboSpan" id="kobo.1035.1">Dealing with invalid interpreters</span></h2>
<p><span class="koboSpan" id="kobo.1036.1">No IDE is perfect. </span><span class="koboSpan" id="kobo.1036.2">Sometimes, PyCharm can get confused about which virtual environment to use. </span><span class="koboSpan" id="kobo.1036.3">This really only happens when you set up a new project with code not created in PyCharm. </span><span class="koboSpan" id="kobo.1036.4">This is a </span><a id="_idIndexMarker265"/><span class="koboSpan" id="kobo.1037.1">corner case, but sooner or later, you’re going to see it, so I want to spend a minute talking about this scenario. </span><span class="koboSpan" id="kobo.1037.2">Maybe you’re preparing to write a book on PyCharm. </span><span class="koboSpan" id="kobo.1037.3">OK—that probably mostly happens to me. </span><span class="koboSpan" id="kobo.1037.4">Say you’re preparing a demo. </span><span class="koboSpan" id="kobo.1037.5">Maybe you are setting up a training session and you’ve fiddled around with things a little too much or a few too many times. </span><span class="koboSpan" id="kobo.1037.6">If you are like me, you like things to be perfect. </span><span class="koboSpan" id="kobo.1037.7">You’ve worked toward setting up a project, and you see listings for invalid environments such as the one in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1038.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1039.1">.30</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1040.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer108">
<span class="koboSpan" id="kobo.1041.1"><img alt="Figure 3.30: Invalid interpreter errors happen to the best of us" src="image/B19644_03_30.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1042.1">Figure 3.30: Invalid interpreter errors happen to the best of us</span></p>
<p><span class="koboSpan" id="kobo.1043.1">Gross! </span><span class="koboSpan" id="kobo.1043.2">There’s an ugly red message saying the base interpreter is invalid. </span><span class="koboSpan" id="kobo.1043.3">We need to fix this. </span><span class="koboSpan" id="kobo.1043.4">The good news is you know what to do! </span><span class="koboSpan" id="kobo.1043.5">First, let’s solve your immediate problem. </span><span class="koboSpan" id="kobo.1043.6">You need to set the base interpreter so that PyCharm can finish importing your project. </span><span class="koboSpan" id="kobo.1043.7">The first thing to try is the drop-down list for the base interpreter. </span><span class="koboSpan" id="kobo.1043.8">In all likelihood, your global Python installation will appear in the list. </span><span class="koboSpan" id="kobo.1043.9">If it does, pick it then click </span><strong class="bold"><span class="koboSpan" id="kobo.1044.1">OK</span></strong><span class="koboSpan" id="kobo.1045.1">, and PyCharm will do </span><span class="No-Break"><span class="koboSpan" id="kobo.1046.1">its thing.</span></span></p>
<p><span class="koboSpan" id="kobo.1047.1">If you can’t find one, you can still make a valid environment. </span><span class="koboSpan" id="kobo.1047.2">You just need to create a virtual environment the same way we did when we were creating our project from scratch. </span><span class="koboSpan" id="kobo.1047.3">You’d need to cancel out of the dialog you’re seeing in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1048.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1049.1">.32</span></em><span class="koboSpan" id="kobo.1050.1"> and use the project settings to add a </span><span class="No-Break"><span class="koboSpan" id="kobo.1051.1">new environment.</span></span></p>
<p><span class="koboSpan" id="kobo.1052.1">Click </span><strong class="bold"><span class="koboSpan" id="kobo.1053.1">File</span></strong><span class="koboSpan" id="kobo.1054.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1055.1">Settings</span></strong><span class="koboSpan" id="kobo.1056.1"> to get into the </span><strong class="bold"><span class="koboSpan" id="kobo.1057.1">Settings</span></strong><span class="koboSpan" id="kobo.1058.1"> dialog and find the project settings, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1059.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1060.1">.31</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1061.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer109">
<span class="koboSpan" id="kobo.1062.1"><img alt="Figure 3.31: The worst-case scenario﻿ (it doesn’t happen often, but it does happen﻿)" src="image/B19644_03_31.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1063.1">Figure 3.31: The worst-case scenario (it doesn’t happen often, but it does happen)</span></p>
<p><span class="koboSpan" id="kobo.1064.1">This is the worst-case </span><a id="_idIndexMarker266"/><span class="koboSpan" id="kobo.1065.1">scenario! </span><span class="koboSpan" id="kobo.1065.2">The list doesn’t show the base interpreter, and the only option is our invalid virtual environment. </span><span class="koboSpan" id="kobo.1065.3">Admittedly, you must work hard to get PyCharm to do this, but this usually happens exactly 5 minutes before you need PyCharm to work in front of a lot of people. </span><span class="koboSpan" id="kobo.1065.4">I’m here </span><span class="No-Break"><span class="koboSpan" id="kobo.1066.1">for you.</span></span></p>
<p><span class="koboSpan" id="kobo.1067.1">At the bottom of the drop-down list is the </span><strong class="bold"><span class="koboSpan" id="kobo.1068.1">Show All…</span></strong><span class="koboSpan" id="kobo.1069.1"> option. </span><span class="koboSpan" id="kobo.1069.2">This will allow us to fix everything! </span><span class="koboSpan" id="kobo.1069.3">Click it! </span><span class="koboSpan" id="kobo.1069.4">You’ll see a very useful dialog, shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1070.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1071.1">.32</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1072.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer110">
<span class="koboSpan" id="kobo.1073.1"><img alt="Figure 3.32: The Python interpreters dialog allows you to manage all your Python environments in one place" src="image/B19644_03_32.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1074.1">Figure 3.32: The Python interpreters dialog allows you to manage all your Python environments in one place</span></p>
<p><span class="koboSpan" id="kobo.1075.1">Note the arrow in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1076.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1077.1">.32</span></em><span class="koboSpan" id="kobo.1078.1">. </span><span class="koboSpan" id="kobo.1078.2">You can use the </span><strong class="bold"><span class="koboSpan" id="kobo.1079.1">+</span></strong><span class="koboSpan" id="kobo.1080.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.1081.1">–</span></strong><span class="koboSpan" id="kobo.1082.1"> icons to add and remove environments. </span><span class="koboSpan" id="kobo.1082.2">You can select your invalid environment and remove it with the </span><strong class="bold"><span class="koboSpan" id="kobo.1083.1">–</span></strong><span class="koboSpan" id="kobo.1084.1"> icon. </span><span class="koboSpan" id="kobo.1084.2">Next, you can add a </span><a id="_idIndexMarker267"/><span class="koboSpan" id="kobo.1085.1">new, valid environment with the </span><strong class="bold"><span class="koboSpan" id="kobo.1086.1">+</span></strong><span class="koboSpan" id="kobo.1087.1"> icon. </span><span class="koboSpan" id="kobo.1087.2">The workflow for adding a new interpreter is the same as it was when we created one from scratch with a new project. </span><span class="koboSpan" id="kobo.1087.3">We’ve covered the process already, so I won’t go through </span><span class="No-Break"><span class="koboSpan" id="kobo.1088.1">it again.</span></span></p>
<h1 id="_idParaDest-73"><a id="_idTextAnchor072"/><span class="koboSpan" id="kobo.1089.1">Working with run configurations</span></h1>
<p><span class="koboSpan" id="kobo.1090.1">Run configurations in</span><a id="_idIndexMarker268"/><span class="koboSpan" id="kobo.1091.1"> PyCharm allow you to set up different ways to run your programs from the IDE. </span><span class="koboSpan" id="kobo.1091.2">The heart of the run configurations is a cluster of blue buttons toward the top of the main window. </span><span class="koboSpan" id="kobo.1091.3">Follow the arrow in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1092.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1093.1">.33</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1094.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer111">
<span class="koboSpan" id="kobo.1095.1"><img alt="Figure 3.33: There are several run buttons at the top of the screen along with a drop-down list that allows you to work with various run configurations" src="image/B19644_03_33.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1096.1">Figure 3.33: There are several run buttons at the top of the screen along with a drop-down list that allows you to work with various run configurations</span></p>
<p><span class="koboSpan" id="kobo.1097.1">Since we have the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1098.1">manually-created</span></strong><span class="koboSpan" id="kobo.1099.1"> project already open from earlier, why don’t we continue exploring using that project? </span><span class="koboSpan" id="kobo.1099.2">That cluster of buttons I pointed to in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1100.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1101.1">.33</span></em><span class="koboSpan" id="kobo.1102.1"> consists of a </span><strong class="bold"><span class="koboSpan" id="kobo.1103.1">Run</span></strong><span class="koboSpan" id="kobo.1104.1"> button, a </span><strong class="bold"><span class="koboSpan" id="kobo.1105.1">Debug</span></strong><span class="koboSpan" id="kobo.1106.1"> button, and a dropdown that lets you set and manage your run configurations. </span><span class="koboSpan" id="kobo.1106.2">When we imported the project, it generated a run configuration called </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1107.1">Current File</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1108.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1109.1">With this set in the </span><a id="_idIndexMarker269"/><span class="koboSpan" id="kobo.1110.1">drop-down menu, the file in the </span><strong class="bold"><span class="koboSpan" id="kobo.1111.1">Focused</span></strong><span class="koboSpan" id="kobo.1112.1"> tab will be executed when you click either the run or </span><span class="No-Break"><span class="koboSpan" id="kobo.1113.1">debug button:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1114.1">This is the regular </span><strong class="bold"><span class="koboSpan" id="kobo.1115.1">Run</span></strong><span class="koboSpan" id="kobo.1116.1"> button. </span><span class="koboSpan" id="kobo.1116.2">It just runs whatever is indicated by the currently selected run configuration. </span><span class="koboSpan" id="kobo.1116.3">In this case, it would run the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1117.1">main.py</span></strong><span class="koboSpan" id="kobo.1118.1"> script because that is in the currently </span><span class="No-Break"><span class="koboSpan" id="kobo.1119.1">focused tab.</span></span></li>
<li><span class="koboSpan" id="kobo.1120.1">This is the </span><strong class="bold"><span class="koboSpan" id="kobo.1121.1">Run</span></strong><span class="koboSpan" id="kobo.1122.1"> (debug) button. </span><span class="koboSpan" id="kobo.1122.2">Clicking this will run your selected run configuration with an attached debugger. </span><span class="koboSpan" id="kobo.1122.3">We’ll see this in action in </span><a href="B19644_06.xhtml#_idTextAnchor145"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1123.1">Chapter 6</span></em></span></a><span class="koboSpan" id="kobo.1124.1">, </span><em class="italic"><span class="koboSpan" id="kobo.1125.1">Seamless Testing, Debugging, </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1126.1">and Profiling</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1127.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1128.1">The ellipsis button contains more options for running a profiler and checking your test coverage. </span><span class="koboSpan" id="kobo.1128.2">We’ll cover these in </span><span class="No-Break"><span class="koboSpan" id="kobo.1129.1">later chapters.</span></span></li>
<li><span class="koboSpan" id="kobo.1130.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.1131.1">Run configuration</span></strong><span class="koboSpan" id="kobo.1132.1"> dropdown lets you select a run configuration. </span><span class="koboSpan" id="kobo.1132.2">There is an option to create and edit existing configurations as well as create </span><span class="No-Break"><span class="koboSpan" id="kobo.1133.1">new ones.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1134.1">For now, let’s focus on the run configurations themselves since these have their own environment settings independent from the rest of </span><span class="No-Break"><span class="koboSpan" id="kobo.1135.1">the project.</span></span></p>
<p><span class="koboSpan" id="kobo.1136.1">Click the drop-down menu where it says </span><strong class="bold"><span class="koboSpan" id="kobo.1137.1">Current File</span></strong><span class="koboSpan" id="kobo.1138.1"> and click </span><strong class="bold"><span class="koboSpan" id="kobo.1139.1">Edit Configurations…</span></strong><span class="koboSpan" id="kobo.1140.1">, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1141.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1142.1">.34</span></em><span class="koboSpan" id="kobo.1143.1">. </span><span class="koboSpan" id="kobo.1143.2">This brings up a dialog for managing your run configurations. </span><span class="koboSpan" id="kobo.1143.3">You</span><a id="_idIndexMarker270"/><span class="koboSpan" id="kobo.1144.1"> can add, edit, and delete your configurations here. </span><span class="koboSpan" id="kobo.1144.2">Note the Professional edition will have more tooling available in this window than will the Community edition. </span><span class="koboSpan" id="kobo.1144.3">I will focus on the </span><span class="No-Break"><span class="koboSpan" id="kobo.1145.1">Professional edition:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer112">
<span class="koboSpan" id="kobo.1146.1"><img alt="Figure 3.34: Adding a new run configuration for our manually-created project" src="image/B19644_03_34.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1147.1">Figure 3.34: Adding a new run configuration for our manually-created project</span></p>
<p><span class="koboSpan" id="kobo.1148.1">There are plenty of prompts in</span><a id="_idIndexMarker271"/><span class="koboSpan" id="kobo.1149.1"> the dialog that allow you to create a new run configuration. </span><span class="koboSpan" id="kobo.1149.2">Let’s ignore those because once you add one, those options will go away. </span><span class="koboSpan" id="kobo.1149.3">Click the </span><strong class="bold"><span class="koboSpan" id="kobo.1150.1">+</span></strong><span class="koboSpan" id="kobo.1151.1"> icon at the top of the dialog, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1152.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1153.1">.35</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1154.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer113">
<span class="koboSpan" id="kobo.1155.1"><img alt="Figure 3.35: Clicking the + button to add a new run configuration﻿ (the list shown is for the Professional edition, and you’ll need to scroll down to find the Python item shown﻿)" src="image/B19644_03_35.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1156.1">Figure 3.35: Clicking the + button to add a new run configuration (the list shown is for the Professional edition, and you’ll need to scroll down to find the Python item shown)</span></p>
<p><span class="koboSpan" id="kobo.1157.1">If you are running the Professional edition, you’ll see a long list of options, as in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1158.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1159.1">.35</span></em><span class="koboSpan" id="kobo.1160.1">. </span><span class="koboSpan" id="kobo.1160.2">The Community edition list is considerably shorter since it only has tooling for pure </span><span class="No-Break"><span class="koboSpan" id="kobo.1161.1">Python projects.</span></span></p>
<p><span class="koboSpan" id="kobo.1162.1">I’m going to pick the Pure Python project type since that’s one we can all use. </span><span class="koboSpan" id="kobo.1162.2">Each option may present </span><a id="_idIndexMarker272"/><span class="koboSpan" id="kobo.1163.1">a different dialog box with different settings based on what is appropriate for your selection. </span><span class="koboSpan" id="kobo.1163.2">The Pure Python options look like what is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1164.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1165.1">.36</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1166.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer114">
<span class="koboSpan" id="kobo.1167.1"><img alt="Figure 3.36: The options for a run configuration using the Pure Python template" src="image/B19644_03_36.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1168.1">Figure 3.36: The options for a run configuration using the Pure Python template</span></p>
<p><span class="koboSpan" id="kobo.1169.1">There are a lot of settings here. </span><span class="koboSpan" id="kobo.1169.2">Let’s review the most important settings by the numbers provided in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1170.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1171.1">.36</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1172.1">:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1173.1">You should give the run configuration a name. </span><span class="koboSpan" id="kobo.1173.2">If you don’t, it will default to the name of the script. </span><span class="koboSpan" id="kobo.1173.3">You can use a human-friendly name here; it doesn’t have to relate to the running file in </span><span class="No-Break"><span class="koboSpan" id="kobo.1174.1">any way.</span></span></li>
<li><span class="koboSpan" id="kobo.1175.1">This setting is probably the most obvious. </span><span class="koboSpan" id="kobo.1175.2">It lets you select the script you’d like to run. </span><span class="koboSpan" id="kobo.1175.3">You can browse to it or type the path. </span><span class="koboSpan" id="kobo.1175.4">You can also change this from a script file to a module name by clicking the triangle next to the script path text entry box. </span><span class="koboSpan" id="kobo.1175.5">If you change the setting to run a module, the folder </span><strong class="bold"><span class="koboSpan" id="kobo.1176.1">Browse</span></strong><span class="koboSpan" id="kobo.1177.1"> button will change to an</span><a id="_idIndexMarker273"/><span class="koboSpan" id="kobo.1178.1"> ellipsis, and you’ll be able to browse the modules in your program to find the one you’d like </span><span class="No-Break"><span class="koboSpan" id="kobo.1179.1">to run.</span></span></li>
<li><span class="koboSpan" id="kobo.1180.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.1181.1">Parameters</span></strong><span class="koboSpan" id="kobo.1182.1"> setting allows you to pass in arguments. </span><span class="koboSpan" id="kobo.1182.2">If your program expects arguments using a library such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1183.1">argparse</span></strong><span class="koboSpan" id="kobo.1184.1">, you can pass them here. </span><span class="koboSpan" id="kobo.1184.2">This textbox is fairly interactive. </span><span class="koboSpan" id="kobo.1184.3">Note the </span><strong class="bold"><span class="koboSpan" id="kobo.1185.1">+</span></strong><span class="koboSpan" id="kobo.1186.1"> icon. </span><span class="koboSpan" id="kobo.1186.2">Clicking this allows you to invoke some macros available in the tool. </span><span class="koboSpan" id="kobo.1186.3">For example, if you need the path for the current directory, you’ll find an option for that in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1187.1">macro list.</span></span></li>
<li><span class="koboSpan" id="kobo.1188.1">These are the environment settings. </span><span class="koboSpan" id="kobo.1188.2">The default uses the project settings. </span><span class="koboSpan" id="kobo.1188.3">You can set a different virtual environment for your run configurations than for your project if you need to test-run your software in different environments. </span><span class="koboSpan" id="kobo.1188.4">You can also set environment variables here without jumping out to your operating system. </span><span class="koboSpan" id="kobo.1188.5">This is handy if you rely on environment variables for your program settings. </span><span class="koboSpan" id="kobo.1188.6">If you use OS-level environment variables for sensitive data such as passwords or connection strings, I recommend against setting them here. </span><span class="koboSpan" id="kobo.1188.7">These settings can wind up in the project configuration files, which means they could make it into your source repository. </span><span class="koboSpan" id="kobo.1188.8">There’s nothing worse than realizing your hackathon project files contain your personal password or access tokens for your favorite cloud provider. </span><strong class="source-inline"><span class="koboSpan" id="kobo.1189.1">SuperH4xr1337@some-evil-hacker-org.darkweb.net</span></strong><span class="koboSpan" id="kobo.1190.1"> (</span><em class="italic"><span class="koboSpan" id="kobo.1191.1">note</span></em><span class="koboSpan" id="kobo.1192.1">: hopefully not a real address) loves it when you do this. </span><span class="koboSpan" id="kobo.1192.2">There are bots that troll GitHub looking for this stuff, so be careful. </span><span class="koboSpan" id="kobo.1192.3">Personally, I use configuration files for this using one of the many </span><strong class="source-inline"><span class="koboSpan" id="kobo.1193.1">env</span></strong><span class="koboSpan" id="kobo.1194.1"> libraries. </span><span class="koboSpan" id="kobo.1194.2">I’ll put a link in the </span><em class="italic"><span class="koboSpan" id="kobo.1195.1">Further reading</span></em><span class="koboSpan" id="kobo.1196.1"> section if you’re interested </span><span class="No-Break"><span class="koboSpan" id="kobo.1197.1">in this.</span></span></li>
<li><span class="koboSpan" id="kobo.1198.1">You can set a working directory should any part of your script rely on relative </span><span class="No-Break"><span class="koboSpan" id="kobo.1199.1">file paths.</span></span></li>
<li><span class="koboSpan" id="kobo.1200.1">This checkbox controls whether the content roots from your project are injected into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1201.1">PYTHONPATH</span></strong><span class="koboSpan" id="kobo.1202.1"> environment variable when you run your program. </span><span class="koboSpan" id="kobo.1202.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1203.1">PYTHONPATH</span></strong><span class="koboSpan" id="kobo.1204.1"> environment variable controls where the Python interpreter searches for modules. </span><span class="koboSpan" id="kobo.1204.2">Content roots refer to project structure settings where you define content folders. </span><span class="koboSpan" id="kobo.1204.3">This is</span><a id="_idIndexMarker274"/><span class="koboSpan" id="kobo.1205.1"> generally only used with web projects. </span><span class="koboSpan" id="kobo.1205.2">A content folder might contain images or other static content. </span><span class="koboSpan" id="kobo.1205.3">The </span><strong class="bold"><span class="koboSpan" id="kobo.1206.1">Add source roots to PYTHONPATH</span></strong><span class="koboSpan" id="kobo.1207.1"> option allows you to inject project-configured source folders into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1208.1">PYTHONPATH</span></strong><span class="koboSpan" id="kobo.1209.1"> environment variable. </span><span class="koboSpan" id="kobo.1209.2">I’ve worked on microservice architecture projects where this was useful. </span><span class="koboSpan" id="kobo.1209.3">Sometimes, you might have a module in another project that you need to leverage, but it belongs in its own separate project rather than being directly managed in the current project. </span><span class="koboSpan" id="kobo.1209.4">You can set your source roots to include other projects with dependencies, and checking this box will make those available to your </span><span class="No-Break"><span class="koboSpan" id="kobo.1210.1">running program.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1211.1">As you can see, there are a lot of options and ways you can customize the way a program is run using PyCharm. </span><span class="koboSpan" id="kobo.1211.2">If your application has several executable scripts, you can set each one up with its own </span><span class="No-Break"><span class="koboSpan" id="kobo.1212.1">run configuration.</span></span></p>
<h1 id="_idParaDest-74"><a id="_idTextAnchor073"/><span class="koboSpan" id="kobo.1213.1">PyCharm’s project files</span></h1>
<p><span class="koboSpan" id="kobo.1214.1">Most IDEs have some sort of project file designed</span><a id="_idIndexMarker275"/><span class="koboSpan" id="kobo.1215.1"> to contain project-level settings. </span><span class="koboSpan" id="kobo.1215.2">If you’ve ever used any of Microsoft’s IDEs, you might remember folders such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1216.1">.vscode</span></strong><span class="koboSpan" id="kobo.1217.1"> for Visual Studio Code and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1218.1">.vs</span></strong><span class="koboSpan" id="kobo.1219.1"> in a Visual Studio project. </span><span class="koboSpan" id="kobo.1219.2">Java IDEs such as NetBeans and Eclipse also use a set of files to contain their project settings. </span><span class="koboSpan" id="kobo.1219.3">PyCharm too has a set of files stored in a folder within each project, called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1220.1">.idea</span></strong><span class="koboSpan" id="kobo.1221.1">. </span><span class="koboSpan" id="kobo.1221.2">This might seem like a strange name until you remember that JetBrains began with only one IDE project, IntelliJ IDEA. </span><span class="koboSpan" id="kobo.1221.3">IntelliJ IDEA garnered a reputation for being the best IDE for Java development, bar none. </span><span class="koboSpan" id="kobo.1221.4">It is so good that Google contracted with JetBrains to create Android Studio; a natural fit given Android applications are written entirely in Java. </span><span class="koboSpan" id="kobo.1221.5">All the IDEs from JetBrains have the same lineage. </span><span class="koboSpan" id="kobo.1221.6">They are all descendants of IntelliJ IDEA, and that’s why the project folder is called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1222.1">.idea</span></strong><span class="koboSpan" id="kobo.1223.1">. </span><span class="koboSpan" id="kobo.1223.2">Remember—Windows users will plainly see this folder, while on Linux and Mac, any folder name beginning with a dot (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1224.1">.</span></strong><span class="koboSpan" id="kobo.1225.1">) </span><span class="No-Break"><span class="koboSpan" id="kobo.1226.1">is hidden.</span></span></p>
<p><span class="koboSpan" id="kobo.1227.1">By default, there isn’t </span><a id="_idIndexMarker276"/><span class="koboSpan" id="kobo.1228.1">anything particularly interesting inside these folders should you ever be tempted to try to edit them. </span><span class="koboSpan" id="kobo.1228.2">In fact, if you were to delete them, PyCharm would simply recreate them when you reopen </span><span class="No-Break"><span class="koboSpan" id="kobo.1229.1">the project.</span></span></p>
<p><span class="koboSpan" id="kobo.1230.1">That said, there are options in PyCharm that let you store your run configurations within these files, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1231.1">Figure 3</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1232.1">.37</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1233.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer115">
<span class="koboSpan" id="kobo.1234.1"><img alt="Figure 3.37: You can opt to store run configurations as part of the project files in the .idea folder" src="image/B19644_03_37.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1235.1">Figure 3.37: You can opt to store run configurations as part of the project files in the .idea folder</span></p>
<p><span class="koboSpan" id="kobo.1236.1">If you opt to do this, you have the capability to check the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1237.1">.idea</span></strong><span class="koboSpan" id="kobo.1238.1"> files into your VCS repository and share them</span><a id="_idIndexMarker277"/><span class="koboSpan" id="kobo.1239.1"> with your team. </span><span class="koboSpan" id="kobo.1239.2">This means everybody will have the same configurations, so you might want to have a meeting and standardize your project structure so that you’re not stepping on </span><span class="No-Break"><span class="koboSpan" id="kobo.1240.1">each other.</span></span></p>
<h1 id="_idParaDest-75"><a id="_idTextAnchor074"/><span class="koboSpan" id="kobo.1241.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.1242.1">This chapter was all about setting up your virtual environment for a Python project. </span><span class="koboSpan" id="kobo.1242.2">Each project typically has its own virtual environment. </span><span class="koboSpan" id="kobo.1242.3">We use virtual environments to insulate our projects from the requirements of other projects and to keep our global Python installation from becoming polluted with lots of global packages that were used for only </span><span class="No-Break"><span class="koboSpan" id="kobo.1243.1">one project.</span></span></p>
<p><span class="koboSpan" id="kobo.1244.1">A virtual environment is a copy of a Python interpreter along with all supporting tools such as a package manager and third-party libraries needed for your project. </span><span class="koboSpan" id="kobo.1244.2">PyCharm has features built in for creating and managing </span><span class="No-Break"><span class="koboSpan" id="kobo.1245.1">virtual environments.</span></span></p>
<p><span class="koboSpan" id="kobo.1246.1">We first see these tools during the creation of a new project. </span><span class="koboSpan" id="kobo.1246.2">PyCharm prompts us to create a new virtual environment every time. </span><span class="koboSpan" id="kobo.1246.3">We can also select an existing environment if that is appropriate. </span><span class="koboSpan" id="kobo.1246.4">PyCharm gives us the ability to change the virtual environment for the project at </span><span class="No-Break"><span class="koboSpan" id="kobo.1247.1">any time.</span></span></p>
<p><span class="koboSpan" id="kobo.1248.1">Our virtual environments also house all the third-party libraries needed for our project. </span><span class="koboSpan" id="kobo.1248.2">You can find thousands of ready-made modules at </span><a href="https://pypi.org"><span class="koboSpan" id="kobo.1249.1">https://pypi.org</span></a><span class="koboSpan" id="kobo.1250.1">. </span><span class="koboSpan" id="kobo.1250.2">These modules can be installed and used in your projects by means of a package manager. </span><span class="koboSpan" id="kobo.1250.3">The most common package manager is </span><strong class="source-inline"><span class="koboSpan" id="kobo.1251.1">pip</span></strong><span class="koboSpan" id="kobo.1252.1">, but others exist, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1253.1">conda</span></strong><span class="koboSpan" id="kobo.1254.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1255.1">pipenv</span></strong><span class="koboSpan" id="kobo.1256.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1257.1">poetry</span></strong><span class="koboSpan" id="kobo.1258.1">. </span><span class="koboSpan" id="kobo.1258.2">PyCharm supports all of these tools, and you are afforded the opportunity to select your tool of choice when you create your </span><span class="No-Break"><span class="koboSpan" id="kobo.1259.1">virtual environment.</span></span></p>
<p><span class="koboSpan" id="kobo.1260.1">Having selected your package manager, PyCharm has a GUI that allows you to see, add, remove, and update your library dependencies from PyPI. </span><span class="koboSpan" id="kobo.1260.2">You’ll find this GUI within your project settings, which are bundled inside the general settings for </span><span class="No-Break"><span class="koboSpan" id="kobo.1261.1">PyCharm itself.</span></span></p>
<p><span class="koboSpan" id="kobo.1262.1">PyCharm can easily import projects created outside of PyCharm. </span><span class="koboSpan" id="kobo.1262.2">All you need to do is open the folder where the code resides. </span><span class="koboSpan" id="kobo.1262.3">PyCharm creates a set of project files within that folder called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1263.1">.idea</span></strong><span class="koboSpan" id="kobo.1264.1">, then prompts you to set an interpreter if it couldn’t find one within the project folder. </span><span class="koboSpan" id="kobo.1264.2">PyCharm will also look for a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1265.1">requirements.txt</span></strong><span class="koboSpan" id="kobo.1266.1"> file and offer to install your dependencies </span><span class="No-Break"><span class="koboSpan" id="kobo.1267.1">for you.</span></span></p>
<p><span class="koboSpan" id="kobo.1268.1">When you are ready to run some code within the IDE, PyCharm offers a powerful run system that uses run configurations created in the GUI. </span><span class="koboSpan" id="kobo.1268.2">PyCharm Professional ships with many project types, and each one has its own run configuration settings. </span><span class="koboSpan" id="kobo.1268.3">We covered the extensive settings found in a pure Python project since that is available to Community edition users. </span><span class="koboSpan" id="kobo.1268.4">The run configuration can manage—and in some cases mimic—a wide gamut of settings you would normally have to set manually at the operating </span><span class="No-Break"><span class="koboSpan" id="kobo.1269.1">system level.</span></span></p>
<p><span class="koboSpan" id="kobo.1270.1">All totaled, PyCharm gives you a very complete set of tools for managing virtual environments for development and running your code. </span><span class="koboSpan" id="kobo.1270.2">In the next chapter, we’ll switch our focus to the primary tools you’ll use every day to manage, write, and edit </span><span class="No-Break"><span class="koboSpan" id="kobo.1271.1">your code.</span></span></p>
<h1 id="_idParaDest-76"><a id="_idTextAnchor075"/><span class="koboSpan" id="kobo.1272.1">Questions</span></h1>
<ol>
<li><span class="koboSpan" id="kobo.1273.1">What are virtual environments and why are </span><span class="No-Break"><span class="koboSpan" id="kobo.1274.1">they important?</span></span></li>
<li><span class="koboSpan" id="kobo.1275.1">What are the tools used by the Python community to create </span><span class="No-Break"><span class="koboSpan" id="kobo.1276.1">virtual environments?</span></span></li>
<li><span class="koboSpan" id="kobo.1277.1">Which virtual environment tools are supported </span><span class="No-Break"><span class="koboSpan" id="kobo.1278.1">in PyCharm?</span></span></li>
<li><span class="koboSpan" id="kobo.1279.1">Can a run configuration use a different virtual environment from the main project? </span><span class="koboSpan" id="kobo.1279.2">How might this </span><span class="No-Break"><span class="koboSpan" id="kobo.1280.1">be useful?</span></span></li>
<li><span class="koboSpan" id="kobo.1281.1">Where does PyCharm keep its project </span><span class="No-Break"><span class="koboSpan" id="kobo.1282.1">configuration files?</span></span></li>
</ol>
<h1 id="_idParaDest-77"><a id="_idTextAnchor076"/><span class="koboSpan" id="kobo.1283.1">Further reading</span></h1>
<ul>
<li><em class="italic"><span class="koboSpan" id="kobo.1284.1">Alternative Python </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1285.1">Implementations</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1286.1">: </span></span><a href="https://www.python.org/download/alternatives/"><span class="No-Break"><span class="koboSpan" id="kobo.1287.1">https://www.python.org/download/alternatives/</span></span></a></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.1288.1">The env</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1289.1">library: </span></span><a href="https://pypi.org/project/env/"><span class="No-Break"><span class="koboSpan" id="kobo.1290.1">https://pypi.org/project/env/</span></span></a></li>
<li><em class="italic"><span class="koboSpan" id="kobo.1291.1">Ajitsaria</span></em><span class="koboSpan" id="kobo.1292.1">, </span><em class="italic"><span class="koboSpan" id="kobo.1293.1">A.</span></em> <em class="italic"><span class="koboSpan" id="kobo.1294.1">What is the Python Global Interpreter Lock (</span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1295.1">GIL)?</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1296.1">: </span></span><a href="https://realpython.com/python-gil/"><span class="No-Break"><span class="koboSpan" id="kobo.1297.1">https://realpython.com/python-gil/</span></span></a></li>
<li><span class="koboSpan" id="kobo.1298.1">Be sure to check out the companion website for the book </span><span class="No-Break"><span class="koboSpan" id="kobo.1299.1">at </span></span><a href="https://www.pycharm-book.com."><span class="No-Break"><span class="koboSpan" id="kobo.1300.1">https://www.pycharm-book.com.</span></span></a></li>
</ul>
</div>
</body></html>