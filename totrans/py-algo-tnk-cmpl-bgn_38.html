<html><head></head><body><div><div><h2>Chapter 26 <br/>Nested Loop Control Structures</h2>
<h3 id="toc_1">26.1 What is a Nested Loop?</h3>
<p class="my_basic">A nested loop is a loop within another loop or, in other words, an inner loop within an outer one.</p>
<p class="my_basic">The outer loop controls the number of complete iterations of the inner loop. This means that the first iteration of the outer loop triggers the inner loop to start iterating until completion. Then, the second iteration of the outer loop triggers the inner loop to start iterating until completion again. This process repeats until the outer loop has performed all of its iterations.</p>
<p class="my_basic">Take the following Python program, for example.</p>
<div><img alt="" class="my_exercise_header_image" src="img/my_exercise_header.png"/> file_26.1</div>
<div><p>for i in range(1, 3):</p>
<div><p>for j in range(1, 4):     <a href="more.html#more_26_1_1" id="Link_To_More_26_1_1">[More…]</a></p>
<div><blockquote><p>print(i, j)</p></blockquote></div>
</div>
</div>
<p class="my_basic">In this program, the outer loop, controlled by the variable i, determines the number of complete iterations that the inner loop performs. Specifically, when variable i is 1, the inner loop performs three iterations (for j = 1, j = 2, and j = 3). After completing the inner loop, the outer loop needs to perform one more iteration (for i = 2). Consequently, the inner loop restarts, performing three new iterations again (for j = 1, j = 2, and j = 3).</p>
<p class="my_basic">The previous example is similar to the following one.</p>
<div><p>i = 1                    #Outer loop assigns value 1 to variable i</p>
<p>for j in range(1, 4):    #and inner loop performs three iterations</p>
<p>print(i, j)</p>
<div></div>
<p>i = 2                    #Outer loop assigns value 2 to variable i</p>
<p>for j in range(1, 4):    #and inner loop starts over and performs three new iterations</p>
<p>print(i, j)</p>
</div>
<p class="my_basic">The output result is as follows.</p>
<p class="centered_image"><img alt="Image" class="width23" src="img/chapter26-01.png"/></p>
<div><p class="notice"><img alt="" class="notice_image" src="img/notice.jpg"/>As long as the syntax rules are not violated, you can nest as many loop control structures as you wish. For practical reasons however, as you move to four or five levels of nesting, the entire structure becomes very complex and difficult to understand. However, experience shows that the maximum number of levels of nesting that you will do in your entire life as a programmer is probably three or four.</p>
<p class="notice"><img alt="" class="notice_image" src="img/notice.jpg"/>The inner and outer loops do not need to be the same type. For example, a for statement may nest (enclose) a while statement, or vice versa.</p>
</div>
<h4 id="toc_2">Exercise 26.1-1 Say “Hello Zeus”. Counting the Total Number of Iterations.</h4>
<p class="my_exercise_wordings">Find the number of times message “Hello Zeus” is displayed.</p>
<div><img alt="" class="my_exercise_header_image" src="img/my_exercise_header.png"/> file_26.1-1</div>
<div><p>for i in range(3):</p>
<p>for j in range(4):</p>
<div><blockquote><p>print("Hello Zeus")</p></blockquote></div>
</div>
<p class="intense_quote">Solution</p>
<p class="my_basic">The values of variables i and j (in order of appearance) are as follows:</p>
<p>►For i = 0, the inner loop performs 4 iterations (for j = 0, j = 1, j = 2, and j = 3) and the message “Hello Zeus” is displayed 4 times.</p>
<p>►For i = 1, the inner loop performs 4 iterations (for j = 0, j = 1, j = 2, and j = 3) and the message “Hello Zeus” is displayed 4 times.</p>
<p>►For i = 2, the inner loop performs 4 iterations (for j = 0, j = 1, j = 2, and j = 3) and the message “Hello Zeus” is displayed 4 times.</p>
<p class="my_basic">Therefore, the message “Hello Zeus” is displayed a total of 3 × 4 = 12 times.</p>
<div><p class="notice"><img alt="" class="notice_image" src="img/remember.jpg"/>The outer loop controls the number of complete iterations of the inner one!</p>
</div>
<h4 id="toc_3">Exercise 26.1-2 Creating the Trace Table</h4>
<p class="my_exercise_wordings">For the next code fragment, determine the value that variable a contains at the end.</p>
<div><p>a = 1</p>
<p>i = 5</p>
<p>while i &lt; 7:</p>
<p>for j in range(1, 5, 2):</p>
<div><blockquote><p>a = a * j + i</p></blockquote></div>
<p>i += 1</p>
<p>print(a)</p>
</div>
<p class="intense_quote">Solution</p>
<p class="my_basic">The trace table is shown here.</p>
<div><table border="0" cellpadding="3" cellspacing="0" class="my_table">
<tbody><tr>
<th class="center">Step</th>
<th>Statement</th>
<th>Notes</th>
<th class="center">a</th>
<th class="center">i</th>
<th class="center">j</th>
</tr>
<tr>
<th class="center"> 1</th>
<td>a = 1</td>
<td class="center"> </td>
<td class="center">1</td>
<td class="center">?</td>
<td class="center">?</td>
</tr>
<tr>
<th class="center"> 2</th>
<td>i = 5</td>
<td class="center"> </td>
<td class="center">1</td>
<td class="center">5</td>
<td class="center">?</td>
</tr>
<tr>
<th class="center"> 3</th>
<td>while i &lt; 7</td>
<td colspan="4">This evaluates to True</td>
</tr>
<tr>
<th class="center"> 4</th>
<td>j = 1</td>
<td class="center"> </td>
<td class="center">1</td>
<td class="center">5</td>
<td class="center">1</td>
</tr>
<tr>
<th class="center"> 5</th>
<td>a = a * j + i</td>
<td class="center"> </td>
<td class="center">6</td>
<td class="center">5</td>
<td class="center">1</td>
</tr>
<tr>
<th class="center"> 6</th>
<td>j = 3</td>
<td class="center"> </td>
<td class="center">6</td>
<td class="center">5</td>
<td class="center">3</td>
</tr>
<tr>
<th class="center"> 7</th>
<td>a = a * j + i</td>
<td class="center"> </td>
<td class="center">23</td>
<td class="center">5</td>
<td class="center">3</td>
</tr>
<tr>
<th class="center"> 8</th>
<td>i += 1</td>
<td class="center"> </td>
<td class="center">23</td>
<td class="center">6</td>
<td class="center">3</td>
</tr>
<tr>
<th class="center"> 9</th>
<td>while i &lt; 7</td>
<td colspan="4">This evaluates to True</td>
</tr>
<tr>
<th class="center"> 10</th>
<td>j = 1</td>
<td class="center"> </td>
<td class="center">23</td>
<td class="center">6</td>
<td class="center">1</td>
</tr>
<tr>
<th class="center"> 11</th>
<td>a = a * j + i</td>
<td class="center"> </td>
<td class="center">29</td>
<td class="center">6</td>
<td class="center">1</td>
</tr>
<tr>
<th class="center"> 12</th>
<td>j = 3</td>
<td class="center"> </td>
<td class="center">29</td>
<td class="center">6</td>
<td class="center">3</td>
</tr>
<tr>
<th class="center"> 13</th>
<td>a = a * j + i</td>
<td class="center"> </td>
<td class="center">93</td>
<td class="center">6</td>
<td class="center">3</td>
</tr>
<tr>
<th class="center"> 14</th>
<td>i += 1</td>
<td class="center"> </td>
<td class="center">93</td>
<td class="center">7</td>
<td class="center">3</td>
</tr>
<tr>
<th class="center"> 15</th>
<td>while i &lt; 7</td>
<td colspan="4">This evaluates to False</td>
</tr>
<tr>
<th class="center"> 16</th>
<td>print(a)</td>
<td colspan="4">It displays: 93</td>
</tr>
</tbody></table>
</div>
<p class="my_basic">At the end of the program, variable a contains the value 93.</p>
<h3 id="toc_4">26.2 Rules that Apply to Nested Loops</h3>
<p class="my_basic">Beyond the four rules that apply to for-loops (presented in <a href="chapter25.html#toc_13">Section 25.2</a>), there are two extra rules that you should always follow when writing programs with nested loops, since they can save you from undesirable side effects.</p>
<p>►Rule 1: The inner loop must begin and end entirely within the outer loop, which means that the loops must not overlap.</p>
<p>►Rule 2: An outer loop and the inner (nested) loop must not use the same variable.</p>
<h4 id="toc_5">Exercise 26.2-1 Violating the First Rule</h4>
<p class="my_exercise_wordings">Design a flowchart fragment that violates the first rule of nested loops, which states, “The inner loop must begin and end entirely within the outer loop”.</p>
<p class="intense_quote">Solution</p>
<p class="my_basic">The following flowchart fragment violates the first rule of nested loops.</p>
<p class="my_basic centered_image">.<img alt="Image" class="width15" src="img/chapter26-02.png"/></p>
<p class="my_basic">If you try to follow the flow of execution, you will notice that it smoothly performs 5 × 10 = 50 iterations. No one can tell that this flowchart is wrong. In fact, it is technically correct. However, the issue lies in its readability. It's extremely difficult to discern what this flowchart is intended to accomplish. Moreover, this structure matches none of the already familiar loop control structures that you have been taught, so it cannot be directly converted into a Python program as is. Try to avoid this kind of nested loop!</p>
<h4 id="toc_6">Exercise 26.2-2 Violating the Second Rule</h4>
<p class="my_exercise_wordings">Find the number of times message “Hello” is displayed.</p>
<div><p>i = 1</p>
<p>while i &lt;= 3:</p>
<p>for i in range(4, -1, -1):</p>
<div><blockquote><p>print("Hello")</p></blockquote></div>
<p>i += 1</p>
</div>
<p class="intense_quote">Solution</p>
<p class="my_basic">At first glance, one would think that the word “Hello” is displayed 3 × 5 = 15 times. However, a closer second look reveals that things are not always as they seem. This program violates the second rule of nested loops, which states, “An outer loop and the inner (nested) loop must not use the same variable”. Let's design the corresponding flowchart.</p>
<p class="my_basic centered_image"><img alt="Image" class="width40" src="img/chapter26-03.png"/></p>
<p class="my_basic">If you try to follow the flow of execution in this flowchart fragment, you can see that when the inner loop completes all of its five iterations, variable i contains the value 0. Then, variable i increments by 1 and the outer loop repeats again. This process can continue forever since variable i can never exceed the value 3 that the Boolean expression of the outer loop requires. Therefore, the message “Hello” is displayed an infinite number of times.</p>
<h3 id="toc_7">26.3 Review Questions: True/False</h3>
<p class="my_basic">Choose true or false for each of the following statements.</p>
<p>1)A nested loop is an inner loop within an outer one.</p>
<p>2)It is possible to nest a mid-test loop structure within a pre-test loop structure.</p>
<p>3)The maximum number of levels of nesting in a loop control structure is four.</p>
<p>4)When two loop control structures are nested one within the other, the loop that starts last must complete first.</p>
<p>5)When two loop control structures are nested one within the other, they must not use the same counter variable.</p>
<p>6)In the following code fragment the word “Hello” is displayed six times.</p>
<div><p>for i in range(1, 4):</p>
<p>for j in range(1, 4):</p>
<div><blockquote><p>print("Hello")</p></blockquote></div>
</div>
<p>7)In the following code fragment the word “Hello” is displayed 12 times.</p>
<div><p>for i in range(2):</p>
<p>for j in range(1, 4):</p>
<div><blockquote><p>for k in range(1, 5, 2):</p></blockquote></div>
<div><blockquote><blockquote><p>print("Hello")</p></blockquote></blockquote></div>
</div>
<p>8)In the following code fragment the word “Hello” is displayed an infinite number of times.</p>
<div><p>i = 1</p>
<p>while i &lt;= 4:</p>
<p>for i in range(3, 0, -1):</p>
<div><blockquote><p>print("Hello")</p></blockquote></div>
<p>i += 1</p>
</div>
<p>9)In the following code fragment the word “Hello” is displayed nine times.</p>
<div><p>for i in range(3):</p>
<p>j = 1</p>
<p>while True:</p>
<div><blockquote><p>print("Hello")</p></blockquote></div>
<div><blockquote><p>j += 1</p></blockquote></div>
<div><blockquote><p>if j &gt;= 4: break</p></blockquote></div>
</div>
<p>10)In the following program there is at least one mid-test loop structure.</p>
<div><p>s = 0</p>
<p>while not False:</p>
<p>while not False:</p>
<div><blockquote><p>a = int(input())</p></blockquote></div>
<div><blockquote><p>if a &gt;= -1: break</p></blockquote></div>
<p>if a == -1: break</p>
<p>s += a</p>
<p>print(s)</p>
</div>
<h3 id="toc_8">26.4 Review Questions: Multiple Choice</h3>
<p class="my_basic">Select the correct answer for each of the following statements.</p>
<p>1)In the following code fragment</p>
<div><p>for i in range(1, 3):</p>
<p>for j in range(1, 3):</p>
<div><blockquote><p>print("Hello")</p></blockquote></div>
</div>
<p class="my_basic ptab1 KBHeading">the values of variables i and j (in order of appearance) are</p>
<p>a)j = 1, i = 1, j = 1, i = 2, j = 2, i = 1, j = 2, i = 2</p>
<p>b)i = 1, j = 1, i = 1, j = 2, i = 2, j = 1, i = 2, j = 2</p>
<p>c)i = 1, j = 1, i = 2, j = 2</p>
<p>d)j = 1, i = 1, j = 2, i = 2</p>
<p>2)In the following code fragment</p>
<div><p>x = 2</p>
<p>while x &gt; -2:</p>
<p>while True:</p>
<div><blockquote><p>x -= 1</p></blockquote></div>
<div><blockquote><p>print("Hello Hestia")</p></blockquote></div>
<div><blockquote><p>if x &gt;= -2: break</p></blockquote></div>
</div>
<p class="my_basic ptab1 KBHeading">the message “Hello Hestia” is displayed</p>
<p>a)4 times.</p>
<p>b)an infinite number of times.</p>
<p>c)0 times.</p>
<p>d)none of the above</p>
<p>3)In the following code fragment</p>
<div><p>x = 1</p>
<p>while x != 500:</p>
<p>for i in range(x, 4):</p>
<div><blockquote><p>print("Hello Artemis")</p></blockquote></div>
<p>x += 1</p>
</div>
<p class="my_basic ptab1 KBHeading">the message “Hello Artemis” is displayed</p>
<p>a)an infinite number of times.</p>
<p>b)1500 times.</p>
<p>c)6 times.</p>
<p>d)none of the above</p>
<p>4)The following code fragment</p>
<div><p>for i in range(1, 4):</p>
<p>for j in range(1, i + 1):</p>
<div><blockquote><p>print(i * j, ", ", sep = "", end = "")</p></blockquote></div>
<p>print("The End!")</p>
</div>
<p class="my_basic ptab1 KBHeading">displays</p>
<p>a)1, 2, 4, 3, 6, 9, The End!</p>
<p>b)1, 2, 3, 4, 6, 9, The End!</p>
<p>c)1, 2, The End!, 4, 3, The End!, 6, 9, The End!</p>
<p>d)none of the above</p>
<p>5)The following code fragment</p>
<div><p>i = 1</p>
<p>while i &lt;= 10:</p>
<p>for i in range(10, 0, -1):</p>
<div><blockquote><p>print("Hello Dionysus")</p></blockquote></div>
<p>i += 1</p>
</div>
<p class="my_basic ptab1 KBHeading">does not satisfy the property of</p>
<p>a)definiteness.</p>
<p>b)finiteness.</p>
<p>c)effectiveness.</p>
<h3 id="toc_9">26.5 Review Exercises</h3>
<p class="my_basic">Complete the following exercises.</p>
<p>1)Fill in the gaps in the following code fragments so that all code fragments display the message “Hello Hephaestus” exactly 100 times.</p>
<p>i)</p>
<div><p>for a in range(6, ……):</p>
<p>for b in range(25):</p>
<div><blockquote><p>print("Hello Hephaestus")</p></blockquote></div>
</div>
<p>ii)</p>
<div><p>for a in range(0, …… + 1, 5):</p>
<p>for b in range(10, 20):</p>
<div><blockquote><p>print("Hello Hephaestus")</p></blockquote></div>
</div>
<p>iii)</p>
<div><p>for a in range(……, -17, -2):</p>
<p>for b in range(150, 50, -5):</p>
<div><blockquote><p>print("Hello Hephaestus")</p></blockquote></div>
</div>
<p>iv)</p>
<div><p>for a in range(-11, -16, -1):</p>
<p>for b in range(100, …… + 1, 2):</p>
<div><blockquote><p>print("Hello Hephaestus")</p></blockquote></div>
</div>
<p>2)Design the corresponding flowchart and create a trace table to determine the values of the variables in each step of the next code fragment.</p>
<div><p>a = 1</p>
<p>j = 1</p>
<p>while j &lt;= 2:</p>
<p>i = 10</p>
<p>while i &lt; 30:</p>
<div><blockquote><p>a = a + j + i</p></blockquote></div>
<div><blockquote><p>i += 10</p></blockquote></div>
<p>j += 0.5</p>
<p>print(a)</p>
</div>
<p>3)Create a trace table to determine the values of the variables in each step of the next code fragment. How many times is the statement s = s + i * j executed?</p>
<div><p>s = 0</p>
<p>for i in range(1, 5):</p>
<p>for j in range(3, i - 1, -1):</p>
<div><blockquote><p>s = s + i * j</p></blockquote></div>
<p>print(s)</p>
</div>
<p>4)Create a trace table to determine the values of the variables in each step of the next Python program for three different executions. How many iterations does this Python program perform?</p>
<p class="my_basic ptab1 KBHeading">The input values for the three executions are: (i) NO, (ii) YES, NO; and (iii) YES, YES, NO.</p>
<div><p>s = 1</p>
<p>y = 25</p>
<p>while True:</p>
<p>for i in range(1, 4):</p>
<div><blockquote><p>s = s + y</p></blockquote></div>
<div><blockquote><p>y -= 5</p></blockquote></div>
<p>ans = input()</p>
<p>if ans != "YES": break</p>
<p>print(s)</p>
</div>
<p>5)Write a Python program that displays an hours and minutes table in the following form.</p>
<p class="my_basic ptab1 KBHeading">0     0</p>
<p class="my_basic ptab1 KBHeading">0     1</p>
<p class="my_basic ptab1 KBHeading">0     2</p>
<p class="my_basic ptab1 KBHeading">0     3</p>
<p class="my_basic ptab1 KBHeading">...</p>
<p class="my_basic ptab1 KBHeading">0     59</p>
<p class="my_basic ptab1 KBHeading">1     0</p>
<p class="my_basic ptab1 KBHeading">1     1</p>
<p class="my_basic ptab1 KBHeading">1     2</p>
<p class="my_basic ptab1 KBHeading">...</p>
<p class="my_basic ptab1 KBHeading">23   59</p>
<p class="my_basic ptab1 KBHeading">Please note that the output is aligned with tabs.</p>
<p>6)Using nested loop control structures, write a Python program that displays the following output.</p>
<p class="my_basic ptab1 KBHeading">5 5 5 5 5</p>
<p class="my_basic ptab1 KBHeading">4 4 4 4</p>
<p class="my_basic ptab1 KBHeading">3 3 3</p>
<p class="my_basic ptab1 KBHeading">2 2</p>
<p class="my_basic ptab1 KBHeading">1</p>
<p>7)Using nested loop control structures, write a Python program that displays the following output.</p>
<p class="my_basic ptab1 KBHeading">0</p>
<p class="my_basic ptab1 KBHeading">0 1</p>
<p class="my_basic ptab1 KBHeading">0 1 2</p>
<p class="my_basic ptab1 KBHeading">0 1 2 3</p>
<p class="my_basic ptab1 KBHeading">0 1 2 3 4</p>
<p class="my_basic ptab1 KBHeading">0 1 2 3 4 5</p>
<p>8)Using nested loop control structures, write a Python program that displays the following rectangle.</p>
<p class="my_basic ptab1 KBHeading">*  *  *  *  *  *  *  *  *  *</p>
<p class="my_basic ptab1 KBHeading">*  *  *  *  *  *  *  *  *  *</p>
<p class="my_basic ptab1 KBHeading">*  *  *  *  *  *  *  *  *  *</p>
<p class="my_basic ptab1 KBHeading">*  *  *  *  *  *  *  *  *  *</p>
<p class="my_basic ptab1 KBHeading">Then, try to do the same without using any loop control structure!</p>
<p>9)Write a Python program that prompts the user to enter an integer N between 3 and 20 and then displays a square of size N on each side. For example, if the user enters 4 for N, the program must display the following square.</p>
<p class="my_basic ptab1 KBHeading">*  *  *  *</p>
<p class="my_basic ptab1 KBHeading">*  *  *  *</p>
<p class="my_basic ptab1 KBHeading">*  *  *  *</p>
<p class="my_basic ptab1 KBHeading">*  *  *  *</p>
<p class="my_basic ptab1 KBHeading">Then, try to do the same without using any loop control structure!</p>
<p>10)Write a Python program that prompts the user to enter an integer N between 3 and 20 and then displays a hollow square of size N on each side. For example, if the user enters 4 for N, the program must display the following hollow square.</p>
<p class="my_basic ptab1 KBHeading">*  *  *  *</p>
<p class="my_basic ptab1 KBHeading">*        *</p>
<p class="my_basic ptab1 KBHeading">*        *</p>
<p class="my_basic ptab1 KBHeading">*  *  *  *</p>
<p class="my_basic ptab1 KBHeading">Then, try to do the same without using any loop control structure!</p>
<p>11)Using nested loop control structures, write a Python program that displays the following triangle.</p>
<p class="my_basic ptab1 KBHeading">*</p>
<p class="my_basic ptab1 KBHeading">*  *</p>
<p class="my_basic ptab1 KBHeading">*  *  *</p>
<p class="my_basic ptab1 KBHeading">*  *  *  *</p>
<p class="my_basic ptab1 KBHeading">*  *  *  *  *</p>
<p class="my_basic ptab1 KBHeading">*  *  *  *</p>
<p class="my_basic ptab1 KBHeading">*  *  *</p>
<p class="my_basic ptab1 KBHeading">*  *</p>
<p class="my_basic ptab1 KBHeading">*</p>
<p class="my_basic ptab1 KBHeading">Then, try to do the same using just one for-loop (no nested loop control structures allowed!)</p>
</div></div></body></html>