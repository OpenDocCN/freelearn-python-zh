<html><head></head><body>
  <div id="sbo-rt-content"><div class="chapter" title="Chapter 1. Start your Engines"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Start your Engines</h1></div></div></div><p>In this chapter, we will cover:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The Shortest Python Program</li><li class="listitem" style="list-style-type: disc">Ensure the Python Modules are present</li><li class="listitem" style="list-style-type: disc">A Basic Python GUI in Tkinter</li><li class="listitem" style="list-style-type: disc">Make a Compiled Executable under Linux</li><li class="listitem" style="list-style-type: disc">Make a Compiled Executable under MS Windows</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec01"/>Introduction</h1></div></div></div><p>This book is a collection of code recipes for creating and animating graphic objects using the marvelous Python language. In order to create and manipulate graphic objects, Python makes use of the Tkinter module. The prerequisite for using Python and Tkinter is obviously to have both installed. Both are free and Open Source and instructions for obtaining and installing them are abundantly available on the web. Just Google phrases like "install Python" and you will be spoilt for choice.</p><p>Our first task is to prove that Python and Tkinter are installed and working on our computer. In this book, we use Python version 2.6. Python 3.0 which came out in 2010 requires some changes in syntax that we won't be using in this book.</p><p>Let's look at some simple tests to check if Python is installed. If we download and install Python on Windows, it automatically includes Tkinter as one of the essential modules so we do not need to acquire and install it separately.</p></div></div></div>


  <div id="sbo-rt-content"><div class="section" title="Running a shortest Python program"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec02"/>Running a shortest Python program</h1></div></div></div><p>We need a one line Python program that will prove that the Python interpreter is installed and working on our computer platform.</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec01"/>How to do it...</h2></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Create a folder (directory) called something like<code class="literal"> construction_work</code> or<code class="literal"> constr</code> for short. You will place all your Python programs inside this directory. In a text editor such as<span class="strong"><strong> gedit</strong></span> on Linux or notepad on Windows. If we are working in Windows, there is a nice editor called "Context" that can be downloaded for free from<a class="ulink" href="http://www.contexteditor.org/"> http://www.contexteditor.org/</a> Context, that is sensitive to Python syntax and has a search-and-replace function that is useful.<a id="id0" class="indexterm"/></li><li class="listitem">Type the following line:<div class="informalexample"><pre class="programlisting">Print 'My wereld is "my world" in Dutch'
</pre></div></li><li class="listitem">Save this as a file named<code class="literal"> simple_1.py</code>, inside the directory called<code class="literal"> constr</code>.</li><li class="listitem">Open up an X terminal or a DOS window if you are using MS Windows.</li><li class="listitem">Change directory into<code class="literal"> constr</code> - where<code class="literal"> simple_1.py</code> is located.</li><li class="listitem">Type<code class="literal"> python simple_1.py</code> and your program will execute. The result should look like the following screenshot:<div class="mediaobject"><img src="images/3845_01_01.jpg" height="61" alt="How to do it..."/></div></li><li class="listitem">This proves that your Python interpreter works, your editor works, and that you understand all that is needed to run all the programs in this book. Congratulations.<div class="informalexample"><pre class="programlisting">"""
Program name: simplest_1.py
Objective: Print text to the screen.
Keywords: text, simplest
=========================
Printed "mywereld" on terminal.
Author: Mike Ohlson de Fine
"""
Print 'mywereld is "my world" in Dutch'
</pre></div></li></ol></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec02"/>How it works...</h3></div></div></div><p>Any instructions you type into a Linux X terminal or DOS terminal in MS Windows are treated as operating system commands. By starting these commands from within the same directory where your Python program is stored you do not have to tell the Python and operating system where to search for your code. You could store the code in another directory but you would then need to precede the program name with the path.<a id="id1" class="indexterm"/>
</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec03"/>There's more...</h3></div></div></div><p>Try the longer version of the same basic print instructions shown in the following program.</p><p>All the text between the """ (triple quotation marks) is purely for the sake of good documentation and record keeping. It is for the use of programmers, and that includes you. Alas, the human memory is imperfect. Bitter experience will persuade you that it is wise to provide fairly complete information as a header in your programs as well as comments inside the program.</p><p>However, in the interest of saving space and avoiding distractions, these header comments have been left out in the rest of this book.</p></div></div><div class="section" title="Ensuring that the Python modules are present"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl1sec03"/>Ensuring that the Python modules are present</h2></div></div></div><p>Here is a slightly longer version of the previous program. However, the following modules are commanded to "report for duty" inside our program even though they are not actually used at this time:<code class="literal"> Tkinter, math, random, time, tkFont</code>.</p><p>We need the assurance that all the Python modules we will be using later are present and accessible to Python, and therefore, to our code. Each module is a self-contained library of code functions and objects that are called frequently by the commands in your programs.<a id="id2" class="indexterm"/>
</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec04"/>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem">In a text editor type the lines given in the following code.</li><li class="listitem">Save this as a file named<code class="literal"> simple_2.py</code>, inside the directory called<code class="literal"> constr</code> as we did previously.</li><li class="listitem">As before, open up an X terminal or a DOS window, if you are using MS Windows.</li><li class="listitem">Change directory into<code class="literal"> constr</code> - where<code class="literal"> simple_1.py</code> is located.</li><li class="listitem">Type<code class="literal"> python simple_2.py</code> and our program should execute. The result should look like the following screenshot:<div class="mediaobject"><img src="images/3845_01_02.jpg" height="121" alt="How to do it..."/></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">This proves that your Python interpreter can access the necessary library functions it will need.<div class="informalexample"><pre class="programlisting">"""
Program name: simplest_2.py
Objective: Send more than one line of text to the screen.
Keywords: text, simple
======================================
Author: Mike Ohlson de Fine
"""
import Tkinter
import math
import random
import time
import tkFont
print "======================================="
print "A simple, apparently useless program like this does useful things:"
print "Most importantly it checks whether your Python interpreter and "
print "the accompanying operating system environment works"
print " - including hardware and software"
print "======================================"
print " No matter how simple it is always a thrill"
print " to get your first program to run"
</pre></div></li></ul></div></li></ol></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl2sec05"/>How it works...</h4></div></div></div><p>The<code class="literal"> print</code> command is an instruction to write or print any text between quotation marks like "show<span class="emphasis"><em> these words"</em></span> onto the monitor screen attached to your computer. It will also print the values of any named variables or expressions typed after print.<a id="id3" class="indexterm"/>
</p><p>For example: print "dog's<code class="literal"> name:</code>",<code class="literal"> dog_name</code>. Where<code class="literal"> dog_name</code> is the name of a variable used to store some data.</p><p>The<code class="literal"> print</code> command is very useful when you are debugging a complicated sequence of code because even if the execution fails to complete because of errors, any print commands encountered before the error is reached will be respected. So by thoughtful placing of various print statements in your code, you are able to zero in on what is causing your program to crash.<a id="id4" class="indexterm"/>
</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl2sec06"/>There's more...</h4></div></div></div><p>When you are writing a piece of Python code for the first time, you are often a bit unsure if your understanding of the logic is completely correct. So we would like to watch the progress of instruction execution in an exploratory way. It is a great help to be able to see that at least part of the code works. A major strength of Python is the way it takes our instructions one at a time and executes them progressively. It will only stop when the end is reached or a when programming flaw halts progress. If we have a twenty line program and only the first five lines are bug-free and the rest are unexecutable garbage, the Python interpreter will at least execute the first five. This is where the<code class="literal"> print</code> command is a really potent little tool.</p><p>This is how you use print and the Python interpreter. When we are having trouble with our code and it just won't work and we are battling to figure out why, we can just insert print statements at various chosen points in our program. This way you can get some intermediate values of variables as your own private status reports. When we want to switch off our print watchdogs we simply type a hash (#) symbol in front, thus transforming them into passive comments. Later on, if you change your mind and want the prints to be active again you just remove the leading hash symbols.</p></div></div><div class="section" title="A basic Tkinter program"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl1sec04"/>A basic Tkinter program</h3></div></div></div><p>Here we attempt to execute a Tkinter command inside the Python program. The Tkinter instruction will create a canvas and then draw a straight line on it.<a id="id5" class="indexterm"/>
</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl2sec07"/>How to do it...</h4></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem">In a text editor, type the code given below.</li><li class="listitem">Save this as a file named<code class="literal"> simple_line_1.py</code>, inside the directory called<code class="literal"> constr</code> again.</li><li class="listitem">As before open up an X terminal or DOS window if you are using MS Windows.</li><li class="listitem">Change directory into<code class="literal"> constr</code> - where<code class="literal"> simple_line_1.py</code> is located.</li><li class="listitem">Type<code class="literal"> python simple_line_1.py</code> and your program should execute. The command terminal result should look like the following screenshot:<div class="mediaobject"><img src="images/3845_01_03.jpg" height="74" alt="How to do it..."/></div></li><li class="listitem">The Tkinter canvas output should look like the following screenshot:<div class="mediaobject"><img src="images/3845_01_04.jpg" height="78" alt="How to do it..."/></div></li><li class="listitem">This proves that your Python interpreter works, your editor works, and the Tkinter module works. This is not a trivial achievement you are definitely ready for great things. Well done.<a id="id6" class="indexterm"/><div class="informalexample"><pre class="programlisting">#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
from Tkinter import *
root = Tk()
root.title('Very simple Tkinter line')
canvas_1 = Canvas(root, width=300, height=200, background="#ffffff")
canvas_1.grid(row=0, column=0)
canvas_1.create_line(10,20 , 50,70)
root.mainloop()
#&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</pre></div></li></ol></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h5 class="title"><a id="ch01lvl2sec08"/>How it works...</h5></div></div></div><p>To draw a line, we only need to give the start point and the end point.<a id="id7" class="indexterm"/>
</p><p>The start point is the first pair of numbers in<code class="literal"> canvas_1.create_line(10,20 , 50,70).In</code> another way, the start is given by the coordinates<code class="literal"> x_start=10</code> and<code class="literal"> y_start=20</code>. The end point of the line is specified by the second pair of numbers<code class="literal"> x_end=50</code> and<code class="literal"> y_end=70</code>. The units of measurement are pixels. A<span class="strong"><strong> pixel</strong></span> is the smallest dot that can be displayed on our screen.<a id="id8" class="indexterm"/>
</p><p>For all other properties like line thickness or color, default values of the<code class="literal"> create_line()</code> method are used.<a id="id9" class="indexterm"/>
</p><p>However, should you want to change color or thickness, you just do it by specifying the settings.</p></div></div><div class="section" title="Make a compiled executable under Windows and Linux"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl1sec05"/>Make a compiled executable under Windows and Linux</h4></div></div></div><p>How do we create and execute a.exe file that will run a compiled version of our Python and Tkinter programs? Can we make a self-contained folder that will run on an MS Windows or Linux distribution that uses a different version of Python from the ones we use? The answers to both questions are yes and the tool to achieve this is an Open Source program called<code class="literal"> cx_Freeze</code>. Often what we would like to do is have our working Python program on a memory stick or downloadable on a network and be able to demonstrate it to friends, colleagues, or clients without the need to download Python onto the client's system.<code class="literal"> cx_Freeze</code> allows us to create a distributable form of our Python graphic program.<a id="id10" class="indexterm"/>
</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h5 class="title"><a id="ch01lvl2sec09"/>Getting ready</h5></div></div></div><p>You will need to download<code class="literal"> cx_Freeze</code> from<a class="ulink" href="http://cx-freeze.sourceforge.net/"> http://cx-freeze.sourceforge.net/</a>. We need to pick a version that has the same version number as the Python version we are using. Currently, there are versions available from version 2.4 up to 3.1.<a id="id11" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">MS Windows: Download<code class="literal"> cx_Freeze-4.2.win32-py2.6.msi</code>, the windows installer for Python 2.6. If we have another Python version, then we must choose the appropriate installer from<a class="ulink" href="http://cx-freeze.sourceforge.net/"> http://cx-freeze.sourceforge.net/</a>.<a id="id12" class="indexterm"/></li><li class="listitem">Save and run this installer.</li><li class="listitem">On completion of a successful Windows install we will see a folder named<code class="literal"> cx_Freeze inside \Python26\Lib\site-packages\</code>.</li><li class="listitem">In a terminal run the command<code class="literal"> apt-get install cx-freeze</code>.<a id="id13" class="indexterm"/></li><li class="listitem">If this does not work we may need to first install a development-capable version of Python by running the command<code class="literal"> apt-get install python-dev</code>. Then go back and repeat step 1.</li><li class="listitem">Test for success by typing in<code class="literal"> python</code> in a command terminal to invoke the Python interpreter.</li><li class="listitem">Then after the<code class="literal">&gt;&gt;&gt;</code> prompt, type<code class="literal"> import cx_Freeze</code>. If the interpreter returns a new line and the<code class="literal">&gt;&gt;&gt;</code> prompt again, without any complaints, we have been successful.</li><li class="listitem">If the file we want to package as an executable is named<code class="literal"> walking_birdy_1.py</code> in a folder called<code class="literal"> /constr</code>, then we prepare a special setup file as follows.<a id="id14" class="indexterm"/><div class="informalexample"><pre class="programlisting">#setup.py
from cx_Freeze import setup, Executable
setup(executables=[Executable("/constr/walking_birdy_1.py")])
</pre></div></li><li class="listitem">Save it as<code class="literal"> setup.py</code>.</li><li class="listitem">Then, in a command terminal run<div class="informalexample"><pre class="programlisting">python /constr/setup.py build
</pre></div></li><li class="listitem">We will see a lot of system compilation commands scrolling down the command terminal that will eventually stop without error messages.</li><li class="listitem">We will find our complete self-contained executable inside a folder named<code class="literal"> build</code>. Under Linux, we will find it inside our home directory under<code class="literal"> /build/exe.linux-i686-2.6</code>. Under MS Windows, we will find it inside<code class="literal"> C:\Python26\build\exe.win-py2.6</code>.</li><li class="listitem">We just need to copy the folder<code class="literal"> build</code> with all its contents to wherever we want to run our self-contained program.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h5 class="title"><a id="ch01lvl2sec10"/>How it works...</h5></div></div></div><p>A word of caution. If we use external files like images inside our code, then the path addresses of the files must be absolute because they are coded into, or frozen, into the executable version of our Python program. There are ways of setting up search paths which can be read at<a class="ulink" href="http://cx-freeze.sourceforge.net/cx_Freeze.html"> http://cx-freeze.sourceforge.net/cx_Freeze.html</a>.<a id="id15" class="indexterm"/>
</p><p>For example, say we want to use some<code class="literal"> GIF</code> images in our program and then demonstrate them on other computers. First we place a folder called, for example,<code class="literal"> /birdy_pics</code>, onto a USB memory stick. In the original program,<code class="literal"> walking_birdy_1.py</code>, make sure the path addresses to the images point to the<code class="literal"> /birdy_pics</code> folder on the stick. After compilation, copy the folder<code class="literal"> build</code> onto the USB memory stick. Now when we double-click on the executable<code class="literal"> walking_birdy_1</code> it can locate the images on the USB memory stick when it needs to. These files include everything that is needed for your program, and you should distribute the whole directory contents to any user who wants to run your program without needing to install Python or Tkinter.<a id="id16" class="indexterm"/>
</p><p>There is another program called<code class="literal"> py2exe</code> that will also create executables to run on MS Windows. However, it cannot create self-contained binary executables to run under Linux whereas<code class="literal"> cx_Freeze</code>
<a id="id17" class="indexterm"/>
</p></div></div></div></div></div></div>
</body></html>