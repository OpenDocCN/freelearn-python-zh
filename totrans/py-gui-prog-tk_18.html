<html><head></head><body>
  <div id="_idContainer274">
    <h1 id="_idParaDest-467" class="chapterTitle">A</h1>
    <h1 id="_idParaDest-468" class="appendix-title">A Quick Primer on reStructuredText</h1>
    <p class="normal">When it comes to writing software documentation, software developers generally prefer to use a <strong class="keyword">lightweight markup language</strong> over binary formats such as DOCX or other word processor files. Such languages<a id="_idIndexMarker1635"/> aim to provide a standardized way of notating basic rich-text features like bullet lists, emphasized text, section headings, tables, and inline code within the limits of a plaintext file, while remaining human-readable. Documents written in lightweight markup languages can be read as-is, or compiled into other formats like PDF, DOCX, or HTML.</p>
    <p class="normal">This approach has several advantages<a id="_idIndexMarker1636"/> over the use of binary word processor files:</p>
    <ul>
      <li class="bullet">The documentation<a id="_idIndexMarker1637"/> can be treated like code: it can be edited with the code editor and easily managed with tools like a <strong class="keyword">Version Control System </strong>(<strong class="keyword">VCS</strong>).</li>
      <li class="bullet">The documentation has universal access: it can be read from any system with a text editor, or even from a terminal prompt.</li>
      <li class="bullet">The writing process is less distracting: as markup languages typically focus on semantic objects like headings, paragraphs, tables, and so forth rather than cosmetic concerns like colors, font faces, or text size, the developer is less distracted with appearance details and more focused on organization and correct information.</li>
    </ul>
    <p class="normal">In the 1990s and earlier, developers tended to use various ASCII-art contrivances to convey rich-text features visually, such as tables made of pipes and underscores, bullet lists made with asterisks, or headings denoted with a second line of dashes. In the early 2000s, several projects worked to formalize and define these structures and develop tools that would allow developers to compile their markup into binary rich-text formats for distribution or publication.</p>
    <div class="note">
      <p class="Information-Box--PACKT-">This book was actually written in a code editor using a markup language, and then subsequently converted by scripts to the format required by the publisher. </p>
    </div>
    <h1 id="_idParaDest-469" class="title">The reStructuredText markup language</h1>
    <p class="normal">Though several markup<a id="_idIndexMarker1638"/> language options exist, the Python community tends to prefer <strong class="keyword">reStructuredText </strong>(<strong class="keyword">RST</strong>). The reStructuredText markup language is part of the Python<a id="_idIndexMarker1639"/> Docutils project, located at <a href="http://docutils.sourceforge.net"><span class="url">http://docutils.sourceforge.net</span></a>. The Docutils project develops the RST standard and provides utilities for converting RST to formats like PDF, ODT, HTML, and LaTeX.</p>
    <h2 id="_idParaDest-470" class="title">Document structure</h2>
    <p class="normal">RST is geared toward<a id="_idIndexMarker1640"/> the creation of structured documents; as such, the first thing we should create is a title for our document. This is denoted using a line of symbols above and below a single line of text, like so:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">=========================</span>
The reStructuredText saga
<span class="hljs-comment">=========================</span>
</code></pre>
    <p class="normal">In this case, we've used the equals sign on either side of the title to denote it as our document title. We can also add a subtitle by adding another line underlined with a different symbol:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-comment">=========================</span>
The reStructuredText saga
<span class="hljs-comment">=========================</span>
An adventure in markup languages.
<span class="hljs-comment">---------------------------------</span>
</code></pre>
    <p class="normal">The exact symbols used here are not important; they can be any of the following:</p>
    <pre class="programlisting code"><code class="hljs-code">! " # $ % &amp; ' ( ) * + , - . / : ; &lt; = &gt; ? @ [ \ ] ^ _ ` { | } ~
</code></pre>
    <p class="normal">What establishes one as a title and the other as a subtitle is the order. Whichever symbol we choose<a id="_idIndexMarker1641"/> to use first in the document will become the top-level title. Whichever we use second will become a second-level title, and so on. By convention, the equals sign is typically used for level one, the hyphen for level two, the tilde for level three, and the plus symbol for level four. This is only convention, however; within a document, the hierarchy is determined by the order in which you use the symbols.</p>
    <p class="normal">We can write titles without the top line of symbols as well, like so:</p>
    <pre class="programlisting code"><code class="hljs-code">Chapter 1
<span class="hljs-comment">=========</span>
</code></pre>
    <p class="normal">While not required, this style is usually preferred for section titles over the document title. The document title is denoted by creating a top-level section header with no content inside, whereas regular section headers have content.</p>
    <p class="normal">For example, they can contain paragraphs of text. Paragraphs in RST are indicated by a blank line between blocks of text, like so:</p>
    <pre class="programlisting code"><code class="hljs-code">Long ago the world had many markup languages, but they were ugly, and hard to read in plain-text.
Then, one day, everything changed...
</code></pre>
    <p class="normal">Note that paragraphs should not be indented. Indenting a line of text would indicate some other structure, as we'll see below.</p>
    <h2 id="_idParaDest-471" class="title">Lists</h2>
    <p class="normal">RST is capable<a id="_idIndexMarker1642"/> of denoting both bullet and number lists, both of which can contain nested lists.</p>
    <p class="normal">Bullet lists are created by starting a line with any of <code class="Code-In-Text--PACKT-">*</code>, <code class="Code-In-Text--PACKT-">-</code>, or <code class="Code-In-Text--PACKT-">+</code> followed by a space, as shown here:</p>
    <pre class="programlisting code"><code class="hljs-code">Lightweight markup languages include:
- reStructuredText
- emacs org-mode
- markdown
</code></pre>
    <p class="normal">To create<a id="_idIndexMarker1643"/> a sub-list, simply indent two spaces, like so:</p>
    <pre class="programlisting code"><code class="hljs-code">Lightweight markup languages include:
- reStructuredText
  - released in 2002
  - widely used in Python
- emacs org-mode
  + released in 2003
  + included with the emacs editor
- markdown
  * released in 2004
  * Several variants exist,
    including Github-flavored,
<span class="hljs-code">    markdown extra, and multimarkdown.</span>
</code></pre>
    <p class="normal">Note that the actual symbol used for the list doesn't have any syntactic meaning, though it can be helpful for plaintext readers to distinguish sub-lists. Also notice that we've created a multi-line bullet point (the last point under <code class="Code-In-Text--PACKT-">markdown</code>) by indenting the subsequent lines to the same indent as the text in the first line of the bullet.</p>
    <p class="normal">Note the blank lines before the first point in the list, and around each sub-list. Lists should always have a blank line before the first item in the list and after the last. Lists can optionally contain blank lines between their bullet points, which is sometimes helpful for readability.</p>
    <p class="normal">Numbered lists are created like bullet lists, but using either digits or the <code class="Code-In-Text--PACKT-">#</code> symbol, followed by a dot, as a bullet; for example:</p>
    <pre class="programlisting code"><code class="hljs-code">Take these steps to use RST:
#. Learn RST
#. Write a document in RST
#. Install docutils:
  1. Open a terminal
  2. type pip install docutils
#. Convert your RST to another format using a command-line utility:
  * rst2pdf converts to PDF
  * rst2html converts to HTML
  * rst2odt converts to ODT
</code></pre>
    <p class="normal">While the <code class="Code-In-Text--PACKT-">#</code> symbol is<a id="_idIndexMarker1644"/> not very helpful to plaintext readers, conversion programs will automatically generate a numbered list in this case. Note that we can nest numbered lists or bullet lists within this numbered list.</p>
    <h2 id="_idParaDest-472" class="title">Character styles</h2>
    <p class="normal">With reStructuredText we can denote a variety of inline character styles, the most common of which<a id="_idIndexMarker1645"/> are emphasis, strong emphasis, and inline literals. </p>
    <p class="normal">This is done by surrounding the text with particular symbols, as shown in this table:</p>
    <table id="table001-13" class="No-Table-Style">
      <colgroup>
        <col/>
        <col/>
        <col/>
      </colgroup>
      <tbody>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="Table-Column-Heading--PACKT-">Syntax</p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Heading--PACKT-">Use for</p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Heading--PACKT-">Typical rendering</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-"><code class="Code-In-Text--PACKT-">*Single asterisks indicate emphasized text*</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">Mild emphasis</p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">Italic text</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-"><code class="Code-In-Text--PACKT-">**Double asterisks are for strongly emphasized text**</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">Strong emphasis</p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">Bold text</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-"><code class="Code-In-Text--PACKT-">``Double backticks are for inline literals``</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">Literal examples, such as code</p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">Monospace text, inline whitespace preserved</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="normal">Note that there should be no space between the symbol and the text being marked up.</p>
    <h2 id="_idParaDest-473" class="title">Blocks and quotes</h2>
    <p class="normal">When documenting code, it's quite common that we might need to include a block quote from some other source. Simple block quotes<a id="_idIndexMarker1646"/> can be done in RST by indenting a paragraph with four spaces, like so:</p>
    <pre class="programlisting code"><code class="hljs-code">In the immortal words of my late, great uncle Fred,
    Please pass the banana pudding!
Heaven rest his soul.
</code></pre>
    <p class="normal">In situations where<a id="_idIndexMarker1647"/> we need to preserve whitespace like indentation and line breaks, we can use a <strong class="keyword">line block</strong>, in which each line begins with a vertical bar and a space. For example:</p>
    <pre class="programlisting code"><code class="hljs-code">A banana haiku:
| In a skin of gold
|     To be peeled and discarded –
|     Pale treasure awaits.
</code></pre>
    <p class="normal">While your documentation<a id="_idIndexMarker1648"/> may contain a handful of poems or literary quotes, it's far more likely to need code blocks. A code block in RST is indicated by an indented block preceded by a paragraph containing only a double colon, like so:</p>
    <pre class="programlisting code"><code class="hljs-code">The Fibonacci series can be calculated in
a generator function like so:
::
    def fibonacci():
        a, b = 0, 1
        while True:
            b, a = a + b, b
            yield a
</code></pre>
    <p class="normal">Within a code block, whitespace will be preserved (ignoring the initial indent, of course), and no RST markup will be interpreted, just as you would expect for quoting actual code.</p>
    <h2 id="_idParaDest-474" class="title">Tables</h2>
    <p class="normal">Tables are commonly<a id="_idIndexMarker1649"/> needed in documentation, and RST provides<a id="_idIndexMarker1650"/> two ways of denoting them. The simpler but more limited approach looks like this:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-code">===== ============= ==========================</span>
Fruit Variety       Description
<span class="hljs-code">===== ============= ==========================</span>
Apple Gala          Sweet and flavorful
Apple Fuji          Crisp and tangy, yet sweet
Apple Red Delicious Large, bland, insipid
<span class="hljs-code">===== ============= ==========================</span>
</code></pre>
    <p class="normal">Using this syntax, we arrange the data in columns using spaces, and surround the table and header<a id="_idIndexMarker1651"/> row with <code class="Code-In-Text--PACKT-">=</code> symbols. An empty space through<a id="_idIndexMarker1652"/> the whole table denotes a column break. Note that the symbols must extend as wide as the width of the longest cell. This syntax is limited in that it cannot represent multi-line cells or cells that span multiple rows or columns.</p>
    <p class="normal">For that, we can use the more verbose table format:</p>
    <pre class="programlisting code"><code class="hljs-code">+---------+-----------+------------------------------+
| Fruit   | Variety   | Description                  |
+=========+===========+==============================+
| Orange  | All varieties are sweet with orange rind |
+         +-----------+------------------------------+
|         | Navel     | Seedless, thick skin         |
+         +-----------+------------------------------+
|         | Valencia  | Thin skin, very juicy        |
+         +-----------+------------------------------+
|         | Blood     | Smaller, red inside          |
+---------+-----------+------------------------------+
</code></pre>
    <p class="normal">In this format, the table cells are defined using hyphens and pipes, with plus symbols at the corners of each cell. A cell can be made to span multiple rows or columns by simply omitting the border characters between them. For example, in the above table, the cell containing <code class="Code-In-Text--PACKT-">Orange</code> extends to the bottom of the table, and the first row under the header spans the second and third columns. Note that table headers are denoted by using an equals symbol rather than a hyphen.</p>
    <div class="packt_tip">
      <p class="Tip--PACKT-">Tables can be tedious to create in a plaintext editor, but some programming tools have plugins to generate RST tables. If you plan to make a lot of tables in an RST document, you may want to see if your editor has a tool for this.</p>
    </div>
    <h1 id="_idParaDest-475" class="title">Converting RST to other formats</h1>
    <p class="normal">If nothing else, following<a id="_idIndexMarker1653"/> the reStructuredText syntax leads to a very readable and expressive plaintext file. However, the real power in using a standardized markup language is in converting it to other formats.</p>
    <p class="normal">The <code class="Code-In-Text--PACKT-">docutils</code> package, available in PyPI, comes with several command-line utilities for converting RST files. The more useful ones are listed here:</p>
    <table id="table002-11" class="No-Table-Style">
      <colgroup>
        <col/>
        <col/>
        <col/>
      </colgroup>
      <tbody>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="Table-Column-Heading--PACKT-">Command</p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Heading--PACKT-">Format</p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Heading--PACKT-">Format description</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-"><code class="Code-In-Text--PACKT-">rst2html</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">Hypertext Markup Language (HTML)</p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">Standard markup language for the web, useful for publishing to a website.</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-"><code class="Code-In-Text--PACKT-">rst2html5</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">Hypertext Markup Language version 5 (HTML 5)</p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">More modern version of HTML, preferred for web use.</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-"><code class="Code-In-Text--PACKT-">rst2pdf</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">Portable Document Format (PDF)</p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">Good for printable documents, or for distributing read-only documentation.</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-"><code class="Code-In-Text--PACKT-">rst2odt</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">Open Document Text (ODT)</p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">Word processing format, useful when you want to do further editing in a word processor.</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-"><code class="Code-In-Text--PACKT-">rst2latex</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">LaTeX markup language</p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">Very powerful markup language often used in scientific publications.</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-"><code class="Code-In-Text--PACKT-">rst2man</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-"><code class="Code-In-Text--PACKT-">MAN</code> page markup</p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">Markup used by UNIX man pages. Useful for documentation on Linux, BSD, or macOS.</p>
          </td>
        </tr>
        <tr class="No-Table-Style">
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-"><code class="Code-In-Text--PACKT-">rst2s5</code></p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">Simple standards-based slideshow system (S5)</p>
          </td>
          <td class="No-Table-Style">
            <p class="Table-Column-Content--PACKT-">HTML-based slideshow format. Good for presentations.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="normal">To use any of these commands, simply call it with the name of the RST file. </p>
    <p class="normal">Depending on the command, an output file can be specified by either an <code class="Code-In-Text--PACKT-">-o</code> switch or as a second positional argument, for example:</p>
    <pre class="programlisting con"><code class="hljs-con"><span class="hljs-con-comment"># uses the -o switch</span>
<span class="hljs-meta">$</span> rst2pdf README.rst -o README.pdf
<span class="hljs-con-comment"># uses the positional argument</span>
<span class="hljs-meta">$</span> rst2html5 README.rst README.html
</code></pre>
    <p class="normal">The scripts interpret the markup in the RST file and build a nicely formatted PDF or HTML file. You can try these commands on the <code class="Code-In-Text--PACKT-">README.rst</code> file included with the example code for this appendix, which is a README for the binary release of ABQ Data Entry. For example, if you render a default HTML file, it will look something like this in your browser:</p>
    <figure class="mediaobject"><img src="../Images/Figure_A.1.png" alt="Default HTML5 rendering of README.rst"/></figure>
    <p class="packt_figref">Figure A.1: Default HTML5 rendering of README.rst</p>
    <p class="normal">Each command<a id="_idIndexMarker1654"/> has a large number of options available, which you can view by calling the command with the <code class="Code-In-Text--PACKT-">--help</code> switch, like so:</p>
    <pre class="programlisting con"><code class="hljs-con"><span class="hljs-con-meta">$</span> rst2html5 --<span class="hljs-con-built_in">help</span>
</code></pre>
    <p class="normal">For example, the <code class="Code-In-Text--PACKT-">rst2html</code> command allows us to specify a CSS style sheet that will be embedded into the generated HTML file. We can use that to change the look of our generated document, like so:</p>
    <pre class="programlisting con"><code class="hljs-con"><span class="hljs-con-meta">$</span> rst2html5 --stylesheet abq_stylesheet.css  README.rst README.abq.html
</code></pre>
    <p class="normal">An <code class="Code-In-Text--PACKT-">abq_stylesheet.css</code> file is included with the example code for this book, though you can create your own<a id="_idIndexMarker1655"/> if you know CSS. If you used the bundled file, the resulting HTML looks like this in the browser:</p>
    <figure class="mediaobject"><img src="../Images/Figure_A.2.png" alt=""/></figure>
    <p class="packt_figref">Figure A.2: The README.rst file, but with a style sheet added</p>
    <h2 id="_idParaDest-476" class="title">Other ways to render RST</h2>
    <p class="normal">In addition to <code class="Code-In-Text--PACKT-">docutils</code>, there are other<a id="_idIndexMarker1656"/> tools that can make use of an RST file:</p>
    <ul>
      <li class="bullet">The <code class="Code-In-Text--PACKT-">pandoc</code> utility, available from <a href="https://pandoc.org"><span class="url">https://pandoc.org</span></a>, can convert RST files to a wider variety<a id="_idIndexMarker1657"/> of output formats with a number of additional rendering options.</li>
      <li class="bullet">Many popular code-sharing services like GitHub, GitLab, and Bitbucket will automatically render RST files to HTML for display in their web interfaces.</li>
      <li class="bullet">The Sphinx<a id="_idIndexMarker1658"/> project, available from <a href="https://sphinx-doc.org"><span class="url">https://sphinx-doc.org</span></a>, is a comprehensive documentation generator for Python<a id="_idIndexMarker1659"/> projects. It can generate complete documentation for your project by rendering RST it finds in docstrings, README files, and other documentation in your code. Sphinx is widely used by Python projects, including the official Python documentation at <a href="https://docs.python.org"><span class="url">https://docs.python.org</span></a>.</li>
    </ul>
    <p class="normal">Since RST is widely accepted as the standard for Python documentation, you can safely assume that any documentation-oriented tools for Python will expect to work with it.</p>
    <div class="note">
      <p class="Information-Box--PACKT-">This tutorial only scratched<a id="_idIndexMarker1660"/> the surface of reStructuredText syntax! For a quick syntax reference, see <a href="https://docutils.sourceforge.io/docs/user/rst/quickref.html"><span class="url">https://docutils.sourceforge.io/docs/user/rst/quickref.html</span></a>. For complete documentation, see <a href="https://docutils.sourceforge.io/rst.html"><span class="url">https://docutils.sourceforge.io/rst.html</span></a>. </p>
    </div>
  </div>
</body></html>