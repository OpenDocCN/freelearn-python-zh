<html><head></head><body><div class="chapter" title="Chapter&#xA0;5.&#xA0;Loops and Logic"><div class="titlepage"><div><div><h1 class="title"><a id="ch05"/>Chapter 5. Loops and Logic</h1></div></div></div><p>In the previous chapter, you learned how to use logic, such as <code class="literal">if</code>, <code class="literal">elif</code>, and <code class="literal">else</code>, to help design programs that could respond to user input in many ways. Also, you learned how to use the <code class="literal">while</code> and <code class="literal">for</code> loops. In this chapter, we will build our first mini game, called <span class="strong"><strong>Higher</strong></span> or <span class="strong"><strong>Lower</strong></span>. The game is a number guessing game, and we will use it to combine logic and loops to make a game that responds to many user requests.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip05"/>Tip</h3><p>Remember to save your work frequently so that you can make corrections to your code!</p></div></div><div class="section" title="Higher or Lower"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec35"/>Higher or Lower</h1></div></div></div><p>Higher or Lower<a id="id147" class="indexterm"/> is a numbers guessing game. In this game, the computer chooses a random number, and the user tries to guess what number the computer has chosen. There are many different ways to build this game, and many versions of this game have been built by different people.</p><p>Our version of the game will have two levels:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">An easy level</li><li class="listitem" style="list-style-type: disc">A hard level</li></ul></div><p>The computer will first choose a random, secret number between <code class="literal">1</code> and <code class="literal">100</code>. In the easy level, the user will get unlimited chances to guess the correct number. In the hard level, the user will only get three chances to guess the correct number, and then they will lose the game.</p><p>This game can be coded in different ways and still work well—this is one of the most awesome things about writing code. However, we will focus on writing code that uses a <code class="literal">while</code> loop for the easy version and a <code class="literal">for</code> loop for the hard version. This will let us practice our loops and build a game that has different levels of challenge.</p><p>To be successful in this chapter, follow each section step by step, and make sure that you understand what is happening before moving on to the next section. Test your code by running your program when you are instructed in the text so that you learn how things work. At the end<a id="id148" class="indexterm"/> of this chapter, you will have your first fully functioning game!</p><div class="section" title="Game file set up"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec29"/>Game file set up</h2></div></div></div><p>When <a id="id149" class="indexterm"/>you start to think about a small game such as Higher or Lower, you can write some of your code like an outline for a book, that is, you can use comments to place all of the logic in your code, even if you are not certain how exactly the code works. In our file, we need to set up code for the easy version and hard version, a function to start the game, and a function to end the game.</p><p>To start planning the game, you need to keep your coding tools ready:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Open up your Notepad++ (Windows) or jEdit (Mac/Linux) to write the code</li><li class="listitem" style="list-style-type: disc">Open up your command prompt (Windows) or terminal (Mac/Linux), and navigate to your project folder</li><li class="listitem" style="list-style-type: disc">Open up your Python shell so that you can test code while you are working</li></ul></div><p>In your text editor, make a new file, and save it with the name <code class="literal">higher_lower.py</code>.</p><p>Then, write comments for the easy version. Single line comments in the Python code start with a pound sign or hashtag:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong># this is a comment</strong></span>
</pre></div><p>Write the following comments in your file, leaving some spaces between each comment line, and then save your work:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong># imported libraries go here</strong></span>
<span class="strong"><strong>  </strong></span>
<span class="strong"><strong># global variables go here</strong></span>

<span class="strong"><strong># function for easy version</strong></span>

<span class="strong"><strong># function for hard version</strong></span>

<span class="strong"><strong># function to start game</strong></span>

<span class="strong"><strong># function to stop game</strong></span>

<span class="strong"><strong># function calls go here</strong></span>
</pre></div><p>Take a look at the following screenshot of what this will look like in your text editor:</p><div class="mediaobject"><img src="graphics/B04681_05_01.jpg" alt="Game file set up"/></div></div><div class="section" title="Importing libraries"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec30"/>Importing libraries</h2></div></div></div><p>For this <a id="id150" class="indexterm"/>Higher or Lower game, we will import the <code class="literal">random</code> library. This library has functions that we will use to choose a <code class="literal">random</code> number to start each game. Starting with a <code class="literal">random</code> number each time means that the game experience will be new for the player because they need to guess a different number each time they play. To import a Python library, we use the <code class="literal">import</code> statement and the name of the library. In your code file, replace <code class="literal"># imported libraries go here</code> and comment with the following:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>import random</strong></span>
</pre></div><p>Importing the <code class="literal">random</code> library allows us access to many functions that create <code class="literal">random</code> numbers and strings in different ways. There are even ways to create secure strings and numbers that would work well if you have to write a password-making program!</p></div><div class="section" title="Setting and initializing global variables"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec31"/>Setting and initializing global variables</h2></div></div></div><p>Now<a id="id151" class="indexterm"/> that we have imported the library that we need, we will set our global variables. As a reminder, a global variable is a variable that <a id="id152" class="indexterm"/>can be used anywhere throughout the code file. Global variables are helpful, as we saw with our calculator, because we can use them to define the status or state of a program and change the state of the program in different functions.</p><p>For example, in our calculator, we had a global variable called <code class="literal">calc_on</code>. In this Higher or Lower game, we will have a few global variables that we set. Replace <code class="literal"># global variables go here</code> and comment with these lines:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>game_on = None</strong></span>
<span class="strong"><strong>guesses = None</strong></span>

<span class="strong"><strong>secret = None</strong></span>
</pre></div><p>The <code class="literal">game_on</code> variable <a id="id153" class="indexterm"/>keeps running the program. The <code class="literal">guesses</code> variable states how many guesses users will get. The <code class="literal">secret</code> variable is the number that the computer chooses at <code class="literal">random</code>, and it changes every time the game restarts.</p><p>These global variables are different than the ones we used for the previous chapter, though. These global variables are set to equal <code class="literal">None</code>. Why? Well, setting the global variables equal to none simply allows them to be reset from <code class="literal">None</code> or zero each time that they are called in the program. You will take a look at the places where we call global variables into a function, and then reset the value.</p></div><div class="section" title="What is a Boolean?"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec32"/>What is a Boolean?</h2></div></div></div><p>We are <a id="id154" class="indexterm"/>going to be using the words <span class="strong"><strong>True</strong></span> and <span class="strong"><strong>False</strong></span> to help <a id="id155" class="indexterm"/>run our game programs in both the easy and difficult versions of the game. In computer programming, in most languages, these words have a special name: <span class="strong"><strong>Boolean</strong></span>. What is a Boolean?</p><p>A Boolean can only have two values: true or false. Booleans are helpful when there are only these two possibilities for a variable. For example, a game can be on or off. We have a global variable called <code class="literal">game_on</code>. If this variable is set to <code class="literal">True</code>, it means that our game is running. If it is set to <code class="literal">False</code>, it means that our game has stopped.</p><p>In <a class="link" href="ch04.html" title="Chapter 4. Making Decisions – Python Control Flows">Chapter 4</a>, <span class="emphasis"><em>Making Decisions – Python Control Flows</em></span>, you learned about how the comparison of two statements can print out the <code class="literal">True</code> or <code class="literal">False</code> statements. In this chapter, we are going to use the <code class="literal">True</code> and <code class="literal">False</code> conditions to control whether our program is running or not.</p></div><div class="section" title="Building the easy version"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec33"/>Building the easy version</h2></div></div></div><p>Now that <a id="id156" class="indexterm"/>we have set up our global<a id="id157" class="indexterm"/> variables and imported our library, we can work on the logic needed to make the easy version of our game. This block of code tells the computer what to do if the user decides to play the easy version of the game.</p><p>First, we need to name and define the function:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>  def difficulty_level_easy():</strong></span>
</pre></div><p>It is good to name your function so that you remember what it does. After naming the function, the first thing we need is the information from our global variables. We will set the global variables in this function for the secret variable. We bring in these variables as the first two lines in the function, and we have to type <code class="literal">global</code> in front of the names of the variable:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>  def difficulty_level_easy():</strong></span>
<span class="strong"><strong>    global secret</strong></span>
<span class="strong"><strong>    secret = int(random.randrange(0,100))</strong></span>
</pre></div><p>We have<a id="id158" class="indexterm"/> reset <a id="id159" class="indexterm"/>the <code class="literal">secret</code> global variable from <code class="literal">None</code> to an integer between <code class="literal">0</code> and <code class="literal">99</code> using <code class="literal">int (random.randrange(0,100)</code>). This means that when the game starts, a number between <code class="literal">0</code> and <code class="literal">99</code> will be selected as the secret number that the user must guess. Now, we need to create what people call the <span class="emphasis"><em>win condition</em></span>. In other words, we need to program what winning and losing means. Let's think this through.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note10"/>Note</h3><p>Can you talk through what it means to win the game and lose it? Can you draw a diagram? Try it yourself before copying the code!</p></div></div><p>Hopefully, you attempted to figure out how the game will work before you looked at this section of the book. Solving difficult problems is a key part of building games, and problem solving is a skill that is developed with practice. So, we will now write the code that decides whether the player wins or loses.</p><p>The win condition in the easy version of the game is that the user guesses the correct number in as many guesses as they need. To keep our game running, we are going to use a <code class="literal">while</code> loop, which we learned about in <a class="link" href="ch04.html" title="Chapter 4. Making Decisions – Python Control Flows">Chapter 4</a>, <span class="emphasis"><em>Making Decisions – Python Control Flows</em></span>. <code class="literal">while</code> loops are helpful when we are running a loop but we do not know how many times we need the loop to run. Our <code class="literal">while</code> loop will run as long as <code class="literal">game_on = True</code>. For the easy game, we are going to assume that <code class="literal">game_on</code> is <code class="literal">True</code>. We will write the function for <code class="literal">game_on</code> later:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>  def difficulty_level_easy():</strong></span>
<span class="strong"><strong>    secret = float(random.randrange(0,100))</strong></span>
<span class="strong"><strong>    while game_on:</strong></span>
</pre></div><p>We have written the code to set a number and run the game. Now, we need to put some commands into the <code class="literal">while</code> loop so that it knows what to do. The first thing that we want the user to do is make a guess at the number, so we need to use the <code class="literal">raw_input()</code> function to get information from the user. We will add this input line to our function:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>   def difficulty_level_easy():</strong></span>
<span class="strong"><strong>      secret = float(random.randrange(0,100))</strong></span>
<span class="strong"><strong>      while game_on:</strong></span>
<span class="strong"><strong>          guess = int(input('Guess a number. '))</strong></span>
</pre></div><p>Look at the last line of code that we added. The variable <code class="literal">guess</code> is set equal to the user's input. We are using <code class="literal">int()</code> to turn the user input from a string into a number because the game is generating random numbers, <span class="emphasis"><em>NOT</em></span> random strings. We want to compare numbers to numbers. In fact, we <span class="emphasis"><em>HAVE</em></span> to compare numbers to numbers. The program will not work if you do not add <code class="literal">int()</code> around the <code class="literal">raw_input()</code> function. Make sure you understand what the last line of code means before moving forward.</p><p>Also, you <a id="id160" class="indexterm"/>may notice<a id="id161" class="indexterm"/> that there is an extra space after the period in the raw input statement: <code class="literal">guess = int(input('Guess a number. '))</code>. Adding a space after the period and before the end of the string will tell the computer to print an extra space so that it will be easier for the user to read their code. See the following screenshots that show the difference the space makes.</p><p>Here is the code with no extra space:</p><div class="mediaobject"><img src="graphics/B04681_05_02.jpg" alt="Building the easy version"/></div><p>Notice that the output is easier to read when we add an extra space after the period:</p><div class="mediaobject"><img src="graphics/B04681_05_03.jpg" alt="Building the easy version"/></div><div class="section" title="Compare numbers"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec15"/>Compare numbers</h3></div></div></div><p>Our next <a id="id162" class="indexterm"/>lines of code involve decision making. We have to tell the computer what to do if the user gets the number too high or too low. We also have to tell the computer what to do when the user wins. To tell the computer what to do, we can perform three steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Compare the user guess to the secret computer number.</li><li class="listitem">Output instructions to the user based on whether they guessed too high, too low, or just right.</li><li class="listitem">To compare numbers, we will use the comparison operators that we learned about in <a class="link" href="ch04.html" title="Chapter 4. Making Decisions – Python Control Flows">Chapter 4</a>, <span class="emphasis"><em>Making Decisions – Python Control Flows</em></span>. We will need three operators: greater than (<code class="literal">&gt;</code>), less than (<code class="literal">&lt;</code>), and equal to (<code class="literal">==</code>).</li></ol></div><p>Because there <a id="id163" class="indexterm"/>are three possible choices, we need to use <code class="literal">if</code>, <code class="literal">elif</code>, and <code class="literal">else</code> to tell the computer what possible things can happen.</p><p>First, let's explain the logic using words. Then, we can convert this into code. It is good to learn to think through these problems before you start coding. This helps you know what outcome to expect:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">if</code> the user's number is less than the secret computer number, print <code class="literal">Your guess is too low</code></li><li class="listitem" style="list-style-type: disc">Or <code class="literal">else</code> (<code class="literal">elif</code>), if the user's number is higher than the secret computer number, print <code class="literal">Your guess is too high</code></li><li class="listitem" style="list-style-type: disc">Or <code class="literal">else</code>, if the user's number is the same as the secret computer number, then we print <code class="literal">You win!</code></li></ul></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note11"/>Note</h3><p>Can you draw, write, or imagine how this code will work before looking at the next section?</p></div></div><p>Now that you have thought about the logic of the next section, here is what the code looks like once it is added to the function:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong> def difficulty_level_easy():</strong></span>
<span class="strong"><strong>     global secret</strong></span>
<span class="strong"><strong>     global gameOn</strong></span>
<span class="strong"><strong>     while gameOn == 'true':</strong></span>
<span class="strong"><strong>          guess = float(input('Guess a number. '))</strong></span>
<span class="strong"><strong>           if guess &gt; secret:</strong></span>
<span class="strong"><strong>                print('your guess is too high. Try again.')</strong></span>
<span class="strong"><strong>           elif guess &lt; secret:</strong></span>
<span class="strong"><strong>                print('your guess is too low. Try again.')</strong></span>
<span class="strong"><strong>           elif guess == secret:</strong></span>
<span class="strong"><strong>                print('You win!')</strong></span>
<span class="strong"><strong>                play_again()</strong></span>
</pre></div><p>We have seven new lines of code that we are adding for each possibility that the user can enter:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>If the user guess is too high</em></span>, the user must enter another number, and the while <code class="literal">loop</code> returns to run the code again</li><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>If the user guess is too low</em></span>, then the user must enter another number, and the <code class="literal">while</code> loop returns to run the code again<div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note12"/>Note</h3><p>Since this is the easy version, the <code class="literal">while</code> loop will run until the user finally guesses the correct number no matter how many incorrect guesses the user makes.</p></div></div></li><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>When the user guess is the same as the computer number</em></span>, then the program prints <code class="literal">You win!</code> and calls a function called <code class="literal">play_again()</code></li></ul></div></div><div class="section" title="play_again()"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec16"/>play_again()</h3></div></div></div><p>There is<a id="id164" class="indexterm"/> a function called <code class="literal">play_again()</code> that we added to the end of the <code class="literal">difficulty_level_easy()</code> function. We are calling one function inside of another, which we have done earlier. However, we have to make this <code class="literal">play_again()</code> function because it doesn't exist yet.</p><p>The <code class="literal">play_again()</code> function will ask the users whether they want to play the game again and then make a decision about running the program. When the <code class="literal">while</code> loop finally runs the <code class="literal">play_again()</code> function, it ends the loop of code in the <code class="literal">difficulty_level_easy()</code> function and goes on to run its own code. In the next section of the chapter, we will create the functions needed to start, stop, and play again:</p><div class="mediaobject"><img src="graphics/B04681_05_04.jpg" alt="play_again()"/></div></div></div><div class="section" title="Start, stop, play again"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec34"/>Start, stop, play again</h2></div></div></div><p>So, if you <a id="id165" class="indexterm"/>are here, it is because you built the easy version of the game, and you want to test it out, play it, and see whether it actually works. If you try running the code right now, one of two things will happen: if it is perfect, then nothing will happen. If you have a problem in your code, you will get an error message. Either way, you cannot run the program with the code as it is right now because your program has no way to start itself!</p><p>Let's build some <a id="id166" class="indexterm"/>helper functions that will start our code and allow us to play the game again. We will write two helper functions: <code class="literal">start_game()</code> and <code class="literal">play_again()</code>. We can end the loop and change the <code class="literal">game_on</code> Boolean to <code class="literal">False</code> at the end of the <code class="literal">start_game()</code> and <code class="literal">play_again()</code> functions.</p><div class="section" title="start_game()"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec17"/>start_game()</h3></div></div></div><p>In <a id="id167" class="indexterm"/>your <code class="literal">higher_lower.py</code> file, where you wrote the <code class="literal"># function to start game</code> comment, write this instead:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>  def start_game():</strong></span>
</pre></div><p>We have defined the function that will start our game. The next step is to invoke (use) our <code class="literal">game_on</code> global variable, and then set the variable to <code class="literal">True</code>. This tells the function that the game is in the <code class="literal">on</code> state:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>  def start_game():</strong></span>
<span class="strong"><strong>      global  game_on</strong></span>
<span class="strong"><strong>      game_on = True</strong></span>
</pre></div><p>Once we tell the computer to start, we need the user to tell the computer what they want to do. Using the <code class="literal">raw_input()</code> function, we are ready to get information from our player. We will make a variable called <code class="literal">level</code>. That variable will take input from the user. We will give the user three choices: easy, hard, or quit. Add the following lines of code in your file, and make sure to save your work:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>    def start_game():</strong></span>
<span class="strong"><strong>    </strong></span>
<span class="strong"><strong>       global game_on</strong></span>
<span class="strong"><strong>      game_on = True    level = input('Welcome. Type easy, hard, or quit .')</strong></span>
</pre></div><p>Now that we have information from the user stored in the <code class="literal">level</code> variable, we can use it to inform the comparison operators, and we can use the <code class="literal">if</code>/<code class="literal">elif</code> logic to make a decision about what to do in our program.</p><p>Here are some examples:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">If the user types <code class="literal">easy</code>, then the computer will run the <code class="literal">difficulty_level_easy()</code> function</li><li class="listitem" style="list-style-type: disc">Or else (<code class="literal">elif</code>), if the user types <code class="literal">hard</code>, then the computer will run the hard version of the game (<code class="literal">difficulty_level_hard() function</code>)</li><li class="listitem" style="list-style-type: disc">Or else (<code class="literal">elif</code>), if the user decides to quit, then we will stop the program from running by changing the Boolean of <code class="literal">game_on</code> to equal <code class="literal">False</code></li></ul></div><p>Adding<a id="id168" class="indexterm"/> logic for the computer to start the correct game based on the user choice will take six new lines of code:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>  def start_game():</strong></span>
<span class="strong"><strong>      global game_on</strong></span>
<span class="strong"><strong>      level = input('Welcome. Type easy, hard, or quit. ')</strong></span>
<span class="strong"><strong>     if level == 'easy':</strong></span>
<span class="strong"><strong>         difficulty_level_easy()</strong></span>
<span class="strong"><strong>     elif level == 'hard':</strong></span>
<span class="strong"><strong>         difficulty_level_hard()</strong></span>
<span class="strong"><strong>     elif level == 'quit':</strong></span>
<span class="strong"><strong>         game_on = False</strong></span>
</pre></div><p>An important thing to notice about the last line of code is that we changed the <code class="literal">game_on</code> global variable to <code class="literal">False</code>, causing the program to end. Also, notice how our <code class="literal">start_game()</code> function calls the other functions inside of it. So, the <code class="literal">difficulty_level_easy()</code> function that we made starts to run when someone types easy.</p></div><div class="section" title="play_again()"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec18"/>play_again()</h3></div></div></div><p>The last <a id="id169" class="indexterm"/>helper function is the <code class="literal">play_again()</code> function. This function, which we used at the end of the <code class="literal">difficulty_level_easy()</code> function, allows the user to make a choice of whether to play again or not. By now, you are probably starting to see a pattern with regard to what we do with information from <code class="literal">raw_input</code> in order to help the computer make choices. We use <code class="literal">if</code>, <code class="literal">elif</code>, and <code class="literal">else</code> to compare the user's choice to a set of choices that we have programmed. Then, we program the result of the choice to be what we want.</p><p>For the <code class="literal">play_again()</code> function, the user will be asked whether they would like to play again. We will prompt the user to type <code class="literal">Yes</code> or <code class="literal">No</code>:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>  def play_again():</strong></span>
<span class="strong"><strong>      global game_on</strong></span>
<span class="strong"><strong>       game_on = True</strong></span>
<span class="strong"><strong>          play = input('Play again? Yes or No. ')</strong></span>
</pre></div><p>With our program, we are only accepting two user choices so that we can use <code class="literal">if</code> and <code class="literal">else</code> to explain what should happen. If the user types <code class="literal">Yes</code>, then the <code class="literal">start_game()</code> function will run and <a id="id170" class="indexterm"/>our program will continue. If the user types <code class="literal">No</code>, then the <code class="literal">game_on</code> variable will be set to <code class="literal">False</code> and the program will stop. So, we will add four more lines of code:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>def play_again():</strong></span>
<span class="strong"><strong>    global gameOn</strong></span>
<span class="strong"><strong>    play = input('Play again? Yes or No.')</strong></span>
<span class="strong"><strong>    if play == 'Yes':</strong></span>
<span class="strong"><strong>        start_game()</strong></span>
<span class="strong"><strong> else:</strong></span>
<span class="strong"><strong>        gameOn = 'false'</strong></span>
</pre></div></div><div class="section" title="Play testing"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec19"/>Play testing</h3></div></div></div><p>Once you have <a id="id171" class="indexterm"/>made the <code class="literal">play_again()</code> function, you only need to add one more line of code to test the easy version of your game! The last line of your code file will be calling the <code class="literal">start_game()</code> function. Add this code to the bottom of your game file:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>  start_game()</strong></span>
</pre></div><p>Once the <code class="literal">start_game()</code> line is added, you will be able to test the easy version of your game. Now is a good point to stop, save, and test. Play the game many times to make sure you fully understand how it works. Ask others to play it as well.</p><p>You might decide to change some of the input questions to add humor to make them funny or get different results. It is up to you to test your code changes and to make sure they work!</p><div class="mediaobject"><img src="graphics/B04681_05_05.jpg" alt="Play testing"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note13"/>Note</h3><p>Save your work and test your code! Go to your terminal and navigate to your project folder.</p></div></div><p>When you<a id="id172" class="indexterm"/> type the following code line, your code should begin to run inside of your command prompt or terminal. To test the code, make sure you answer <code class="literal">easy</code> so that you can run the version of the code that you have made:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>  python higher_lower.py</strong></span>
</pre></div><div class="mediaobject"><img src="graphics/B04681_05_06.jpg" alt="Play testing"/></div></div></div><div class="section" title="Building the hard version"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec35"/>Building the hard version</h2></div></div></div><p>The <a id="id173" class="indexterm"/>hard version of the game uses exactly <a id="id174" class="indexterm"/>the same <span class="emphasis"><em>win conditions</em></span> as the easy version of the game. There is only one difference.</p><p><span class="emphasis"><em>The hard version only allows the player to make three guesses before it resets the game!</em></span> Therefore, we can use a <code class="literal">for</code> loop to define that we only want the program to run three times if the player does not guess the correct number.</p><p>First, we will define the function for the hard version of the game:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>  def difficulty_level_hard():</strong></span>
</pre></div><p>Next, we will add our global variables. In the hard version of the game, we need to use the global variable <code class="literal">guesses</code>, which we will set to three for this program:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>  def difficulty_level_hard():</strong></span>

<span class="strong"><strong>      global guesses</strong></span>
<span class="strong"><strong>       guesses = 3</strong></span>
</pre></div><p>Now, we<a id="id175" class="indexterm"/> need to create the logic. Here, we will use a <code class="literal">for</code> loop so that our loop only runs the number of times that we wish it to run. So, we will add a line of code that says <code class="literal">i</code> in <code class="literal">range (guesses)</code>, which means that for every <a id="id176" class="indexterm"/>number in the range of numbers of guesses, run our code.</p><p>First, let's add this line of code, and then we will go over each part:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>  def difficulty_level_hard():</strong></span>
<span class="strong"><strong>      </strong></span>
<span class="strong"><strong>      global guesses</strong></span>
<span class="strong"><strong>      guesses = 3</strong></span>
<span class="strong"><strong>      for i in range(guesses):</strong></span>
</pre></div><p>The letter <code class="literal">i</code> is used to mean one single number. The word <code class="literal">range</code> is used to tell the computer to go over the total number of <code class="literal">guesses</code>, which we set to <code class="literal">3</code>.</p><p>Next, we will write the code to get user input, compare the user number to the secret computer number, and use the <code class="literal">if</code>/<code class="literal">elif</code> logic to print output messages to the user and run the loop again.</p><p>Before you copy the code of the <code class="literal">for</code> loop into your program, figure out if you can write, draw, or explain how the <code class="literal">for</code> loop will work differently than the <code class="literal">while</code> loop did. If you can understand the differences, you will learn a lot more about how your <code class="literal">for</code> loop works.</p><div class="section" title="Comparing numbers – the hard version"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec20"/>Comparing numbers – the hard version</h3></div></div></div><p>What <a id="id177" class="indexterm"/>exactly is the logic when using a <code class="literal">for</code> loop instead of a <code class="literal">while</code> loop? As we noted earlier, the <code class="literal">for</code> loop is more defined to run a specific number of times. So, with our for <code class="literal">i</code> in <code class="literal">range(guesses)</code>, we are really saying this:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">For the first guess, do this thing</li><li class="listitem" style="list-style-type: disc">For the second guess, do this thing</li><li class="listitem" style="list-style-type: disc">For the third guess, if the player is still incorrect, stop the <code class="literal">for</code> loop, print the message, and run the <code class="literal">play_again()</code> function</li></ul></div><p>Now that you have a better concept of the logic, let's add these lines of code to the <code class="literal">for</code> loop in our <code class="literal">difficulty_level_hard()</code> function:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>def difficulty_level_hard():</strong></span>
<span class="strong"><strong>     global random</strong></span>
<span class="strong"><strong>     global guesses</strong></span>
<span class="strong"><strong>     for i in range(guesses):</strong></span>
<span class="strong"><strong>         guess = float(input('Guess a number. '))</strong></span>
<span class="strong"><strong>         if i == 2:</strong></span>
<span class="strong"><strong>             print('Game over. Too many guesses.')</strong></span>
<span class="strong"><strong>             play_again()</strong></span>
<span class="strong"><strong>         elif guess &gt; secret:</strong></span>
<span class="strong"><strong>             print('your guess is too high. Try again.')</strong></span>
<span class="strong"><strong>         elif guess &lt; secret:</strong></span>
<span class="strong"><strong>             print('your guess is too low. Try again.')</strong></span>
<span class="strong"><strong>         elif guess == secret:</strong></span>
<span class="strong"><strong>             print('You win!')</strong></span>
<span class="strong"><strong>             play_again()</strong></span>
</pre></div><p>As you can <a id="id178" class="indexterm"/>see, in the first line of code beneath the <code class="literal">for</code> loop, we use a <code class="literal">raw_input()</code> function that we assign to the variable <code class="literal">guess</code> to get information from the user. Then, we make <span class="emphasis"><em>win conditions</em></span> for the hard version of the game. In this case, if <code class="literal">i</code> (the number of <code class="literal">guesses</code>) is equal to <code class="literal">2</code>, then the game restarts. This is because the range function we are using starts counting from <code class="literal">zero</code>, so the three computer numbers are <code class="literal">0</code>, <code class="literal">1</code>, and <code class="literal">2</code>. The first two lines of our <code class="literal">for</code> loop use a comparison operator (<code class="literal">==</code>) to check whether the user has had too many guesses. If the user <span class="emphasis"><em>HAS</em></span> tried too many times, then the loop ends and the <code class="literal">Game over. Too many guesses</code> message is printed.</p><p>We have decided what happens if the user has too many guesses in the <code class="literal">for</code> loop. Now, we will define what happens if a player is too high or too low in terms of their guess. We use the same comparison operators of greater than (<code class="literal">&gt;</code>), less than (<code class="literal">&lt;</code>), and equal to (<code class="literal">==</code>) that we used in the easy version, and we print a message if the user is too high or too low.</p><p>Notice that we call the <code class="literal">play_again()</code> function twice. We offer the user the chance to <code class="literal">play_again()</code> if they lose by guessing too many times or when they win. Losing and winning are both times when the <code class="literal">for</code> loop will stop running, so we need to make sure we have added the <code class="literal">play_again()</code> function after both of these conditions:</p><div class="mediaobject"><img src="graphics/B04681_05_07.jpg" alt="Comparing numbers – the hard version"/></div></div><div class="section" title="Play test the whole program!"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec21"/>Play test the whole program!</h3></div></div></div><p>Now <a id="id179" class="indexterm"/>you get to see exactly how you did! Go to your terminal and run your program again by typing the following command:</p><div class="informalexample"><pre class="programlisting"><span class="strong"><strong>  python higher_lower.py</strong></span>
</pre></div><p>First, make sure that the program works. If you get errors right away, double-check your code to make sure it does not have any problems, such as:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">spacing or indents</li><li class="listitem" style="list-style-type: disc">typos</li><li class="listitem" style="list-style-type: disc">syntax (punctuation)</li></ul></div><p>These are some common problems that people have with their programs. Usually, you will get an error message called <code class="literal">Trace</code> or <code class="literal">stacktrace</code> that will tell you what line in your code is causing the problem. Here is an example of what happens when the user types the word <code class="literal">three</code> instead of the number <code class="literal">3</code>:</p><div class="mediaobject"><img src="graphics/B04681_05_08.jpg" alt="Play test the whole program!"/></div><p>There are some things called <span class="emphasis"><em>test cases</em></span> that you will want to try before letting other people play your game. Good programmers need to think about how their program works, and they also need to think about the things a user can do that might break the program. The following are some tests you can run. Some might break your program:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Does your game work in both the easy <span class="emphasis"><em>AND</em></span> the hard version?</li><li class="listitem" style="list-style-type: disc">What happens if you type <code class="literal">quit</code>?</li><li class="listitem" style="list-style-type: disc">What happens if you enter a number higher than 99?</li><li class="listitem" style="list-style-type: disc">What happens when you type the word <code class="literal">three</code> instead of the number <code class="literal">3</code>?</li><li class="listitem" style="list-style-type: disc">Can you force the program to print errors (there are ways to make your program have errors, so be creative)? If so, notice your error messages, and think about how to prevent errors.</li></ul></div><p>There are some errors that you might not understand, and that is okay. You can always perform an Internet search to look up the error message and check what other people have learned about it.</p><p>Once you<a id="id180" class="indexterm"/> have tested the game and feel ready to share it, ask others to play it and watch as they interact with your game. Ask yourself some questions while you watch your user play:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">What was easy for the user to understand?</li><li class="listitem" style="list-style-type: disc">What was hard for the user to understand?</li><li class="listitem" style="list-style-type: disc">What errors did the user make?</li><li class="listitem" style="list-style-type: disc">How could I change the game code to make the game better?</li></ul></div><p>As a programmer, you will learn how to be a creative problem solver. If you see something in this program that you want to rewrite, you should try it! Keep a backup copy of your working code, and then start to experiment with some different options. Some examples you can use are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Make the range of the hard program larger so that it is more difficult for the user to guess correctly (<code class="literal">0, 1000</code>)</li><li class="listitem" style="list-style-type: disc">Add your own personal touch to each message</li><li class="listitem" style="list-style-type: disc">Add a variable to take the username and print it</li></ul></div><p>Each of the preceding examples are ways in which you can challenge yourself and take the program further! Check your program against the following screenshot, and figure out whether you can answer some quick questions about what you learned in this chapter:</p><div class="mediaobject"><img src="graphics/B04681_05_09.jpg" alt="Play test the whole program!"/></div></div></div></div></div>
<div class="section" title="A quick task for you"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec36"/>A quick task for you</h1></div></div></div><p>Q1. What is a Boolean?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">A statement that is either <code class="literal">True</code> or <code class="literal">False</code></li><li class="listitem">A statement with many possible outcomes</li><li class="listitem">Used as a variable name</li><li class="listitem">Used as a place</li></ol></div><p>Q2. Why are global variables helpful?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">They are limited to what they can do</li><li class="listitem">They can be used in any function in the file where they are set</li><li class="listitem">They can be changed inside the function</li><li class="listitem">Choice 2 and 3</li></ol></div><p>Q3. <code class="literal">for</code> loops are similar to <code class="literal">while</code> loops. How is a <code class="literal">for</code> loop different from a <code class="literal">while</code> loop?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem"><code class="literal">for</code> loops are used to loop a specified number of times</li><li class="listitem"><code class="literal">for</code> loops are used only for text</li><li class="listitem"><code class="literal">for</code> loops are used only for numbers</li><li class="listitem"><code class="literal">for</code> loops can only work with dictionaries</li></ol></div><p>Q4. What would be a good time to use a <code class="literal">while</code> loop in a game?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">To run a game a specified number of times</li><li class="listitem">To run a game forever</li><li class="listitem">To keep a game going while a certain condition is true</li><li class="listitem">To end the game</li></ol></div><p>Q5. What symbol is used to write comments in the code that are not a part of the code?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">?</li><li class="listitem">*</li><li class="listitem">()</li><li class="listitem">#</li></ol></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec37"/>Summary</h1></div></div></div><p>In this chapter, we learned how to build a game using loops and logic. The game, Higher or Lower, has an easy version and a difficult version. Input from the player is used by the game to make decisions about what code will run next.</p><p>In the next chapter, we will learn about how to work with some data, including how to store and retrieve information. These skills will help us to learn how to do things such as ask for player names, include player names in our games, and store scores in the program. All of these skills are important to build a complete and interesting game experience.</p></div></body></html>