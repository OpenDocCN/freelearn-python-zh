- en: Chapter 11. AntiPatterns
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In the previous chapter, we started with an introduction to Compound patterns.
    You learned how design patterns work together to solve a real-world design problem.
    We went further to explore the Model-View-Controller design pattern—the king of
    Compound patterns. We understood that the MVC pattern is used when we need loose
    coupling between components and separation of the way in which data is stored
    from the way data is presented. We also went through the UML diagram of the MVC
    pattern and read about how the individual components (model, view, and controller)
    work among themselves. We also saw how it's applied in the real world with the
    help of the Python implementation. We discussed the benefits of the MVC pattern,
    learned more about it in the FAQs section, and summarized the discussion at the
    end of chapter.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, we will talk about AntiPatterns. This is different from all
    the other chapters in the book; here, we will cover what we shouldn't do as architects
    or software engineers. We will understand what AntiPatterns are and how they are
    visible in software design or development aspects with the help of theoretical
    and practical examples.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: 'In brief, we will cover the following topics in this chapter:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: An introduction to AntiPatterns
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: AntiPatterns with examples
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Common pitfalls during development
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: At the end of the chapter, we will summarize the entire discussion—consider
    this as a takeaway.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: An introduction to AntiPatterns
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Software design principles represent a set of rules or guidelines that help
    software developers make design-level decisions. According to Robert Martin, there
    are four aspects of a bad design:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: '**Immobile**: An application is developed in such a way that it becomes very
    hard to reuse'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Rigid**: An application is developed in such a manner that any small change
    may in turn result in moving of too many parts of the software'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Fragile**: Any change in the current application results in breaking the
    existing system fairly easily'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Viscose**: Changes are done by the developer in the code or environment itself
    to avoid difficult architectural level changes'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The above aspects of bad design, if applied, result in solutions that should
    not be implemented in the software architecture or development.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: An AntiPattern is an outcome of a solution to recurring problems so that the
    outcome is ineffective and becomes counterproductive. What does this mean? Let's
    say that you come across a software design problem. You get down to solving this
    problem. However, what if the solution has a negative impact on the design or
    causes any performance issues in the application? Hence, AntiPatterns are common
    defective processes and implementations within software applications.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: 'AntiPatterns may be the result of the following:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: A developer not knowing the software development practices
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A developer not applying design patterns in the correct context
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'AntiPatterns can prove beneficial as they provide an opportunity for the following
    reasons:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: Recognize recurring problems in the software industry and provide a detailed
    remedy for most of these issues
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Develop tools to recognize these problems and determine the underlying causes
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Describe the measures that can be taken at several levels of improving the application
    and architecture
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'AntiPatterns can be classified under two main categories:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: Software development AntiPatterns
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Software architecture AntiPatterns
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Software development AntiPatterns
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: When you start software development for an application or project, you think
    of the code structure. This structure is consistent with the product architecture,
    design, customer use cases, and many other development considerations.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: 'Often, when the software is developed, it gets deviated from the original code
    structure due to the following reasons:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: The thought process of the developer evolves with development
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Use cases tend to change based on customer feedback
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Data structures designed initially may undergo change with functionality or
    scalability considerations
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Due to the preceding reasons, software often undergoes refactoring. Refactoring
    is taken with a negative connotation by many, but in reality, refactoring is one
    of the critical parts of the software development journey, which provides developers
    an opportunity to relook the data structures and think about scalability and ever-evolving
    customer's needs.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: The following examples provide you with an overview of different AntiPatterns
    observed in software development and architecture. We will cover only a few of
    them along with causes, symptoms, and consequences.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: Spaghetti code
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This is the most common and most heard of AntiPattern in software development.
    Do you know how spaghetti looks? So complicated, isn't it? Software control flows
    also get tangled if structures are developed in an ad hoc manner. Spaghetti code
    is difficult to maintain and optimize.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: 'The typical causes of Spaghetti include the following:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
- en: Ignorance on object-oriented programming and analysis
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Product architecture or design that is not considered
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Quick fix mentality
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'You know you''re stuck with Spaghetti when the following points are true:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
- en: Minimum reuse of structures is possible
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Maintenance efforts are too high
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Extension and flexibility to change is reduced
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Golden Hammer
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In the software industry, you would have seen many examples where a given solution
    (technology, design, or module) is used in many places because the solution would
    have yielded benefits in multiple projects. As we have seen with examples throughout
    this book, a solution is best suited in a given context and applied to certain
    types of problems. However, teams or software developers tend to go with one proven
    solution irrespective of whether it suits the need. This is the reason that it's
    called Golden Hammer, a hammer for all the nails possible (a solution to all problems).
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
- en: 'The typical causes of Golden Hammer include the following:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: It comes as a recommendation from the top (architects or technology leaders)
    who are not close to the given problem at hand
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A solution has yielded a lot of benefits in the past but in projects with a
    different context and requirements
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A company is stuck with this technology as they have invested money in training
    the staff or the staff is comfortable with it
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The consequences of a Golden Hammer are as follows:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
- en: One solution is obsessively applied to all software projects
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The product is described, not by the features, but the technology used in development
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In the company corridors, you hear developers talking, "That could have been
    better than using this."
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Requirements are not completed and not in sync with user expectations
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Lava Flow
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This AntiPattern is related to Dead Code, or an unusable piece of code, lying
    in the software application for the fear of breaking something else if it is modified.
    As more time passes, this piece of code continues to remain in the software and
    solidifies its position, like lava turning into a hard rock. It may happen in
    cases where you start developing software to support a certain use case but the
    use case itself changes with time.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
- en: 'The causes of a Lava Flow include the following:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
- en: A lot of trial and error code in the production
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Single-handedly written code that is not reviewed and is handed over to other
    development teams without any training
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The initial thought of the software architecture or design is implemented in
    the code base, but no one understands it anymore
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The symptoms of a Lava Flow are as follows:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
- en: Low code coverage (if at all done) for developed tests
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A lot of occurrences of commented code without reasons
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Obsolete interfaces, or developers try to work around existing code
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Copy-and-paste or cut-and-paste programming
  id: totrans-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: As you know, this is one of the most common AntiPatterns. Experienced developers
    put their code snippets online (GitHub or Stack Overflow) that are solutions to
    some commonly occurring issues. Developers often copy these snippets as is and
    use in their application to move further in the application development. In this
    case, there is no validation that this is the most optimized code or even that
    the code actually fits the context. This leads to inflexible software application
    that is hard to maintain.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
- en: 'The causes of copy-and-paste or cut-and-paste are as follows:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: Novice developers not used to writing code or not aware how to develop
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Quick bug fix or moving forward with development
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Code duplication for need of a code structure or standardization across modules
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A lack of long-term thinking or forethought
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The consequences of cut-and-paste or copy-and-paste include the following:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
- en: Similar type of issues across software application
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Higher maintenance costs and increased bug life cycle
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Less modular code base with the same code running into a number of lines
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Inheriting issues that existed in the first place
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Software architecture AntiPatterns
  id: totrans-77
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Software architecture is an important piece of overall system architecture.
    While system architecture focuses on aspects such as the design, tools, and hardware
    among other things, software architecture looks at modeling the software that
    is well understood by the development and test teams, product managers, and other
    stakeholders. This architecture plays a critical role in determining the success
    of the implementation and how the product works for the customers.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
- en: We will discuss some of the architecture-level AntiPatterns that we observe
    in the real world with development and implementation software architecture.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
- en: Reinventing the wheel
  id: totrans-80
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We often hear technology leaders talking about NOT reinventing the wheel. What
    does it essentially mean? For some, this may mean code or library reuse. Actually,
    it points to architecture reuse. For example, you have solved a problem and come
    up with an architecture-level solution. If you encounter a similar problem in
    any other application, the thought process (architecture or design) that was developed
    earlier should be reused. There is no point in revisiting the same problem and
    devising a solution, which is essentially reinventing the wheel.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
- en: 'The causes that lead to reinventing the wheel are as follows:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
- en: An absence of a central documentation or repository that talks about architecture-level
    problems and solutions implemented
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A lack of communication between technology leaders in the community or company
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Building from scratch is the process followed in the organization; basically,
    immature processes and loose process implementation and adherence
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The consequences of this AntiPattern include the following:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
- en: Too many solutions to solve one standard problem, with many of them not being
    well thought out
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: More time and resource utilization for the engineering team leading to overbudgeting
    and more time to market
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A closed system architecture (architecture useful for only one product), duplication
    of efforts, and poor risk management
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Vendor lock-in
  id: totrans-90
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: As the name of the AntiPattern suggests, product companies tend to be dependent
    on some of the technologies provided by their vendors. These technologies are
    so glued to their system that it is very difficult to move away.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are the causes of a vendor lock-in:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
- en: Familiarity with folks in authority in the vendor company and possible discounts
    in the technology purchase
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Technology chosen based on the marketing and sales pitch instead of technology
    evaluation
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Using a proven technology (proven indicates that the return on investments with
    this technology were really high in the previous experience) in the current project
    even when it's not suited for project needs or requirements
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Technologists/developers are already trained in using this technology
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The consequences of a vendor lock-in are as follows:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
- en: Release cycles and product maintenance cycles of a company's product releases
    are directly dependent on the vendor's release time frame
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The product is developed around the technology rather than on the customer's
    requirements
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 产品是围绕技术而非客户需求开发的
- en: The product's time to market is unreliable and doesn't meet customer's expectations
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 产品的上市时间不可靠，不符合客户的期望
- en: Design by committee
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 委员会设计
- en: Sometimes, based on the process in an organization, a group of people sit together
    and design a particular system. The resulting software architecture is often complex
    or substandard because it involves too many thought processes, and technologists
    who may not have the right skillset or experience in designing the products have
    put forward the ideas.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，根据组织中的流程，一群人坐在一起设计特定的系统。由此产生的软件架构通常很复杂或不符合标准，因为它涉及太多的思维过程，而且可能没有正确技能集或设计产品经验的技术人员提出了想法。
- en: 'The causes of design by committee are as follows:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 委员会设计的原因如下：
- en: The process in the organization involves getting the architecture or design
    approved by many stakeholders
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 组织中的流程涉及让架构或设计得到许多利益相关者的批准
- en: No single point of contact or architect responsible for the design
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 没有单一的联系点或负责设计的架构师
- en: The design priorities set by marketing or technologists rather than set by customer
    feedback
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 由市场营销人员或技术人员而非客户反馈设定的设计优先级
- en: 'The symptoms observed with this AntiPattern include the following:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 观察到与此反模式相关的症状包括以下：
- en: Conflicting viewpoints between developers and architects even after the design
    is finalized
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 即使设计已经确定，开发人员和架构师之间也存在冲突的观点
- en: Overly complex design that is very difficult to document
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 过于复杂的设计，很难进行文档记录
- en: Any change in the specification or design undergoes review by many, resulting
    in implementation delays
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任何对规格或设计的变更都需要经过多人的审查，从而导致实施延迟
- en: Summary
  id: totrans-111
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: To summarize this chapter, you learned about AntiPatterns, what they are, and
    their classifications. We understood that AntiPatterns could be related to software
    development or software architecture. We looked at the commonly occurring AntiPatterns
    and learned about their causes, symptoms, and consequences. I am sure you will
    learn from these and avoid such situations in your project.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 总结本章内容，你学习了反模式（AntiPatterns）的定义、分类，以及它们与软件开发或软件架构的关系。我们探讨了常见反模式及其成因、症状和后果。我相信你会从中学到东西，并在你的项目中避免类似情况的发生。
- en: This is it folks, this was the last chapter of the book. Hope you enjoyed it
    and the book helped you improve your skills. Wish you all the very best!
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 就这样，朋友们，这是本书的最后一章。希望你喜欢它，并且这本书能帮助你提高技能。祝你们所有人好运！
