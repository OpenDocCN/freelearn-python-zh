<html><head></head><body>
<div id="_idContainer016">
<h1 class="chapter-number" id="_idParaDest-45"><a id="_idTextAnchor044"/><span class="koboSpan" id="kobo.1.1">3</span></h1>
<h1 id="_idParaDest-46"><a id="_idTextAnchor045"/><span class="koboSpan" id="kobo.2.1">FX Market Overview from a Developer's Standpoint</span></h1>
<p><span class="koboSpan" id="kobo.3.1">The FX market has long been very attractive for developers, mostly because there’s a lot of free stuff associated with this market, such as market data, trading software, and various third-party solutions. </span><span class="koboSpan" id="kobo.3.2">However, the quality of freely available solutions is frequently so low that it’s in fact not possible to use them for any </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">serious trading.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">The main problem with trading in the FX markets is their strong fragmentation. </span><span class="koboSpan" id="kobo.5.2">Historically, FX was an interbank market with no dedicated center. </span><span class="koboSpan" id="kobo.5.3">So, trading venues offer not only different trading platforms but also different market data, different types of orders, and different access to liquidity. </span><span class="koboSpan" id="kobo.5.4">This fragmentation may be quite confusing, so it’s essential to obtain a sufficient level of understanding in order to avoid making mistakes, which at times can be </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">quite painful.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">In this chapter, we will look at this market from a developer’s standpoint to discover some important – and overlooked – features that may be critical for the overall success of any project in FX algo trading. </span><span class="koboSpan" id="kobo.7.2">We will start with the organization of this market and see the obstacles it creates for the developer. </span><span class="koboSpan" id="kobo.7.3">We will learn about the essential types of market participants, why the price moves at all, and whether a particular movement is something we can make money with. </span><span class="koboSpan" id="kobo.7.4">We will also consider various ways to access this market, their pros and cons for various practical trading applications, and estimate how expensive it </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">may be.</span></span></p>
<p><span class="koboSpan" id="kobo.9.1">All this knowledge is absolutely essential for sustained success in FX algo trading. </span><span class="koboSpan" id="kobo.9.2">This market is one of the most rapidly changing markets. </span><span class="koboSpan" id="kobo.9.3">Without understanding how these changes may affect the performance of your trading strategies, it will be difficult to survive this market from a long-term perspective. </span><span class="koboSpan" id="kobo.9.4">In this chapter, we will cover the </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.11.1">Trading venues – where money meets… </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">other money</span></span></li>
<li><span class="koboSpan" id="kobo.13.1">Trade mechanics – again, </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">some terminology</span></span></li>
<li><span class="koboSpan" id="kobo.15.1">Market makers – comfortable, </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">sophisticated, expensive</span></span></li>
<li><span class="koboSpan" id="kobo.17.1">Liquidity providers – the whales that support </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">this planet</span></span></li>
<li><span class="koboSpan" id="kobo.19.1">ECN – looks like a fair game, but </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">is it?</span></span></li>
<li><span class="koboSpan" id="kobo.21.1">Aggregation – in search of the </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">best price</span></span></li>
<li><span class="koboSpan" id="kobo.23.1">Trading the FX market – what </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">and how</span></span></li>
<li><span class="koboSpan" id="kobo.25.1">Why do I need </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">all this?</span></span></li>
</ul>
<h1 id="_idParaDest-47"><a id="_idTextAnchor046"/><span class="koboSpan" id="kobo.27.1">Trading venues – where money meets… other money</span></h1>
<p><span class="koboSpan" id="kobo.28.1">First, let me note that despite the overall colloquial language used in this book, I am always trying to stick to the traditional academic approach that follows the same paradigm: definition | logical conclusions | theory | experiment | proof. </span><span class="koboSpan" id="kobo.28.2">Without proper definitions, especially </span><a id="_idIndexMarker101"/><span class="koboSpan" id="kobo.29.1">when we talk about the foundation of the subject domain, we won’t be able to make logical conclusions, suggest a theory, or test and finally prove a theory – which in our case, means making money. </span><span class="koboSpan" id="kobo.29.2">In even simpler words, without a full understanding of the subject, we are unable to suggest appropriate methods to </span><span class="No-Break"><span class="koboSpan" id="kobo.30.1">use it.</span></span></p>
<p><span class="koboSpan" id="kobo.31.1">So, as we mentioned in </span><a href="B19145_01.xhtml#_idTextAnchor014"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.32.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.33.1">, financial markets facilitate buying and selling assets at special </span><a id="_idIndexMarker102"/><span class="koboSpan" id="kobo.34.1">marketplaces called </span><strong class="bold"><span class="koboSpan" id="kobo.35.1">trading venues</span></strong><span class="koboSpan" id="kobo.36.1">. </span><span class="koboSpan" id="kobo.36.2">A bit too vague to be useful, right? </span><span class="koboSpan" id="kobo.36.3">Well, let’s go </span><span class="No-Break"><span class="koboSpan" id="kobo.37.1">into specifics.</span></span></p>
<h2 id="_idParaDest-48"><a id="_idTextAnchor047"/><span class="koboSpan" id="kobo.38.1">Organizing chaos – types of trading venues</span></h2>
<p><span class="koboSpan" id="kobo.39.1">A trading venue in the financial world is a place where buyers meet sellers – both physically and </span><a id="_idIndexMarker103"/><span class="koboSpan" id="kobo.40.1">electronically. </span><span class="koboSpan" id="kobo.40.2">There are different kinds of trading venues, each having its advantages and disadvantages and requiring a special approach </span><span class="No-Break"><span class="koboSpan" id="kobo.41.1">to trade.</span></span></p>
<p><span class="koboSpan" id="kobo.42.1">A formal classification of today’s trading venues is based on a number of criteria including the regulatory environment, types of market participants, methods of dissemination of market information among them, and many, many more. </span><span class="koboSpan" id="kobo.42.2">Therefore, such a classification is very complex and definitely lies way beyond the scope of </span><span class="No-Break"><span class="koboSpan" id="kobo.43.1">this book.</span></span></p>
<p><span class="koboSpan" id="kobo.44.1">The good news is that not all of these criteria are important for us as developers of buy-side trading applications. </span><span class="koboSpan" id="kobo.44.2">We will try to suggest a few informal criteria looking at this subject domain with the eyes of </span><span class="No-Break"><span class="koboSpan" id="kobo.45.1">a developer.</span></span></p>
<p><span class="koboSpan" id="kobo.46.1">From the structural standpoint, the key difference between trading venues is the way the market price is determined. </span><span class="koboSpan" id="kobo.46.2">To better understand it, let’s again consider our example of a </span><span class="No-Break"><span class="koboSpan" id="kobo.47.1">farmer’s market.</span></span></p>
<h2 id="_idParaDest-49"><a id="_idTextAnchor048"/><span class="koboSpan" id="kobo.48.1">Auction (open outcry)</span></h2>
<p><span class="koboSpan" id="kobo.49.1">Buyers and farmers </span><a id="_idIndexMarker104"/><span class="koboSpan" id="kobo.50.1">stand in a crowd, crying out loudly about quantities they would like to buy or sell along with their prices. </span><span class="koboSpan" id="kobo.50.2">As soon as two parties find each other, a contract </span><span class="No-Break"><span class="koboSpan" id="kobo.51.1">is made.</span></span></p>
<p><span class="koboSpan" id="kobo.52.1">This is exactly how trading had been performed for many centuries and even thousands of years. </span><span class="koboSpan" id="kobo.52.2">In the </span><a id="_idIndexMarker105"/><span class="koboSpan" id="kobo.53.1">financial world, such a marketplace is called an </span><strong class="bold"><span class="koboSpan" id="kobo.54.1">exchange</span></strong><span class="koboSpan" id="kobo.55.1">, and the market square where buyers and sellers squawk their prices is called a </span><strong class="bold"><span class="koboSpan" id="kobo.56.1">pit</span></strong><span class="koboSpan" id="kobo.57.1">. </span><span class="koboSpan" id="kobo.57.2">Although this </span><a id="_idIndexMarker106"/><span class="koboSpan" id="kobo.58.1">method looks fair, it has one global intrinsic limitation: the marketplace cannot physically accommodate all those willing to trade. </span><span class="koboSpan" id="kobo.58.2">So, traders soon became elite with unlimited access to liquidity and began acting on behalf of others for a commission. </span><span class="koboSpan" id="kobo.58.3">Of course, such a privileged position asked for misbehavior and many traders could not resist the temptation to trade against their clients, thus doubling their profits – which in turn caused changes in regulations and severe punishments. </span><span class="koboSpan" id="kobo.58.4">Although very interesting, this is </span><span class="No-Break"><span class="koboSpan" id="kobo.59.1">another story.</span></span></p>
<p><span class="koboSpan" id="kobo.60.1">Pit trading in its natural form has almost died out completely in the last 15 years. </span><span class="koboSpan" id="kobo.60.2">Electronic trading made </span><a id="_idIndexMarker107"/><span class="koboSpan" id="kobo.61.1">access to markets far more democratic and available to virtually </span><a id="_idIndexMarker108"/><span class="koboSpan" id="kobo.62.1">anyone (with important limitations and restrictions – as always), so pit traders are no </span><span class="No-Break"><span class="koboSpan" id="kobo.63.1">longer needed.</span></span></p>
<p><span class="koboSpan" id="kobo.64.1">Nevertheless, the </span><em class="italic"><span class="koboSpan" id="kobo.65.1">structure</span></em><span class="koboSpan" id="kobo.66.1"> of such a market, where </span><em class="italic"><span class="koboSpan" id="kobo.67.1">price discovery</span></em><span class="koboSpan" id="kobo.68.1"> is performed by direct communication between multiple parties in an </span><em class="italic"><span class="koboSpan" id="kobo.69.1">auction</span></em><span class="koboSpan" id="kobo.70.1">, is still very popular. </span><span class="koboSpan" id="kobo.70.2">Modern trading venues operate electronically but use the </span><span class="No-Break"><span class="koboSpan" id="kobo.71.1">same paradigm.</span></span></p>
<p><span class="koboSpan" id="kobo.72.1">We can see </span><a id="_idIndexMarker109"/><span class="koboSpan" id="kobo.73.1">that there are two ways a buy-side order can be placed in such a market. </span><span class="koboSpan" id="kobo.73.2">We can just cry out, </span><em class="italic"><span class="koboSpan" id="kobo.74.1">“I buy!”</span></em><span class="koboSpan" id="kobo.75.1"> or </span><em class="italic"><span class="koboSpan" id="kobo.76.1">“I sell!”</span></em><span class="koboSpan" id="kobo.77.1"> and such an order will be executed </span><a id="_idIndexMarker110"/><span class="koboSpan" id="kobo.78.1">at whatever price comes first. </span><span class="koboSpan" id="kobo.78.2">Such an order is called a </span><strong class="bold"><span class="koboSpan" id="kobo.79.1">market order</span></strong><span class="koboSpan" id="kobo.80.1"> (see </span><a href="B19145_10.xhtml#_idTextAnchor171"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.81.1">Chapter 10</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.82.1">, Types of Orders and Their Simulation in Python</span></em><span class="koboSpan" id="kobo.83.1">) and if a market order is sent to the market, we say that we buy or sell </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.84.1">at market</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.85.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.86.1">Alternatively, we can cry, </span><em class="italic"><span class="koboSpan" id="kobo.87.1">“I buy at $100 or cheaper!”</span></em><span class="koboSpan" id="kobo.88.1"> or </span><em class="italic"><span class="koboSpan" id="kobo.89.1">“I sell at $200 or higher!”</span></em><span class="koboSpan" id="kobo.90.1"> and then such an order will be executed only when there’s a seller or a buyer for such an order respectively. </span><span class="koboSpan" id="kobo.90.2">Such an order is called a </span><strong class="bold"><span class="koboSpan" id="kobo.91.1">limit order</span></strong><span class="koboSpan" id="kobo.92.1"> (again, see </span><a href="B19145_10.xhtml#_idTextAnchor171"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.93.1">Chapter 10</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.94.1">, Types of Orders and Their Simulation in Python</span></em><span class="koboSpan" id="kobo.95.1">, for details), and sending such an order to the market is called buying or selling </span><strong class="bold"><span class="koboSpan" id="kobo.96.1">at a </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.97.1">certain price</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.98.1">.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.99.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.100.1">Although a limit order helps limit the price (to avoid buying too high or selling too low), it is not guaranteed that such an order will be executed at all: there may be no buyers who would like to buy from you or no sellers to sell to you at your </span><span class="No-Break"><span class="koboSpan" id="kobo.101.1">desired price.</span></span></p>
<p><span class="koboSpan" id="kobo.102.1">As with any auction, the price of the traded asset can jump or fall very quickly. </span><span class="koboSpan" id="kobo.102.2">Thus, for us as algo trading </span><a id="_idIndexMarker111"/><span class="koboSpan" id="kobo.103.1">developers, it’s important to remember that in such a market it would be a good idea to follow some </span><span class="No-Break"><span class="koboSpan" id="kobo.104.1">useful guidelines:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.105.1">Never buy at market without checking the supply first. </span><span class="koboSpan" id="kobo.105.2">Such an action would mean </span><em class="italic"><span class="koboSpan" id="kobo.106.1">“I am ready to buy this at whatever price will be”</span></em><span class="koboSpan" id="kobo.107.1"> and you will be filled at the worst </span><span class="No-Break"><span class="koboSpan" id="kobo.108.1">possible price.</span></span></li>
<li><span class="koboSpan" id="kobo.109.1">Never sell at market at all. </span><span class="koboSpan" id="kobo.109.2">Always specify the price you’re ready to sell at. </span><span class="koboSpan" id="kobo.109.3">It is essential to send your sell orders in advance, posting the price you’re ready </span><span class="No-Break"><span class="koboSpan" id="kobo.110.1">to sell.</span></span></li>
</ul>
<h2 id="_idParaDest-50"><a id="_idTextAnchor049"/><span class="koboSpan" id="kobo.111.1">Exchange and order book</span></h2>
<p><span class="koboSpan" id="kobo.112.1">Buyers and farmers arrive at the market, but do not enter it. </span><span class="koboSpan" id="kobo.112.2">Instead, they are welcomed by an officer who </span><a id="_idIndexMarker112"/><span class="koboSpan" id="kobo.113.1">records their bids (orders to buy) and offers (orders to sell) in a book. </span><span class="koboSpan" id="kobo.113.2">If a new buyer comes in with a bid at $10 but there is already another order at $10 in the officer’s book, then this newcomer’s order is placed in the queue and will be filled only after the previous order has </span><span class="No-Break"><span class="koboSpan" id="kobo.114.1">been executed.</span></span></p>
<p><span class="koboSpan" id="kobo.115.1">Similarly, farmers do not show off their goods on shelves; instead, the same officer records their offers (the prices at which they would like to sell goods). </span><span class="koboSpan" id="kobo.115.2">Similar to buyers, if a new farmer comes in with an offer to sell at $11 and there is already another farmer willing to sell at $11, then the newcomer’s order is recorded in the book after the already existing order and will be executed only after the preceding order has </span><span class="No-Break"><span class="koboSpan" id="kobo.116.1">been filled.</span></span></p>
<p><span class="koboSpan" id="kobo.117.1">As long as buyers come in with prices lower than offered and farmers do not want to sell at a lower price, no contract is made and no </span><span class="No-Break"><span class="koboSpan" id="kobo.118.1">trade happens.</span></span></p>
<p><span class="koboSpan" id="kobo.119.1">So, in such a market, the only way for a trade to happen is </span><span class="No-Break"><span class="koboSpan" id="kobo.120.1">as follows:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.121.1"> A buyer agrees to buy at a </span><span class="No-Break"><span class="koboSpan" id="kobo.122.1">higher price</span></span></li>
<li><span class="koboSpan" id="kobo.123.1">A farmer agrees to sell at a </span><span class="No-Break"><span class="koboSpan" id="kobo.124.1">lower price</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.125.1">Although it looks a bit awkward from a common sense standpoint, such an organization of the market has a clear </span><a id="_idIndexMarker113"/><span class="koboSpan" id="kobo.126.1">advantage: all buyers and sellers are served on a </span><strong class="bold"><span class="koboSpan" id="kobo.127.1">first in – first out</span></strong><span class="koboSpan" id="kobo.128.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.129.1">FIFO</span></strong><span class="koboSpan" id="kobo.130.1">) basis and have </span><span class="No-Break"><span class="koboSpan" id="kobo.131.1">equal opportunities.</span></span></p>
<p><span class="koboSpan" id="kobo.132.1">The marketplace which works this way is also called an exchange and the officer who registers bids and </span><a id="_idIndexMarker114"/><span class="koboSpan" id="kobo.133.1">asks is today replaced by computers and is normally called </span><strong class="bold"><span class="koboSpan" id="kobo.134.1">matching engine</span></strong><span class="koboSpan" id="kobo.135.1">. </span><span class="koboSpan" id="kobo.135.2">The book into which bids and offers are recorded is called the </span><strong class="bold"><span class="koboSpan" id="kobo.136.1">order book</span></strong><span class="koboSpan" id="kobo.137.1">. </span><span class="koboSpan" id="kobo.137.2">The information </span><a id="_idIndexMarker115"/><span class="koboSpan" id="kobo.138.1">about orders in the book is called </span><strong class="bold"><span class="koboSpan" id="kobo.139.1">depth of market</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.140.1">or </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.141.1">DOM</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.142.1">.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.143.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.144.1">Open outcry and order book trading can co-exist at the same exchange and for the same market. </span><span class="koboSpan" id="kobo.144.2">For example, stock trading sessions start with an opening auction and then continue with trading through the </span><span class="No-Break"><span class="koboSpan" id="kobo.145.1">order book.</span></span></p>
<p><span class="koboSpan" id="kobo.146.1">The difference </span><a id="_idIndexMarker116"/><span class="koboSpan" id="kobo.147.1">between the highest bid and the lowest offer price is called the </span><strong class="bold"><span class="koboSpan" id="kobo.148.1">spread</span></strong><span class="koboSpan" id="kobo.149.1">. </span><span class="koboSpan" id="kobo.149.2">When someone </span><a id="_idIndexMarker117"/><span class="koboSpan" id="kobo.150.1">concludes a deal, it is called </span><strong class="bold"><span class="koboSpan" id="kobo.151.1">crossing </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.152.1">the spread</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.153.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.154.1">From a programmer’s </span><a id="_idIndexMarker118"/><span class="koboSpan" id="kobo.155.1">standpoint, we have a two-dimensional structure where the price is along the vertical axis and orders are along the horizontal one. </span><span class="koboSpan" id="kobo.155.2">As new orders come in, they are sent to the </span><a id="_idIndexMarker119"/><span class="koboSpan" id="kobo.156.1">respective FIFO queue on each price level and are called </span><strong class="bold"><span class="koboSpan" id="kobo.157.1">limit orders</span></strong><span class="koboSpan" id="kobo.158.1">. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.159.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.160.1">.1</span></em><span class="koboSpan" id="kobo.161.1"> presents a schematic view of such a structure, where each block in a horizontal lane means the number of contracts sent to the order book as the limit </span><span class="No-Break"><span class="koboSpan" id="kobo.162.1">order size:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer012">
<span class="koboSpan" id="kobo.163.1"><img alt="Figure 3.1 – The two-dimensional nature of the order book" src="image/B19145_3_1.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.164.1">Figure 3.1 – The two-dimensional nature of the order book</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.165.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.166.1">If you send an order and there are 10 more orders already in the book, your order is going to be filled only after all 10 preceding orders have </span><span class="No-Break"><span class="koboSpan" id="kobo.167.1">been filled.</span></span></p>
<p><span class="koboSpan" id="kobo.168.1">This is why </span><em class="italic"><span class="koboSpan" id="kobo.169.1">a lot</span></em><span class="koboSpan" id="kobo.170.1"> of trading strategies that use limit orders work well only </span><em class="italic"><span class="koboSpan" id="kobo.171.1">on paper</span></em><span class="koboSpan" id="kobo.172.1">, that is, they rely on </span><a id="_idIndexMarker120"/><span class="koboSpan" id="kobo.173.1">guaranteed execution of all generated orders, while in reality only 40-50% of these orders are indeed executed. </span><span class="koboSpan" id="kobo.173.2">We will look into this and other problems in detail in </span><a href="B19145_10.xhtml#_idTextAnchor171"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.174.1">Chapter 10</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.175.1">, Types of Orders and Their Simulation in Python</span></em><span class="koboSpan" id="kobo.176.1">. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.177.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.178.1">.2</span></em><span class="koboSpan" id="kobo.179.1"> shows a typical DOM for one of the </span><span class="No-Break"><span class="koboSpan" id="kobo.180.1">exchange-traded assets:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer013">
<span class="koboSpan" id="kobo.181.1"><img alt="Figure 3.2 – DOM screen shows consolidated liquidity on each price level (level 2 data) – source: MultiCharts" src="image/B19145_3_2.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.182.1">Figure 3.2 – DOM screen shows consolidated liquidity on each price level (level 2 data) – source: MultiCharts</span></p>
<p><span class="koboSpan" id="kobo.183.1">This window shows the consolidated liquidity instead of individual orders: the sizes of all orders for a particular price level are summed and the sum is displayed to the left or to the right of the </span><span class="No-Break"><span class="koboSpan" id="kobo.184.1">price axis.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.185.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.186.1">Level 2 data normally does not contain information about individual orders, so you never know whether 1,000 contracts means a single order from a solid large-volume trader or 1,000 orders by 1 contract sent by </span><span class="No-Break"><span class="koboSpan" id="kobo.187.1">retail traders.</span></span></p>
<p><span class="koboSpan" id="kobo.188.1">Exchanges are </span><a id="_idIndexMarker121"/><span class="koboSpan" id="kobo.189.1">de-facto industry standard trading venues for equities (stocks, exchange-traded funds, and so on), commodities, and some derivatives. </span><span class="koboSpan" id="kobo.189.2">In the FX world, mostly derivatives, such as </span><a id="_idIndexMarker122"/><span class="koboSpan" id="kobo.190.1">currency futures, are traded at exchanges. </span><span class="koboSpan" id="kobo.190.2">Most of the cash, swaps, and forward contracts are traded </span><strong class="bold"><span class="koboSpan" id="kobo.191.1">over the </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.192.1">counter</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.193.1"> (</span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.194.1">OTC</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.195.1">).</span></span></p>
<h2 id="_idParaDest-51"><a id="_idTextAnchor050"/><span class="koboSpan" id="kobo.196.1">OTC markets</span></h2>
<p><span class="koboSpan" id="kobo.197.1">Farmers arrive at the market but do not reveal their goods at all. </span><span class="koboSpan" id="kobo.197.2">Buyers walk between them and ask </span><a id="_idIndexMarker123"/><span class="koboSpan" id="kobo.198.1">for the price. </span><span class="koboSpan" id="kobo.198.2">The farmer looks at the buyer and decides what price to offer based on the </span><span class="No-Break"><span class="koboSpan" id="kobo.199.1">buyer’s appearance.</span></span></p>
<p><span class="koboSpan" id="kobo.200.1">This scenario may sound truly ridiculous, but it gives a very good first impression of how an OTC </span><span class="No-Break"><span class="koboSpan" id="kobo.201.1">market works.</span></span></p>
<p><span class="koboSpan" id="kobo.202.1">As we saw previously, in the case of an exchange-traded market, all market participants at any moment know the </span><em class="italic"><span class="koboSpan" id="kobo.203.1">three </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.204.1">key prices</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.205.1">:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.206.1">Best bid</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.207.1">Best ask</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.208.1">Last trade</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.209.1">These prices are identical for everyone and the difference between professional and non-professional market participants is mostly in the latency of the data feed and some data compression (see </span><a href="B19145_01.xhtml#_idTextAnchor014"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.210.1">Chapter 1</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.211.1">, Developing Trading Strategies - Why They Are Different</span></em><span class="koboSpan" id="kobo.212.1">, for the </span><a id="_idIndexMarker124"/><span class="koboSpan" id="kobo.213.1">discussion on market data and related issues). </span><span class="koboSpan" id="kobo.213.2">So, in exchange-traded markets, these three prices are commonly called </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.214.1">market price</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.215.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.216.1">The term </span><em class="italic"><span class="koboSpan" id="kobo.217.1">OTC</span></em><span class="koboSpan" id="kobo.218.1"> means in the financial world that the contract can be made at virtually any price as long as this price satisfies the buyer and the seller – regardless of whatever price at which the previous contract </span><span class="No-Break"><span class="koboSpan" id="kobo.219.1">was made.</span></span></p>
<p><span class="koboSpan" id="kobo.220.1">In essence, this renders the very concept of market price meaningless to a considerable extent because not all of these prices are reported and made publicly available. </span><span class="koboSpan" id="kobo.220.2">Therefore, in OTC markets there is </span><a id="_idIndexMarker125"/><span class="koboSpan" id="kobo.221.1">no such thing as a public quotation (as is the case with exchange-traded markets) but instead, they use </span><em class="italic"><span class="koboSpan" id="kobo.222.1">indicative price</span></em><span class="koboSpan" id="kobo.223.1">, which is an </span><em class="italic"><span class="koboSpan" id="kobo.224.1">approximate</span></em><span class="koboSpan" id="kobo.225.1"> representation of the last traded price or a number of last </span><span class="No-Break"><span class="koboSpan" id="kobo.226.1">traded prices.</span></span></p>
<p><span class="koboSpan" id="kobo.227.1">At this point, I think it will be natural for you to ask, </span><em class="italic"><span class="koboSpan" id="kobo.228.1">“wow, but who uses these markets and why?”</span></em><span class="koboSpan" id="kobo.229.1"> The answer is very simple and can be found in the structure of the </span><span class="No-Break"><span class="koboSpan" id="kobo.230.1">exchange-traded market.</span></span></p>
<p><span class="koboSpan" id="kobo.231.1">As you hopefully remember from the previous section, any exchange-traded market is based on the order book. </span><span class="koboSpan" id="kobo.231.2">The number of orders in the order book forms liquidity in </span><span class="No-Break"><span class="koboSpan" id="kobo.232.1">this market.</span></span></p>
<p><span class="koboSpan" id="kobo.233.1">Now, imagine a situation when a really large market participant (such as a hedge fund, a mutual fund, an investment bank, and so on) comes in with a desire to buy a really large amount of an asset and the amount </span><em class="italic"><span class="koboSpan" id="kobo.234.1">exceeds the existing liquidity</span></em><span class="koboSpan" id="kobo.235.1">. </span><span class="koboSpan" id="kobo.235.2">Such an action would swipe the entire order book by moving the last trade price very far from the previous readings in a moment and even worse – leaving one side of the order book totally empty. </span><span class="koboSpan" id="kobo.235.3">Of course, this is a scenario that all market participants and the exchange itself would like </span><span class="No-Break"><span class="koboSpan" id="kobo.236.1">to avoid.</span></span></p>
<p><span class="koboSpan" id="kobo.237.1">So, here comes the OTC market. </span><span class="koboSpan" id="kobo.237.2">If you are a bank dealer, you can find the best price for your large order over your own network of contacts and do it privately, without too much fanfare </span><span class="No-Break"><span class="koboSpan" id="kobo.238.1">about it.</span></span></p>
<p><span class="koboSpan" id="kobo.239.1">Another important feature of OTC markets is that they are far less regulated than regular, exchange-traded markets. </span><span class="koboSpan" id="kobo.239.2">There were attempts to add regulation to these markets, the most remarkable probably being MiFID and MiFID II, but still, OTC markets are far more </span><em class="italic"><span class="koboSpan" id="kobo.240.1">relaxed</span></em><span class="koboSpan" id="kobo.241.1">. </span><span class="koboSpan" id="kobo.241.2">If you are interested in learning more about market regulations and how they impact pricing, liquidity, and overall trading, I would recommend starting with </span><a href="https://tokenist.com/investing/guide-to-forex-regulations-in-the-us/"><span class="koboSpan" id="kobo.242.1">https://tokenist.com/investing/guide-to-forex-regulations-in-the-us/</span></a><span class="koboSpan" id="kobo.243.1"> where the basics are explained. </span><span class="koboSpan" id="kobo.243.2">I would also recommend reading this interview with Phil Lloyd, head of trading and sales delivery at NatWest (</span><a href="https://www.natwest.com/corporates/insights/regulation/regulation-and-market-structure-what-to-look-out-for-in-2021.html"><span class="koboSpan" id="kobo.244.1">https://www.natwest.com/corporates/insights/regulation/regulation-and-market-structure-what-to-look-out-for-in-2021.html</span></a><span class="koboSpan" id="kobo.245.1">), who provides very interesting insights on global challenges, changes in regulations, and their relationships with </span><span class="No-Break"><span class="koboSpan" id="kobo.246.1">the market.</span></span></p>
<p><span class="koboSpan" id="kobo.247.1">Understanding the structure of OTC markets leads us to a number of very </span><span class="No-Break"><span class="koboSpan" id="kobo.248.1">important conclusions.</span></span></p>
<p><span class="koboSpan" id="kobo.249.1">First, OTC markets are ideal </span><a id="_idIndexMarker126"/><span class="koboSpan" id="kobo.250.1">for large-volume trades. </span><span class="koboSpan" id="kobo.250.2">If you are a small retail trader then trading at an OTC market would probably be problematic because of the arbitrary pricing – and you can be sure that small traders always get the worst possible execution for </span><span class="No-Break"><span class="koboSpan" id="kobo.251.1">their orders.</span></span></p>
<p><span class="koboSpan" id="kobo.252.1">Second, you cannot really know at which price your order will be executed if you send a market order (an order to buy </span><em class="italic"><span class="koboSpan" id="kobo.253.1">right now</span></em><span class="koboSpan" id="kobo.254.1">, regardless of the price). </span><span class="koboSpan" id="kobo.254.2">You won’t ever be able to argue about the price at which your trade </span><span class="No-Break"><span class="koboSpan" id="kobo.255.1">was made.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.256.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.257.1">As the immediate corollary from the aforementioned, you should always check the actual price at which your order was executed in your code and subtract a certain amount from the theoretical returns of your model while doing tests. </span><span class="koboSpan" id="kobo.257.2">This will make the theoretical results at least a tiny bit closer </span><span class="No-Break"><span class="koboSpan" id="kobo.258.1">to reality.</span></span></p>
<p><span class="koboSpan" id="kobo.259.1">The third, and probably the most counterintuitive conclusion is the fact that in an OTC market </span><em class="italic"><span class="koboSpan" id="kobo.260.1">there can be multiple different prices for the same financial instrument</span></em><span class="koboSpan" id="kobo.261.1">. </span><span class="koboSpan" id="kobo.261.2">It is normal that each liquidity provider, market maker, bank, fund, and any other market participant in such a market offers their own price for the same product and that these prices co-exist at the very same moment </span><span class="No-Break"><span class="koboSpan" id="kobo.262.1">in time.</span></span></p>
<p><span class="koboSpan" id="kobo.263.1">This market fragmentation can be exploited by </span><strong class="bold"><span class="koboSpan" id="kobo.264.1">arbitrage strategies</span></strong><span class="koboSpan" id="kobo.265.1">: strategies that look for </span><a id="_idIndexMarker127"/><span class="koboSpan" id="kobo.266.1">situations where the same instrument is quoted differently at different trading venues. </span><span class="koboSpan" id="kobo.266.2">They make </span><a id="_idIndexMarker128"/><span class="koboSpan" id="kobo.267.1">money by simultaneously buying and selling the same instrument at different trading venues in cases where the price difference </span><span class="No-Break"><span class="koboSpan" id="kobo.268.1">is sufficient.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.269.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.270.1">Arbitrage strategies can be developed and tested using Python but they cannot actually be run using it because arbitrage opportunities typically last for milliseconds. </span><span class="koboSpan" id="kobo.270.2">Production code for arbitrage strategies is normally written in C or C++, or by using Numba or Cython (see </span><a href="B19145_02.xhtml#_idTextAnchor028"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.271.1">Chapter 2</span></em></span></a><span class="koboSpan" id="kobo.272.1">, </span><em class="italic"><span class="koboSpan" id="kobo.273.1">Using Python for </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.274.1">Trading Strategies</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.275.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.276.1">Fourth, you can never, ever offer your own price in this market – unlike an exchange-traded market, where any order, even one contract received from a retail trader, goes into the </span><em class="italic"><span class="koboSpan" id="kobo.277.1">same order book</span></em><span class="koboSpan" id="kobo.278.1">, which is identical for everyone. </span><span class="koboSpan" id="kobo.278.2">You can only accept the price offered by </span><a id="_idIndexMarker129"/><span class="koboSpan" id="kobo.279.1">other market participants who have permission to </span><a id="_idIndexMarker130"/><span class="koboSpan" id="kobo.280.1">post prices into this market. </span><span class="koboSpan" id="kobo.280.2">These market participants are called </span><strong class="bold"><span class="koboSpan" id="kobo.281.1">liquidity providers</span></strong><span class="koboSpan" id="kobo.282.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.283.1">market makers</span></strong><span class="koboSpan" id="kobo.284.1"> (although it’s important to note </span><a id="_idIndexMarker131"/><span class="koboSpan" id="kobo.285.1">that these are not synonyms) and they are commonly known as </span><strong class="bold"><span class="koboSpan" id="kobo.286.1">price givers</span></strong><span class="koboSpan" id="kobo.287.1">, while retail traders (or any other trader who only accepts offered prices) are </span><a id="_idIndexMarker132"/><span class="koboSpan" id="kobo.288.1">known as </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.289.1">price takers</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.290.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.291.1">Finally, the worst news for us, the FX traders, is that about 90% of the FX market is traded OTC. </span><span class="koboSpan" id="kobo.291.2">So, we have to live with it and find the right solutions to survive in this quite </span><span class="No-Break"><span class="koboSpan" id="kobo.292.1">unfriendly environment.</span></span></p>
<h2 id="_idParaDest-52"><a id="_idTextAnchor051"/><span class="koboSpan" id="kobo.293.1">Liquidity and order limitations</span></h2>
<p><span class="koboSpan" id="kobo.294.1">A trading venue </span><a id="_idIndexMarker133"/><span class="koboSpan" id="kobo.295.1">in the financial world is not only a place where buyers meet sellers but they also trade under the supervision of the venue’s management. </span><span class="koboSpan" id="kobo.295.2">Thus, a traditional farmers’ market is not a financial trading venue in this regard, whereas a stock exchange definitely is. </span><span class="koboSpan" id="kobo.295.3">The key difference is that trading at a trading venue is always supervised or moderated. </span><span class="koboSpan" id="kobo.295.4">For example, if someone comes into a grocery market and offers to buy whatever produce the sellers have at the moment, most likely, the farmers will sell the produce and the market will close till next Sunday. </span><span class="koboSpan" id="kobo.295.5">If anything similar happens in the financial world, it would be a real disaster. </span><span class="koboSpan" id="kobo.295.6">So, the trading venue always moderates incoming orders, and if the requested trading size is too big, the order will be rejected (or, to be more precise, considered a </span><strong class="bold"><span class="koboSpan" id="kobo.296.1">block order</span></strong><span class="koboSpan" id="kobo.297.1"> and treated in a special way – see </span><a href="B19145_10.xhtml#_idTextAnchor171"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.298.1">Chapter 10</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.299.1">, Types of Orders and Their Simulation </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.300.1">in Python</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.301.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.302.1">Another possible issue with order execution is </span><em class="italic"><span class="koboSpan" id="kobo.303.1">partial fill</span></em><span class="koboSpan" id="kobo.304.1">. </span><span class="koboSpan" id="kobo.304.2">This happens when the liquidity in the order book is not sufficient to fill the entire order, so only part of the order is filled. </span><span class="koboSpan" id="kobo.304.3">Normally, you can explicitly specify the order type which decides whether the order is to be rejected or partially filled if the liquidity is not sufficient. </span><span class="koboSpan" id="kobo.304.4">In either case, you have to add an order execution control module to your trading application that handles, rejects, and partially </span><span class="No-Break"><span class="koboSpan" id="kobo.305.1">fills orders.</span></span></p>
<p><span class="koboSpan" id="kobo.306.1">Getting your order filled at a non-desired price is probably the last thing you may want to happen, and still, it is quite possible if you use market orders (remember, a market order means </span><em class="italic"><span class="koboSpan" id="kobo.307.1">“I want to buy/sell now, regardless of the price”</span></em><span class="koboSpan" id="kobo.308.1">). </span><span class="koboSpan" id="kobo.308.2">Now, you understand the reasons </span><a id="_idIndexMarker134"/><span class="koboSpan" id="kobo.309.1">why an order may be filled at an </span><em class="italic"><span class="koboSpan" id="kobo.310.1">unexpected</span></em><span class="koboSpan" id="kobo.311.1"> price – those same liquidity issues. </span><span class="koboSpan" id="kobo.311.2">So, in production, it is reasonable to consider using limit orders instead of market orders even if the strategy assumes buying and selling </span><span class="No-Break"><span class="koboSpan" id="kobo.312.1">at market.</span></span></p>
<p><span class="koboSpan" id="kobo.313.1">Ordering will be discussed in detail in </span><a href="B19145_10.xhtml#_idTextAnchor171"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.314.1">Chapter 10</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.315.1">, Types of Orders and Their Simulation </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.316.1">in Python</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.317.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.318.1">Now that we’ve got more or less familiar with the most general types of trading venues, it’s time we familiarized ourselves with their market participants. </span><span class="koboSpan" id="kobo.318.2">This will give us a better understanding of how trades are made and which risks to expect and avoid in </span><span class="No-Break"><span class="koboSpan" id="kobo.319.1">the market.</span></span></p>
<p><span class="koboSpan" id="kobo.320.1">But before we proceed to market participants, let’s learn some </span><span class="No-Break"><span class="koboSpan" id="kobo.321.1">new terms.</span></span></p>
<h1 id="_idParaDest-53"><a id="_idTextAnchor052"/><span class="koboSpan" id="kobo.322.1">Trade mechanics – again, some terminology</span></h1>
<p><span class="koboSpan" id="kobo.323.1">A trade is made when two </span><a id="_idIndexMarker135"/><span class="koboSpan" id="kobo.324.1">parties meet and agree to buy or sell from each other. </span><span class="koboSpan" id="kobo.324.2">These parties are </span><span class="No-Break"><span class="koboSpan" id="kobo.325.1">called </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.326.1">counterparties</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.327.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.328.1">If I buy 1 million euros for the equivalent in US dollars and the exchange rate is 1.1, then I paid 1.1 million US dollars to have </span><em class="italic"><span class="koboSpan" id="kobo.329.1">a position</span></em><span class="koboSpan" id="kobo.330.1"> of 1 million EURUSD. </span><span class="koboSpan" id="kobo.330.2">I am going to have this position until I sell back this amount of euros for the equivalent amount of US dollars and, therefore, </span><em class="italic"><span class="koboSpan" id="kobo.331.1">liquidate</span></em><span class="koboSpan" id="kobo.332.1"> my position and become </span><em class="italic"><span class="koboSpan" id="kobo.333.1">market neutral</span></em><span class="koboSpan" id="kobo.334.1"> again until I open a </span><span class="No-Break"><span class="koboSpan" id="kobo.335.1">new position.</span></span></p>
<p><span class="koboSpan" id="kobo.336.1">If I improve the asking price by sending an offer that is lower than the previous best offer, then I </span><em class="italic"><span class="koboSpan" id="kobo.337.1">provide liquidity</span></em><span class="koboSpan" id="kobo.338.1"> to </span><span class="No-Break"><span class="koboSpan" id="kobo.339.1">the market.</span></span></p>
<p><span class="koboSpan" id="kobo.340.1">If I simultaneously improve ask </span><em class="italic"><span class="koboSpan" id="kobo.341.1">and</span></em><span class="koboSpan" id="kobo.342.1"> bid, and other traders become counterparties for both, then I </span><em class="italic"><span class="koboSpan" id="kobo.343.1">make the market</span></em><span class="koboSpan" id="kobo.344.1">. </span><span class="koboSpan" id="kobo.344.2">Making the market means earning the spread (the difference between bid and offer) while remaining market neutral. </span><span class="koboSpan" id="kobo.344.3">The market participant </span><a id="_idIndexMarker136"/><span class="koboSpan" id="kobo.345.1">whose main business is making the market is called a </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.346.1">market maker</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.347.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.348.1">As opposed to making the market or being a </span><em class="italic"><span class="koboSpan" id="kobo.349.1">price giver</span></em><span class="koboSpan" id="kobo.350.1">, traders who take the other side of the trade are </span><em class="italic"><span class="koboSpan" id="kobo.351.1">price takers</span></em><span class="koboSpan" id="kobo.352.1">. </span><span class="koboSpan" id="kobo.352.2">Price takers can only buy or sell at the prices offered by price givers, and unlike price givers, price takers </span><em class="italic"><span class="koboSpan" id="kobo.353.1">always pay </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.354.1">the spread</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.355.1">.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.356.1">Important</span></p>
<p class="callout"><span class="koboSpan" id="kobo.357.1">If a price taker opens any position using a market order, the very moment the position is opened, its running profit is already in the </span><span class="No-Break"><span class="koboSpan" id="kobo.358.1">negative zone.</span></span></p>
<p><span class="koboSpan" id="kobo.359.1">This happens because, in most markets, offer prices are always greater than bid prices, and price takers can only buy at the offer price and sell at the bid price. </span><span class="koboSpan" id="kobo.359.2">Therefore, if you bought an asset, this means you paid the offer price. </span><span class="koboSpan" id="kobo.359.3">If you want to immediately liquidate your position, you can do that only at the bid price. </span><span class="koboSpan" id="kobo.359.4">If the market price hasn’t changed since the moment you entered the market, you will lose the difference between the bid and ask prices – which is the spread. </span><span class="koboSpan" id="kobo.359.5">That’s why we say that price takers always pay the spread to price givers, who in turn, earn </span><span class="No-Break"><span class="koboSpan" id="kobo.360.1">the spread.</span></span></p>
<p><span class="koboSpan" id="kobo.361.1">If I buy an asset then I have a </span><em class="italic"><span class="koboSpan" id="kobo.362.1">long</span></em><span class="koboSpan" id="kobo.363.1"> position. </span><span class="koboSpan" id="kobo.363.2">This term came from stock trading and means that you bought something and now hold it (normally, investors hold shares for a long time). </span><span class="koboSpan" id="kobo.363.3">If I sell an asset, and this sale was not liquidation of a previously opened long position, then I have a </span><em class="italic"><span class="koboSpan" id="kobo.364.1">short</span></em><span class="koboSpan" id="kobo.365.1"> position. </span><span class="koboSpan" id="kobo.365.2">Again, this term has the same origin and means that you sold something without previously </span><span class="No-Break"><span class="koboSpan" id="kobo.366.1">having it.</span></span></p>
<p><span class="koboSpan" id="kobo.367.1">You may wonder how it’s possible to sell something that you don’t own. </span><span class="koboSpan" id="kobo.367.2">Well, in financial markets it’s really easy. </span><span class="koboSpan" id="kobo.367.3">If we talk about equities trading then most brokers have an </span><em class="italic"><span class="koboSpan" id="kobo.368.1">inventory</span></em><span class="koboSpan" id="kobo.369.1"> of equities and traders can borrow from this inventory to sell. </span><span class="koboSpan" id="kobo.369.2">If the price of the asset sold this way goes down further, then the trader liquidates the position, returns the asset to the broker, and pockets some profit. </span><span class="koboSpan" id="kobo.369.3">If the price of the asset goes up then… well, the trader liquidates the position anyway, returns the asset to the broker, and pays the difference – which means pocketing a loss </span><span class="No-Break"><span class="koboSpan" id="kobo.370.1">this time.</span></span></p>
<p><span class="koboSpan" id="kobo.371.1">If I have a position, then my profit (or loss) is calculated as the difference between the price at which the position is liquidated and the price at which I bought it. </span><span class="koboSpan" id="kobo.371.2">If I opened a long position and the liquidation price is greater than the opening price then I made a profit; if it is lower then I suffer a loss. </span><span class="koboSpan" id="kobo.371.3">Symmetrically, for short positions: if the liquidation price is lower than the opening price then I made a profit, and </span><span class="No-Break"><span class="koboSpan" id="kobo.372.1">vice versa.</span></span></p>
<p><span class="koboSpan" id="kobo.373.1">As long as I have an open position, my </span><em class="italic"><span class="koboSpan" id="kobo.374.1">potential</span></em><span class="koboSpan" id="kobo.375.1"> profit or loss can be recalculated at any moment, even if the </span><a id="_idIndexMarker137"/><span class="koboSpan" id="kobo.376.1">position is not liquidated yet. </span><span class="koboSpan" id="kobo.376.2">This potential profit or loss is called </span><strong class="bold"><span class="koboSpan" id="kobo.377.1">running profit or loss</span></strong><span class="koboSpan" id="kobo.378.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.379.1">running PnL</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.380.1">or </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.381.1">P/L</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.382.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.383.1">To be able to send orders to the market, I either have to be a member of an exchange with direct access to the order book (which is quite expensive) or use the services of a third party that takes my </span><a id="_idIndexMarker138"/><span class="koboSpan" id="kobo.384.1">orders and brings them to the market. </span><span class="koboSpan" id="kobo.384.2">Such a third party is called </span><span class="No-Break"><span class="koboSpan" id="kobo.385.1">a </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.386.1">broker</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.387.1">.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.388.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.389.1">There is a lot of confusion between brokers and market makers in FX trading. </span><span class="koboSpan" id="kobo.389.2">Read the following sections carefully as we are going to clarify this confusion once and </span><span class="No-Break"><span class="koboSpan" id="kobo.390.1">for all.</span></span></p>
<p><span class="koboSpan" id="kobo.391.1">If I have $100 and the rate of the euro versus the US dollar is 1.1, then I can buy approximately €91. </span><span class="koboSpan" id="kobo.391.2">But if the broker provides me with a </span><strong class="bold"><span class="koboSpan" id="kobo.392.1">credit line</span></strong><span class="koboSpan" id="kobo.393.1">, then I can buy from €3,000 to €9,000, or </span><a id="_idIndexMarker139"/><span class="koboSpan" id="kobo.394.1">even more with just my $100. </span><span class="koboSpan" id="kobo.394.2">This credit line is called a </span><strong class="bold"><span class="koboSpan" id="kobo.395.1">margin</span></strong><span class="koboSpan" id="kobo.396.1"> and the ratio of how much I could buy without a margin to how much I can buy with a margin is called the </span><strong class="bold"><span class="koboSpan" id="kobo.397.1">leverage</span></strong><span class="koboSpan" id="kobo.398.1">. </span><span class="koboSpan" id="kobo.398.2">Normally, the leverage in the FX market is up to 30:1 for </span><a id="_idIndexMarker140"/><span class="koboSpan" id="kobo.399.1">non-professionals and 100:1 for </span><span class="No-Break"><span class="koboSpan" id="kobo.400.1">professional traders.</span></span></p>
<p><span class="koboSpan" id="kobo.401.1">If I opened a position on a margin and the market price moved against me to the extent that I have nothing in my trading account, then I would have entered a situation called a </span><strong class="bold"><span class="koboSpan" id="kobo.402.1">margin call</span></strong><span class="koboSpan" id="kobo.403.1">. </span><span class="koboSpan" id="kobo.403.2">Historically, this </span><a id="_idIndexMarker141"/><span class="koboSpan" id="kobo.404.1">meant that the broker would call the client asking to add funds to the account to maintain the position. </span><span class="koboSpan" id="kobo.404.2">Such a practice is difficult to find today, at least among retail brokers. </span><span class="koboSpan" id="kobo.404.3">Today, brokers prefer to just force close the positions that drive the client’s account into the negative zone because otherwise, it may cause problems not only for the client but also for </span><span class="No-Break"><span class="koboSpan" id="kobo.405.1">the broker.</span></span></p>
<p><span class="koboSpan" id="kobo.406.1">If I open a position on margin then the size of my position is called the </span><strong class="bold"><span class="koboSpan" id="kobo.407.1">notional amount</span></strong><span class="koboSpan" id="kobo.408.1">. </span><span class="koboSpan" id="kobo.408.2">This means </span><a id="_idIndexMarker142"/><span class="koboSpan" id="kobo.409.1">that I don’t actually possess €9,000 if I opened a long position in EURUSD with the $100 in my account and a leverage of 100:1. </span><span class="koboSpan" id="kobo.409.2">I have a notional position of €9,000, which I would have to liquidate before any </span><em class="italic"><span class="koboSpan" id="kobo.410.1">real</span></em><span class="koboSpan" id="kobo.411.1"> money condenses in (or thaws from) the </span><span class="No-Break"><span class="koboSpan" id="kobo.412.1">trading account.</span></span></p>
<p><span class="koboSpan" id="kobo.413.1">If I buy an asset directly, then it is an </span><strong class="bold"><span class="koboSpan" id="kobo.414.1">outright </span></strong><span class="koboSpan" id="kobo.415.1">asset. </span><span class="koboSpan" id="kobo.415.2">If I buy a financial instrument that gives me the right </span><a id="_idIndexMarker143"/><span class="koboSpan" id="kobo.416.1">or obliges me to buy or sell the asset in the future, then it is a </span><strong class="bold"><span class="koboSpan" id="kobo.417.1">derivative</span></strong><span class="koboSpan" id="kobo.418.1"> asset. </span><span class="koboSpan" id="kobo.418.2">In fact, derivatives can be much more sophisticated than this but </span><a id="_idIndexMarker144"/><span class="koboSpan" id="kobo.419.1">they are mostly available to only professional market participants. </span><span class="koboSpan" id="kobo.419.2">A discussion on derivatives is way beyond the scope of </span><span class="No-Break"><span class="koboSpan" id="kobo.420.1">this book.</span></span></p>
<p><span class="koboSpan" id="kobo.421.1">If I buy an </span><em class="italic"><span class="koboSpan" id="kobo.422.1">obligation to buy or sell the asset in the future at a certain price on a certain date,</span></em><span class="koboSpan" id="kobo.423.1"> then I am buying a </span><strong class="bold"><span class="koboSpan" id="kobo.424.1">future contract</span></strong><span class="koboSpan" id="kobo.425.1">, or simply a </span><strong class="bold"><span class="koboSpan" id="kobo.426.1">future</span></strong><span class="koboSpan" id="kobo.427.1">. </span><span class="koboSpan" id="kobo.427.2">The date is called an </span><strong class="bold"><span class="koboSpan" id="kobo.428.1">expiration date</span></strong><span class="koboSpan" id="kobo.429.1"> or simply an </span><strong class="bold"><span class="koboSpan" id="kobo.430.1">expiration</span></strong><span class="koboSpan" id="kobo.431.1">. </span><span class="koboSpan" id="kobo.431.2">For example, the current price of the asset is $10 but I may buy </span><a id="_idIndexMarker145"/><span class="koboSpan" id="kobo.432.1">a future that guarantees that its seller will sell me the same asset at $9 in a month, a quarter, or any other time span. </span><span class="koboSpan" id="kobo.432.2">Then, this month, quarter, or other time span is the expiration term of this future contract. </span><span class="koboSpan" id="kobo.432.3">In the case that the price of the asset itself is greater than $9 by its expiration, then I make money: the seller of the future is obliged to sell me the asset at $9 and I can immediately resell it at a higher price. </span><span class="koboSpan" id="kobo.432.4">If the price of the asset by the expiration is lower than $9, then I lost money as I now have the obligation to buy the asset at $9 anyway and I can do whatever I want with it (most likely sell and take </span><span class="No-Break"><span class="koboSpan" id="kobo.433.1">a loss).</span></span></p>
<p><span class="koboSpan" id="kobo.434.1">If I buy </span><a id="_idIndexMarker146"/><span class="koboSpan" id="kobo.435.1">the </span><em class="italic"><span class="koboSpan" id="kobo.436.1">right to buy or sell the asset in the future at a certain price</span></em><span class="koboSpan" id="kobo.437.1">, then I am buying an </span><strong class="bold"><span class="koboSpan" id="kobo.438.1">option</span></strong><span class="koboSpan" id="kobo.439.1">. </span><span class="koboSpan" id="kobo.439.2">Options trading is quite a complex subject and is not considered in </span><span class="No-Break"><span class="koboSpan" id="kobo.440.1">this book.</span></span></p>
<p><span class="koboSpan" id="kobo.441.1">That is enough on terminology. </span><span class="koboSpan" id="kobo.441.2">Now that we know all we need to learn about the key market participants, we need to know what they do and how we can actually participate in this market </span><span class="No-Break"><span class="koboSpan" id="kobo.442.1">as well.</span></span></p>
<h1 id="_idParaDest-54"><a id="_idTextAnchor053"/><span class="koboSpan" id="kobo.443.1">Market makers – comfortable, sophisticated, expensive</span></h1>
<p><span class="koboSpan" id="kobo.444.1">The term </span><em class="italic"><span class="koboSpan" id="kobo.445.1">market makers</span></em><span class="koboSpan" id="kobo.446.1"> actually </span><a id="_idIndexMarker147"/><span class="koboSpan" id="kobo.447.1">has two different meanings, although they lie quite close to </span><span class="No-Break"><span class="koboSpan" id="kobo.448.1">each other.</span></span></p>
<p><span class="koboSpan" id="kobo.449.1">In cases where both buyers and sellers need to meet each other at a single </span><em class="italic"><span class="koboSpan" id="kobo.450.1">marketplace</span></em><span class="koboSpan" id="kobo.451.1"> – which is an exchange in most cases, as we saw earlier – such a market is called a </span><strong class="bold"><span class="koboSpan" id="kobo.452.1">two-sided market</span></strong><span class="koboSpan" id="kobo.453.1">. </span><span class="koboSpan" id="kobo.453.2">In two-sided markets, market makers provide liquidity to the market and this activity will be </span><a id="_idIndexMarker148"/><span class="koboSpan" id="kobo.454.1">considered in the </span><em class="italic"><span class="koboSpan" id="kobo.455.1">Liquidity providers – the whales that support this </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.456.1">planet</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.457.1"> section.</span></span></p>
<p><span class="koboSpan" id="kobo.458.1">In OTC markets, the situation is different. </span><span class="koboSpan" id="kobo.458.2">In these markets, only dedicated market participants can publish their bids or offers, and in some cases, they are not published at all. </span><span class="koboSpan" id="kobo.458.3">So, finding a counterparty for your trade could potentially be even more complex than in a two-sided market, and given that the quoting is not public, you can get your orders executed at really surprising prices (and of course, it’s not going to be a </span><span class="No-Break"><span class="koboSpan" id="kobo.459.1">pleasant surprise).</span></span></p>
<p><span class="koboSpan" id="kobo.460.1">So, at this point, enter </span><a id="_idIndexMarker149"/><span class="koboSpan" id="kobo.461.1">the market makers. </span><span class="koboSpan" id="kobo.461.2">In OTC markets, market makers act both as liquidity providers and counterparties for their </span><span class="No-Break"><span class="koboSpan" id="kobo.462.1">own clients.</span></span></p>
<p><span class="koboSpan" id="kobo.463.1">What does </span><span class="No-Break"><span class="koboSpan" id="kobo.464.1">this mean?</span></span></p>
<h2 id="_idParaDest-55"><a id="_idTextAnchor054"/><span class="koboSpan" id="kobo.465.1">Counterparties that provide liquidity</span></h2>
<p><span class="koboSpan" id="kobo.466.1">If you come to an exchange, then your orders are visible to all other market participants and anyone can take the other side of the order. </span><span class="koboSpan" id="kobo.466.2">Say, you want to buy just one contract of a currency future – then you can actually buy it from a retail trader and from a large bank (but, most likely, you will never know who was the seller). </span><span class="koboSpan" id="kobo.466.3">But if you trade with a market maker, then it is this very market maker – and no one else – who will be the counterparty for all your orders. </span><span class="koboSpan" id="kobo.466.4">Only this market maker will always buy from you and sell </span><span class="No-Break"><span class="koboSpan" id="kobo.467.1">to you.</span></span></p>
<p><span class="koboSpan" id="kobo.468.1">It means that a market maker is a professional market participant who </span><em class="italic"><span class="koboSpan" id="kobo.469.1">quotes the market for their clients</span></em><span class="koboSpan" id="kobo.470.1">. </span><span class="koboSpan" id="kobo.470.2">These quotes are different for different clients and mostly depend on the trading volume of the client and their </span><span class="No-Break"><span class="koboSpan" id="kobo.471.1">order size.</span></span></p>
<h2 id="_idParaDest-56"><a id="_idTextAnchor055"/><span class="koboSpan" id="kobo.472.1">How do market makers make money?</span></h2>
<p><span class="koboSpan" id="kobo.473.1">Market makers are rewarded by earning the </span><em class="italic"><span class="koboSpan" id="kobo.474.1">spread</span></em><span class="koboSpan" id="kobo.475.1"> (the difference between the bid and the ask), and in this regard, their business is very similar to that of a liquidity provider. </span><span class="koboSpan" id="kobo.475.2">Market makers always sell at a price that is greater than the price at which they are ready to </span><a id="_idIndexMarker150"/><span class="koboSpan" id="kobo.476.1">buy. </span><span class="koboSpan" id="kobo.476.2">So in cases where there are multiple clients with this market marker that generate a constant </span><strong class="bold"><span class="koboSpan" id="kobo.477.1">order flow</span></strong><span class="koboSpan" id="kobo.478.1"> (stream of orders to buy and sell at virtually the same time), then our market maker buys and sells simultaneously, pocketing the difference between bids </span><span class="No-Break"><span class="koboSpan" id="kobo.479.1">and asks.</span></span></p>
<p><span class="koboSpan" id="kobo.480.1">As you can see, the source of profits for market makers is quite different from that of their clients. </span><span class="koboSpan" id="kobo.480.2">Market makers as </span><em class="italic"><span class="koboSpan" id="kobo.481.1">price givers</span></em><span class="koboSpan" id="kobo.482.1"> (see the </span><em class="italic"><span class="koboSpan" id="kobo.483.1">OTC markets</span></em><span class="koboSpan" id="kobo.484.1"> section) remain </span><em class="italic"><span class="koboSpan" id="kobo.485.1">market neutral, </span></em><span class="koboSpan" id="kobo.486.1">while their clients open and close </span><em class="italic"><span class="koboSpan" id="kobo.487.1">positions </span></em><span class="koboSpan" id="kobo.488.1">in the market due to situations when the clients have bought something but haven’t sold </span><span class="No-Break"><span class="koboSpan" id="kobo.489.1">it yet.</span></span></p>
<p><span class="koboSpan" id="kobo.490.1">However, the market maker from which I bought and then sold my position to has remained market neutral while I had a position because they have multiple clients and, most likely, at the very same moment when I was buying 1 million EURUSD from the market maker, another client was selling 1 million EURUSD to them. </span><span class="koboSpan" id="kobo.490.2">So, the market maker earned the spread and I and another unknown trader went away with two positions: I had a long position and the unknown trader had a </span><span class="No-Break"><span class="koboSpan" id="kobo.491.1">short position.</span></span></p>
<p><span class="koboSpan" id="kobo.492.1">It looks like a free lunch (for market makers, of course) and an unfair advantage (again, for market makers), but in reality, this is just another risky business – as everything in the world of trading is. </span><span class="koboSpan" id="kobo.492.2">Imagine a situation where someone bought from a market maker, but no one sold. </span><span class="koboSpan" id="kobo.492.3">Now, imagine that this happens once and then happens very quickly again. </span><span class="koboSpan" id="kobo.492.4">Such a scenario can easily develop when most traders think the price is going to move in a certain direction and they begin buying or selling massively. </span><span class="koboSpan" id="kobo.492.5">For the market maker, it </span><a id="_idIndexMarker151"/><span class="koboSpan" id="kobo.493.1">means that they no longer earn the spread. </span><span class="koboSpan" id="kobo.493.2">Even worse, in such a situation, the market maker holds an open position in the market – instead of being market neutral – and becomes a trader with their PnL now depending on the price movement! </span><span class="koboSpan" id="kobo.493.3">Moreover, this position immediately creates a floating loss for the market maker (floating means that the position is not liquidated yet, so the loss may decrease or further increase with each new tick). </span><span class="koboSpan" id="kobo.493.4">Of course, market makers don’t like having positions and, therefore, they </span><span class="No-Break"><span class="koboSpan" id="kobo.494.1">protect themselves.</span></span></p>
<h2 id="_idParaDest-57"><a id="_idTextAnchor056"/><span class="koboSpan" id="kobo.495.1">Market risk and how market makers mitigate it</span></h2>
<p><span class="koboSpan" id="kobo.496.1">There are two essential </span><a id="_idIndexMarker152"/><span class="koboSpan" id="kobo.497.1">options for a market maker to mitigate their </span><span class="No-Break"><span class="koboSpan" id="kobo.498.1">market risks.</span></span></p>
<p><span class="koboSpan" id="kobo.499.1">First, market makers can hedge their net position elsewhere. </span><span class="koboSpan" id="kobo.499.2">To better understand it, let’s consider </span><span class="No-Break"><span class="koboSpan" id="kobo.500.1">an example.</span></span></p>
<p><span class="koboSpan" id="kobo.501.1">On average, during the so-called normal market hours, the amount of open long and short positions is more or less the same. </span><span class="koboSpan" id="kobo.501.2">As we already know, there’s not much publicly available data from OTC markets in general and the FX market in particular, but even from public sources, we can see that this statement is very close to reality. </span><span class="koboSpan" id="kobo.501.3">For example, FXSSI has nice tools which visualize traders’ sentiment, the ratios of open long and short positions, and </span><a id="_idIndexMarker153"/><span class="koboSpan" id="kobo.502.1">snapshots of the depth of the market. </span><span class="koboSpan" id="kobo.502.2">You can find these tools at </span><a href="https://fxssi.com/tools/"><span class="koboSpan" id="kobo.503.1">https://fxssi.com/tools/</span></a><span class="koboSpan" id="kobo.504.1"> and can check them out yourself. </span><span class="koboSpan" id="kobo.504.2">Pay particular attention to the open position ratios (</span><a href="https://fxssi.com/tools/ratios"><span class="koboSpan" id="kobo.505.1">https://fxssi.com/tools/ratios</span></a><span class="koboSpan" id="kobo.506.1">). </span><span class="koboSpan" id="kobo.506.2">These charts report positions from a number of trading venues and it is clearly seen that the larger the client base of a trading venue, the more linear the chart of the ratio of the open positions. </span><span class="koboSpan" id="kobo.506.3">This essentially means that the ratio doesn’t change significantly over time and that newly opened long positions are in balance with newly opened </span><span class="No-Break"><span class="koboSpan" id="kobo.507.1">short ones.</span></span></p>
<p><span class="koboSpan" id="kobo.508.1">If we sum up all long positions and subtract from this the amount of all short positions currently </span><a id="_idIndexMarker154"/><span class="koboSpan" id="kobo.509.1">opened with this market maker, then we get the so-called </span><strong class="bold"><span class="koboSpan" id="kobo.510.1">net position</span></strong><span class="koboSpan" id="kobo.511.1"> of this market maker. </span><span class="koboSpan" id="kobo.511.2">Under normal market conditions, and given </span><a id="_idIndexMarker155"/><span class="koboSpan" id="kobo.512.1">the market maker has a sufficient number of clients, this net position is always close </span><span class="No-Break"><span class="koboSpan" id="kobo.513.1">to zero.</span></span></p>
<p><span class="koboSpan" id="kobo.514.1">If there’s panic in the market, or if due to whatever reason most traders begin to open more long positions than short (or vice versa), or just a single but very large trader opens a very large position, then the market maker’s net position is substantially greater than zero. </span><span class="koboSpan" id="kobo.514.2">In this case, the market maker opens another position that equals their own net position, but in the opposite direction. </span><span class="koboSpan" id="kobo.514.3">Say the market maker has a client’s net position of 1 million long, then the market maker opens a position of 1 million short. </span><span class="koboSpan" id="kobo.514.4">In this case, the market maker remains </span><span class="No-Break"><span class="koboSpan" id="kobo.515.1">market neutral.</span></span></p>
<p><span class="koboSpan" id="kobo.516.1">You may wonder how a market maker can open a position themselves. </span><span class="koboSpan" id="kobo.516.2">This is possible because OTC markets are very fragmented and there are many large and small market participants who may or may not be directly connected. </span><span class="koboSpan" id="kobo.516.3">For example, a market maker can easily access liquidity provided by large banks and, therefore, hedge their net positions there, but their clients, retail traders, are really unlikely to access </span><span class="No-Break"><span class="koboSpan" id="kobo.517.1">the same.</span></span></p>
<p><span class="koboSpan" id="kobo.518.1">The second thing market makers can do to protect themselves is to increase the spread. </span><span class="koboSpan" id="kobo.518.2">As you’ll remember, in an OTC market, the spread is not determined by all market participants as there’s no such thing as a centralized exchange and a single order book. </span><span class="koboSpan" id="kobo.518.3">Instead, any price giver can offer their own price, and market makers are no exception. </span><span class="koboSpan" id="kobo.518.4">Normally, a market maker has access to better bid and ask prices than what they offer to their clients. </span><span class="koboSpan" id="kobo.518.5">In this sense, market makers act as retailers, buying wholesale liquidity at lower prices and re-selling it to retail at </span><span class="No-Break"><span class="koboSpan" id="kobo.519.1">higher prices.</span></span></p>
<p><span class="koboSpan" id="kobo.520.1">Of course, wide spreads are not good for traders in general. </span><span class="koboSpan" id="kobo.520.2">However, there are several reasons that we will discuss closer to the end of this section that may make us consider wider spreads as extra costs of trading that we pay to get </span><span class="No-Break"><span class="koboSpan" id="kobo.521.1">some benefits.</span></span></p>
<p><span class="koboSpan" id="kobo.522.1">Now, we have come to the very point that causes a lot of criticism </span><span class="No-Break"><span class="koboSpan" id="kobo.523.1">from traders.</span></span></p>
<p><span class="koboSpan" id="kobo.524.1">The point is that in an OTC market, where price discovery is not uniform and prices of the same asset differ from one trading venue to another, one price giver to another, and especially in weakly regulated OTC markets, it is quite possible for a market maker to play tricks against their </span><span class="No-Break"><span class="koboSpan" id="kobo.525.1">own clients.</span></span></p>
<p><span class="koboSpan" id="kobo.526.1">This behavior (or, rather, misbehavior) was especially widespread in the early 2000s when forex was only becoming more and more popular. </span><span class="koboSpan" id="kobo.526.2">A lot of market makers who called themselves </span><em class="italic"><span class="koboSpan" id="kobo.527.1">brokers</span></em><span class="koboSpan" id="kobo.528.1"> appeared, offering trading at ridiculous leverage such as 200:1, 500:1, and even 1000:1, promising to </span><em class="italic"><span class="koboSpan" id="kobo.529.1">open client positions in real forex</span></em><span class="koboSpan" id="kobo.530.1"> and accepting negligibly </span><a id="_idIndexMarker156"/><span class="koboSpan" id="kobo.531.1">small accounts of $100, $10, and even $1. </span><span class="koboSpan" id="kobo.531.2">The main source of income for those market makers was not the spread but rather the accounts of their clients because, under such extremely risky conditions, more than 80% of their clients completely lost their money in less than </span><span class="No-Break"><span class="koboSpan" id="kobo.532.1">a month.</span></span></p>
<p><span class="koboSpan" id="kobo.533.1">Obviously, a consistently winning client was a disaster for such a market maker. </span><span class="koboSpan" id="kobo.533.2">Any position liquidated with a profit was a direct loss for such a business. </span><span class="koboSpan" id="kobo.533.3">Therefore, quite often, market makers of this sort started playing against their own clients by giving them worse quotes and even rejecting their orders without any serious reason. </span><span class="koboSpan" id="kobo.533.4">Their only goal was to make trading for a successful trader so uncomfortable that they would prefer to close the account and try their </span><span class="No-Break"><span class="koboSpan" id="kobo.534.1">luck elsewhere.</span></span></p>
<p><span class="koboSpan" id="kobo.535.1">Is this unfair and </span><span class="No-Break"><span class="koboSpan" id="kobo.536.1">nasty behavior?</span></span></p>
<p><span class="No-Break"><span class="koboSpan" id="kobo.537.1">Of course.</span></span></p>
<p><span class="koboSpan" id="kobo.538.1">Is trading with market makers the only way for retail and institutional traders to trade on the </span><span class="No-Break"><span class="koboSpan" id="kobo.539.1">FX market?</span></span></p>
<p><span class="koboSpan" id="kobo.540.1">No, there are alternatives and we are going to discuss them later in </span><span class="No-Break"><span class="koboSpan" id="kobo.541.1">this chapter.</span></span></p>
<p><span class="koboSpan" id="kobo.542.1">But what is the reason to trade with market </span><span class="No-Break"><span class="koboSpan" id="kobo.543.1">makers, then?</span></span></p>
<p><span class="koboSpan" id="kobo.544.1">Well, there is more than one reason and all of them are </span><span class="No-Break"><span class="koboSpan" id="kobo.545.1">quite solid.</span></span></p>
<h2 id="_idParaDest-58"><a id="_idTextAnchor057"/><span class="koboSpan" id="kobo.546.1">Reasons to trade with market makers</span></h2>
<p><span class="koboSpan" id="kobo.547.1">First, regulations have improved since the early days of retail FX trading, and today such (mis)behavior is almost not possible for a regulated </span><span class="No-Break"><span class="koboSpan" id="kobo.548.1">market maker.</span></span></p>
<p><span class="koboSpan" id="kobo.549.1">Moreover, regulations require that market makers explicitly call themselves market makers and brokers </span><a id="_idIndexMarker157"/><span class="koboSpan" id="kobo.550.1">explicitly call themselves brokers. </span><span class="koboSpan" id="kobo.550.2">This puts an end to almost two decades of confusion between the two, which cost the reputations of many fair businesses and the FX market itself, at least in the eyes of </span><span class="No-Break"><span class="koboSpan" id="kobo.551.1">retail traders.</span></span></p>
<p><span class="koboSpan" id="kobo.552.1">Second, regulated market makers are required by regulators to maintain liquidity and quote the market virtually at any moment, even if there’s panic in the market. </span><span class="koboSpan" id="kobo.552.2">This means that you can open or liquidate a position any time you want and this is quite the opposite of how you can open or close positions at an exchange. </span><span class="koboSpan" id="kobo.552.3">Advanced traders can even take advantage of this, placing trades before or after important economical news is released and liquidity quickly evaporates from the market and prices may differ from one trading venue to another very significantly – which opens excellent opportunities for arbitrage trading. </span><span class="koboSpan" id="kobo.552.4">We will consider arbitrage in various forms in </span><a href="B19145_09.xhtml#_idTextAnchor152"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.553.1">Chapter 9</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.554.1">, Trading Strategies and their </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.555.1">Core Elements</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.556.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.557.1">To be able to survive even the most disastrous price movements, regulators require that market makers have sufficient capital. </span><span class="koboSpan" id="kobo.557.2">The now famous </span><strong class="bold"><span class="koboSpan" id="kobo.558.1">currency crash</span></strong><span class="koboSpan" id="kobo.559.1"> when the Swiss franc appreciated almost twice against the euro in a few minutes in 2015 clearly showed which market makers met the regulatory requirements: they are still in business while others were swept away. </span><span class="koboSpan" id="kobo.559.2">If you are interested in learning more about what happened on January 15, 2015, I’d recommend reading this article (</span><a href="https://fbs.com/analytics/news/5-years-aninversary-of-the-notorious-eurchf-usdchf-crash-7595"><span class="koboSpan" id="kobo.560.1">https://fbs.com/analytics/news/5-years-aninversary-of-the-notorious-eurchf-usdchf-crash-7595</span></a><span class="koboSpan" id="kobo.561.1">) that focuses more on the macro-economical side of the event, or this article (</span><a href="https://fxssi.com/swiss-franc-15-january-2015"><span class="koboSpan" id="kobo.562.1">https://fxssi.com/swiss-franc-15-january-2015</span></a><span class="koboSpan" id="kobo.563.1">) that looks at the sequence of events from a more </span><span class="No-Break"><span class="koboSpan" id="kobo.564.1">technical standpoint.</span></span></p>
<p><span class="koboSpan" id="kobo.565.1">Third, market makers are excellent for large-volume traders. </span><span class="koboSpan" id="kobo.565.2">If you need to fill orders that exceed typical liquidity presently in the order book, you have only two options: to split your order into parts and fill them one by one (without any guarantee that the price remains the same during the process) or ask your market maker for a quote and fill the entire amount in a single chunk. </span><span class="koboSpan" id="kobo.565.3">Quite an advantage, </span><span class="No-Break"><span class="koboSpan" id="kobo.566.1">isn’t it?</span></span></p>
<p><span class="koboSpan" id="kobo.567.1">Fourth, market makers often offer products that are really hard to find in any two-sided market. </span><span class="koboSpan" id="kobo.567.2">A good example could be binary options (contracts with </span><em class="italic"><span class="koboSpan" id="kobo.568.1">all-or-nothing</span></em><span class="koboSpan" id="kobo.569.1"> outcomes depending on whether a certain event happens or not, quite similar to betting) or structured products (for example, a mix of fixed income, currency, and equities traded as one </span><span class="No-Break"><span class="koboSpan" id="kobo.570.1">single contract).</span></span></p>
<p><span class="koboSpan" id="kobo.571.1">Lastly, market makers can offer derivatives that are priced very closely to the underlying asset but are not technically considered as the asset itself. </span><span class="koboSpan" id="kobo.571.2">One of the most well-known derivatives is </span><strong class="bold"><span class="koboSpan" id="kobo.572.1">contracts for difference</span></strong><span class="koboSpan" id="kobo.573.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.574.1">CFDs</span></strong><span class="koboSpan" id="kobo.575.1">) — a contract that you make with the market maker </span><a id="_idIndexMarker158"/><span class="koboSpan" id="kobo.576.1">and according to which the market maker is obliged to pay you the difference if you purchased the contract and the price of the underlying asset went higher (or if you sold the contract and the price of the asset went lower). </span><span class="koboSpan" id="kobo.576.2">So, a CFD typically works as a proxy for the asset. </span><span class="koboSpan" id="kobo.576.3">The reason for using CFDs instead of </span><a id="_idIndexMarker159"/><span class="koboSpan" id="kobo.577.1">the underlying asset is that in certain jurisdictions, any income from CFD trading is not taxed at all. </span><span class="koboSpan" id="kobo.577.2">Isn’t it a good reason to consider trading with a reputable regulated </span><span class="No-Break"><span class="koboSpan" id="kobo.578.1">market maker?</span></span></p>
<p><span class="koboSpan" id="kobo.579.1">Of course, market makers are not the only important market participants in the FX market. </span><span class="koboSpan" id="kobo.579.2">Let’s get to know another no less important type of </span><span class="No-Break"><span class="koboSpan" id="kobo.580.1">market participant.</span></span></p>
<h1 id="_idParaDest-59"><a id="_idTextAnchor058"/><span class="koboSpan" id="kobo.581.1">Liquidity providers – the whales that support this planet</span></h1>
<p><span class="koboSpan" id="kobo.582.1">In the previous section, we already noted that some activities of market makers are similar to those of </span><strong class="bold"><span class="koboSpan" id="kobo.583.1">liquidity providers </span></strong><span class="koboSpan" id="kobo.584.1">(</span><strong class="bold"><span class="koboSpan" id="kobo.585.1">LPs</span></strong><span class="koboSpan" id="kobo.586.1">). </span><span class="koboSpan" id="kobo.586.2">An LP is a market participant whose business is to </span><a id="_idIndexMarker160"/><span class="koboSpan" id="kobo.587.1">earn the spread by providing liquidity to the market, that is, always maintaining orders to buy or sell on both sides of the order book at the same time. </span><span class="koboSpan" id="kobo.587.2">Therefore, as in the case of market makers, LPs act as price givers earning </span><span class="No-Break"><span class="koboSpan" id="kobo.588.1">the spread.</span></span></p>
<p><span class="koboSpan" id="kobo.589.1">In two-sided exchange-traded markets, it’s hard to tell the difference between a market maker and a liquidity provider. </span><span class="koboSpan" id="kobo.589.2">However, in OTC markets it </span><span class="No-Break"><span class="koboSpan" id="kobo.590.1">becomes fundamental.</span></span></p>
<p><span class="koboSpan" id="kobo.591.1">In an OTC market, a market maker is an entity that has its own clients and quotes the market for them. </span><span class="koboSpan" id="kobo.591.2">A liquidity provider normally does have clients which trade directly with them, regardless </span><a id="_idIndexMarker161"/><span class="koboSpan" id="kobo.592.1">of whether it’s a small retail client or a large fund. </span><span class="koboSpan" id="kobo.592.2">LPs only provide liquidity to an order book – or multiple order books – as OTC markets are very fragmented and there are multiple trading venues for the same financial instrument (see the </span><em class="italic"><span class="koboSpan" id="kobo.593.1">OTC markets</span></em><span class="koboSpan" id="kobo.594.1"> section). </span><span class="koboSpan" id="kobo.594.2">So, a typical LP’s clients are banks, ECNs, </span><span class="No-Break"><span class="koboSpan" id="kobo.595.1">and brokers.</span></span></p>
<p><span class="koboSpan" id="kobo.596.1">Many traders think that LPs are </span><em class="italic"><span class="koboSpan" id="kobo.597.1">parasites</span></em><span class="koboSpan" id="kobo.598.1"> of the market and that without them, pricing would be more transparent, the execution of their orders would be better, and eventually, they would have made more money (or, rather, would make money instead of losing it). </span><span class="koboSpan" id="kobo.598.2">This is a common delusion and we will </span><span class="No-Break"><span class="koboSpan" id="kobo.599.1">explore why.</span></span></p>
<p><span class="koboSpan" id="kobo.600.1">Do you remember the typical order book that we saw in the </span><em class="italic"><span class="koboSpan" id="kobo.601.1">Exchange and order book </span></em><span class="koboSpan" id="kobo.602.1">section? </span><span class="koboSpan" id="kobo.602.2">It clearly shows the liquidity currently present in the market. </span><span class="koboSpan" id="kobo.602.3">In that particular example, each price level lists a few hundred orders, which is in fact not much for a large market. </span><span class="koboSpan" id="kobo.602.4">Now, what happens if a large order, say, to buy a couple of thousand contracts, hits </span><span class="No-Break"><span class="koboSpan" id="kobo.603.1">the market?</span></span></p>
<p><span class="koboSpan" id="kobo.604.1">Such an order will immediately swipe the order book, buying out all offers first from the best ask price level, then the next price level, then the next, and the next, pushing the price up, higher and higher. </span><span class="koboSpan" id="kobo.604.2">All this would happen in a fraction of a millisecond so other market participants wouldn’t have time </span><span class="No-Break"><span class="koboSpan" id="kobo.605.1">to react.</span></span></p>
<p><span class="koboSpan" id="kobo.606.1">On the contrary, if there is sufficient liquidity in the order book then price movements become more moderate as it becomes more difficult to push the price up or down by any </span><span class="No-Break"><span class="koboSpan" id="kobo.607.1">significant distance.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.608.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.609.1">So LPs play a very important role in OTC markets: they facilitate trading in large volume – and not only to large traders but for any buy-side traders, </span><span class="No-Break"><span class="koboSpan" id="kobo.610.1">including retail.</span></span></p>
<p><span class="koboSpan" id="kobo.611.1">At the same time, LPs make the life of speculators more difficult because the greater the liquidity in the market, the smaller the price movements, and the more difficult it is to profit from buy-side speculations based on the ancient principle, </span><em class="italic"><span class="koboSpan" id="kobo.612.1">buy low, </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.613.1">sell high</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.614.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.615.1">Every speculative trader must understand that markets were not invented for speculation. </span><span class="koboSpan" id="kobo.615.2">The purpose of </span><a id="_idIndexMarker162"/><span class="koboSpan" id="kobo.616.1">any financial market is to facilitate the exchange of goods or money and to find the best price for them. </span><span class="koboSpan" id="kobo.616.2">The fact that it is possible to make money by speculation is only a side effect and not the purpose of the </span><span class="No-Break"><span class="koboSpan" id="kobo.617.1">market itself.</span></span></p>
<h2 id="_idParaDest-60"><a id="_idTextAnchor059"/><span class="koboSpan" id="kobo.618.1">Liquidity and volatility – how one transforms into another</span></h2>
<p><span class="koboSpan" id="kobo.619.1">As the number of LPs grows, the market price becomes less and less </span><strong class="bold"><span class="koboSpan" id="kobo.620.1">volatile</span></strong><span class="koboSpan" id="kobo.621.1">. </span><span class="koboSpan" id="kobo.621.2">Volatility is one of the key metrics of both the market price and the returns of a trading strategy. </span><span class="koboSpan" id="kobo.621.3">In simple terms, volatility means ease of price movement: greater volatility means that the price is expected </span><a id="_idIndexMarker163"/><span class="koboSpan" id="kobo.622.1">to jump up and down at a greater distance within the same period of time, while lower volatility means that the price is </span><strong class="bold"><span class="koboSpan" id="kobo.623.1">not</span></strong><span class="koboSpan" id="kobo.624.1"> expected to move to any significant distance within the same period of time. </span><span class="koboSpan" id="kobo.624.2">There are many methodologies to measure volatility </span><a id="_idIndexMarker164"/><span class="koboSpan" id="kobo.625.1">and the subject itself is quite complex and multifaceted (there is even a special term </span><strong class="bold"><span class="koboSpan" id="kobo.626.1">volatility trading</span></strong><span class="koboSpan" id="kobo.627.1">) but this lies beyond the scope of this </span><a id="_idIndexMarker165"/><span class="koboSpan" id="kobo.628.1">book. </span><span class="koboSpan" id="kobo.628.2">For now, it is sufficient to remember that volatility means how easily a price can move in </span><span class="No-Break"><span class="koboSpan" id="kobo.629.1">any direction.</span></span></p>
<p><span class="koboSpan" id="kobo.630.1">We can illustrate volatility by calculating the difference between the highest price and the lowest price for a fixed period of time and plotting it as a histogram. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.631.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.632.1">.3</span></em><span class="koboSpan" id="kobo.633.1"> shows such a plot for the euro versus the US dollar, sampled at </span><span class="No-Break"><span class="koboSpan" id="kobo.634.1">one-minute intervals:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer014">
<span class="koboSpan" id="kobo.635.1"><img alt="Figure 3.3 – A simple representation of intraday volatility (chart by MultiCharts)" src="image/B19145_3_3.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.636.1">Figure 3.3 – A simple representation of intraday volatility (chart by MultiCharts)</span></p>
<p><span class="koboSpan" id="kobo.637.1">In this illustration, we can clearly see that </span><strong class="bold"><span class="koboSpan" id="kobo.638.1">intraday</span></strong><span class="koboSpan" id="kobo.639.1"> volatility (the one measured for sampling rate less than 24 hours) in this market is cyclic and that it is always lower during nighttime. </span><span class="koboSpan" id="kobo.639.2">This is </span><a id="_idIndexMarker166"/><span class="koboSpan" id="kobo.640.1">quite natural as most of the large market participants trade during normal </span><span class="No-Break"><span class="koboSpan" id="kobo.641.1">business hours.</span></span></p>
<p><span class="koboSpan" id="kobo.642.1">This illustration, however, does not give us an idea about how LPs affect volatility. </span><span class="koboSpan" id="kobo.642.2">In order to see this effect, we </span><a id="_idIndexMarker167"/><span class="koboSpan" id="kobo.643.1">need to look at a much bigger picture. </span><span class="koboSpan" id="kobo.643.2">Let’s plot the same representation </span><a id="_idIndexMarker168"/><span class="koboSpan" id="kobo.644.1">of volatility for daily time intervals and look into its history back to the beginning of the 21st century. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.645.1">Figure 3</span></em></span><em class="italic"><span class="koboSpan" id="kobo.646.1">.4</span></em><span class="koboSpan" id="kobo.647.1"> shows such a volatility chart for the euro versus the </span><span class="No-Break"><span class="koboSpan" id="kobo.648.1">US dollar:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer015">
<span class="koboSpan" id="kobo.649.1"><img alt="Figure 3.4 – Daily volatility, EURUSD (chart by MultiCharts)" src="image/B19145_3_4.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.650.1">Figure 3.4 – Daily volatility, EURUSD (chart by MultiCharts)</span></p>
<p><span class="koboSpan" id="kobo.651.1">In this illustration, we can see multi-year cycles that start with a financial crisis (clearly seen as an increase in daily volatility) and the following continuous decline in volatility that lasts for </span><span class="No-Break"><span class="koboSpan" id="kobo.652.1">4-5 years.</span></span></p>
<p><span class="koboSpan" id="kobo.653.1">One of the possible </span><a id="_idIndexMarker169"/><span class="koboSpan" id="kobo.654.1">explanations for this phenomenon is that during crisis time, LPs and </span><a id="_idIndexMarker170"/><span class="koboSpan" id="kobo.655.1">market makers are the first to suffer from a sharp increase in demand or supply as they are obliged to maintain liquidity in the market. </span><span class="koboSpan" id="kobo.655.2">So, after the initial series of big losses for the sell side and margin calls among the buy side, LPs review their risk metrics and start to withdraw liquidity from the market. </span><span class="koboSpan" id="kobo.655.3">We already know that when liquidity goes down volatility goes up; this is what we, the traders, observe as sharp price movements and the rest of the world calls a </span><em class="italic"><span class="koboSpan" id="kobo.656.1">crisis</span></em><span class="koboSpan" id="kobo.657.1"> or </span><span class="No-Break"><span class="koboSpan" id="kobo.658.1">a </span></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.659.1">catastrophe</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.660.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.661.1">So, all in all, LPs and market makers do a very important job of keeping the market together and ensuring its efficiency – the ability to buy or sell any quantity of the asset at </span><span class="No-Break"><span class="koboSpan" id="kobo.662.1">any time.</span></span></p>
<p><span class="koboSpan" id="kobo.663.1">We have gotten acquainted with the two most important sell-side market participants and we already know that there are many buy-side market participants including ourselves. </span><span class="koboSpan" id="kobo.663.2">But how do we all find each other? </span><span class="koboSpan" id="kobo.663.3">Where are all our orders sent to and how are </span><span class="No-Break"><span class="koboSpan" id="kobo.664.1">they matched?</span></span></p>
<h1 id="_idParaDest-61"><a id="_idTextAnchor060"/><span class="koboSpan" id="kobo.665.1">ECN – looks like a fair game, but is it?</span></h1>
<p><span class="koboSpan" id="kobo.666.1">When I speak about the structure of OTC markets, especially the fact that prices in them are offered by </span><a id="_idIndexMarker171"/><span class="koboSpan" id="kobo.667.1">just select market participants and can vary significantly for different buy-side clients, many traders say, </span><em class="italic"><span class="koboSpan" id="kobo.668.1">“This is not fair! </span><span class="koboSpan" id="kobo.668.2">Why won’t FX work in the same manner as other regulated markets with centralized exchanges where anyone can improve </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.669.1">the price?”</span></em></span></p>
<p><span class="koboSpan" id="kobo.670.1">There is no single and simple answer to </span><span class="No-Break"><span class="koboSpan" id="kobo.671.1">this question.</span></span></p>
<p><span class="koboSpan" id="kobo.672.1">First, the FX market trades money for money and not any asset for money. </span><span class="koboSpan" id="kobo.672.2">Its original purpose was to facilitate currency exchange rather than speculative trading with various financial instruments. </span><span class="koboSpan" id="kobo.672.3">And (fortunately!) we don’t have to go to an exchange to just get some British pounds for euros or Indian rupees for US dollars. </span><span class="koboSpan" id="kobo.672.4">Therefore, OTC trades are quite natural for this purpose and a currency exchange shop is an excellent example of </span><span class="No-Break"><span class="koboSpan" id="kobo.673.1">trading OTC.</span></span></p>
<p><span class="koboSpan" id="kobo.674.1">Second, the FX market consists of multiple financial instruments that are quite flexible in their specifications. </span><span class="koboSpan" id="kobo.674.2">For example, cash constitutes only a small fraction of this market, while forward contracts make up to 50% of its daily turnover. </span><span class="koboSpan" id="kobo.674.3">These forward contracts can be made directly between banks and other market participants without any need for an exchange. </span><span class="koboSpan" id="kobo.674.4">We will look into the FX instruments a bit later in this chapter, in the </span><em class="italic"><span class="koboSpan" id="kobo.675.1">FX </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.676.1">instruments</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.677.1"> section.</span></span></p>
<p><span class="koboSpan" id="kobo.678.1">However, as time went on and markets became more and more computerized, traders thought such a market design was not fair enough. </span><span class="koboSpan" id="kobo.678.2">Many professional buy-side traders along with market makers, LPs, and brokers thought the same. </span><span class="koboSpan" id="kobo.678.3">Buy-side traders sought better, more efficient ways to find the best price in the market rather than just calling multiple banks on the phone and talking to desk dealers. </span><span class="koboSpan" id="kobo.678.4">Sell-side traders were keen on providing the best bid and ask prices because this increases the chance to make money earning </span><span class="No-Break"><span class="koboSpan" id="kobo.679.1">the spread.</span></span></p>
<p><span class="koboSpan" id="kobo.680.1">This is of course true not only for the FX market but for any market: the battle for the best execution has a long history. </span><span class="koboSpan" id="kobo.680.2">In 1969, the first electronic network that allowed placing bids </span><a id="_idIndexMarker172"/><span class="koboSpan" id="kobo.681.1">and asks by qualified market participants was introduced. </span><span class="koboSpan" id="kobo.681.2">It was a revolutionary improvement that allowed negotiating </span><a id="_idIndexMarker173"/><span class="koboSpan" id="kobo.682.1">prices and finding the best bid and best ask much quicker than before. </span><span class="koboSpan" id="kobo.682.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.683.1">Securities and Exchanges Commission</span></strong><span class="koboSpan" id="kobo.684.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.685.1">SEC</span></strong><span class="koboSpan" id="kobo.686.1">) acknowledged this network and named it an </span><strong class="bold"><span class="koboSpan" id="kobo.687.1">electronic communication network </span></strong><span class="koboSpan" id="kobo.688.1">(</span><strong class="bold"><span class="koboSpan" id="kobo.689.1">ECN</span></strong><span class="koboSpan" id="kobo.690.1">). </span><span class="koboSpan" id="kobo.690.2">In 1975, the SEC adopted amendments to the Securities Act (the main legal document that </span><a id="_idIndexMarker174"/><span class="koboSpan" id="kobo.691.1">regulates securities trading in the US), which opened doors to the explosive growth of ECNs and </span><span class="No-Break"><span class="koboSpan" id="kobo.692.1">electronic trading.</span></span></p>
<p><span class="koboSpan" id="kobo.693.1">So, what is an </span><span class="No-Break"><span class="koboSpan" id="kobo.694.1">ECN anyway?</span></span></p>
<h2 id="_idParaDest-62"><a id="_idTextAnchor061"/><span class="koboSpan" id="kobo.695.1">The organization of ECNs</span></h2>
<p><span class="koboSpan" id="kobo.696.1">If you connect to an ECN and retrieve market data from there, you will see something really similar </span><a id="_idIndexMarker175"/><span class="koboSpan" id="kobo.697.1">to the depth of market data received from an exchange. </span><span class="koboSpan" id="kobo.697.2">You will see multiple price levels and liquidity on each price level. </span><span class="koboSpan" id="kobo.697.3">Depending on your subscription, you may be able to see just the top level, top 5 levels, top 10 levels, or the entire order book. </span><span class="koboSpan" id="kobo.697.4">You can wait for the price that is required by your trading strategy and send an order to buy or sell – pretty much like you do that at </span><span class="No-Break"><span class="koboSpan" id="kobo.698.1">an exchange.</span></span></p>
<p><span class="koboSpan" id="kobo.699.1">So, can we say that ECN is </span><span class="No-Break"><span class="koboSpan" id="kobo.700.1">an </span></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.701.1">exchange</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.702.1">?</span></span></p>
<p><span class="koboSpan" id="kobo.703.1">No, it </span><span class="No-Break"><span class="koboSpan" id="kobo.704.1">is not.</span></span></p>
<p><span class="koboSpan" id="kobo.705.1">The key difference between an ECN and an exchange is the availability of its order book. </span><span class="koboSpan" id="kobo.705.2">At an exchange, its order book is available for </span><em class="italic"><span class="koboSpan" id="kobo.706.1">any </span></em><span class="koboSpan" id="kobo.707.1">order from </span><em class="italic"><span class="koboSpan" id="kobo.708.1">any </span></em><span class="koboSpan" id="kobo.709.1">market participant. </span><span class="koboSpan" id="kobo.709.2">Anyone can send an order of any size and it will get into the single, universal order book. </span><span class="koboSpan" id="kobo.709.3">With an ECN, </span><em class="italic"><span class="koboSpan" id="kobo.710.1">only qualified market participants</span></em><span class="koboSpan" id="kobo.711.1"> can send their bids and asks to the order book. </span><span class="koboSpan" id="kobo.711.2">In the case of the FX market, these are mostly banks, LPs, market makers, and other professional sell-side market participants. </span><span class="koboSpan" id="kobo.711.3">Simply put, most likely, you will not be able to send your own bid or ask for the order book at </span><span class="No-Break"><span class="koboSpan" id="kobo.712.1">an ECN.</span></span></p>
<p><span class="koboSpan" id="kobo.713.1">At this point, we should revisit the description of the trade mechanics as it’s going on at an exchange. </span><span class="koboSpan" id="kobo.713.2">If you send a limit order – that is, an order to buy or sell an asset at a price that is respectively lower or higher than the current last price – then your order enters the order book at the respective price level and is added to the end of the queue (see the </span><em class="italic"><span class="koboSpan" id="kobo.714.1">Exchange and order book</span></em><span class="koboSpan" id="kobo.715.1"> section). </span><span class="koboSpan" id="kobo.715.2">Anyone in the market can see this order as the liquidity at this price level will </span><span class="No-Break"><span class="koboSpan" id="kobo.716.1">have increased.</span></span></p>
<p><span class="koboSpan" id="kobo.717.1">However, if you do the same at an ECN, the order book does not change visually. </span><span class="koboSpan" id="kobo.717.2">Instead, your </span><a id="_idIndexMarker176"/><span class="koboSpan" id="kobo.718.1">order is kept by the ECN matching engine and is executed only when the last price approaches this order. </span><span class="koboSpan" id="kobo.718.2">No one, including yourself, will see your order in the order book and you do not have the ability to improve the best bid and the best ask. </span><span class="koboSpan" id="kobo.718.3">Only qualified ECN members can improve the best bid </span><span class="No-Break"><span class="koboSpan" id="kobo.719.1">and ask.</span></span></p>
<h2 id="_idParaDest-63"><a id="_idTextAnchor062"/><span class="koboSpan" id="kobo.720.1">ECN – not all market participants were created equal</span></h2>
<p><span class="koboSpan" id="kobo.721.1">So, going back to the discussion of market </span><em class="italic"><span class="koboSpan" id="kobo.722.1">fairness</span></em><span class="koboSpan" id="kobo.723.1"> at the beginning of this section, can we now say that an ECN is a </span><em class="italic"><span class="koboSpan" id="kobo.724.1">fair</span></em><span class="koboSpan" id="kobo.725.1"> market? </span><span class="koboSpan" id="kobo.725.2">Well, if compared to an exchange – probably not. </span><span class="koboSpan" id="kobo.725.3">But it solves </span><a id="_idIndexMarker177"/><span class="koboSpan" id="kobo.726.1">the main problem of OTC markets: it facilitates price discovery among multiple sell-side market participants, adding competition between them, and thus improving the best bid/ask for the </span><span class="No-Break"><span class="koboSpan" id="kobo.727.1">sell side.</span></span></p>
<p><span class="koboSpan" id="kobo.728.1">Trading with an ECN was originally available only to professional market participants, but for over a decade, it has been available virtually to anyone. </span><span class="koboSpan" id="kobo.728.2">All you need is to find a broker who supports the </span><strong class="bold"><span class="koboSpan" id="kobo.729.1">Straight-Through Processing</span></strong><span class="koboSpan" id="kobo.730.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.731.1">STP</span></strong><span class="koboSpan" id="kobo.732.1">) business model. </span><span class="koboSpan" id="kobo.732.2">STP means that </span><a id="_idIndexMarker178"/><span class="koboSpan" id="kobo.733.1">the broker does not act as a market maker for their clients, they only route client orders to </span><span class="No-Break"><span class="koboSpan" id="kobo.734.1">an ECN.</span></span></p>
<p><span class="koboSpan" id="kobo.735.1">Let’s recap trading with an ECN once again. </span><span class="koboSpan" id="kobo.735.2">LPs and market makers send in their bids and offers and buy-side traders consume </span><span class="No-Break"><span class="koboSpan" id="kobo.736.1">this liquidity.</span></span></p>
<p><span class="koboSpan" id="kobo.737.1">Now, let’s perform the same imaginary experiment – a stress test for such a structure as we did with the exchange order book. </span><span class="koboSpan" id="kobo.737.2">Let’s imagine that a large volume buy-side trader comes in with an order to buy or sell more than presently exists in the </span><span class="No-Break"><span class="koboSpan" id="kobo.738.1">order book.</span></span></p>
<p><span class="koboSpan" id="kobo.739.1">In most cases, such an order will swipe the entire liquidity in the order book leaving one of its sides empty for a few moments – a situation that is less than acceptable for LPs. </span><span class="koboSpan" id="kobo.739.2">So, if a trader does it only once then there will most likely be no reaction – LPs will rebalance </span><a id="_idIndexMarker179"/><span class="koboSpan" id="kobo.740.1">their order books and liquidity reappears in the market. </span><span class="koboSpan" id="kobo.740.2">But if this trader repeats this action, then such an activity is considered </span><strong class="bold"><span class="koboSpan" id="kobo.741.1">predatory</span></strong><span class="koboSpan" id="kobo.742.1">,</span><strong class="bold"> </strong><span class="koboSpan" id="kobo.743.1">and the order flow generated by the trader is called </span><strong class="bold"><span class="koboSpan" id="kobo.744.1">toxic</span></strong><span class="koboSpan" id="kobo.745.1">. </span><span class="koboSpan" id="kobo.745.2">A wide range of </span><a id="_idIndexMarker180"/><span class="koboSpan" id="kobo.746.1">sanctions may follow, from just a call from the broker to a permanent ban at </span><span class="No-Break"><span class="koboSpan" id="kobo.747.1">the ECN.</span></span></p>
<p><span class="koboSpan" id="kobo.748.1">You may think that this issue is not relevant to small-volume traders, such as retail, but in fact, </span><span class="No-Break"><span class="koboSpan" id="kobo.749.1">it is.</span></span></p>
<p><span class="koboSpan" id="kobo.750.1">Let’s revise the definition of the toxic order flow: it is a sequence of orders that systematically and consistently tries to swipe the order book, that is, consume the entire liquidity on either side (bid </span><span class="No-Break"><span class="koboSpan" id="kobo.751.1">or ask).</span></span></p>
<p><span class="koboSpan" id="kobo.752.1">During normal business hours, it is indeed hard to achieve with small order sizes. </span><span class="koboSpan" id="kobo.752.2">But do not forget that not all LPs work 24 hours a day. </span><span class="koboSpan" id="kobo.752.3">Moreover, there are moments, and even spans of time that last for minutes, when liquidity at the ECN is really close to zero (see an explanation of bank settlement and associated issues in the </span><em class="italic"><span class="koboSpan" id="kobo.753.1">FX instruments</span></em><span class="koboSpan" id="kobo.754.1"> section in this chapter). </span><span class="koboSpan" id="kobo.754.2">If even a small retail trader sends a small order at such a moment, it would drain the thin order book completely, leading to the execution of this order at an absurd price and a phone call from the broker or the exchange with unpleasant questions about the </span><span class="No-Break"><span class="koboSpan" id="kobo.755.1">trader’s behavior.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.756.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.757.1">If you trade with an ECN, always check the liquidity in the order book before sending any order to avoid really </span><span class="No-Break"><span class="koboSpan" id="kobo.758.1">unpleasant situations.</span></span></p>
<p><span class="koboSpan" id="kobo.759.1">Today, trading at an ECN ensures the second most efficient price discovery process. </span><span class="koboSpan" id="kobo.759.2">But what is the </span><a id="_idIndexMarker181"/><span class="koboSpan" id="kobo.760.1">most efficient then, you may wonder. </span><span class="koboSpan" id="kobo.760.2">Well, we are now going to </span><span class="No-Break"><span class="koboSpan" id="kobo.761.1">discuss</span></span><span class="No-Break"><strong class="bold"> </strong></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.762.1">aggregation</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.763.1">.</span></span></p>
<h1 id="_idParaDest-64"><a id="_idTextAnchor063"/><span class="koboSpan" id="kobo.764.1">Aggregation – in search of the best price</span></h1>
<p><span class="koboSpan" id="kobo.765.1">Do you remember that any OTC market in general, and the FX in particular, is highly fragmented? </span><span class="koboSpan" id="kobo.765.2">There </span><a id="_idIndexMarker182"/><span class="koboSpan" id="kobo.766.1">are multiple market participants offering different prices for the same asset at the same moment </span><span class="No-Break"><span class="koboSpan" id="kobo.767.1">in time.</span></span></p>
<p><span class="koboSpan" id="kobo.768.1">This is true for any market participant and any trading venue, and ECNs are no exception. </span><span class="koboSpan" id="kobo.768.2">If ECNs were closed systems without any links to the outer world, then the price could potentially be very different from prices in the rest of the FX market. </span><span class="koboSpan" id="kobo.768.3">Indeed, if we have there an exchange-like trading venue then even though bids and asks are posted by only a small group of qualified members, the price will be determined by supply and demand, quite like in any other market. </span><span class="koboSpan" id="kobo.768.4">This means that price takers will be those who drive the price up or take it down. </span><span class="koboSpan" id="kobo.768.5">In a closed system, the price is determined only by members of </span><span class="No-Break"><span class="koboSpan" id="kobo.769.1">this system.</span></span></p>
<p><span class="koboSpan" id="kobo.770.1">It may seem that theoretically nothing prevents the price of the same euro versus the US dollar to be 1 at one ECN, 2 at another, and 10 at the third – as long as members of the third ECN think the euro should cost </span><span class="No-Break"><span class="koboSpan" id="kobo.771.1">that much!</span></span></p>
<p><span class="koboSpan" id="kobo.772.1">However – and luckily – this is not true. </span><span class="koboSpan" id="kobo.772.2">If each ECN traded a </span><strong class="bold"><span class="koboSpan" id="kobo.773.1">separate </span></strong><span class="koboSpan" id="kobo.774.1">asset such as a unique currency, then </span><a id="_idIndexMarker183"/><span class="koboSpan" id="kobo.775.1">indeed its price would be determined only by the supply and demand at this very ECN. </span><span class="koboSpan" id="kobo.775.2">But as long as they all trade the same asset, like in our example, someone could buy the same euro at 1 dollar at one ECN and sell it for 10 dollars </span><a id="_idIndexMarker184"/><span class="koboSpan" id="kobo.776.1">at another. </span><span class="koboSpan" id="kobo.776.2">Be sure that these smart traders are always present in </span><a id="_idIndexMarker185"/><span class="koboSpan" id="kobo.777.1">any market. </span><span class="koboSpan" id="kobo.777.2">They are called </span><strong class="bold"><span class="koboSpan" id="kobo.778.1">arbitrageurs</span></strong><span class="koboSpan" id="kobo.779.1"> and their trading strategy is </span><span class="No-Break"><span class="koboSpan" id="kobo.780.1">called </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.781.1">arbitrage</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.782.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.783.1">Besides that, ECNs are not closed systems. </span><span class="koboSpan" id="kobo.783.2">All LPs participate in multiple ECNs and other liquidity pools; many of them run their own dealing desks or act as market makers for their clients. </span><span class="koboSpan" id="kobo.783.3">Moreover, an ECN can also act as an LP to </span><span class="No-Break"><span class="koboSpan" id="kobo.784.1">another ECN!</span></span></p>
<p><span class="koboSpan" id="kobo.785.1">So, instead of a centralized market, we can again see a very fragmented, very complex network where market participants are linked to each other and to other groups, then these groups are also linked, and so on, and so on. </span><span class="koboSpan" id="kobo.785.2">Both buy-side traders (arbitrageurs) and sell-side market participants (LPs and market makers) make the price across the entire FX market far more uniform than in our simplified </span><span class="No-Break"><span class="koboSpan" id="kobo.786.1">example previously.</span></span></p>
<p><span class="koboSpan" id="kobo.787.1">Although we no longer expect as dramatic a difference in price as 1,000% from one trading venue to another, due to the intrinsic fragmentation of the FX market, prices are still slightly different here and there. </span><span class="koboSpan" id="kobo.787.2">For example, that same euro can be quoted at 1.13458 at one ECN and 1.13459 at another, and at the same time a market maker can quote it at 1.13461 and a bank at 1.13456. </span><span class="koboSpan" id="kobo.787.3">The difference is very tiny and running classical arbitrage </span><a id="_idIndexMarker186"/><span class="koboSpan" id="kobo.788.1">as described is very difficult in the today’s FX market. </span><span class="koboSpan" id="kobo.788.2">However, we can look at this price diversity from another angle: what if we could find the absolute best price in the market by checking all </span><span class="No-Break"><span class="koboSpan" id="kobo.789.1">available prices?</span></span></p>
<p><span class="koboSpan" id="kobo.790.1">This is the core idea of </span><strong class="bold"><span class="koboSpan" id="kobo.791.1">price aggregation</span></strong><span class="koboSpan" id="kobo.792.1">. </span><span class="koboSpan" id="kobo.792.2">An aggregator is not a trading venue as such because it </span><a id="_idIndexMarker187"/><span class="koboSpan" id="kobo.793.1">doesn’t have its own order book and LPs. </span><span class="koboSpan" id="kobo.793.2">Instead, an aggregator scans trading venues in search of the absolute best bid and offer and then routes orders to the </span><span class="No-Break"><span class="koboSpan" id="kobo.794.1">respective venue.</span></span></p>
<p><span class="koboSpan" id="kobo.795.1">Due to the nature of aggregation, it is normal that for a brief moment, typically milliseconds or shorter, the best bid price would be </span><strong class="bold"><span class="koboSpan" id="kobo.796.1">greater</span></strong><span class="koboSpan" id="kobo.797.1"> than the best ask. </span><span class="koboSpan" id="kobo.797.2">Think about it! </span><span class="koboSpan" id="kobo.797.3">A price at which you could buy is lower than the price at which you could sell! </span><span class="koboSpan" id="kobo.797.4">No wonder aggregators very quickly became the favorite trading venues for arbitrage traders – and not only for them. </span><span class="koboSpan" id="kobo.797.5">Indeed, price aggregation is the way to get the best execution in a fragmented </span><span class="No-Break"><span class="koboSpan" id="kobo.798.1">OTC market.</span></span></p>
<p><span class="koboSpan" id="kobo.799.1">Unfortunately, today aggregators are available only to professional market participants, such as banks and brokers. </span><span class="koboSpan" id="kobo.799.2">So, E</span><a id="_idTextAnchor064"/><a id="_idTextAnchor065"/><span class="koboSpan" id="kobo.800.1">CN trading remains the most efficient among what is available to a </span><span class="No-Break"><span class="koboSpan" id="kobo.801.1">wider audience.</span></span></p>
<h1 id="_idParaDest-65"><a id="_idTextAnchor066"/><span class="koboSpan" id="kobo.802.1">Trading the FX market – what and how</span></h1>
<p><span class="koboSpan" id="kobo.803.1">We have talked </span><a id="_idIndexMarker188"/><span class="koboSpan" id="kobo.804.1">quite a lot about where it is possible to trade but wait! </span><span class="koboSpan" id="kobo.804.2">We totally forgot to discuss what is possible to trade and how it is possible to place trades. </span><span class="koboSpan" id="kobo.804.3">Let’s fill this </span><span class="No-Break"><span class="koboSpan" id="kobo.805.1">gap immediately.</span></span></p>
<h2 id="_idParaDest-66"><a id="_idTextAnchor067"/><span class="koboSpan" id="kobo.806.1">FX instruments</span></h2>
<p><span class="koboSpan" id="kobo.807.1">You probably heard </span><a id="_idIndexMarker189"/><span class="koboSpan" id="kobo.808.1">that the FX market is the largest market in the world, with a daily turnover of over 2 trillion dollars. </span><span class="koboSpan" id="kobo.808.2">But have you ever wondered what instruments are traded in such enormous quantities? </span><span class="koboSpan" id="kobo.808.3">Do you imagine piles of cash or gold coins? </span><span class="koboSpan" id="kobo.808.4">Maybe instant transfers of money from one bank account </span><span class="No-Break"><span class="koboSpan" id="kobo.809.1">to another?</span></span></p>
<p><span class="koboSpan" id="kobo.810.1">No, of course, this is not the way this market operates. </span><span class="koboSpan" id="kobo.810.2">When we say </span><em class="italic"><span class="koboSpan" id="kobo.811.1">forex</span></em><span class="koboSpan" id="kobo.812.1"> we generally mean trading obligations to deliver one currency for </span><span class="No-Break"><span class="koboSpan" id="kobo.813.1">another currency.</span></span></p>
<p><span class="koboSpan" id="kobo.814.1">If I come to a currency exchange shop and exchange €100 for the equivalent amount of British pounds, then such a transaction is done immediately. </span><span class="koboSpan" id="kobo.814.2">My obligations to deliver the euro as the seller and the shop’s obligations to deliver the British pounds to me as the buyer is fulfilled at the moment we make </span><span class="No-Break"><span class="koboSpan" id="kobo.815.1">a deal.</span></span></p>
<p><span class="koboSpan" id="kobo.816.1">However, if I wanted to exchange 1 million euros for the respective amount of British pounds, I would </span><a id="_idIndexMarker190"/><span class="koboSpan" id="kobo.817.1">rather call my bank and ask for the price. </span><span class="koboSpan" id="kobo.817.2">The bank would be happy to make a special offer as the amount to exchange is quite attractive. </span><span class="koboSpan" id="kobo.817.3">This offered price would be way better than anything a cash exchange shop </span><span class="No-Break"><span class="koboSpan" id="kobo.818.1">could offer.</span></span></p>
<p><span class="koboSpan" id="kobo.819.1">Start getting the point? </span><span class="koboSpan" id="kobo.819.2">That’s how multiple prices for the same asset may exist in an </span><span class="No-Break"><span class="koboSpan" id="kobo.820.1">OTC market.</span></span></p>
<p><span class="koboSpan" id="kobo.821.1">I may go even further and check prices with various financial institutions, especially those specializing in currency exchange and international money transfers – and, most likely, I would find the best offer at which I agree to place </span><span class="No-Break"><span class="koboSpan" id="kobo.822.1">my trade.</span></span></p>
<p><span class="koboSpan" id="kobo.823.1">But the price I am offered by the financial institution is by far not the best possible offer on the market. </span><span class="koboSpan" id="kobo.823.2">They will then go to the </span><em class="italic"><span class="koboSpan" id="kobo.824.1">big</span></em><span class="koboSpan" id="kobo.825.1"> forex and place their offer to sell the euros for British pounds at a price that is higher than the one they purchased the euros </span><span class="No-Break"><span class="koboSpan" id="kobo.826.1">from me.</span></span></p>
<p><span class="koboSpan" id="kobo.827.1">This may look simple and straightforward but </span><span class="No-Break"><span class="koboSpan" id="kobo.828.1">it’s not.</span></span></p>
<p><span class="koboSpan" id="kobo.829.1">The problem is that I get a deal now but it’s quite possible that it will take time for my money to get transferred from my bank account to the chosen financial institution that performs the exchange. </span><span class="koboSpan" id="kobo.829.2">The exchange rate is already fixed with me. </span><span class="koboSpan" id="kobo.829.3">So, for this financial institution, it is critical to be able to hedge their position or liquidate it the very moment they get a deal with me, and not at a later time as the market price may be quite different and they may suffer a loss from such </span><span class="No-Break"><span class="koboSpan" id="kobo.830.1">an operation.</span></span></p>
<p><span class="koboSpan" id="kobo.831.1">So, the financial institution places its offer in a so-called forwards market. </span><span class="koboSpan" id="kobo.831.2">A forward contract is an obligation to deliver physical goods (or, in the case of currency markets, a currency) on a certain date at the price fixed at the moment the contract is made. </span><span class="koboSpan" id="kobo.831.3">For example, that same financial institution can sell a forward contract that means, </span><em class="italic"><span class="koboSpan" id="kobo.832.1">“we will fix the exchange rate of the euro versus the British pound at 0.85 now but I will deliver you the </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.833.1">euros later.”</span></em></span></p>
<p><span class="koboSpan" id="kobo.834.1">During a business day, a financial institution can make lots of forward contracts with various </span><a id="_idIndexMarker191"/><span class="koboSpan" id="kobo.835.1">counterparties. </span><span class="koboSpan" id="kobo.835.2">To understand how much they owe to whom and how much others are due to them, there is a special process called </span><strong class="bold"><span class="koboSpan" id="kobo.836.1">settlement</span></strong><span class="koboSpan" id="kobo.837.1">. </span><span class="koboSpan" id="kobo.837.2">This is the </span><a id="_idIndexMarker192"/><span class="koboSpan" id="kobo.838.1">procedure of netting all mutual obligations of all market participants and figuring out their daily profits </span><span class="No-Break"><span class="koboSpan" id="kobo.839.1">and losses.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.840.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.841.1">For most currency pairs that involve the US dollar, the settlement time is 5 P.M. </span><span class="koboSpan" id="kobo.841.2">New York time. </span><span class="koboSpan" id="kobo.841.3">It is extremely important to take special care trading around this time because there is almost no liquidity in the market. </span><span class="koboSpan" id="kobo.841.4">It’s always best to avoid trading at all 15 minutes before the settlement and 15-30 minutes after </span><span class="No-Break"><span class="koboSpan" id="kobo.842.1">the settlement.</span></span></p>
<p><span class="koboSpan" id="kobo.843.1">There are various forward contracts among which the heavily-traded contracts are </span><span class="No-Break"><span class="koboSpan" id="kobo.844.1">the following:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.845.1">Today</span></strong><span class="koboSpan" id="kobo.846.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.847.1">TOD</span></strong><span class="koboSpan" id="kobo.848.1">) – a forward contract with the delivery date on the same business day, </span><span class="No-Break"><span class="koboSpan" id="kobo.849.1">or </span></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.850.1">T</span></em></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.851.1">Tomorrow</span></strong><span class="koboSpan" id="kobo.852.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.853.1">TOM</span></strong><span class="koboSpan" id="kobo.854.1">) – a forward contract with the delivery date on the next business day, </span><span class="No-Break"><span class="koboSpan" id="kobo.855.1">or </span></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.856.1">T+1</span></em></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.857.1">SPOT</span></strong><span class="koboSpan" id="kobo.858.1"> – a forward contract with the delivery date in 2 business days, </span><span class="No-Break"><span class="koboSpan" id="kobo.859.1">or </span></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.860.1">T+2</span></em></span></li>
</ul>
<p><span class="koboSpan" id="kobo.861.1">As of 2022, the overall daily turnover in all the FX markets is at about $6.6 trillion. </span><span class="koboSpan" id="kobo.861.2">SPOT is the largest part of the average daily turnover in forwards, with a value of about $2 trillion. </span><span class="koboSpan" id="kobo.861.3">Other forward contracts contribute another $1 trillion. </span><span class="koboSpan" id="kobo.861.4">The remaining $3.6 trillion is mostly taken by </span><strong class="bold"><span class="koboSpan" id="kobo.862.1">swap contracts</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.863.1">or </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.864.1">swaps</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.865.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.866.1">Swaps are very interesting financial instruments mostly used by manufacturers and importers/exporters to hedge their currency risks. </span><span class="koboSpan" id="kobo.866.2">If I make a swap contract with you this means that I give you a certain amount of euros and you give me a certain amount in British pounds (or any other currency) and we fix the exchange rate. </span><span class="koboSpan" id="kobo.866.3">Then, after some time, typically a year or more, we will exchange our currencies back – and what is most important at this point, at the same exchange rate we traded </span><span class="No-Break"><span class="koboSpan" id="kobo.867.1">it originally.</span></span></p>
<p><span class="koboSpan" id="kobo.868.1">So, a currency swap contract assumes a currency risk for each of us because the exchange rate </span><a id="_idIndexMarker193"/><span class="koboSpan" id="kobo.869.1">in the forwards market may change quite substantially during the term of our swap agreement. </span><span class="koboSpan" id="kobo.869.2">But this risk can be sold for a premium and this is how swap traders can </span><span class="No-Break"><span class="koboSpan" id="kobo.870.1">make money.</span></span></p>
<p><span class="koboSpan" id="kobo.871.1">We are not going to consider this class of financial instruments. </span><span class="koboSpan" id="kobo.871.2">If you are interested in learning more about them, I’d recommend starting </span><span class="No-Break"><span class="koboSpan" id="kobo.872.1">at </span></span><a href="https://www.investopedia.com/terms/c/currencyswap.asp"><span class="No-Break"><span class="koboSpan" id="kobo.873.1">https://www.investopedia.com/terms/c/currencyswap.asp</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.874.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.875.1">Besides cash, forwards, and swaps markets, there are many derivatives – contracts that may and may not assume physical delivery of the asset. </span><span class="koboSpan" id="kobo.875.2">One of the most well-known currency </span><a id="_idIndexMarker194"/><span class="koboSpan" id="kobo.876.1">derivatives is currency futures, which are available to trade at </span><strong class="bold"><span class="koboSpan" id="kobo.877.1">Chicago Mercantile </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.878.1">Exchange</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.879.1"> (</span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.880.1">CME</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.881.1">).</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.882.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.883.1">The most important markets for retail traders and active speculators are SPOT and currency futures. </span><span class="koboSpan" id="kobo.883.2">These are the two markets that we will be discussing further in </span><span class="No-Break"><span class="koboSpan" id="kobo.884.1">the book.</span></span></p>
<h2 id="_idParaDest-67"><a id="_idTextAnchor068"/><span class="koboSpan" id="kobo.885.1">Naming conventions</span></h2>
<p><span class="koboSpan" id="kobo.886.1">Let’s quickly clarify the way the currencies market uses the names of </span><span class="No-Break"><span class="koboSpan" id="kobo.887.1">its instruments.</span></span></p>
<p><span class="koboSpan" id="kobo.888.1">International </span><a id="_idIndexMarker195"/><span class="koboSpan" id="kobo.889.1">standards (ISO 4217 to be precise) assume that each currency has a numeric three-digit code and a three-letter alphabetic code. </span><span class="koboSpan" id="kobo.889.2">Thus, the numeric code for the euro is 978 and the alphabetic code </span><span class="No-Break"><span class="koboSpan" id="kobo.890.1">is EUR.</span></span></p>
<p><span class="koboSpan" id="kobo.891.1">Forex is a special market because we don’t buy goods for money, we buy and sell money for money. </span><span class="koboSpan" id="kobo.891.2">Therefore, any instrument in this market is a currency pair and its respective code (which is often called a ticker) consists of two alphabetical </span><span class="No-Break"><span class="koboSpan" id="kobo.892.1">currency codes.</span></span></p>
<p><span class="koboSpan" id="kobo.893.1">The first currency in a pair is the one that is quoted and the second currency is the one in which it is quoted. </span><span class="koboSpan" id="kobo.893.2">In other words, the first currency acts as an asset and the second acts as the measuring unit. </span><span class="koboSpan" id="kobo.893.3">For example, EURUSD means how many US dollars there are in 1 euro, USDJPY means how many Japanese yen there are in 1 US dollar, and </span><span class="No-Break"><span class="koboSpan" id="kobo.894.1">so on.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.895.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.896.1">Be extremely careful with FX tickers! </span><span class="koboSpan" id="kobo.896.2">Always remember what you buy and what you sell as it’s very easy </span><span class="No-Break"><span class="koboSpan" id="kobo.897.1">to confuse.</span></span></p>
<p><span class="koboSpan" id="kobo.898.1">Prices in the FX market are quoted in fractional amounts. </span><span class="koboSpan" id="kobo.898.2">For example, if EURUSD is quoted at 1.0345, it </span><a id="_idIndexMarker196"/><span class="koboSpan" id="kobo.899.1">means that I will get 10,345 US dollars if I sell 10,000 euros, and a quote of 113.78 USDJPY means that I will pay 11,378 Japanese yen to get 100 US dollars. </span><span class="koboSpan" id="kobo.899.2">It’s very easy to calculate if you multiply the rate by the respective power of 10 to get rid </span><span class="No-Break"><span class="koboSpan" id="kobo.900.1">of fractions.</span></span></p>
<p><span class="koboSpan" id="kobo.901.1">For many decades, there were mostly four-digit and two-digit prices in the FX market, such as those in the preceding example. </span><span class="koboSpan" id="kobo.901.2">The minimal price fluctuation – which is the minimal change </span><a id="_idIndexMarker197"/><span class="koboSpan" id="kobo.902.1">in the fourth or second digit – is called a </span><strong class="bold"><span class="koboSpan" id="kobo.903.1">price interest </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.904.1">point</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.905.1"> (</span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.906.1">pip</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.907.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.908.1">However, a few years ago they got an extra digit. </span><span class="koboSpan" id="kobo.908.2">So instead of four-digit prices such as 1.2345 we now have 5-digit prices such as 1.23456, and similarly three digits instead of </span><span class="No-Break"><span class="koboSpan" id="kobo.909.1">two digits.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.910.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.911.1">Although now most of the prices use five-digit or three-digit notation, the pip is still considered to be in the fourth or second digit respectively. </span><span class="koboSpan" id="kobo.911.2">So, the extra digit is called fractional pip or </span><span class="No-Break"><span class="koboSpan" id="kobo.912.1">fractional price.</span></span></p>
<p><span class="koboSpan" id="kobo.913.1">One of the possible explanations as to why this extra digit was added could be the fact that the FX market has been evolving rapidly and a lot of LPs literally flooded it with money. </span><span class="koboSpan" id="kobo.913.2">Do you remember our discussion on volatility and its relationship with liquidity in the </span><em class="italic"><span class="koboSpan" id="kobo.914.1">Liquidity and volatility: how one transforms into another</span></em><span class="koboSpan" id="kobo.915.1"> section? </span><span class="koboSpan" id="kobo.915.2">Well, the greater the liquidity, the lower the volatility, and at some point, if we continue using the old 4-digit prices then the spread (the difference between the bid and ask) is zero. </span><span class="koboSpan" id="kobo.915.3">In turn, this means that the sell-side market participants no longer can earn on liquidity provision. </span><span class="koboSpan" id="kobo.915.4">So, introducing more granular price levels was the only reasonable solution to the problem of </span><span class="No-Break"><span class="koboSpan" id="kobo.916.1">excessive liquidity.</span></span></p>
<p><span class="koboSpan" id="kobo.917.1">So, the introduction of more granular prices is a reliable indicator of growing liquidity in the market. </span><span class="koboSpan" id="kobo.917.2">Is it good </span><span class="No-Break"><span class="koboSpan" id="kobo.918.1">or bad?</span></span></p>
<p><span class="koboSpan" id="kobo.919.1">At first glance, it’s definitely good news: the greater the liquidity, the easier it is to make contracts and, therefore, traders get a better execution for their orders. </span><span class="koboSpan" id="kobo.919.2">However, if every buyer </span><a id="_idIndexMarker198"/><span class="koboSpan" id="kobo.920.1">and seller can immediately satisfy their needs, the price stops moving anywhere. </span><span class="koboSpan" id="kobo.920.2">So, highly liquid markets are attractive for the sell side, but for buy-side speculators, it becomes more and more difficult to make money using directional </span><span class="No-Break"><span class="koboSpan" id="kobo.921.1">trading strategies.</span></span></p>
<p><span class="koboSpan" id="kobo.922.1">To give you an idea about how liquidity can affect the performance of buy-side speculators: in 2001-2004, it was possible to use a quite simplistic trend following trading strategies and it was considered normal if such a strategy made about 10 pips per trade, on average. </span><span class="koboSpan" id="kobo.922.2">Today, following the trend almost completely ceased to work in the FX majors and the average profit per trade fell down to 1 pip. </span><span class="koboSpan" id="kobo.922.3">This is the price traders pay for the ability to fill their orders </span><span class="No-Break"><span class="koboSpan" id="kobo.923.1">more efficiently.</span></span></p>
<h2 id="_idParaDest-68"><a id="_idTextAnchor069"/><span class="koboSpan" id="kobo.924.1">How do I place a trade?</span></h2>
<p><span class="koboSpan" id="kobo.925.1">Alright, now that we </span><a id="_idIndexMarker199"/><span class="koboSpan" id="kobo.926.1">know what we can trade, it’s time to figure out how we can </span><span class="No-Break"><span class="koboSpan" id="kobo.927.1">do that.</span></span></p>
<p><span class="koboSpan" id="kobo.928.1">In the case of cash exchange, it’s more or less clear: I can go to an exchange shop or go to a bank. </span><span class="koboSpan" id="kobo.928.2">But don’t forget that, in this case, I will have to get one price and this price will most likely be very far from the best in </span><span class="No-Break"><span class="koboSpan" id="kobo.929.1">the market.</span></span></p>
<p><span class="koboSpan" id="kobo.930.1">So, if I want to benefit from a market where liquidity is huge and prices are really competitive, I need to be able to access it somehow. </span><span class="koboSpan" id="kobo.930.2">Unless I am a financial institution myself (which is most likely not the case), I have to use the services of various intermediaries that </span><a id="_idIndexMarker200"/><span class="koboSpan" id="kobo.931.1">introduce me to the market and provide access to trading venues. </span><span class="koboSpan" id="kobo.931.2">These intermediaries are </span><span class="No-Break"><span class="koboSpan" id="kobo.932.1">called </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.933.1">brokers</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.934.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.935.1">A broker is a market participant whose business is to route orders from clients to trading venues while checking them for market risk and, if necessary, providing leverage (see the </span><em class="italic"><span class="koboSpan" id="kobo.936.1">Trade mechanics: again some </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.937.1">terminology </span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.938.1">section).</span></span></p>
<p><span class="koboSpan" id="kobo.939.1">Again, as in the case of market makers, the very words </span><strong class="bold"><span class="koboSpan" id="kobo.940.1">forex broker</span></strong><span class="koboSpan" id="kobo.941.1"> are associated with something </span><a id="_idIndexMarker201"/><span class="koboSpan" id="kobo.942.1">negative for many. </span><span class="koboSpan" id="kobo.942.2">No wonder in the early years of retail FX trading many dishonest businesses called themselves brokers but in reality, they never routed any order anywhere. </span><span class="koboSpan" id="kobo.942.3">This is again no surprise, the minimal ticket in the spot FX market </span><a id="_idIndexMarker202"/><span class="koboSpan" id="kobo.943.1">in the late 1990s was 1 million base currency, and in the early 2000’s it went down to 100,000 – 10 times as low but still too big for small retail traders. </span><span class="koboSpan" id="kobo.943.2">So those </span><em class="italic"><span class="koboSpan" id="kobo.944.1">brokers</span></em><span class="koboSpan" id="kobo.945.1"> offered </span><em class="italic"><span class="koboSpan" id="kobo.946.1">mini contracts</span></em><span class="koboSpan" id="kobo.947.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.948.1">micro contracts</span></em><span class="koboSpan" id="kobo.949.1">, which of course never left this broker’s </span><span class="No-Break"><span class="koboSpan" id="kobo.950.1">closed system.</span></span></p>
<p><span class="koboSpan" id="kobo.951.1">So, in the early days of retail, FX trading brokers had only two options in case they wanted to work with small </span><span class="No-Break"><span class="koboSpan" id="kobo.952.1">retail accounts:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.953.1">Act as market makers for </span><span class="No-Break"><span class="koboSpan" id="kobo.954.1">their client</span></span></li>
<li><span class="koboSpan" id="kobo.955.1">Do internal netting of clients’ positions and hedge the net amount in the </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.956.1">large</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.957.1"> market</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.958.1">Unfortunately, many so-called brokers chose the third option – to do nothing and just steal money from their clients. </span><span class="koboSpan" id="kobo.958.2">So, we can understand why the mention of forex brokers and the word </span><em class="italic"><span class="koboSpan" id="kobo.959.1">forex</span></em><span class="koboSpan" id="kobo.960.1"> in general sometimes causes quite an </span><span class="No-Break"><span class="koboSpan" id="kobo.961.1">acute reaction.</span></span></p>
<p><span class="koboSpan" id="kobo.962.1">However – and fortunately – times changed. </span><span class="koboSpan" id="kobo.962.2">Now, most of the surviving brokers are regulated and, at the very least, guarantee the safety of the client accounts. </span><span class="koboSpan" id="kobo.962.3">Of course, it is not a guarantee against losses in trading but that’s a completely </span><span class="No-Break"><span class="koboSpan" id="kobo.963.1">different story.</span></span></p>
<p><span class="koboSpan" id="kobo.964.1">Besides that, the structure of the FX market has evolved dramatically since the early 2000s. </span><span class="koboSpan" id="kobo.964.2">If at the beginning of the century it was populated mostly by banks, then today, the variety of both buy-side and sell-side market participants is very diverse and the number of trading venues available to virtually anyone is </span><span class="No-Break"><span class="koboSpan" id="kobo.965.1">quite considerable.</span></span></p>
<p><span class="koboSpan" id="kobo.966.1">Today, it is really easy to check the broker with the regulator and ask them to provide direct access to a liquidity pool or an ECN –and then trade along with professional market participants in quite a similar manner as if you traded at a centralized </span><span class="No-Break"><span class="koboSpan" id="kobo.967.1">regulated exchange.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.968.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.969.1">When we develop trading applications with Python, I assume that we directly connect to a trading venue such as an ECN, avoiding platforms such as MetaTrader or proprietary trading platforms because they only add unwanted latency to our orders. </span><span class="koboSpan" id="kobo.969.2">MetaTrader can be used as a monitoring tool to watch for open positions and check the correctness of </span><span class="No-Break"><span class="koboSpan" id="kobo.970.1">order execution.</span></span></p>
<p><span class="koboSpan" id="kobo.971.1">It’s been quite </span><a id="_idIndexMarker203"/><span class="koboSpan" id="kobo.972.1">a long chapter and quite a long trip into the world of the FX markets – sometimes clear and straightforward, sometimes weird and spooky. </span><span class="koboSpan" id="kobo.972.2">But I am sure there is one question that has long been spinning in your mind while reading all of the </span><span class="No-Break"><span class="koboSpan" id="kobo.973.1">aforementioned information.</span></span></p>
<h1 id="_idParaDest-69"><a id="_idTextAnchor070"/><span class="koboSpan" id="kobo.974.1">Why do I need all this?</span></h1>
<p><span class="koboSpan" id="kobo.975.1">Well, actually you don’t. </span><span class="koboSpan" id="kobo.975.2">Of course, you can just quickly download unclear historical price data from </span><a id="_idIndexMarker204"/><span class="koboSpan" id="kobo.976.1">an unknown source, develop a model using tools you don’t fully understand and optimize it using this data, connect to an unknown broker and start trading. </span><span class="koboSpan" id="kobo.976.2">The question is: will this trading be successful? </span><span class="koboSpan" id="kobo.976.3">Most </span><span class="No-Break"><span class="koboSpan" id="kobo.977.1">likely not.</span></span></p>
<p><span class="koboSpan" id="kobo.978.1">If you read this chapter carefully, you’ll most likely already </span><span class="No-Break"><span class="koboSpan" id="kobo.979.1">understand why.</span></span></p>
<p><span class="koboSpan" id="kobo.980.1">Firstly, when you plan to use certain historical price data for your models you should realize what exactly you are going to use: whether it’s last trade, bid, ask, or both, or anything else. </span><span class="koboSpan" id="kobo.980.2">You should check if historical data contains correct timestamps and that no tick is dated earlier than the preceding one. </span><span class="koboSpan" id="kobo.980.3">You may want to make sure the data you use contains information about trading volume – otherwise, you won’t be able to develop a wide range of trading strategies. </span><span class="koboSpan" id="kobo.980.4">You should make sure that data is clean and consistent, and that there are no erroneous quotes that will affect the parameters of your strategy during </span><span class="No-Break"><span class="koboSpan" id="kobo.981.1">its development.</span></span></p>
<p><span class="koboSpan" id="kobo.982.1">Secondly, you should carefully choose the right trading venue for your strategy. </span><span class="koboSpan" id="kobo.982.2">Does it trade large volumes? </span><span class="koboSpan" id="kobo.982.3">Does it trade frequently? </span><span class="koboSpan" id="kobo.982.4">Does it attempt to trade in </span><em class="italic"><span class="koboSpan" id="kobo.983.1">problematic</span></em><span class="koboSpan" id="kobo.984.1"> periods of time when liquidity in the market is thin? </span><span class="koboSpan" id="kobo.984.2">Answers to all these questions will help you make the </span><span class="No-Break"><span class="koboSpan" id="kobo.985.1">right choice.</span></span></p>
<p><span class="koboSpan" id="kobo.986.1">Finally (something which probably should have been first) – you should make absolutely sure that your </span><a id="_idIndexMarker205"/><span class="koboSpan" id="kobo.987.1">strategy generates trades that are executable and returns that will cover all trading costs, including the market spread and any commissions that your broker </span><span class="No-Break"><span class="koboSpan" id="kobo.988.1">charges you.</span></span></p>
<p><span class="koboSpan" id="kobo.989.1">So, at this point, I would recommend you read this chapter once again now and that you return to it from time to time in the future to keep your development consistent with the </span><span class="No-Break"><span class="koboSpan" id="kobo.990.1">real market.</span></span></p>
<h1 id="_idParaDest-70"><a id="_idTextAnchor071"/><span class="koboSpan" id="kobo.991.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.992.1">In this chapter, we learned about the different ways a market can be organized and operated. </span><span class="koboSpan" id="kobo.992.2">We familiarized ourselves with key concepts such as exchange, order book, and liquidity, noted the possible impact of various factors on price behavior, and discovered important intrinsic factors that may negatively affect the performance of a trading strategy. </span><span class="koboSpan" id="kobo.992.3">With all this fundamental knowledge in mind, we’re ready to move on to study the architecture of a trading application in detail, to see what we should use in order to meet the challenges of the modern FX market. </span><span class="koboSpan" id="kobo.992.4">This is what we’re going to do in the </span><span class="No-Break"><span class="koboSpan" id="kobo.993.1">next chapter.</span></span></p>
</div>


<div class="Content" id="_idContainer017">
<h1 id="_idParaDest-71"><a id="_idTextAnchor072"/><span class="koboSpan" id="kobo.1.1">Part 2: General Architecture of a Trading Application and A Detailed Study of Its Components</span></h1>
<p><span class="koboSpan" id="kobo.2.1">Being familiar with the subject domain is essential for any software development, and </span><em class="italic"><span class="koboSpan" id="kobo.3.1">Part 1</span></em><span class="koboSpan" id="kobo.4.1"> introduced the basics of the FX market and the key features typical of trading applications. </span><span class="koboSpan" id="kobo.4.2">Now, it’s time to outline the architecture of such an application and consider its main components in </span><span class="No-Break"><span class="koboSpan" id="kobo.5.1">greater detail.</span></span></p>
<p><em class="italic"><span class="koboSpan" id="kobo.6.1">Part 2</span></em><span class="koboSpan" id="kobo.7.1"> suggests several solutions used to retrieve and handle market data, explains the difference between fundamental and technical analysis, focuses on the meaning of classical </span><strong class="bold"><span class="koboSpan" id="kobo.8.1">technical analysis</span></strong><span class="koboSpan" id="kobo.9.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.10.1">TA</span></strong><span class="koboSpan" id="kobo.11.1">) indicators from a market process standpoint, and provides possible implementations of these indicators in Python, in a way compatible with further developments. </span><span class="koboSpan" id="kobo.11.2">We will also familiarize ourselves with the basics of simple data visualization, which is typically used to quickly check market data and the correctness of calculations, and generate entry and </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">exit orders.</span></span></p>
<p><span class="koboSpan" id="kobo.13.1">This part comprises the </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">following chapters:</span></span></p>
<ul>
<li><a href="B19145_04.xhtml#_idTextAnchor073"><em class="italic"><span class="koboSpan" id="kobo.15.1">Chapter 4</span></em></a><span class="koboSpan" id="kobo.16.1">, </span><em class="italic"><span class="koboSpan" id="kobo.17.1">Trading Application – What’s Inside?</span></em></li>
<li><a href="B19145_05.xhtml#_idTextAnchor086"><em class="italic"><span class="koboSpan" id="kobo.18.1">Chapter 5</span></em></a><span class="koboSpan" id="kobo.19.1">, </span><em class="italic"><span class="koboSpan" id="kobo.20.1">Retrieving and Handling Market Data with Python</span></em></li>
<li><a href="B19145_06.xhtml#_idTextAnchor101"><em class="italic"><span class="koboSpan" id="kobo.21.1">Chapter 6</span></em></a><span class="koboSpan" id="kobo.22.1">, </span><em class="italic"><span class="koboSpan" id="kobo.23.1">Basics of Fundamental Analysis and Its Possible Use in FX Trading</span></em></li>
<li><a href="B19145_07.xhtml#_idTextAnchor114"><em class="italic"><span class="koboSpan" id="kobo.24.1">Chapter 7</span></em></a><span class="koboSpan" id="kobo.25.1">, </span><em class="italic"><span class="koboSpan" id="kobo.26.1">Technical Analysis and Its Implementation in Python</span></em></li>
<li><a href="B19145_08.xhtml#_idTextAnchor130"><em class="italic"><span class="koboSpan" id="kobo.27.1">Chapter 8</span></em></a><span class="koboSpan" id="kobo.28.1">, </span><em class="italic"><span class="koboSpan" id="kobo.29.1">Data Visualization in FX Trading with Python</span></em></li>
</ul>
</div>
<div>
<div id="_idContainer018">
</div>
</div>
</body></html>