<html><head></head><body><div><p>&#13;
			<h1 id="_idParaDest-23" class="chapter-number" lang="en-GB"><a id="_idTextAnchor023"/>2</h1>&#13;
			<h1 id="_idParaDest-24" lang="en-GB"><a id="_idTextAnchor024"/>High-Speed Introduction to Python</h1>&#13;
			<p lang="en-GB">This chapter introduces Python and demonstrates how to write a program in Python to solve the type of problem we described in <a href="B19624_01.xhtml#_idTextAnchor015"><em class="italic">Chapter 1</em></a>. We are not going to delve deeply into Python in this chapter, but we will cover Python sufficiently to enable you to simulate and modify a computer to incorporate your own ideas.</p>&#13;
			<p lang="en-GB">Traditionally, a computer program has been compared to a cookery recipe because they are analogous. Strictly speaking, this statement applies only to procedural languages such as Python, Java, and C. Functional languages such as Lisp do not conform to this strictly sequential paradigm and are beyond the scope of this text</p>&#13;
			<p lang="en-GB">A recipe is a sequence of <em class="italic">operations</em> (i.e., actions or steps) that are carried out <em class="italic">in order</em> on the <em class="italic">ingredients</em> used by the recipe. A program is the same; it is a sequence of operations (instructions) that are carried out, in order, on data. The instructions of a program are carried out, one by one, sequentially, from top to bottom, arranged exactly like a page of printed text. It’s also possible to repeat a group or block of instructions several times, and you can even skip past or ignore blocks of instructions.</p>&#13;
			<p lang="en-GB">The analogy between a recipe and a program is surprisingly accurate. In a recipe, you can have <em class="italic">conditional </em>instructions such as, “<em class="italic">If the sauce is too thick, then add more water.</em>” In programming, you can have conditional instructions such as, “<em class="italic">If x is 0, then add 1 to y.</em>” Similarly, in cooking, you can express repetitive action by expressions such as, “<em class="italic">Beat the mixture until stiff.</em>” In computing, repetition can be expressed using constructs such as, “<em class="italic">Subtract 1 from z until z = </em><em class="italic">0.</em>”</p>&#13;
			<p lang="en-GB">In this chapter, we will cover the following topics:</p>&#13;
			<ul>&#13;
				<li lang="en-GB">Reading programs</li>&#13;
				<li lang="en-GB">Getting started with Python</li>&#13;
				<li lang="en-GB">Python’s data types</li>&#13;
				<li lang="en-GB">Mathematical operators</li>&#13;
				<li lang="en-GB">Names, values, and variables</li>&#13;
				<li lang="en-GB">Comments</li>&#13;
				<li lang="en-GB">The list – a Python key data structure</li>&#13;
				<li lang="en-GB">Functions in Python</li>&#13;
				<li lang="en-GB">Conditional operations and decision-making</li>&#13;
				<li lang="en-GB">Reading data from a file</li>&#13;
				<li lang="en-GB">Translating a token detector algorithm into Python</li>&#13;
				<li lang="en-GB">Computer memory</li>&#13;
				<li lang="en-GB">Register transfer language</li>&#13;
			</ul>&#13;
			<h1 id="_idParaDest-25" lang="en-GB"><a id="_idTextAnchor025"/>Technical requirements</h1>&#13;
			<p lang="en-GB">You can find the programs used in this chapter on GitHub at <a href="https://github.com/PacktPublishing/Practical-Computer-Architecture-with-Python-and-ARM/tree/main/Chapter02">https://github.com/PacktPublishing/Practical-Computer-Architecture-with-Python-and-ARM/tree/main/Chapter02</a>. </p>&#13;
			<p lang="en-GB">The requirements to write a program in Python and run it are minimal. Python is an open source language and is freely available for the PC, Mac, and Linux platforms. All the information you need to set up a Python environment on your computer system can be found on the home page at <a href="https://www.python.org">https://www.python.org</a>.</p>&#13;
			<p lang="en-GB">Remarkably, you do not need any other software to construct a computer simulator in Python. The Python package comes with Python’s <strong class="bold">Integrated Learning and Development Environment</strong> (<strong class="bold">IDLE</strong>) that lets you edit a Python program, save it, run it, and debug it.</p>&#13;
			<p lang="en-GB">There are alternatives to IDLE that let you create Python source files supported by Python platforms. These alternatives are generally more sophisticated and targeted at the professional developer. For the purposes of this chapter, IDLE is more than sufficient, and nearly all the Python programs in this text were developed with IDLE.</p>&#13;
			<p lang="en-GB">Alternative IDEs are Microsoft’s Visual Studio Code, Thonny, and Geany. All these IDEs are freely available. Thonny was developed for the Raspberry Pi, which we will use in later chapters:</p>&#13;
			<ul>&#13;
				<li lang="en-GB">Visual Studio Code:<code> </code><a href="https://code.visualstudio.com/download">https://code.visualstudio.com/download</a></li>&#13;
				<li lang="en-GB">Geany:<code>          </code><a href="https://www.geany.org/">https://www.geany.org/</a></li>&#13;
				<li lang="en-GB">Thonny:<code>         </code><a href="https://thonny.org">https://thonny.org</a></li>&#13;
			</ul>&#13;
			<p lang="en-GB">Reading programs is not easy for the beginner because you don’t know how to interpret what you see. The following section describes some of the typography and layout conventions we will use in this chapter to make the meaning of programs more clear and to highlight the features of a program.</p>&#13;
			<h1 id="_idParaDest-26" lang="en-GB"><a id="_idTextAnchor026"/>Reading programs</h1>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">In order to help you follow<a id="_idIndexMarker018"/> the programs, we have adopted two different type fonts – a variable-width font (where letters have different widths, such as the bulk of the text here) and a mono-spaced font, such as the Courier font found on old mechanical typewriters <code>that looks </code><code>like this</code>.</p>&#13;
			<p lang="en-GB">The reason for using a mono-spaced font to represent code is twofold. First, it tells the reader that a word is computer code and not just part of the narrative text. Second, spacing in computer programs is important for readability, and mono-spaced fonts line up letters and numbers on adjacent rows neatly in columns. The following is an example of code from a later chapter to demonstrate this point. The proportionally-spaced text to the right, prefixed by #, indicates that the text is not code but a plain-language comment:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
elif litV[0]   == '%': literal = int(litV[1:],2)     # If first % convert binary to integer&#13;
elif litV[0:2] == '0B':literal = int(litV[2:],2)     # If prefix 0B convert binary to integer&#13;
elif litV[0:1] == '$': literal = int(litV[1:],16)    # If $, convert hex string to integer&#13;
elif litV[0:2] == '0X':literal = int(litV[2:],16)    # If 0x convert hex string to integer</pre>&#13;
			<p lang="en-GB">We have occasionally used shading or a bold font to distinguish one feature of a piece of code from another.For example, <code>x = y.</code>split('.') uses a bold font to emphasize the <code>split</code> function.</p>&#13;
			<p lang="en-GB">Consider the following example. The gray text indicates reserved words and symbols in Python that are necessary to specify this construct. The numbers in bold black are values supplied by the programmer. The text following # is in a non-monospaced font and is a comment ignored by the computer:</p>&#13;
			<p lang="en-GB">for i in range (0<code>,</code>6):<code>     </code># Repeat six times</p>&#13;
			<p lang="en-GB">In this example, we <a id="_idIndexMarker019"/>use shading to emphasize a feature – for example, <code>rS1 = int(inst</code>[2][1]<code>)</code>draws your attention to the first parameter, <code>[2]</code>.</p>&#13;
			<h1 id="_idParaDest-27" lang="en-GB"><a id="_idTextAnchor027"/>Getting started with Python</h1>&#13;
			<p lang="en-GB">Before we look at Python<a id="_idIndexMarker020"/> in more detail, we will provide a brief introduction to getting started with Python and demonstrate a short program. Although we have not even introduced the basics of the language, Python programs are remarkably easy to follow.</p>&#13;
			<p lang="en-GB">Python is a computer language such as C or Java and, like every computer language, it has its advantages and disadvantages. We have chosen to use Python because it is free and universal, there’s a vast amount of information about it, and, most importantly, it has a very shallow learning curve. Indeed, Python has become one of the most popular languages used in computer science education.</p>&#13;
			<p lang="en-GB">Python was conceived by the Dutch computer scientist Guido van Rossum, and the stable Python 2.0 was released in 2000. Today, Python is promoted by the Python Software Foundation, a body of volunteers whose aim is to develop the language as a public service.</p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">The high-level language programs<a id="_idIndexMarker021"/> in this text were written in Python on a PC. To install Python, you need to go to its home page at <a href="https://www.python.org">https://www.python.org</a> and follow the instructions. There are several versions of Python because it is continually growing. The two main branches are Python 2 and Python 3; I will be using the latter. Python is continually updated and new versions are introduced. I started with Python 3.6, and at the time of writing, we’re up to Python 3.11. However, new incremental versions do not offer radical changes, and many of the new features are not used by the Python version in this book.</p>&#13;
			<p lang="en-GB">Loading the Python packages<a id="_idIndexMarker022"/> provides you with a Python documentation library, a Python interpreter, and a Python editor called the IDLE. All this is freely available. IDLE<a id="_idIndexMarker023"/> allows you to perform a cycle, <em class="italic">edit a program, run it, and debug it</em> until you are happy with the result. I also used the freely available Thonny IDE, which I found even easier to use. Using an IDE lets you develop a program, run it, and then modify it, without having to switch between separate editors, compilers, and runtime environments.</p>&#13;
			<p lang="en-GB">Late in the writing of this book, Graeme Harker introduced me to <strong class="bold">Visual Studio Code</strong> (<strong class="bold">VS Code</strong>). This is a popular integrated development system<a id="_idIndexMarker024"/> developed by Microsoft that supports several languages, including Python, and which runs on several platforms, including Windows, Linux, and macOS. VS Code is a very powerful IDE indeed and includes facilities that go beyond those of IDLE.</p>&#13;
			<p lang="en-GB">Consider the example of an IDE (in this case, IDLE) in <em class="italic">Figure 2</em><em class="italic">.1</em>. Suppose we want to create a four-function calculator that performs simple operations such as 23 x 46 or 58 - 32. I’ve chosen this example because it is really a very simple computer simulator. <em class="italic">Figure 2</em><em class="italic">.1</em> is a screenshot taken after a Python program has been loaded using the <code>file</code> function. You can also directly enter a Python program from the keyboard.</p>&#13;
			<p lang="en-GB">If we click on <code>+</code>, <code>-</code>, <code>/</code>, or <code>*</code>, it terminates the execution and prints a message.</p>&#13;
			<p lang="en-GB">Like most high-performance IDE systems, IDLE uses color to help you to read a program. Python lets you add a commentary to the program because code is not always understandable. Any text following a # symbol is ignored. In this case, the code is understandable, and these comments are not necessary.</p>&#13;
			<p lang="en-GB">You have to save a program before you can run it. Saving a program from <code>IDLE</code> automatically appends <code>.py</code>, so that a file named <code>calc1</code> is saved as <code>calc1.py</code>.</p>&#13;
			<div>&#13;
				<div>&#13;
					<img class="_idGenObjectAttribute-1" src="img/Figure_2.01_B19624.jpg" alt="Figure 2.1 – A screenshot of a Python program in IDLE" width="1723" height="627"/>&#13;
				</p>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.1 – A screenshot of a Python program in IDLE</p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB"><em class="italic">Figure 2</em><em class="italic">.1</em> shows the layout of Python programming, including the all-important <em class="italic">indentation</em>, which is a key feature of Python and indicates which operations belong to a particular command.</p>&#13;
			<p lang="en-GB">Here’s a brief description<a id="_idIndexMarker025"/> of the program. We will cover this material in greater detail later. <code>while</code> heads a group of indented instructions that are repeated until some condition stops being true. In this case, the instructions are executed as long as the <code>go</code> variable is <code>1</code>.</p>&#13;
			<p lang="en-GB">The <code>if</code> statement defines one or more operations that are executed if <code>if</code> is true. In this case, if the input is <code>'E'</code>, the <code>go</code> variable is set to <code>0</code>, and the indented operations after <code>while</code> are no longer executed.</p>&#13;
			<p lang="en-GB">The <code>break</code> instruction breaks out of the <code>while</code> loop (that is, execution continues beyond the end of the loop – it’s a sort of short-circuit mechanism).</p>&#13;
			<p lang="en-GB">Finally, the <code>int(x)</code> function converts a keyboard character into an integer – for example, <code>int('27')</code> converts the two keys, <code>2</code> and <code>7</code>, into the integer, <code>27</code>. We will discuss all this in greater detail later.</p>&#13;
			<p lang="en-GB">To run the program, you select the <code>F5</code>. The following demonstrates the effect of running this program. The text in bold is the text I entered using the keyboard:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
Hello. Input operations in the form 23 * 4. Type E to end.&#13;
Type first number <strong class="bold">12</strong>&#13;
Type operator + or - or / or * <strong class="bold">+</strong>&#13;
Type second number <strong class="bold">7</strong>&#13;
Result =  19&#13;
Type first number <strong class="bold">15</strong>&#13;
Type operator + or - or / or * <strong class="bold">-</strong>&#13;
Type second number <strong class="bold">8</strong>&#13;
Result =  7&#13;
Type first number <strong class="bold">55</strong>&#13;
Type operator + or - or / or * <strong class="bold">/</strong>&#13;
Type second number <strong class="bold">5</strong>&#13;
Result =  11&#13;
Type first number <strong class="bold">2</strong>&#13;
Type operator + or - or / or * <strong class="bold">E</strong>&#13;
Program ended</pre>&#13;
			<p lang="en-GB">The purpose of this brief demonstration is to show how a Python program is entered and executed. In practice, no programmer would write the preceding code. It is inefficient. It does not deal with errors (what happens if you type <code>@ </code>instead of <code>*</code>, or <code>$</code> instead of <code>4?</code>). Even worse, to stop the program, you have to enter a dummy number before entering <code>E</code> to end the program. I leave it as an exercise for you to convert this program into a version<a id="_idIndexMarker026"/> that is more user-friendly.</p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">We’ve demonstrated a trivial Python program. The next step is to introduce the data with which Python operates – that is, we show how Python handles numbers and text.</p>&#13;
			<h1 id="_idParaDest-28" lang="en-GB"><a id="_idTextAnchor028"/>Python’s data types</h1>&#13;
			<p lang="en-GB">A recipe uses <em class="italic">ingredients</em> that<a id="_idIndexMarker027"/> fall into distinct groups (fruit, vegetables, nuts, cheeses, spices, etc.). A computer program uses data that falls into groups called <em class="italic">types</em>. Some of the main data types used by Python are as follows:</p>&#13;
			<ul>&#13;
				<li lang="en-GB"><strong class="bold">Integer</strong>: This uses whole numbers, such as 0, 1, 2, and<a id="_idIndexMarker028"/> so on. Integers<a id="_idIndexMarker029"/> also include<a id="_idIndexMarker030"/> negative numbers -1, -2, -3, and so on. Positive integers<a id="_idIndexMarker031"/> are also known as natural numbers.</li>&#13;
				<li lang="en-GB"><strong class="bold">Float</strong>: These are numbers with a decimal<a id="_idIndexMarker032"/> point (e.g., 23.5 and -0.87). These <a id="_idIndexMarker033"/>are also called <em class="italic">real</em> numbers. Surprisingly, we will not be using real numbers<a id="_idIndexMarker034"/> in this text.</li>&#13;
				<li lang="en-GB"><strong class="bold">Character</strong>: A character is one of the keys<a id="_idIndexMarker035"/> on a computer keyboard – for example, <em class="italic">Q</em>, <em class="italic">Z</em>, <em class="italic">a</em>, <em class="italic">$</em>, and <em class="italic">@</em>. Computer languages often indicate a character<a id="_idIndexMarker036"/> by putting it in inverted commas – for example, 'R'. In practice, Python does not have an explicit character type.</li>&#13;
				<li lang="en-GB"><code>'This'</code> or <code>'my program'</code>. Python<a id="_idIndexMarker038"/> doesn’t have a character type because it treats a character as a string of length 1. Python allows you to use single or double quotes interchangeably – for example, <code>x = 'this'</code> and <code>x = "this"</code> are identical in Python. This mechanism allows you to type x = ''The boy’s books'' (i.e., you can use an apostrophe without it being treated as a quotation mark). In computing, the term <em class="italic">string</em> is rather like the English term <em class="italic">word</em>. A string is any sequence of characters – for example, <code>'time'</code> and <code>'!££??'</code> are legal Python strings. Recall that a string of length 1 is a single character – for example, 'Q'. You can have a string of length zero – that is,''. Here, you have two quotation marks with nothing in between. This indicates an empty string.</li>&#13;
				<li lang="en-GB"><code>True</code> and <code>False</code>. The bool<a id="_idIndexMarker040"/> type is used in Boolean logic expressions. It is also used in comparisons – for example, the English expression, “Is <em class="italic">x</em> greater than <em class="italic">y</em>?” has two possible outcomes – True or False. If you type <code>print(5 == 5)</code> in Python, it will print True because the == means “<em class="italic">is the same as?</em>” and the result is True.</li>&#13;
			</ul>&#13;
			<p lang="en-GB">Each data element used in a program is given a <em class="italic">name</em> so that we can access it. The programmer chooses names for variables, and a good programmer chooses sensible names that indicate what the variable is. No one calls a variable <code>qZz3yT</code>. Names must begin with a letter, and then they may have any sequence of letters and numbers – for example, <code>alan</code>, <code>alan123</code>, and <code>a123lan</code> are legal Python names, whereas <code>2Alan</code> or <code>Al@n</code> is not legal. However, the underscore may be used in a name – for example, <code>time_one</code>. By convention, Python uses lowercase for the first character of variables and function names. Uppercase first letters are reserved for class names (which we will not use in this text). This restriction is a programming convention – that is, an error will not occur if you give a variable a name beginning with an uppercase letter.</p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">Now that we’ve introduced data elements, we next describe some of the operations you can apply to numeric data. These are essentially the arithmetic operators we encountered in high school, except for division, which has three variations.</p>&#13;
			<h1 id="_idParaDest-29" lang="en-GB"><a id="_idTextAnchor029"/>Mathematical operators</h1>&#13;
			<p lang="en-GB">Computers can perform<a id="_idIndexMarker041"/> the four standard arithmetic operations – addition, subtraction, multiplication, and division. For example, we can write the following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
X1 = a + b    Addition&#13;
X2 = a – b    Subtraction&#13;
X3 = a * b    Multiplication&#13;
X4 = a / b    Division</pre>&#13;
			<p lang="en-GB">The symbol for multiplication is <em class="italic">*</em> (the asterisk) and not the conventional <em class="italic">x</em>. Using the letter <em class="italic">x</em> to indicate multiplication would lead to confusion between the letter <em class="italic">x</em> and <em class="italic">x</em> as a multiplication operator.</p>&#13;
			<p lang="en-GB">Division is more complicated than multiplication because there are three ways of expressing the result of x ÷ y. For example, 15/5 is 3, and the result is an integer. 17/5 can be expressed in two ways – as a fractional value (i.e., a float) 3.4, or as 3 remainder 2. In Python, the division operator provides a float result if the result is not an integer (e.g., 100/8 = 12.5).</p>&#13;
			<p lang="en-GB">As well as the division operator, /, Python has two other division operators – <code>//</code> and <code>%</code>.</p>&#13;
			<p lang="en-GB">Python’s <code>//</code> is a <em class="italic">floor integer</em> divide that generates an integer<a id="_idIndexMarker042"/> result by rounding down to the nearest integer. For example, the operation <code>x = 17//5</code> gives the result <code>3</code> and the fractional part (the remainder) is discarded. Note that <code>x = 19//5</code> gives the result <code>3</code> because it <em class="italic">rounds down</em>, even though 4 is the closest integer. If you were to execute <code>x = -19//5</code>, that would give the result <code>-4</code> because it rounds <em class="italic">down</em> to the closest integer.</p>&#13;
			<p lang="en-GB">The % symbol is the <em class="italic">modulus</em> operator and provides<a id="_idIndexMarker043"/> the remainder after division. For example, <code>x = 17%5</code> gives the result <code>2</code>. Suppose, on Monday, someone said they were visiting you in 425 days. What day of the week is that? 425%7 is 5, which indicates Saturday. We can use % to test whether<a id="_idIndexMarker044"/> a number is odd or even. If you write <code>y = x%2</code>, then <code>y</code> is <code>0</code> if the number is even and <code>1</code> if it is odd.</p>&#13;
			<h1 id="_idParaDest-30" lang="en-GB"><a id="_idTextAnchor030"/>Names, values, and variables</h1>&#13;
			<p lang="en-GB">Computers store data<a id="_idIndexMarker045"/> in their memory. Each data element has two values associated with it – <strong class="bold">where</strong> it is, and <strong class="bold">what</strong> it is. In computer terms, <em class="italic">where</em> corresponds to the location (address) of the data in memory, and <em class="italic">what</em> corresponds to the value of that data. This is not rocket science, and matches everyday life – for example, I might have a bank account numbered 111023024 containing $890. Here, 111023024 is the “where,” and the $890 is the “what.”</p>&#13;
			<p lang="en-GB">Now, suppose I write 111023024 + 1. What exactly do I mean? Do I mean to add 1 to the account number to get 111023025 (which is a different account), or do I mean to add $1 to the number in this account numbered 111023024 to get $891? In everyday life, this is something that’s so obvious we just don’t think about it. In computing, we have to be a little more careful and think clearly about what we are doing.</p>&#13;
			<p lang="en-GB">Data elements are called <strong class="bold">variables</strong> because their values can be<a id="_idIndexMarker046"/> changed. A variable has an address (location) in memory. A programmer doesn’t have to worry about the actual location of data; the operating system takes care of that for them automatically. All they have to do is to come up with a name<a id="_idIndexMarker047"/> for the variable. For example, let’s take the following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
totalPopulation = 8024</pre>&#13;
			<p lang="en-GB">When you write this, you define a new variable that you’ve called <code>totalPopulation</code> and have told the computer to store the number <code>8024</code> at that location. You don’t have to worry about all the actions involved in doing this; that’s the job of the operating system and compiler.</p>&#13;
			<p lang="en-GB">Let’s summarize. A variable is a name that refers to some value stored in memory. Let’s say you write the following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
totalPopulation = totalPopulation + 24</pre>&#13;
			<p lang="en-GB">Here, the computer reads the current value in the memory location assigned to the name <code>totalPopulation</code>. It then adds 24 to this<a id="_idIndexMarker048"/> value, and finally, stores the result in <code>totalPopulation</code>.</p>&#13;
			<p lang="en-GB">In the next section, we look at user comments and program layout in a little more detail.</p>&#13;
			<h1 id="_idParaDest-31" lang="en-GB"><a id="_idTextAnchor031"/>Comments</h1>&#13;
			<p lang="en-GB">Because computer languages<a id="_idIndexMarker049"/> can be terse and confusing to the human reader, they let you add comments that are ignored by the computer (i.e., they are not part of the program). In Python, any text on the same line following the # symbol is ignored. In the following examples, we’ve put that text in a different font to emphasize that it’s not part of the program. First, consider the following Python expression:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
hours = 12           # Set the value of the variable hours to 12</pre>&#13;
			<p lang="en-GB">This code creates a new data element called <code>hours</code> and gives it the integer value <code>12</code>. <em class="italic">Figure 2</em><em class="italic">.2</em> illustrates the structure of this line.</p>&#13;
			<p>&#13;
				<div>&#13;
					<img class="_idGenObjectAttribute-1" src="img/Figure_2.02_B19624.jpg" alt="Figure 2.2 – The structure of a statement with a comment" width="1161" height="254"/>&#13;
				</p>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.2 – The structure of a statement with a comment</p>&#13;
			<p lang="en-GB">Let’s say you were then to write the following:</p>&#13;
			<pre class="source-code"><code>allTime = hours + 3    </code># Add 3 to the hours and assign a result to a new variable, allTime</pre>&#13;
			<p lang="en-GB">Then, the computer would read the value of the name on the right-hand side of the expression (i.e., <code>hours</code>) and substitute its value with 12. Then, it would add 3 to get 12 + 3 = 15, storing this new value in a memory location called <code>allTime</code>. The text following <code>#</code> is ignored by the computer and serves only to help humans understand the program.</p>&#13;
			<p lang="en-GB">Many computer languages<a id="_idIndexMarker050"/> use the = symbol differently from how we were taught in high school. In school algebra, ‘=’ means “<em class="italic">the same as,</em>” so that <em class="italic">x</em> = <em class="italic">y</em> + 2 means that the value of <em class="italic">x</em> and (<em class="italic">y</em> + 2) are identical. If the value of <em class="italic">y</em> is 12, then the value of <em class="italic">x</em> is 14.</p>&#13;
			<p lang="en-GB">In programming, the statement <code>x = y + 2</code> indicates that the value of <em class="italic">y</em> + 2 is calculated and then <em class="italic">transferred</em> to <em class="italic">x</em>. If a programmer writes <code>x = x + 2</code>, it means to add 2 to <code>x</code>. If this were a mathematical equation, we could write <em class="italic">x</em> – <em class="italic">x</em> = <em class="italic">x</em> – <em class="italic">x</em> + 2, which simplifies as the nonsensical expression 0 = 2. In Python, the = symbol does NOT mean equals!</p>&#13;
			<p lang="en-GB">In Python, the <code>=</code> symbol means “<em class="italic">assign to.</em>” A better symbol is <code>←</code>, so that <em class="italic">x</em> <code>←</code> <em class="italic">y</em> + 2 expresses clearly what we are doing. Some languages such as Pascal use the symbol pair := to indicate assignment. Sadly, the back arrow is not on keyboards, and we are stuck with =. Note that, in Python, a <em class="italic">statement</em> is a command such as <code>print(</code>) or an assignment such as <code>x = 4.</code> An <em class="italic">expression</em> is a combination of variables or values<a id="_idIndexMarker051"/> and operations that returns a result.</p>&#13;
			<p lang="en-GB">As we’ve seen, Python has a special symbol for “<em class="italic">is the same as,</em>” and that symbol is ‘==’. Never confuse = and ==. It is very easy to write <code>if x = 5</code> instead of <code>if x == 5</code> and wonder why your program gives the wrong result.</p>&#13;
			<p lang="en-GB">Consider the following example of a simple Python program, where we calculate the area of a circle. The names <code>radius</code>, <code>pi</code>, and <code>area</code> are all chosen by the programmer. We could have used other names, but these are more obvious to the reader:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
radius = 2.5                # Define the radius as 2.5&#13;
pi = 3.142                  # Define the value of pi&#13;
area = pi*radius*radius     # Calculate the area of a circle&#13;
print(area)                 # The print function prints the value of the area on the display</pre>&#13;
			<p lang="en-GB">Recall that a Python name consists of letters and (optionally) numbers and underscores, but the first character <a id="_idIndexMarker052"/>in the name must be a letter and not a number. Uppercase and lowercase letters are regarded as being different in Python – that is, <code>tesT22</code> and <code>test22</code> are different names. It is good practice to choose meaningful names because that makes it easier to read a program. Consider the following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
wagesFred = hoursWorkedFred*12 + hourOvertimeFred*18</pre>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">The preceding expression is verbose but clear to a human reader. This is an example of <em class="italic">camelCase</em>, a popular term for names that consist of words joined without spaces, using a capital letter to indicate each word in the chain, <code>asWeAreDoingNow</code>. Remember that Python variables and labels do not start with a capital letter (that’s a convention and not a requirement).</p>&#13;
			<p lang="en-GB">There are two classes<a id="_idIndexMarker053"/> of data elements – constants and variables. A <em class="italic">constant</em> is given a value when it is first named, and that value cannot be changed – for example, if you define <code>x = 2</code> as a constant in a language such as C, the value of <em class="italic">x</em> is fixed (e.g., the expression <code>x = 3</code> would be illegal). A <em class="italic">variable</em> is an element that can be<a id="_idIndexMarker054"/> modified. Python does not support constants.</p>&#13;
			<p lang="en-GB">Let’s calculate the sum of the first <em class="italic">n</em> integers, <em class="italic">s</em> = 1 + 2 + 3 + … + <em class="italic">n</em>. Algebra tells us that the sum of <em class="italic">n</em> integers is <em class="italic">n</em>(<em class="italic">n</em> + 1)/2. We can convert this into the following Python program:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
n = int(input("How many integers are you adding? "))&#13;
s = n * (n + 1)/2&#13;
print("Sum of ",n, " integers is",s)    # We used double quotes " instead of single</pre>&#13;
			<p lang="en-GB">This three-line Python program asks for an integer, performs the calculation, and prints the result. Let’s suppose we don’t know the formula for the sum of the first <em class="italic">n</em> integers. We can do it the hard way by adding them up one by one. The Python code to do this is given in <em class="italic">Listing 2.3</em>.</p>&#13;
			<p lang="en-GB">We have not covered<a id="_idIndexMarker055"/> all aspects of this program in detail yet. It is given here to demonstrate the essential simplicity of Python. However, note that Python allows you to request input from the keyboard and provide a prompt at the same time.</p>&#13;
			<p>&#13;
				<div>&#13;
					<img class="_idGenObjectAttribute-1" src="img/Figure_2.03_B19624.jpg" alt="Figure 2.3 – A Python program to add the first n integers" width="1165" height="550"/>&#13;
				</p>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.3 – A Python program to add the first n integers</p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">Our next topic introduces one of Python’s key elements – a feature that is immensely powerful and flexible and one that makes Python such a popular language, especially for beginners. We will describe the list.</p>&#13;
			<h2 id="_idParaDest-32" lang="en-GB"><a id="_idTextAnchor032"/>The list – a Python key data structure</h2>&#13;
			<p lang="en-GB">We now introduce Python’s <em class="italic">list</em>, which that groups together<a id="_idIndexMarker056"/> a sequence of elements. We show how the elements of a list can be accessed. Because the list is such a key feature, we will return to it several times, each time introducing new features.</p>&#13;
			<p lang="en-GB">A data structure<a id="_idIndexMarker057"/> is an ordered collection of data elements. The term <em class="italic">ordered</em> indicates that the position of a data element matters – for example, in everyday life, the week is ordered because the sequence of the days is fixed. A <em class="italic">table</em>, a <em class="italic">stack</em>, a <em class="italic">queue</em>, a <em class="italic">list</em>, a <em class="italic">heap</em>, a <em class="italic">pile</em>, a <em class="italic">file</em>, and an <em class="italic">array</em> all embody the idea of a data structure. In English, a <em class="italic">sackload</em> of books implies an <em class="italic">unordered</em> collection of items. Python does have a special data <a id="_idIndexMarker058"/>structure for unordered items, called a set. We will not use sets in this chapter.</p>&#13;
			<p lang="en-GB">Like any other object, the programmer assigns a name to a list. The following Python list gives the result of eight consecutive exams taken by a student, expressed as a percentage:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
myTest = [63, 67, 70, 90, 71, 83, 70, 76]</pre>&#13;
			<p lang="en-GB">We have given the list a meaningful name, <code>myTest</code>. In Python, a list is enclosed in square brackets and the items are separated by commas. Lists can grow (items added to them) and shrink (items removed). You can have an empty list – for example, <code>abc = []</code>.</p>&#13;
			<p lang="en-GB">The whole point of a list<a id="_idIndexMarker059"/> is to be able to access individual items and manipulate them – for example, we might want to find the highest result or the lowest result, or the average in the <code>myTest</code> list. Therefore, we need to specify the location of an item. Mathematicians use <em class="italic">subscripts</em> for this task – for example, they may write <code>myTest</code>5. Unfortunately, computer science arose in the dark age of the mechanical courier typewriter script, when different fonts, colors, italics style, and subscripts didn’t exist. So, we have to use the symbols that are on all keyboards to indicate a location within a list.</p>&#13;
			<p lang="en-GB">Python indicates the position of an item in a list (or other data structures) by means of <em class="italic">parentheses</em> – for example, element 3 in <code>myTest</code> is expressed as <code>myTest[3]</code>. The first element of a list is position 0 because computers count from zero. The first value in <code>myTest</code> is <code>myTest[0]</code>, which is 63. Similarly, the last result is <code>myTest[7]</code>, which is 76. We have 8 results, numbered 0 to 7.</p>&#13;
			<p lang="en-GB">Python is a more flexible language than some. In Python, the list is a “<em class="italic">one size fits all</em>” data structure. If you want to put different types of items in a list, you can. Other computer languages require a list to have identical items (e.g., all integers, all floats, or all strings). The following example demonstrates some legal lists in Python. As you can see, you can even have a list of lists:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
roomTemps = [15,17,14,23,22,19]                       # A list of six integers&#13;
words     = ['this', 'that', 'then']                  # A list of three strings&#13;
x47       = [x21,timeSlot,oldValue]                   # A list of three variables&#13;
opCodes   = [['add',3,4],['jmp',12,1],['stop',0,0]]   # A list of three lists&#13;
mixedUp   = [15,time,'test',x[4]]                     # A list of mixed elements</pre>&#13;
			<pre class="source-code">inputs    = []                                        # An empty list</pre>&#13;
			<p lang="en-GB">Note that we have aligned the <em class="italic">equals</em> symbols in a column on the left. This is not a feature of Python. Nor is it a requirement. We do it because it makes the code easier to read and makes debugging easier.</p>&#13;
			<p lang="en-GB">Let’s return to the shopping list example and call the list <code>veg1</code>. We can set up this list with the following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
veg1 = ['potatoes', 'onions', 'tomatoes']         # A list of three strings</pre>&#13;
			<p lang="en-GB">The individual items<a id="_idIndexMarker060"/> in this list are in quotation marks. Why? Because they are strings – that is, text. Without quotations, the items would refer to variables that were defined earlier, such as the following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
opClass = 4                      # Define opClass&#13;
addOp   = ['add', opClass]       # A list with an instruction name and its class</pre>&#13;
			<h2 id="_idParaDest-33" lang="en-GB"><a id="_idTextAnchor033"/>Slicing lists and strings</h2>&#13;
			<p lang="en-GB">Here, we will demonstrate<a id="_idIndexMarker061"/> how you can take<a id="_idIndexMarker062"/> a string or a list and extract data elements (i.e., the slices) from a string or a list. The individual characters of a string can be accessed – for example, if <code>y = 'absde'</code>, then <code>y[0] = 'a', y[1]= 'b', y[2]= 's', </code>, and so on.</p>&#13;
			<p lang="en-GB">Python lets you select the last element in a string or list by using the - 1 <em class="italic">index</em> – for example, if you write <code>x = y[-1]</code>, <code>then x = 'e'</code>. Similarly, <code>y[-2]is 'd'</code> (i.e., the next but one from the end).</p>&#13;
			<p lang="en-GB">You can select a slice of a string or list using the <code>list[start:end]</code> notation. The slice specified by <code>[start:end]</code> selects elements from <code>start</code> to <code>end - 1</code> that is, you specify the end as the element <em class="italic">after</em> the last element you require. If <code>q = 'abcdefg'</code>, then the <code>r = q[2:5]</code> slice assigns <code>r = '</code><code>cde'</code>.</p>&#13;
			<p lang="en-GB">The expression <code>z = q[3:]</code>refers to all elements from 3 to the end of the list, and assigns <code>'defg'</code> to <code>z</code>. This is a remarkably useful feature because it allows us to take a text string such as <code>s='R14'</code> and extract the numeric value of the register with <code>t=int(s[1:])</code>. The expression <code>s[1:]</code> returns a substring from the second character to the end – that is, '<code>R14</code>' becomes '<code>14</code>'. This value is a string type. The <code>int(</code>'<code>14</code>'<code>)</code> operation converts the string type to an integer type and returns 14.</p>&#13;
			<p lang="en-GB">The <code>len</code> function returns the length of a string. If <code>y='absde'</code>, <code>p=len(y)</code> returns 5 because there are 5 characters in the string.</p>&#13;
			<p lang="en-GB">Consider a list of assembly language instructions <code>– ops=['ADD',</code> <code>'MUL',</code> <code>'BNE',</code> <code>'LDRL']</code>. If we write <code>len(ops)</code>, we get the result <code>4</code>, because there are 4 strings in the <code>ops</code> list. Suppose we write <code>x=ops[3][2]</code>. The value of <code>ops[3] </code>is <code>'LDRL'</code>, and the value of <code>LDRL[2]</code> is '<code>R</code>'. In other words, we can extract one or more characters from a string in a list of strings. The <code>x[a][b]</code> notation means to take item <code>a</code> of list <code>x</code> and then take item <code>b</code> of that element.</p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">We have used <a id="_idIndexMarker063"/>functions <a id="_idIndexMarker064"/>such as <code>print()</code> and <code>len()</code>. We will now discuss functions in a little more detail. Later, we show you how you can define your own functions as well as use Python’s built-in functions.</p>&#13;
			<h1 id="_idParaDest-34" lang="en-GB"><a id="_idTextAnchor034"/>Functions in Python</h1>&#13;
			<p lang="en-GB">Before continuing, we need<a id="_idIndexMarker065"/> to introduce the concept<a id="_idIndexMarker066"/> of a function in a high-level language. In high school math, we encounter functions such as <em class="italic">sqrt(x)</em>, which is an abbreviation of <em class="italic">square root</em> and returns the square <a id="_idIndexMarker067"/>root of <em class="italic">x</em> – for example, <em class="italic">sqrt(9) = 3</em>. Computer languages have borrowed the same concept.</p>&#13;
			<p lang="en-GB">Python provides functions that are built into the language. You call a function to perform a specific operation (it’s a bit like subcontracting in the real world) – for example, <code>len()</code>operates on strings and lists. If you call <code>len(x)</code> with the list <code>x</code>, it will return the number of items in that list. Consider the following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
toBuy = <strong class="bold">len</strong>(veg1)    # Determine the length of list veg1 (number of items in it)</pre>&#13;
			<p lang="en-GB">This takes the list we called <code>veg1</code> and counts the number of items in it, copying that value to the <code>toBuy</code> variable. After this operation has been executed, the value of <code>toBuy</code> will be the integer 3, since there are 3 items in <code>veg1</code>.</p>&#13;
			<p lang="en-GB">Let’s say you write the following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
q = 'abcdefgh'&#13;
print(len(q))</pre>&#13;
			<p lang="en-GB">Then, the number printed<a id="_idIndexMarker068"/> is 8 because there are eight characters<a id="_idIndexMarker069"/> in the string <code>q</code>.</p>&#13;
			<p lang="en-GB">Let’s suppose we have another list of food items:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
fruit1 = ['apples', 'oranges', 'grapes', 'bananas']</pre>&#13;
			<p lang="en-GB">Let’s add together the number of items in the two lists. We can do that with the following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
totalShopping = len(veg1) + len(fruit1)</pre>&#13;
			<p lang="en-GB">This expression calculates the length of both lists (getting the integers <code>3</code> and <code>4</code>, respectively), adds them together, and assigns the value <code>7</code> to the <code>totalShopping</code> variable. You can print this on the screen by using the <code>print()</code>function:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
print('Number of things to buy ', totalShopping)</pre>&#13;
			<p lang="en-GB">This expression consists of the Python word <code>print</code>, which displays something on the screen. The parameters used by <code>print</code> are enclosed in parentheses, separated by commas. A parameter in quotes is a string and is printed literally as it is. Remember that Python lets you use either single or double quotation marks. A parameter that is a variable is printed as its value. In this case, the value of the <code>totalShopping</code> parameter is <code>7</code>. This expression would display the following:</p>&#13;
			<pre class="source-code">Things to buy 7</pre>&#13;
			<p lang="en-GB">Consider the following expression (we’ve shaded the text to be printed). Variables whose values will be printed are in bold to improve understanding:</p>&#13;
			<p lang="en-GB"><code>print('</code>Total items to buy<code>', </code>totalShopping<code>, '</code>These are:<code> ', </code>fruit1<code>)</code></p>&#13;
			<p lang="en-GB">What would this print? The output would be the following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
Total items to buy 7 These are: ['apples', 'oranges', 'grapes', 'bananas']</pre>&#13;
			<p lang="en-GB">Is this what you would have expected? You might have been looking for a list in the order of apples, oranges, grapes. But what you asked for was the <code>fruit1</code> Python list, and that is exactly what you got (hence the brackets, and quotation marks around each item in the list). If we wanted to print the list as <code>apples, oranges, grapes, bananas</code>, we would have had to first convert the list of strings into a single string item (which we will discuss later). However, for the impatient among you, here’s how it’s done using the <code>join()</code> function:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
fruit1 = ['apples', 'oranges', 'grapes', 'bananas']&#13;
print('Fruit1 as list = ', fruit1)&#13;
fruit1 = (' ').join(fruit1)                # This function joins the individual strings&#13;
print('Fruit1 as string = ', fruit1)</pre>&#13;
			<p lang="en-GB">The output<a id="_idIndexMarker070"/> from this code is the<a id="_idIndexMarker071"/> following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
Fruit1 as list =  ['apples', 'oranges', 'grapes', 'bananas']&#13;
Fruit1 as string =  apples oranges grapes bananas</pre>&#13;
			<p lang="en-GB">Next, we will discuss the very item that makes a computer a computer – the conditional operation that selects one of two or more possible courses of action, depending on the result of a test.</p>&#13;
			<h1 id="_idParaDest-35" lang="en-GB"><a id="_idTextAnchor035"/>Conditional operations and decision-making</h1>&#13;
			<p lang="en-GB">And now for<a id="_idIndexMarker072"/> the biggie – the conditional operation. Let’s consider the following recipe:</p>&#13;
			<ol>&#13;
				<li lang="en-GB">Take two eggs.</li>&#13;
				<li lang="en-GB">Separate the whites.</li>&#13;
				<li lang="en-GB">Add sugar.</li>&#13;
				<li lang="en-GB">Beat until stiff.</li>&#13;
			</ol>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">These actions are carried out sequentially. The first three actions are simple operations. The fourth action is very different from the previous three, and it is this action that gives the computer its power. It’s an operation that performs one of two actions, depending on the outcome of a test. In this case, the eggs are beaten, then tested. If they are not sufficiently stiff, the beating is continued, they are retested, and so on.</p>&#13;
			<p lang="en-GB">What makes a computer<a id="_idIndexMarker073"/> so powerful is its ability to take decisions. Without a <em class="italic">decision-making</em> capacity, a computer could not respond to its environment; it could perform only the same calculation over and over again. The foundation of human intelligence is also decision-making. If you play chess, you use decision-making to choose the next move on the basis of the current board positions. The move you make is the one that will give you the best chance of winning from your current situation.</p>&#13;
			<p lang="en-GB">It’s the same with a computer. At any point in a program, the computer can be given two alternative courses of action. Depending on the outcome of a test, the computer chooses one of these courses of action to take and then carries out the appropriate operations for that decision.</p>&#13;
			<p lang="en-GB">A typical conditional operation<a id="_idIndexMarker074"/> is the <code>if</code> statement. In Python, this can be expressed as the following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
z = 9                        # Set z to 9&#13;
if <strong class="bold">x &gt; 5</strong>: z = 20           # If x is greater than 5, then make the value of z equal to 20.</pre>&#13;
			<p lang="en-GB">We’ve put the condition in bold, and the action is shaded. The action is carried out if, and only if, the condition is true. If the condition is not true, the action is ignored. For example, if <em class="italic">x</em> is 6, the value of <em class="italic">z</em> will be 20. If <em class="italic">x</em> is 4, the value of <em class="italic">z</em> will remain at 9.</p>&#13;
			<p lang="en-GB">Computers perform simple tests whose outcome is one of the two Boolean values, <code>True</code> or <code>False</code>. More often than not, the test asks, “<em class="italic">Is this variable equal </em><em class="italic">to zero?</em>”</p>&#13;
			<p lang="en-GB">In Python, the <code>if</code> statement has the following form:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
if condition: action         # The colon is mandatory, and indicates the end of the condition</pre>&#13;
			<p lang="en-GB">The only two reserved Python elements are <code>if</code> and the colon. The term <code>condition</code> is any Python expression that returns the <code>True</code> or <code>False</code> value, and <code>action</code> is any block of instructions the computer will execute if the condition is <code>True</code>. Some programmers put the action on a new line. In this case, the action MUST be indented, such as the following <em class="italic">Figure 2</em><em class="italic">.4</em>:</p>&#13;
			<p>&#13;
				<div>&#13;
					<img class="_idGenObjectAttribute-1" src="img/Figure_2.04_B19624.jpg" alt="Figure 2.4 – A Python program to add the first n integers" width="1134" height="303"/>&#13;
				</p>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.4 – A Python program to add the first n integers</p>&#13;
			<p lang="en-GB">Although Python lets you use any indentation, good practice suggests the indentation be four spaces.</p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">The condition is <code>x &gt; 5</code>, and the action is <code>z = 20</code>. The condition<a id="_idIndexMarker075"/> is a Boolean logic expression that yields<a id="_idIndexMarker076"/> one of two outcomes – True if <em class="italic">x</em> is greater than 5 and False if <em class="italic">x</em> is not greater than 5.</p>&#13;
			<h2 id="_idParaDest-36" lang="en-GB"><a id="_idTextAnchor036"/>Using a conditional expression in Python</h2>&#13;
			<p lang="en-GB">A Python program<a id="_idIndexMarker077"/> to control the temperature<a id="_idIndexMarker078"/> of a room might look something like this:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
cold = 15                        # Define the temperature at which we turn on the heater&#13;
hot = 25                         # The temperature at which we turn on the cooler&#13;
nowTemp = getTemp()              # getTemp() is a function that reads the thermometer&#13;
if nowTemp &lt; cold: heat(on)      # If too cold, then turn on the heater&#13;
if nowTemp &gt; hot:  cool(on)      # If too hot, then turn on the cooler&#13;
if nowTemp &gt; cold: heat(off)     # If not cold, then turn off the heater&#13;
if nowTemp &lt; hot:  cool(off)     # If not hot, then turn off the cooler</pre>&#13;
			<p lang="en-GB">Typical Boolean conditions are as follows:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
x == y&#13;
x != y&#13;
x &gt;  y&#13;
x &lt;  y</pre>&#13;
			<p lang="en-GB">These four conditions are <em class="italic">equal to</em>, <em class="italic">not equal to</em>, <em class="italic">greater than</em>, and <em class="italic">less than</em>, respectively. Remember<a id="_idIndexMarker079"/> that the expression <em class="italic">x == y</em> reads, “<em class="italic">Is x equal to y?</em>” Consider the following <a id="_idIndexMarker080"/>example (using the Python IDLE interpreter):</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
&gt;&gt;&gt; x = 3&#13;
&gt;&gt;&gt; y = 4&#13;
&gt;&gt;&gt; x == y&#13;
False&#13;
&gt;&gt;&gt; x + 1 == y&#13;
True</pre>&#13;
			<h3 lang="en-GB">Examples of if statements</h3>&#13;
			<p lang="en-GB">A variable, <em class="italic">x</em>, varies between<a id="_idIndexMarker081"/> 0 and 9, inclusive. Let’s say we want <em class="italic">y</em> to be 0 if <em class="italic">x</em> is less than 5, 1 if <em class="italic">x</em> &gt; 4 and <em class="italic">x</em> &lt; 8, and 2 if <em class="italic">x</em> &gt; 7. We can express this as follows:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
if x &lt; 5: y = 0&#13;
if x &gt; 4 <strong class="bold">and</strong> x &lt; 8: y = 1    # A compound test. Is x greater than 4 AND x is less than 8&#13;
if x &gt; 7: y = 2</pre>&#13;
			<p lang="en-GB">The second <code>if</code> statement tests two conditions together by using an <code>and</code> operator. Both conditions, <code>x &gt; 4</code> and <code>x &lt; 8</code>, must be true for the whole expression to be true.</p>&#13;
			<p lang="en-GB">We can also use Python’s <code>or</code> operation, which means if any of the conditions are true. You can write complex conditions such as the following:</p>&#13;
			<pre class="source-code">if (x &gt; 4 <strong class="bold">and</strong> x &lt; 8) or (z == 5): y = 1</pre>&#13;
			<p lang="en-GB">As in conventional arithmetic, it is necessary to use parentheses to ensure that operations are carried out in the appropriate sequence.</p>&#13;
			<p lang="en-GB">We can test this code by generating sequential values of <em class="italic">x</em> and printing the corresponding value of <em class="italic">y</em>, as the following code in <em class="italic">Figure 2</em><em class="italic">.5</em> demonstrates. The first statement executes the indented block for x is 0 to 9 (one less than the range given):</p>&#13;
			<p>&#13;
				<div>&#13;
					<img class="_idGenObjectAttribute-1" src="img/Figure_2.05_B19624.jpg" alt="Figure 2.5 – Demonstrating iteration " width="1184" height="364"/>&#13;
				</p>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.5 – Demonstrating iteration </p>&#13;
			<p lang="en-GB">The output from this code<a id="_idIndexMarker082"/> is the following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
x =  0 y =  0&#13;
x =  1 y =  0&#13;
x =  2 y =  0&#13;
x =  3 y =  0&#13;
x =  4 y =  0&#13;
x =  5 y =  1&#13;
x =  6 y =  1&#13;
x =  7 y =  1&#13;
x =  8 y =  2&#13;
x =  9 y =  2</pre>&#13;
			<h2 id="_idParaDest-37" lang="en-GB"><a id="_idTextAnchor037"/>Python’s if … else</h2>&#13;
			<p lang="en-GB">The preceding code<a id="_idIndexMarker083"/> is correct, but it’s not efficient. If the result of the first <code>if</code> is true, the other <code>if</code> statements can’t be true, and yet they are tested. What we need is a test in which if it is true, we perform the appropriate action. If it is not true, we perform a different action. We have a word for this in English – it’s called “else”:</p>&#13;
			<p lang="en-GB">Consider the following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<strong class="bold">if</strong>   x &lt; 5:          # Is x less than 5?&#13;
     y = 0           # If x is less than 5, then y = 0&#13;
<strong class="bold">else</strong>:</pre>&#13;
			<pre class="source-code">     y = 3           # otherwise, y is 3</pre>&#13;
			<p lang="en-GB">Python has an <code>elif</code> (else if) statement that allows multiple tests. We can use <code>elif</code> to perform another <code>if</code> if the result of the first <code>if</code> is false. Consider the preceding code using <code>elif</code>:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<strong class="bold">if</strong>   x &lt; 5:                # Is x less than 5?&#13;
     y = 0                 # If x is less than 5, then y = 0&#13;
<strong class="bold">elif</strong> x &gt; 4 and x &lt; 8:      # If x is not less than 5, test whether it's between 5 and 7&#13;
     y = 1                 # If x is between 5 and 7, then set y to 1&#13;
<strong class="bold">elif</strong> x &gt; 7:                # If both previous tests fail, then test whether x is 8 or more&#13;
     y = 2&#13;
print('x and y ', x, y)</pre>&#13;
			<p lang="en-GB">In this case, the computer drops out of this construct as soon as one of the conditional tests is true. It does exactly the same as the preceding example using <code>if</code> statements, but it is more efficient because it terminates as soon as a condition is satisfied. That is, once any of the tests yields true, its associated action is carried out, and then control passes to the next statement after the <code>if … elif</code> sequence (in this case, <code>print</code>).</p>&#13;
			<p lang="en-GB">The great thing about programming is that there are many ways of doing the same thing. Suppose we know that a variable, <em class="italic">x</em>, is always in the range from 0 to 10, and we want to know the value of <em class="italic">y</em> for each <em class="italic">x</em> (using the preceding algorithm). We can calculate the value of <em class="italic">y</em> as we did previously by using conditional statements and programming.</p>&#13;
			<p lang="en-GB">We can implement the algorithm <a id="_idIndexMarker084"/>without using an <code>if</code> statement by creating a <em class="italic">lookup table</em> that provides the value of <em class="italic">y</em> for any <em class="italic">x</em>. Let’s call this table <code>lookupY</code> and load it with the values of <em class="italic">y</em> for <em class="italic">x</em> inputs from 0 to 10. <em class="italic">Table 2.1</em> gives the value of <em class="italic">y</em> for each possible <em class="italic">x</em>.</p>&#13;
			<table id="table001-1" class="No-Table-Style TableOverride-1">&#13;
				<colgroup>&#13;
					<col/>&#13;
					<col/>&#13;
				</colgroup>&#13;
				<thead>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-1">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><strong class="bold CharOverride-2">Input x</strong></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><strong class="bold CharOverride-2">Output y</strong></p>&#13;
						</td>&#13;
					</tr>&#13;
				</thead>&#13;
				<tbody>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">0</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">0</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">1</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">0</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">2</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">0</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">3</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">0</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">4</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">0</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">5</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">1</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">6</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">1</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">7</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">1</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">8</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">2</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">9</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">2</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-5">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">10</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-6">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB">2</p>&#13;
						</td>&#13;
					</tr>&#13;
				</tbody>&#13;
			</table>&#13;
			<p class="IMG---Caption">Table 2.1 – Using a lookup table to perform a Boolean operation</p>&#13;
			<p lang="en-GB">We can code this <code>lookup</code> operation in Python in just two lines:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
lookup  = [0,0,0,0,0,1,1,1,2,2,2]      # Create a lookup table&#13;
y = lookup[x]                          # Read the value of y from the lookup table</pre>&#13;
			<p lang="en-GB">When we simulate a computer, we need to load programs to be simulated. The next section describes how we can read a source file (in text format) from memory into the simulator.</p>&#13;
			<h2 id="_idParaDest-38" lang="en-GB"><a id="_idTextAnchor038"/>Reading data from a file</h2>&#13;
			<p lang="en-GB">When testing an assembler or simulator, you need to enter the test data (the source program). This can be done in three ways.</p>&#13;
			<ul>&#13;
				<li lang="en-GB">Include the data in the program – for example, <code>myProg = ['add r1,r2', 'inc r1', '</code><code>beq 7']</code></li>&#13;
				<li lang="en-GB">Get the text from the keyboard – for example, <code>myProg = input('Type </code><code>program ')</code></li>&#13;
				<li lang="en-GB">Create a text file in memory and read it from your program</li>&#13;
			</ul>&#13;
			<p lang="en-GB">The first two techniques are great for testing a very short program but less so for a long source program. The third technique means that you write your source code using your favorite text editor, save it as a <code>.txt</code> file, and then read that file in your assembler.</p>&#13;
			<p lang="en-GB">I often put the name of my test program in my assembler during development work to avoid typing the name (because I’m working on the same source file most of the time). Let’s suppose my file is called <code>c.txt</code>:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
myFile = 'E:/simPython/c.txt'          # This is my source text file on my computer&#13;
<strong class="bold">with open</strong>(myFile,<strong class="bold">'r'</strong>) <strong class="bold">as</strong> sFile:        # Open the file for reading (indicated by 'r')&#13;
    newFile = sFile.<strong class="bold">readlines()</strong>        # Read the code and copy to newFile.</pre>&#13;
			<p lang="en-GB">In the preceding code, the <code>myFile</code> variable provides the name of the source file as a string. Then, the <code>with open</code> operation opens and reads <code>myFile</code>. This operation also closes the file after use. The preceding code opens <code>c.txt</code> for reading and creates a new file, <code>sFile</code>.</p>&#13;
			<p lang="en-GB">The <code>open</code> function can be used in three ways, as follows:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
open('thisFile')                       # Open a file&#13;
open('thatFile', 'r')                  # Open a file for reading&#13;
open('thatFile', 'w')                  # Open a file for writing</pre>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">It is good practice to close a file after you have used it, with <code>filename</code>.<code>close()</code>. Because the <code>with open</code> operation automatically closes a file at the end of an operation, it is not necessary to call the <code>close()</code> function.</p>&#13;
			<p lang="en-GB">The <code>readlines()</code> function operates on <code>sFile</code> to create a file, <code>newFile</code>, containing a list of the lines of my source code. The following fragment of code demonstrates reading a file from disk and cleaning up the end-of-line sequences in a text file. That’s because text files are stored with an <code>'\n'</code> sequence at the end of each line, and this sequence must be removed because it is not part of the source program. We will return to string processing later:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
#                                               # Test reading a file&#13;
with open("E:\simPython.txt",'r') as example:   # Open the file for reading&#13;
    theText = example.readlines()               # Read the file example&#13;
print('The source file ',theText)               # Display the file&#13;
for i in range(0,len(theText)):                 # This loop scans the file&#13;
    theText[i] = theText[i].rstrip()            # rstrip() removes end-of-file markers&#13;
print('The source file ',theText)</pre>&#13;
			<p lang="en-GB">The following is the output from this code. You can see how the <em class="italic">‘</em><code>\n</code><em class="italic">’ </em>sequences have been removed:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
%Run testRead.py&#13;
The source file  ['# test file\n', 'NOP\n', ' LDRL 5\n', ' NOP\n', 'STOP']&#13;
The source file  ['# test file', 'NOP', ' LDRL 5', ' NOP', 'STOP']</pre>&#13;
			<p lang="en-GB">We’ve provided enough information to demonstrate a short Python program that implements the simple sequence detector we described earlier.</p>&#13;
			<h3 lang="en-GB">Translating a token detector algorithm into Python</h3>&#13;
			<p lang="en-GB">We can readily translate our pseudocode to detect a sequence of red tokens in a stream of read/write tokens as follows. In this fragment of Python, you are invited to enter first the number of red tokens to detect, and then <code>r</code> or <code>w</code> to indicate the color of each token. Once the appropriate number of tokens has been detected, the program terminates:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
# Simple algorithm to detect consecutive tokens&#13;
maxRed = int(input("How many red tokens are you looking for? "))&#13;
go = 1&#13;
numRed = 0&#13;
while go == 1:&#13;
    y = input("Which token is it? Red or white? ")&#13;
    if y == 'w': numRed = 0&#13;
    else:        numRed = numRed + 1&#13;
    if numRed == maxRed: go = 0</pre>&#13;
			<pre class="source-code">print(maxRed, "Reds found")</pre>&#13;
			<p lang="en-GB">The output of this program for a sequence I entered was the following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
How many red tokens are you looking for? 3&#13;
Which token is it? Red or white? r&#13;
Which token is it? Red or white? r&#13;
Which token is it? Red or white? w&#13;
Which token is it? Red or white? r&#13;
Which token is it? Red or white? w&#13;
Which token is it? Red or white? w&#13;
Which token is it? Red or white? w&#13;
Which token is it? Red or white? r&#13;
Which token is it? Red or white? r&#13;
Which token is it? Red or white? r&#13;
3 Reds found</pre>&#13;
			<p lang="en-GB">A computer has three essential elements – an <strong class="bold">arithmetic and logical unit</strong> (<strong class="bold">ALU</strong>) that performs all arithmetic and logical operations on data, a memory that holds programs and data, and a control unit that reads the instructions from memory and executes them. In the next section, we will introduce some of the basic concepts of memory.</p>&#13;
			<h1 id="_idParaDest-39" lang="en-GB"><a id="_idTextAnchor039"/>Computer memory</h1>&#13;
			<p lang="en-GB">Now, we are going to introduce the <em class="italic">concept of memory</em>, the mechanism that holds programs and data. Real or <em class="italic">physical</em> memory is implemented as DRAM, flash memory, and disk drives. This memory is part of a computer’s hardware. We do not cover physical memory in this book. Instead, we will discuss <em class="italic">abstract memory</em> and how it is modeled by Python. This is the programmer’s view of memory.</p>&#13;
			<p lang="en-GB">All data is stored in physical memory, and all the data structures designed by a programmer must be mapped onto physical memory. The mapping process is the job of the operating system, and this book does not deal with the translation of abstract memory addresses into real memory addresses.</p>&#13;
			<p lang="en-GB">Consider the following Python list:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
friends = ['John', 'Jenny', 'Rumpelstiltskin']</pre>&#13;
			<p lang="en-GB">These three strings have the <code>[0]</code>, <code>[1]</code>, and <code>[2]</code> addresses in the <code>friends</code> list. The operating system maps these elements onto the physical memory storage locations. These strings each require a different number of physical memory locations because each one has a different length. Mercifully, computer users do not have to worry about any of that. That is the job of the operating system.</p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">We will now take a brief look at the concept of memory because you have to understand the nature of memory in order to understand how computers work, and how to write programs in assembly language.</p>&#13;
			<p lang="en-GB">First, consider our own memories. Human memory is a strange and <em class="italic">inexact</em> thing. An <em class="italic">event</em> triggers the recall or <em class="italic">retrieval</em> of a data element that we call a <em class="italic">memory</em>. The event may be a question that someone asks you, or it may be something that <em class="italic">reminds</em> you of an episode that took place in the past. Often, we remember information only partially, or even incorrectly.</p>&#13;
			<p lang="en-GB">Human memory seems to be accessed by matching an event against stored information. That is, our memory is <em class="italic">associative</em> because we associate one memory with another. A computer’s memory operates in a very different way and is best thought of as a <em class="italic">table</em> or <em class="italic">list</em> of stored items. You need to know where an item is on the list (its address) in order to access it. We will soon meet a Python memory, which is associative and called a <em class="italic">dictionary</em>. You don’t access a dictionary with an address but, instead, with a <em class="italic">key</em> that is associated with the required data element.</p>&#13;
			<p lang="en-GB"><em class="italic">Figure 2</em><em class="italic">.6</em> shows how a program to find the number of red tokens in a string of tokens is stored in a hypothetical memory. I must stress that the program is conceptual rather than actual because real computer instructions use rather more primitive machine-level instructions than these. This figure, called a <em class="italic">memory map</em>, shows the location of information within the memory. It’s a <em class="italic">snapshot</em> of the memory because it represents the state of the memory at a particular instant. The memory map also includes the <em class="italic">variables</em> used by the program and a string of digits. The stored program computer stores instructions, variables, and constants in the same memory.</p>&#13;
			<p lang="en-GB"><em class="italic">Figure 2</em><em class="italic">.6</em> demonstrates that each location in the memory contains either an <em class="italic">instruction</em> or a <em class="italic">data element</em>. Numbers 0 to 23 in the first column are <em class="italic">addresses</em> that express the position of data elements and instructions within the memory (addresses start from 0 rather than 1 because 0 is a valid identifier).</p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">The program is in locations 0 to 8, the variables in locations 9, 10, and 11, and the data (the tokens) in locations 12 to 23. You can regard the computer’s memory as a table of <em class="italic">items</em>, and the location of each item is its address – for example, memory location 1 contains the instruction <code>Set numRed to 0</code>, location 10 contains the value of the <code>numRed</code> element, and location 11 contains the value of the current data element (<code>R</code> or <code>W</code>). Locations 12 onward are in bold font to indicate that they contain the values of the sequence of tokens we operate on.</p>&#13;
			<p>&#13;
				<div>&#13;
					<img class="_idGenObjectAttribute-1" src="img/Figure_2.06_B19624.jpg" alt="Figure 2.6 – The memory map" width="1177" height="703"/>&#13;
				</p>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.6 – The memory map</p>&#13;
			<p lang="en-GB"><em class="italic">Figure 2</em><em class="italic">.6</em> is an abstract view of a computer’s memory for teaching purposes. Real memory is an array of locations, each of the same size (typically, 16, 32, or 64 bits). Individual instructions may occupy one, two, or more consecutive locations, depending on the actual size of the data.</p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">Although we will not describe physical memory<a id="_idIndexMarker085"/> in any detail, a few comments will help to distinguish it from abstract memory. <em class="italic">Figure 2</em><em class="italic">.7 </em>illustrates the organization of actual computer <em class="italic">memory</em> (e.g., DRAM). The processor provides memory with an address on the <em class="italic">address bus</em> and a control signal that selects either a <em class="italic">read</em> or a <em class="italic">write</em> cycle. In a <em class="italic">read cycle</em>, the memory puts data onto the <em class="italic">data bus</em> for the CPU to read. In a <em class="italic">write</em> <em class="italic">cycle</em>, data from the CPU is stored in the memory. Information enters or leaves memory (or any other functional part of a computer system) via a port. A real computer has a hierarchy of memory systems implemented with different technologies – for example, DRAM for main memory, SSD for the much slower secondary storage, and high-speed cache for frequently used data and instructions. In this book, we deal with only abstract memory implemented in Python and not real physical memory. The job of the operating system is to integrate the abstract memory addresses used by the programmer with the real physical addresses of data in memory.</p>&#13;
			<p lang="en-GB">A computer’s main store is composed of high-speed <strong class="bold">random-access memory</strong> (<strong class="bold">RAM</strong>) that can be written<a id="_idIndexMarker086"/> to or read from. It is invariably composed of <em class="italic">dynamic</em> semiconductor memory, DRAM (today, it’s DDR4 and DDR5 technology), and the size of a typical PC’s RAM generally ranges from 4 GB for tablets to 64 GB for high-performance systems. RAM is volatile, which means that its data is lost when you switch it off (in comparison with flash memory, which retains data).</p>&#13;
			<p lang="en-GB">The term <em class="italic">dynamic</em> in the DRAM acronym describes its storage mechanism (as a charge on a capacitor, which <a id="_idIndexMarker087"/>leaks away and has to be periodically written back). From a user’s point of view, DRAM provides very cheap, large-volume storage. From a designer’s point of view, DRAM poses particular design problems because<a id="_idIndexMarker088"/> of its operating characteristics. An alternative to DRAM is <strong class="bold">static RAM</strong> (<strong class="bold">SRAM</strong>), which is easier to use and faster than DRAM but is far more expensive, preventing its use in PCs, except for special applications such as cache memory. Cache memory is a special high-speed memory that contains frequently used data.</p>&#13;
			<p lang="en-GB">Secondary (physical) storage is a <strong class="bold">hard disk drive</strong> (<strong class="bold">HDD</strong>) or <strong class="bold">solid-state drive</strong> (<strong class="bold">SSD</strong>). Both these store large quantities<a id="_idIndexMarker089"/> of data and are far slower than the DRAM<a id="_idIndexMarker090"/> of the main store. Computers do not directly access the secondary store. The operating system transfers data, a page at a time, from the SSD/HDD to a computer’s main store. This is invisible to the user.</p>&#13;
			<p lang="en-GB">The next step in describing abstract memory<a id="_idIndexMarker091"/> is to introduce a notation, called RTL, which is often employed<a id="_idIndexMarker092"/> to describe or define memory transactions.</p>&#13;
			<p>&#13;
				<div>&#13;
					<img class="_idGenObjectAttribute-1" src="img/Figure_2.07_B19624.jpg" alt="Figure 2.7 – The memory system" width="1685" height="1118"/>&#13;
				</p>&#13;
			</div>&#13;
			<p class="IMG---Caption">Figure 2.7 – The memory system</p>&#13;
			<h2 id="_idParaDest-40" lang="en-GB"><a id="_idTextAnchor040"/>Register transfer language</h2>&#13;
			<p lang="en-GB">Describing computer operations in words <a id="_idIndexMarker093"/>is often cumbersome. Here, we will introduce <strong class="bold">register transfer language</strong> (<strong class="bold">RTL</strong>), which makes it easy to define computer operations. RTL is neither an assembly language nor a programming language. It is a notation.</p>&#13;
			<p lang="en-GB">It is important to distinguish between a memory <em class="italic">location</em> and its <em class="italic">contents</em>. Register transfer language uses square brackets, <code>[ ]</code>, to indicate the <em class="italic">contents</em> of a memory location. The expression <code>[15] = maxRed</code> is interpreted as <em class="italic">the contents of memory location 15 contain the value of maxRed</em>. If we wish to give the memory a name, we can write, for example, <code>dram[15]</code> rather than just <code>[15]</code>.</p>&#13;
			<p lang="en-GB">The ← symbol indicates a <em class="italic">data transfer</em>. For example, the expression [15] ← [15]<code> + 1 </code>is interpreted as <em class="italic">the contents of memory location 15 are increased by 1 and the result is put back in memory location 15</em>. Consider the following RTL expressions:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
a.    [20] = 5&#13;
b.    [20] ← 6&#13;
c.    [20] ← [6]&#13;
d.    [12] ← [3] + 4&#13;
e.    [19] ← [7] + [8]&#13;
f.    [4] ← [[2]]</pre>&#13;
			<p lang="en-GB">Expression (a) states that the contents of memory location 20 are equal to the number 5. Expression (b) states that the number 6 is put into (<em class="italic">copied</em> or <em class="italic">loaded</em> into) memory location 20. Expression (c) indicates that the contents of memory location 6 are copied into memory location 20.</p>&#13;
			<p lang="en-GB">Expression (d) indicates that 4 is added to the contents of location 3, and the sum is put in location 12. Expression (e) indicates that the sum of the contents of locations 7 and 8 are added and put in location 19.</p>&#13;
			<p lang="en-GB">Expression (f) indicates that the contents of location 2 are used to access memory to read a value, which is an address. The contents of that second address are put in location 4. This expression is the most interesting because it introduces the notion of a <em class="italic">pointer</em>. The value of memory location 2, <code>[2]</code>, is a pointer that indicates (points to) another memory location. If we perform <code>[2] ← [2] + 1</code>, the pointer now points to the next location<a id="_idIndexMarker094"/> in memory. We will<a id="_idIndexMarker095"/> return to this when we discuss indirect addressing (also called pointer-based addressing or indexed addressing).</p>&#13;
			<p lang="en-GB">The “←” RTL symbol is equivalent<a id="_idIndexMarker096"/> to the conventional assignment symbol, “=”, used in some high-level languages. RTL is not a computer language; it is a notation used to define computer operations.</p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">Nested square brackets such as <code>[[4]]</code> indicate the contents of the memory location, whose address <a id="_idIndexMarker097"/>is given by the contents of memory location 4. This is called indirect addressing. Figure 2.8 demonstrates how location 4 points at location 12, which contains the value of the required data – that is, 9.</p>&#13;
			<p>&#13;
				<div>&#13;
					<img class="_idGenObjectAttribute-1" src="img/Figure_2.08_B19624.jpg" alt="Figure 2.8 – Pointer-based addressing" width="645" height="199"/>&#13;
				</p>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.8 – Pointer-based addressing</p>&#13;
			<h3 lang="en-GB">An example of the use of RTL</h3>&#13;
			<p lang="en-GB">Let’s look at an example<a id="_idIndexMarker098"/> of the way that RTL can be used. <em class="italic">Figure 2</em><em class="italic">.9 </em>illustrates a small abstract memory with 12 locations.</p>&#13;
			<table id="table002-1" class="No-Table-Style">&#13;
				<colgroup>&#13;
					<col/>&#13;
					<col/>&#13;
				</colgroup>&#13;
				<thead>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">Address</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">Data</p>&#13;
						</td>&#13;
					</tr>&#13;
				</thead>&#13;
				<tbody>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">0</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">6</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">1</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">2</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">2</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">3</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">3</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">4</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">4</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">5</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">5</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">2</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">6</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">8</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">7</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">1</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">8</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">5</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">9</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">2</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">10</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">1</p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">11</p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB">5</p>&#13;
						</td>&#13;
					</tr>&#13;
				</tbody>&#13;
			</table>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.9 – An example of the memory map of an abstract memory</p>&#13;
			<p lang="en-GB">We wish to evaluate the expression <code>X = 3 + [4] + [1+[3]] + [[10]] + [[9]*3]</code>. This expression can be evaluated by summing its components, as follows:</p>&#13;
			<ul>&#13;
				<li lang="en-GB">The first element in the sequence is the literal 3</li>&#13;
				<li lang="en-GB">The expression [4] represents the contents of memory location 4 – that is, 5.</li>&#13;
				<li lang="en-GB">The expression [1+[3]] represents [1 + 4] = [5] = 2</li>&#13;
				<li lang="en-GB">The expression [[10]] represents [1], which is 2</li>&#13;
				<li lang="en-GB">The expression [[9]*3] represents [2*3] = [6] = 8</li>&#13;
			</ul>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">The final value is 3 + 5 + 2 + 2 + 8 = 20.</p>&#13;
			<p lang="en-GB">The next step is to simulate abstract memory in Python.</p>&#13;
			<h3 lang="en-GB">Simulating memory in Python</h3>&#13;
			<p lang="en-GB">We now demonstrate how computer memory can be simulated in a Python program. To simulate a computer’s main memory (the immediate access store, often called DRAM), we just create a Python list. A typical PC has over 4G memory locations (222). Here, we will create tiny memories that are easy to simulate. If we call the memory <code>mem</code>, we can create a memory with eight locations and initialize them to zero with the following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
mem = [0,0,0,0,0,0,0,0]         # Create 8-location memory. All locations set to zero</pre>&#13;
			<p lang="en-GB">This initialization mechanism is inconvenient if you have much larger memory. If so, you can use a Python facility that lets you create a list and fill it with identical elements. Let’s consider the following:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
mem = [0]*128                   # Create memory with 128 locations, all set to 0</pre>&#13;
			<p lang="en-GB">To demonstrate simple operations on the memory, we’ll load two numbers into the simulated memory, retrieve them, add them, and store the result in memory using RTL notation:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
mem[3] ← 4                      # Load location 3 with 4. Note this is RTL not Python&#13;
mem[5] ← 9                      # Load location 5 with 9&#13;
sum    ← mem[3] + mem[5]        # Add contents of locations 3 and  5, and put result in sum&#13;
mem[6] ← sum                    # Store sum in location 6</pre>&#13;
			<p lang="en-GB">We can translate this into Python and print the contents of location 6 as follows:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
mem = [0]*8                     # Create memory with 8 locations, all set to 0. This is Python&#13;
mem[3] = 4                      # Load location 3 with 4&#13;
mem[5] = 9                      # Load location 5 with 9&#13;
sum    = mem[3] + mem[5]        # Add locations 3 and 5 and assign result to sum&#13;
mem[6] = sum                    # Store sum in location 6&#13;
print('mem[6] =', mem[6])       # Print contents of location 6&#13;
print('Memory =', mem)          # Print all memory locations</pre>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">As you can see, Python is remarkably close to RTL notation. Now, let’s use data in memory as a pointer. Recall that a pointer is a value that points to another location in memory. <em class="italic">Figure 2</em><em class="italic">.10</em> shows an eight-location memory map with five integers stored in the memory.</p>&#13;
			<p class="IMG---Figure" lang="en-GB"><img class="_idGenObjectAttribute-2" src="img/Figure_2.09_B19624.jpg" alt="Figure 2.10 – A memory map of an addition operation" width="574" height="347"/></p>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.10 – A memory map of an addition operation</p>&#13;
			<p lang="en-GB">We will perform the following operation, first in RTL and then in Python:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
mem[mem[0]]← mem[mem[1]] + mem[mem[2]]</pre>&#13;
			<p lang="en-GB">Alternatively, if we use<a id="_idIndexMarker099"/> the simplified RTL where “<code>mem</code>” is understood, we can <a id="_idIndexMarker100"/>write this as follows:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
[[0]]← [[1]] + [[2]]</pre>&#13;
			<p lang="en-GB">This operation adds the contents of the memory location pointed at by the contents of location 1 to the contents of the memory location pointed at by the contents of memory location 2, putting the result in the contents of the memory location pointed at by memory location 0. We can express this in Python as follows:</p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
mem = [7,5,4,0,3,9,0,0]           # Preset the memory. Unspecified locations are set to 0&#13;
pointer0 = mem[0]                 # Get pointer 0 to result&#13;
pointer1 = mem[1]                 # Get pointer 1 to source 1&#13;
pointer2 = mem[2]                 # Get pointer 2 to source 2&#13;
source1  = mem[pointer1]          # Get source data 1&#13;
source2  = mem[pointer2]          # Get source data 2&#13;
result   = source1 + source2      # Do the addition&#13;
mem[pointer0] = result            # Store result at the location pointed at by pointer 0&#13;
print('Memory =', mem)            # Print all memory locations</pre>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">This program will print the contents<a id="_idIndexMarker101"/> of memory as Memory <code>= [7, 5, 4, 0, 3, 9, 0, 12].</code> As you can see, memory location 7 has changed from<a id="_idIndexMarker102"/> its initial value of 0 to the value 12 – that is, the sum of the contents of memory locations 5 and 4.</p>&#13;
			<h1 id="_idParaDest-41" lang="en-GB"><a id="_idTextAnchor041"/>Summary</h1>&#13;
			<p lang="en-GB">One of the main themes of this book is writing a program to simulate a computer so that you can run programs on a computer you designed yourself. To do this, it is necessary to write a simulator in a suitable high-level language. We chose Python because of its availability, simplicity, and power.</p>&#13;
			<p lang="en-GB">This chapter has provided a brief overview of Python by introducing the data structures and flow-control features you need to design a computer simulator. We have covered the basics of Python in sufficient detail for you to follow simple programs that don’t use any of Python’s more esoteric features.</p>&#13;
			<p lang="en-GB">Two important and very fundamental features of Python are the string (which is important, as simulation involves text processing) and the list. The list is simply a sequence of elements separated by commas and enclosed by square brackets. What is special about Python’s lists is that the elements can be any data elements, and they are easy to access – for example, element 10 of list <code>x</code> is simply <code>x[10]</code>. Equally, character 5 of string <code>x = 'a test'</code> and is expressed as <code>[5]</code> and is <code>'i'</code>. Like all computer languages, Python numbers elements from 0.</p>&#13;
			<p lang="en-GB">We also looked at the function, a piece of code that can be called from anywhere in a program to carry out some operation. You don’t need functions. However, if you do the same thing often, calling a chunk of code to do the job makes the program easier to read and debug.</p>&#13;
			<p lang="en-GB">We demonstrated a very simple Python program to simulate memory and took our first step on the way to a simulator.</p>&#13;
			<p lang="en-GB">However, Python’s strength (simplicity) is also a weakness. More complex languages ensure correctness by providing strict rules – for example, strong typing where you must declare the type of each variable and then use it accordingly. A very common Python pitfall is wrong indenting. Code in a loop or <code>if</code> construct is indented to show it belongs to whatever construct guards it. If you make a mistake with indenting while editing a program, it will either crash or behave very differently from what you intended.</p>&#13;
			<p lang="en-GB">In <a href="B19624_03.xhtml#_idTextAnchor042"><em class="italic">Chapter 3</em></a>, we look at the basic structure of a <strong class="bold">central processing unit</strong> (<strong class="bold">CPU</strong>) and demonstrate how an instruction is read from memory, decoded, and executed.</p>&#13;
		</div>&#13;
	</div></body></html>