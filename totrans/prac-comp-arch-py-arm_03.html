<html><head></head><body><div id="sbo-rt-content"><div id="_idContainer029" class="_idGenObjectStyleOverride-1">&#13;
			<h1 id="_idParaDest-23" class="chapter-number" lang="en-GB"><a id="_idTextAnchor023"/>2</h1>&#13;
			<h1 id="_idParaDest-24" lang="en-GB"><a id="_idTextAnchor024"/>High-Speed Introduction to Python</h1>&#13;
			<p lang="en-GB">This chapter introduces Python and demonstrates how to write a program in Python to solve the type of problem we described in <a href="B19624_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic">Chapter 1</em></span></a>. We are not going to delve deeply into Python in this chapter, but we will cover Python sufficiently to enable you to simulate and modify a computer to incorporate your <span class="No-Break">own ideas.</span></p>&#13;
			<p lang="en-GB">Traditionally, a computer program has been compared to a cookery recipe because they are analogous. Strictly speaking, this statement applies only to procedural languages such as Python, Java, and C. Functional languages such as Lisp do not conform to this strictly sequential paradigm and are beyond the scope of <span class="No-Break">this text</span></p>&#13;
			<p lang="en-GB">A recipe is a sequence of <em class="italic">operations</em> (i.e., actions or steps) that are carried out <em class="italic">in order</em> on the <em class="italic">ingredients</em> used by the recipe. A program is the same; it is a sequence of operations (instructions) that are carried out, in order, on data. The instructions of a program are carried out, one by one, sequentially, from top to bottom, arranged exactly like a page of printed text. It’s also possible to repeat a group or block of instructions several times, and you can even skip past or ignore blocks <span class="No-Break">of instructions.</span></p>&#13;
			<p lang="en-GB">The analogy between a recipe and a program is surprisingly accurate. In a recipe, you can have <em class="italic">conditional </em>instructions such as, “<em class="italic">If the sauce is too thick, then add more water.</em>” In programming, you can have conditional instructions such as, “<em class="italic">If x is 0, then add 1 to y.</em>” Similarly, in cooking, you can express repetitive action by expressions such as, “<em class="italic">Beat the mixture until stiff.</em>” In computing, repetition can be expressed using constructs such as, “<em class="italic">Subtract 1 from z until z = </em><span class="No-Break"><em class="italic">0.</em></span><span class="No-Break">”</span></p>&#13;
			<p lang="en-GB">In this chapter, we will cover the <span class="No-Break">following topics:</span></p>&#13;
			<ul>&#13;
				<li lang="en-GB"><span class="No-Break">Reading programs</span></li>&#13;
				<li lang="en-GB">Getting started <span class="No-Break">with Python</span></li>&#13;
				<li lang="en-GB">Python’s <span class="No-Break">data types</span></li>&#13;
				<li lang="en-GB"><span class="No-Break">Mathematical operators</span></li>&#13;
				<li lang="en-GB">Names, values, <span class="No-Break">and variables</span></li>&#13;
				<li lang="en-GB"><span class="No-Break">Comments</span></li>&#13;
				<li lang="en-GB">The list – a Python key <span class="No-Break">data structure</span></li>&#13;
				<li lang="en-GB">Functions <span class="No-Break">in Python</span></li>&#13;
				<li lang="en-GB">Conditional operations <span class="No-Break">and decision-making</span></li>&#13;
				<li lang="en-GB">Reading data from <span class="No-Break">a file</span></li>&#13;
				<li lang="en-GB">Translating a token detector algorithm <span class="No-Break">into Python</span></li>&#13;
				<li lang="en-GB"><span class="No-Break">Computer memory</span></li>&#13;
				<li lang="en-GB">Register <span class="No-Break">transfer language</span></li>&#13;
			</ul>&#13;
			<h1 id="_idParaDest-25" lang="en-GB"><a id="_idTextAnchor025"/>Technical requirements</h1>&#13;
			<p lang="en-GB">You can find the programs used in this chapter on GitHub at <a href="https://github.com/PacktPublishing/Practical-Computer-Architecture-with-Python-and-ARM/tree/main/Chapter02">https://github.com/PacktPublishing/Practical-Computer-Architecture-with-Python-and-ARM/tree/main/Chapter02</a>. </p>&#13;
			<p lang="en-GB">The requirements to write a program in Python and run it are minimal. Python is an open source language and is freely available for the PC, Mac, and Linux platforms. All the information you need to set up a Python environment on your computer system can be found on the home page <span class="No-Break">at </span><a href="https://www.python.org"><span class="No-Break">https://www.python.org</span></a><span class="No-Break">.</span></p>&#13;
			<p lang="en-GB">Remarkably, you do not need any other software to construct a computer simulator in Python. The Python package comes with Python’s <strong class="bold">Integrated Learning and Development Environment</strong> (<strong class="bold">IDLE</strong>) that lets you edit a Python program, save it, run it, and <span class="No-Break">debug it.</span></p>&#13;
			<p lang="en-GB">There are alternatives to IDLE that let you create Python source files supported by Python platforms. These alternatives are generally more sophisticated and targeted at the professional developer. For the purposes of this chapter, IDLE is more than sufficient, and nearly all the Python programs in this text were developed <span class="No-Break">with IDLE.</span></p>&#13;
			<p lang="en-GB">Alternative IDEs are Microsoft’s Visual Studio Code, Thonny, and Geany. All these IDEs are freely available. Thonny was developed for the Raspberry Pi, which we will use in <span class="No-Break">later chapters:</span></p>&#13;
			<ul>&#13;
				<li lang="en-GB">Visual Studio <span class="No-Break">Code:</span><span class="No-Break"><strong class="source-inline CharOverride-1"> </strong></span><a href="https://code.visualstudio.com/download"><span class="No-Break">https://code.visualstudio.com/download</span></a></li>&#13;
				<li lang="en-GB">Geany:<strong class="source-inline CharOverride-1">          </strong><a href="https://www.geany.org/"><span class="No-Break">https://www.geany.org/</span></a></li>&#13;
				<li lang="en-GB">Thonny:<strong class="source-inline CharOverride-1">         </strong><a href="https://thonny.org"><span class="No-Break">https://thonny.org</span></a></li>&#13;
			</ul>&#13;
			<p lang="en-GB">Reading programs is not easy for the beginner because you don’t know how to interpret what you see. The following section describes some of the typography and layout conventions we will use in this chapter to make the meaning of programs more clear and to highlight the features of <span class="No-Break">a program.</span></p>&#13;
			<h1 id="_idParaDest-26" lang="en-GB"><a id="_idTextAnchor026"/>Reading programs</h1>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">In order to help you follow<a id="_idIndexMarker018"/> the programs, we have adopted two different type fonts – a variable-width font (where letters have different widths, such as the bulk of the text here) and a mono-spaced font, such as the Courier font found on old mechanical typewriters <strong class="source-inline">that looks </strong><span class="No-Break"><strong class="source-inline">like this</strong></span><span class="No-Break">.</span></p>&#13;
			<p lang="en-GB">The reason for using a mono-spaced font to represent code is twofold. First, it tells the reader that a word is computer code and not just part of the narrative text. Second, spacing in computer programs is important for readability, and mono-spaced fonts line up letters and numbers on adjacent rows neatly in columns. The following is an example of code from a later chapter to demonstrate this point. The proportionally-spaced text to the right, prefixed by #, indicates that the text is not code but a <span class="No-Break">plain-language comment:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>elif litV[0]   == '%': literal = int(litV[1:],2)     <span class="sc-comment"># If first % convert binary to integer</span></span>&#13;
<span>elif litV[0:2] == '0B':literal = int(litV[2:],2)     <span class="sc-comment"># If prefix 0B convert binary to integer</span></span>&#13;
<span>elif litV[0:1] == '$': literal = int(litV[1:],16)    <span class="sc-comment"># If $, convert hex string to integer</span></span>&#13;
<span>elif litV[0:2] == '0X':literal = int(litV[2:],16)    <span class="sc-comment"># If 0x convert hex string to integer</span></span></pre>&#13;
			<p lang="en-GB">We have occasionally used shading or a bold font to distinguish one feature of a piece of code from another.For example, <strong class="source-inline">x = y.</strong><span class="pcode-bold">split('.')</span> uses a bold font to emphasize the <span class="No-Break"><strong class="source-inline">split</strong></span><span class="No-Break"> function.</span></p>&#13;
			<p lang="en-GB">Consider the following example. The gray text indicates reserved words and symbols in Python that are necessary to specify this construct. The numbers in bold black are values supplied by the programmer. The text following # is in a non-monospaced font and is a comment ignored by <span class="No-Break">the computer:</span></p>&#13;
			<p lang="en-GB"><span class="pcode-grey-text">for </span><span class="pcode-bold">i</span><span class="pcode-grey-text"> in range (</span><span class="pcode-bold">0</span><strong class="source-inline">,</strong><span class="pcode-bold">6</span><span class="pcode-grey-text">):</span><strong class="source-inline">     </strong><span class="sc-comment"># Repeat </span><span class="No-Break"><span class="sc-comment">six times</span></span></p>&#13;
			<p lang="en-GB">In this example, we <a id="_idIndexMarker019"/>use shading to emphasize a feature – for example, <strong class="source-inline">rS1 = int(inst</strong><span class="pcode-bg">[2]</span><span class="pcode-bold">[1]</span><strong class="source-inline">)</strong>draws your attention to the first <span class="No-Break">parameter, </span><span class="No-Break"><strong class="source-inline">[2]</strong></span><span class="No-Break">.</span></p>&#13;
			<h1 id="_idParaDest-27" lang="en-GB"><a id="_idTextAnchor027"/>Getting started with Python</h1>&#13;
			<p lang="en-GB">Before we look at Python<a id="_idIndexMarker020"/> in more detail, we will provide a brief introduction to getting started with Python and demonstrate a short program. Although we have not even introduced the basics of the language, Python programs are remarkably easy <span class="No-Break">to follow.</span></p>&#13;
			<p lang="en-GB">Python is a computer language such as C or Java and, like every computer language, it has its advantages and disadvantages. We have chosen to use Python because it is free and universal, there’s a vast amount of information about it, and, most importantly, it has a very shallow learning curve. Indeed, Python has become one of the most popular languages used in computer <span class="No-Break">science education.</span></p>&#13;
			<p lang="en-GB">Python was conceived by the Dutch computer scientist Guido van Rossum, and the stable Python 2.0 was released in 2000. Today, Python is promoted by the Python Software Foundation, a body of volunteers whose aim is to develop the language as a <span class="No-Break">public service.</span></p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">The high-level language programs<a id="_idIndexMarker021"/> in this text were written in Python on a PC. To install Python, you need to go to its home page at <a href="https://www.python.org">https://www.python.org</a> and follow the instructions. There are several versions of Python because it is continually growing. The two main branches are Python 2 and Python 3; I will be using the latter. Python is continually updated and new versions are introduced. I started with Python 3.6, and at the time of writing, we’re up to Python 3.11. However, new incremental versions do not offer radical changes, and many of the new features are not used by the Python version in <span class="No-Break">this book.</span></p>&#13;
			<p lang="en-GB">Loading the Python packages<a id="_idIndexMarker022"/> provides you with a Python documentation library, a Python interpreter, and a Python editor called the IDLE. All this is freely available. IDLE<a id="_idIndexMarker023"/> allows you to perform a cycle, <em class="italic">edit a program, run it, and debug it</em> until you are happy with the result. I also used the freely available Thonny IDE, which I found even easier to use. Using an IDE lets you develop a program, run it, and then modify it, without having to switch between separate editors, compilers, and <span class="No-Break">runtime environments.</span></p>&#13;
			<p lang="en-GB">Late in the writing of this book, Graeme Harker introduced me to <strong class="bold">Visual Studio Code</strong> (<strong class="bold">VS Code</strong>). This is a popular integrated development system<a id="_idIndexMarker024"/> developed by Microsoft that supports several languages, including Python, and which runs on several platforms, including Windows, Linux, and macOS. VS Code is a very powerful IDE indeed and includes facilities that go beyond those <span class="No-Break">of IDLE.</span></p>&#13;
			<p lang="en-GB">Consider the example of an IDE (in this case, IDLE) in <span class="No-Break"><em class="italic">Figure 2</em></span><em class="italic">.1</em>. Suppose we want to create a four-function calculator that performs simple operations such as 23 x 46 or 58 - 32. I’ve chosen this example because it is really a very simple computer simulator. <span class="No-Break"><em class="italic">Figure 2</em></span><em class="italic">.1</em> is a screenshot taken after a Python program has been loaded using the <strong class="source-inline">file</strong> function. You can also directly enter a Python program from <span class="No-Break">the keyboard.</span></p>&#13;
			<p lang="en-GB">If we click on <strong class="bold">File</strong>, a new editing window is opened, and we can write our program. The Python code inputs a first number, an operator, and a second number and displays the result of the calculation. Then, it repeats. When you enter <em class="italic">E</em> instead of <strong class="source-inline">+</strong>, <strong class="source-inline">-</strong>, <strong class="source-inline">/</strong>, or <strong class="source-inline">*</strong>, it terminates the execution and prints <span class="No-Break">a message.</span></p>&#13;
			<p lang="en-GB">Like most high-performance IDE systems, IDLE uses color to help you to read a program. Python lets you add a commentary to the program because code is not always understandable. Any text following a # symbol is ignored. In this case, the code is understandable, and these comments are <span class="No-Break">not necessary.</span></p>&#13;
			<p lang="en-GB">You have to save a program before you can run it. Saving a program from <strong class="source-inline">IDLE</strong> automatically appends <strong class="source-inline">.py</strong>, so that a file named <strong class="source-inline">calc1</strong> is saved <span class="No-Break">as </span><span class="No-Break"><strong class="source-inline">calc1.py</strong></span><span class="No-Break">.</span></p>&#13;
			<div class="_idGenObjectLayout-1">&#13;
				<div id="_idContainer020" class="IMG---Figure">&#13;
					<img class="_idGenObjectAttribute-1" src="Images/Figure_2.01_B19624.jpg" alt="Figure 2.1 – A screenshot of a Python program in IDLE" width="1723" height="627"/>&#13;
				</div>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.1 – A screenshot of a Python program in IDLE</p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB"><span class="No-Break"><em class="italic">Figure 2</em></span><em class="italic">.1</em> shows the layout of Python programming, including the all-important <em class="italic">indentation</em>, which is a key feature of Python and indicates which operations belong to a <span class="No-Break">particular command.</span></p>&#13;
			<p lang="en-GB">Here’s a brief description<a id="_idIndexMarker025"/> of the program. We will cover this material in greater detail later. <strong class="source-inline">while</strong> heads a group of indented instructions that are repeated until some condition stops being true. In this case, the instructions are executed as long as the <strong class="source-inline">go</strong> variable <span class="No-Break">is </span><span class="No-Break"><strong class="source-inline">1</strong></span><span class="No-Break">.</span></p>&#13;
			<p lang="en-GB">The <strong class="source-inline">if</strong> statement defines one or more operations that are executed if <strong class="source-inline">if</strong> is true. In this case, if the input is <strong class="source-inline">'E'</strong>, the <strong class="source-inline">go</strong> variable is set to <strong class="source-inline">0</strong>, and the indented operations after <strong class="source-inline">while</strong> are no <span class="No-Break">longer executed.</span></p>&#13;
			<p lang="en-GB">The <strong class="source-inline">break</strong> instruction breaks out of the <strong class="source-inline">while</strong> loop (that is, execution continues beyond the end of the loop – it’s a sort of <span class="No-Break">short-circuit mechanism).</span></p>&#13;
			<p lang="en-GB">Finally, the <strong class="source-inline">int(x)</strong> function converts a keyboard character into an integer – for example, <strong class="source-inline">int('27')</strong> converts the two keys, <strong class="source-inline">2</strong> and <strong class="source-inline">7</strong>, into the integer, <strong class="source-inline">27</strong>. We will discuss all this in greater <span class="No-Break">detail later.</span></p>&#13;
			<p lang="en-GB">To run the program, you select the <strong class="bold">Run</strong> tab and then click on <strong class="bold">Run module</strong>, or you just enter <strong class="source-inline">F5</strong>. The following demonstrates the effect of running this program. The text in bold is the text I entered using <span class="No-Break">the keyboard:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>Hello. Input operations in the form 23 * 4. Type E to end.</span>&#13;
<span>Type first number <strong class="bold">12</strong></span>&#13;
<span>Type operator + or - or / or * <strong class="bold">+</strong></span>&#13;
<span>Type second number <strong class="bold">7</strong></span>&#13;
<span>Result =  19</span>&#13;
<span>Type first number <strong class="bold">15</strong></span>&#13;
<span>Type operator + or - or / or * <strong class="bold">-</strong></span>&#13;
<span>Type second number <strong class="bold">8</strong></span>&#13;
<span>Result =  7</span>&#13;
<span>Type first number <strong class="bold">55</strong></span>&#13;
<span>Type operator + or - or / or * <strong class="bold">/</strong></span>&#13;
<span>Type second number <strong class="bold">5</strong></span>&#13;
<span>Result =  11</span>&#13;
<span>Type first number <strong class="bold">2</strong></span>&#13;
<span>Type operator + or - or / or * <strong class="bold">E</strong></span>&#13;
<span>Program ended</span></pre>&#13;
			<p lang="en-GB">The purpose of this brief demonstration is to show how a Python program is entered and executed. In practice, no programmer would write the preceding code. It is inefficient. It does not deal with errors (what happens if you type <strong class="source-inline">@ </strong>instead of <strong class="source-inline">*</strong>, or <strong class="source-inline">$</strong> instead of <strong class="source-inline">4?</strong>). Even worse, to stop the program, you have to enter a dummy number before entering <strong class="source-inline">E</strong> to end the program. I leave it as an exercise for you to convert this program into a version<a id="_idIndexMarker026"/> that is <span class="No-Break">more user-friendly.</span></p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">We’ve demonstrated a trivial Python program. The next step is to introduce the data with which Python operates – that is, we show how Python handles numbers <span class="No-Break">and text.</span></p>&#13;
			<h1 id="_idParaDest-28" lang="en-GB"><a id="_idTextAnchor028"/>Python’s data types</h1>&#13;
			<p lang="en-GB">A recipe uses <em class="italic">ingredients</em> that<a id="_idIndexMarker027"/> fall into distinct groups (fruit, vegetables, nuts, cheeses, spices, etc.). A computer program uses data that falls into groups called <em class="italic">types</em>. Some of the main data types used by Python are <span class="No-Break">as follows:</span></p>&#13;
			<ul>&#13;
				<li lang="en-GB"><strong class="bold">Integer</strong>: This uses whole numbers, such as 0, 1, 2, and<a id="_idIndexMarker028"/> so on. Integers<a id="_idIndexMarker029"/> also include<a id="_idIndexMarker030"/> negative numbers -1, -2, -3, and so on. Positive integers<a id="_idIndexMarker031"/> are also known as <span class="No-Break">natural numbers.</span></li>&#13;
				<li lang="en-GB"><strong class="bold">Float</strong>: These are numbers with a decimal<a id="_idIndexMarker032"/> point (e.g., 23.5 and -0.87). These <a id="_idIndexMarker033"/>are also called <em class="italic">real</em> numbers. Surprisingly, we will not be using real numbers<a id="_idIndexMarker034"/> in <span class="No-Break">this text.</span></li>&#13;
				<li lang="en-GB"><strong class="bold">Character</strong>: A character is one of the keys<a id="_idIndexMarker035"/> on a computer keyboard – for example, <em class="italic">Q</em>, <em class="italic">Z</em>, <em class="italic">a</em>, <em class="italic">$</em>, and <em class="italic">@</em>. Computer languages often indicate a character<a id="_idIndexMarker036"/> by putting it in inverted commas – for example, 'R'. In practice, Python does not have an explicit <span class="No-Break">character type.</span></li>&#13;
				<li lang="en-GB"><strong class="bold">String</strong>: A string is a sequence<a id="_idIndexMarker037"/> of characters – for example, <strong class="source-inline">'This'</strong> or <strong class="source-inline">'my program'</strong>. Python<a id="_idIndexMarker038"/> doesn’t have a character type because it treats a character as a string of length 1. Python allows you to use single or double quotes interchangeably – for example, <strong class="source-inline">x = 'this'</strong> and <strong class="source-inline">x = "this"</strong> are identical in Python. This mechanism allows you to type x = ''The boy’s books'' (i.e., you can use an apostrophe without it being treated as a quotation mark). In computing, the term <em class="italic">string</em> is rather like the English term <em class="italic">word</em>. A string is any sequence of characters – for example, <strong class="source-inline">'time'</strong> and <strong class="source-inline">'!££??'</strong> are legal Python strings. Recall that a string of length 1 is a single character – for example, 'Q'. You can have a string of length zero – that is,''. Here, you have two quotation marks with nothing in between. This indicates an <span class="No-Break">empty string.</span></li>&#13;
				<li lang="en-GB"><strong class="bold">bool</strong>: Python has a Boolean type, bool, which has only<a id="_idIndexMarker039"/> two values, <strong class="source-inline">True</strong> and <strong class="source-inline">False</strong>. The bool<a id="_idIndexMarker040"/> type is used in Boolean logic expressions. It is also used in comparisons – for example, the English expression, “Is <em class="italic">x</em> greater than <em class="italic">y</em>?” has two possible outcomes – True or False. If you type <strong class="source-inline">print(5 == 5)</strong> in Python, it will print True because the == means “<em class="italic">is the same as?</em>” and the result <span class="No-Break">is True.</span></li>&#13;
			</ul>&#13;
			<p lang="en-GB">Each data element used in a program is given a <em class="italic">name</em> so that we can access it. The programmer chooses names for variables, and a good programmer chooses sensible names that indicate what the variable is. No one calls a variable <strong class="source-inline">qZz3yT</strong>. Names must begin with a letter, and then they may have any sequence of letters and numbers – for example, <strong class="source-inline">alan</strong>, <strong class="source-inline">alan123</strong>, and <strong class="source-inline">a123lan</strong> are legal Python names, whereas <strong class="source-inline">2Alan</strong> or <strong class="source-inline">Al@n</strong> is not legal. However, the underscore may be used in a name – for example, <strong class="source-inline">time_one</strong>. By convention, Python uses lowercase for the first character of variables and function names. Uppercase first letters are reserved for class names (which we will not use in this text). This restriction is a programming convention – that is, an error will not occur if you give a variable a name beginning with an <span class="No-Break">uppercase letter.</span></p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">Now that we’ve introduced data elements, we next describe some of the operations you can apply to numeric data. These are essentially the arithmetic operators we encountered in high school, except for division, which has <span class="No-Break">three variations.</span></p>&#13;
			<h1 id="_idParaDest-29" lang="en-GB"><a id="_idTextAnchor029"/>Mathematical operators</h1>&#13;
			<p lang="en-GB">Computers can perform<a id="_idIndexMarker041"/> the four standard arithmetic operations – addition, subtraction, multiplication, and division. For example, we can write <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>X1 = a + b    Addition</span>&#13;
<span>X2 = a – b    Subtraction</span>&#13;
<span>X3 = a * b    Multiplication</span>&#13;
<span>X4 = a / b    Division</span></pre>&#13;
			<p lang="en-GB">The symbol for multiplication is <em class="italic">*</em> (the asterisk) and not the conventional <em class="italic">x</em>. Using the letter <em class="italic">x</em> to indicate multiplication would lead to confusion between the letter <em class="italic">x</em> and <em class="italic">x</em> as a <span class="No-Break">multiplication operator.</span></p>&#13;
			<p lang="en-GB">Division is more complicated than multiplication because there are three ways of expressing the result of x ÷ y. For example, 15/5 is 3, and the result is an integer. 17/5 can be expressed in two ways – as a fractional value (i.e., a float) 3.4, or as 3 remainder 2. In Python, the division operator provides a float result if the result is not an integer (e.g., 100/8 = <span class="No-Break">12.5).</span></p>&#13;
			<p lang="en-GB">As well as the division operator, /, Python has two other division operators – <strong class="source-inline">//</strong> <span class="No-Break">and </span><span class="No-Break"><strong class="source-inline">%</strong></span><span class="No-Break">.</span></p>&#13;
			<p lang="en-GB">Python’s <strong class="source-inline">//</strong> is a <em class="italic">floor integer</em> divide that generates an integer<a id="_idIndexMarker042"/> result by rounding down to the nearest integer. For example, the operation <strong class="source-inline">x = 17//5</strong> gives the result <strong class="source-inline">3</strong> and the fractional part (the remainder) is discarded. Note that <strong class="source-inline">x = 19//5</strong> gives the result <strong class="source-inline">3</strong> because it <em class="italic">rounds down</em>, even though 4 is the closest integer. If you were to execute <strong class="source-inline">x = -19//5</strong>, that would give the result <strong class="source-inline">-4</strong> because it rounds <em class="italic">down</em> to the <span class="No-Break">closest integer.</span></p>&#13;
			<p lang="en-GB">The % symbol is the <em class="italic">modulus</em> operator and provides<a id="_idIndexMarker043"/> the remainder after division. For example, <strong class="source-inline">x = 17%5</strong> gives the result <strong class="source-inline">2</strong>. Suppose, on Monday, someone said they were visiting you in 425 days. What day of the week is that? 425%7 is 5, which indicates Saturday. We can use % to test whether<a id="_idIndexMarker044"/> a number is odd or even. If you write <strong class="source-inline">y = x%2</strong>, then <strong class="source-inline">y</strong> is <strong class="source-inline">0</strong> if the number is even and <strong class="source-inline">1</strong> if it <span class="No-Break">is odd.</span></p>&#13;
			<h1 id="_idParaDest-30" lang="en-GB"><a id="_idTextAnchor030"/>Names, values, and variables</h1>&#13;
			<p lang="en-GB">Computers store data<a id="_idIndexMarker045"/> in their memory. Each data element has two values associated with it – <strong class="bold">where</strong> it is, and <strong class="bold">what</strong> it is. In computer terms, <em class="italic">where</em> corresponds to the location (address) of the data in memory, and <em class="italic">what</em> corresponds to the value of that data. This is not rocket science, and matches everyday life – for example, I might have a bank account numbered 111023024 containing $890. Here, 111023024 is the “where,” and the $890 is <span class="No-Break">the “what.”</span></p>&#13;
			<p lang="en-GB">Now, suppose I write 111023024 + 1. What exactly do I mean? Do I mean to add 1 to the account number to get 111023025 (which is a different account), or do I mean to add $1 to the number in this account numbered 111023024 to get $891? In everyday life, this is something that’s so obvious we just don’t think about it. In computing, we have to be a little more careful and think clearly about what we <span class="No-Break">are doing.</span></p>&#13;
			<p lang="en-GB">Data elements are called <strong class="bold">variables</strong> because their values can be<a id="_idIndexMarker046"/> changed. A variable has an address (location) in memory. A programmer doesn’t have to worry about the actual location of data; the operating system takes care of that for them automatically. All they have to do is to come up with a name<a id="_idIndexMarker047"/> for the variable. For example, let’s take <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>totalPopulation = 8024</span></pre>&#13;
			<p lang="en-GB">When you write this, you define a new variable that you’ve called <strong class="source-inline">totalPopulation</strong> and have told the computer to store the number <strong class="source-inline">8024</strong> at that location. You don’t have to worry about all the actions involved in doing this; that’s the job of the operating system <span class="No-Break">and compiler.</span></p>&#13;
			<p lang="en-GB">Let’s summarize. A variable is a name that refers to some value stored in memory. Let’s say you write <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>totalPopulation = totalPopulation + 24</span></pre>&#13;
			<p lang="en-GB">Here, the computer reads the current value in the memory location assigned to the name <strong class="source-inline">totalPopulation</strong>. It then adds 24 to this<a id="_idIndexMarker048"/> value, and finally, stores the result <span class="No-Break">in </span><span class="No-Break"><strong class="source-inline">totalPopulation</strong></span><span class="No-Break">.</span></p>&#13;
			<p lang="en-GB">In the next section, we look at user comments and program layout in a little <span class="No-Break">more detail.</span></p>&#13;
			<h1 id="_idParaDest-31" lang="en-GB"><a id="_idTextAnchor031"/>Comments</h1>&#13;
			<p lang="en-GB">Because computer languages<a id="_idIndexMarker049"/> can be terse and confusing to the human reader, they let you add comments that are ignored by the computer (i.e., they are not part of the program). In Python, any text on the same line following the # symbol is ignored. In the following examples, we’ve put that text in a different font to emphasize that it’s not part of the program. First, consider the following <span class="No-Break">Python expression:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>hours = 12           <span class="sc-comment"># Set the value of the variable hours to 12</span></span></pre>&#13;
			<p lang="en-GB">This code creates a new data element called <strong class="source-inline">hours</strong> and gives it the integer value <strong class="source-inline">12</strong>. <span class="No-Break"><em class="italic">Figure 2</em></span><em class="italic">.2</em> illustrates the structure of <span class="No-Break">this line.</span></p>&#13;
			<div class="_idGenObjectLayout-1">&#13;
				<div id="_idContainer021" class="IMG---Figure">&#13;
					<img class="_idGenObjectAttribute-1" src="Images/Figure_2.02_B19624.jpg" alt="Figure 2.2 – The structure of a statement with a comment" width="1161" height="254"/>&#13;
				</div>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.2 – The structure of a statement with a comment</p>&#13;
			<p lang="en-GB">Let’s say you were then to write <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code"><strong class="source-inline">allTime = hours + 3    </strong><span class="sc-comment"># Add 3 to the hours and assign a result to a new variable, allTime</span></pre>&#13;
			<p lang="en-GB">Then, the computer would read the value of the name on the right-hand side of the expression (i.e., <strong class="source-inline">hours</strong>) and substitute its value with 12. Then, it would add 3 to get 12 + 3 = 15, storing this new value in a memory location called <strong class="source-inline">allTime</strong>. The text following <strong class="source-inline">#</strong> is ignored by the computer and serves only to help humans understand <span class="No-Break">the program.</span></p>&#13;
			<p lang="en-GB">Many computer languages<a id="_idIndexMarker050"/> use the = symbol differently from how we were taught in high school. In school algebra, ‘=’ means “<em class="italic">the same as,</em>” so that <em class="italic">x</em> = <em class="italic">y</em> + 2 means that the value of <em class="italic">x</em> and (<em class="italic">y</em> + 2) are identical. If the value of <em class="italic">y</em> is 12, then the value of <em class="italic">x</em> <span class="No-Break">is 14.</span></p>&#13;
			<p lang="en-GB">In programming, the statement <strong class="source-inline">x = y + 2</strong> indicates that the value of <em class="italic">y</em> + 2 is calculated and then <em class="italic">transferred</em> to <em class="italic">x</em>. If a programmer writes <strong class="source-inline">x = x + 2</strong>, it means to add 2 to <strong class="source-inline">x</strong>. If this were a mathematical equation, we could write <em class="italic">x</em> – <em class="italic">x</em> = <em class="italic">x</em> – <em class="italic">x</em> + 2, which simplifies as the nonsensical expression 0 = 2. In Python, the = symbol does NOT <span class="No-Break">mean equals!</span></p>&#13;
			<p lang="en-GB">In Python, the <strong class="source-inline">=</strong> symbol means “<em class="italic">assign to.</em>” A better symbol is <strong class="source-inline">←</strong>, so that <em class="italic">x</em> <strong class="source-inline">←</strong> <em class="italic">y</em> + 2 expresses clearly what we are doing. Some languages such as Pascal use the symbol pair := to indicate assignment. Sadly, the back arrow is not on keyboards, and we are stuck with =. Note that, in Python, a <em class="italic">statement</em> is a command such as <strong class="source-inline">print(</strong>) or an assignment such as <strong class="source-inline">x = 4.</strong> An <em class="italic">expression</em> is a combination of variables or values<a id="_idIndexMarker051"/> and operations that returns <span class="No-Break">a result.</span></p>&#13;
			<p lang="en-GB">As we’ve seen, Python has a special symbol for “<em class="italic">is the same as,</em>” and that symbol is ‘==’. Never confuse = and ==. It is very easy to write <strong class="source-inline">if x = 5</strong> instead of <strong class="source-inline">if x == 5</strong> and wonder why your program gives the <span class="No-Break">wrong result.</span></p>&#13;
			<p lang="en-GB">Consider the following example of a simple Python program, where we calculate the area of a circle. The names <strong class="source-inline">radius</strong>, <strong class="source-inline">pi</strong>, and <strong class="source-inline">area</strong> are all chosen by the programmer. We could have used other names, but these are more obvious to <span class="No-Break">the reader:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>radius = 2.5                <span class="sc-comment"># Define the radius as 2.5</span></span>&#13;
<span>pi = 3.142                  <span class="sc-comment"># Define the value of pi</span></span>&#13;
<span>area = pi*radius*radius     <span class="sc-comment"># Calculate the area of a circle</span></span>&#13;
<span>print(area)                 <span class="sc-comment"># The print function prints the value of the area on the display</span></span></pre>&#13;
			<p lang="en-GB">Recall that a Python name consists of letters and (optionally) numbers and underscores, but the first character <a id="_idIndexMarker052"/>in the name must be a letter and not a number. Uppercase and lowercase letters are regarded as being different in Python – that is, <strong class="source-inline">tesT22</strong> and <strong class="source-inline">test22</strong> are different names. It is good practice to choose meaningful names because that makes it easier to read a program. Consider <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>wagesFred = hoursWorkedFred*12 + hourOvertimeFred*18</span></pre>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">The preceding expression is verbose but clear to a human reader. This is an example of <em class="italic">camelCase</em>, a popular term for names that consist of words joined without spaces, using a capital letter to indicate each word in the chain, <strong class="source-inline">asWeAreDoingNow</strong>. Remember that Python variables and labels do not start with a capital letter (that’s a convention and not <span class="No-Break">a requirement).</span></p>&#13;
			<p lang="en-GB">There are two classes<a id="_idIndexMarker053"/> of data elements – constants and variables. A <em class="italic">constant</em> is given a value when it is first named, and that value cannot be changed – for example, if you define <strong class="source-inline">x = 2</strong> as a constant in a language such as C, the value of <em class="italic">x</em> is fixed (e.g., the expression <strong class="source-inline">x = 3</strong> would be illegal). A <em class="italic">variable</em> is an element that can be<a id="_idIndexMarker054"/> modified. Python does not <span class="No-Break">support constants.</span></p>&#13;
			<p lang="en-GB">Let’s calculate the sum of the first <em class="italic">n</em> integers, <em class="italic">s</em> = 1 + 2 + 3 + … + <em class="italic">n</em>. Algebra tells us that the sum of <em class="italic">n</em> integers is <em class="italic">n</em>(<em class="italic">n</em> + 1)/2. We can convert this into the following <span class="No-Break">Python program:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>n = int(input("How many integers are you adding? "))</span>&#13;
<span>s = n * (n + 1)/2</span>&#13;
<span>print("Sum of ",n, " integers is",s)    <span class="sc-comment"># We used double quotes " instead of single</span></span></pre>&#13;
			<p lang="en-GB">This three-line Python program asks for an integer, performs the calculation, and prints the result. Let’s suppose we don’t know the formula for the sum of the first <em class="italic">n</em> integers. We can do it the hard way by adding them up one by one. The Python code to do this is given in <span class="No-Break"><em class="italic">Listing 2.3</em></span><span class="No-Break">.</span></p>&#13;
			<p lang="en-GB">We have not covered<a id="_idIndexMarker055"/> all aspects of this program in detail yet. It is given here to demonstrate the essential simplicity of Python. However, note that Python allows you to request input from the keyboard and provide a prompt at the <span class="No-Break">same time.</span></p>&#13;
			<div class="_idGenObjectLayout-1">&#13;
				<div id="_idContainer022" class="IMG---Figure">&#13;
					<img class="_idGenObjectAttribute-1" src="Images/Figure_2.03_B19624.jpg" alt="Figure 2.3 – A Python program to add the first n integers" width="1165" height="550"/>&#13;
				</div>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.3 – A Python program to add the first n integers</p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">Our next topic introduces one of Python’s key elements – a feature that is immensely powerful and flexible and one that makes Python such a popular language, especially for beginners. We will describe <span class="No-Break">the list.</span></p>&#13;
			<h2 id="_idParaDest-32" lang="en-GB"><a id="_idTextAnchor032"/>The list – a Python key data structure</h2>&#13;
			<p lang="en-GB">We now introduce Python’s <em class="italic">list</em>, which that groups together<a id="_idIndexMarker056"/> a sequence of elements. We show how the elements of a list can be accessed. Because the list is such a key feature, we will return to it several times, each time introducing <span class="No-Break">new features.</span></p>&#13;
			<p lang="en-GB">A data structure<a id="_idIndexMarker057"/> is an ordered collection of data elements. The term <em class="italic">ordered</em> indicates that the position of a data element matters – for example, in everyday life, the week is ordered because the sequence of the days is fixed. A <em class="italic">table</em>, a <em class="italic">stack</em>, a <em class="italic">queue</em>, a <em class="italic">list</em>, a <em class="italic">heap</em>, a <em class="italic">pile</em>, a <em class="italic">file</em>, and an <em class="italic">array</em> all embody the idea of a data structure. In English, a <em class="italic">sackload</em> of books implies an <em class="italic">unordered</em> collection of items. Python does have a special data <a id="_idIndexMarker058"/>structure for unordered items, called a set. We will not use sets in <span class="No-Break">this chapter.</span></p>&#13;
			<p lang="en-GB">Like any other object, the programmer assigns a name to a list. The following Python list gives the result of eight consecutive exams taken by a student, expressed as <span class="No-Break">a percentage:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>myTest = [63, 67, 70, 90, 71, 83, 70, 76]</span></pre>&#13;
			<p lang="en-GB">We have given the list a meaningful name, <strong class="source-inline">myTest</strong>. In Python, a list is enclosed in square brackets and the items are separated by commas. Lists can grow (items added to them) and shrink (items removed). You can have an empty list – for example, <strong class="source-inline">abc = []</strong>.</p>&#13;
			<p lang="en-GB">The whole point of a list<a id="_idIndexMarker059"/> is to be able to access individual items and manipulate them – for example, we might want to find the highest result or the lowest result, or the average in the <strong class="source-inline">myTest</strong> list. Therefore, we need to specify the location of an item. Mathematicians use <em class="italic">subscripts</em> for this task – for example, they may write <strong class="source-inline">myTest</strong><span class="subscript">5</span>. Unfortunately, computer science arose in the dark age of the mechanical courier typewriter script, when different fonts, colors, italics style, and subscripts didn’t exist. So, we have to use the symbols that are on all keyboards to indicate a location within <span class="No-Break">a list.</span></p>&#13;
			<p lang="en-GB">Python indicates the position of an item in a list (or other data structures) by means of <em class="italic">parentheses</em> – for example, element 3 in <strong class="source-inline">myTest</strong> is expressed as <strong class="source-inline">myTest[3]</strong>. The first element of a list is position 0 because computers count from zero. The first value in <strong class="source-inline">myTest</strong> is <strong class="source-inline">myTest[0]</strong>, which is 63. Similarly, the last result is <strong class="source-inline">myTest[7]</strong>, which is 76. We have 8 results, numbered 0 <span class="No-Break">to 7.</span></p>&#13;
			<p lang="en-GB">Python is a more flexible language than some. In Python, the list is a “<em class="italic">one size fits all</em>” data structure. If you want to put different types of items in a list, you can. Other computer languages require a list to have identical items (e.g., all integers, all floats, or all strings). The following example demonstrates some legal lists in Python. As you can see, you can even have a list <span class="No-Break">of lists:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>roomTemps = [15,17,14,23,22,19]                       <span class="sc-comment"># A list of six integers</span></span>&#13;
<span>words     = ['this', 'that', 'then']                  <span class="sc-comment"># A list of three strings</span></span>&#13;
<span>x47       = [x21,timeSlot,oldValue]                   <span class="sc-comment"># A list of three variables</span></span>&#13;
<span>opCodes   = [['add',3,4],['jmp',12,1],['stop',0,0]]   <span class="sc-comment"># A list of three lists</span></span>&#13;
<span>mixedUp   = [15,time,'test',x[4]]                     <span class="sc-comment"># A list of mixed elements</span></span></pre>&#13;
			<pre class="source-code">inputs    = []                                        <span class="sc-comment"># An empty list</span></pre>&#13;
			<p lang="en-GB">Note that we have aligned the <em class="italic">equals</em> symbols in a column on the left. This is not a feature of Python. Nor is it a requirement. We do it because it makes the code easier to read and makes <span class="No-Break">debugging easier.</span></p>&#13;
			<p lang="en-GB">Let’s return to the shopping list example and call the list <strong class="source-inline">veg1</strong>. We can set up this list with <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>veg1 = ['potatoes', 'onions', 'tomatoes']         <span class="sc-comment"># A list of three strings</span></span></pre>&#13;
			<p lang="en-GB">The individual items<a id="_idIndexMarker060"/> in this list are in quotation marks. Why? Because they are strings – that is, text. Without quotations, the items would refer to variables that were defined earlier, such as <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>opClass = 4                      <span class="sc-comment"># Define opClass</span></span>&#13;
<span>addOp   = ['add', opClass]       <span class="sc-comment"># A list with an instruction name and its class</span></span></pre>&#13;
			<h2 id="_idParaDest-33" lang="en-GB"><a id="_idTextAnchor033"/>Slicing lists and strings</h2>&#13;
			<p lang="en-GB">Here, we will demonstrate<a id="_idIndexMarker061"/> how you can take<a id="_idIndexMarker062"/> a string or a list and extract data elements (i.e., the slices) from a string or a list. The individual characters of a string can be accessed – for example, if <strong class="source-inline">y = 'absde'</strong>, then <strong class="source-inline">y[0] = 'a', y[1]= 'b', y[2]= 's', </strong>, and <span class="No-Break">so on.</span></p>&#13;
			<p lang="en-GB">Python lets you select the last element in a string or list by using the - 1 <em class="italic">index</em> – for example, if you write <strong class="source-inline">x = y[-1]</strong>, <strong class="source-inline">then x = 'e'</strong>. Similarly, <strong class="source-inline">y[-2]is 'd'</strong> (i.e., the next but one from <span class="No-Break">the end).</span></p>&#13;
			<p lang="en-GB">You can select a slice of a string or list using the <strong class="source-inline">list[start:end]</strong> notation. The slice specified by <strong class="source-inline">[start:end]</strong> selects elements from <strong class="source-inline">start</strong> to <strong class="source-inline">end - 1</strong> that is, you specify the end as the element <em class="italic">after</em> the last element you require. If <strong class="source-inline">q = 'abcdefg'</strong>, then the <strong class="source-inline">r = q[2:5]</strong> slice assigns <strong class="source-inline">r = '</strong><span class="No-Break"><strong class="source-inline">cde'</strong></span><span class="No-Break">.</span></p>&#13;
			<p lang="en-GB">The expression <strong class="source-inline">z = q[3:]</strong>refers to all elements from 3 to the end of the list, and assigns <strong class="source-inline">'defg'</strong> to <strong class="source-inline">z</strong>. This is a remarkably useful feature because it allows us to take a text string such as <strong class="source-inline">s='R14'</strong> and extract the numeric value of the register with <strong class="source-inline">t=int(s[1:])</strong>. The expression <strong class="source-inline">s[1:]</strong> returns a substring from the second character to the end – that is, '<strong class="source-inline">R14</strong>' becomes '<strong class="source-inline">14</strong>'. This value is a string type. The <strong class="source-inline">int(</strong>'<strong class="source-inline">14</strong>'<strong class="source-inline">)</strong> operation converts the string type to an integer type and <span class="No-Break">returns 14.</span></p>&#13;
			<p lang="en-GB">The <strong class="source-inline">len</strong> function returns the length of a string. If <strong class="source-inline">y='absde'</strong>, <strong class="source-inline">p=len(y)</strong> returns 5 because there are 5 characters in <span class="No-Break">the string.</span></p>&#13;
			<p lang="en-GB">Consider a list of assembly language instructions <strong class="source-inline">– ops=['ADD',</strong> <strong class="source-inline">'MUL',</strong> <strong class="source-inline">'BNE',</strong> <strong class="source-inline">'LDRL']</strong>. If we write <strong class="source-inline">len(ops)</strong>, we get the result <strong class="source-inline">4</strong>, because there are 4 strings in the <strong class="source-inline">ops</strong> list. Suppose we write <strong class="source-inline">x=ops[3][2]</strong>. The value of <strong class="source-inline">ops[3] </strong>is <strong class="source-inline">'LDRL'</strong>, and the value of <strong class="source-inline">LDRL[2]</strong> is '<strong class="source-inline">R</strong>'. In other words, we can extract one or more characters from a string in a list of strings. The <strong class="source-inline">x[a][b]</strong> notation means to take item <strong class="source-inline">a</strong> of list <strong class="source-inline">x</strong> and then take item <strong class="source-inline">b</strong> of <span class="No-Break">that element.</span></p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">We have used <a id="_idIndexMarker063"/>functions <a id="_idIndexMarker064"/>such as <strong class="source-inline">print()</strong> and <strong class="source-inline">len()</strong>. We will now discuss functions in a little more detail. Later, we show you how you can define your own functions as well as use Python’s <span class="No-Break">built-in functions.</span></p>&#13;
			<h1 id="_idParaDest-34" lang="en-GB"><a id="_idTextAnchor034"/>Functions in Python</h1>&#13;
			<p lang="en-GB">Before continuing, we need<a id="_idIndexMarker065"/> to introduce the concept<a id="_idIndexMarker066"/> of a function in a high-level language. In high school math, we encounter functions such as <em class="italic">sqrt(x)</em>, which is an abbreviation of <em class="italic">square root</em> and returns the square <a id="_idIndexMarker067"/>root of <em class="italic">x</em> – for example, <em class="italic">sqrt(9) = 3</em>. Computer languages have borrowed the <span class="No-Break">same concept.</span></p>&#13;
			<p lang="en-GB">Python provides functions that are built into the language. You call a function to perform a specific operation (it’s a bit like subcontracting in the real world) – for example, <strong class="source-inline">len()</strong>operates on strings and lists. If you call <strong class="source-inline">len(x)</strong> with the list <strong class="source-inline">x</strong>, it will return the number of items in that list. Consider <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>toBuy = <strong class="bold">len</strong>(veg1)    <span class="sc-comment"># Determine the length of list veg1 (number of items in it)</span></span></pre>&#13;
			<p lang="en-GB">This takes the list we called <strong class="source-inline">veg1</strong> and counts the number of items in it, copying that value to the <strong class="source-inline">toBuy</strong> variable. After this operation has been executed, the value of <strong class="source-inline">toBuy</strong> will be the integer 3, since there are 3 items <span class="No-Break">in </span><span class="No-Break"><strong class="source-inline">veg1</strong></span><span class="No-Break">.</span></p>&#13;
			<p lang="en-GB">Let’s say you write <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>q = 'abcdefgh'</span>&#13;
<span>print(len(q))</span></pre>&#13;
			<p lang="en-GB">Then, the number printed<a id="_idIndexMarker068"/> is 8 because there are eight characters<a id="_idIndexMarker069"/> in the <span class="No-Break">string </span><span class="No-Break"><strong class="source-inline">q</strong></span><span class="No-Break">.</span></p>&#13;
			<p lang="en-GB">Let’s suppose we have another list of <span class="No-Break">food items:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>fruit1 = ['apples', 'oranges', 'grapes', 'bananas']</span></pre>&#13;
			<p lang="en-GB">Let’s add together the number of items in the two lists. We can do that with <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>totalShopping = len(veg1) + len(fruit1)</span></pre>&#13;
			<p lang="en-GB">This expression calculates the length of both lists (getting the integers <strong class="source-inline">3</strong> and <strong class="source-inline">4</strong>, respectively), adds them together, and assigns the value <strong class="source-inline">7</strong> to the <strong class="source-inline">totalShopping</strong> variable. You can print this on the screen by using <span class="No-Break">the </span><span class="No-Break"><strong class="source-inline">print()</strong></span><span class="No-Break">function:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>print('Number of things to buy ', totalShopping)</span></pre>&#13;
			<p lang="en-GB">This expression consists of the Python word <strong class="source-inline">print</strong>, which displays something on the screen. The parameters used by <strong class="source-inline">print</strong> are enclosed in parentheses, separated by commas. A parameter in quotes is a string and is printed literally as it is. Remember that Python lets you use either single or double quotation marks. A parameter that is a variable is printed as its value. In this case, the value of the <strong class="source-inline">totalShopping</strong> parameter is <strong class="source-inline">7</strong>. This expression would display <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code">Things to buy 7</pre>&#13;
			<p lang="en-GB">Consider the following expression (we’ve shaded the text to be printed). Variables whose values will be printed are in bold to <span class="No-Break">improve understanding:</span></p>&#13;
			<p lang="en-GB"><strong class="source-inline">print('</strong><span class="pcode-bg">Total items to buy</span><strong class="source-inline">', </strong><span class="pcode-bold">totalShopping</span><strong class="source-inline">, '</strong><span class="pcode-bg">These are:</span><strong class="source-inline"> ', </strong><span class="No-Break"><span class="pcode-bold">fruit1</span></span><span class="No-Break"><strong class="source-inline">)</strong></span></p>&#13;
			<p lang="en-GB">What would this print? The output would be <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>Total items to buy 7 These are: ['apples', 'oranges', 'grapes', 'bananas']</span></pre>&#13;
			<p lang="en-GB">Is this what you would have expected? You might have been looking for a list in the order of apples, oranges, grapes. But what you asked for was the <strong class="source-inline">fruit1</strong> Python list, and that is exactly what you got (hence the brackets, and quotation marks around each item in the list). If we wanted to print the list as <strong class="source-inline">apples, oranges, grapes, bananas</strong>, we would have had to first convert the list of strings into a single string item (which we will discuss later). However, for the impatient among you, here’s how it’s done using the <span class="No-Break"><strong class="source-inline">join()</strong></span><span class="No-Break"> function:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>fruit1 = ['apples', 'oranges', 'grapes', 'bananas']</span>&#13;
<span>print('Fruit1 as list = ', fruit1)</span>&#13;
<span>fruit1 = (' ').join(fruit1)                <span class="sc-comment"># This function joins the individual strings</span></span>&#13;
<span>print('Fruit1 as string = ', fruit1)</span></pre>&#13;
			<p lang="en-GB">The output<a id="_idIndexMarker070"/> from this code is <span class="No-Break">the</span><span class="No-Break"><a id="_idIndexMarker071"/></span><span class="No-Break"> following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>Fruit1 as list =  ['apples', 'oranges', 'grapes', 'bananas']</span>&#13;
<span>Fruit1 as string =  apples oranges grapes bananas</span></pre>&#13;
			<p lang="en-GB">Next, we will discuss the very item that makes a computer a computer – the conditional operation that selects one of two or more possible courses of action, depending on the result of <span class="No-Break">a test.</span></p>&#13;
			<h1 id="_idParaDest-35" lang="en-GB"><a id="_idTextAnchor035"/>Conditional operations and decision-making</h1>&#13;
			<p lang="en-GB">And now for<a id="_idIndexMarker072"/> the biggie – the conditional operation. Let’s consider the <span class="No-Break">following recipe:</span></p>&#13;
			<ol>&#13;
				<li lang="en-GB">Take <span class="No-Break">two eggs.</span></li>&#13;
				<li lang="en-GB">Separate <span class="No-Break">the whites.</span></li>&#13;
				<li lang="en-GB"><span class="No-Break">Add sugar.</span></li>&#13;
				<li lang="en-GB">Beat <span class="No-Break">until stiff.</span></li>&#13;
			</ol>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">These actions are carried out sequentially. The first three actions are simple operations. The fourth action is very different from the previous three, and it is this action that gives the computer its power. It’s an operation that performs one of two actions, depending on the outcome of a test. In this case, the eggs are beaten, then tested. If they are not sufficiently stiff, the beating is continued, they are retested, and <span class="No-Break">so on.</span></p>&#13;
			<p lang="en-GB">What makes a computer<a id="_idIndexMarker073"/> so powerful is its ability to take decisions. Without a <em class="italic">decision-making</em> capacity, a computer could not respond to its environment; it could perform only the same calculation over and over again. The foundation of human intelligence is also decision-making. If you play chess, you use decision-making to choose the next move on the basis of the current board positions. The move you make is the one that will give you the best chance of winning from your <span class="No-Break">current situation.</span></p>&#13;
			<p lang="en-GB">It’s the same with a computer. At any point in a program, the computer can be given two alternative courses of action. Depending on the outcome of a test, the computer chooses one of these courses of action to take and then carries out the appropriate operations for <span class="No-Break">that decision.</span></p>&#13;
			<p lang="en-GB">A typical conditional operation<a id="_idIndexMarker074"/> is the <strong class="source-inline">if</strong> statement. In Python, this can be expressed as <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>z = 9                      <span class="sc-comment">  # Set z to 9</span></span>&#13;
<span>if <strong class="bold">x &gt; 5</strong>: <span class="pcode-bg">z = 20</span>           <span class="sc-comment"># If x is greater than 5, then make the value of z equal to 20.</span></span></pre>&#13;
			<p lang="en-GB">We’ve put the condition in bold, and the action is shaded. The action is carried out if, and only if, the condition is true. If the condition is not true, the action is ignored. For example, if <em class="italic">x</em> is 6, the value of <em class="italic">z</em> will be 20. If <em class="italic">x</em> is 4, the value of <em class="italic">z</em> will remain <span class="No-Break">at 9.</span></p>&#13;
			<p lang="en-GB">Computers perform simple tests whose outcome is one of the two Boolean values, <strong class="source-inline">True</strong> or <strong class="source-inline">False</strong>. More often than not, the test asks, “<em class="italic">Is this variable equal </em><span class="No-Break"><em class="italic">to zero?</em></span><span class="No-Break">”</span></p>&#13;
			<p lang="en-GB">In Python, the <strong class="source-inline">if</strong> statement has the <span class="No-Break">following form:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>if condition: action         <span class="sc-comment"># The colon is mandatory, and indicates the end of the condition</span></span></pre>&#13;
			<p lang="en-GB">The only two reserved Python elements are <strong class="source-inline">if</strong> and the colon. The term <strong class="source-inline">condition</strong> is any Python expression that returns the <strong class="source-inline">True</strong> or <strong class="source-inline">False</strong> value, and <strong class="source-inline">action</strong> is any block of instructions the computer will execute if the condition is <strong class="source-inline">True</strong>. Some programmers put the action on a new line. In this case, the action MUST be indented, such as the following <span class="No-Break"><em class="italic">Figure 2</em></span><span class="No-Break"><em class="italic">.4</em></span><span class="No-Break">:</span></p>&#13;
			<div class="_idGenObjectLayout-1">&#13;
				<div id="_idContainer023" class="IMG---Figure">&#13;
					<img class="_idGenObjectAttribute-1" src="Images/Figure_2.04_B19624.jpg" alt="Figure 2.4 – A Python program to add the first n integers" width="1134" height="303"/>&#13;
				</div>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.4 – A Python program to add the first n integers</p>&#13;
			<p lang="en-GB">Although Python lets you use any indentation, good practice suggests the indentation be <span class="No-Break">four spaces.</span></p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">The condition is <strong class="source-inline">x &gt; 5</strong>, and the action is <strong class="source-inline">z = 20</strong>. The condition<a id="_idIndexMarker075"/> is a Boolean logic expression that yields<a id="_idIndexMarker076"/> one of two outcomes – True if <em class="italic">x</em> is greater than 5 and False if <em class="italic">x</em> is not greater <span class="No-Break">than 5.</span></p>&#13;
			<h2 id="_idParaDest-36" lang="en-GB"><a id="_idTextAnchor036"/>Using a conditional expression in Python</h2>&#13;
			<p lang="en-GB">A Python program<a id="_idIndexMarker077"/> to control the temperature<a id="_idIndexMarker078"/> of a room might look something <span class="No-Break">like this:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>cold = 15                        <span class="sc-comment"># Define the temperature at which we turn on the heater</span></span>&#13;
<span>hot = 25                         <span class="sc-comment"># The temperature at which we turn on the cooler</span></span>&#13;
<span>nowTemp = getTemp()              <span class="sc-comment"># getTemp() is a function that reads the thermometer</span></span>&#13;
<span>if nowTemp &lt; cold: heat(on)      <span class="sc-comment"># If too cold, then turn on the heater</span></span>&#13;
<span>if nowTemp &gt; hot:  cool(on)      <span class="sc-comment"># If too hot, then turn on the cooler</span></span>&#13;
<span>if nowTemp &gt; cold: heat(off)     <span class="sc-comment"># If not cold, then turn off the heater</span></span>&#13;
<span>if nowTemp &lt; hot:  cool(off)     <span class="sc-comment"># If not hot, then turn off the cooler</span></span></pre>&#13;
			<p lang="en-GB">Typical Boolean conditions are <span class="No-Break">as follows:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>x == y</span>&#13;
<span>x != y</span>&#13;
<span>x &gt;  y</span>&#13;
<span>x &lt;  y</span></pre>&#13;
			<p lang="en-GB">These four conditions are <em class="italic">equal to</em>, <em class="italic">not equal to</em>, <em class="italic">greater than</em>, and <em class="italic">less than</em>, respectively. Remember<a id="_idIndexMarker079"/> that the expression <em class="italic">x == y</em> reads, “<em class="italic">Is x equal to y?</em>” Consider the following <a id="_idIndexMarker080"/>example (using the Python <span class="No-Break">IDLE interpreter):</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>&gt;&gt;&gt; x = 3</span>&#13;
<span>&gt;&gt;&gt; y = 4</span>&#13;
<span>&gt;&gt;&gt; x == y</span>&#13;
<span>False</span>&#13;
<span>&gt;&gt;&gt; x + 1 == y</span>&#13;
<span>True</span></pre>&#13;
			<h3 lang="en-GB">Examples of if statements</h3>&#13;
			<p lang="en-GB">A variable, <em class="italic">x</em>, varies between<a id="_idIndexMarker081"/> 0 and 9, inclusive. Let’s say we want <em class="italic">y</em> to be 0 if <em class="italic">x</em> is less than 5, 1 if <em class="italic">x</em> &gt; 4 and <em class="italic">x</em> &lt; 8, and 2 if <em class="italic">x</em> &gt; 7. We can express this <span class="No-Break">as follows:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>if x &lt; 5: y = 0</span>&#13;
<span>if x &gt; 4 <strong class="bold">and</strong> x &lt; 8: y = 1    <span class="sc-comment"># A compound test. Is x greater than 4 AND x is less than 8</span></span>&#13;
<span>if x &gt; 7: y = 2</span></pre>&#13;
			<p lang="en-GB">The second <strong class="source-inline">if</strong> statement tests two conditions together by using an <strong class="source-inline">and</strong> operator. Both conditions, <strong class="source-inline">x &gt; 4</strong> and <strong class="source-inline">x &lt; 8</strong>, must be true for the whole expression to <span class="No-Break">be true.</span></p>&#13;
			<p lang="en-GB">We can also use Python’s <strong class="source-inline">or</strong> operation, which means if any of the conditions are true. You can write complex conditions such as <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code">if (x &gt; 4 <strong class="bold">and</strong> x &lt; 8) or (z == 5): y = 1</pre>&#13;
			<p lang="en-GB">As in conventional arithmetic, it is necessary to use parentheses to ensure that operations are carried out in the <span class="No-Break">appropriate sequence.</span></p>&#13;
			<p lang="en-GB">We can test this code by generating sequential values of <em class="italic">x</em> and printing the corresponding value of <em class="italic">y</em>, as the following code in <span class="No-Break"><em class="italic">Figure 2</em></span><em class="italic">.5</em> demonstrates. The first statement executes the indented block for x is 0 to 9 (one less than the <span class="No-Break">range given):</span></p>&#13;
			<div class="_idGenObjectLayout-1">&#13;
				<div id="_idContainer024" class="IMG---Figure">&#13;
					<img class="_idGenObjectAttribute-1" src="Images/Figure_2.05_B19624.jpg" alt="Figure 2.5 – Demonstrating iteration " width="1184" height="364"/>&#13;
				</div>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.5 – Demonstrating iteration </p>&#13;
			<p lang="en-GB">The output from this code<a id="_idIndexMarker082"/> is <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>x =  0 y =  0</span>&#13;
<span>x =  1 y =  0</span>&#13;
<span>x =  2 y =  0</span>&#13;
<span>x =  3 y =  0</span>&#13;
<span>x =  4 y =  0</span>&#13;
<span>x =  5 y =  1</span>&#13;
<span>x =  6 y =  1</span>&#13;
<span>x =  7 y =  1</span>&#13;
<span>x =  8 y =  2</span>&#13;
<span>x =  9 y =  2</span></pre>&#13;
			<h2 id="_idParaDest-37" lang="en-GB"><a id="_idTextAnchor037"/>Python’s if … else</h2>&#13;
			<p lang="en-GB">The preceding code<a id="_idIndexMarker083"/> is correct, but it’s not efficient. If the result of the first <strong class="source-inline">if</strong> is true, the other <strong class="source-inline">if</strong> statements can’t be true, and yet they are tested. What we need is a test in which if it is true, we perform the appropriate action. If it is not true, we perform a different action. We have a word for this in English – it’s <span class="No-Break">called “else”:</span></p>&#13;
			<p lang="en-GB">Consider <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span><strong class="bold">if</strong>   x &lt; 5:          <span class="sc-comment"># Is x less than 5?</span></span>&#13;
<span>     y = 0           <span class="sc-comment"># If x is less than 5, then y = 0</span></span>&#13;
<span><strong class="bold">else</strong>:</span></pre>&#13;
			<pre class="source-code">     y = 3           <span class="sc-comment"># otherwise, y is 3</span></pre>&#13;
			<p lang="en-GB">Python has an <strong class="source-inline">elif</strong> (else if) statement that allows multiple tests. We can use <strong class="source-inline">elif</strong> to perform another <strong class="source-inline">if</strong> if the result of the first <strong class="source-inline">if</strong> is false. Consider the preceding code <span class="No-Break">using </span><span class="No-Break"><strong class="source-inline">elif</strong></span><span class="No-Break">:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span><strong class="bold">if</strong>   x &lt; 5:                <span class="sc-comment"># Is x less than 5?</span></span>&#13;
<span>     y = 0                 <span class="sc-comment"># If x is less than 5, then y = 0</span></span>&#13;
<span><strong class="bold">elif</strong> x &gt; 4 and x &lt; 8:      <span class="sc-comment"># If x is not less than 5, test whether it's between 5 and 7</span></span>&#13;
<span>     y = 1                 <span class="sc-comment"># If x is between 5 and 7, then set y to 1</span></span>&#13;
<span><strong class="bold">elif</strong> x &gt; 7:                <span class="sc-comment"># If both previous tests fail, then test whether x is 8 or more</span></span>&#13;
<span>     y = 2</span>&#13;
<span>print('x and y ', x, y)</span></pre>&#13;
			<p lang="en-GB">In this case, the computer drops out of this construct as soon as one of the conditional tests is true. It does exactly the same as the preceding example using <strong class="source-inline">if</strong> statements, but it is more efficient because it terminates as soon as a condition is satisfied. That is, once any of the tests yields true, its associated action is carried out, and then control passes to the next statement after the <strong class="source-inline">if … elif</strong> sequence (in this <span class="No-Break">case, </span><span class="No-Break"><strong class="source-inline">print</strong></span><span class="No-Break">).</span></p>&#13;
			<p lang="en-GB">The great thing about programming is that there are many ways of doing the same thing. Suppose we know that a variable, <em class="italic">x</em>, is always in the range from 0 to 10, and we want to know the value of <em class="italic">y</em> for each <em class="italic">x</em> (using the preceding algorithm). We can calculate the value of <em class="italic">y</em> as we did previously by using conditional statements <span class="No-Break">and programming.</span></p>&#13;
			<p lang="en-GB">We can implement the algorithm <a id="_idIndexMarker084"/>without using an <strong class="source-inline">if</strong> statement by creating a <em class="italic">lookup table</em> that provides the value of <em class="italic">y</em> for any <em class="italic">x</em>. Let’s call this table <strong class="source-inline">lookupY</strong> and load it with the values of <em class="italic">y</em> for <em class="italic">x</em> inputs from 0 to 10. <em class="italic">Table 2.1</em> gives the value of <em class="italic">y</em> for each <span class="No-Break">possible </span><span class="No-Break"><em class="italic">x</em></span><span class="No-Break">.</span></p>&#13;
			<table id="table001-1" class="No-Table-Style TableOverride-1">&#13;
				<colgroup>&#13;
					<col/>&#13;
					<col/>&#13;
				</colgroup>&#13;
				<thead>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-1">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><strong class="bold CharOverride-2">Input x</strong></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-2">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><strong class="bold CharOverride-2">Output y</strong></p>&#13;
						</td>&#13;
					</tr>&#13;
				</thead>&#13;
				<tbody>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">0</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">0</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">1</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">0</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">2</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">0</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">3</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">0</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">4</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">0</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">5</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">1</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">6</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">1</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">7</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">1</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">8</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">2</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-3">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">9</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-4">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">2</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-5">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">10</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-6">&#13;
							<p class="Basic-Paragraph ParaOverride-1" lang="en-GB"><span class="CharOverride-3">2</span></p>&#13;
						</td>&#13;
					</tr>&#13;
				</tbody>&#13;
			</table>&#13;
			<p class="IMG---Caption">Table 2.1 – Using a lookup table to perform a Boolean operation</p>&#13;
			<p lang="en-GB">We can code this <strong class="source-inline">lookup</strong> operation in Python in just <span class="No-Break">two lines:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>lookup  = [0,0,0,0,0,1,1,1,2,2,2]      <span class="sc-comment"># Create a lookup table</span></span>&#13;
<span>y = lookup[x]                          <span class="sc-comment"># Read the value of y from the lookup table</span></span></pre>&#13;
			<p lang="en-GB">When we simulate a computer, we need to load programs to be simulated. The next section describes how we can read a source file (in text format) from memory into <span class="No-Break">the simulator.</span></p>&#13;
			<h2 id="_idParaDest-38" lang="en-GB"><a id="_idTextAnchor038"/>Reading data from a file</h2>&#13;
			<p lang="en-GB">When testing an assembler or simulator, you need to enter the test data (the source program). This can be done in <span class="No-Break">three ways.</span></p>&#13;
			<ul>&#13;
				<li lang="en-GB">Include the data in the program – for example, <strong class="source-inline CharOverride-1">myProg = ['add r1,r2', 'inc r1', '</strong><span class="No-Break"><strong class="source-inline CharOverride-1">beq 7']</strong></span></li>&#13;
				<li lang="en-GB">Get the text from the keyboard – for example, <strong class="source-inline">myProg = input('Type </strong><span class="No-Break"><strong class="source-inline">program ')</strong></span></li>&#13;
				<li lang="en-GB">Create a text file in memory and read it from <span class="No-Break">your program</span></li>&#13;
			</ul>&#13;
			<p lang="en-GB">The first two techniques are great for testing a very short program but less so for a long source program. The third technique means that you write your source code using your favorite text editor, save it as a <strong class="source-inline">.txt</strong> file, and then read that file in <span class="No-Break">your assembler.</span></p>&#13;
			<p lang="en-GB">I often put the name of my test program in my assembler during development work to avoid typing the name (because I’m working on the same source file most of the time). Let’s suppose my file is <span class="No-Break">called </span><span class="No-Break"><strong class="source-inline">c.txt</strong></span><span class="No-Break">:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>myFile = 'E:/simPython/c.txt'          <span class="sc-comment"># This is my source text file on my computer</span></span>&#13;
<span><strong class="bold">with open</strong>(myFile,<strong class="bold">'r'</strong>) <strong class="bold">as</strong> sFile:        <span class="sc-comment"># Open the file for reading (indicated by 'r')</span></span>&#13;
<span>    newFile = sFile.<strong class="bold">readlines()</strong>        <span class="sc-comment"># Read the code and copy to newFile.</span></span></pre>&#13;
			<p lang="en-GB">In the preceding code, the <strong class="source-inline">myFile</strong> variable provides the name of the source file as a string. Then, the <strong class="source-inline">with open</strong> operation opens and reads <strong class="source-inline">myFile</strong>. This operation also closes the file after use. The preceding code opens <strong class="source-inline">c.txt</strong> for reading and creates a new <span class="No-Break">file, </span><span class="No-Break"><strong class="source-inline">sFile</strong></span><span class="No-Break">.</span></p>&#13;
			<p lang="en-GB">The <strong class="source-inline">open</strong> function can be used in three ways, <span class="No-Break">as follows:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>open('thisFile')                       <span class="sc-comment"># Open a file</span></span>&#13;
<span>open('thatFile', 'r')                  <span class="sc-comment"># Open a file for reading</span></span>&#13;
<span>open('thatFile', 'w')                  <span class="sc-comment"># Open a file for writing</span></span></pre>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">It is good practice to close a file after you have used it, with <strong class="source-inline">filename</strong>.<strong class="source-inline">close()</strong>. Because the <strong class="source-inline">with open</strong> operation automatically closes a file at the end of an operation, it is not necessary to call the <span class="No-Break"><strong class="source-inline">close()</strong></span><span class="No-Break"> function.</span></p>&#13;
			<p lang="en-GB">The <strong class="source-inline">readlines()</strong> function operates on <strong class="source-inline">sFile</strong> to create a file, <strong class="source-inline">newFile</strong>, containing a list of the lines of my source code. The following fragment of code demonstrates reading a file from disk and cleaning up the end-of-line sequences in a text file. That’s because text files are stored with an <strong class="source-inline">'\n'</strong> sequence at the end of each line, and this sequence must be removed because it is not part of the source program. We will return to string <span class="No-Break">processing later:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>#                                               <span class="sc-comment"># Test reading a file</span></span>&#13;
<span>with open("E:\simPython.txt",'r') as example:   <span class="sc-comment"># Open the file for reading</span></span>&#13;
<span>    theText = example.readlines()               <span class="sc-comment"># Read the file example</span></span>&#13;
<span>print('The source file ',theText)               <span class="sc-comment"># Display the file</span></span>&#13;
<span>for i in range(0,len(theText)):                 <span class="sc-comment"># This loop scans the file</span></span>&#13;
<span>    theText[i] = theText[i].rstrip()            <span class="sc-comment"># rstrip() removes end-of-file markers</span></span>&#13;
<span>print('The source file ',theText)</span></pre>&#13;
			<p lang="en-GB">The following is the output from this code. You can see how the <em class="italic">‘</em><strong class="source-inline">\n</strong><em class="italic">’ </em>sequences have <span class="No-Break">been removed:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>%Run testRead.py</span>&#13;
<span>The source file  ['# test file\n', 'NOP\n', ' LDRL 5\n', ' NOP\n', 'STOP']</span>&#13;
<span>The source file  ['# test file', 'NOP', ' LDRL 5', ' NOP', 'STOP']</span></pre>&#13;
			<p lang="en-GB">We’ve provided enough information to demonstrate a short Python program that implements the simple sequence detector we <span class="No-Break">described earlier.</span></p>&#13;
			<h3 lang="en-GB">Translating a token detector algorithm into Python</h3>&#13;
			<p lang="en-GB">We can readily translate our pseudocode to detect a sequence of red tokens in a stream of read/write tokens as follows. In this fragment of Python, you are invited to enter first the number of red tokens to detect, and then <strong class="source-inline">r</strong> or <strong class="source-inline">w</strong> to indicate the color of each token. Once the appropriate number of tokens has been detected, the <span class="No-Break">program terminates:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span># Simple algorithm to detect consecutive tokens</span>&#13;
<span>maxRed = int(input("How many red tokens are you looking for? "))</span>&#13;
<span>go = 1</span>&#13;
<span>numRed = 0</span>&#13;
<span>while go == 1:</span>&#13;
<span>    y = input("Which token is it? Red or white? ")</span>&#13;
<span>    if y == 'w': numRed = 0</span>&#13;
<span>    else:        numRed = numRed + 1</span>&#13;
<span>    if numRed == maxRed: go = 0</span></pre>&#13;
			<pre class="source-code">print(maxRed, "Reds found")</pre>&#13;
			<p lang="en-GB">The output of this program for a sequence I entered was <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>How many red tokens are you looking for? 3</span>&#13;
<span>Which token is it? Red or white? r</span>&#13;
<span>Which token is it? Red or white? r</span>&#13;
<span>Which token is it? Red or white? w</span>&#13;
<span>Which token is it? Red or white? r</span>&#13;
<span>Which token is it? Red or white? w</span>&#13;
<span>Which token is it? Red or white? w</span>&#13;
<span>Which token is it? Red or white? w</span>&#13;
<span>Which token is it? Red or white? r</span>&#13;
<span>Which token is it? Red or white? r</span>&#13;
<span>Which token is it? Red or white? r</span>&#13;
<span>3 Reds found</span></pre>&#13;
			<p lang="en-GB">A computer has three essential elements – an <strong class="bold">arithmetic and logical unit</strong> (<strong class="bold">ALU</strong>) that performs all arithmetic and logical operations on data, a memory that holds programs and data, and a control unit that reads the instructions from memory and executes them. In the next section, we will introduce some of the basic concepts <span class="No-Break">of memory.</span></p>&#13;
			<h1 id="_idParaDest-39" lang="en-GB"><a id="_idTextAnchor039"/>Computer memory</h1>&#13;
			<p lang="en-GB">Now, we are going to introduce the <em class="italic">concept of memory</em>, the mechanism that holds programs and data. Real or <em class="italic">physical</em> memory is implemented as DRAM, flash memory, and disk drives. This memory is part of a computer’s hardware. We do not cover physical memory in this book. Instead, we will discuss <em class="italic">abstract memory</em> and how it is modeled by Python. This is the programmer’s view <span class="No-Break">of memory.</span></p>&#13;
			<p lang="en-GB">All data is stored in physical memory, and all the data structures designed by a programmer must be mapped onto physical memory. The mapping process is the job of the operating system, and this book does not deal with the translation of abstract memory addresses into real <span class="No-Break">memory addresses.</span></p>&#13;
			<p lang="en-GB">Consider the following <span class="No-Break">Python list:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>friends = ['John', 'Jenny', 'Rumpelstiltskin']</span></pre>&#13;
			<p lang="en-GB">These three strings have the <strong class="source-inline">[0]</strong>, <strong class="source-inline">[1]</strong>, and <strong class="source-inline">[2]</strong> addresses in the <strong class="source-inline">friends</strong> list. The operating system maps these elements onto the physical memory storage locations. These strings each require a different number of physical memory locations because each one has a different length. Mercifully, computer users do not have to worry about any of that. That is the job of the <span class="No-Break">operating system.</span></p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">We will now take a brief look at the concept of memory because you have to understand the nature of memory in order to understand how computers work, and how to write programs in <span class="No-Break">assembly language.</span></p>&#13;
			<p lang="en-GB">First, consider our own memories. Human memory is a strange and <em class="italic">inexact</em> thing. An <em class="italic">event</em> triggers the recall or <em class="italic">retrieval</em> of a data element that we call a <em class="italic">memory</em>. The event may be a question that someone asks you, or it may be something that <em class="italic">reminds</em> you of an episode that took place in the past. Often, we remember information only partially, or <span class="No-Break">even incorrectly.</span></p>&#13;
			<p lang="en-GB">Human memory seems to be accessed by matching an event against stored information. That is, our memory is <em class="italic">associative</em> because we associate one memory with another. A computer’s memory operates in a very different way and is best thought of as a <em class="italic">table</em> or <em class="italic">list</em> of stored items. You need to know where an item is on the list (its address) in order to access it. We will soon meet a Python memory, which is associative and called a <em class="italic">dictionary</em>. You don’t access a dictionary with an address but, instead, with a <em class="italic">key</em> that is associated with the required <span class="No-Break">data element.</span></p>&#13;
			<p lang="en-GB"><span class="No-Break"><em class="italic">Figure 2</em></span><em class="italic">.6</em> shows how a program to find the number of red tokens in a string of tokens is stored in a hypothetical memory. I must stress that the program is conceptual rather than actual because real computer instructions use rather more primitive machine-level instructions than these. This figure, called a <em class="italic">memory map</em>, shows the location of information within the memory. It’s a <em class="italic">snapshot</em> of the memory because it represents the state of the memory at a particular instant. The memory map also includes the <em class="italic">variables</em> used by the program and a string of digits. The stored program computer stores instructions, variables, and constants in the <span class="No-Break">same memory.</span></p>&#13;
			<p lang="en-GB"><span class="No-Break"><em class="italic">Figure 2</em></span><em class="italic">.6</em> demonstrates that each location in the memory contains either an <em class="italic">instruction</em> or a <em class="italic">data element</em>. Numbers 0 to 23 in the first column are <em class="italic">addresses</em> that express the position of data elements and instructions within the memory (addresses start from 0 rather than 1 because 0 is a <span class="No-Break">valid identifier).</span></p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">The program is in locations 0 to 8, the variables in locations 9, 10, and 11, and the data (the tokens) in locations 12 to 23. You can regard the computer’s memory as a table of <em class="italic">items</em>, and the location of each item is its address – for example, memory location 1 contains the instruction <strong class="source-inline">Set numRed to 0</strong>, location 10 contains the value of the <strong class="source-inline">numRed</strong> element, and location 11 contains the value of the current data element (<strong class="source-inline">R</strong> or <strong class="source-inline">W</strong>). Locations 12 onward are in bold font to indicate that they contain the values of the sequence of tokens we <span class="No-Break">operate on.</span></p>&#13;
			<div class="_idGenObjectLayout-1">&#13;
				<div id="_idContainer025" class="IMG---Figure">&#13;
					<img class="_idGenObjectAttribute-1" src="Images/Figure_2.06_B19624.jpg" alt="Figure 2.6 – The memory map" width="1177" height="703"/>&#13;
				</div>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.6 – The memory map</p>&#13;
			<p lang="en-GB"><span class="No-Break"><em class="italic">Figure 2</em></span><em class="italic">.6</em> is an abstract view of a computer’s memory for teaching purposes. Real memory is an array of locations, each of the same size (typically, 16, 32, or 64 bits). Individual instructions may occupy one, two, or more consecutive locations, depending on the actual size of <span class="No-Break">the data.</span></p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">Although we will not describe physical memory<a id="_idIndexMarker085"/> in any detail, a few comments will help to distinguish it from abstract memory. <span class="No-Break"><em class="italic">Figure 2</em></span><em class="italic">.7 </em>illustrates the organization of actual computer <em class="italic">memory</em> (e.g., DRAM). The processor provides memory with an address on the <em class="italic">address bus</em> and a control signal that selects either a <em class="italic">read</em> or a <em class="italic">write</em> cycle. In a <em class="italic">read cycle</em>, the memory puts data onto the <em class="italic">data bus</em> for the CPU to read. In a <em class="italic">write</em> <em class="italic">cycle</em>, data from the CPU is stored in the memory. Information enters or leaves memory (or any other functional part of a computer system) via a port. A real computer has a hierarchy of memory systems implemented with different technologies – for example, DRAM for main memory, SSD for the much slower secondary storage, and high-speed cache for frequently used data and instructions. In this book, we deal with only abstract memory implemented in Python and not real physical memory. The job of the operating system is to integrate the abstract memory addresses used by the programmer with the real physical addresses of data <span class="No-Break">in memory.</span></p>&#13;
			<p lang="en-GB">A computer’s main store is composed of high-speed <strong class="bold">random-access memory</strong> (<strong class="bold">RAM</strong>) that can be written<a id="_idIndexMarker086"/> to or read from. It is invariably composed of <em class="italic">dynamic</em> semiconductor memory, DRAM (today, it’s DDR4 and DDR5 technology), and the size of a typical PC’s RAM generally ranges from 4 GB for tablets to 64 GB for high-performance systems. RAM is volatile, which means that its data is lost when you switch it off (in comparison with flash memory, which <span class="No-Break">retains data).</span></p>&#13;
			<p lang="en-GB">The term <em class="italic">dynamic</em> in the DRAM acronym describes its storage mechanism (as a charge on a capacitor, which <a id="_idIndexMarker087"/>leaks away and has to be periodically written back). From a user’s point of view, DRAM provides very cheap, large-volume storage. From a designer’s point of view, DRAM poses particular design problems because<a id="_idIndexMarker088"/> of its operating characteristics. An alternative to DRAM is <strong class="bold">static RAM</strong> (<strong class="bold">SRAM</strong>), which is easier to use and faster than DRAM but is far more expensive, preventing its use in PCs, except for special applications such as cache memory. Cache memory is a special high-speed memory that contains frequently <span class="No-Break">used data.</span></p>&#13;
			<p lang="en-GB">Secondary (physical) storage is a <strong class="bold">hard disk drive</strong> (<strong class="bold">HDD</strong>) or <strong class="bold">solid-state drive</strong> (<strong class="bold">SSD</strong>). Both these store large quantities<a id="_idIndexMarker089"/> of data and are far slower than the DRAM<a id="_idIndexMarker090"/> of the main store. Computers do not directly access the secondary store. The operating system transfers data, a page at a time, from the SSD/HDD to a computer’s main store. This is invisible to <span class="No-Break">the user.</span></p>&#13;
			<p lang="en-GB">The next step in describing abstract memory<a id="_idIndexMarker091"/> is to introduce a notation, called RTL, which is often employed<a id="_idIndexMarker092"/> to describe or define <span class="No-Break">memory transactions.</span></p>&#13;
			<div class="_idGenObjectLayout-1">&#13;
				<div id="_idContainer026" class="IMG---Figure">&#13;
					<img class="_idGenObjectAttribute-1" src="Images/Figure_2.07_B19624.jpg" alt="Figure 2.7 – The memory system" width="1685" height="1118"/>&#13;
				</div>&#13;
			</div>&#13;
			<p class="IMG---Caption">Figure 2.7 – The memory system</p>&#13;
			<h2 id="_idParaDest-40" lang="en-GB"><a id="_idTextAnchor040"/>Register transfer language</h2>&#13;
			<p lang="en-GB">Describing computer operations in words <a id="_idIndexMarker093"/>is often cumbersome. Here, we will introduce <strong class="bold">register transfer language</strong> (<strong class="bold">RTL</strong>), which makes it easy to define computer operations. RTL is neither an assembly language nor a programming language. It is <span class="No-Break">a notation.</span></p>&#13;
			<p lang="en-GB">It is important to distinguish between a memory <em class="italic">location</em> and its <em class="italic">contents</em>. Register transfer language uses square brackets, <strong class="source-inline">[ ]</strong>, to indicate the <em class="italic">contents</em> of a memory location. The expression <strong class="source-inline">[15] = maxRed</strong> is interpreted as <em class="italic">the contents of memory location 15 contain the value of maxRed</em>. If we wish to give the memory a name, we can write, for example, <strong class="source-inline">dram[15]</strong> rather than <span class="No-Break">just </span><span class="No-Break"><strong class="source-inline">[15]</strong></span><span class="No-Break">.</span></p>&#13;
			<p lang="en-GB">The <span class="CharOverride-4">←</span> symbol indicates a <em class="italic">data transfer</em>. For example, the expression [15] <span class="CharOverride-4">←</span> [15]<strong class="source-inline"> + 1 </strong>is interpreted as <em class="italic">the contents of memory location 15 are increased by 1 and the result is put back in memory location 15</em>. Consider the following <span class="No-Break">RTL expressions:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>a.    [20] = 5</span>&#13;
<span>b.    [20] ← 6</span>&#13;
<span>c.    [20] ← [6]</span>&#13;
<span>d.    [12] ← [3] + 4</span>&#13;
<span>e.    [19] ← [7] + [8]</span>&#13;
<span>f.    [4] ← [[2]]</span></pre>&#13;
			<p lang="en-GB">Expression (a) states that the contents of memory location 20 are equal to the number 5. Expression (b) states that the number 6 is put into (<em class="italic">copied</em> or <em class="italic">loaded</em> into) memory location 20. Expression (c) indicates that the contents of memory location 6 are copied into memory <span class="No-Break">location 20.</span></p>&#13;
			<p lang="en-GB">Expression (d) indicates that 4 is added to the contents of location 3, and the sum is put in location 12. Expression (e) indicates that the sum of the contents of locations 7 and 8 are added and put in <span class="No-Break">location 19.</span></p>&#13;
			<p lang="en-GB">Expression (f) indicates that the contents of location 2 are used to access memory to read a value, which is an address. The contents of that second address are put in location 4. This expression is the most interesting because it introduces the notion of a <em class="italic">pointer</em>. The value of memory location 2, <strong class="source-inline">[2]</strong>, is a pointer that indicates (points to) another memory location. If we perform <strong class="source-inline">[2] ← [2] + 1</strong>, the pointer now points to the next location<a id="_idIndexMarker094"/> in memory. We will<a id="_idIndexMarker095"/> return to this when we discuss indirect addressing (also called pointer-based addressing or <span class="No-Break">indexed addressing).</span></p>&#13;
			<p lang="en-GB">The “<span class="CharOverride-4">←</span>” RTL symbol is equivalent<a id="_idIndexMarker096"/> to the conventional assignment symbol, “=”, used in some high-level languages. RTL is not a computer language; it is a notation used to define <span class="No-Break">computer operations.</span></p>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">Nested square brackets such as <strong class="source-inline">[[4]]</strong> indicate the contents of the memory location, whose address <a id="_idIndexMarker097"/>is given by the contents of memory location 4. This is called indirect addressing. <span class="No-Break">Figure 2</span>.8 demonstrates how location 4 points at location 12, which contains the value of the required data – that <span class="No-Break">is, 9.</span></p>&#13;
			<div class="_idGenObjectLayout-1">&#13;
				<div id="_idContainer027" class="IMG---Figure">&#13;
					<img class="_idGenObjectAttribute-1" src="Images/Figure_2.08_B19624.jpg" alt="Figure 2.8 – Pointer-based addressing" width="645" height="199"/>&#13;
				</div>&#13;
			</div>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.8 – Pointer-based addressing</p>&#13;
			<h3 lang="en-GB">An example of the use of RTL</h3>&#13;
			<p lang="en-GB">Let’s look at an example<a id="_idIndexMarker098"/> of the way that RTL can be used. <span class="No-Break"><em class="italic">Figure 2</em></span><em class="italic">.9 </em>illustrates a small abstract memory with <span class="No-Break">12 locations.</span></p>&#13;
			<table id="table002-1" class="No-Table-Style">&#13;
				<colgroup>&#13;
					<col/>&#13;
					<col/>&#13;
				</colgroup>&#13;
				<thead>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-5">Address</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-5">Data</span></p>&#13;
						</td>&#13;
					</tr>&#13;
				</thead>&#13;
				<tbody>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">0</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">6</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">1</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">2</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">2</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">3</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">3</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">4</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">4</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">5</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">5</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">2</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">6</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">8</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">7</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">1</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">8</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">5</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">9</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">2</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">10</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">1</span></p>&#13;
						</td>&#13;
					</tr>&#13;
					<tr class="No-Table-Style">&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">11</span></p>&#13;
						</td>&#13;
						<td class="No-Table-Style CellOverride-7">&#13;
							<p class="IMG---Figure" lang="en-GB"><span class="CharOverride-6">5</span></p>&#13;
						</td>&#13;
					</tr>&#13;
				</tbody>&#13;
			</table>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.9 – An example of the memory map of an abstract memory</p>&#13;
			<p lang="en-GB">We wish to evaluate the expression <strong class="source-inline">X = 3 + [4] + [1+[3]] + [[10]] + [[9]*3]</strong>. This expression can be evaluated by summing its components, <span class="No-Break">as follows:</span></p>&#13;
			<ul>&#13;
				<li lang="en-GB">The first element in the sequence is the <span class="No-Break">literal 3</span></li>&#13;
				<li lang="en-GB">The expression [4] represents the contents of memory location 4 – that <span class="No-Break">is, 5.</span></li>&#13;
				<li lang="en-GB">The expression [1+[3]] represents [1 + 4] = [5] = 2</li>&#13;
				<li lang="en-GB">The expression [[10]] represents [1], which <span class="No-Break">is 2</span></li>&#13;
				<li lang="en-GB">The expression [[9]*3] represents [2*3] = [6] = 8</li>&#13;
			</ul>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">The final value is 3 + 5 + 2 + 2 + 8 = <span class="No-Break">20.</span></p>&#13;
			<p lang="en-GB">The next step is to simulate abstract memory <span class="No-Break">in Python.</span></p>&#13;
			<h3 lang="en-GB">Simulating memory in Python</h3>&#13;
			<p lang="en-GB">We now demonstrate how computer memory can be simulated in a Python program. To simulate a computer’s main memory (the immediate access store, often called DRAM), we just create a Python list. A typical PC has over 4G memory locations (2<span class="superscript">22</span>). Here, we will create tiny memories that are easy to simulate. If we call the memory <strong class="source-inline">mem</strong>, we can create a memory with eight locations and initialize them to zero with <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>mem = [0,0,0,0,0,0,0,0]         <span class="sc-comment"># Create 8-location memory. All locations set to zero</span></span></pre>&#13;
			<p lang="en-GB">This initialization mechanism is inconvenient if you have much larger memory. If so, you can use a Python facility that lets you create a list and fill it with identical elements. Let’s consider <span class="No-Break">the following:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>mem = [0]*128                   <span class="sc-comment"># Create memory with 128 locations, all set to 0</span></span></pre>&#13;
			<p lang="en-GB">To demonstrate simple operations on the memory, we’ll load two numbers into the simulated memory, retrieve them, add them, and store the result in memory using <span class="No-Break">RTL notation:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>mem[3] ← 4                      <span class="sc-comment"># Load location 3 with 4. Note this is RTL not Python</span></span>&#13;
<span>mem[5] ← 9                      <span class="sc-comment"># Load location 5 with 9</span></span>&#13;
<span>sum    ← mem[3] + mem[5]        <span class="sc-comment"># Add contents of locations 3 and  5, and put result in sum</span></span>&#13;
<span>mem[6] ← sum                    <span class="sc-comment"># Store sum in location 6</span></span></pre>&#13;
			<p lang="en-GB">We can translate this into Python and print the contents of location 6 <span class="No-Break">as follows:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>mem = [0]*8                     <span class="sc-comment"># Create memory with 8 locations, all set to 0. This is Python</span></span>&#13;
<span>mem[3] = 4                      <span class="sc-comment"># Load location 3 with 4</span></span>&#13;
<span>mem[5] = 9                      <span class="sc-comment"># Load location 5 with 9</span></span>&#13;
<span>sum    = mem[3] + mem[5]        <span class="sc-comment"># Add locations 3 and 5 and assign result to sum</span></span>&#13;
<span>mem[6] = sum                    <span class="sc-comment"># Store sum in location 6</span></span>&#13;
<span>print('mem[6] =', mem[6])       <span class="sc-comment"># Print contents of location 6</span></span>&#13;
<span>print('Memory =', mem)          <span class="sc-comment"># Print all memory locations</span></span></pre>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">As you can see, Python is remarkably close to RTL notation. Now, let’s use data in memory as a pointer. Recall that a pointer is a value that points to another location in memory. <span class="No-Break"><em class="italic">Figure 2</em></span><em class="italic">.10</em> shows an eight-location memory map with five integers stored in <span class="No-Break">the memory.</span></p>&#13;
			<p class="IMG---Figure" lang="en-GB"><img class="_idGenObjectAttribute-2" src="Images/Figure_2.09_B19624.jpg" alt="Figure 2.10 – A memory map of an addition operation" width="574" height="347"/></p>&#13;
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.10 – A memory map of an addition operation</p>&#13;
			<p lang="en-GB">We will perform the following operation, first in RTL and then <span class="No-Break">in Python:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>mem[mem[0]]← mem[mem[1]] + mem[mem[2]]</span></pre>&#13;
			<p lang="en-GB">Alternatively, if we use<a id="_idIndexMarker099"/> the simplified RTL where “<strong class="source-inline">mem</strong>” is understood, we can <a id="_idIndexMarker100"/>write this <span class="No-Break">as follows:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>[[0]]← [[1]] + [[2]]</span></pre>&#13;
			<p lang="en-GB">This operation adds the contents of the memory location pointed at by the contents of location 1 to the contents of the memory location pointed at by the contents of memory location 2, putting the result in the contents of the memory location pointed at by memory location 0. We can express this in Python <span class="No-Break">as follows:</span></p>&#13;
			<pre class="source-code" lang="en-GB">&#13;
<span>mem = [7,5,4,0,3,9,0,0]           <span class="sc-comment"># Preset the memory. Unspecified locations are set to 0</span></span>&#13;
<span>pointer0 = mem[0]                 <span class="sc-comment"># Get pointer 0 to result</span></span>&#13;
<span>pointer1 = mem[1]                 <span class="sc-comment"># Get pointer 1 to source 1</span></span>&#13;
<span>pointer2 = mem[2]                 <span class="sc-comment"># Get pointer 2 to source 2</span></span>&#13;
<span>source1  = mem[pointer1]          <span class="sc-comment"># Get source data 1</span></span>&#13;
<span>source2  = mem[pointer2]          <span class="sc-comment"># Get source data 2</span></span>&#13;
<span>result   = source1 + source2      <span class="sc-comment"># Do the addition</span></span>&#13;
<span>mem[pointer0] = result            <span class="sc-comment"># Store result at the location</span> pointed at by pointer 0</span>&#13;
<span>print('Memory =', mem)            <span class="sc-comment"># Print all memory locations</span></span></pre>&#13;
			<p class="_idGenParaOverride-1" lang="en-GB">This program will print the contents<a id="_idIndexMarker101"/> of memory as Memory <strong class="source-inline">= [7, 5, 4, 0, 3, 9, 0, 12].</strong> As you can see, memory location 7 has changed from<a id="_idIndexMarker102"/> its initial value of 0 to the value 12 – that is, the sum of the contents of memory locations 5 <span class="No-Break">and 4.</span></p>&#13;
			<h1 id="_idParaDest-41" lang="en-GB"><a id="_idTextAnchor041"/>Summary</h1>&#13;
			<p lang="en-GB">One of the main themes of this book is writing a program to simulate a computer so that you can run programs on a computer you designed yourself. To do this, it is necessary to write a simulator in a suitable high-level language. We chose Python because of its availability, simplicity, <span class="No-Break">and power.</span></p>&#13;
			<p lang="en-GB">This chapter has provided a brief overview of Python by introducing the data structures and flow-control features you need to design a computer simulator. We have covered the basics of Python in sufficient detail for you to follow simple programs that don’t use any of Python’s more <span class="No-Break">esoteric features.</span></p>&#13;
			<p lang="en-GB">Two important and very fundamental features of Python are the string (which is important, as simulation involves text processing) and the list. The list is simply a sequence of elements separated by commas and enclosed by square brackets. What is special about Python’s lists is that the elements can be any data elements, and they are easy to access – for example, element 10 of list <strong class="source-inline">x</strong> is simply <strong class="source-inline">x[10]</strong>. Equally, character 5 of string <strong class="source-inline">x = 'a test'</strong> and is expressed as <strong class="source-inline">[5]</strong> and is <strong class="source-inline">'i'</strong>. Like all computer languages, Python numbers elements <span class="No-Break">from 0.</span></p>&#13;
			<p lang="en-GB">We also looked at the function, a piece of code that can be called from anywhere in a program to carry out some operation. You don’t need functions. However, if you do the same thing often, calling a chunk of code to do the job makes the program easier to read <span class="No-Break">and debug.</span></p>&#13;
			<p lang="en-GB">We demonstrated a very simple Python program to simulate memory and took our first step on the way to <span class="No-Break">a simulator.</span></p>&#13;
			<p lang="en-GB">However, Python’s strength (simplicity) is also a weakness. More complex languages ensure correctness by providing strict rules – for example, strong typing where you must declare the type of each variable and then use it accordingly. A very common Python pitfall is wrong indenting. Code in a loop or <strong class="source-inline">if</strong> construct is indented to show it belongs to whatever construct guards it. If you make a mistake with indenting while editing a program, it will either crash or behave very differently from what <span class="No-Break">you intended.</span></p>&#13;
			<p lang="en-GB">In <a href="B19624_03.xhtml#_idTextAnchor042"><span class="No-Break"><em class="italic">Chapter 3</em></span></a>, we look at the basic structure of a <strong class="bold">central processing unit</strong> (<strong class="bold">CPU</strong>) and demonstrate how an instruction is read from memory, decoded, <span class="No-Break">and executed.</span></p>&#13;
		</div>&#13;
	</div></body></html>